



PROCESSING ROW #14: sourcefile: aa29fd1c-a88f-47c2-92fa-709c835dfe73.mp3, cnodeUserUUID: 11c34897-1946-4dfc-b59c-f646a1fc69fe, trackUUID: 8ae7853c-91cd-4e4b-bec4-f539da648776, multihash: QmNxYqKXjVb1U3HdjDYbwo3EWCwxpj8ygukjjMJHSo1UtY, dstPath: /file_storage/QmNxYqKXjVb1U3HdjDYbwo3EWCwxpj8ygukjjMJHSo1UtY
writing to db1...
Executing (7bb3d144-3bbc-481f-b4aa-50ddfabb9741): START TRANSACTION;
Executing (7bb3d144-3bbc-481f-b4aa-50ddfabb9741): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '11c34897-1946-4dfc-b59c-f646a1fc69fe' AND "File"."multihash" = 'QmNxYqKXjVb1U3HdjDYbwo3EWCwxpj8ygukjjMJHSo1UtY' AND "File"."sourceFile" = 'aa29fd1c-a88f-47c2-92fa-709c835dfe73.mp3' AND "File"."storagePath" = '/file_storage/QmNxYqKXjVb1U3HdjDYbwo3EWCwxpj8ygukjjMJHSo1UtY' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '8ae7853c-91cd-4e4b-bec4-f539da648776' LIMIT 1;
Executing (7bb3d144-3bbc-481f-b4aa-50ddfabb9741): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_91237ffdc6a548c5831d7c453cc1ab78$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('10c28615-a108-484d-b835-dd4ac06d3f78','11c34897-1946-4dfc-b59c-f646a1fc69fe','8ae7853c-91cd-4e4b-bec4-f539da648776','QmNxYqKXjVb1U3HdjDYbwo3EWCwxpj8ygukjjMJHSo1UtY','aa29fd1c-a88f-47c2-92fa-709c835dfe73.mp3','/file_storage/QmNxYqKXjVb1U3HdjDYbwo3EWCwxpj8ygukjjMJHSo1UtY','copy320','2020-03-05 17:36:42.348 +00:00','2020-03-05 17:36:42.348 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_91237ffdc6a548c5831d7c453cc1ab78$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (7bb3d144-3bbc-481f-b4aa-50ddfabb9741): COMMIT;
{ fileUUID: '10c28615-a108-484d-b835-dd4ac06d3f78',
  cnodeUserUUID: '11c34897-1946-4dfc-b59c-f646a1fc69fe',
  multihash: 'QmNxYqKXjVb1U3HdjDYbwo3EWCwxpj8ygukjjMJHSo1UtY',
  sourceFile: 'aa29fd1c-a88f-47c2-92fa-709c835dfe73.mp3',
  storagePath:
   '/file_storage/QmNxYqKXjVb1U3HdjDYbwo3EWCwxpj8ygukjjMJHSo1UtY',
  type: 'copy320',
  trackUUID: '8ae7853c-91cd-4e4b-bec4-f539da648776',
  updatedAt: 2020-03-05T17:36:42.348Z,
  createdAt: 2020-03-05T17:36:42.348Z }
writing to db2...
Executing (46f54bea-ba3a-4faa-8575-a370d5b23a9e): START TRANSACTION;
Executing (46f54bea-ba3a-4faa-8575-a370d5b23a9e): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '11c34897-1946-4dfc-b59c-f646a1fc69fe' AND "File"."multihash" = 'QmNxYqKXjVb1U3HdjDYbwo3EWCwxpj8ygukjjMJHSo1UtY' AND "File"."sourceFile" = 'aa29fd1c-a88f-47c2-92fa-709c835dfe73.mp3' AND "File"."storagePath" = '/file_storage/QmNxYqKXjVb1U3HdjDYbwo3EWCwxpj8ygukjjMJHSo1UtY' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '8ae7853c-91cd-4e4b-bec4-f539da648776' LIMIT 1;
Executing (46f54bea-ba3a-4faa-8575-a370d5b23a9e): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_2451db3139424b7ab2cca30dc7a39eea$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('0f3fc708-3fa6-47c4-bc3e-05c18f0a7244','11c34897-1946-4dfc-b59c-f646a1fc69fe','8ae7853c-91cd-4e4b-bec4-f539da648776','QmNxYqKXjVb1U3HdjDYbwo3EWCwxpj8ygukjjMJHSo1UtY','aa29fd1c-a88f-47c2-92fa-709c835dfe73.mp3','/file_storage/QmNxYqKXjVb1U3HdjDYbwo3EWCwxpj8ygukjjMJHSo1UtY','copy320','2020-03-05 17:36:43.870 +00:00','2020-03-05 17:36:43.870 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_2451db3139424b7ab2cca30dc7a39eea$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (46f54bea-ba3a-4faa-8575-a370d5b23a9e): COMMIT;
{ fileUUID: '0f3fc708-3fa6-47c4-bc3e-05c18f0a7244',
  cnodeUserUUID: '11c34897-1946-4dfc-b59c-f646a1fc69fe',
  multihash: 'QmNxYqKXjVb1U3HdjDYbwo3EWCwxpj8ygukjjMJHSo1UtY',
  sourceFile: 'aa29fd1c-a88f-47c2-92fa-709c835dfe73.mp3',
  storagePath:
   '/file_storage/QmNxYqKXjVb1U3HdjDYbwo3EWCwxpj8ygukjjMJHSo1UtY',
  type: 'copy320',
  trackUUID: '8ae7853c-91cd-4e4b-bec4-f539da648776',
  updatedAt: 2020-03-05T17:36:43.870Z,
  createdAt: 2020-03-05T17:36:43.870Z }
writing to db3...
Executing (729662e9-a94d-4b73-ac7d-60b74dc106b4): START TRANSACTION;
Executing (729662e9-a94d-4b73-ac7d-60b74dc106b4): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '11c34897-1946-4dfc-b59c-f646a1fc69fe' AND "File"."multihash" = 'QmNxYqKXjVb1U3HdjDYbwo3EWCwxpj8ygukjjMJHSo1UtY' AND "File"."sourceFile" = 'aa29fd1c-a88f-47c2-92fa-709c835dfe73.mp3' AND "File"."storagePath" = '/file_storage/QmNxYqKXjVb1U3HdjDYbwo3EWCwxpj8ygukjjMJHSo1UtY' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '8ae7853c-91cd-4e4b-bec4-f539da648776' LIMIT 1;
Executing (729662e9-a94d-4b73-ac7d-60b74dc106b4): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_a07290a8f9dd4936af2fd25af17d15b3$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('00b80c95-12e9-48e1-9886-ef26834d215d','11c34897-1946-4dfc-b59c-f646a1fc69fe','8ae7853c-91cd-4e4b-bec4-f539da648776','QmNxYqKXjVb1U3HdjDYbwo3EWCwxpj8ygukjjMJHSo1UtY','aa29fd1c-a88f-47c2-92fa-709c835dfe73.mp3','/file_storage/QmNxYqKXjVb1U3HdjDYbwo3EWCwxpj8ygukjjMJHSo1UtY','copy320','2020-03-05 17:36:45.395 +00:00','2020-03-05 17:36:45.395 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_a07290a8f9dd4936af2fd25af17d15b3$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (729662e9-a94d-4b73-ac7d-60b74dc106b4): COMMIT;
{ fileUUID: '00b80c95-12e9-48e1-9886-ef26834d215d',
  cnodeUserUUID: '11c34897-1946-4dfc-b59c-f646a1fc69fe',
  multihash: 'QmNxYqKXjVb1U3HdjDYbwo3EWCwxpj8ygukjjMJHSo1UtY',
  sourceFile: 'aa29fd1c-a88f-47c2-92fa-709c835dfe73.mp3',
  storagePath:
   '/file_storage/QmNxYqKXjVb1U3HdjDYbwo3EWCwxpj8ygukjjMJHSo1UtY',
  type: 'copy320',
  trackUUID: '8ae7853c-91cd-4e4b-bec4-f539da648776',
  updatedAt: 2020-03-05T17:36:45.395Z,
  createdAt: 2020-03-05T17:36:45.395Z }




PROCESSING ROW #15: sourcefile: 6ac3eb14-574a-43ef-9b1e-559fbc9b2bc8.mp3, cnodeUserUUID: 7eebd289-80aa-46d8-93ba-fbf49d12f054, trackUUID: 7a1e6fd8-b629-4a0b-994d-e9485256100d, multihash: QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM, dstPath: /file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM
writing to db1...
Executing (d5ffe39e-8c34-4b90-8e07-1e0d4bc6c210): START TRANSACTION;
Executing (d5ffe39e-8c34-4b90-8e07-1e0d4bc6c210): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '7eebd289-80aa-46d8-93ba-fbf49d12f054' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = '6ac3eb14-574a-43ef-9b1e-559fbc9b2bc8.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '7a1e6fd8-b629-4a0b-994d-e9485256100d' LIMIT 1;
Executing (d5ffe39e-8c34-4b90-8e07-1e0d4bc6c210): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_d0de8180d4fe40d58c3f76fc13ce5084$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('98ae13c6-ba37-4de6-a70a-f021bd62ee38','7eebd289-80aa-46d8-93ba-fbf49d12f054','7a1e6fd8-b629-4a0b-994d-e9485256100d','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','6ac3eb14-574a-43ef-9b1e-559fbc9b2bc8.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:36:45.784 +00:00','2020-03-05 17:36:45.784 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_d0de8180d4fe40d58c3f76fc13ce5084$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (d5ffe39e-8c34-4b90-8e07-1e0d4bc6c210): COMMIT;
{ fileUUID: '98ae13c6-ba37-4de6-a70a-f021bd62ee38',
  cnodeUserUUID: '7eebd289-80aa-46d8-93ba-fbf49d12f054',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: '6ac3eb14-574a-43ef-9b1e-559fbc9b2bc8.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: '7a1e6fd8-b629-4a0b-994d-e9485256100d',
  updatedAt: 2020-03-05T17:36:45.784Z,
  createdAt: 2020-03-05T17:36:45.784Z }
writing to db2...
Executing (8d202980-edad-41ab-aae6-c8fa5ed2bddd): START TRANSACTION;
Executing (8d202980-edad-41ab-aae6-c8fa5ed2bddd): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '7eebd289-80aa-46d8-93ba-fbf49d12f054' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = '6ac3eb14-574a-43ef-9b1e-559fbc9b2bc8.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '7a1e6fd8-b629-4a0b-994d-e9485256100d' LIMIT 1;
Executing (8d202980-edad-41ab-aae6-c8fa5ed2bddd): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_21a7ec6a870341b5b73941d61db4227d$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('de70e026-5c10-4285-b9c6-593149e89023','7eebd289-80aa-46d8-93ba-fbf49d12f054','7a1e6fd8-b629-4a0b-994d-e9485256100d','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','6ac3eb14-574a-43ef-9b1e-559fbc9b2bc8.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:36:46.172 +00:00','2020-03-05 17:36:46.172 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_21a7ec6a870341b5b73941d61db4227d$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (8d202980-edad-41ab-aae6-c8fa5ed2bddd): COMMIT;
{ fileUUID: 'de70e026-5c10-4285-b9c6-593149e89023',
  cnodeUserUUID: '7eebd289-80aa-46d8-93ba-fbf49d12f054',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: '6ac3eb14-574a-43ef-9b1e-559fbc9b2bc8.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: '7a1e6fd8-b629-4a0b-994d-e9485256100d',
  updatedAt: 2020-03-05T17:36:46.172Z,
  createdAt: 2020-03-05T17:36:46.172Z }
writing to db3...
Executing (83ae9e50-1725-4349-8cd2-d39626e3afb4): START TRANSACTION;
Executing (83ae9e50-1725-4349-8cd2-d39626e3afb4): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '7eebd289-80aa-46d8-93ba-fbf49d12f054' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = '6ac3eb14-574a-43ef-9b1e-559fbc9b2bc8.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '7a1e6fd8-b629-4a0b-994d-e9485256100d' LIMIT 1;
Executing (83ae9e50-1725-4349-8cd2-d39626e3afb4): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_09c4c5fa27dc4b568cb4dcae48a38cdb$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('0c9d6b49-a3c9-462a-aec1-49595eea0aad','7eebd289-80aa-46d8-93ba-fbf49d12f054','7a1e6fd8-b629-4a0b-994d-e9485256100d','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','6ac3eb14-574a-43ef-9b1e-559fbc9b2bc8.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:36:46.569 +00:00','2020-03-05 17:36:46.569 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_09c4c5fa27dc4b568cb4dcae48a38cdb$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (83ae9e50-1725-4349-8cd2-d39626e3afb4): COMMIT;
{ fileUUID: '0c9d6b49-a3c9-462a-aec1-49595eea0aad',
  cnodeUserUUID: '7eebd289-80aa-46d8-93ba-fbf49d12f054',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: '6ac3eb14-574a-43ef-9b1e-559fbc9b2bc8.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: '7a1e6fd8-b629-4a0b-994d-e9485256100d',
  updatedAt: 2020-03-05T17:36:46.569Z,
  createdAt: 2020-03-05T17:36:46.569Z }




PROCESSING ROW #16: sourcefile: e87fe08c-c6eb-46a8-80e7-f5cce5277dc0.mp3, cnodeUserUUID: e76de2ec-43f5-49ea-8c12-999b0322451b, trackUUID: 1bc82117-dadf-481e-bb39-1764cae6497b, multihash: QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM, dstPath: /file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM
writing to db1...
Executing (007694e3-ea5e-4dbd-94ca-72d2a64eb448): START TRANSACTION;
Executing (007694e3-ea5e-4dbd-94ca-72d2a64eb448): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = 'e76de2ec-43f5-49ea-8c12-999b0322451b' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = 'e87fe08c-c6eb-46a8-80e7-f5cce5277dc0.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '1bc82117-dadf-481e-bb39-1764cae6497b' LIMIT 1;
Executing (007694e3-ea5e-4dbd-94ca-72d2a64eb448): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_69eadc28f6444ee0b6df3b0428cd1b14$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('0793c152-d54a-4448-89fe-a22b8acc2a72','e76de2ec-43f5-49ea-8c12-999b0322451b','1bc82117-dadf-481e-bb39-1764cae6497b','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','e87fe08c-c6eb-46a8-80e7-f5cce5277dc0.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:36:46.982 +00:00','2020-03-05 17:36:46.982 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_69eadc28f6444ee0b6df3b0428cd1b14$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (007694e3-ea5e-4dbd-94ca-72d2a64eb448): COMMIT;
{ fileUUID: '0793c152-d54a-4448-89fe-a22b8acc2a72',
  cnodeUserUUID: 'e76de2ec-43f5-49ea-8c12-999b0322451b',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: 'e87fe08c-c6eb-46a8-80e7-f5cce5277dc0.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: '1bc82117-dadf-481e-bb39-1764cae6497b',
  updatedAt: 2020-03-05T17:36:46.982Z,
  createdAt: 2020-03-05T17:36:46.982Z }
writing to db2...
Executing (1254a0c6-0067-475f-a40e-9dfad9eb4fae): START TRANSACTION;
Executing (1254a0c6-0067-475f-a40e-9dfad9eb4fae): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = 'e76de2ec-43f5-49ea-8c12-999b0322451b' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = 'e87fe08c-c6eb-46a8-80e7-f5cce5277dc0.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '1bc82117-dadf-481e-bb39-1764cae6497b' LIMIT 1;
Executing (1254a0c6-0067-475f-a40e-9dfad9eb4fae): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_412b8b0262734647b3583c63200fc689$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('887577b6-d3f1-4e8d-b91b-bb501b6002b9','e76de2ec-43f5-49ea-8c12-999b0322451b','1bc82117-dadf-481e-bb39-1764cae6497b','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','e87fe08c-c6eb-46a8-80e7-f5cce5277dc0.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:36:47.366 +00:00','2020-03-05 17:36:47.366 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_412b8b0262734647b3583c63200fc689$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (1254a0c6-0067-475f-a40e-9dfad9eb4fae): COMMIT;
{ fileUUID: '887577b6-d3f1-4e8d-b91b-bb501b6002b9',
  cnodeUserUUID: 'e76de2ec-43f5-49ea-8c12-999b0322451b',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: 'e87fe08c-c6eb-46a8-80e7-f5cce5277dc0.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: '1bc82117-dadf-481e-bb39-1764cae6497b',
  updatedAt: 2020-03-05T17:36:47.366Z,
  createdAt: 2020-03-05T17:36:47.366Z }
writing to db3...
Executing (18e203e1-955d-4021-8f76-e56b95ef8ea7): START TRANSACTION;
Executing (18e203e1-955d-4021-8f76-e56b95ef8ea7): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = 'e76de2ec-43f5-49ea-8c12-999b0322451b' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = 'e87fe08c-c6eb-46a8-80e7-f5cce5277dc0.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '1bc82117-dadf-481e-bb39-1764cae6497b' LIMIT 1;
Executing (18e203e1-955d-4021-8f76-e56b95ef8ea7): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_b6471c5ffd0743b6b94eebc3b0476587$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('8aa60015-ef53-4c5e-bbc3-5dd5a89a787b','e76de2ec-43f5-49ea-8c12-999b0322451b','1bc82117-dadf-481e-bb39-1764cae6497b','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','e87fe08c-c6eb-46a8-80e7-f5cce5277dc0.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:36:47.779 +00:00','2020-03-05 17:36:47.779 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_b6471c5ffd0743b6b94eebc3b0476587$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (18e203e1-955d-4021-8f76-e56b95ef8ea7): COMMIT;
{ fileUUID: '8aa60015-ef53-4c5e-bbc3-5dd5a89a787b',
  cnodeUserUUID: 'e76de2ec-43f5-49ea-8c12-999b0322451b',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: 'e87fe08c-c6eb-46a8-80e7-f5cce5277dc0.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: '1bc82117-dadf-481e-bb39-1764cae6497b',
  updatedAt: 2020-03-05T17:36:47.779Z,
  createdAt: 2020-03-05T17:36:47.779Z }




PROCESSING ROW #17: sourcefile: 3eb3f695-5006-4e9b-864e-f623c6a825ae.mp3, cnodeUserUUID: 24a50328-8f9e-44f8-ac6c-3e6cd184a970, trackUUID: e0222987-96ae-4de1-81bc-30b4cf1e16e4, multihash: QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM, dstPath: /file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM
writing to db1...
Executing (b514c5e3-c52f-48de-b896-6a66be187196): START TRANSACTION;
Executing (b514c5e3-c52f-48de-b896-6a66be187196): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '24a50328-8f9e-44f8-ac6c-3e6cd184a970' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = '3eb3f695-5006-4e9b-864e-f623c6a825ae.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = 'e0222987-96ae-4de1-81bc-30b4cf1e16e4' LIMIT 1;
Executing (b514c5e3-c52f-48de-b896-6a66be187196): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_b1b07eb10a5943e8a3ad00f132c6856a$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('f05f7d9d-78fc-499b-b051-1ad9c1d844ec','24a50328-8f9e-44f8-ac6c-3e6cd184a970','e0222987-96ae-4de1-81bc-30b4cf1e16e4','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','3eb3f695-5006-4e9b-864e-f623c6a825ae.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:36:48.181 +00:00','2020-03-05 17:36:48.181 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_b1b07eb10a5943e8a3ad00f132c6856a$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (b514c5e3-c52f-48de-b896-6a66be187196): COMMIT;
{ fileUUID: 'f05f7d9d-78fc-499b-b051-1ad9c1d844ec',
  cnodeUserUUID: '24a50328-8f9e-44f8-ac6c-3e6cd184a970',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: '3eb3f695-5006-4e9b-864e-f623c6a825ae.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: 'e0222987-96ae-4de1-81bc-30b4cf1e16e4',
  updatedAt: 2020-03-05T17:36:48.181Z,
  createdAt: 2020-03-05T17:36:48.181Z }
writing to db2...
Executing (6f59bb2d-7ace-4a48-ba3d-8edc3f09bdba): START TRANSACTION;
Executing (6f59bb2d-7ace-4a48-ba3d-8edc3f09bdba): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '24a50328-8f9e-44f8-ac6c-3e6cd184a970' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = '3eb3f695-5006-4e9b-864e-f623c6a825ae.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = 'e0222987-96ae-4de1-81bc-30b4cf1e16e4' LIMIT 1;
Executing (6f59bb2d-7ace-4a48-ba3d-8edc3f09bdba): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_c11493bd1b244e1a93c6ee57b5b7b0ff$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('3df57463-60cb-4f4a-987e-fba23291dcc2','24a50328-8f9e-44f8-ac6c-3e6cd184a970','e0222987-96ae-4de1-81bc-30b4cf1e16e4','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','3eb3f695-5006-4e9b-864e-f623c6a825ae.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:36:48.589 +00:00','2020-03-05 17:36:48.589 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_c11493bd1b244e1a93c6ee57b5b7b0ff$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (6f59bb2d-7ace-4a48-ba3d-8edc3f09bdba): COMMIT;
{ fileUUID: '3df57463-60cb-4f4a-987e-fba23291dcc2',
  cnodeUserUUID: '24a50328-8f9e-44f8-ac6c-3e6cd184a970',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: '3eb3f695-5006-4e9b-864e-f623c6a825ae.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: 'e0222987-96ae-4de1-81bc-30b4cf1e16e4',
  updatedAt: 2020-03-05T17:36:48.589Z,
  createdAt: 2020-03-05T17:36:48.589Z }
writing to db3...
Executing (4c8a2351-50f6-49aa-8dbf-badcada7d013): START TRANSACTION;
Executing (4c8a2351-50f6-49aa-8dbf-badcada7d013): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '24a50328-8f9e-44f8-ac6c-3e6cd184a970' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = '3eb3f695-5006-4e9b-864e-f623c6a825ae.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = 'e0222987-96ae-4de1-81bc-30b4cf1e16e4' LIMIT 1;
Executing (4c8a2351-50f6-49aa-8dbf-badcada7d013): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_32e5e62f875443c783456c9b74123d55$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('215cf19f-1651-472d-a4ac-93a566f3e3c7','24a50328-8f9e-44f8-ac6c-3e6cd184a970','e0222987-96ae-4de1-81bc-30b4cf1e16e4','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','3eb3f695-5006-4e9b-864e-f623c6a825ae.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:36:48.983 +00:00','2020-03-05 17:36:48.983 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_32e5e62f875443c783456c9b74123d55$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (4c8a2351-50f6-49aa-8dbf-badcada7d013): COMMIT;
{ fileUUID: '215cf19f-1651-472d-a4ac-93a566f3e3c7',
  cnodeUserUUID: '24a50328-8f9e-44f8-ac6c-3e6cd184a970',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: '3eb3f695-5006-4e9b-864e-f623c6a825ae.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: 'e0222987-96ae-4de1-81bc-30b4cf1e16e4',
  updatedAt: 2020-03-05T17:36:48.983Z,
  createdAt: 2020-03-05T17:36:48.983Z }




PROCESSING ROW #18: sourcefile: a5abeb11-6aaa-4128-a3d8-d0eaf947d719.mp3, cnodeUserUUID: 1c3af114-db9e-465a-a4ab-af8e0baa0e91, trackUUID: 9dd17bea-b5dc-41fe-8796-568eb1ad65b4, multihash: QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM, dstPath: /file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM
writing to db1...
Executing (b62cf189-8cab-465a-905b-4cbb43634e27): START TRANSACTION;
Executing (b62cf189-8cab-465a-905b-4cbb43634e27): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '1c3af114-db9e-465a-a4ab-af8e0baa0e91' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = 'a5abeb11-6aaa-4128-a3d8-d0eaf947d719.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '9dd17bea-b5dc-41fe-8796-568eb1ad65b4' LIMIT 1;
Executing (b62cf189-8cab-465a-905b-4cbb43634e27): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_4aafe8a5443c44ae94264eeec4919d07$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('a6abbf4c-027f-49e4-867e-4646cbe8276c','1c3af114-db9e-465a-a4ab-af8e0baa0e91','9dd17bea-b5dc-41fe-8796-568eb1ad65b4','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','a5abeb11-6aaa-4128-a3d8-d0eaf947d719.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:36:49.387 +00:00','2020-03-05 17:36:49.387 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_4aafe8a5443c44ae94264eeec4919d07$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (b62cf189-8cab-465a-905b-4cbb43634e27): COMMIT;
{ fileUUID: 'a6abbf4c-027f-49e4-867e-4646cbe8276c',
  cnodeUserUUID: '1c3af114-db9e-465a-a4ab-af8e0baa0e91',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: 'a5abeb11-6aaa-4128-a3d8-d0eaf947d719.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: '9dd17bea-b5dc-41fe-8796-568eb1ad65b4',
  updatedAt: 2020-03-05T17:36:49.387Z,
  createdAt: 2020-03-05T17:36:49.387Z }
writing to db2...
Executing (67117e53-5b7e-4d73-b4c6-2b04dfa94ade): START TRANSACTION;
Executing (67117e53-5b7e-4d73-b4c6-2b04dfa94ade): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '1c3af114-db9e-465a-a4ab-af8e0baa0e91' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = 'a5abeb11-6aaa-4128-a3d8-d0eaf947d719.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '9dd17bea-b5dc-41fe-8796-568eb1ad65b4' LIMIT 1;
Executing (67117e53-5b7e-4d73-b4c6-2b04dfa94ade): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_d2a0671e09e64e03b3aece16538fe3dd$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('056c31ff-7e95-4f16-9d63-65da37a68b71','1c3af114-db9e-465a-a4ab-af8e0baa0e91','9dd17bea-b5dc-41fe-8796-568eb1ad65b4','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','a5abeb11-6aaa-4128-a3d8-d0eaf947d719.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:36:49.790 +00:00','2020-03-05 17:36:49.790 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_d2a0671e09e64e03b3aece16538fe3dd$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (67117e53-5b7e-4d73-b4c6-2b04dfa94ade): COMMIT;
{ fileUUID: '056c31ff-7e95-4f16-9d63-65da37a68b71',
  cnodeUserUUID: '1c3af114-db9e-465a-a4ab-af8e0baa0e91',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: 'a5abeb11-6aaa-4128-a3d8-d0eaf947d719.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: '9dd17bea-b5dc-41fe-8796-568eb1ad65b4',
  updatedAt: 2020-03-05T17:36:49.790Z,
  createdAt: 2020-03-05T17:36:49.790Z }
writing to db3...
Executing (df479f47-4b64-4c01-89a5-ffac65e39527): START TRANSACTION;
Executing (df479f47-4b64-4c01-89a5-ffac65e39527): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '1c3af114-db9e-465a-a4ab-af8e0baa0e91' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = 'a5abeb11-6aaa-4128-a3d8-d0eaf947d719.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '9dd17bea-b5dc-41fe-8796-568eb1ad65b4' LIMIT 1;
Executing (df479f47-4b64-4c01-89a5-ffac65e39527): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_9d9b29d1c52b4091addb8470240c8e41$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('2c2286ce-33de-49a2-80ee-1abf2c7cf7b9','1c3af114-db9e-465a-a4ab-af8e0baa0e91','9dd17bea-b5dc-41fe-8796-568eb1ad65b4','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','a5abeb11-6aaa-4128-a3d8-d0eaf947d719.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:36:50.193 +00:00','2020-03-05 17:36:50.193 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_9d9b29d1c52b4091addb8470240c8e41$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (df479f47-4b64-4c01-89a5-ffac65e39527): COMMIT;
{ fileUUID: '2c2286ce-33de-49a2-80ee-1abf2c7cf7b9',
  cnodeUserUUID: '1c3af114-db9e-465a-a4ab-af8e0baa0e91',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: 'a5abeb11-6aaa-4128-a3d8-d0eaf947d719.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: '9dd17bea-b5dc-41fe-8796-568eb1ad65b4',
  updatedAt: 2020-03-05T17:36:50.193Z,
  createdAt: 2020-03-05T17:36:50.193Z }




PROCESSING ROW #19: sourcefile: ebfe2343-949d-428b-b759-dd1f5840c05b.mp3, cnodeUserUUID: 9543d164-55c5-405c-82fd-0c9c6f01cd78, trackUUID: 7059938d-38fc-4044-af42-3da8860677d6, multihash: QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM, dstPath: /file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM
writing to db1...
Executing (52ca1eaf-abf3-411d-9123-2bcd9a127645): START TRANSACTION;
Executing (52ca1eaf-abf3-411d-9123-2bcd9a127645): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '9543d164-55c5-405c-82fd-0c9c6f01cd78' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = 'ebfe2343-949d-428b-b759-dd1f5840c05b.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '7059938d-38fc-4044-af42-3da8860677d6' LIMIT 1;
Executing (52ca1eaf-abf3-411d-9123-2bcd9a127645): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_b83a328e66f3467099de9bb2d3cf1509$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('468f5f4f-6b24-472c-95b0-7533afb1e099','9543d164-55c5-405c-82fd-0c9c6f01cd78','7059938d-38fc-4044-af42-3da8860677d6','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','ebfe2343-949d-428b-b759-dd1f5840c05b.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:36:50.591 +00:00','2020-03-05 17:36:50.591 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_b83a328e66f3467099de9bb2d3cf1509$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (52ca1eaf-abf3-411d-9123-2bcd9a127645): COMMIT;
{ fileUUID: '468f5f4f-6b24-472c-95b0-7533afb1e099',
  cnodeUserUUID: '9543d164-55c5-405c-82fd-0c9c6f01cd78',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: 'ebfe2343-949d-428b-b759-dd1f5840c05b.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: '7059938d-38fc-4044-af42-3da8860677d6',
  updatedAt: 2020-03-05T17:36:50.591Z,
  createdAt: 2020-03-05T17:36:50.591Z }
writing to db2...
Executing (7845042d-07a8-4d5e-a334-64d3679349b1): START TRANSACTION;
Executing (7845042d-07a8-4d5e-a334-64d3679349b1): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '9543d164-55c5-405c-82fd-0c9c6f01cd78' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = 'ebfe2343-949d-428b-b759-dd1f5840c05b.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '7059938d-38fc-4044-af42-3da8860677d6' LIMIT 1;
Executing (7845042d-07a8-4d5e-a334-64d3679349b1): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_6da293f7ece045448cb837b6f992bf69$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('72095891-cabc-44ce-8509-df2e5bda4292','9543d164-55c5-405c-82fd-0c9c6f01cd78','7059938d-38fc-4044-af42-3da8860677d6','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','ebfe2343-949d-428b-b759-dd1f5840c05b.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:36:50.991 +00:00','2020-03-05 17:36:50.991 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_6da293f7ece045448cb837b6f992bf69$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (7845042d-07a8-4d5e-a334-64d3679349b1): COMMIT;
{ fileUUID: '72095891-cabc-44ce-8509-df2e5bda4292',
  cnodeUserUUID: '9543d164-55c5-405c-82fd-0c9c6f01cd78',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: 'ebfe2343-949d-428b-b759-dd1f5840c05b.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: '7059938d-38fc-4044-af42-3da8860677d6',
  updatedAt: 2020-03-05T17:36:50.991Z,
  createdAt: 2020-03-05T17:36:50.991Z }
writing to db3...
Executing (69227103-c795-46ab-a87d-84518437ca29): START TRANSACTION;
Executing (69227103-c795-46ab-a87d-84518437ca29): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '9543d164-55c5-405c-82fd-0c9c6f01cd78' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = 'ebfe2343-949d-428b-b759-dd1f5840c05b.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '7059938d-38fc-4044-af42-3da8860677d6' LIMIT 1;
Executing (69227103-c795-46ab-a87d-84518437ca29): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_3be3c91105114c8894f820d28dbf7ae2$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('70efaca5-fffa-41b8-bb64-eb3548d75115','9543d164-55c5-405c-82fd-0c9c6f01cd78','7059938d-38fc-4044-af42-3da8860677d6','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','ebfe2343-949d-428b-b759-dd1f5840c05b.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:36:51.397 +00:00','2020-03-05 17:36:51.397 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_3be3c91105114c8894f820d28dbf7ae2$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (69227103-c795-46ab-a87d-84518437ca29): COMMIT;
{ fileUUID: '70efaca5-fffa-41b8-bb64-eb3548d75115',
  cnodeUserUUID: '9543d164-55c5-405c-82fd-0c9c6f01cd78',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: 'ebfe2343-949d-428b-b759-dd1f5840c05b.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: '7059938d-38fc-4044-af42-3da8860677d6',
  updatedAt: 2020-03-05T17:36:51.397Z,
  createdAt: 2020-03-05T17:36:51.397Z }




PROCESSING ROW #20: sourcefile: 00b93741-db56-49bb-9c48-9f2dfced6648.wav, cnodeUserUUID: d612a6c5-3077-4f3a-99a1-32c63308258f, trackUUID: e7a1152e-7ea5-4373-b09b-3094ba19fdd3, multihash: QmTM3FFj7BzQWWxeWFNhij2HBNXAM3vFQWobhnn7wAvXqC, dstPath: /file_storage/QmTM3FFj7BzQWWxeWFNhij2HBNXAM3vFQWobhnn7wAvXqC
writing to db1...
Executing (571c3a17-2537-4948-9258-0ace44ebbce3): START TRANSACTION;
Executing (571c3a17-2537-4948-9258-0ace44ebbce3): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = 'd612a6c5-3077-4f3a-99a1-32c63308258f' AND "File"."multihash" = 'QmTM3FFj7BzQWWxeWFNhij2HBNXAM3vFQWobhnn7wAvXqC' AND "File"."sourceFile" = '00b93741-db56-49bb-9c48-9f2dfced6648.wav' AND "File"."storagePath" = '/file_storage/QmTM3FFj7BzQWWxeWFNhij2HBNXAM3vFQWobhnn7wAvXqC' AND "File"."type" = 'copy320' AND "File"."trackUUID" = 'e7a1152e-7ea5-4373-b09b-3094ba19fdd3' LIMIT 1;
Executing (571c3a17-2537-4948-9258-0ace44ebbce3): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_49c1ec32ca094cf8a41fd17d69d88549$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('2ce925f2-b681-431e-a7a3-da1c6ae631c2','d612a6c5-3077-4f3a-99a1-32c63308258f','e7a1152e-7ea5-4373-b09b-3094ba19fdd3','QmTM3FFj7BzQWWxeWFNhij2HBNXAM3vFQWobhnn7wAvXqC','00b93741-db56-49bb-9c48-9f2dfced6648.wav','/file_storage/QmTM3FFj7BzQWWxeWFNhij2HBNXAM3vFQWobhnn7wAvXqC','copy320','2020-03-05 17:36:51.811 +00:00','2020-03-05 17:36:51.811 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_49c1ec32ca094cf8a41fd17d69d88549$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (571c3a17-2537-4948-9258-0ace44ebbce3): COMMIT;
{ fileUUID: '2ce925f2-b681-431e-a7a3-da1c6ae631c2',
  cnodeUserUUID: 'd612a6c5-3077-4f3a-99a1-32c63308258f',
  multihash: 'QmTM3FFj7BzQWWxeWFNhij2HBNXAM3vFQWobhnn7wAvXqC',
  sourceFile: '00b93741-db56-49bb-9c48-9f2dfced6648.wav',
  storagePath:
   '/file_storage/QmTM3FFj7BzQWWxeWFNhij2HBNXAM3vFQWobhnn7wAvXqC',
  type: 'copy320',
  trackUUID: 'e7a1152e-7ea5-4373-b09b-3094ba19fdd3',
  updatedAt: 2020-03-05T17:36:51.811Z,
  createdAt: 2020-03-05T17:36:51.811Z }
writing to db2...
Executing (0f5cac7c-9c02-485a-9c6d-a69f0b5441a9): START TRANSACTION;
Executing (0f5cac7c-9c02-485a-9c6d-a69f0b5441a9): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = 'd612a6c5-3077-4f3a-99a1-32c63308258f' AND "File"."multihash" = 'QmTM3FFj7BzQWWxeWFNhij2HBNXAM3vFQWobhnn7wAvXqC' AND "File"."sourceFile" = '00b93741-db56-49bb-9c48-9f2dfced6648.wav' AND "File"."storagePath" = '/file_storage/QmTM3FFj7BzQWWxeWFNhij2HBNXAM3vFQWobhnn7wAvXqC' AND "File"."type" = 'copy320' AND "File"."trackUUID" = 'e7a1152e-7ea5-4373-b09b-3094ba19fdd3' LIMIT 1;
Executing (0f5cac7c-9c02-485a-9c6d-a69f0b5441a9): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_411056a103674a708a78867a20c02168$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('79c682ed-9972-41dd-9fb2-78ba85b00c3e','d612a6c5-3077-4f3a-99a1-32c63308258f','e7a1152e-7ea5-4373-b09b-3094ba19fdd3','QmTM3FFj7BzQWWxeWFNhij2HBNXAM3vFQWobhnn7wAvXqC','00b93741-db56-49bb-9c48-9f2dfced6648.wav','/file_storage/QmTM3FFj7BzQWWxeWFNhij2HBNXAM3vFQWobhnn7wAvXqC','copy320','2020-03-05 17:36:52.198 +00:00','2020-03-05 17:36:52.198 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_411056a103674a708a78867a20c02168$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (0f5cac7c-9c02-485a-9c6d-a69f0b5441a9): COMMIT;
{ fileUUID: '79c682ed-9972-41dd-9fb2-78ba85b00c3e',
  cnodeUserUUID: 'd612a6c5-3077-4f3a-99a1-32c63308258f',
  multihash: 'QmTM3FFj7BzQWWxeWFNhij2HBNXAM3vFQWobhnn7wAvXqC',
  sourceFile: '00b93741-db56-49bb-9c48-9f2dfced6648.wav',
  storagePath:
   '/file_storage/QmTM3FFj7BzQWWxeWFNhij2HBNXAM3vFQWobhnn7wAvXqC',
  type: 'copy320',
  trackUUID: 'e7a1152e-7ea5-4373-b09b-3094ba19fdd3',
  updatedAt: 2020-03-05T17:36:52.198Z,
  createdAt: 2020-03-05T17:36:52.198Z }
writing to db3...
Executing (20fe1409-2fbe-4d8b-af1f-4a242c183da7): START TRANSACTION;
Executing (20fe1409-2fbe-4d8b-af1f-4a242c183da7): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = 'd612a6c5-3077-4f3a-99a1-32c63308258f' AND "File"."multihash" = 'QmTM3FFj7BzQWWxeWFNhij2HBNXAM3vFQWobhnn7wAvXqC' AND "File"."sourceFile" = '00b93741-db56-49bb-9c48-9f2dfced6648.wav' AND "File"."storagePath" = '/file_storage/QmTM3FFj7BzQWWxeWFNhij2HBNXAM3vFQWobhnn7wAvXqC' AND "File"."type" = 'copy320' AND "File"."trackUUID" = 'e7a1152e-7ea5-4373-b09b-3094ba19fdd3' LIMIT 1;
Executing (20fe1409-2fbe-4d8b-af1f-4a242c183da7): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_769c86d377ba48ec9a68e7338f40bc61$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('d80ba95c-95f0-4b01-9cc7-170957982192','d612a6c5-3077-4f3a-99a1-32c63308258f','e7a1152e-7ea5-4373-b09b-3094ba19fdd3','QmTM3FFj7BzQWWxeWFNhij2HBNXAM3vFQWobhnn7wAvXqC','00b93741-db56-49bb-9c48-9f2dfced6648.wav','/file_storage/QmTM3FFj7BzQWWxeWFNhij2HBNXAM3vFQWobhnn7wAvXqC','copy320','2020-03-05 17:36:52.580 +00:00','2020-03-05 17:36:52.580 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_769c86d377ba48ec9a68e7338f40bc61$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (20fe1409-2fbe-4d8b-af1f-4a242c183da7): COMMIT;
{ fileUUID: 'd80ba95c-95f0-4b01-9cc7-170957982192',
  cnodeUserUUID: 'd612a6c5-3077-4f3a-99a1-32c63308258f',
  multihash: 'QmTM3FFj7BzQWWxeWFNhij2HBNXAM3vFQWobhnn7wAvXqC',
  sourceFile: '00b93741-db56-49bb-9c48-9f2dfced6648.wav',
  storagePath:
   '/file_storage/QmTM3FFj7BzQWWxeWFNhij2HBNXAM3vFQWobhnn7wAvXqC',
  type: 'copy320',
  trackUUID: 'e7a1152e-7ea5-4373-b09b-3094ba19fdd3',
  updatedAt: 2020-03-05T17:36:52.580Z,
  createdAt: 2020-03-05T17:36:52.580Z }




PROCESSING ROW #21: sourcefile: 963d80b0-ab1c-45e9-a5eb-d78af31edeff.mp3, cnodeUserUUID: 11c34897-1946-4dfc-b59c-f646a1fc69fe, trackUUID: 2fa586d8-91b6-4c49-be02-87dd851ab870, multihash: QmbqjTmveubJWtajzya2x9QRDkawKZVZ3nuKrwhGRG8nLG, dstPath: /file_storage/QmbqjTmveubJWtajzya2x9QRDkawKZVZ3nuKrwhGRG8nLG
writing to db1...
Executing (38409f53-24ec-4a0d-a6ef-beb8aadb9c77): START TRANSACTION;
Executing (38409f53-24ec-4a0d-a6ef-beb8aadb9c77): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '11c34897-1946-4dfc-b59c-f646a1fc69fe' AND "File"."multihash" = 'QmbqjTmveubJWtajzya2x9QRDkawKZVZ3nuKrwhGRG8nLG' AND "File"."sourceFile" = '963d80b0-ab1c-45e9-a5eb-d78af31edeff.mp3' AND "File"."storagePath" = '/file_storage/QmbqjTmveubJWtajzya2x9QRDkawKZVZ3nuKrwhGRG8nLG' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '2fa586d8-91b6-4c49-be02-87dd851ab870' LIMIT 1;
Executing (38409f53-24ec-4a0d-a6ef-beb8aadb9c77): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_a29e3a0b9a5e425c91d6d28f3b630519$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('24dafed4-e4f6-44dd-abd7-d0d0f9602ba8','11c34897-1946-4dfc-b59c-f646a1fc69fe','2fa586d8-91b6-4c49-be02-87dd851ab870','QmbqjTmveubJWtajzya2x9QRDkawKZVZ3nuKrwhGRG8nLG','963d80b0-ab1c-45e9-a5eb-d78af31edeff.mp3','/file_storage/QmbqjTmveubJWtajzya2x9QRDkawKZVZ3nuKrwhGRG8nLG','copy320','2020-03-05 17:36:52.979 +00:00','2020-03-05 17:36:52.979 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_a29e3a0b9a5e425c91d6d28f3b630519$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (38409f53-24ec-4a0d-a6ef-beb8aadb9c77): COMMIT;
{ fileUUID: '24dafed4-e4f6-44dd-abd7-d0d0f9602ba8',
  cnodeUserUUID: '11c34897-1946-4dfc-b59c-f646a1fc69fe',
  multihash: 'QmbqjTmveubJWtajzya2x9QRDkawKZVZ3nuKrwhGRG8nLG',
  sourceFile: '963d80b0-ab1c-45e9-a5eb-d78af31edeff.mp3',
  storagePath:
   '/file_storage/QmbqjTmveubJWtajzya2x9QRDkawKZVZ3nuKrwhGRG8nLG',
  type: 'copy320',
  trackUUID: '2fa586d8-91b6-4c49-be02-87dd851ab870',
  updatedAt: 2020-03-05T17:36:52.979Z,
  createdAt: 2020-03-05T17:36:52.979Z }
writing to db2...
Executing (15f08912-9484-4ebd-9d78-166f3419db6d): START TRANSACTION;
Executing (15f08912-9484-4ebd-9d78-166f3419db6d): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '11c34897-1946-4dfc-b59c-f646a1fc69fe' AND "File"."multihash" = 'QmbqjTmveubJWtajzya2x9QRDkawKZVZ3nuKrwhGRG8nLG' AND "File"."sourceFile" = '963d80b0-ab1c-45e9-a5eb-d78af31edeff.mp3' AND "File"."storagePath" = '/file_storage/QmbqjTmveubJWtajzya2x9QRDkawKZVZ3nuKrwhGRG8nLG' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '2fa586d8-91b6-4c49-be02-87dd851ab870' LIMIT 1;
Executing (15f08912-9484-4ebd-9d78-166f3419db6d): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_4d2c08a5ed294827aed4d8e13b5eda40$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('99a05089-c3bb-4107-858b-623e65c1b679','11c34897-1946-4dfc-b59c-f646a1fc69fe','2fa586d8-91b6-4c49-be02-87dd851ab870','QmbqjTmveubJWtajzya2x9QRDkawKZVZ3nuKrwhGRG8nLG','963d80b0-ab1c-45e9-a5eb-d78af31edeff.mp3','/file_storage/QmbqjTmveubJWtajzya2x9QRDkawKZVZ3nuKrwhGRG8nLG','copy320','2020-03-05 17:36:53.377 +00:00','2020-03-05 17:36:53.377 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_4d2c08a5ed294827aed4d8e13b5eda40$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (15f08912-9484-4ebd-9d78-166f3419db6d): COMMIT;
{ fileUUID: '99a05089-c3bb-4107-858b-623e65c1b679',
  cnodeUserUUID: '11c34897-1946-4dfc-b59c-f646a1fc69fe',
  multihash: 'QmbqjTmveubJWtajzya2x9QRDkawKZVZ3nuKrwhGRG8nLG',
  sourceFile: '963d80b0-ab1c-45e9-a5eb-d78af31edeff.mp3',
  storagePath:
   '/file_storage/QmbqjTmveubJWtajzya2x9QRDkawKZVZ3nuKrwhGRG8nLG',
  type: 'copy320',
  trackUUID: '2fa586d8-91b6-4c49-be02-87dd851ab870',
  updatedAt: 2020-03-05T17:36:53.377Z,
  createdAt: 2020-03-05T17:36:53.377Z }
writing to db3...
Executing (87eaab8d-96da-4487-8bcc-29af4137120f): START TRANSACTION;
Executing (87eaab8d-96da-4487-8bcc-29af4137120f): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '11c34897-1946-4dfc-b59c-f646a1fc69fe' AND "File"."multihash" = 'QmbqjTmveubJWtajzya2x9QRDkawKZVZ3nuKrwhGRG8nLG' AND "File"."sourceFile" = '963d80b0-ab1c-45e9-a5eb-d78af31edeff.mp3' AND "File"."storagePath" = '/file_storage/QmbqjTmveubJWtajzya2x9QRDkawKZVZ3nuKrwhGRG8nLG' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '2fa586d8-91b6-4c49-be02-87dd851ab870' LIMIT 1;
Executing (87eaab8d-96da-4487-8bcc-29af4137120f): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_d6abde669e1745a7953595573f257bf0$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('76cf852b-ffd4-4328-9d4f-03c0efc875b5','11c34897-1946-4dfc-b59c-f646a1fc69fe','2fa586d8-91b6-4c49-be02-87dd851ab870','QmbqjTmveubJWtajzya2x9QRDkawKZVZ3nuKrwhGRG8nLG','963d80b0-ab1c-45e9-a5eb-d78af31edeff.mp3','/file_storage/QmbqjTmveubJWtajzya2x9QRDkawKZVZ3nuKrwhGRG8nLG','copy320','2020-03-05 17:36:53.796 +00:00','2020-03-05 17:36:53.796 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_d6abde669e1745a7953595573f257bf0$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (87eaab8d-96da-4487-8bcc-29af4137120f): COMMIT;
{ fileUUID: '76cf852b-ffd4-4328-9d4f-03c0efc875b5',
  cnodeUserUUID: '11c34897-1946-4dfc-b59c-f646a1fc69fe',
  multihash: 'QmbqjTmveubJWtajzya2x9QRDkawKZVZ3nuKrwhGRG8nLG',
  sourceFile: '963d80b0-ab1c-45e9-a5eb-d78af31edeff.mp3',
  storagePath:
   '/file_storage/QmbqjTmveubJWtajzya2x9QRDkawKZVZ3nuKrwhGRG8nLG',
  type: 'copy320',
  trackUUID: '2fa586d8-91b6-4c49-be02-87dd851ab870',
  updatedAt: 2020-03-05T17:36:53.796Z,
  createdAt: 2020-03-05T17:36:53.796Z }




PROCESSING ROW #22: sourcefile: 904f0ae1-58a2-4c12-8452-40d88d0caa9a.mp3, cnodeUserUUID: 6b0e6f13-b733-4a52-90e7-f8e7e144e1cc, trackUUID: 7201f18a-135c-4069-a7dc-cf662156b78e, multihash: QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM, dstPath: /file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM
writing to db1...
Executing (970e0c12-3edb-4405-a45e-9815cce7e520): START TRANSACTION;
Executing (970e0c12-3edb-4405-a45e-9815cce7e520): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '6b0e6f13-b733-4a52-90e7-f8e7e144e1cc' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = '904f0ae1-58a2-4c12-8452-40d88d0caa9a.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '7201f18a-135c-4069-a7dc-cf662156b78e' LIMIT 1;
Executing (970e0c12-3edb-4405-a45e-9815cce7e520): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_37c18387d15c4a299adc2dd25fa44511$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('14df70a4-1dac-4b22-baf6-933e7cb0da6f','6b0e6f13-b733-4a52-90e7-f8e7e144e1cc','7201f18a-135c-4069-a7dc-cf662156b78e','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','904f0ae1-58a2-4c12-8452-40d88d0caa9a.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:36:54.200 +00:00','2020-03-05 17:36:54.200 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_37c18387d15c4a299adc2dd25fa44511$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (970e0c12-3edb-4405-a45e-9815cce7e520): COMMIT;
{ fileUUID: '14df70a4-1dac-4b22-baf6-933e7cb0da6f',
  cnodeUserUUID: '6b0e6f13-b733-4a52-90e7-f8e7e144e1cc',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: '904f0ae1-58a2-4c12-8452-40d88d0caa9a.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: '7201f18a-135c-4069-a7dc-cf662156b78e',
  updatedAt: 2020-03-05T17:36:54.200Z,
  createdAt: 2020-03-05T17:36:54.200Z }
writing to db2...
Executing (8a716323-d42f-4170-8110-77d3cf1b1428): START TRANSACTION;
Executing (8a716323-d42f-4170-8110-77d3cf1b1428): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '6b0e6f13-b733-4a52-90e7-f8e7e144e1cc' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = '904f0ae1-58a2-4c12-8452-40d88d0caa9a.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '7201f18a-135c-4069-a7dc-cf662156b78e' LIMIT 1;
Executing (8a716323-d42f-4170-8110-77d3cf1b1428): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_59e07727b19b4f9993821b01b3c1373c$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('c145d72c-db54-4aa9-b817-2bf774a8a6e2','6b0e6f13-b733-4a52-90e7-f8e7e144e1cc','7201f18a-135c-4069-a7dc-cf662156b78e','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','904f0ae1-58a2-4c12-8452-40d88d0caa9a.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:36:54.592 +00:00','2020-03-05 17:36:54.592 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_59e07727b19b4f9993821b01b3c1373c$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (8a716323-d42f-4170-8110-77d3cf1b1428): COMMIT;
{ fileUUID: 'c145d72c-db54-4aa9-b817-2bf774a8a6e2',
  cnodeUserUUID: '6b0e6f13-b733-4a52-90e7-f8e7e144e1cc',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: '904f0ae1-58a2-4c12-8452-40d88d0caa9a.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: '7201f18a-135c-4069-a7dc-cf662156b78e',
  updatedAt: 2020-03-05T17:36:54.592Z,
  createdAt: 2020-03-05T17:36:54.592Z }
writing to db3...
Executing (f671f9b7-d2cb-4a47-a39d-bad6f9390d8c): START TRANSACTION;
Executing (f671f9b7-d2cb-4a47-a39d-bad6f9390d8c): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '6b0e6f13-b733-4a52-90e7-f8e7e144e1cc' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = '904f0ae1-58a2-4c12-8452-40d88d0caa9a.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '7201f18a-135c-4069-a7dc-cf662156b78e' LIMIT 1;
Executing (f671f9b7-d2cb-4a47-a39d-bad6f9390d8c): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_9dd5e1f70a054c5c9fade6cbe8ac0710$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('ea9f18e7-9134-4fd6-9273-e06ddf2874ab','6b0e6f13-b733-4a52-90e7-f8e7e144e1cc','7201f18a-135c-4069-a7dc-cf662156b78e','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','904f0ae1-58a2-4c12-8452-40d88d0caa9a.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:36:55.005 +00:00','2020-03-05 17:36:55.005 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_9dd5e1f70a054c5c9fade6cbe8ac0710$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (f671f9b7-d2cb-4a47-a39d-bad6f9390d8c): COMMIT;
{ fileUUID: 'ea9f18e7-9134-4fd6-9273-e06ddf2874ab',
  cnodeUserUUID: '6b0e6f13-b733-4a52-90e7-f8e7e144e1cc',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: '904f0ae1-58a2-4c12-8452-40d88d0caa9a.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: '7201f18a-135c-4069-a7dc-cf662156b78e',
  updatedAt: 2020-03-05T17:36:55.005Z,
  createdAt: 2020-03-05T17:36:55.005Z }




PROCESSING ROW #23: sourcefile: ac4df8e0-0815-4c36-bee6-655cda849a2d.mp3, cnodeUserUUID: 605b9175-fbdd-4cf4-ade6-684438f06f1f, trackUUID: b14d7c9f-5d7d-4739-bfda-aae89ecce2d8, multihash: QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM, dstPath: /file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM
writing to db1...
Executing (5b218edd-d619-4789-a0f4-49614dfc32a2): START TRANSACTION;
Executing (5b218edd-d619-4789-a0f4-49614dfc32a2): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '605b9175-fbdd-4cf4-ade6-684438f06f1f' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = 'ac4df8e0-0815-4c36-bee6-655cda849a2d.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = 'b14d7c9f-5d7d-4739-bfda-aae89ecce2d8' LIMIT 1;
Executing (5b218edd-d619-4789-a0f4-49614dfc32a2): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_5c36dc62091c469b8b75574d3916f96a$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('30e0eb4e-7f5d-4f5b-9b3d-d426d8803b22','605b9175-fbdd-4cf4-ade6-684438f06f1f','b14d7c9f-5d7d-4739-bfda-aae89ecce2d8','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','ac4df8e0-0815-4c36-bee6-655cda849a2d.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:36:55.402 +00:00','2020-03-05 17:36:55.402 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_5c36dc62091c469b8b75574d3916f96a$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (5b218edd-d619-4789-a0f4-49614dfc32a2): COMMIT;
{ fileUUID: '30e0eb4e-7f5d-4f5b-9b3d-d426d8803b22',
  cnodeUserUUID: '605b9175-fbdd-4cf4-ade6-684438f06f1f',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: 'ac4df8e0-0815-4c36-bee6-655cda849a2d.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: 'b14d7c9f-5d7d-4739-bfda-aae89ecce2d8',
  updatedAt: 2020-03-05T17:36:55.402Z,
  createdAt: 2020-03-05T17:36:55.402Z }
writing to db2...
Executing (0aa12e55-3c45-48b4-871d-68a7e9d21e57): START TRANSACTION;
Executing (0aa12e55-3c45-48b4-871d-68a7e9d21e57): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '605b9175-fbdd-4cf4-ade6-684438f06f1f' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = 'ac4df8e0-0815-4c36-bee6-655cda849a2d.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = 'b14d7c9f-5d7d-4739-bfda-aae89ecce2d8' LIMIT 1;
Executing (0aa12e55-3c45-48b4-871d-68a7e9d21e57): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_3d891ad28ac9433bb4684b980384c4f6$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('5ad0ab2b-5c0f-4de1-b823-a4305f92ef9e','605b9175-fbdd-4cf4-ade6-684438f06f1f','b14d7c9f-5d7d-4739-bfda-aae89ecce2d8','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','ac4df8e0-0815-4c36-bee6-655cda849a2d.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:36:55.822 +00:00','2020-03-05 17:36:55.822 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_3d891ad28ac9433bb4684b980384c4f6$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (0aa12e55-3c45-48b4-871d-68a7e9d21e57): COMMIT;
{ fileUUID: '5ad0ab2b-5c0f-4de1-b823-a4305f92ef9e',
  cnodeUserUUID: '605b9175-fbdd-4cf4-ade6-684438f06f1f',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: 'ac4df8e0-0815-4c36-bee6-655cda849a2d.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: 'b14d7c9f-5d7d-4739-bfda-aae89ecce2d8',
  updatedAt: 2020-03-05T17:36:55.822Z,
  createdAt: 2020-03-05T17:36:55.822Z }
writing to db3...
Executing (0be0f19d-750f-4055-9e25-087ac663a480): START TRANSACTION;
Executing (0be0f19d-750f-4055-9e25-087ac663a480): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '605b9175-fbdd-4cf4-ade6-684438f06f1f' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = 'ac4df8e0-0815-4c36-bee6-655cda849a2d.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = 'b14d7c9f-5d7d-4739-bfda-aae89ecce2d8' LIMIT 1;
Executing (0be0f19d-750f-4055-9e25-087ac663a480): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_4272630e04104efe8ccc54adbb7deb5a$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('ef412d69-d787-46f8-ac69-95139e0a24cb','605b9175-fbdd-4cf4-ade6-684438f06f1f','b14d7c9f-5d7d-4739-bfda-aae89ecce2d8','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','ac4df8e0-0815-4c36-bee6-655cda849a2d.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:36:56.223 +00:00','2020-03-05 17:36:56.223 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_4272630e04104efe8ccc54adbb7deb5a$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (0be0f19d-750f-4055-9e25-087ac663a480): COMMIT;
{ fileUUID: 'ef412d69-d787-46f8-ac69-95139e0a24cb',
  cnodeUserUUID: '605b9175-fbdd-4cf4-ade6-684438f06f1f',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: 'ac4df8e0-0815-4c36-bee6-655cda849a2d.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: 'b14d7c9f-5d7d-4739-bfda-aae89ecce2d8',
  updatedAt: 2020-03-05T17:36:56.223Z,
  createdAt: 2020-03-05T17:36:56.223Z }




PROCESSING ROW #24: sourcefile: 38d48582-bf52-4452-bf33-368d7365eb57.mp3, cnodeUserUUID: d17763a2-53ec-4ded-b2df-522c5bbd6027, trackUUID: 25375ff7-36a8-4e41-829c-0c01865f14e1, multihash: QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM, dstPath: /file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM
writing to db1...
Executing (2e285f13-4a12-4478-b8c8-6686a877c0c0): START TRANSACTION;
Executing (2e285f13-4a12-4478-b8c8-6686a877c0c0): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = 'd17763a2-53ec-4ded-b2df-522c5bbd6027' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = '38d48582-bf52-4452-bf33-368d7365eb57.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '25375ff7-36a8-4e41-829c-0c01865f14e1' LIMIT 1;
Executing (2e285f13-4a12-4478-b8c8-6686a877c0c0): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_51c19d28406244b9883cef242a8ee61d$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('6862bba9-6a75-4bba-8e93-a048912237ea','d17763a2-53ec-4ded-b2df-522c5bbd6027','25375ff7-36a8-4e41-829c-0c01865f14e1','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','38d48582-bf52-4452-bf33-368d7365eb57.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:36:56.624 +00:00','2020-03-05 17:36:56.624 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_51c19d28406244b9883cef242a8ee61d$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (2e285f13-4a12-4478-b8c8-6686a877c0c0): COMMIT;
{ fileUUID: '6862bba9-6a75-4bba-8e93-a048912237ea',
  cnodeUserUUID: 'd17763a2-53ec-4ded-b2df-522c5bbd6027',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: '38d48582-bf52-4452-bf33-368d7365eb57.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: '25375ff7-36a8-4e41-829c-0c01865f14e1',
  updatedAt: 2020-03-05T17:36:56.624Z,
  createdAt: 2020-03-05T17:36:56.624Z }
writing to db2...
Executing (41a7db5d-c081-4400-b5d1-df9d18c0b72a): START TRANSACTION;
Executing (41a7db5d-c081-4400-b5d1-df9d18c0b72a): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = 'd17763a2-53ec-4ded-b2df-522c5bbd6027' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = '38d48582-bf52-4452-bf33-368d7365eb57.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '25375ff7-36a8-4e41-829c-0c01865f14e1' LIMIT 1;
Executing (41a7db5d-c081-4400-b5d1-df9d18c0b72a): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_928ce6dc64b34be4a9700dc00a1f7f1d$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('420f4bbb-62a8-4bf4-b514-9ea2aa074e69','d17763a2-53ec-4ded-b2df-522c5bbd6027','25375ff7-36a8-4e41-829c-0c01865f14e1','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','38d48582-bf52-4452-bf33-368d7365eb57.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:36:57.015 +00:00','2020-03-05 17:36:57.015 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_928ce6dc64b34be4a9700dc00a1f7f1d$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (41a7db5d-c081-4400-b5d1-df9d18c0b72a): COMMIT;
{ fileUUID: '420f4bbb-62a8-4bf4-b514-9ea2aa074e69',
  cnodeUserUUID: 'd17763a2-53ec-4ded-b2df-522c5bbd6027',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: '38d48582-bf52-4452-bf33-368d7365eb57.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: '25375ff7-36a8-4e41-829c-0c01865f14e1',
  updatedAt: 2020-03-05T17:36:57.015Z,
  createdAt: 2020-03-05T17:36:57.015Z }
writing to db3...
Executing (bcc1c119-43f7-448c-bb2b-ce0ffba6ad92): START TRANSACTION;
Executing (bcc1c119-43f7-448c-bb2b-ce0ffba6ad92): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = 'd17763a2-53ec-4ded-b2df-522c5bbd6027' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = '38d48582-bf52-4452-bf33-368d7365eb57.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '25375ff7-36a8-4e41-829c-0c01865f14e1' LIMIT 1;
Executing (bcc1c119-43f7-448c-bb2b-ce0ffba6ad92): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_9cec14a64bdb4a36aca39802306a4726$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('7464eda0-8161-407f-bd44-0e6b5aaecff4','d17763a2-53ec-4ded-b2df-522c5bbd6027','25375ff7-36a8-4e41-829c-0c01865f14e1','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','38d48582-bf52-4452-bf33-368d7365eb57.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:36:57.407 +00:00','2020-03-05 17:36:57.407 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_9cec14a64bdb4a36aca39802306a4726$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (bcc1c119-43f7-448c-bb2b-ce0ffba6ad92): COMMIT;
{ fileUUID: '7464eda0-8161-407f-bd44-0e6b5aaecff4',
  cnodeUserUUID: 'd17763a2-53ec-4ded-b2df-522c5bbd6027',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: '38d48582-bf52-4452-bf33-368d7365eb57.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: '25375ff7-36a8-4e41-829c-0c01865f14e1',
  updatedAt: 2020-03-05T17:36:57.407Z,
  createdAt: 2020-03-05T17:36:57.407Z }




PROCESSING ROW #25: sourcefile: 2e91ee65-dc60-488a-8c46-4f378676fa40.mp3, cnodeUserUUID: 4f0c3f87-ff1a-4516-b917-83e4bae4b746, trackUUID: ca6b7a39-7a85-4048-a6e6-316d2769379a, multihash: QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM, dstPath: /file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM
writing to db1...
Executing (376bfcaf-0f52-45d8-a832-e8dc63452e2f): START TRANSACTION;
Executing (376bfcaf-0f52-45d8-a832-e8dc63452e2f): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '4f0c3f87-ff1a-4516-b917-83e4bae4b746' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = '2e91ee65-dc60-488a-8c46-4f378676fa40.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = 'ca6b7a39-7a85-4048-a6e6-316d2769379a' LIMIT 1;
Executing (376bfcaf-0f52-45d8-a832-e8dc63452e2f): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_eeb346176b4a44bd93d5e67f5a560ecf$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('e2e06e07-dee7-4e77-a52c-6cd7a9126108','4f0c3f87-ff1a-4516-b917-83e4bae4b746','ca6b7a39-7a85-4048-a6e6-316d2769379a','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','2e91ee65-dc60-488a-8c46-4f378676fa40.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:36:57.814 +00:00','2020-03-05 17:36:57.814 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_eeb346176b4a44bd93d5e67f5a560ecf$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (376bfcaf-0f52-45d8-a832-e8dc63452e2f): COMMIT;
{ fileUUID: 'e2e06e07-dee7-4e77-a52c-6cd7a9126108',
  cnodeUserUUID: '4f0c3f87-ff1a-4516-b917-83e4bae4b746',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: '2e91ee65-dc60-488a-8c46-4f378676fa40.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: 'ca6b7a39-7a85-4048-a6e6-316d2769379a',
  updatedAt: 2020-03-05T17:36:57.814Z,
  createdAt: 2020-03-05T17:36:57.814Z }
writing to db2...
Executing (0336f19d-67aa-4efa-80f0-788399c07d9d): START TRANSACTION;
Executing (0336f19d-67aa-4efa-80f0-788399c07d9d): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '4f0c3f87-ff1a-4516-b917-83e4bae4b746' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = '2e91ee65-dc60-488a-8c46-4f378676fa40.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = 'ca6b7a39-7a85-4048-a6e6-316d2769379a' LIMIT 1;
Executing (0336f19d-67aa-4efa-80f0-788399c07d9d): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_ad96be47ffec44a2a636ea016852c40a$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('7c86ca8d-1dca-45ed-a1a8-37d17d8e18db','4f0c3f87-ff1a-4516-b917-83e4bae4b746','ca6b7a39-7a85-4048-a6e6-316d2769379a','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','2e91ee65-dc60-488a-8c46-4f378676fa40.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:36:58.204 +00:00','2020-03-05 17:36:58.204 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_ad96be47ffec44a2a636ea016852c40a$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (0336f19d-67aa-4efa-80f0-788399c07d9d): COMMIT;
{ fileUUID: '7c86ca8d-1dca-45ed-a1a8-37d17d8e18db',
  cnodeUserUUID: '4f0c3f87-ff1a-4516-b917-83e4bae4b746',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: '2e91ee65-dc60-488a-8c46-4f378676fa40.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: 'ca6b7a39-7a85-4048-a6e6-316d2769379a',
  updatedAt: 2020-03-05T17:36:58.204Z,
  createdAt: 2020-03-05T17:36:58.204Z }
writing to db3...
Executing (f9213a3f-fb8c-4be8-9418-72da1b69948b): START TRANSACTION;
Executing (f9213a3f-fb8c-4be8-9418-72da1b69948b): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '4f0c3f87-ff1a-4516-b917-83e4bae4b746' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = '2e91ee65-dc60-488a-8c46-4f378676fa40.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = 'ca6b7a39-7a85-4048-a6e6-316d2769379a' LIMIT 1;
Executing (f9213a3f-fb8c-4be8-9418-72da1b69948b): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_0e7e4837dcbb4d3389fa453c3372fc22$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('b95908b8-2cfe-42ac-9373-862d0927d6de','4f0c3f87-ff1a-4516-b917-83e4bae4b746','ca6b7a39-7a85-4048-a6e6-316d2769379a','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','2e91ee65-dc60-488a-8c46-4f378676fa40.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:36:58.598 +00:00','2020-03-05 17:36:58.598 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_0e7e4837dcbb4d3389fa453c3372fc22$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (f9213a3f-fb8c-4be8-9418-72da1b69948b): COMMIT;
{ fileUUID: 'b95908b8-2cfe-42ac-9373-862d0927d6de',
  cnodeUserUUID: '4f0c3f87-ff1a-4516-b917-83e4bae4b746',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: '2e91ee65-dc60-488a-8c46-4f378676fa40.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: 'ca6b7a39-7a85-4048-a6e6-316d2769379a',
  updatedAt: 2020-03-05T17:36:58.598Z,
  createdAt: 2020-03-05T17:36:58.598Z }




PROCESSING ROW #26: sourcefile: e06cf46e-ad0c-4081-910a-8d68fb726199.mp3, cnodeUserUUID: b67a04de-52ae-4e83-a7e7-aa439a9cbbdd, trackUUID: 531d87e7-5b2f-4878-a0f6-77dd5d4b2716, multihash: QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM, dstPath: /file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM
writing to db1...
Executing (abd725e2-ff6f-4398-a57b-fde340b3e3d1): START TRANSACTION;
Executing (abd725e2-ff6f-4398-a57b-fde340b3e3d1): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = 'b67a04de-52ae-4e83-a7e7-aa439a9cbbdd' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = 'e06cf46e-ad0c-4081-910a-8d68fb726199.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '531d87e7-5b2f-4878-a0f6-77dd5d4b2716' LIMIT 1;
Executing (abd725e2-ff6f-4398-a57b-fde340b3e3d1): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_65ae46198f7242168989a657776e2797$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('5baa5a28-de4e-4308-872e-aaf86ecc1418','b67a04de-52ae-4e83-a7e7-aa439a9cbbdd','531d87e7-5b2f-4878-a0f6-77dd5d4b2716','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','e06cf46e-ad0c-4081-910a-8d68fb726199.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:36:58.980 +00:00','2020-03-05 17:36:58.980 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_65ae46198f7242168989a657776e2797$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (abd725e2-ff6f-4398-a57b-fde340b3e3d1): COMMIT;
{ fileUUID: '5baa5a28-de4e-4308-872e-aaf86ecc1418',
  cnodeUserUUID: 'b67a04de-52ae-4e83-a7e7-aa439a9cbbdd',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: 'e06cf46e-ad0c-4081-910a-8d68fb726199.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: '531d87e7-5b2f-4878-a0f6-77dd5d4b2716',
  updatedAt: 2020-03-05T17:36:58.980Z,
  createdAt: 2020-03-05T17:36:58.980Z }
writing to db2...
Executing (5a8de78e-0a4b-41df-8621-9e9f1e66ff30): START TRANSACTION;
Executing (5a8de78e-0a4b-41df-8621-9e9f1e66ff30): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = 'b67a04de-52ae-4e83-a7e7-aa439a9cbbdd' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = 'e06cf46e-ad0c-4081-910a-8d68fb726199.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '531d87e7-5b2f-4878-a0f6-77dd5d4b2716' LIMIT 1;
Executing (5a8de78e-0a4b-41df-8621-9e9f1e66ff30): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_dce599f451a54680a509fda27dd074e1$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('c43c3025-d715-4f7d-9dc6-42b74defeb88','b67a04de-52ae-4e83-a7e7-aa439a9cbbdd','531d87e7-5b2f-4878-a0f6-77dd5d4b2716','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','e06cf46e-ad0c-4081-910a-8d68fb726199.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:36:59.389 +00:00','2020-03-05 17:36:59.389 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_dce599f451a54680a509fda27dd074e1$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (5a8de78e-0a4b-41df-8621-9e9f1e66ff30): COMMIT;
{ fileUUID: 'c43c3025-d715-4f7d-9dc6-42b74defeb88',
  cnodeUserUUID: 'b67a04de-52ae-4e83-a7e7-aa439a9cbbdd',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: 'e06cf46e-ad0c-4081-910a-8d68fb726199.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: '531d87e7-5b2f-4878-a0f6-77dd5d4b2716',
  updatedAt: 2020-03-05T17:36:59.389Z,
  createdAt: 2020-03-05T17:36:59.389Z }
writing to db3...
Executing (8fcf2326-818b-4ec3-98ba-2723a7afbde9): START TRANSACTION;
Executing (8fcf2326-818b-4ec3-98ba-2723a7afbde9): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = 'b67a04de-52ae-4e83-a7e7-aa439a9cbbdd' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = 'e06cf46e-ad0c-4081-910a-8d68fb726199.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '531d87e7-5b2f-4878-a0f6-77dd5d4b2716' LIMIT 1;
Executing (8fcf2326-818b-4ec3-98ba-2723a7afbde9): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_c6818abd263f4e4d803bef6c3837c7a2$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('a84007b5-de08-4130-b2e7-afef2321c0a6','b67a04de-52ae-4e83-a7e7-aa439a9cbbdd','531d87e7-5b2f-4878-a0f6-77dd5d4b2716','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','e06cf46e-ad0c-4081-910a-8d68fb726199.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:36:59.796 +00:00','2020-03-05 17:36:59.796 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_c6818abd263f4e4d803bef6c3837c7a2$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (8fcf2326-818b-4ec3-98ba-2723a7afbde9): COMMIT;
{ fileUUID: 'a84007b5-de08-4130-b2e7-afef2321c0a6',
  cnodeUserUUID: 'b67a04de-52ae-4e83-a7e7-aa439a9cbbdd',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: 'e06cf46e-ad0c-4081-910a-8d68fb726199.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: '531d87e7-5b2f-4878-a0f6-77dd5d4b2716',
  updatedAt: 2020-03-05T17:36:59.796Z,
  createdAt: 2020-03-05T17:36:59.796Z }




PROCESSING ROW #27: sourcefile: 28a9f128-7479-4b88-96f1-2edf9ff6051e.mp3, cnodeUserUUID: 97ad9d7d-c2a2-4158-92aa-e838cd8ca866, trackUUID: 6690bde7-ca52-4300-a973-6440d241732b, multihash: QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM, dstPath: /file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM
writing to db1...
Executing (811f469a-be0c-48d0-93b5-6f4a9056bf4a): START TRANSACTION;
Executing (811f469a-be0c-48d0-93b5-6f4a9056bf4a): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '97ad9d7d-c2a2-4158-92aa-e838cd8ca866' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = '28a9f128-7479-4b88-96f1-2edf9ff6051e.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '6690bde7-ca52-4300-a973-6440d241732b' LIMIT 1;
Executing (811f469a-be0c-48d0-93b5-6f4a9056bf4a): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_573baeca21914bf88951ce4d14175a4c$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('f798a065-aabe-42be-9610-13d5e8480eef','97ad9d7d-c2a2-4158-92aa-e838cd8ca866','6690bde7-ca52-4300-a973-6440d241732b','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','28a9f128-7479-4b88-96f1-2edf9ff6051e.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:37:00.193 +00:00','2020-03-05 17:37:00.193 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_573baeca21914bf88951ce4d14175a4c$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (811f469a-be0c-48d0-93b5-6f4a9056bf4a): COMMIT;
{ fileUUID: 'f798a065-aabe-42be-9610-13d5e8480eef',
  cnodeUserUUID: '97ad9d7d-c2a2-4158-92aa-e838cd8ca866',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: '28a9f128-7479-4b88-96f1-2edf9ff6051e.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: '6690bde7-ca52-4300-a973-6440d241732b',
  updatedAt: 2020-03-05T17:37:00.193Z,
  createdAt: 2020-03-05T17:37:00.193Z }
writing to db2...
Executing (dc559ede-9cde-46f1-a2e1-46f741472dfb): START TRANSACTION;
Executing (dc559ede-9cde-46f1-a2e1-46f741472dfb): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '97ad9d7d-c2a2-4158-92aa-e838cd8ca866' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = '28a9f128-7479-4b88-96f1-2edf9ff6051e.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '6690bde7-ca52-4300-a973-6440d241732b' LIMIT 1;
Executing (dc559ede-9cde-46f1-a2e1-46f741472dfb): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_b4078dd88d9f4f148adbf18c5cac8f02$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('536d2a7c-9eba-4349-8bec-96ada4ec73fd','97ad9d7d-c2a2-4158-92aa-e838cd8ca866','6690bde7-ca52-4300-a973-6440d241732b','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','28a9f128-7479-4b88-96f1-2edf9ff6051e.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:37:00.608 +00:00','2020-03-05 17:37:00.608 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_b4078dd88d9f4f148adbf18c5cac8f02$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (dc559ede-9cde-46f1-a2e1-46f741472dfb): COMMIT;
{ fileUUID: '536d2a7c-9eba-4349-8bec-96ada4ec73fd',
  cnodeUserUUID: '97ad9d7d-c2a2-4158-92aa-e838cd8ca866',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: '28a9f128-7479-4b88-96f1-2edf9ff6051e.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: '6690bde7-ca52-4300-a973-6440d241732b',
  updatedAt: 2020-03-05T17:37:00.608Z,
  createdAt: 2020-03-05T17:37:00.608Z }
writing to db3...
Executing (816bfcce-1a93-403a-b25a-6ae8d0960eef): START TRANSACTION;
Executing (816bfcce-1a93-403a-b25a-6ae8d0960eef): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '97ad9d7d-c2a2-4158-92aa-e838cd8ca866' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = '28a9f128-7479-4b88-96f1-2edf9ff6051e.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '6690bde7-ca52-4300-a973-6440d241732b' LIMIT 1;
Executing (816bfcce-1a93-403a-b25a-6ae8d0960eef): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_9fc7019ae35f4b77aed8cee003fddf40$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('c3fd08a6-f720-4955-946b-77f56ea124de','97ad9d7d-c2a2-4158-92aa-e838cd8ca866','6690bde7-ca52-4300-a973-6440d241732b','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','28a9f128-7479-4b88-96f1-2edf9ff6051e.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:37:01.013 +00:00','2020-03-05 17:37:01.013 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_9fc7019ae35f4b77aed8cee003fddf40$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (816bfcce-1a93-403a-b25a-6ae8d0960eef): COMMIT;
{ fileUUID: 'c3fd08a6-f720-4955-946b-77f56ea124de',
  cnodeUserUUID: '97ad9d7d-c2a2-4158-92aa-e838cd8ca866',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: '28a9f128-7479-4b88-96f1-2edf9ff6051e.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: '6690bde7-ca52-4300-a973-6440d241732b',
  updatedAt: 2020-03-05T17:37:01.013Z,
  createdAt: 2020-03-05T17:37:01.013Z }




PROCESSING ROW #28: sourcefile: af1f2954-46eb-4d7a-8e64-97844ae66362.wav, cnodeUserUUID: a4182ee5-2db5-401b-812d-00fcdda4e06b, trackUUID: 03614a71-f4ba-4614-ad8d-82bfabac0bdc, multihash: Qmdxo2vjJwcWJwQ6jxjay7V7FXd7V7ko4Kt557vpQ4h9rN, dstPath: /file_storage/Qmdxo2vjJwcWJwQ6jxjay7V7FXd7V7ko4Kt557vpQ4h9rN
writing to db1...
Executing (ff2788f9-d9ca-43e9-b8e4-fefaca44ee5b): START TRANSACTION;
Executing (ff2788f9-d9ca-43e9-b8e4-fefaca44ee5b): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = 'a4182ee5-2db5-401b-812d-00fcdda4e06b' AND "File"."multihash" = 'Qmdxo2vjJwcWJwQ6jxjay7V7FXd7V7ko4Kt557vpQ4h9rN' AND "File"."sourceFile" = 'af1f2954-46eb-4d7a-8e64-97844ae66362.wav' AND "File"."storagePath" = '/file_storage/Qmdxo2vjJwcWJwQ6jxjay7V7FXd7V7ko4Kt557vpQ4h9rN' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '03614a71-f4ba-4614-ad8d-82bfabac0bdc' LIMIT 1;
Executing (ff2788f9-d9ca-43e9-b8e4-fefaca44ee5b): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_bd9c2431b0fa4b648de743ad2698ad50$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('ec1b3c52-8755-4a08-94bb-728dc1c6426c','a4182ee5-2db5-401b-812d-00fcdda4e06b','03614a71-f4ba-4614-ad8d-82bfabac0bdc','Qmdxo2vjJwcWJwQ6jxjay7V7FXd7V7ko4Kt557vpQ4h9rN','af1f2954-46eb-4d7a-8e64-97844ae66362.wav','/file_storage/Qmdxo2vjJwcWJwQ6jxjay7V7FXd7V7ko4Kt557vpQ4h9rN','copy320','2020-03-05 17:37:01.434 +00:00','2020-03-05 17:37:01.434 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_bd9c2431b0fa4b648de743ad2698ad50$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (ff2788f9-d9ca-43e9-b8e4-fefaca44ee5b): COMMIT;
{ fileUUID: 'ec1b3c52-8755-4a08-94bb-728dc1c6426c',
  cnodeUserUUID: 'a4182ee5-2db5-401b-812d-00fcdda4e06b',
  multihash: 'Qmdxo2vjJwcWJwQ6jxjay7V7FXd7V7ko4Kt557vpQ4h9rN',
  sourceFile: 'af1f2954-46eb-4d7a-8e64-97844ae66362.wav',
  storagePath:
   '/file_storage/Qmdxo2vjJwcWJwQ6jxjay7V7FXd7V7ko4Kt557vpQ4h9rN',
  type: 'copy320',
  trackUUID: '03614a71-f4ba-4614-ad8d-82bfabac0bdc',
  updatedAt: 2020-03-05T17:37:01.434Z,
  createdAt: 2020-03-05T17:37:01.434Z }
writing to db2...
Executing (dd00692d-ff7e-445b-bbdf-7436122683d8): START TRANSACTION;
Executing (dd00692d-ff7e-445b-bbdf-7436122683d8): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = 'a4182ee5-2db5-401b-812d-00fcdda4e06b' AND "File"."multihash" = 'Qmdxo2vjJwcWJwQ6jxjay7V7FXd7V7ko4Kt557vpQ4h9rN' AND "File"."sourceFile" = 'af1f2954-46eb-4d7a-8e64-97844ae66362.wav' AND "File"."storagePath" = '/file_storage/Qmdxo2vjJwcWJwQ6jxjay7V7FXd7V7ko4Kt557vpQ4h9rN' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '03614a71-f4ba-4614-ad8d-82bfabac0bdc' LIMIT 1;
Executing (dd00692d-ff7e-445b-bbdf-7436122683d8): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_107f87ffe3824e63bba4d6ee9fc5fa17$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('7a672edb-4b42-4890-8bc3-6e528b8a98cb','a4182ee5-2db5-401b-812d-00fcdda4e06b','03614a71-f4ba-4614-ad8d-82bfabac0bdc','Qmdxo2vjJwcWJwQ6jxjay7V7FXd7V7ko4Kt557vpQ4h9rN','af1f2954-46eb-4d7a-8e64-97844ae66362.wav','/file_storage/Qmdxo2vjJwcWJwQ6jxjay7V7FXd7V7ko4Kt557vpQ4h9rN','copy320','2020-03-05 17:37:01.845 +00:00','2020-03-05 17:37:01.845 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_107f87ffe3824e63bba4d6ee9fc5fa17$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (dd00692d-ff7e-445b-bbdf-7436122683d8): COMMIT;
{ fileUUID: '7a672edb-4b42-4890-8bc3-6e528b8a98cb',
  cnodeUserUUID: 'a4182ee5-2db5-401b-812d-00fcdda4e06b',
  multihash: 'Qmdxo2vjJwcWJwQ6jxjay7V7FXd7V7ko4Kt557vpQ4h9rN',
  sourceFile: 'af1f2954-46eb-4d7a-8e64-97844ae66362.wav',
  storagePath:
   '/file_storage/Qmdxo2vjJwcWJwQ6jxjay7V7FXd7V7ko4Kt557vpQ4h9rN',
  type: 'copy320',
  trackUUID: '03614a71-f4ba-4614-ad8d-82bfabac0bdc',
  updatedAt: 2020-03-05T17:37:01.845Z,
  createdAt: 2020-03-05T17:37:01.845Z }
writing to db3...
Executing (a180a0cf-1917-484a-8695-4a4cf6cc2ae6): START TRANSACTION;
Executing (a180a0cf-1917-484a-8695-4a4cf6cc2ae6): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = 'a4182ee5-2db5-401b-812d-00fcdda4e06b' AND "File"."multihash" = 'Qmdxo2vjJwcWJwQ6jxjay7V7FXd7V7ko4Kt557vpQ4h9rN' AND "File"."sourceFile" = 'af1f2954-46eb-4d7a-8e64-97844ae66362.wav' AND "File"."storagePath" = '/file_storage/Qmdxo2vjJwcWJwQ6jxjay7V7FXd7V7ko4Kt557vpQ4h9rN' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '03614a71-f4ba-4614-ad8d-82bfabac0bdc' LIMIT 1;
Executing (a180a0cf-1917-484a-8695-4a4cf6cc2ae6): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_c2d30ea13b4e495e847916c34abaefb9$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('5f60f52d-b918-4ad9-a804-dc0028990d14','a4182ee5-2db5-401b-812d-00fcdda4e06b','03614a71-f4ba-4614-ad8d-82bfabac0bdc','Qmdxo2vjJwcWJwQ6jxjay7V7FXd7V7ko4Kt557vpQ4h9rN','af1f2954-46eb-4d7a-8e64-97844ae66362.wav','/file_storage/Qmdxo2vjJwcWJwQ6jxjay7V7FXd7V7ko4Kt557vpQ4h9rN','copy320','2020-03-05 17:37:02.263 +00:00','2020-03-05 17:37:02.263 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_c2d30ea13b4e495e847916c34abaefb9$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (a180a0cf-1917-484a-8695-4a4cf6cc2ae6): COMMIT;
{ fileUUID: '5f60f52d-b918-4ad9-a804-dc0028990d14',
  cnodeUserUUID: 'a4182ee5-2db5-401b-812d-00fcdda4e06b',
  multihash: 'Qmdxo2vjJwcWJwQ6jxjay7V7FXd7V7ko4Kt557vpQ4h9rN',
  sourceFile: 'af1f2954-46eb-4d7a-8e64-97844ae66362.wav',
  storagePath:
   '/file_storage/Qmdxo2vjJwcWJwQ6jxjay7V7FXd7V7ko4Kt557vpQ4h9rN',
  type: 'copy320',
  trackUUID: '03614a71-f4ba-4614-ad8d-82bfabac0bdc',
  updatedAt: 2020-03-05T17:37:02.263Z,
  createdAt: 2020-03-05T17:37:02.263Z }




PROCESSING ROW #29: sourcefile: bb07ba82-a7f4-4d0c-b90d-405a6e83d55d.mp3, cnodeUserUUID: 11c34897-1946-4dfc-b59c-f646a1fc69fe, trackUUID: f494d35a-352d-40e5-8378-48966f4ef568, multihash: QmTGtXeuvUCpUsiNhs1rVtoffzUR2TjxiTJLFHkNDB9Jfr, dstPath: /file_storage/QmTGtXeuvUCpUsiNhs1rVtoffzUR2TjxiTJLFHkNDB9Jfr
writing to db1...
Executing (5883b6b9-b0a6-464e-b2bc-17b4252965ad): START TRANSACTION;
Executing (5883b6b9-b0a6-464e-b2bc-17b4252965ad): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '11c34897-1946-4dfc-b59c-f646a1fc69fe' AND "File"."multihash" = 'QmTGtXeuvUCpUsiNhs1rVtoffzUR2TjxiTJLFHkNDB9Jfr' AND "File"."sourceFile" = 'bb07ba82-a7f4-4d0c-b90d-405a6e83d55d.mp3' AND "File"."storagePath" = '/file_storage/QmTGtXeuvUCpUsiNhs1rVtoffzUR2TjxiTJLFHkNDB9Jfr' AND "File"."type" = 'copy320' AND "File"."trackUUID" = 'f494d35a-352d-40e5-8378-48966f4ef568' LIMIT 1;
Executing (5883b6b9-b0a6-464e-b2bc-17b4252965ad): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_859d136a7c8d4cb197983d1ff510523b$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('a5729728-1c14-4f53-983a-e1923d8a016e','11c34897-1946-4dfc-b59c-f646a1fc69fe','f494d35a-352d-40e5-8378-48966f4ef568','QmTGtXeuvUCpUsiNhs1rVtoffzUR2TjxiTJLFHkNDB9Jfr','bb07ba82-a7f4-4d0c-b90d-405a6e83d55d.mp3','/file_storage/QmTGtXeuvUCpUsiNhs1rVtoffzUR2TjxiTJLFHkNDB9Jfr','copy320','2020-03-05 17:37:02.691 +00:00','2020-03-05 17:37:02.691 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_859d136a7c8d4cb197983d1ff510523b$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (5883b6b9-b0a6-464e-b2bc-17b4252965ad): COMMIT;
{ fileUUID: 'a5729728-1c14-4f53-983a-e1923d8a016e',
  cnodeUserUUID: '11c34897-1946-4dfc-b59c-f646a1fc69fe',
  multihash: 'QmTGtXeuvUCpUsiNhs1rVtoffzUR2TjxiTJLFHkNDB9Jfr',
  sourceFile: 'bb07ba82-a7f4-4d0c-b90d-405a6e83d55d.mp3',
  storagePath:
   '/file_storage/QmTGtXeuvUCpUsiNhs1rVtoffzUR2TjxiTJLFHkNDB9Jfr',
  type: 'copy320',
  trackUUID: 'f494d35a-352d-40e5-8378-48966f4ef568',
  updatedAt: 2020-03-05T17:37:02.691Z,
  createdAt: 2020-03-05T17:37:02.691Z }
writing to db2...
Executing (9d93f9c7-b6eb-41ab-a3a5-603b2ee33542): START TRANSACTION;
Executing (9d93f9c7-b6eb-41ab-a3a5-603b2ee33542): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '11c34897-1946-4dfc-b59c-f646a1fc69fe' AND "File"."multihash" = 'QmTGtXeuvUCpUsiNhs1rVtoffzUR2TjxiTJLFHkNDB9Jfr' AND "File"."sourceFile" = 'bb07ba82-a7f4-4d0c-b90d-405a6e83d55d.mp3' AND "File"."storagePath" = '/file_storage/QmTGtXeuvUCpUsiNhs1rVtoffzUR2TjxiTJLFHkNDB9Jfr' AND "File"."type" = 'copy320' AND "File"."trackUUID" = 'f494d35a-352d-40e5-8378-48966f4ef568' LIMIT 1;
Executing (9d93f9c7-b6eb-41ab-a3a5-603b2ee33542): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_068fcf35abc248a2936970f8ae4c0ba8$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('cdefd4ba-d5cf-4d43-a3a8-c4535d49644c','11c34897-1946-4dfc-b59c-f646a1fc69fe','f494d35a-352d-40e5-8378-48966f4ef568','QmTGtXeuvUCpUsiNhs1rVtoffzUR2TjxiTJLFHkNDB9Jfr','bb07ba82-a7f4-4d0c-b90d-405a6e83d55d.mp3','/file_storage/QmTGtXeuvUCpUsiNhs1rVtoffzUR2TjxiTJLFHkNDB9Jfr','copy320','2020-03-05 17:37:03.101 +00:00','2020-03-05 17:37:03.101 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_068fcf35abc248a2936970f8ae4c0ba8$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (9d93f9c7-b6eb-41ab-a3a5-603b2ee33542): COMMIT;
{ fileUUID: 'cdefd4ba-d5cf-4d43-a3a8-c4535d49644c',
  cnodeUserUUID: '11c34897-1946-4dfc-b59c-f646a1fc69fe',
  multihash: 'QmTGtXeuvUCpUsiNhs1rVtoffzUR2TjxiTJLFHkNDB9Jfr',
  sourceFile: 'bb07ba82-a7f4-4d0c-b90d-405a6e83d55d.mp3',
  storagePath:
   '/file_storage/QmTGtXeuvUCpUsiNhs1rVtoffzUR2TjxiTJLFHkNDB9Jfr',
  type: 'copy320',
  trackUUID: 'f494d35a-352d-40e5-8378-48966f4ef568',
  updatedAt: 2020-03-05T17:37:03.101Z,
  createdAt: 2020-03-05T17:37:03.101Z }
writing to db3...
Executing (f8e18c53-170a-4bd7-9fd5-403ac16ebea1): START TRANSACTION;
Executing (f8e18c53-170a-4bd7-9fd5-403ac16ebea1): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '11c34897-1946-4dfc-b59c-f646a1fc69fe' AND "File"."multihash" = 'QmTGtXeuvUCpUsiNhs1rVtoffzUR2TjxiTJLFHkNDB9Jfr' AND "File"."sourceFile" = 'bb07ba82-a7f4-4d0c-b90d-405a6e83d55d.mp3' AND "File"."storagePath" = '/file_storage/QmTGtXeuvUCpUsiNhs1rVtoffzUR2TjxiTJLFHkNDB9Jfr' AND "File"."type" = 'copy320' AND "File"."trackUUID" = 'f494d35a-352d-40e5-8378-48966f4ef568' LIMIT 1;
Executing (f8e18c53-170a-4bd7-9fd5-403ac16ebea1): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_3042eb006ee64decb58365e5abff5874$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('63a7801a-dcdb-4c41-bf3c-d781dc8170b0','11c34897-1946-4dfc-b59c-f646a1fc69fe','f494d35a-352d-40e5-8378-48966f4ef568','QmTGtXeuvUCpUsiNhs1rVtoffzUR2TjxiTJLFHkNDB9Jfr','bb07ba82-a7f4-4d0c-b90d-405a6e83d55d.mp3','/file_storage/QmTGtXeuvUCpUsiNhs1rVtoffzUR2TjxiTJLFHkNDB9Jfr','copy320','2020-03-05 17:37:03.497 +00:00','2020-03-05 17:37:03.497 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_3042eb006ee64decb58365e5abff5874$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (f8e18c53-170a-4bd7-9fd5-403ac16ebea1): COMMIT;
{ fileUUID: '63a7801a-dcdb-4c41-bf3c-d781dc8170b0',
  cnodeUserUUID: '11c34897-1946-4dfc-b59c-f646a1fc69fe',
  multihash: 'QmTGtXeuvUCpUsiNhs1rVtoffzUR2TjxiTJLFHkNDB9Jfr',
  sourceFile: 'bb07ba82-a7f4-4d0c-b90d-405a6e83d55d.mp3',
  storagePath:
   '/file_storage/QmTGtXeuvUCpUsiNhs1rVtoffzUR2TjxiTJLFHkNDB9Jfr',
  type: 'copy320',
  trackUUID: 'f494d35a-352d-40e5-8378-48966f4ef568',
  updatedAt: 2020-03-05T17:37:03.497Z,
  createdAt: 2020-03-05T17:37:03.497Z }




PROCESSING ROW #30: sourcefile: c580cbb7-4876-4c40-99c4-e61089a637f1.mp3, cnodeUserUUID: 981a5026-6a7c-4cc0-9d23-a990203806e0, trackUUID: 420e2e3f-e273-4df5-af27-d0a569e5ea9d, multihash: QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM, dstPath: /file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM
writing to db1...
Executing (7d779714-0441-4942-996b-3fa02cf91360): START TRANSACTION;
Executing (7d779714-0441-4942-996b-3fa02cf91360): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '981a5026-6a7c-4cc0-9d23-a990203806e0' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = 'c580cbb7-4876-4c40-99c4-e61089a637f1.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '420e2e3f-e273-4df5-af27-d0a569e5ea9d' LIMIT 1;
Executing (7d779714-0441-4942-996b-3fa02cf91360): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_3349d573ca354634ad67d8d7424efa76$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('7f4112d4-7cbf-4960-8abc-2e976d9c89be','981a5026-6a7c-4cc0-9d23-a990203806e0','420e2e3f-e273-4df5-af27-d0a569e5ea9d','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','c580cbb7-4876-4c40-99c4-e61089a637f1.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:37:03.912 +00:00','2020-03-05 17:37:03.912 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_3349d573ca354634ad67d8d7424efa76$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (7d779714-0441-4942-996b-3fa02cf91360): COMMIT;
{ fileUUID: '7f4112d4-7cbf-4960-8abc-2e976d9c89be',
  cnodeUserUUID: '981a5026-6a7c-4cc0-9d23-a990203806e0',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: 'c580cbb7-4876-4c40-99c4-e61089a637f1.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: '420e2e3f-e273-4df5-af27-d0a569e5ea9d',
  updatedAt: 2020-03-05T17:37:03.912Z,
  createdAt: 2020-03-05T17:37:03.912Z }
writing to db2...
Executing (28134071-7876-4965-a8e7-171f07616cff): START TRANSACTION;
Executing (28134071-7876-4965-a8e7-171f07616cff): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '981a5026-6a7c-4cc0-9d23-a990203806e0' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = 'c580cbb7-4876-4c40-99c4-e61089a637f1.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '420e2e3f-e273-4df5-af27-d0a569e5ea9d' LIMIT 1;
Executing (28134071-7876-4965-a8e7-171f07616cff): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_fd4596bef213470b931d6c0f3bd463c3$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('1e7edb15-e808-4e7c-8e94-39353bd24536','981a5026-6a7c-4cc0-9d23-a990203806e0','420e2e3f-e273-4df5-af27-d0a569e5ea9d','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','c580cbb7-4876-4c40-99c4-e61089a637f1.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:37:04.307 +00:00','2020-03-05 17:37:04.307 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_fd4596bef213470b931d6c0f3bd463c3$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (28134071-7876-4965-a8e7-171f07616cff): COMMIT;
{ fileUUID: '1e7edb15-e808-4e7c-8e94-39353bd24536',
  cnodeUserUUID: '981a5026-6a7c-4cc0-9d23-a990203806e0',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: 'c580cbb7-4876-4c40-99c4-e61089a637f1.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: '420e2e3f-e273-4df5-af27-d0a569e5ea9d',
  updatedAt: 2020-03-05T17:37:04.307Z,
  createdAt: 2020-03-05T17:37:04.307Z }
writing to db3...
Executing (31560578-edcb-445c-8546-3923258fcf4f): START TRANSACTION;
Executing (31560578-edcb-445c-8546-3923258fcf4f): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '981a5026-6a7c-4cc0-9d23-a990203806e0' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = 'c580cbb7-4876-4c40-99c4-e61089a637f1.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '420e2e3f-e273-4df5-af27-d0a569e5ea9d' LIMIT 1;
Executing (31560578-edcb-445c-8546-3923258fcf4f): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_46e2068385004cdf94d5610b1715ee37$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('561a69c2-7d43-4980-ab11-ebc5d42c39f2','981a5026-6a7c-4cc0-9d23-a990203806e0','420e2e3f-e273-4df5-af27-d0a569e5ea9d','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','c580cbb7-4876-4c40-99c4-e61089a637f1.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:37:04.700 +00:00','2020-03-05 17:37:04.700 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_46e2068385004cdf94d5610b1715ee37$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (31560578-edcb-445c-8546-3923258fcf4f): COMMIT;
{ fileUUID: '561a69c2-7d43-4980-ab11-ebc5d42c39f2',
  cnodeUserUUID: '981a5026-6a7c-4cc0-9d23-a990203806e0',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: 'c580cbb7-4876-4c40-99c4-e61089a637f1.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: '420e2e3f-e273-4df5-af27-d0a569e5ea9d',
  updatedAt: 2020-03-05T17:37:04.700Z,
  createdAt: 2020-03-05T17:37:04.700Z }




PROCESSING ROW #31: sourcefile: 5b3d941d-17b8-4ea2-a595-1ae880a40d34.mp3, cnodeUserUUID: 037d2dc8-f0fd-4e7a-8921-14b40eb455a9, trackUUID: 18bc0c0f-f8df-4c27-8fd3-71cae1103ac6, multihash: QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM, dstPath: /file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM
writing to db1...
Executing (4e18f1bb-6318-4777-8c77-ecf411fee245): START TRANSACTION;
Executing (4e18f1bb-6318-4777-8c77-ecf411fee245): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '037d2dc8-f0fd-4e7a-8921-14b40eb455a9' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = '5b3d941d-17b8-4ea2-a595-1ae880a40d34.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '18bc0c0f-f8df-4c27-8fd3-71cae1103ac6' LIMIT 1;
Executing (4e18f1bb-6318-4777-8c77-ecf411fee245): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_dfee7ce63ed2412a88ddc730b78303b0$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('b6831f7b-599b-496f-8dde-2f06d01a4086','037d2dc8-f0fd-4e7a-8921-14b40eb455a9','18bc0c0f-f8df-4c27-8fd3-71cae1103ac6','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','5b3d941d-17b8-4ea2-a595-1ae880a40d34.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:37:05.105 +00:00','2020-03-05 17:37:05.105 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_dfee7ce63ed2412a88ddc730b78303b0$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (4e18f1bb-6318-4777-8c77-ecf411fee245): COMMIT;
{ fileUUID: 'b6831f7b-599b-496f-8dde-2f06d01a4086',
  cnodeUserUUID: '037d2dc8-f0fd-4e7a-8921-14b40eb455a9',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: '5b3d941d-17b8-4ea2-a595-1ae880a40d34.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: '18bc0c0f-f8df-4c27-8fd3-71cae1103ac6',
  updatedAt: 2020-03-05T17:37:05.105Z,
  createdAt: 2020-03-05T17:37:05.105Z }
writing to db2...
Executing (713b524a-dd67-4ce4-b2f2-836b866c5e3f): START TRANSACTION;
Executing (713b524a-dd67-4ce4-b2f2-836b866c5e3f): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '037d2dc8-f0fd-4e7a-8921-14b40eb455a9' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = '5b3d941d-17b8-4ea2-a595-1ae880a40d34.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '18bc0c0f-f8df-4c27-8fd3-71cae1103ac6' LIMIT 1;
Executing (713b524a-dd67-4ce4-b2f2-836b866c5e3f): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_dc4f0195c3a442cba34d7e72c4d539c6$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('5c93cdf8-c1c6-41b8-9aff-a71fdbc3f0e2','037d2dc8-f0fd-4e7a-8921-14b40eb455a9','18bc0c0f-f8df-4c27-8fd3-71cae1103ac6','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','5b3d941d-17b8-4ea2-a595-1ae880a40d34.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:37:05.508 +00:00','2020-03-05 17:37:05.508 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_dc4f0195c3a442cba34d7e72c4d539c6$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (713b524a-dd67-4ce4-b2f2-836b866c5e3f): COMMIT;
{ fileUUID: '5c93cdf8-c1c6-41b8-9aff-a71fdbc3f0e2',
  cnodeUserUUID: '037d2dc8-f0fd-4e7a-8921-14b40eb455a9',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: '5b3d941d-17b8-4ea2-a595-1ae880a40d34.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: '18bc0c0f-f8df-4c27-8fd3-71cae1103ac6',
  updatedAt: 2020-03-05T17:37:05.508Z,
  createdAt: 2020-03-05T17:37:05.508Z }
writing to db3...
Executing (9e41a56d-dd20-45c9-a1fc-773b01da55e2): START TRANSACTION;
Executing (9e41a56d-dd20-45c9-a1fc-773b01da55e2): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '037d2dc8-f0fd-4e7a-8921-14b40eb455a9' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = '5b3d941d-17b8-4ea2-a595-1ae880a40d34.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '18bc0c0f-f8df-4c27-8fd3-71cae1103ac6' LIMIT 1;
Executing (9e41a56d-dd20-45c9-a1fc-773b01da55e2): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_acdb5c5198cc4a9fb7fec2ff97da74d0$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('93d4f74e-c4b4-4f2c-88f7-9a6b88fc1385','037d2dc8-f0fd-4e7a-8921-14b40eb455a9','18bc0c0f-f8df-4c27-8fd3-71cae1103ac6','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','5b3d941d-17b8-4ea2-a595-1ae880a40d34.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:37:05.909 +00:00','2020-03-05 17:37:05.909 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_acdb5c5198cc4a9fb7fec2ff97da74d0$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (9e41a56d-dd20-45c9-a1fc-773b01da55e2): COMMIT;
{ fileUUID: '93d4f74e-c4b4-4f2c-88f7-9a6b88fc1385',
  cnodeUserUUID: '037d2dc8-f0fd-4e7a-8921-14b40eb455a9',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: '5b3d941d-17b8-4ea2-a595-1ae880a40d34.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: '18bc0c0f-f8df-4c27-8fd3-71cae1103ac6',
  updatedAt: 2020-03-05T17:37:05.909Z,
  createdAt: 2020-03-05T17:37:05.909Z }




PROCESSING ROW #32: sourcefile: 535bcb9c-7ed4-4240-9e73-b8574fe306e1.mp3, cnodeUserUUID: 11c34897-1946-4dfc-b59c-f646a1fc69fe, trackUUID: 2b88514a-030d-4dac-aed0-905b15b8b01d, multihash: QmYgj6FvmUQxdbAdcyihjChK3N6EQFRTHKdw1RsBA9fdRf, dstPath: /file_storage/QmYgj6FvmUQxdbAdcyihjChK3N6EQFRTHKdw1RsBA9fdRf
writing to db1...
Executing (1712103a-3caa-4317-b68e-48b757aeb9fa): START TRANSACTION;
Executing (1712103a-3caa-4317-b68e-48b757aeb9fa): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '11c34897-1946-4dfc-b59c-f646a1fc69fe' AND "File"."multihash" = 'QmYgj6FvmUQxdbAdcyihjChK3N6EQFRTHKdw1RsBA9fdRf' AND "File"."sourceFile" = '535bcb9c-7ed4-4240-9e73-b8574fe306e1.mp3' AND "File"."storagePath" = '/file_storage/QmYgj6FvmUQxdbAdcyihjChK3N6EQFRTHKdw1RsBA9fdRf' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '2b88514a-030d-4dac-aed0-905b15b8b01d' LIMIT 1;
Executing (1712103a-3caa-4317-b68e-48b757aeb9fa): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_7699c34d882d454a89d8f7e0dcebcdf3$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('04b2bbc3-262f-4c05-9461-9257f4626015','11c34897-1946-4dfc-b59c-f646a1fc69fe','2b88514a-030d-4dac-aed0-905b15b8b01d','QmYgj6FvmUQxdbAdcyihjChK3N6EQFRTHKdw1RsBA9fdRf','535bcb9c-7ed4-4240-9e73-b8574fe306e1.mp3','/file_storage/QmYgj6FvmUQxdbAdcyihjChK3N6EQFRTHKdw1RsBA9fdRf','copy320','2020-03-05 17:37:06.322 +00:00','2020-03-05 17:37:06.322 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_7699c34d882d454a89d8f7e0dcebcdf3$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (1712103a-3caa-4317-b68e-48b757aeb9fa): COMMIT;
{ fileUUID: '04b2bbc3-262f-4c05-9461-9257f4626015',
  cnodeUserUUID: '11c34897-1946-4dfc-b59c-f646a1fc69fe',
  multihash: 'QmYgj6FvmUQxdbAdcyihjChK3N6EQFRTHKdw1RsBA9fdRf',
  sourceFile: '535bcb9c-7ed4-4240-9e73-b8574fe306e1.mp3',
  storagePath:
   '/file_storage/QmYgj6FvmUQxdbAdcyihjChK3N6EQFRTHKdw1RsBA9fdRf',
  type: 'copy320',
  trackUUID: '2b88514a-030d-4dac-aed0-905b15b8b01d',
  updatedAt: 2020-03-05T17:37:06.322Z,
  createdAt: 2020-03-05T17:37:06.322Z }
writing to db2...
Executing (91652441-13d9-4e6d-bfee-d091f277cf3f): START TRANSACTION;
Executing (91652441-13d9-4e6d-bfee-d091f277cf3f): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '11c34897-1946-4dfc-b59c-f646a1fc69fe' AND "File"."multihash" = 'QmYgj6FvmUQxdbAdcyihjChK3N6EQFRTHKdw1RsBA9fdRf' AND "File"."sourceFile" = '535bcb9c-7ed4-4240-9e73-b8574fe306e1.mp3' AND "File"."storagePath" = '/file_storage/QmYgj6FvmUQxdbAdcyihjChK3N6EQFRTHKdw1RsBA9fdRf' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '2b88514a-030d-4dac-aed0-905b15b8b01d' LIMIT 1;
Executing (91652441-13d9-4e6d-bfee-d091f277cf3f): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_a5ca80880e5c4a73963d94ab56025db3$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('2c518efd-0a59-42f5-87c2-29b7f67c0447','11c34897-1946-4dfc-b59c-f646a1fc69fe','2b88514a-030d-4dac-aed0-905b15b8b01d','QmYgj6FvmUQxdbAdcyihjChK3N6EQFRTHKdw1RsBA9fdRf','535bcb9c-7ed4-4240-9e73-b8574fe306e1.mp3','/file_storage/QmYgj6FvmUQxdbAdcyihjChK3N6EQFRTHKdw1RsBA9fdRf','copy320','2020-03-05 17:37:06.737 +00:00','2020-03-05 17:37:06.737 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_a5ca80880e5c4a73963d94ab56025db3$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (91652441-13d9-4e6d-bfee-d091f277cf3f): COMMIT;
{ fileUUID: '2c518efd-0a59-42f5-87c2-29b7f67c0447',
  cnodeUserUUID: '11c34897-1946-4dfc-b59c-f646a1fc69fe',
  multihash: 'QmYgj6FvmUQxdbAdcyihjChK3N6EQFRTHKdw1RsBA9fdRf',
  sourceFile: '535bcb9c-7ed4-4240-9e73-b8574fe306e1.mp3',
  storagePath:
   '/file_storage/QmYgj6FvmUQxdbAdcyihjChK3N6EQFRTHKdw1RsBA9fdRf',
  type: 'copy320',
  trackUUID: '2b88514a-030d-4dac-aed0-905b15b8b01d',
  updatedAt: 2020-03-05T17:37:06.737Z,
  createdAt: 2020-03-05T17:37:06.737Z }
writing to db3...
Executing (a6336be5-4399-46a9-97e6-a247fd5565bb): START TRANSACTION;
Executing (a6336be5-4399-46a9-97e6-a247fd5565bb): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '11c34897-1946-4dfc-b59c-f646a1fc69fe' AND "File"."multihash" = 'QmYgj6FvmUQxdbAdcyihjChK3N6EQFRTHKdw1RsBA9fdRf' AND "File"."sourceFile" = '535bcb9c-7ed4-4240-9e73-b8574fe306e1.mp3' AND "File"."storagePath" = '/file_storage/QmYgj6FvmUQxdbAdcyihjChK3N6EQFRTHKdw1RsBA9fdRf' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '2b88514a-030d-4dac-aed0-905b15b8b01d' LIMIT 1;
Executing (a6336be5-4399-46a9-97e6-a247fd5565bb): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_49bf6ef0973145d4b30190b4a6d6696f$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('b2c64000-ec06-4db6-9383-77d04b7bb84d','11c34897-1946-4dfc-b59c-f646a1fc69fe','2b88514a-030d-4dac-aed0-905b15b8b01d','QmYgj6FvmUQxdbAdcyihjChK3N6EQFRTHKdw1RsBA9fdRf','535bcb9c-7ed4-4240-9e73-b8574fe306e1.mp3','/file_storage/QmYgj6FvmUQxdbAdcyihjChK3N6EQFRTHKdw1RsBA9fdRf','copy320','2020-03-05 17:37:07.182 +00:00','2020-03-05 17:37:07.182 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_49bf6ef0973145d4b30190b4a6d6696f$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (a6336be5-4399-46a9-97e6-a247fd5565bb): COMMIT;
{ fileUUID: 'b2c64000-ec06-4db6-9383-77d04b7bb84d',
  cnodeUserUUID: '11c34897-1946-4dfc-b59c-f646a1fc69fe',
  multihash: 'QmYgj6FvmUQxdbAdcyihjChK3N6EQFRTHKdw1RsBA9fdRf',
  sourceFile: '535bcb9c-7ed4-4240-9e73-b8574fe306e1.mp3',
  storagePath:
   '/file_storage/QmYgj6FvmUQxdbAdcyihjChK3N6EQFRTHKdw1RsBA9fdRf',
  type: 'copy320',
  trackUUID: '2b88514a-030d-4dac-aed0-905b15b8b01d',
  updatedAt: 2020-03-05T17:37:07.182Z,
  createdAt: 2020-03-05T17:37:07.182Z }




PROCESSING ROW #33: sourcefile: fd21cd0b-2952-440b-aed7-b74b37c2934a.mp3, cnodeUserUUID: 8ccd0cee-3f5e-4d6e-822e-9de0971f610d, trackUUID: 1b887024-968d-4cfd-9c70-1aa04f535c3f, multihash: QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM, dstPath: /file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM
writing to db1...
Executing (6c6e0870-9bab-4f75-a3e7-276b1961d13f): START TRANSACTION;
Executing (6c6e0870-9bab-4f75-a3e7-276b1961d13f): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '8ccd0cee-3f5e-4d6e-822e-9de0971f610d' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = 'fd21cd0b-2952-440b-aed7-b74b37c2934a.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '1b887024-968d-4cfd-9c70-1aa04f535c3f' LIMIT 1;
Executing (6c6e0870-9bab-4f75-a3e7-276b1961d13f): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_86adf26cd15c4555bc36b6a31fcaf10e$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('e357fd60-6e6b-4dec-ba9f-703811103c47','8ccd0cee-3f5e-4d6e-822e-9de0971f610d','1b887024-968d-4cfd-9c70-1aa04f535c3f','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','fd21cd0b-2952-440b-aed7-b74b37c2934a.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:37:07.595 +00:00','2020-03-05 17:37:07.595 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_86adf26cd15c4555bc36b6a31fcaf10e$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (6c6e0870-9bab-4f75-a3e7-276b1961d13f): COMMIT;
{ fileUUID: 'e357fd60-6e6b-4dec-ba9f-703811103c47',
  cnodeUserUUID: '8ccd0cee-3f5e-4d6e-822e-9de0971f610d',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: 'fd21cd0b-2952-440b-aed7-b74b37c2934a.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: '1b887024-968d-4cfd-9c70-1aa04f535c3f',
  updatedAt: 2020-03-05T17:37:07.595Z,
  createdAt: 2020-03-05T17:37:07.595Z }
writing to db2...
Executing (bd0f0259-1dc0-4587-bd09-09825efb1c13): START TRANSACTION;
Executing (bd0f0259-1dc0-4587-bd09-09825efb1c13): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '8ccd0cee-3f5e-4d6e-822e-9de0971f610d' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = 'fd21cd0b-2952-440b-aed7-b74b37c2934a.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '1b887024-968d-4cfd-9c70-1aa04f535c3f' LIMIT 1;
Executing (bd0f0259-1dc0-4587-bd09-09825efb1c13): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_2fc6ad6375604cffa556f37082b8cb89$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('4a10ef6e-8d68-4a11-9827-acc63b5b9720','8ccd0cee-3f5e-4d6e-822e-9de0971f610d','1b887024-968d-4cfd-9c70-1aa04f535c3f','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','fd21cd0b-2952-440b-aed7-b74b37c2934a.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:37:08.054 +00:00','2020-03-05 17:37:08.054 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_2fc6ad6375604cffa556f37082b8cb89$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (bd0f0259-1dc0-4587-bd09-09825efb1c13): COMMIT;
{ fileUUID: '4a10ef6e-8d68-4a11-9827-acc63b5b9720',
  cnodeUserUUID: '8ccd0cee-3f5e-4d6e-822e-9de0971f610d',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: 'fd21cd0b-2952-440b-aed7-b74b37c2934a.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: '1b887024-968d-4cfd-9c70-1aa04f535c3f',
  updatedAt: 2020-03-05T17:37:08.054Z,
  createdAt: 2020-03-05T17:37:08.054Z }
writing to db3...
Executing (f959cbd8-0898-4c67-bae9-82cd886d872a): START TRANSACTION;
Executing (f959cbd8-0898-4c67-bae9-82cd886d872a): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '8ccd0cee-3f5e-4d6e-822e-9de0971f610d' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = 'fd21cd0b-2952-440b-aed7-b74b37c2934a.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '1b887024-968d-4cfd-9c70-1aa04f535c3f' LIMIT 1;
Executing (f959cbd8-0898-4c67-bae9-82cd886d872a): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_d356d6fc537046deaa607beb1be52a25$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('fb4e3bab-2c67-45c2-ac4d-2feaf02b7f01','8ccd0cee-3f5e-4d6e-822e-9de0971f610d','1b887024-968d-4cfd-9c70-1aa04f535c3f','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','fd21cd0b-2952-440b-aed7-b74b37c2934a.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:37:08.496 +00:00','2020-03-05 17:37:08.496 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_d356d6fc537046deaa607beb1be52a25$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (f959cbd8-0898-4c67-bae9-82cd886d872a): COMMIT;
{ fileUUID: 'fb4e3bab-2c67-45c2-ac4d-2feaf02b7f01',
  cnodeUserUUID: '8ccd0cee-3f5e-4d6e-822e-9de0971f610d',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: 'fd21cd0b-2952-440b-aed7-b74b37c2934a.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: '1b887024-968d-4cfd-9c70-1aa04f535c3f',
  updatedAt: 2020-03-05T17:37:08.496Z,
  createdAt: 2020-03-05T17:37:08.496Z }




PROCESSING ROW #34: sourcefile: b1e14c08-36db-429a-9cc0-2d2eb1391699.mp3, cnodeUserUUID: 11c34897-1946-4dfc-b59c-f646a1fc69fe, trackUUID: 04327cf5-40b0-4bcf-a4c1-d3c9f2102c8d, multihash: QmPqnYz92ChiRePFEag6jaihB7tXQerfcyXHPUQyTJr9nn, dstPath: /file_storage/QmPqnYz92ChiRePFEag6jaihB7tXQerfcyXHPUQyTJr9nn
writing to db1...
Executing (880fd68b-bc0f-4c0e-8080-445a06fa434c): START TRANSACTION;
Executing (880fd68b-bc0f-4c0e-8080-445a06fa434c): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '11c34897-1946-4dfc-b59c-f646a1fc69fe' AND "File"."multihash" = 'QmPqnYz92ChiRePFEag6jaihB7tXQerfcyXHPUQyTJr9nn' AND "File"."sourceFile" = 'b1e14c08-36db-429a-9cc0-2d2eb1391699.mp3' AND "File"."storagePath" = '/file_storage/QmPqnYz92ChiRePFEag6jaihB7tXQerfcyXHPUQyTJr9nn' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '04327cf5-40b0-4bcf-a4c1-d3c9f2102c8d' LIMIT 1;
Executing (880fd68b-bc0f-4c0e-8080-445a06fa434c): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_3b27e34bd0cd4c0f86f1dd88c7a8abb0$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('fea1f843-176a-49c4-b5a0-3ef1e623865d','11c34897-1946-4dfc-b59c-f646a1fc69fe','04327cf5-40b0-4bcf-a4c1-d3c9f2102c8d','QmPqnYz92ChiRePFEag6jaihB7tXQerfcyXHPUQyTJr9nn','b1e14c08-36db-429a-9cc0-2d2eb1391699.mp3','/file_storage/QmPqnYz92ChiRePFEag6jaihB7tXQerfcyXHPUQyTJr9nn','copy320','2020-03-05 17:37:08.929 +00:00','2020-03-05 17:37:08.929 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_3b27e34bd0cd4c0f86f1dd88c7a8abb0$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (880fd68b-bc0f-4c0e-8080-445a06fa434c): COMMIT;
{ fileUUID: 'fea1f843-176a-49c4-b5a0-3ef1e623865d',
  cnodeUserUUID: '11c34897-1946-4dfc-b59c-f646a1fc69fe',
  multihash: 'QmPqnYz92ChiRePFEag6jaihB7tXQerfcyXHPUQyTJr9nn',
  sourceFile: 'b1e14c08-36db-429a-9cc0-2d2eb1391699.mp3',
  storagePath:
   '/file_storage/QmPqnYz92ChiRePFEag6jaihB7tXQerfcyXHPUQyTJr9nn',
  type: 'copy320',
  trackUUID: '04327cf5-40b0-4bcf-a4c1-d3c9f2102c8d',
  updatedAt: 2020-03-05T17:37:08.929Z,
  createdAt: 2020-03-05T17:37:08.929Z }
writing to db2...
Executing (d68d0404-ca9f-4d42-b147-2488c451359f): START TRANSACTION;
Executing (d68d0404-ca9f-4d42-b147-2488c451359f): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '11c34897-1946-4dfc-b59c-f646a1fc69fe' AND "File"."multihash" = 'QmPqnYz92ChiRePFEag6jaihB7tXQerfcyXHPUQyTJr9nn' AND "File"."sourceFile" = 'b1e14c08-36db-429a-9cc0-2d2eb1391699.mp3' AND "File"."storagePath" = '/file_storage/QmPqnYz92ChiRePFEag6jaihB7tXQerfcyXHPUQyTJr9nn' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '04327cf5-40b0-4bcf-a4c1-d3c9f2102c8d' LIMIT 1;
Executing (d68d0404-ca9f-4d42-b147-2488c451359f): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_d76eee8475cc4203a53e2e4230611e39$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('e5b7674d-6539-43fd-8e24-93f8d7d084e0','11c34897-1946-4dfc-b59c-f646a1fc69fe','04327cf5-40b0-4bcf-a4c1-d3c9f2102c8d','QmPqnYz92ChiRePFEag6jaihB7tXQerfcyXHPUQyTJr9nn','b1e14c08-36db-429a-9cc0-2d2eb1391699.mp3','/file_storage/QmPqnYz92ChiRePFEag6jaihB7tXQerfcyXHPUQyTJr9nn','copy320','2020-03-05 17:37:09.388 +00:00','2020-03-05 17:37:09.388 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_d76eee8475cc4203a53e2e4230611e39$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (d68d0404-ca9f-4d42-b147-2488c451359f): COMMIT;
{ fileUUID: 'e5b7674d-6539-43fd-8e24-93f8d7d084e0',
  cnodeUserUUID: '11c34897-1946-4dfc-b59c-f646a1fc69fe',
  multihash: 'QmPqnYz92ChiRePFEag6jaihB7tXQerfcyXHPUQyTJr9nn',
  sourceFile: 'b1e14c08-36db-429a-9cc0-2d2eb1391699.mp3',
  storagePath:
   '/file_storage/QmPqnYz92ChiRePFEag6jaihB7tXQerfcyXHPUQyTJr9nn',
  type: 'copy320',
  trackUUID: '04327cf5-40b0-4bcf-a4c1-d3c9f2102c8d',
  updatedAt: 2020-03-05T17:37:09.388Z,
  createdAt: 2020-03-05T17:37:09.388Z }
writing to db3...
Executing (be38cfe7-4217-48cf-9270-eeb729dc63ea): START TRANSACTION;
Executing (be38cfe7-4217-48cf-9270-eeb729dc63ea): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '11c34897-1946-4dfc-b59c-f646a1fc69fe' AND "File"."multihash" = 'QmPqnYz92ChiRePFEag6jaihB7tXQerfcyXHPUQyTJr9nn' AND "File"."sourceFile" = 'b1e14c08-36db-429a-9cc0-2d2eb1391699.mp3' AND "File"."storagePath" = '/file_storage/QmPqnYz92ChiRePFEag6jaihB7tXQerfcyXHPUQyTJr9nn' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '04327cf5-40b0-4bcf-a4c1-d3c9f2102c8d' LIMIT 1;
Executing (be38cfe7-4217-48cf-9270-eeb729dc63ea): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_684a774032c645b08f418db213251663$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('fd64f6d5-0301-44d6-a44d-45721fb588e7','11c34897-1946-4dfc-b59c-f646a1fc69fe','04327cf5-40b0-4bcf-a4c1-d3c9f2102c8d','QmPqnYz92ChiRePFEag6jaihB7tXQerfcyXHPUQyTJr9nn','b1e14c08-36db-429a-9cc0-2d2eb1391699.mp3','/file_storage/QmPqnYz92ChiRePFEag6jaihB7tXQerfcyXHPUQyTJr9nn','copy320','2020-03-05 17:37:09.822 +00:00','2020-03-05 17:37:09.822 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_684a774032c645b08f418db213251663$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (be38cfe7-4217-48cf-9270-eeb729dc63ea): COMMIT;
{ fileUUID: 'fd64f6d5-0301-44d6-a44d-45721fb588e7',
  cnodeUserUUID: '11c34897-1946-4dfc-b59c-f646a1fc69fe',
  multihash: 'QmPqnYz92ChiRePFEag6jaihB7tXQerfcyXHPUQyTJr9nn',
  sourceFile: 'b1e14c08-36db-429a-9cc0-2d2eb1391699.mp3',
  storagePath:
   '/file_storage/QmPqnYz92ChiRePFEag6jaihB7tXQerfcyXHPUQyTJr9nn',
  type: 'copy320',
  trackUUID: '04327cf5-40b0-4bcf-a4c1-d3c9f2102c8d',
  updatedAt: 2020-03-05T17:37:09.822Z,
  createdAt: 2020-03-05T17:37:09.822Z }




PROCESSING ROW #35: sourcefile: cd6e5cc2-fb8e-4927-9732-622449eb5d23.mp3, cnodeUserUUID: bb196d44-9077-4f6e-af74-b9474622a45f, trackUUID: b57a2b7f-de23-4ba5-95b6-1726a8171882, multihash: QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM, dstPath: /file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM
writing to db1...
Executing (2cadf9d6-152e-4488-a48d-b6e9751207de): START TRANSACTION;
Executing (2cadf9d6-152e-4488-a48d-b6e9751207de): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = 'bb196d44-9077-4f6e-af74-b9474622a45f' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = 'cd6e5cc2-fb8e-4927-9732-622449eb5d23.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = 'b57a2b7f-de23-4ba5-95b6-1726a8171882' LIMIT 1;
Executing (2cadf9d6-152e-4488-a48d-b6e9751207de): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_85a8da17f74e41a3b2c308bda5ea0150$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('ecc11459-78d3-48b4-96a0-533cb4e6824a','bb196d44-9077-4f6e-af74-b9474622a45f','b57a2b7f-de23-4ba5-95b6-1726a8171882','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','cd6e5cc2-fb8e-4927-9732-622449eb5d23.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:37:10.234 +00:00','2020-03-05 17:37:10.234 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_85a8da17f74e41a3b2c308bda5ea0150$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (2cadf9d6-152e-4488-a48d-b6e9751207de): COMMIT;
{ fileUUID: 'ecc11459-78d3-48b4-96a0-533cb4e6824a',
  cnodeUserUUID: 'bb196d44-9077-4f6e-af74-b9474622a45f',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: 'cd6e5cc2-fb8e-4927-9732-622449eb5d23.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: 'b57a2b7f-de23-4ba5-95b6-1726a8171882',
  updatedAt: 2020-03-05T17:37:10.234Z,
  createdAt: 2020-03-05T17:37:10.234Z }
writing to db2...
Executing (3714d860-6594-4efa-abab-e594c2794e12): START TRANSACTION;
Executing (3714d860-6594-4efa-abab-e594c2794e12): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = 'bb196d44-9077-4f6e-af74-b9474622a45f' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = 'cd6e5cc2-fb8e-4927-9732-622449eb5d23.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = 'b57a2b7f-de23-4ba5-95b6-1726a8171882' LIMIT 1;
Executing (3714d860-6594-4efa-abab-e594c2794e12): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_653f89380f374bb09e4ed8f2eec5e232$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('ba92b117-52eb-4b1d-87fa-2d88cd4c4da6','bb196d44-9077-4f6e-af74-b9474622a45f','b57a2b7f-de23-4ba5-95b6-1726a8171882','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','cd6e5cc2-fb8e-4927-9732-622449eb5d23.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:37:10.654 +00:00','2020-03-05 17:37:10.654 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_653f89380f374bb09e4ed8f2eec5e232$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (3714d860-6594-4efa-abab-e594c2794e12): COMMIT;
{ fileUUID: 'ba92b117-52eb-4b1d-87fa-2d88cd4c4da6',
  cnodeUserUUID: 'bb196d44-9077-4f6e-af74-b9474622a45f',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: 'cd6e5cc2-fb8e-4927-9732-622449eb5d23.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: 'b57a2b7f-de23-4ba5-95b6-1726a8171882',
  updatedAt: 2020-03-05T17:37:10.654Z,
  createdAt: 2020-03-05T17:37:10.654Z }
writing to db3...
Executing (22030033-d53a-4132-b8fa-80a85c2774ab): START TRANSACTION;
Executing (22030033-d53a-4132-b8fa-80a85c2774ab): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = 'bb196d44-9077-4f6e-af74-b9474622a45f' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = 'cd6e5cc2-fb8e-4927-9732-622449eb5d23.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = 'b57a2b7f-de23-4ba5-95b6-1726a8171882' LIMIT 1;
Executing (22030033-d53a-4132-b8fa-80a85c2774ab): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_770c1ef47f5e474e9c5a96ce4bb17df7$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('5525a262-ebc3-4f23-a0ab-002b9f46fb8f','bb196d44-9077-4f6e-af74-b9474622a45f','b57a2b7f-de23-4ba5-95b6-1726a8171882','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','cd6e5cc2-fb8e-4927-9732-622449eb5d23.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:37:11.068 +00:00','2020-03-05 17:37:11.068 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_770c1ef47f5e474e9c5a96ce4bb17df7$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (22030033-d53a-4132-b8fa-80a85c2774ab): COMMIT;
{ fileUUID: '5525a262-ebc3-4f23-a0ab-002b9f46fb8f',
  cnodeUserUUID: 'bb196d44-9077-4f6e-af74-b9474622a45f',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: 'cd6e5cc2-fb8e-4927-9732-622449eb5d23.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: 'b57a2b7f-de23-4ba5-95b6-1726a8171882',
  updatedAt: 2020-03-05T17:37:11.068Z,
  createdAt: 2020-03-05T17:37:11.068Z }




PROCESSING ROW #36: sourcefile: 6b875bf8-2c07-4f8c-9a4f-7207f92cc634.mp3, cnodeUserUUID: c916d930-a9cc-49bb-9975-07abf56f1f88, trackUUID: 75c0fc0e-7477-4521-b3f9-c6860ce28c6f, multihash: QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM, dstPath: /file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM
writing to db1...
Executing (6e50062a-c3f4-447c-84c7-fc0ef2a5d067): START TRANSACTION;
Executing (6e50062a-c3f4-447c-84c7-fc0ef2a5d067): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = 'c916d930-a9cc-49bb-9975-07abf56f1f88' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = '6b875bf8-2c07-4f8c-9a4f-7207f92cc634.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '75c0fc0e-7477-4521-b3f9-c6860ce28c6f' LIMIT 1;
Executing (6e50062a-c3f4-447c-84c7-fc0ef2a5d067): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_e276216702bb4666b5b124b71a32fbbb$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('f8cf00dc-0354-4d45-9ecd-c27a8a743728','c916d930-a9cc-49bb-9975-07abf56f1f88','75c0fc0e-7477-4521-b3f9-c6860ce28c6f','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','6b875bf8-2c07-4f8c-9a4f-7207f92cc634.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:37:11.508 +00:00','2020-03-05 17:37:11.508 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_e276216702bb4666b5b124b71a32fbbb$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (6e50062a-c3f4-447c-84c7-fc0ef2a5d067): COMMIT;
{ fileUUID: 'f8cf00dc-0354-4d45-9ecd-c27a8a743728',
  cnodeUserUUID: 'c916d930-a9cc-49bb-9975-07abf56f1f88',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: '6b875bf8-2c07-4f8c-9a4f-7207f92cc634.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: '75c0fc0e-7477-4521-b3f9-c6860ce28c6f',
  updatedAt: 2020-03-05T17:37:11.508Z,
  createdAt: 2020-03-05T17:37:11.508Z }
writing to db2...
Executing (11fdb82e-c7de-4cdb-b48a-e8a34663a279): START TRANSACTION;
Executing (11fdb82e-c7de-4cdb-b48a-e8a34663a279): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = 'c916d930-a9cc-49bb-9975-07abf56f1f88' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = '6b875bf8-2c07-4f8c-9a4f-7207f92cc634.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '75c0fc0e-7477-4521-b3f9-c6860ce28c6f' LIMIT 1;
Executing (11fdb82e-c7de-4cdb-b48a-e8a34663a279): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_34dd90d03aef47059d9680c0aefda9ea$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('6471ebbc-67e9-4b1f-8088-63a7d4715b7b','c916d930-a9cc-49bb-9975-07abf56f1f88','75c0fc0e-7477-4521-b3f9-c6860ce28c6f','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','6b875bf8-2c07-4f8c-9a4f-7207f92cc634.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:37:11.945 +00:00','2020-03-05 17:37:11.945 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_34dd90d03aef47059d9680c0aefda9ea$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (11fdb82e-c7de-4cdb-b48a-e8a34663a279): COMMIT;
{ fileUUID: '6471ebbc-67e9-4b1f-8088-63a7d4715b7b',
  cnodeUserUUID: 'c916d930-a9cc-49bb-9975-07abf56f1f88',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: '6b875bf8-2c07-4f8c-9a4f-7207f92cc634.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: '75c0fc0e-7477-4521-b3f9-c6860ce28c6f',
  updatedAt: 2020-03-05T17:37:11.945Z,
  createdAt: 2020-03-05T17:37:11.945Z }
writing to db3...
Executing (d3e543d3-e88b-434b-873e-eced8706995e): START TRANSACTION;
Executing (d3e543d3-e88b-434b-873e-eced8706995e): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = 'c916d930-a9cc-49bb-9975-07abf56f1f88' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = '6b875bf8-2c07-4f8c-9a4f-7207f92cc634.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '75c0fc0e-7477-4521-b3f9-c6860ce28c6f' LIMIT 1;
Executing (d3e543d3-e88b-434b-873e-eced8706995e): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_5a4450d33fc24c9fb880927277ac7829$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('c83cdf09-86f5-402f-b163-95a856bf3219','c916d930-a9cc-49bb-9975-07abf56f1f88','75c0fc0e-7477-4521-b3f9-c6860ce28c6f','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','6b875bf8-2c07-4f8c-9a4f-7207f92cc634.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:37:12.353 +00:00','2020-03-05 17:37:12.353 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_5a4450d33fc24c9fb880927277ac7829$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (d3e543d3-e88b-434b-873e-eced8706995e): COMMIT;
{ fileUUID: 'c83cdf09-86f5-402f-b163-95a856bf3219',
  cnodeUserUUID: 'c916d930-a9cc-49bb-9975-07abf56f1f88',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: '6b875bf8-2c07-4f8c-9a4f-7207f92cc634.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: '75c0fc0e-7477-4521-b3f9-c6860ce28c6f',
  updatedAt: 2020-03-05T17:37:12.353Z,
  createdAt: 2020-03-05T17:37:12.353Z }




PROCESSING ROW #37: sourcefile: 7ae0a05e-9ac9-4980-84e8-2c51b1d5bf56.mp3, cnodeUserUUID: c3d646a9-a910-475d-916a-5469e298bcc3, trackUUID: 0eb9f3de-5909-4b62-b8b1-2397f502b435, multihash: QmUWJ7Zmka7d1czySWFJRFiSFb6egVnfKBYr6xdTN3CPuN, dstPath: /file_storage/QmUWJ7Zmka7d1czySWFJRFiSFb6egVnfKBYr6xdTN3CPuN
writing to db1...
Executing (b775fdb8-da00-4333-935b-8531aa3eb832): START TRANSACTION;
Executing (b775fdb8-da00-4333-935b-8531aa3eb832): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = 'c3d646a9-a910-475d-916a-5469e298bcc3' AND "File"."multihash" = 'QmUWJ7Zmka7d1czySWFJRFiSFb6egVnfKBYr6xdTN3CPuN' AND "File"."sourceFile" = '7ae0a05e-9ac9-4980-84e8-2c51b1d5bf56.mp3' AND "File"."storagePath" = '/file_storage/QmUWJ7Zmka7d1czySWFJRFiSFb6egVnfKBYr6xdTN3CPuN' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '0eb9f3de-5909-4b62-b8b1-2397f502b435' LIMIT 1;
Executing (b775fdb8-da00-4333-935b-8531aa3eb832): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_552466eb29e14e53a571a3ddc26ae74a$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('bf20c34c-7f0b-496a-beb3-63e97af108c1','c3d646a9-a910-475d-916a-5469e298bcc3','0eb9f3de-5909-4b62-b8b1-2397f502b435','QmUWJ7Zmka7d1czySWFJRFiSFb6egVnfKBYr6xdTN3CPuN','7ae0a05e-9ac9-4980-84e8-2c51b1d5bf56.mp3','/file_storage/QmUWJ7Zmka7d1czySWFJRFiSFb6egVnfKBYr6xdTN3CPuN','copy320','2020-03-05 17:37:12.792 +00:00','2020-03-05 17:37:12.792 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_552466eb29e14e53a571a3ddc26ae74a$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (b775fdb8-da00-4333-935b-8531aa3eb832): COMMIT;
{ fileUUID: 'bf20c34c-7f0b-496a-beb3-63e97af108c1',
  cnodeUserUUID: 'c3d646a9-a910-475d-916a-5469e298bcc3',
  multihash: 'QmUWJ7Zmka7d1czySWFJRFiSFb6egVnfKBYr6xdTN3CPuN',
  sourceFile: '7ae0a05e-9ac9-4980-84e8-2c51b1d5bf56.mp3',
  storagePath:
   '/file_storage/QmUWJ7Zmka7d1czySWFJRFiSFb6egVnfKBYr6xdTN3CPuN',
  type: 'copy320',
  trackUUID: '0eb9f3de-5909-4b62-b8b1-2397f502b435',
  updatedAt: 2020-03-05T17:37:12.792Z,
  createdAt: 2020-03-05T17:37:12.792Z }
writing to db2...
Executing (db1c3492-7387-441d-8863-448039eb57c0): START TRANSACTION;
Executing (db1c3492-7387-441d-8863-448039eb57c0): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = 'c3d646a9-a910-475d-916a-5469e298bcc3' AND "File"."multihash" = 'QmUWJ7Zmka7d1czySWFJRFiSFb6egVnfKBYr6xdTN3CPuN' AND "File"."sourceFile" = '7ae0a05e-9ac9-4980-84e8-2c51b1d5bf56.mp3' AND "File"."storagePath" = '/file_storage/QmUWJ7Zmka7d1czySWFJRFiSFb6egVnfKBYr6xdTN3CPuN' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '0eb9f3de-5909-4b62-b8b1-2397f502b435' LIMIT 1;
Executing (db1c3492-7387-441d-8863-448039eb57c0): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_4ac7ec49e10845ab98c4ea65735bcacb$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('4d5c164e-932f-4d49-a543-9096e90cce15','c3d646a9-a910-475d-916a-5469e298bcc3','0eb9f3de-5909-4b62-b8b1-2397f502b435','QmUWJ7Zmka7d1czySWFJRFiSFb6egVnfKBYr6xdTN3CPuN','7ae0a05e-9ac9-4980-84e8-2c51b1d5bf56.mp3','/file_storage/QmUWJ7Zmka7d1czySWFJRFiSFb6egVnfKBYr6xdTN3CPuN','copy320','2020-03-05 17:37:13.251 +00:00','2020-03-05 17:37:13.251 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_4ac7ec49e10845ab98c4ea65735bcacb$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (db1c3492-7387-441d-8863-448039eb57c0): COMMIT;
{ fileUUID: '4d5c164e-932f-4d49-a543-9096e90cce15',
  cnodeUserUUID: 'c3d646a9-a910-475d-916a-5469e298bcc3',
  multihash: 'QmUWJ7Zmka7d1czySWFJRFiSFb6egVnfKBYr6xdTN3CPuN',
  sourceFile: '7ae0a05e-9ac9-4980-84e8-2c51b1d5bf56.mp3',
  storagePath:
   '/file_storage/QmUWJ7Zmka7d1czySWFJRFiSFb6egVnfKBYr6xdTN3CPuN',
  type: 'copy320',
  trackUUID: '0eb9f3de-5909-4b62-b8b1-2397f502b435',
  updatedAt: 2020-03-05T17:37:13.251Z,
  createdAt: 2020-03-05T17:37:13.251Z }
writing to db3...
Executing (28711e61-3f3e-498d-80c8-b12ab2df781d): START TRANSACTION;
Executing (28711e61-3f3e-498d-80c8-b12ab2df781d): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = 'c3d646a9-a910-475d-916a-5469e298bcc3' AND "File"."multihash" = 'QmUWJ7Zmka7d1czySWFJRFiSFb6egVnfKBYr6xdTN3CPuN' AND "File"."sourceFile" = '7ae0a05e-9ac9-4980-84e8-2c51b1d5bf56.mp3' AND "File"."storagePath" = '/file_storage/QmUWJ7Zmka7d1czySWFJRFiSFb6egVnfKBYr6xdTN3CPuN' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '0eb9f3de-5909-4b62-b8b1-2397f502b435' LIMIT 1;
Executing (28711e61-3f3e-498d-80c8-b12ab2df781d): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_35f842f4502041f6952224bc0e4fe346$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('89bc5248-9a5c-4a1a-9366-5ff7c157f08f','c3d646a9-a910-475d-916a-5469e298bcc3','0eb9f3de-5909-4b62-b8b1-2397f502b435','QmUWJ7Zmka7d1czySWFJRFiSFb6egVnfKBYr6xdTN3CPuN','7ae0a05e-9ac9-4980-84e8-2c51b1d5bf56.mp3','/file_storage/QmUWJ7Zmka7d1czySWFJRFiSFb6egVnfKBYr6xdTN3CPuN','copy320','2020-03-05 17:37:13.681 +00:00','2020-03-05 17:37:13.681 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_35f842f4502041f6952224bc0e4fe346$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (28711e61-3f3e-498d-80c8-b12ab2df781d): COMMIT;
{ fileUUID: '89bc5248-9a5c-4a1a-9366-5ff7c157f08f',
  cnodeUserUUID: 'c3d646a9-a910-475d-916a-5469e298bcc3',
  multihash: 'QmUWJ7Zmka7d1czySWFJRFiSFb6egVnfKBYr6xdTN3CPuN',
  sourceFile: '7ae0a05e-9ac9-4980-84e8-2c51b1d5bf56.mp3',
  storagePath:
   '/file_storage/QmUWJ7Zmka7d1czySWFJRFiSFb6egVnfKBYr6xdTN3CPuN',
  type: 'copy320',
  trackUUID: '0eb9f3de-5909-4b62-b8b1-2397f502b435',
  updatedAt: 2020-03-05T17:37:13.681Z,
  createdAt: 2020-03-05T17:37:13.681Z }




PROCESSING ROW #38: sourcefile: c98ac062-6138-4498-a6af-dabf67035287.mp3, cnodeUserUUID: 3968c73f-124d-4179-ac57-66271987404c, trackUUID: 58c7699e-d3c2-4701-804c-ea60375e42ce, multihash: QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM, dstPath: /file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM
writing to db1...
Executing (1d7fdf5e-7e2c-4e8c-abc7-643bd90e0770): START TRANSACTION;
Executing (1d7fdf5e-7e2c-4e8c-abc7-643bd90e0770): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '3968c73f-124d-4179-ac57-66271987404c' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = 'c98ac062-6138-4498-a6af-dabf67035287.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '58c7699e-d3c2-4701-804c-ea60375e42ce' LIMIT 1;
Executing (1d7fdf5e-7e2c-4e8c-abc7-643bd90e0770): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_05607cdc490b4ac797caf9950e3a43d1$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('33993065-d52c-4770-a534-9e6f2f0a278e','3968c73f-124d-4179-ac57-66271987404c','58c7699e-d3c2-4701-804c-ea60375e42ce','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','c98ac062-6138-4498-a6af-dabf67035287.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:37:14.086 +00:00','2020-03-05 17:37:14.086 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_05607cdc490b4ac797caf9950e3a43d1$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (1d7fdf5e-7e2c-4e8c-abc7-643bd90e0770): COMMIT;
{ fileUUID: '33993065-d52c-4770-a534-9e6f2f0a278e',
  cnodeUserUUID: '3968c73f-124d-4179-ac57-66271987404c',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: 'c98ac062-6138-4498-a6af-dabf67035287.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: '58c7699e-d3c2-4701-804c-ea60375e42ce',
  updatedAt: 2020-03-05T17:37:14.086Z,
  createdAt: 2020-03-05T17:37:14.086Z }
writing to db2...
Executing (106b96e4-3504-4c79-bd4a-b5323aa724db): START TRANSACTION;
Executing (106b96e4-3504-4c79-bd4a-b5323aa724db): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '3968c73f-124d-4179-ac57-66271987404c' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = 'c98ac062-6138-4498-a6af-dabf67035287.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '58c7699e-d3c2-4701-804c-ea60375e42ce' LIMIT 1;
Executing (106b96e4-3504-4c79-bd4a-b5323aa724db): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_7a33bdacb7f44335bfa8928e6257104b$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('1a5cf6d2-efc3-43ef-a097-5eb7b5a41683','3968c73f-124d-4179-ac57-66271987404c','58c7699e-d3c2-4701-804c-ea60375e42ce','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','c98ac062-6138-4498-a6af-dabf67035287.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:37:14.592 +00:00','2020-03-05 17:37:14.592 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_7a33bdacb7f44335bfa8928e6257104b$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (106b96e4-3504-4c79-bd4a-b5323aa724db): COMMIT;
{ fileUUID: '1a5cf6d2-efc3-43ef-a097-5eb7b5a41683',
  cnodeUserUUID: '3968c73f-124d-4179-ac57-66271987404c',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: 'c98ac062-6138-4498-a6af-dabf67035287.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: '58c7699e-d3c2-4701-804c-ea60375e42ce',
  updatedAt: 2020-03-05T17:37:14.592Z,
  createdAt: 2020-03-05T17:37:14.592Z }
writing to db3...
Executing (90f36483-114e-45e7-8c9b-c9da2c75da9a): START TRANSACTION;
Executing (90f36483-114e-45e7-8c9b-c9da2c75da9a): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '3968c73f-124d-4179-ac57-66271987404c' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = 'c98ac062-6138-4498-a6af-dabf67035287.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '58c7699e-d3c2-4701-804c-ea60375e42ce' LIMIT 1;
Executing (90f36483-114e-45e7-8c9b-c9da2c75da9a): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_11a87048957e441d8c1db99643cd3791$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('92e66478-352c-490c-a448-b73b5b28884d','3968c73f-124d-4179-ac57-66271987404c','58c7699e-d3c2-4701-804c-ea60375e42ce','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','c98ac062-6138-4498-a6af-dabf67035287.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:37:15.093 +00:00','2020-03-05 17:37:15.093 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_11a87048957e441d8c1db99643cd3791$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (90f36483-114e-45e7-8c9b-c9da2c75da9a): COMMIT;
{ fileUUID: '92e66478-352c-490c-a448-b73b5b28884d',
  cnodeUserUUID: '3968c73f-124d-4179-ac57-66271987404c',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: 'c98ac062-6138-4498-a6af-dabf67035287.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: '58c7699e-d3c2-4701-804c-ea60375e42ce',
  updatedAt: 2020-03-05T17:37:15.093Z,
  createdAt: 2020-03-05T17:37:15.093Z }




PROCESSING ROW #39: sourcefile: d9cc735c-076f-4a83-89ad-95d1869bb842.mp3, cnodeUserUUID: 11c34897-1946-4dfc-b59c-f646a1fc69fe, trackUUID: 3d9122b6-30af-4774-96de-9900cab37aa2, multihash: QmSPjBeNiARhVSG4scF3WPrb14bKLmm3hNbD7N2D1UU95e, dstPath: /file_storage/QmSPjBeNiARhVSG4scF3WPrb14bKLmm3hNbD7N2D1UU95e
writing to db1...
Executing (93df65a8-5e89-4ff0-bfb1-60b1468abe61): START TRANSACTION;
Executing (93df65a8-5e89-4ff0-bfb1-60b1468abe61): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '11c34897-1946-4dfc-b59c-f646a1fc69fe' AND "File"."multihash" = 'QmSPjBeNiARhVSG4scF3WPrb14bKLmm3hNbD7N2D1UU95e' AND "File"."sourceFile" = 'd9cc735c-076f-4a83-89ad-95d1869bb842.mp3' AND "File"."storagePath" = '/file_storage/QmSPjBeNiARhVSG4scF3WPrb14bKLmm3hNbD7N2D1UU95e' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '3d9122b6-30af-4774-96de-9900cab37aa2' LIMIT 1;
Executing (93df65a8-5e89-4ff0-bfb1-60b1468abe61): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_4e32946017d646418cec2f78cada7580$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('4c671f1b-a6d9-4939-bd01-1819163582e8','11c34897-1946-4dfc-b59c-f646a1fc69fe','3d9122b6-30af-4774-96de-9900cab37aa2','QmSPjBeNiARhVSG4scF3WPrb14bKLmm3hNbD7N2D1UU95e','d9cc735c-076f-4a83-89ad-95d1869bb842.mp3','/file_storage/QmSPjBeNiARhVSG4scF3WPrb14bKLmm3hNbD7N2D1UU95e','copy320','2020-03-05 17:37:15.601 +00:00','2020-03-05 17:37:15.601 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_4e32946017d646418cec2f78cada7580$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (93df65a8-5e89-4ff0-bfb1-60b1468abe61): COMMIT;
{ fileUUID: '4c671f1b-a6d9-4939-bd01-1819163582e8',
  cnodeUserUUID: '11c34897-1946-4dfc-b59c-f646a1fc69fe',
  multihash: 'QmSPjBeNiARhVSG4scF3WPrb14bKLmm3hNbD7N2D1UU95e',
  sourceFile: 'd9cc735c-076f-4a83-89ad-95d1869bb842.mp3',
  storagePath:
   '/file_storage/QmSPjBeNiARhVSG4scF3WPrb14bKLmm3hNbD7N2D1UU95e',
  type: 'copy320',
  trackUUID: '3d9122b6-30af-4774-96de-9900cab37aa2',
  updatedAt: 2020-03-05T17:37:15.601Z,
  createdAt: 2020-03-05T17:37:15.601Z }
writing to db2...
Executing (32e7e47d-2731-4326-80bf-ee454d3a93ef): START TRANSACTION;
Executing (32e7e47d-2731-4326-80bf-ee454d3a93ef): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '11c34897-1946-4dfc-b59c-f646a1fc69fe' AND "File"."multihash" = 'QmSPjBeNiARhVSG4scF3WPrb14bKLmm3hNbD7N2D1UU95e' AND "File"."sourceFile" = 'd9cc735c-076f-4a83-89ad-95d1869bb842.mp3' AND "File"."storagePath" = '/file_storage/QmSPjBeNiARhVSG4scF3WPrb14bKLmm3hNbD7N2D1UU95e' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '3d9122b6-30af-4774-96de-9900cab37aa2' LIMIT 1;
Executing (32e7e47d-2731-4326-80bf-ee454d3a93ef): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_322e32cd798448b0a4d8b7a3ff15a4b2$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('1e673bd4-c3a5-4b47-97ee-ac7efb867c73','11c34897-1946-4dfc-b59c-f646a1fc69fe','3d9122b6-30af-4774-96de-9900cab37aa2','QmSPjBeNiARhVSG4scF3WPrb14bKLmm3hNbD7N2D1UU95e','d9cc735c-076f-4a83-89ad-95d1869bb842.mp3','/file_storage/QmSPjBeNiARhVSG4scF3WPrb14bKLmm3hNbD7N2D1UU95e','copy320','2020-03-05 17:37:16.019 +00:00','2020-03-05 17:37:16.019 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_322e32cd798448b0a4d8b7a3ff15a4b2$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (32e7e47d-2731-4326-80bf-ee454d3a93ef): COMMIT;
{ fileUUID: '1e673bd4-c3a5-4b47-97ee-ac7efb867c73',
  cnodeUserUUID: '11c34897-1946-4dfc-b59c-f646a1fc69fe',
  multihash: 'QmSPjBeNiARhVSG4scF3WPrb14bKLmm3hNbD7N2D1UU95e',
  sourceFile: 'd9cc735c-076f-4a83-89ad-95d1869bb842.mp3',
  storagePath:
   '/file_storage/QmSPjBeNiARhVSG4scF3WPrb14bKLmm3hNbD7N2D1UU95e',
  type: 'copy320',
  trackUUID: '3d9122b6-30af-4774-96de-9900cab37aa2',
  updatedAt: 2020-03-05T17:37:16.019Z,
  createdAt: 2020-03-05T17:37:16.019Z }
writing to db3...
Executing (5bf51df1-d943-419a-a7e4-6eb9b8e57de7): START TRANSACTION;
Executing (5bf51df1-d943-419a-a7e4-6eb9b8e57de7): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '11c34897-1946-4dfc-b59c-f646a1fc69fe' AND "File"."multihash" = 'QmSPjBeNiARhVSG4scF3WPrb14bKLmm3hNbD7N2D1UU95e' AND "File"."sourceFile" = 'd9cc735c-076f-4a83-89ad-95d1869bb842.mp3' AND "File"."storagePath" = '/file_storage/QmSPjBeNiARhVSG4scF3WPrb14bKLmm3hNbD7N2D1UU95e' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '3d9122b6-30af-4774-96de-9900cab37aa2' LIMIT 1;
Executing (5bf51df1-d943-419a-a7e4-6eb9b8e57de7): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_64ffc3bdcff84b7ba9374ffb577aef89$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('99b89548-a880-4e65-8797-0476312137e2','11c34897-1946-4dfc-b59c-f646a1fc69fe','3d9122b6-30af-4774-96de-9900cab37aa2','QmSPjBeNiARhVSG4scF3WPrb14bKLmm3hNbD7N2D1UU95e','d9cc735c-076f-4a83-89ad-95d1869bb842.mp3','/file_storage/QmSPjBeNiARhVSG4scF3WPrb14bKLmm3hNbD7N2D1UU95e','copy320','2020-03-05 17:37:16.450 +00:00','2020-03-05 17:37:16.450 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_64ffc3bdcff84b7ba9374ffb577aef89$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (5bf51df1-d943-419a-a7e4-6eb9b8e57de7): COMMIT;
{ fileUUID: '99b89548-a880-4e65-8797-0476312137e2',
  cnodeUserUUID: '11c34897-1946-4dfc-b59c-f646a1fc69fe',
  multihash: 'QmSPjBeNiARhVSG4scF3WPrb14bKLmm3hNbD7N2D1UU95e',
  sourceFile: 'd9cc735c-076f-4a83-89ad-95d1869bb842.mp3',
  storagePath:
   '/file_storage/QmSPjBeNiARhVSG4scF3WPrb14bKLmm3hNbD7N2D1UU95e',
  type: 'copy320',
  trackUUID: '3d9122b6-30af-4774-96de-9900cab37aa2',
  updatedAt: 2020-03-05T17:37:16.450Z,
  createdAt: 2020-03-05T17:37:16.450Z }




PROCESSING ROW #40: sourcefile: ebfa39d0-68d9-4a6f-a87a-5da7797c7c18.wav, cnodeUserUUID: 1192ff87-1e8e-4c56-8ffa-5caa0b06024b, trackUUID: 3100b0ec-195c-4cab-9f1f-bac7191cc582, multihash: QmX9ffyKwNhpeztM7VrUuv3sooKYm76yvF5YoAdECKbpyJ, dstPath: /file_storage/QmX9ffyKwNhpeztM7VrUuv3sooKYm76yvF5YoAdECKbpyJ
writing to db1...
Executing (6889505e-c841-4e46-a93e-5fc8e19b7eaf): START TRANSACTION;
Executing (6889505e-c841-4e46-a93e-5fc8e19b7eaf): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '1192ff87-1e8e-4c56-8ffa-5caa0b06024b' AND "File"."multihash" = 'QmX9ffyKwNhpeztM7VrUuv3sooKYm76yvF5YoAdECKbpyJ' AND "File"."sourceFile" = 'ebfa39d0-68d9-4a6f-a87a-5da7797c7c18.wav' AND "File"."storagePath" = '/file_storage/QmX9ffyKwNhpeztM7VrUuv3sooKYm76yvF5YoAdECKbpyJ' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '3100b0ec-195c-4cab-9f1f-bac7191cc582' LIMIT 1;
Executing (6889505e-c841-4e46-a93e-5fc8e19b7eaf): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_4d0a18071dbd436294ed097b8e4b781f$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('8dc2a043-31c0-44e2-8e84-2a48e33f7a7f','1192ff87-1e8e-4c56-8ffa-5caa0b06024b','3100b0ec-195c-4cab-9f1f-bac7191cc582','QmX9ffyKwNhpeztM7VrUuv3sooKYm76yvF5YoAdECKbpyJ','ebfa39d0-68d9-4a6f-a87a-5da7797c7c18.wav','/file_storage/QmX9ffyKwNhpeztM7VrUuv3sooKYm76yvF5YoAdECKbpyJ','copy320','2020-03-05 17:37:16.871 +00:00','2020-03-05 17:37:16.871 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_4d0a18071dbd436294ed097b8e4b781f$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (6889505e-c841-4e46-a93e-5fc8e19b7eaf): COMMIT;
{ fileUUID: '8dc2a043-31c0-44e2-8e84-2a48e33f7a7f',
  cnodeUserUUID: '1192ff87-1e8e-4c56-8ffa-5caa0b06024b',
  multihash: 'QmX9ffyKwNhpeztM7VrUuv3sooKYm76yvF5YoAdECKbpyJ',
  sourceFile: 'ebfa39d0-68d9-4a6f-a87a-5da7797c7c18.wav',
  storagePath:
   '/file_storage/QmX9ffyKwNhpeztM7VrUuv3sooKYm76yvF5YoAdECKbpyJ',
  type: 'copy320',
  trackUUID: '3100b0ec-195c-4cab-9f1f-bac7191cc582',
  updatedAt: 2020-03-05T17:37:16.871Z,
  createdAt: 2020-03-05T17:37:16.871Z }
writing to db2...
Executing (ab18d00f-be26-4231-97ce-befde0bf2773): START TRANSACTION;
Executing (ab18d00f-be26-4231-97ce-befde0bf2773): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '1192ff87-1e8e-4c56-8ffa-5caa0b06024b' AND "File"."multihash" = 'QmX9ffyKwNhpeztM7VrUuv3sooKYm76yvF5YoAdECKbpyJ' AND "File"."sourceFile" = 'ebfa39d0-68d9-4a6f-a87a-5da7797c7c18.wav' AND "File"."storagePath" = '/file_storage/QmX9ffyKwNhpeztM7VrUuv3sooKYm76yvF5YoAdECKbpyJ' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '3100b0ec-195c-4cab-9f1f-bac7191cc582' LIMIT 1;
Executing (ab18d00f-be26-4231-97ce-befde0bf2773): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_f4e1c2f91de94cf3a46403c01e353c7c$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('783989a7-2430-4392-99c1-4b43a26e2025','1192ff87-1e8e-4c56-8ffa-5caa0b06024b','3100b0ec-195c-4cab-9f1f-bac7191cc582','QmX9ffyKwNhpeztM7VrUuv3sooKYm76yvF5YoAdECKbpyJ','ebfa39d0-68d9-4a6f-a87a-5da7797c7c18.wav','/file_storage/QmX9ffyKwNhpeztM7VrUuv3sooKYm76yvF5YoAdECKbpyJ','copy320','2020-03-05 17:37:17.272 +00:00','2020-03-05 17:37:17.272 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_f4e1c2f91de94cf3a46403c01e353c7c$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (ab18d00f-be26-4231-97ce-befde0bf2773): COMMIT;
{ fileUUID: '783989a7-2430-4392-99c1-4b43a26e2025',
  cnodeUserUUID: '1192ff87-1e8e-4c56-8ffa-5caa0b06024b',
  multihash: 'QmX9ffyKwNhpeztM7VrUuv3sooKYm76yvF5YoAdECKbpyJ',
  sourceFile: 'ebfa39d0-68d9-4a6f-a87a-5da7797c7c18.wav',
  storagePath:
   '/file_storage/QmX9ffyKwNhpeztM7VrUuv3sooKYm76yvF5YoAdECKbpyJ',
  type: 'copy320',
  trackUUID: '3100b0ec-195c-4cab-9f1f-bac7191cc582',
  updatedAt: 2020-03-05T17:37:17.272Z,
  createdAt: 2020-03-05T17:37:17.272Z }
writing to db3...
Executing (9a79ea11-4ebc-46f3-ab54-bd08176caec0): START TRANSACTION;
Executing (9a79ea11-4ebc-46f3-ab54-bd08176caec0): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '1192ff87-1e8e-4c56-8ffa-5caa0b06024b' AND "File"."multihash" = 'QmX9ffyKwNhpeztM7VrUuv3sooKYm76yvF5YoAdECKbpyJ' AND "File"."sourceFile" = 'ebfa39d0-68d9-4a6f-a87a-5da7797c7c18.wav' AND "File"."storagePath" = '/file_storage/QmX9ffyKwNhpeztM7VrUuv3sooKYm76yvF5YoAdECKbpyJ' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '3100b0ec-195c-4cab-9f1f-bac7191cc582' LIMIT 1;
Executing (9a79ea11-4ebc-46f3-ab54-bd08176caec0): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_c66ca74b5cc04582a47ae60a48dbfbf9$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('9ada6043-72e9-48e5-944a-689357794e86','1192ff87-1e8e-4c56-8ffa-5caa0b06024b','3100b0ec-195c-4cab-9f1f-bac7191cc582','QmX9ffyKwNhpeztM7VrUuv3sooKYm76yvF5YoAdECKbpyJ','ebfa39d0-68d9-4a6f-a87a-5da7797c7c18.wav','/file_storage/QmX9ffyKwNhpeztM7VrUuv3sooKYm76yvF5YoAdECKbpyJ','copy320','2020-03-05 17:37:17.717 +00:00','2020-03-05 17:37:17.717 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_c66ca74b5cc04582a47ae60a48dbfbf9$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (9a79ea11-4ebc-46f3-ab54-bd08176caec0): COMMIT;
{ SequelizeForeignKeyConstraintError: insert or update on table "Files" violates foreign key constraint "Files_cnodeUserUUID_fkey"
    at Query.formatError (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/sequelize/lib/dialects/postgres/query.js:296:16)
    at query.catch.err (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/sequelize/lib/dialects/postgres/query.js:86:18)
    at tryCatcher (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/bluebird/js/release/util.js:16:23)
    at Promise._settlePromiseFromHandler (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/bluebird/js/release/promise.js:517:31)
    at Promise._settlePromise (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/bluebird/js/release/promise.js:574:18)
    at Promise._settlePromise0 (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/bluebird/js/release/promise.js:619:10)
    at Promise._settlePromises (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/bluebird/js/release/promise.js:695:18)
    at _drainQueueStep (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/bluebird/js/release/async.js:138:12)
    at _drainQueue (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/bluebird/js/release/async.js:131:9)
    at Async._drainQueues (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/bluebird/js/release/async.js:147:5)
    at Immediate.Async.drainQueues [as _onImmediate] (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/bluebird/js/release/async.js:17:14)
    at runCallback (timers.js:705:18)
    at tryOnImmediate (timers.js:676:5)
    at processImmediate (timers.js:658:5)
  name: 'SequelizeForeignKeyConstraintError',
  parent:
   { error: insert or update on table "Files" violates foreign key constraint "Files_cnodeUserUUID_fkey"
       at Connection.parseE (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/pg/lib/connection.js:604:11)
       at Connection.parseMessage (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/pg/lib/connection.js:401:19)
       at Socket.<anonymous> (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/pg/lib/connection.js:121:22)
       at Socket.emit (events.js:198:13)
       at addChunk (_stream_readable.js:288:12)
       at readableAddChunk (_stream_readable.js:269:11)
       at Socket.Readable.push (_stream_readable.js:224:10)
       at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)
     name: 'error',
     length: 881,
     severity: 'ERROR',
     code: '23503',
     detail:
      'Key (cnodeUserUUID)=(1192ff87-1e8e-4c56-8ffa-5caa0b06024b) is not present in table "CNodeUsers".',
     hint: undefined,
     position: undefined,
     internalPosition: undefined,
     internalQuery: undefined,
     where:
      'SQL statement "INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES (\'9ada6043-72e9-48e5-944a-689357794e86\',\'1192ff87-1e8e-4c56-8ffa-5caa0b06024b\',\'3100b0ec-195c-4cab-9f1f-bac7191cc582\',\'QmX9ffyKwNhpeztM7VrUuv3sooKYm76yvF5YoAdECKbpyJ\',\'ebfa39d0-68d9-4a6f-a87a-5da7797c7c18.wav\',\'/file_storage/QmX9ffyKwNhpeztM7VrUuv3sooKYm76yvF5YoAdECKbpyJ\',\'copy320\',\'2020-03-05 17:37:17.717 +00:00\',\'2020-03-05 17:37:17.717 +00:00\') RETURNING *"\nPL/pgSQL function pg_temp_10.testfunc() line 1 at SQL statement',
     schema: 'public',
     table: 'Files',
     column: undefined,
     dataType: undefined,
     constraint: 'Files_cnodeUserUUID_fkey',
     file: 'ri_triggers.c',
     line: '2783',
     routine: 'ri_ReportViolation',
     sql:
      'CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_c66ca74b5cc04582a47ae60a48dbfbf9$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES (\'9ada6043-72e9-48e5-944a-689357794e86\',\'1192ff87-1e8e-4c56-8ffa-5caa0b06024b\',\'3100b0ec-195c-4cab-9f1f-bac7191cc582\',\'QmX9ffyKwNhpeztM7VrUuv3sooKYm76yvF5YoAdECKbpyJ\',\'ebfa39d0-68d9-4a6f-a87a-5da7797c7c18.wav\',\'/file_storage/QmX9ffyKwNhpeztM7VrUuv3sooKYm76yvF5YoAdECKbpyJ\',\'copy320\',\'2020-03-05 17:37:17.717 +00:00\',\'2020-03-05 17:37:17.717 +00:00\') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_c66ca74b5cc04582a47ae60a48dbfbf9$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();' },
  original:
   { error: insert or update on table "Files" violates foreign key constraint "Files_cnodeUserUUID_fkey"
       at Connection.parseE (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/pg/lib/connection.js:604:11)
       at Connection.parseMessage (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/pg/lib/connection.js:401:19)
       at Socket.<anonymous> (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/pg/lib/connection.js:121:22)
       at Socket.emit (events.js:198:13)
       at addChunk (_stream_readable.js:288:12)
       at readableAddChunk (_stream_readable.js:269:11)
       at Socket.Readable.push (_stream_readable.js:224:10)
       at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)
     name: 'error',
     length: 881,
     severity: 'ERROR',
     code: '23503',
     detail:
      'Key (cnodeUserUUID)=(1192ff87-1e8e-4c56-8ffa-5caa0b06024b) is not present in table "CNodeUsers".',
     hint: undefined,
     position: undefined,
     internalPosition: undefined,
     internalQuery: undefined,
     where:
      'SQL statement "INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES (\'9ada6043-72e9-48e5-944a-689357794e86\',\'1192ff87-1e8e-4c56-8ffa-5caa0b06024b\',\'3100b0ec-195c-4cab-9f1f-bac7191cc582\',\'QmX9ffyKwNhpeztM7VrUuv3sooKYm76yvF5YoAdECKbpyJ\',\'ebfa39d0-68d9-4a6f-a87a-5da7797c7c18.wav\',\'/file_storage/QmX9ffyKwNhpeztM7VrUuv3sooKYm76yvF5YoAdECKbpyJ\',\'copy320\',\'2020-03-05 17:37:17.717 +00:00\',\'2020-03-05 17:37:17.717 +00:00\') RETURNING *"\nPL/pgSQL function pg_temp_10.testfunc() line 1 at SQL statement',
     schema: 'public',
     table: 'Files',
     column: undefined,
     dataType: undefined,
     constraint: 'Files_cnodeUserUUID_fkey',
     file: 'ri_triggers.c',
     line: '2783',
     routine: 'ri_ReportViolation',
     sql:
      'CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_c66ca74b5cc04582a47ae60a48dbfbf9$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES (\'9ada6043-72e9-48e5-944a-689357794e86\',\'1192ff87-1e8e-4c56-8ffa-5caa0b06024b\',\'3100b0ec-195c-4cab-9f1f-bac7191cc582\',\'QmX9ffyKwNhpeztM7VrUuv3sooKYm76yvF5YoAdECKbpyJ\',\'ebfa39d0-68d9-4a6f-a87a-5da7797c7c18.wav\',\'/file_storage/QmX9ffyKwNhpeztM7VrUuv3sooKYm76yvF5YoAdECKbpyJ\',\'copy320\',\'2020-03-05 17:37:17.717 +00:00\',\'2020-03-05 17:37:17.717 +00:00\') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_c66ca74b5cc04582a47ae60a48dbfbf9$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();' },
  sql:
   'CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_c66ca74b5cc04582a47ae60a48dbfbf9$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES (\'9ada6043-72e9-48e5-944a-689357794e86\',\'1192ff87-1e8e-4c56-8ffa-5caa0b06024b\',\'3100b0ec-195c-4cab-9f1f-bac7191cc582\',\'QmX9ffyKwNhpeztM7VrUuv3sooKYm76yvF5YoAdECKbpyJ\',\'ebfa39d0-68d9-4a6f-a87a-5da7797c7c18.wav\',\'/file_storage/QmX9ffyKwNhpeztM7VrUuv3sooKYm76yvF5YoAdECKbpyJ\',\'copy320\',\'2020-03-05 17:37:17.717 +00:00\',\'2020-03-05 17:37:17.717 +00:00\') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_c66ca74b5cc04582a47ae60a48dbfbf9$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();',
  fields: null,
  table: 'Files',
  value: undefined,
  index: 'Files_cnodeUserUUID_fkey',
  reltype: undefined }




PROCESSING ROW #41: sourcefile: f5a5eabb-c82b-4a6e-b53c-f893ba8f8bfc.mp3, cnodeUserUUID: 8795b8dd-2c71-4163-8d91-5a2f25072272, trackUUID: 8b4a0d7a-7fa7-4b6f-8107-85a42a13a41b, multihash: QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM, dstPath: /file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM
writing to db1...
Executing (2a53a7f5-cf37-429a-8ae2-7f85aef8c646): START TRANSACTION;
Executing (2a53a7f5-cf37-429a-8ae2-7f85aef8c646): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '8795b8dd-2c71-4163-8d91-5a2f25072272' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = 'f5a5eabb-c82b-4a6e-b53c-f893ba8f8bfc.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '8b4a0d7a-7fa7-4b6f-8107-85a42a13a41b' LIMIT 1;
Executing (2a53a7f5-cf37-429a-8ae2-7f85aef8c646): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_a08bf84014cb44a48d0e99224fc7187f$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('cc32f3f4-3756-4354-9559-64626a66f0b1','8795b8dd-2c71-4163-8d91-5a2f25072272','8b4a0d7a-7fa7-4b6f-8107-85a42a13a41b','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','f5a5eabb-c82b-4a6e-b53c-f893ba8f8bfc.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:37:18.154 +00:00','2020-03-05 17:37:18.154 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_a08bf84014cb44a48d0e99224fc7187f$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (2a53a7f5-cf37-429a-8ae2-7f85aef8c646): COMMIT;
{ fileUUID: 'cc32f3f4-3756-4354-9559-64626a66f0b1',
  cnodeUserUUID: '8795b8dd-2c71-4163-8d91-5a2f25072272',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: 'f5a5eabb-c82b-4a6e-b53c-f893ba8f8bfc.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: '8b4a0d7a-7fa7-4b6f-8107-85a42a13a41b',
  updatedAt: 2020-03-05T17:37:18.154Z,
  createdAt: 2020-03-05T17:37:18.154Z }
writing to db2...
Executing (4102a85a-fd3e-47be-a246-91b23b7a69b0): START TRANSACTION;
Executing (4102a85a-fd3e-47be-a246-91b23b7a69b0): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '8795b8dd-2c71-4163-8d91-5a2f25072272' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = 'f5a5eabb-c82b-4a6e-b53c-f893ba8f8bfc.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '8b4a0d7a-7fa7-4b6f-8107-85a42a13a41b' LIMIT 1;
Executing (4102a85a-fd3e-47be-a246-91b23b7a69b0): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_3a71bb497baa4ff3bbaf7871d9a2942a$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('cbbf0655-78e3-40dd-8695-da77ff96e115','8795b8dd-2c71-4163-8d91-5a2f25072272','8b4a0d7a-7fa7-4b6f-8107-85a42a13a41b','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','f5a5eabb-c82b-4a6e-b53c-f893ba8f8bfc.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:37:18.561 +00:00','2020-03-05 17:37:18.561 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_3a71bb497baa4ff3bbaf7871d9a2942a$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (4102a85a-fd3e-47be-a246-91b23b7a69b0): COMMIT;
{ fileUUID: 'cbbf0655-78e3-40dd-8695-da77ff96e115',
  cnodeUserUUID: '8795b8dd-2c71-4163-8d91-5a2f25072272',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: 'f5a5eabb-c82b-4a6e-b53c-f893ba8f8bfc.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: '8b4a0d7a-7fa7-4b6f-8107-85a42a13a41b',
  updatedAt: 2020-03-05T17:37:18.561Z,
  createdAt: 2020-03-05T17:37:18.561Z }
writing to db3...
Executing (7c4f9dc1-fb02-414d-a517-4f64da466aa4): START TRANSACTION;
Executing (7c4f9dc1-fb02-414d-a517-4f64da466aa4): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '8795b8dd-2c71-4163-8d91-5a2f25072272' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = 'f5a5eabb-c82b-4a6e-b53c-f893ba8f8bfc.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '8b4a0d7a-7fa7-4b6f-8107-85a42a13a41b' LIMIT 1;
Executing (7c4f9dc1-fb02-414d-a517-4f64da466aa4): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_cce7cc5927244340952e2dbf46924dd3$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('4679a0ab-0ff3-4da6-bc95-43a1bb99b643','8795b8dd-2c71-4163-8d91-5a2f25072272','8b4a0d7a-7fa7-4b6f-8107-85a42a13a41b','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','f5a5eabb-c82b-4a6e-b53c-f893ba8f8bfc.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:37:18.985 +00:00','2020-03-05 17:37:18.985 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_cce7cc5927244340952e2dbf46924dd3$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (7c4f9dc1-fb02-414d-a517-4f64da466aa4): COMMIT;
{ fileUUID: '4679a0ab-0ff3-4da6-bc95-43a1bb99b643',
  cnodeUserUUID: '8795b8dd-2c71-4163-8d91-5a2f25072272',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: 'f5a5eabb-c82b-4a6e-b53c-f893ba8f8bfc.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: '8b4a0d7a-7fa7-4b6f-8107-85a42a13a41b',
  updatedAt: 2020-03-05T17:37:18.985Z,
  createdAt: 2020-03-05T17:37:18.985Z }




PROCESSING ROW #42: sourcefile: 948c6931-0316-4253-80df-1f5631f4821a.mp3, cnodeUserUUID: 11c34897-1946-4dfc-b59c-f646a1fc69fe, trackUUID: 8382f350-a009-4c37-91de-d1ac545d0070, multihash: Qme4jTYG8h2nVka5BqqgVqkyf25KqhJAkHn1Kyn9Gznuiz, dstPath: /file_storage/Qme4jTYG8h2nVka5BqqgVqkyf25KqhJAkHn1Kyn9Gznuiz
writing to db1...
Executing (6261db6b-84f0-45ff-9505-a8f9520837ed): START TRANSACTION;
Executing (6261db6b-84f0-45ff-9505-a8f9520837ed): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '11c34897-1946-4dfc-b59c-f646a1fc69fe' AND "File"."multihash" = 'Qme4jTYG8h2nVka5BqqgVqkyf25KqhJAkHn1Kyn9Gznuiz' AND "File"."sourceFile" = '948c6931-0316-4253-80df-1f5631f4821a.mp3' AND "File"."storagePath" = '/file_storage/Qme4jTYG8h2nVka5BqqgVqkyf25KqhJAkHn1Kyn9Gznuiz' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '8382f350-a009-4c37-91de-d1ac545d0070' LIMIT 1;
Executing (6261db6b-84f0-45ff-9505-a8f9520837ed): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_894021e130654aff8574c44000ada8f7$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('27d2a1ca-a15f-487b-b6ab-9f2059c55056','11c34897-1946-4dfc-b59c-f646a1fc69fe','8382f350-a009-4c37-91de-d1ac545d0070','Qme4jTYG8h2nVka5BqqgVqkyf25KqhJAkHn1Kyn9Gznuiz','948c6931-0316-4253-80df-1f5631f4821a.mp3','/file_storage/Qme4jTYG8h2nVka5BqqgVqkyf25KqhJAkHn1Kyn9Gznuiz','copy320','2020-03-05 17:37:19.421 +00:00','2020-03-05 17:37:19.421 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_894021e130654aff8574c44000ada8f7$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (6261db6b-84f0-45ff-9505-a8f9520837ed): COMMIT;
{ fileUUID: '27d2a1ca-a15f-487b-b6ab-9f2059c55056',
  cnodeUserUUID: '11c34897-1946-4dfc-b59c-f646a1fc69fe',
  multihash: 'Qme4jTYG8h2nVka5BqqgVqkyf25KqhJAkHn1Kyn9Gznuiz',
  sourceFile: '948c6931-0316-4253-80df-1f5631f4821a.mp3',
  storagePath:
   '/file_storage/Qme4jTYG8h2nVka5BqqgVqkyf25KqhJAkHn1Kyn9Gznuiz',
  type: 'copy320',
  trackUUID: '8382f350-a009-4c37-91de-d1ac545d0070',
  updatedAt: 2020-03-05T17:37:19.421Z,
  createdAt: 2020-03-05T17:37:19.421Z }
writing to db2...
Executing (1f386ef0-5c1d-4d47-a8cc-263561f304c7): START TRANSACTION;
Executing (1f386ef0-5c1d-4d47-a8cc-263561f304c7): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '11c34897-1946-4dfc-b59c-f646a1fc69fe' AND "File"."multihash" = 'Qme4jTYG8h2nVka5BqqgVqkyf25KqhJAkHn1Kyn9Gznuiz' AND "File"."sourceFile" = '948c6931-0316-4253-80df-1f5631f4821a.mp3' AND "File"."storagePath" = '/file_storage/Qme4jTYG8h2nVka5BqqgVqkyf25KqhJAkHn1Kyn9Gznuiz' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '8382f350-a009-4c37-91de-d1ac545d0070' LIMIT 1;
Executing (1f386ef0-5c1d-4d47-a8cc-263561f304c7): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_1555241c9d1444e3ae745f55b5b07b42$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('2725dd57-bab5-4e5a-9c0e-28df4633b348','11c34897-1946-4dfc-b59c-f646a1fc69fe','8382f350-a009-4c37-91de-d1ac545d0070','Qme4jTYG8h2nVka5BqqgVqkyf25KqhJAkHn1Kyn9Gznuiz','948c6931-0316-4253-80df-1f5631f4821a.mp3','/file_storage/Qme4jTYG8h2nVka5BqqgVqkyf25KqhJAkHn1Kyn9Gznuiz','copy320','2020-03-05 17:37:19.834 +00:00','2020-03-05 17:37:19.834 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_1555241c9d1444e3ae745f55b5b07b42$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (1f386ef0-5c1d-4d47-a8cc-263561f304c7): COMMIT;
{ fileUUID: '2725dd57-bab5-4e5a-9c0e-28df4633b348',
  cnodeUserUUID: '11c34897-1946-4dfc-b59c-f646a1fc69fe',
  multihash: 'Qme4jTYG8h2nVka5BqqgVqkyf25KqhJAkHn1Kyn9Gznuiz',
  sourceFile: '948c6931-0316-4253-80df-1f5631f4821a.mp3',
  storagePath:
   '/file_storage/Qme4jTYG8h2nVka5BqqgVqkyf25KqhJAkHn1Kyn9Gznuiz',
  type: 'copy320',
  trackUUID: '8382f350-a009-4c37-91de-d1ac545d0070',
  updatedAt: 2020-03-05T17:37:19.834Z,
  createdAt: 2020-03-05T17:37:19.834Z }
writing to db3...
Executing (941b9c12-4b19-43c7-8543-60e35cebe256): START TRANSACTION;
Executing (941b9c12-4b19-43c7-8543-60e35cebe256): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '11c34897-1946-4dfc-b59c-f646a1fc69fe' AND "File"."multihash" = 'Qme4jTYG8h2nVka5BqqgVqkyf25KqhJAkHn1Kyn9Gznuiz' AND "File"."sourceFile" = '948c6931-0316-4253-80df-1f5631f4821a.mp3' AND "File"."storagePath" = '/file_storage/Qme4jTYG8h2nVka5BqqgVqkyf25KqhJAkHn1Kyn9Gznuiz' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '8382f350-a009-4c37-91de-d1ac545d0070' LIMIT 1;
Executing (941b9c12-4b19-43c7-8543-60e35cebe256): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_6e06927b04fa4723854f5896864d7e39$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('7856162a-d2b2-4a23-ac4a-1529490470d1','11c34897-1946-4dfc-b59c-f646a1fc69fe','8382f350-a009-4c37-91de-d1ac545d0070','Qme4jTYG8h2nVka5BqqgVqkyf25KqhJAkHn1Kyn9Gznuiz','948c6931-0316-4253-80df-1f5631f4821a.mp3','/file_storage/Qme4jTYG8h2nVka5BqqgVqkyf25KqhJAkHn1Kyn9Gznuiz','copy320','2020-03-05 17:37:20.260 +00:00','2020-03-05 17:37:20.260 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_6e06927b04fa4723854f5896864d7e39$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (941b9c12-4b19-43c7-8543-60e35cebe256): COMMIT;
{ fileUUID: '7856162a-d2b2-4a23-ac4a-1529490470d1',
  cnodeUserUUID: '11c34897-1946-4dfc-b59c-f646a1fc69fe',
  multihash: 'Qme4jTYG8h2nVka5BqqgVqkyf25KqhJAkHn1Kyn9Gznuiz',
  sourceFile: '948c6931-0316-4253-80df-1f5631f4821a.mp3',
  storagePath:
   '/file_storage/Qme4jTYG8h2nVka5BqqgVqkyf25KqhJAkHn1Kyn9Gznuiz',
  type: 'copy320',
  trackUUID: '8382f350-a009-4c37-91de-d1ac545d0070',
  updatedAt: 2020-03-05T17:37:20.260Z,
  createdAt: 2020-03-05T17:37:20.260Z }




PROCESSING ROW #43: sourcefile: 333fc0ad-0d23-4ffa-b2f4-3ab24bddda42.wav, cnodeUserUUID: a4182ee5-2db5-401b-812d-00fcdda4e06b, trackUUID: 466e081d-1252-493d-a240-751039e34318, multihash: QmVBoNxenLv7PQcm8KfDtXwEfJnUnoqc3buNweGpmtgJST, dstPath: /file_storage/QmVBoNxenLv7PQcm8KfDtXwEfJnUnoqc3buNweGpmtgJST
writing to db1...
Executing (378bc499-9b80-4152-ac57-73b0ff79fd08): START TRANSACTION;
Executing (378bc499-9b80-4152-ac57-73b0ff79fd08): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = 'a4182ee5-2db5-401b-812d-00fcdda4e06b' AND "File"."multihash" = 'QmVBoNxenLv7PQcm8KfDtXwEfJnUnoqc3buNweGpmtgJST' AND "File"."sourceFile" = '333fc0ad-0d23-4ffa-b2f4-3ab24bddda42.wav' AND "File"."storagePath" = '/file_storage/QmVBoNxenLv7PQcm8KfDtXwEfJnUnoqc3buNweGpmtgJST' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '466e081d-1252-493d-a240-751039e34318' LIMIT 1;
Executing (378bc499-9b80-4152-ac57-73b0ff79fd08): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_f64ebc628a7f46f5ab20c8c515a97b9a$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('c63d545f-02dd-4631-9c9a-e7d8dbc00511','a4182ee5-2db5-401b-812d-00fcdda4e06b','466e081d-1252-493d-a240-751039e34318','QmVBoNxenLv7PQcm8KfDtXwEfJnUnoqc3buNweGpmtgJST','333fc0ad-0d23-4ffa-b2f4-3ab24bddda42.wav','/file_storage/QmVBoNxenLv7PQcm8KfDtXwEfJnUnoqc3buNweGpmtgJST','copy320','2020-03-05 17:37:20.678 +00:00','2020-03-05 17:37:20.678 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_f64ebc628a7f46f5ab20c8c515a97b9a$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (378bc499-9b80-4152-ac57-73b0ff79fd08): COMMIT;
{ fileUUID: 'c63d545f-02dd-4631-9c9a-e7d8dbc00511',
  cnodeUserUUID: 'a4182ee5-2db5-401b-812d-00fcdda4e06b',
  multihash: 'QmVBoNxenLv7PQcm8KfDtXwEfJnUnoqc3buNweGpmtgJST',
  sourceFile: '333fc0ad-0d23-4ffa-b2f4-3ab24bddda42.wav',
  storagePath:
   '/file_storage/QmVBoNxenLv7PQcm8KfDtXwEfJnUnoqc3buNweGpmtgJST',
  type: 'copy320',
  trackUUID: '466e081d-1252-493d-a240-751039e34318',
  updatedAt: 2020-03-05T17:37:20.678Z,
  createdAt: 2020-03-05T17:37:20.678Z }
writing to db2...
Executing (3ddf51de-9500-455b-a89b-929355c20e90): START TRANSACTION;
Executing (3ddf51de-9500-455b-a89b-929355c20e90): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = 'a4182ee5-2db5-401b-812d-00fcdda4e06b' AND "File"."multihash" = 'QmVBoNxenLv7PQcm8KfDtXwEfJnUnoqc3buNweGpmtgJST' AND "File"."sourceFile" = '333fc0ad-0d23-4ffa-b2f4-3ab24bddda42.wav' AND "File"."storagePath" = '/file_storage/QmVBoNxenLv7PQcm8KfDtXwEfJnUnoqc3buNweGpmtgJST' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '466e081d-1252-493d-a240-751039e34318' LIMIT 1;
Executing (3ddf51de-9500-455b-a89b-929355c20e90): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_ed41f3e5aeed4168a9db741f8bbf495d$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('e31da25b-553d-44fa-bb42-4d2cca59f85d','a4182ee5-2db5-401b-812d-00fcdda4e06b','466e081d-1252-493d-a240-751039e34318','QmVBoNxenLv7PQcm8KfDtXwEfJnUnoqc3buNweGpmtgJST','333fc0ad-0d23-4ffa-b2f4-3ab24bddda42.wav','/file_storage/QmVBoNxenLv7PQcm8KfDtXwEfJnUnoqc3buNweGpmtgJST','copy320','2020-03-05 17:37:21.113 +00:00','2020-03-05 17:37:21.113 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_ed41f3e5aeed4168a9db741f8bbf495d$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (3ddf51de-9500-455b-a89b-929355c20e90): COMMIT;
{ fileUUID: 'e31da25b-553d-44fa-bb42-4d2cca59f85d',
  cnodeUserUUID: 'a4182ee5-2db5-401b-812d-00fcdda4e06b',
  multihash: 'QmVBoNxenLv7PQcm8KfDtXwEfJnUnoqc3buNweGpmtgJST',
  sourceFile: '333fc0ad-0d23-4ffa-b2f4-3ab24bddda42.wav',
  storagePath:
   '/file_storage/QmVBoNxenLv7PQcm8KfDtXwEfJnUnoqc3buNweGpmtgJST',
  type: 'copy320',
  trackUUID: '466e081d-1252-493d-a240-751039e34318',
  updatedAt: 2020-03-05T17:37:21.113Z,
  createdAt: 2020-03-05T17:37:21.113Z }
writing to db3...
Executing (942f91dc-c52c-472f-badb-4b969ea727bf): START TRANSACTION;
Executing (942f91dc-c52c-472f-badb-4b969ea727bf): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = 'a4182ee5-2db5-401b-812d-00fcdda4e06b' AND "File"."multihash" = 'QmVBoNxenLv7PQcm8KfDtXwEfJnUnoqc3buNweGpmtgJST' AND "File"."sourceFile" = '333fc0ad-0d23-4ffa-b2f4-3ab24bddda42.wav' AND "File"."storagePath" = '/file_storage/QmVBoNxenLv7PQcm8KfDtXwEfJnUnoqc3buNweGpmtgJST' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '466e081d-1252-493d-a240-751039e34318' LIMIT 1;
Executing (942f91dc-c52c-472f-badb-4b969ea727bf): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_e031ad9ed1e9467da9f96813d4721769$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('8f962132-623b-4268-9abe-4a1898a3a35d','a4182ee5-2db5-401b-812d-00fcdda4e06b','466e081d-1252-493d-a240-751039e34318','QmVBoNxenLv7PQcm8KfDtXwEfJnUnoqc3buNweGpmtgJST','333fc0ad-0d23-4ffa-b2f4-3ab24bddda42.wav','/file_storage/QmVBoNxenLv7PQcm8KfDtXwEfJnUnoqc3buNweGpmtgJST','copy320','2020-03-05 17:37:21.540 +00:00','2020-03-05 17:37:21.540 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_e031ad9ed1e9467da9f96813d4721769$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (942f91dc-c52c-472f-badb-4b969ea727bf): COMMIT;
{ fileUUID: '8f962132-623b-4268-9abe-4a1898a3a35d',
  cnodeUserUUID: 'a4182ee5-2db5-401b-812d-00fcdda4e06b',
  multihash: 'QmVBoNxenLv7PQcm8KfDtXwEfJnUnoqc3buNweGpmtgJST',
  sourceFile: '333fc0ad-0d23-4ffa-b2f4-3ab24bddda42.wav',
  storagePath:
   '/file_storage/QmVBoNxenLv7PQcm8KfDtXwEfJnUnoqc3buNweGpmtgJST',
  type: 'copy320',
  trackUUID: '466e081d-1252-493d-a240-751039e34318',
  updatedAt: 2020-03-05T17:37:21.540Z,
  createdAt: 2020-03-05T17:37:21.540Z }




PROCESSING ROW #44: sourcefile: 36ce5db1-527e-41ae-9383-3c545b598a6a.mp3, cnodeUserUUID: ed7a162e-1602-49de-b6ec-f86b72a3c0d7, trackUUID: 60175723-6c74-4b60-851f-099fe5fe45ec, multihash: QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM, dstPath: /file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM
writing to db1...
Executing (92136ce3-c36d-4a2f-bd82-df40fbcc75e4): START TRANSACTION;
Executing (92136ce3-c36d-4a2f-bd82-df40fbcc75e4): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = 'ed7a162e-1602-49de-b6ec-f86b72a3c0d7' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = '36ce5db1-527e-41ae-9383-3c545b598a6a.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '60175723-6c74-4b60-851f-099fe5fe45ec' LIMIT 1;
Executing (92136ce3-c36d-4a2f-bd82-df40fbcc75e4): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_c506b8d698fd4b279f4ae08f5e000722$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('1b07f88c-8f59-4b38-8cd4-06c3ce471acb','ed7a162e-1602-49de-b6ec-f86b72a3c0d7','60175723-6c74-4b60-851f-099fe5fe45ec','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','36ce5db1-527e-41ae-9383-3c545b598a6a.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:37:21.950 +00:00','2020-03-05 17:37:21.950 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_c506b8d698fd4b279f4ae08f5e000722$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (92136ce3-c36d-4a2f-bd82-df40fbcc75e4): COMMIT;
{ fileUUID: '1b07f88c-8f59-4b38-8cd4-06c3ce471acb',
  cnodeUserUUID: 'ed7a162e-1602-49de-b6ec-f86b72a3c0d7',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: '36ce5db1-527e-41ae-9383-3c545b598a6a.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: '60175723-6c74-4b60-851f-099fe5fe45ec',
  updatedAt: 2020-03-05T17:37:21.950Z,
  createdAt: 2020-03-05T17:37:21.950Z }
writing to db2...
Executing (f7068b9a-7a91-4395-a290-7a987c9692b7): START TRANSACTION;
Executing (f7068b9a-7a91-4395-a290-7a987c9692b7): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = 'ed7a162e-1602-49de-b6ec-f86b72a3c0d7' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = '36ce5db1-527e-41ae-9383-3c545b598a6a.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '60175723-6c74-4b60-851f-099fe5fe45ec' LIMIT 1;
Executing (f7068b9a-7a91-4395-a290-7a987c9692b7): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_29d5d5d498494811a4b9512a8349fd57$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('f14a488e-7785-4d58-8894-b1c904cbfa88','ed7a162e-1602-49de-b6ec-f86b72a3c0d7','60175723-6c74-4b60-851f-099fe5fe45ec','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','36ce5db1-527e-41ae-9383-3c545b598a6a.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:37:22.361 +00:00','2020-03-05 17:37:22.361 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_29d5d5d498494811a4b9512a8349fd57$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (f7068b9a-7a91-4395-a290-7a987c9692b7): COMMIT;
{ fileUUID: 'f14a488e-7785-4d58-8894-b1c904cbfa88',
  cnodeUserUUID: 'ed7a162e-1602-49de-b6ec-f86b72a3c0d7',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: '36ce5db1-527e-41ae-9383-3c545b598a6a.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: '60175723-6c74-4b60-851f-099fe5fe45ec',
  updatedAt: 2020-03-05T17:37:22.361Z,
  createdAt: 2020-03-05T17:37:22.361Z }
writing to db3...
Executing (6dc39218-378e-4a45-b54f-306dce358143): START TRANSACTION;
Executing (6dc39218-378e-4a45-b54f-306dce358143): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = 'ed7a162e-1602-49de-b6ec-f86b72a3c0d7' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = '36ce5db1-527e-41ae-9383-3c545b598a6a.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '60175723-6c74-4b60-851f-099fe5fe45ec' LIMIT 1;
Executing (6dc39218-378e-4a45-b54f-306dce358143): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_2271fdd9d1b644479c201dd643df28fd$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('1738ec03-e906-4acb-aa86-9f2164e3fffe','ed7a162e-1602-49de-b6ec-f86b72a3c0d7','60175723-6c74-4b60-851f-099fe5fe45ec','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','36ce5db1-527e-41ae-9383-3c545b598a6a.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:37:22.784 +00:00','2020-03-05 17:37:22.784 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_2271fdd9d1b644479c201dd643df28fd$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (6dc39218-378e-4a45-b54f-306dce358143): COMMIT;
{ fileUUID: '1738ec03-e906-4acb-aa86-9f2164e3fffe',
  cnodeUserUUID: 'ed7a162e-1602-49de-b6ec-f86b72a3c0d7',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: '36ce5db1-527e-41ae-9383-3c545b598a6a.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: '60175723-6c74-4b60-851f-099fe5fe45ec',
  updatedAt: 2020-03-05T17:37:22.784Z,
  createdAt: 2020-03-05T17:37:22.784Z }




PROCESSING ROW #45: sourcefile: f0acca7b-f82c-4d6f-83fb-04aa0b803d86.mp3, cnodeUserUUID: 96844458-9ac2-413f-8e5f-912aae99c88f, trackUUID: 0428251d-cea0-433c-9228-11846aaf91a9, multihash: QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM, dstPath: /file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM
writing to db1...
Executing (5d2cc079-0960-441d-bac0-19c9eaca8708): START TRANSACTION;
Executing (5d2cc079-0960-441d-bac0-19c9eaca8708): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '96844458-9ac2-413f-8e5f-912aae99c88f' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = 'f0acca7b-f82c-4d6f-83fb-04aa0b803d86.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '0428251d-cea0-433c-9228-11846aaf91a9' LIMIT 1;
Executing (5d2cc079-0960-441d-bac0-19c9eaca8708): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_ae62853248e7438aaa36ebf8b0d0c708$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('a071b612-18c9-4421-9fe6-380bef62c9a5','96844458-9ac2-413f-8e5f-912aae99c88f','0428251d-cea0-433c-9228-11846aaf91a9','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','f0acca7b-f82c-4d6f-83fb-04aa0b803d86.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:37:23.189 +00:00','2020-03-05 17:37:23.189 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_ae62853248e7438aaa36ebf8b0d0c708$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (5d2cc079-0960-441d-bac0-19c9eaca8708): COMMIT;
{ fileUUID: 'a071b612-18c9-4421-9fe6-380bef62c9a5',
  cnodeUserUUID: '96844458-9ac2-413f-8e5f-912aae99c88f',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: 'f0acca7b-f82c-4d6f-83fb-04aa0b803d86.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: '0428251d-cea0-433c-9228-11846aaf91a9',
  updatedAt: 2020-03-05T17:37:23.189Z,
  createdAt: 2020-03-05T17:37:23.189Z }
writing to db2...
Executing (aa4f3dee-9b1a-4c17-adf1-2e82bc10e318): START TRANSACTION;
Executing (aa4f3dee-9b1a-4c17-adf1-2e82bc10e318): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '96844458-9ac2-413f-8e5f-912aae99c88f' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = 'f0acca7b-f82c-4d6f-83fb-04aa0b803d86.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '0428251d-cea0-433c-9228-11846aaf91a9' LIMIT 1;
Executing (aa4f3dee-9b1a-4c17-adf1-2e82bc10e318): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_506963e9bc764502a410a3ec30c4b24e$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('84932ad1-27b7-47ff-a9c1-fa5480b79817','96844458-9ac2-413f-8e5f-912aae99c88f','0428251d-cea0-433c-9228-11846aaf91a9','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','f0acca7b-f82c-4d6f-83fb-04aa0b803d86.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:37:23.612 +00:00','2020-03-05 17:37:23.612 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_506963e9bc764502a410a3ec30c4b24e$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (aa4f3dee-9b1a-4c17-adf1-2e82bc10e318): COMMIT;
{ fileUUID: '84932ad1-27b7-47ff-a9c1-fa5480b79817',
  cnodeUserUUID: '96844458-9ac2-413f-8e5f-912aae99c88f',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: 'f0acca7b-f82c-4d6f-83fb-04aa0b803d86.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: '0428251d-cea0-433c-9228-11846aaf91a9',
  updatedAt: 2020-03-05T17:37:23.612Z,
  createdAt: 2020-03-05T17:37:23.612Z }
writing to db3...
Executing (6b79f584-3afe-4fb5-b0ff-f4921b9cdb27): START TRANSACTION;
Executing (6b79f584-3afe-4fb5-b0ff-f4921b9cdb27): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '96844458-9ac2-413f-8e5f-912aae99c88f' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = 'f0acca7b-f82c-4d6f-83fb-04aa0b803d86.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '0428251d-cea0-433c-9228-11846aaf91a9' LIMIT 1;
Executing (6b79f584-3afe-4fb5-b0ff-f4921b9cdb27): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_601c7b5962b2461a93f9bf77ecc94bff$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('cef126ba-ae3b-444f-8a15-853f06ed4f97','96844458-9ac2-413f-8e5f-912aae99c88f','0428251d-cea0-433c-9228-11846aaf91a9','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','f0acca7b-f82c-4d6f-83fb-04aa0b803d86.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:37:24.029 +00:00','2020-03-05 17:37:24.029 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_601c7b5962b2461a93f9bf77ecc94bff$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (6b79f584-3afe-4fb5-b0ff-f4921b9cdb27): COMMIT;
{ fileUUID: 'cef126ba-ae3b-444f-8a15-853f06ed4f97',
  cnodeUserUUID: '96844458-9ac2-413f-8e5f-912aae99c88f',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: 'f0acca7b-f82c-4d6f-83fb-04aa0b803d86.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: '0428251d-cea0-433c-9228-11846aaf91a9',
  updatedAt: 2020-03-05T17:37:24.029Z,
  createdAt: 2020-03-05T17:37:24.029Z }




PROCESSING ROW #46: sourcefile: c9979183-3fdb-4d16-b4fd-6a2998236499.mp3, cnodeUserUUID: 11c34897-1946-4dfc-b59c-f646a1fc69fe, trackUUID: ac5d8084-cc81-4701-842f-8b509e8f182f, multihash: QmWyfpnrKaJHQcJXsM2tp5AfMfEs8gj4LsW9N7KM38pf5Q, dstPath: /file_storage/QmWyfpnrKaJHQcJXsM2tp5AfMfEs8gj4LsW9N7KM38pf5Q
writing to db1...
Executing (049c1de7-b7d9-4ddf-8996-d49b69da6a56): START TRANSACTION;
Executing (049c1de7-b7d9-4ddf-8996-d49b69da6a56): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '11c34897-1946-4dfc-b59c-f646a1fc69fe' AND "File"."multihash" = 'QmWyfpnrKaJHQcJXsM2tp5AfMfEs8gj4LsW9N7KM38pf5Q' AND "File"."sourceFile" = 'c9979183-3fdb-4d16-b4fd-6a2998236499.mp3' AND "File"."storagePath" = '/file_storage/QmWyfpnrKaJHQcJXsM2tp5AfMfEs8gj4LsW9N7KM38pf5Q' AND "File"."type" = 'copy320' AND "File"."trackUUID" = 'ac5d8084-cc81-4701-842f-8b509e8f182f' LIMIT 1;
Executing (049c1de7-b7d9-4ddf-8996-d49b69da6a56): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_a8ee8444c17648dda11c5996160c182d$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('55f91d35-d21d-49c8-b629-58d252dfcfd3','11c34897-1946-4dfc-b59c-f646a1fc69fe','ac5d8084-cc81-4701-842f-8b509e8f182f','QmWyfpnrKaJHQcJXsM2tp5AfMfEs8gj4LsW9N7KM38pf5Q','c9979183-3fdb-4d16-b4fd-6a2998236499.mp3','/file_storage/QmWyfpnrKaJHQcJXsM2tp5AfMfEs8gj4LsW9N7KM38pf5Q','copy320','2020-03-05 17:37:24.441 +00:00','2020-03-05 17:37:24.441 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_a8ee8444c17648dda11c5996160c182d$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (049c1de7-b7d9-4ddf-8996-d49b69da6a56): COMMIT;
{ fileUUID: '55f91d35-d21d-49c8-b629-58d252dfcfd3',
  cnodeUserUUID: '11c34897-1946-4dfc-b59c-f646a1fc69fe',
  multihash: 'QmWyfpnrKaJHQcJXsM2tp5AfMfEs8gj4LsW9N7KM38pf5Q',
  sourceFile: 'c9979183-3fdb-4d16-b4fd-6a2998236499.mp3',
  storagePath:
   '/file_storage/QmWyfpnrKaJHQcJXsM2tp5AfMfEs8gj4LsW9N7KM38pf5Q',
  type: 'copy320',
  trackUUID: 'ac5d8084-cc81-4701-842f-8b509e8f182f',
  updatedAt: 2020-03-05T17:37:24.441Z,
  createdAt: 2020-03-05T17:37:24.441Z }
writing to db2...
Executing (25d48840-eafe-4e2a-b655-0d5cfca22a2d): START TRANSACTION;
Executing (25d48840-eafe-4e2a-b655-0d5cfca22a2d): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '11c34897-1946-4dfc-b59c-f646a1fc69fe' AND "File"."multihash" = 'QmWyfpnrKaJHQcJXsM2tp5AfMfEs8gj4LsW9N7KM38pf5Q' AND "File"."sourceFile" = 'c9979183-3fdb-4d16-b4fd-6a2998236499.mp3' AND "File"."storagePath" = '/file_storage/QmWyfpnrKaJHQcJXsM2tp5AfMfEs8gj4LsW9N7KM38pf5Q' AND "File"."type" = 'copy320' AND "File"."trackUUID" = 'ac5d8084-cc81-4701-842f-8b509e8f182f' LIMIT 1;
Executing (25d48840-eafe-4e2a-b655-0d5cfca22a2d): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_77039e1fb8564b3dbecb1a5603ba29d3$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('e987dd95-5d8f-4adb-a9a5-dacb2879ad77','11c34897-1946-4dfc-b59c-f646a1fc69fe','ac5d8084-cc81-4701-842f-8b509e8f182f','QmWyfpnrKaJHQcJXsM2tp5AfMfEs8gj4LsW9N7KM38pf5Q','c9979183-3fdb-4d16-b4fd-6a2998236499.mp3','/file_storage/QmWyfpnrKaJHQcJXsM2tp5AfMfEs8gj4LsW9N7KM38pf5Q','copy320','2020-03-05 17:37:24.853 +00:00','2020-03-05 17:37:24.853 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_77039e1fb8564b3dbecb1a5603ba29d3$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (25d48840-eafe-4e2a-b655-0d5cfca22a2d): COMMIT;
{ fileUUID: 'e987dd95-5d8f-4adb-a9a5-dacb2879ad77',
  cnodeUserUUID: '11c34897-1946-4dfc-b59c-f646a1fc69fe',
  multihash: 'QmWyfpnrKaJHQcJXsM2tp5AfMfEs8gj4LsW9N7KM38pf5Q',
  sourceFile: 'c9979183-3fdb-4d16-b4fd-6a2998236499.mp3',
  storagePath:
   '/file_storage/QmWyfpnrKaJHQcJXsM2tp5AfMfEs8gj4LsW9N7KM38pf5Q',
  type: 'copy320',
  trackUUID: 'ac5d8084-cc81-4701-842f-8b509e8f182f',
  updatedAt: 2020-03-05T17:37:24.853Z,
  createdAt: 2020-03-05T17:37:24.853Z }
writing to db3...
Executing (beafe937-2b98-4790-b381-ba962bb12284): START TRANSACTION;
Executing (beafe937-2b98-4790-b381-ba962bb12284): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '11c34897-1946-4dfc-b59c-f646a1fc69fe' AND "File"."multihash" = 'QmWyfpnrKaJHQcJXsM2tp5AfMfEs8gj4LsW9N7KM38pf5Q' AND "File"."sourceFile" = 'c9979183-3fdb-4d16-b4fd-6a2998236499.mp3' AND "File"."storagePath" = '/file_storage/QmWyfpnrKaJHQcJXsM2tp5AfMfEs8gj4LsW9N7KM38pf5Q' AND "File"."type" = 'copy320' AND "File"."trackUUID" = 'ac5d8084-cc81-4701-842f-8b509e8f182f' LIMIT 1;
Executing (beafe937-2b98-4790-b381-ba962bb12284): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_2846f45d887a4f1b880583db3638cbc7$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('611cb53e-1d61-489e-9d6a-835e82980170','11c34897-1946-4dfc-b59c-f646a1fc69fe','ac5d8084-cc81-4701-842f-8b509e8f182f','QmWyfpnrKaJHQcJXsM2tp5AfMfEs8gj4LsW9N7KM38pf5Q','c9979183-3fdb-4d16-b4fd-6a2998236499.mp3','/file_storage/QmWyfpnrKaJHQcJXsM2tp5AfMfEs8gj4LsW9N7KM38pf5Q','copy320','2020-03-05 17:37:25.252 +00:00','2020-03-05 17:37:25.252 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_2846f45d887a4f1b880583db3638cbc7$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (beafe937-2b98-4790-b381-ba962bb12284): COMMIT;
{ fileUUID: '611cb53e-1d61-489e-9d6a-835e82980170',
  cnodeUserUUID: '11c34897-1946-4dfc-b59c-f646a1fc69fe',
  multihash: 'QmWyfpnrKaJHQcJXsM2tp5AfMfEs8gj4LsW9N7KM38pf5Q',
  sourceFile: 'c9979183-3fdb-4d16-b4fd-6a2998236499.mp3',
  storagePath:
   '/file_storage/QmWyfpnrKaJHQcJXsM2tp5AfMfEs8gj4LsW9N7KM38pf5Q',
  type: 'copy320',
  trackUUID: 'ac5d8084-cc81-4701-842f-8b509e8f182f',
  updatedAt: 2020-03-05T17:37:25.252Z,
  createdAt: 2020-03-05T17:37:25.252Z }




PROCESSING ROW #47: sourcefile: 0df34c3b-b78d-47ee-b00b-30110c176490.mp3, cnodeUserUUID: 11c34897-1946-4dfc-b59c-f646a1fc69fe, trackUUID: 9b5a691c-a4e8-436b-9441-4e7697fb9553, multihash: Qmf6HUMWvWnByq7FeS9tPPSCfsWrWai8Suz4AA9J7LtT52, dstPath: /file_storage/Qmf6HUMWvWnByq7FeS9tPPSCfsWrWai8Suz4AA9J7LtT52
writing to db1...
Executing (9a252a0f-51a1-42c5-bf99-4bc3c28acdb7): START TRANSACTION;
Executing (9a252a0f-51a1-42c5-bf99-4bc3c28acdb7): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '11c34897-1946-4dfc-b59c-f646a1fc69fe' AND "File"."multihash" = 'Qmf6HUMWvWnByq7FeS9tPPSCfsWrWai8Suz4AA9J7LtT52' AND "File"."sourceFile" = '0df34c3b-b78d-47ee-b00b-30110c176490.mp3' AND "File"."storagePath" = '/file_storage/Qmf6HUMWvWnByq7FeS9tPPSCfsWrWai8Suz4AA9J7LtT52' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '9b5a691c-a4e8-436b-9441-4e7697fb9553' LIMIT 1;
Executing (9a252a0f-51a1-42c5-bf99-4bc3c28acdb7): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_a0a3ce64e5d94ebead960c213005ea61$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('7c525f53-13fd-4fcb-b092-e997e13b9035','11c34897-1946-4dfc-b59c-f646a1fc69fe','9b5a691c-a4e8-436b-9441-4e7697fb9553','Qmf6HUMWvWnByq7FeS9tPPSCfsWrWai8Suz4AA9J7LtT52','0df34c3b-b78d-47ee-b00b-30110c176490.mp3','/file_storage/Qmf6HUMWvWnByq7FeS9tPPSCfsWrWai8Suz4AA9J7LtT52','copy320','2020-03-05 17:37:25.662 +00:00','2020-03-05 17:37:25.662 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_a0a3ce64e5d94ebead960c213005ea61$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (9a252a0f-51a1-42c5-bf99-4bc3c28acdb7): COMMIT;
{ fileUUID: '7c525f53-13fd-4fcb-b092-e997e13b9035',
  cnodeUserUUID: '11c34897-1946-4dfc-b59c-f646a1fc69fe',
  multihash: 'Qmf6HUMWvWnByq7FeS9tPPSCfsWrWai8Suz4AA9J7LtT52',
  sourceFile: '0df34c3b-b78d-47ee-b00b-30110c176490.mp3',
  storagePath:
   '/file_storage/Qmf6HUMWvWnByq7FeS9tPPSCfsWrWai8Suz4AA9J7LtT52',
  type: 'copy320',
  trackUUID: '9b5a691c-a4e8-436b-9441-4e7697fb9553',
  updatedAt: 2020-03-05T17:37:25.662Z,
  createdAt: 2020-03-05T17:37:25.662Z }
writing to db2...
Executing (1f565d9f-b602-4df8-ab67-fcc42776c1bf): START TRANSACTION;
Executing (1f565d9f-b602-4df8-ab67-fcc42776c1bf): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '11c34897-1946-4dfc-b59c-f646a1fc69fe' AND "File"."multihash" = 'Qmf6HUMWvWnByq7FeS9tPPSCfsWrWai8Suz4AA9J7LtT52' AND "File"."sourceFile" = '0df34c3b-b78d-47ee-b00b-30110c176490.mp3' AND "File"."storagePath" = '/file_storage/Qmf6HUMWvWnByq7FeS9tPPSCfsWrWai8Suz4AA9J7LtT52' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '9b5a691c-a4e8-436b-9441-4e7697fb9553' LIMIT 1;
Executing (1f565d9f-b602-4df8-ab67-fcc42776c1bf): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_1294e6be4c7249d9b80d3e932eeb3ddd$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('7720fd4e-bf45-4e2c-a40a-72749254fe13','11c34897-1946-4dfc-b59c-f646a1fc69fe','9b5a691c-a4e8-436b-9441-4e7697fb9553','Qmf6HUMWvWnByq7FeS9tPPSCfsWrWai8Suz4AA9J7LtT52','0df34c3b-b78d-47ee-b00b-30110c176490.mp3','/file_storage/Qmf6HUMWvWnByq7FeS9tPPSCfsWrWai8Suz4AA9J7LtT52','copy320','2020-03-05 17:37:26.073 +00:00','2020-03-05 17:37:26.073 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_1294e6be4c7249d9b80d3e932eeb3ddd$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (1f565d9f-b602-4df8-ab67-fcc42776c1bf): COMMIT;
{ fileUUID: '7720fd4e-bf45-4e2c-a40a-72749254fe13',
  cnodeUserUUID: '11c34897-1946-4dfc-b59c-f646a1fc69fe',
  multihash: 'Qmf6HUMWvWnByq7FeS9tPPSCfsWrWai8Suz4AA9J7LtT52',
  sourceFile: '0df34c3b-b78d-47ee-b00b-30110c176490.mp3',
  storagePath:
   '/file_storage/Qmf6HUMWvWnByq7FeS9tPPSCfsWrWai8Suz4AA9J7LtT52',
  type: 'copy320',
  trackUUID: '9b5a691c-a4e8-436b-9441-4e7697fb9553',
  updatedAt: 2020-03-05T17:37:26.073Z,
  createdAt: 2020-03-05T17:37:26.073Z }
writing to db3...
Executing (00051187-d402-473f-83e3-4a39ef67036e): START TRANSACTION;
Executing (00051187-d402-473f-83e3-4a39ef67036e): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '11c34897-1946-4dfc-b59c-f646a1fc69fe' AND "File"."multihash" = 'Qmf6HUMWvWnByq7FeS9tPPSCfsWrWai8Suz4AA9J7LtT52' AND "File"."sourceFile" = '0df34c3b-b78d-47ee-b00b-30110c176490.mp3' AND "File"."storagePath" = '/file_storage/Qmf6HUMWvWnByq7FeS9tPPSCfsWrWai8Suz4AA9J7LtT52' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '9b5a691c-a4e8-436b-9441-4e7697fb9553' LIMIT 1;
Executing (00051187-d402-473f-83e3-4a39ef67036e): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_aa5c736dbb9a43b68c94f6387036d0b4$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('511ce8dd-9c86-4c1d-8183-10c990b5b739','11c34897-1946-4dfc-b59c-f646a1fc69fe','9b5a691c-a4e8-436b-9441-4e7697fb9553','Qmf6HUMWvWnByq7FeS9tPPSCfsWrWai8Suz4AA9J7LtT52','0df34c3b-b78d-47ee-b00b-30110c176490.mp3','/file_storage/Qmf6HUMWvWnByq7FeS9tPPSCfsWrWai8Suz4AA9J7LtT52','copy320','2020-03-05 17:37:26.485 +00:00','2020-03-05 17:37:26.485 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_aa5c736dbb9a43b68c94f6387036d0b4$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (00051187-d402-473f-83e3-4a39ef67036e): COMMIT;
{ fileUUID: '511ce8dd-9c86-4c1d-8183-10c990b5b739',
  cnodeUserUUID: '11c34897-1946-4dfc-b59c-f646a1fc69fe',
  multihash: 'Qmf6HUMWvWnByq7FeS9tPPSCfsWrWai8Suz4AA9J7LtT52',
  sourceFile: '0df34c3b-b78d-47ee-b00b-30110c176490.mp3',
  storagePath:
   '/file_storage/Qmf6HUMWvWnByq7FeS9tPPSCfsWrWai8Suz4AA9J7LtT52',
  type: 'copy320',
  trackUUID: '9b5a691c-a4e8-436b-9441-4e7697fb9553',
  updatedAt: 2020-03-05T17:37:26.485Z,
  createdAt: 2020-03-05T17:37:26.485Z }




PROCESSING ROW #48: sourcefile: 49b24a1c-81bf-4854-9cd0-7f7d13a6061b.mp3, cnodeUserUUID: fdab2500-5b3f-4e48-89e4-56cdf273d2d8, trackUUID: d43d757c-80ec-482c-9309-46256ac4bf69, multihash: QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM, dstPath: /file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM
writing to db1...
Executing (b5cffc94-f1ae-4c28-8fe5-0172fa62eb49): START TRANSACTION;
Executing (b5cffc94-f1ae-4c28-8fe5-0172fa62eb49): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = 'fdab2500-5b3f-4e48-89e4-56cdf273d2d8' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = '49b24a1c-81bf-4854-9cd0-7f7d13a6061b.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = 'd43d757c-80ec-482c-9309-46256ac4bf69' LIMIT 1;
Executing (b5cffc94-f1ae-4c28-8fe5-0172fa62eb49): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_475788070b2541908c86168b895d008b$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('ec1ddaf2-2d45-45e5-9cea-c8ee63bcd844','fdab2500-5b3f-4e48-89e4-56cdf273d2d8','d43d757c-80ec-482c-9309-46256ac4bf69','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','49b24a1c-81bf-4854-9cd0-7f7d13a6061b.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:37:26.885 +00:00','2020-03-05 17:37:26.885 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_475788070b2541908c86168b895d008b$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (b5cffc94-f1ae-4c28-8fe5-0172fa62eb49): COMMIT;
{ fileUUID: 'ec1ddaf2-2d45-45e5-9cea-c8ee63bcd844',
  cnodeUserUUID: 'fdab2500-5b3f-4e48-89e4-56cdf273d2d8',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: '49b24a1c-81bf-4854-9cd0-7f7d13a6061b.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: 'd43d757c-80ec-482c-9309-46256ac4bf69',
  updatedAt: 2020-03-05T17:37:26.885Z,
  createdAt: 2020-03-05T17:37:26.885Z }
writing to db2...
Executing (0bf97f6c-689e-46e2-b7c1-37d7940831cb): START TRANSACTION;
Executing (0bf97f6c-689e-46e2-b7c1-37d7940831cb): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = 'fdab2500-5b3f-4e48-89e4-56cdf273d2d8' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = '49b24a1c-81bf-4854-9cd0-7f7d13a6061b.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = 'd43d757c-80ec-482c-9309-46256ac4bf69' LIMIT 1;
Executing (0bf97f6c-689e-46e2-b7c1-37d7940831cb): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_0255dd13160c45269f5b75ba3a5ad02a$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('be1812c3-9650-4323-823f-fffc98b8be93','fdab2500-5b3f-4e48-89e4-56cdf273d2d8','d43d757c-80ec-482c-9309-46256ac4bf69','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','49b24a1c-81bf-4854-9cd0-7f7d13a6061b.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:37:27.317 +00:00','2020-03-05 17:37:27.317 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_0255dd13160c45269f5b75ba3a5ad02a$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (0bf97f6c-689e-46e2-b7c1-37d7940831cb): COMMIT;
{ fileUUID: 'be1812c3-9650-4323-823f-fffc98b8be93',
  cnodeUserUUID: 'fdab2500-5b3f-4e48-89e4-56cdf273d2d8',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: '49b24a1c-81bf-4854-9cd0-7f7d13a6061b.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: 'd43d757c-80ec-482c-9309-46256ac4bf69',
  updatedAt: 2020-03-05T17:37:27.317Z,
  createdAt: 2020-03-05T17:37:27.317Z }
writing to db3...
Executing (91f23233-168a-42d0-aee3-9212dc1d97de): START TRANSACTION;
Executing (91f23233-168a-42d0-aee3-9212dc1d97de): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = 'fdab2500-5b3f-4e48-89e4-56cdf273d2d8' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = '49b24a1c-81bf-4854-9cd0-7f7d13a6061b.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = 'd43d757c-80ec-482c-9309-46256ac4bf69' LIMIT 1;
Executing (91f23233-168a-42d0-aee3-9212dc1d97de): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_c3c4c6c22ceb4c8cb7477f68be4f7545$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('c382e71a-3131-4a1a-b146-081bc6d4027d','fdab2500-5b3f-4e48-89e4-56cdf273d2d8','d43d757c-80ec-482c-9309-46256ac4bf69','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','49b24a1c-81bf-4854-9cd0-7f7d13a6061b.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:37:27.735 +00:00','2020-03-05 17:37:27.735 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_c3c4c6c22ceb4c8cb7477f68be4f7545$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (91f23233-168a-42d0-aee3-9212dc1d97de): COMMIT;
{ fileUUID: 'c382e71a-3131-4a1a-b146-081bc6d4027d',
  cnodeUserUUID: 'fdab2500-5b3f-4e48-89e4-56cdf273d2d8',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: '49b24a1c-81bf-4854-9cd0-7f7d13a6061b.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: 'd43d757c-80ec-482c-9309-46256ac4bf69',
  updatedAt: 2020-03-05T17:37:27.735Z,
  createdAt: 2020-03-05T17:37:27.735Z }




PROCESSING ROW #49: sourcefile: 4de8adff-15f6-4c2e-9137-15c256ca2c63.mp3, cnodeUserUUID: 11c34897-1946-4dfc-b59c-f646a1fc69fe, trackUUID: ed552f7d-abfd-4a0b-b4f7-35478687432a, multihash: QmeZQSb2U9gArw53oknNYddq1zt2r79TptFMC4ubnVJBFU, dstPath: /file_storage/QmeZQSb2U9gArw53oknNYddq1zt2r79TptFMC4ubnVJBFU
writing to db1...
Executing (9029c9c6-a0fd-4ffe-bc38-5179fb01da8d): START TRANSACTION;
Executing (9029c9c6-a0fd-4ffe-bc38-5179fb01da8d): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '11c34897-1946-4dfc-b59c-f646a1fc69fe' AND "File"."multihash" = 'QmeZQSb2U9gArw53oknNYddq1zt2r79TptFMC4ubnVJBFU' AND "File"."sourceFile" = '4de8adff-15f6-4c2e-9137-15c256ca2c63.mp3' AND "File"."storagePath" = '/file_storage/QmeZQSb2U9gArw53oknNYddq1zt2r79TptFMC4ubnVJBFU' AND "File"."type" = 'copy320' AND "File"."trackUUID" = 'ed552f7d-abfd-4a0b-b4f7-35478687432a' LIMIT 1;
Executing (9029c9c6-a0fd-4ffe-bc38-5179fb01da8d): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_522b47d0ec7a42449c082893f6900975$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('f92cb50d-dba7-4555-a703-d6bbc01c8c4a','11c34897-1946-4dfc-b59c-f646a1fc69fe','ed552f7d-abfd-4a0b-b4f7-35478687432a','QmeZQSb2U9gArw53oknNYddq1zt2r79TptFMC4ubnVJBFU','4de8adff-15f6-4c2e-9137-15c256ca2c63.mp3','/file_storage/QmeZQSb2U9gArw53oknNYddq1zt2r79TptFMC4ubnVJBFU','copy320','2020-03-05 17:37:28.134 +00:00','2020-03-05 17:37:28.134 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_522b47d0ec7a42449c082893f6900975$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (9029c9c6-a0fd-4ffe-bc38-5179fb01da8d): COMMIT;
{ fileUUID: 'f92cb50d-dba7-4555-a703-d6bbc01c8c4a',
  cnodeUserUUID: '11c34897-1946-4dfc-b59c-f646a1fc69fe',
  multihash: 'QmeZQSb2U9gArw53oknNYddq1zt2r79TptFMC4ubnVJBFU',
  sourceFile: '4de8adff-15f6-4c2e-9137-15c256ca2c63.mp3',
  storagePath:
   '/file_storage/QmeZQSb2U9gArw53oknNYddq1zt2r79TptFMC4ubnVJBFU',
  type: 'copy320',
  trackUUID: 'ed552f7d-abfd-4a0b-b4f7-35478687432a',
  updatedAt: 2020-03-05T17:37:28.134Z,
  createdAt: 2020-03-05T17:37:28.134Z }
writing to db2...
Executing (b6c891a1-3f32-4b40-99d1-e88bbb534425): START TRANSACTION;
Executing (b6c891a1-3f32-4b40-99d1-e88bbb534425): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '11c34897-1946-4dfc-b59c-f646a1fc69fe' AND "File"."multihash" = 'QmeZQSb2U9gArw53oknNYddq1zt2r79TptFMC4ubnVJBFU' AND "File"."sourceFile" = '4de8adff-15f6-4c2e-9137-15c256ca2c63.mp3' AND "File"."storagePath" = '/file_storage/QmeZQSb2U9gArw53oknNYddq1zt2r79TptFMC4ubnVJBFU' AND "File"."type" = 'copy320' AND "File"."trackUUID" = 'ed552f7d-abfd-4a0b-b4f7-35478687432a' LIMIT 1;
Executing (b6c891a1-3f32-4b40-99d1-e88bbb534425): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_020c648ea21546b68479eec8ec725a66$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('971766a2-a84c-40ba-85e3-34ea752f1deb','11c34897-1946-4dfc-b59c-f646a1fc69fe','ed552f7d-abfd-4a0b-b4f7-35478687432a','QmeZQSb2U9gArw53oknNYddq1zt2r79TptFMC4ubnVJBFU','4de8adff-15f6-4c2e-9137-15c256ca2c63.mp3','/file_storage/QmeZQSb2U9gArw53oknNYddq1zt2r79TptFMC4ubnVJBFU','copy320','2020-03-05 17:37:28.527 +00:00','2020-03-05 17:37:28.527 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_020c648ea21546b68479eec8ec725a66$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (b6c891a1-3f32-4b40-99d1-e88bbb534425): COMMIT;
{ fileUUID: '971766a2-a84c-40ba-85e3-34ea752f1deb',
  cnodeUserUUID: '11c34897-1946-4dfc-b59c-f646a1fc69fe',
  multihash: 'QmeZQSb2U9gArw53oknNYddq1zt2r79TptFMC4ubnVJBFU',
  sourceFile: '4de8adff-15f6-4c2e-9137-15c256ca2c63.mp3',
  storagePath:
   '/file_storage/QmeZQSb2U9gArw53oknNYddq1zt2r79TptFMC4ubnVJBFU',
  type: 'copy320',
  trackUUID: 'ed552f7d-abfd-4a0b-b4f7-35478687432a',
  updatedAt: 2020-03-05T17:37:28.527Z,
  createdAt: 2020-03-05T17:37:28.527Z }
writing to db3...
Executing (55f83515-6d21-42ba-bc33-6407774d6eb1): START TRANSACTION;
Executing (55f83515-6d21-42ba-bc33-6407774d6eb1): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '11c34897-1946-4dfc-b59c-f646a1fc69fe' AND "File"."multihash" = 'QmeZQSb2U9gArw53oknNYddq1zt2r79TptFMC4ubnVJBFU' AND "File"."sourceFile" = '4de8adff-15f6-4c2e-9137-15c256ca2c63.mp3' AND "File"."storagePath" = '/file_storage/QmeZQSb2U9gArw53oknNYddq1zt2r79TptFMC4ubnVJBFU' AND "File"."type" = 'copy320' AND "File"."trackUUID" = 'ed552f7d-abfd-4a0b-b4f7-35478687432a' LIMIT 1;
Executing (55f83515-6d21-42ba-bc33-6407774d6eb1): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_433c575606914bc18080710bef8cd410$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('5e4c7a0d-6e27-4beb-914b-665c6e62fc3e','11c34897-1946-4dfc-b59c-f646a1fc69fe','ed552f7d-abfd-4a0b-b4f7-35478687432a','QmeZQSb2U9gArw53oknNYddq1zt2r79TptFMC4ubnVJBFU','4de8adff-15f6-4c2e-9137-15c256ca2c63.mp3','/file_storage/QmeZQSb2U9gArw53oknNYddq1zt2r79TptFMC4ubnVJBFU','copy320','2020-03-05 17:37:28.915 +00:00','2020-03-05 17:37:28.915 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_433c575606914bc18080710bef8cd410$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (55f83515-6d21-42ba-bc33-6407774d6eb1): COMMIT;
{ fileUUID: '5e4c7a0d-6e27-4beb-914b-665c6e62fc3e',
  cnodeUserUUID: '11c34897-1946-4dfc-b59c-f646a1fc69fe',
  multihash: 'QmeZQSb2U9gArw53oknNYddq1zt2r79TptFMC4ubnVJBFU',
  sourceFile: '4de8adff-15f6-4c2e-9137-15c256ca2c63.mp3',
  storagePath:
   '/file_storage/QmeZQSb2U9gArw53oknNYddq1zt2r79TptFMC4ubnVJBFU',
  type: 'copy320',
  trackUUID: 'ed552f7d-abfd-4a0b-b4f7-35478687432a',
  updatedAt: 2020-03-05T17:37:28.915Z,
  createdAt: 2020-03-05T17:37:28.915Z }




PROCESSING ROW #50: sourcefile: 0f01b9df-777f-45d4-a431-5e1e2e791ba1.mp3, cnodeUserUUID: 418d2bbc-4c23-45c3-9904-651a350ec6e5, trackUUID: b0f118ba-449d-4e6b-ab93-65a619fb53ee, multihash: QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM, dstPath: /file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM
writing to db1...
Executing (2fbea666-a722-4a6c-8142-fae449a0d844): START TRANSACTION;
Executing (2fbea666-a722-4a6c-8142-fae449a0d844): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '418d2bbc-4c23-45c3-9904-651a350ec6e5' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = '0f01b9df-777f-45d4-a431-5e1e2e791ba1.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = 'b0f118ba-449d-4e6b-ab93-65a619fb53ee' LIMIT 1;
Executing (2fbea666-a722-4a6c-8142-fae449a0d844): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_520aad2ad1d64664b6b9c8e975c4f3dc$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('65af0a7a-b73f-43ee-a9ae-6572bda9ba29','418d2bbc-4c23-45c3-9904-651a350ec6e5','b0f118ba-449d-4e6b-ab93-65a619fb53ee','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','0f01b9df-777f-45d4-a431-5e1e2e791ba1.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:37:29.303 +00:00','2020-03-05 17:37:29.303 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_520aad2ad1d64664b6b9c8e975c4f3dc$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (2fbea666-a722-4a6c-8142-fae449a0d844): COMMIT;
{ fileUUID: '65af0a7a-b73f-43ee-a9ae-6572bda9ba29',
  cnodeUserUUID: '418d2bbc-4c23-45c3-9904-651a350ec6e5',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: '0f01b9df-777f-45d4-a431-5e1e2e791ba1.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: 'b0f118ba-449d-4e6b-ab93-65a619fb53ee',
  updatedAt: 2020-03-05T17:37:29.303Z,
  createdAt: 2020-03-05T17:37:29.303Z }
writing to db2...
Executing (57711df1-8d33-4d9c-a43b-e5b906a6855f): START TRANSACTION;
Executing (57711df1-8d33-4d9c-a43b-e5b906a6855f): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '418d2bbc-4c23-45c3-9904-651a350ec6e5' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = '0f01b9df-777f-45d4-a431-5e1e2e791ba1.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = 'b0f118ba-449d-4e6b-ab93-65a619fb53ee' LIMIT 1;
Executing (57711df1-8d33-4d9c-a43b-e5b906a6855f): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_6f56e9720ad3467a86d2fe81794ad356$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('be86b383-039c-42fe-9d5b-2f92ee704d75','418d2bbc-4c23-45c3-9904-651a350ec6e5','b0f118ba-449d-4e6b-ab93-65a619fb53ee','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','0f01b9df-777f-45d4-a431-5e1e2e791ba1.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:37:29.739 +00:00','2020-03-05 17:37:29.739 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_6f56e9720ad3467a86d2fe81794ad356$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (57711df1-8d33-4d9c-a43b-e5b906a6855f): COMMIT;
{ fileUUID: 'be86b383-039c-42fe-9d5b-2f92ee704d75',
  cnodeUserUUID: '418d2bbc-4c23-45c3-9904-651a350ec6e5',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: '0f01b9df-777f-45d4-a431-5e1e2e791ba1.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: 'b0f118ba-449d-4e6b-ab93-65a619fb53ee',
  updatedAt: 2020-03-05T17:37:29.739Z,
  createdAt: 2020-03-05T17:37:29.739Z }
writing to db3...
Executing (d49c47e9-abc0-4af3-be5d-60d8318b74fe): START TRANSACTION;
Executing (d49c47e9-abc0-4af3-be5d-60d8318b74fe): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '418d2bbc-4c23-45c3-9904-651a350ec6e5' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = '0f01b9df-777f-45d4-a431-5e1e2e791ba1.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = 'b0f118ba-449d-4e6b-ab93-65a619fb53ee' LIMIT 1;
Executing (d49c47e9-abc0-4af3-be5d-60d8318b74fe): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_ffe929e434514bf9a7b277e4e56bee99$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('c087b879-84e2-4620-99f9-e7acc411e5b6','418d2bbc-4c23-45c3-9904-651a350ec6e5','b0f118ba-449d-4e6b-ab93-65a619fb53ee','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','0f01b9df-777f-45d4-a431-5e1e2e791ba1.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:37:30.123 +00:00','2020-03-05 17:37:30.123 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_ffe929e434514bf9a7b277e4e56bee99$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (d49c47e9-abc0-4af3-be5d-60d8318b74fe): COMMIT;
{ fileUUID: 'c087b879-84e2-4620-99f9-e7acc411e5b6',
  cnodeUserUUID: '418d2bbc-4c23-45c3-9904-651a350ec6e5',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: '0f01b9df-777f-45d4-a431-5e1e2e791ba1.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: 'b0f118ba-449d-4e6b-ab93-65a619fb53ee',
  updatedAt: 2020-03-05T17:37:30.123Z,
  createdAt: 2020-03-05T17:37:30.123Z }




PROCESSING ROW #51: sourcefile: 487c849a-30a8-451f-9a40-b34551521c5e.mp3, cnodeUserUUID: c3d646a9-a910-475d-916a-5469e298bcc3, trackUUID: 91a6b2ca-bd37-44ac-b278-c3f9986fb6c1, multihash: QmaQL3bs25B8k8i157SuGH3gKokePYAVrrZGBvQddWo7UU, dstPath: /file_storage/QmaQL3bs25B8k8i157SuGH3gKokePYAVrrZGBvQddWo7UU
writing to db1...
Executing (75192e34-2a59-4f8e-8670-fa77e45245e3): START TRANSACTION;
Executing (75192e34-2a59-4f8e-8670-fa77e45245e3): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = 'c3d646a9-a910-475d-916a-5469e298bcc3' AND "File"."multihash" = 'QmaQL3bs25B8k8i157SuGH3gKokePYAVrrZGBvQddWo7UU' AND "File"."sourceFile" = '487c849a-30a8-451f-9a40-b34551521c5e.mp3' AND "File"."storagePath" = '/file_storage/QmaQL3bs25B8k8i157SuGH3gKokePYAVrrZGBvQddWo7UU' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '91a6b2ca-bd37-44ac-b278-c3f9986fb6c1' LIMIT 1;
Executing (75192e34-2a59-4f8e-8670-fa77e45245e3): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_b6ebc7b44ac245dfb5feaa58fc8d84f6$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('4ea92dfc-ef7d-46bd-ac38-19ae118a4d95','c3d646a9-a910-475d-916a-5469e298bcc3','91a6b2ca-bd37-44ac-b278-c3f9986fb6c1','QmaQL3bs25B8k8i157SuGH3gKokePYAVrrZGBvQddWo7UU','487c849a-30a8-451f-9a40-b34551521c5e.mp3','/file_storage/QmaQL3bs25B8k8i157SuGH3gKokePYAVrrZGBvQddWo7UU','copy320','2020-03-05 17:37:30.510 +00:00','2020-03-05 17:37:30.510 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_b6ebc7b44ac245dfb5feaa58fc8d84f6$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (75192e34-2a59-4f8e-8670-fa77e45245e3): COMMIT;
{ fileUUID: '4ea92dfc-ef7d-46bd-ac38-19ae118a4d95',
  cnodeUserUUID: 'c3d646a9-a910-475d-916a-5469e298bcc3',
  multihash: 'QmaQL3bs25B8k8i157SuGH3gKokePYAVrrZGBvQddWo7UU',
  sourceFile: '487c849a-30a8-451f-9a40-b34551521c5e.mp3',
  storagePath:
   '/file_storage/QmaQL3bs25B8k8i157SuGH3gKokePYAVrrZGBvQddWo7UU',
  type: 'copy320',
  trackUUID: '91a6b2ca-bd37-44ac-b278-c3f9986fb6c1',
  updatedAt: 2020-03-05T17:37:30.510Z,
  createdAt: 2020-03-05T17:37:30.510Z }
writing to db2...
Executing (829da622-ac26-462d-b36d-8fd2a2620a34): START TRANSACTION;
Executing (829da622-ac26-462d-b36d-8fd2a2620a34): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = 'c3d646a9-a910-475d-916a-5469e298bcc3' AND "File"."multihash" = 'QmaQL3bs25B8k8i157SuGH3gKokePYAVrrZGBvQddWo7UU' AND "File"."sourceFile" = '487c849a-30a8-451f-9a40-b34551521c5e.mp3' AND "File"."storagePath" = '/file_storage/QmaQL3bs25B8k8i157SuGH3gKokePYAVrrZGBvQddWo7UU' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '91a6b2ca-bd37-44ac-b278-c3f9986fb6c1' LIMIT 1;
Executing (829da622-ac26-462d-b36d-8fd2a2620a34): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_1d43659961a047b6ae89a4a414996f8e$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('2d577999-d8f6-4832-9ad2-8e92c4ebc2c4','c3d646a9-a910-475d-916a-5469e298bcc3','91a6b2ca-bd37-44ac-b278-c3f9986fb6c1','QmaQL3bs25B8k8i157SuGH3gKokePYAVrrZGBvQddWo7UU','487c849a-30a8-451f-9a40-b34551521c5e.mp3','/file_storage/QmaQL3bs25B8k8i157SuGH3gKokePYAVrrZGBvQddWo7UU','copy320','2020-03-05 17:37:30.887 +00:00','2020-03-05 17:37:30.887 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_1d43659961a047b6ae89a4a414996f8e$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (829da622-ac26-462d-b36d-8fd2a2620a34): COMMIT;
{ fileUUID: '2d577999-d8f6-4832-9ad2-8e92c4ebc2c4',
  cnodeUserUUID: 'c3d646a9-a910-475d-916a-5469e298bcc3',
  multihash: 'QmaQL3bs25B8k8i157SuGH3gKokePYAVrrZGBvQddWo7UU',
  sourceFile: '487c849a-30a8-451f-9a40-b34551521c5e.mp3',
  storagePath:
   '/file_storage/QmaQL3bs25B8k8i157SuGH3gKokePYAVrrZGBvQddWo7UU',
  type: 'copy320',
  trackUUID: '91a6b2ca-bd37-44ac-b278-c3f9986fb6c1',
  updatedAt: 2020-03-05T17:37:30.887Z,
  createdAt: 2020-03-05T17:37:30.887Z }
writing to db3...
Executing (cea12f1f-5e1c-4a7e-b606-b97e514eb5be): START TRANSACTION;
Executing (cea12f1f-5e1c-4a7e-b606-b97e514eb5be): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = 'c3d646a9-a910-475d-916a-5469e298bcc3' AND "File"."multihash" = 'QmaQL3bs25B8k8i157SuGH3gKokePYAVrrZGBvQddWo7UU' AND "File"."sourceFile" = '487c849a-30a8-451f-9a40-b34551521c5e.mp3' AND "File"."storagePath" = '/file_storage/QmaQL3bs25B8k8i157SuGH3gKokePYAVrrZGBvQddWo7UU' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '91a6b2ca-bd37-44ac-b278-c3f9986fb6c1' LIMIT 1;
Executing (cea12f1f-5e1c-4a7e-b606-b97e514eb5be): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_445f5060a939424799a08ce1dca4d273$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('7f6953cf-8957-457e-96d6-0cfc4b8ffc91','c3d646a9-a910-475d-916a-5469e298bcc3','91a6b2ca-bd37-44ac-b278-c3f9986fb6c1','QmaQL3bs25B8k8i157SuGH3gKokePYAVrrZGBvQddWo7UU','487c849a-30a8-451f-9a40-b34551521c5e.mp3','/file_storage/QmaQL3bs25B8k8i157SuGH3gKokePYAVrrZGBvQddWo7UU','copy320','2020-03-05 17:37:31.275 +00:00','2020-03-05 17:37:31.275 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_445f5060a939424799a08ce1dca4d273$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (cea12f1f-5e1c-4a7e-b606-b97e514eb5be): COMMIT;
{ fileUUID: '7f6953cf-8957-457e-96d6-0cfc4b8ffc91',
  cnodeUserUUID: 'c3d646a9-a910-475d-916a-5469e298bcc3',
  multihash: 'QmaQL3bs25B8k8i157SuGH3gKokePYAVrrZGBvQddWo7UU',
  sourceFile: '487c849a-30a8-451f-9a40-b34551521c5e.mp3',
  storagePath:
   '/file_storage/QmaQL3bs25B8k8i157SuGH3gKokePYAVrrZGBvQddWo7UU',
  type: 'copy320',
  trackUUID: '91a6b2ca-bd37-44ac-b278-c3f9986fb6c1',
  updatedAt: 2020-03-05T17:37:31.275Z,
  createdAt: 2020-03-05T17:37:31.275Z }




PROCESSING ROW #52: sourcefile: 59753bdd-a309-43a4-85e5-c692759b4f61.mp3, cnodeUserUUID: 11c34897-1946-4dfc-b59c-f646a1fc69fe, trackUUID: 48547ea5-4f4d-4963-9fe7-2e85e8b7724a, multihash: QmfNjUpVp3v6VaezDX8KmSSN8PTLG6mPPcAzzx3KQCPr4g, dstPath: /file_storage/QmfNjUpVp3v6VaezDX8KmSSN8PTLG6mPPcAzzx3KQCPr4g
writing to db1...
Executing (73c11151-be56-43a9-bde6-491b41b6a659): START TRANSACTION;
Executing (73c11151-be56-43a9-bde6-491b41b6a659): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '11c34897-1946-4dfc-b59c-f646a1fc69fe' AND "File"."multihash" = 'QmfNjUpVp3v6VaezDX8KmSSN8PTLG6mPPcAzzx3KQCPr4g' AND "File"."sourceFile" = '59753bdd-a309-43a4-85e5-c692759b4f61.mp3' AND "File"."storagePath" = '/file_storage/QmfNjUpVp3v6VaezDX8KmSSN8PTLG6mPPcAzzx3KQCPr4g' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '48547ea5-4f4d-4963-9fe7-2e85e8b7724a' LIMIT 1;
Executing (73c11151-be56-43a9-bde6-491b41b6a659): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_bfcc0f0556384951bfc43e837a8750b7$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('a528f6a3-71b4-4333-9a50-1d82214a7b16','11c34897-1946-4dfc-b59c-f646a1fc69fe','48547ea5-4f4d-4963-9fe7-2e85e8b7724a','QmfNjUpVp3v6VaezDX8KmSSN8PTLG6mPPcAzzx3KQCPr4g','59753bdd-a309-43a4-85e5-c692759b4f61.mp3','/file_storage/QmfNjUpVp3v6VaezDX8KmSSN8PTLG6mPPcAzzx3KQCPr4g','copy320','2020-03-05 17:37:31.668 +00:00','2020-03-05 17:37:31.668 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_bfcc0f0556384951bfc43e837a8750b7$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (73c11151-be56-43a9-bde6-491b41b6a659): COMMIT;
{ fileUUID: 'a528f6a3-71b4-4333-9a50-1d82214a7b16',
  cnodeUserUUID: '11c34897-1946-4dfc-b59c-f646a1fc69fe',
  multihash: 'QmfNjUpVp3v6VaezDX8KmSSN8PTLG6mPPcAzzx3KQCPr4g',
  sourceFile: '59753bdd-a309-43a4-85e5-c692759b4f61.mp3',
  storagePath:
   '/file_storage/QmfNjUpVp3v6VaezDX8KmSSN8PTLG6mPPcAzzx3KQCPr4g',
  type: 'copy320',
  trackUUID: '48547ea5-4f4d-4963-9fe7-2e85e8b7724a',
  updatedAt: 2020-03-05T17:37:31.668Z,
  createdAt: 2020-03-05T17:37:31.668Z }
writing to db2...
Executing (e398690f-faf3-4f17-8969-7ee3ea989b71): START TRANSACTION;
Executing (e398690f-faf3-4f17-8969-7ee3ea989b71): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '11c34897-1946-4dfc-b59c-f646a1fc69fe' AND "File"."multihash" = 'QmfNjUpVp3v6VaezDX8KmSSN8PTLG6mPPcAzzx3KQCPr4g' AND "File"."sourceFile" = '59753bdd-a309-43a4-85e5-c692759b4f61.mp3' AND "File"."storagePath" = '/file_storage/QmfNjUpVp3v6VaezDX8KmSSN8PTLG6mPPcAzzx3KQCPr4g' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '48547ea5-4f4d-4963-9fe7-2e85e8b7724a' LIMIT 1;
Executing (e398690f-faf3-4f17-8969-7ee3ea989b71): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_8804e288aca345d1b2edec8f0dc9356f$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('27f5cd46-7756-4afc-8589-1f0198881554','11c34897-1946-4dfc-b59c-f646a1fc69fe','48547ea5-4f4d-4963-9fe7-2e85e8b7724a','QmfNjUpVp3v6VaezDX8KmSSN8PTLG6mPPcAzzx3KQCPr4g','59753bdd-a309-43a4-85e5-c692759b4f61.mp3','/file_storage/QmfNjUpVp3v6VaezDX8KmSSN8PTLG6mPPcAzzx3KQCPr4g','copy320','2020-03-05 17:37:32.050 +00:00','2020-03-05 17:37:32.050 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_8804e288aca345d1b2edec8f0dc9356f$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (e398690f-faf3-4f17-8969-7ee3ea989b71): COMMIT;
{ fileUUID: '27f5cd46-7756-4afc-8589-1f0198881554',
  cnodeUserUUID: '11c34897-1946-4dfc-b59c-f646a1fc69fe',
  multihash: 'QmfNjUpVp3v6VaezDX8KmSSN8PTLG6mPPcAzzx3KQCPr4g',
  sourceFile: '59753bdd-a309-43a4-85e5-c692759b4f61.mp3',
  storagePath:
   '/file_storage/QmfNjUpVp3v6VaezDX8KmSSN8PTLG6mPPcAzzx3KQCPr4g',
  type: 'copy320',
  trackUUID: '48547ea5-4f4d-4963-9fe7-2e85e8b7724a',
  updatedAt: 2020-03-05T17:37:32.050Z,
  createdAt: 2020-03-05T17:37:32.050Z }
writing to db3...
Executing (46ae0182-e8f6-4544-a48d-7f6f7272e098): START TRANSACTION;
Executing (46ae0182-e8f6-4544-a48d-7f6f7272e098): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '11c34897-1946-4dfc-b59c-f646a1fc69fe' AND "File"."multihash" = 'QmfNjUpVp3v6VaezDX8KmSSN8PTLG6mPPcAzzx3KQCPr4g' AND "File"."sourceFile" = '59753bdd-a309-43a4-85e5-c692759b4f61.mp3' AND "File"."storagePath" = '/file_storage/QmfNjUpVp3v6VaezDX8KmSSN8PTLG6mPPcAzzx3KQCPr4g' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '48547ea5-4f4d-4963-9fe7-2e85e8b7724a' LIMIT 1;
Executing (46ae0182-e8f6-4544-a48d-7f6f7272e098): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_d07049aa1a904adca72e7c0aaea38c87$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('dff6c9e2-ae95-457b-a283-a74360d64136','11c34897-1946-4dfc-b59c-f646a1fc69fe','48547ea5-4f4d-4963-9fe7-2e85e8b7724a','QmfNjUpVp3v6VaezDX8KmSSN8PTLG6mPPcAzzx3KQCPr4g','59753bdd-a309-43a4-85e5-c692759b4f61.mp3','/file_storage/QmfNjUpVp3v6VaezDX8KmSSN8PTLG6mPPcAzzx3KQCPr4g','copy320','2020-03-05 17:37:32.436 +00:00','2020-03-05 17:37:32.436 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_d07049aa1a904adca72e7c0aaea38c87$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (46ae0182-e8f6-4544-a48d-7f6f7272e098): COMMIT;
{ fileUUID: 'dff6c9e2-ae95-457b-a283-a74360d64136',
  cnodeUserUUID: '11c34897-1946-4dfc-b59c-f646a1fc69fe',
  multihash: 'QmfNjUpVp3v6VaezDX8KmSSN8PTLG6mPPcAzzx3KQCPr4g',
  sourceFile: '59753bdd-a309-43a4-85e5-c692759b4f61.mp3',
  storagePath:
   '/file_storage/QmfNjUpVp3v6VaezDX8KmSSN8PTLG6mPPcAzzx3KQCPr4g',
  type: 'copy320',
  trackUUID: '48547ea5-4f4d-4963-9fe7-2e85e8b7724a',
  updatedAt: 2020-03-05T17:37:32.436Z,
  createdAt: 2020-03-05T17:37:32.436Z }




PROCESSING ROW #53: sourcefile: 8e7e6efa-2b0f-4759-bfdd-41872392f152.mp3, cnodeUserUUID: 2b41560d-4158-465b-a4ff-961e895f806c, trackUUID: 63d1762e-c296-4d41-a162-dd45080b7921, multihash: QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM, dstPath: /file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM
writing to db1...
Executing (af02f90e-da1e-4f45-bf5b-f03879e602c2): START TRANSACTION;
Executing (af02f90e-da1e-4f45-bf5b-f03879e602c2): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '2b41560d-4158-465b-a4ff-961e895f806c' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = '8e7e6efa-2b0f-4759-bfdd-41872392f152.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '63d1762e-c296-4d41-a162-dd45080b7921' LIMIT 1;
Executing (af02f90e-da1e-4f45-bf5b-f03879e602c2): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_5f5e9a094fc74941bbcc31cbc2efe6dc$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('a3ffb202-d3c7-468b-b868-ba4882afe558','2b41560d-4158-465b-a4ff-961e895f806c','63d1762e-c296-4d41-a162-dd45080b7921','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','8e7e6efa-2b0f-4759-bfdd-41872392f152.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:37:32.825 +00:00','2020-03-05 17:37:32.825 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_5f5e9a094fc74941bbcc31cbc2efe6dc$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (af02f90e-da1e-4f45-bf5b-f03879e602c2): COMMIT;
{ fileUUID: 'a3ffb202-d3c7-468b-b868-ba4882afe558',
  cnodeUserUUID: '2b41560d-4158-465b-a4ff-961e895f806c',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: '8e7e6efa-2b0f-4759-bfdd-41872392f152.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: '63d1762e-c296-4d41-a162-dd45080b7921',
  updatedAt: 2020-03-05T17:37:32.825Z,
  createdAt: 2020-03-05T17:37:32.825Z }
writing to db2...
Executing (518f05d5-f9fd-4723-9730-df6cd1f06325): START TRANSACTION;
Executing (518f05d5-f9fd-4723-9730-df6cd1f06325): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '2b41560d-4158-465b-a4ff-961e895f806c' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = '8e7e6efa-2b0f-4759-bfdd-41872392f152.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '63d1762e-c296-4d41-a162-dd45080b7921' LIMIT 1;
Executing (518f05d5-f9fd-4723-9730-df6cd1f06325): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_2b9e7702c54a4ea1a4c7da242c6112cb$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('2871171c-0208-4c0a-8931-c73dca271afa','2b41560d-4158-465b-a4ff-961e895f806c','63d1762e-c296-4d41-a162-dd45080b7921','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','8e7e6efa-2b0f-4759-bfdd-41872392f152.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:37:33.198 +00:00','2020-03-05 17:37:33.198 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_2b9e7702c54a4ea1a4c7da242c6112cb$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (518f05d5-f9fd-4723-9730-df6cd1f06325): COMMIT;
{ fileUUID: '2871171c-0208-4c0a-8931-c73dca271afa',
  cnodeUserUUID: '2b41560d-4158-465b-a4ff-961e895f806c',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: '8e7e6efa-2b0f-4759-bfdd-41872392f152.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: '63d1762e-c296-4d41-a162-dd45080b7921',
  updatedAt: 2020-03-05T17:37:33.198Z,
  createdAt: 2020-03-05T17:37:33.198Z }
writing to db3...
Executing (6e32cc1d-ddb9-4042-bfaa-8a1ab561929b): START TRANSACTION;
Executing (6e32cc1d-ddb9-4042-bfaa-8a1ab561929b): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '2b41560d-4158-465b-a4ff-961e895f806c' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = '8e7e6efa-2b0f-4759-bfdd-41872392f152.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '63d1762e-c296-4d41-a162-dd45080b7921' LIMIT 1;
Executing (6e32cc1d-ddb9-4042-bfaa-8a1ab561929b): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_60a124a3bf9c4cad96f78fa20c305511$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('2ab429a6-36a1-46d9-a404-b08572174455','2b41560d-4158-465b-a4ff-961e895f806c','63d1762e-c296-4d41-a162-dd45080b7921','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','8e7e6efa-2b0f-4759-bfdd-41872392f152.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:37:33.580 +00:00','2020-03-05 17:37:33.580 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_60a124a3bf9c4cad96f78fa20c305511$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (6e32cc1d-ddb9-4042-bfaa-8a1ab561929b): COMMIT;
{ fileUUID: '2ab429a6-36a1-46d9-a404-b08572174455',
  cnodeUserUUID: '2b41560d-4158-465b-a4ff-961e895f806c',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: '8e7e6efa-2b0f-4759-bfdd-41872392f152.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: '63d1762e-c296-4d41-a162-dd45080b7921',
  updatedAt: 2020-03-05T17:37:33.580Z,
  createdAt: 2020-03-05T17:37:33.580Z }




PROCESSING ROW #54: sourcefile: 46efe851-9c5e-4ead-ba0c-49191377836b.mp3, cnodeUserUUID: 39e2016f-929d-4a2d-b209-c1c02e2e390e, trackUUID: e3a14295-6acb-4180-97a7-0e56c217448e, multihash: QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM, dstPath: /file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM
writing to db1...
Executing (18fbfcab-6682-4abe-9703-62f1fc26707c): START TRANSACTION;
Executing (18fbfcab-6682-4abe-9703-62f1fc26707c): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '39e2016f-929d-4a2d-b209-c1c02e2e390e' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = '46efe851-9c5e-4ead-ba0c-49191377836b.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = 'e3a14295-6acb-4180-97a7-0e56c217448e' LIMIT 1;
Executing (18fbfcab-6682-4abe-9703-62f1fc26707c): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_7d6e00d0d5164a66a5629de26230a7e5$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('f576f243-0a51-426e-90ef-6365992f7050','39e2016f-929d-4a2d-b209-c1c02e2e390e','e3a14295-6acb-4180-97a7-0e56c217448e','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','46efe851-9c5e-4ead-ba0c-49191377836b.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:37:33.988 +00:00','2020-03-05 17:37:33.988 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_7d6e00d0d5164a66a5629de26230a7e5$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (18fbfcab-6682-4abe-9703-62f1fc26707c): COMMIT;
{ fileUUID: 'f576f243-0a51-426e-90ef-6365992f7050',
  cnodeUserUUID: '39e2016f-929d-4a2d-b209-c1c02e2e390e',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: '46efe851-9c5e-4ead-ba0c-49191377836b.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: 'e3a14295-6acb-4180-97a7-0e56c217448e',
  updatedAt: 2020-03-05T17:37:33.988Z,
  createdAt: 2020-03-05T17:37:33.988Z }
writing to db2...
Executing (d84098ef-1a6f-499e-805c-31384602faa7): START TRANSACTION;
Executing (d84098ef-1a6f-499e-805c-31384602faa7): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '39e2016f-929d-4a2d-b209-c1c02e2e390e' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = '46efe851-9c5e-4ead-ba0c-49191377836b.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = 'e3a14295-6acb-4180-97a7-0e56c217448e' LIMIT 1;
Executing (d84098ef-1a6f-499e-805c-31384602faa7): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_4190d14a79484224844345ebdd500c09$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('cfe351c0-4ca1-4a85-b9c5-2779a7dba40c','39e2016f-929d-4a2d-b209-c1c02e2e390e','e3a14295-6acb-4180-97a7-0e56c217448e','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','46efe851-9c5e-4ead-ba0c-49191377836b.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:37:34.364 +00:00','2020-03-05 17:37:34.364 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_4190d14a79484224844345ebdd500c09$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (d84098ef-1a6f-499e-805c-31384602faa7): COMMIT;
{ fileUUID: 'cfe351c0-4ca1-4a85-b9c5-2779a7dba40c',
  cnodeUserUUID: '39e2016f-929d-4a2d-b209-c1c02e2e390e',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: '46efe851-9c5e-4ead-ba0c-49191377836b.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: 'e3a14295-6acb-4180-97a7-0e56c217448e',
  updatedAt: 2020-03-05T17:37:34.364Z,
  createdAt: 2020-03-05T17:37:34.364Z }
writing to db3...
Executing (2506acc8-757a-415e-b1d3-66527bb128f7): START TRANSACTION;
Executing (2506acc8-757a-415e-b1d3-66527bb128f7): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '39e2016f-929d-4a2d-b209-c1c02e2e390e' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = '46efe851-9c5e-4ead-ba0c-49191377836b.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = 'e3a14295-6acb-4180-97a7-0e56c217448e' LIMIT 1;
Executing (2506acc8-757a-415e-b1d3-66527bb128f7): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_a89542e1e7424954983819cc9c7822f9$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('5b775b55-b359-4764-b59e-f296ba3ccecd','39e2016f-929d-4a2d-b209-c1c02e2e390e','e3a14295-6acb-4180-97a7-0e56c217448e','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','46efe851-9c5e-4ead-ba0c-49191377836b.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:37:34.745 +00:00','2020-03-05 17:37:34.745 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_a89542e1e7424954983819cc9c7822f9$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (2506acc8-757a-415e-b1d3-66527bb128f7): COMMIT;
{ fileUUID: '5b775b55-b359-4764-b59e-f296ba3ccecd',
  cnodeUserUUID: '39e2016f-929d-4a2d-b209-c1c02e2e390e',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: '46efe851-9c5e-4ead-ba0c-49191377836b.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: 'e3a14295-6acb-4180-97a7-0e56c217448e',
  updatedAt: 2020-03-05T17:37:34.745Z,
  createdAt: 2020-03-05T17:37:34.745Z }




PROCESSING ROW #55: sourcefile: 7e73ea7e-c9f3-46a9-9720-7b71885c2909.mp3, cnodeUserUUID: a01249eb-ce1c-440e-b4af-855f1dc35262, trackUUID: 707f7959-f688-47a6-9d87-7b51524010b4, multihash: QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM, dstPath: /file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM
writing to db1...
Executing (1276d1fc-3020-4360-bd2b-180ba02c062d): START TRANSACTION;
Executing (1276d1fc-3020-4360-bd2b-180ba02c062d): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = 'a01249eb-ce1c-440e-b4af-855f1dc35262' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = '7e73ea7e-c9f3-46a9-9720-7b71885c2909.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '707f7959-f688-47a6-9d87-7b51524010b4' LIMIT 1;
Executing (1276d1fc-3020-4360-bd2b-180ba02c062d): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_22b86cdfe2ae434fbf51cf1639bdaa10$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('922c837a-f56d-4bb8-9172-9085a38b6724','a01249eb-ce1c-440e-b4af-855f1dc35262','707f7959-f688-47a6-9d87-7b51524010b4','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','7e73ea7e-c9f3-46a9-9720-7b71885c2909.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:37:35.127 +00:00','2020-03-05 17:37:35.127 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_22b86cdfe2ae434fbf51cf1639bdaa10$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (1276d1fc-3020-4360-bd2b-180ba02c062d): COMMIT;
{ fileUUID: '922c837a-f56d-4bb8-9172-9085a38b6724',
  cnodeUserUUID: 'a01249eb-ce1c-440e-b4af-855f1dc35262',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: '7e73ea7e-c9f3-46a9-9720-7b71885c2909.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: '707f7959-f688-47a6-9d87-7b51524010b4',
  updatedAt: 2020-03-05T17:37:35.127Z,
  createdAt: 2020-03-05T17:37:35.127Z }
writing to db2...
Executing (ef9809a9-ad15-4812-96c3-c47c211dcd71): START TRANSACTION;
Executing (ef9809a9-ad15-4812-96c3-c47c211dcd71): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = 'a01249eb-ce1c-440e-b4af-855f1dc35262' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = '7e73ea7e-c9f3-46a9-9720-7b71885c2909.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '707f7959-f688-47a6-9d87-7b51524010b4' LIMIT 1;
Executing (ef9809a9-ad15-4812-96c3-c47c211dcd71): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_fe31cbe01702449b9fc1e8330ec7d681$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('b51a6564-f301-4b43-869b-d5895215b22a','a01249eb-ce1c-440e-b4af-855f1dc35262','707f7959-f688-47a6-9d87-7b51524010b4','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','7e73ea7e-c9f3-46a9-9720-7b71885c2909.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:37:35.503 +00:00','2020-03-05 17:37:35.503 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_fe31cbe01702449b9fc1e8330ec7d681$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (ef9809a9-ad15-4812-96c3-c47c211dcd71): COMMIT;
{ fileUUID: 'b51a6564-f301-4b43-869b-d5895215b22a',
  cnodeUserUUID: 'a01249eb-ce1c-440e-b4af-855f1dc35262',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: '7e73ea7e-c9f3-46a9-9720-7b71885c2909.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: '707f7959-f688-47a6-9d87-7b51524010b4',
  updatedAt: 2020-03-05T17:37:35.503Z,
  createdAt: 2020-03-05T17:37:35.503Z }
writing to db3...
Executing (0f33a1d9-aabe-4188-a939-81d46c23f5f3): START TRANSACTION;
Executing (0f33a1d9-aabe-4188-a939-81d46c23f5f3): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = 'a01249eb-ce1c-440e-b4af-855f1dc35262' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = '7e73ea7e-c9f3-46a9-9720-7b71885c2909.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '707f7959-f688-47a6-9d87-7b51524010b4' LIMIT 1;
Executing (0f33a1d9-aabe-4188-a939-81d46c23f5f3): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_1bcaa4f0cfe34db5a9acc8c5b26cdf96$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('224358a4-f36b-4988-873f-65e344cf9960','a01249eb-ce1c-440e-b4af-855f1dc35262','707f7959-f688-47a6-9d87-7b51524010b4','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','7e73ea7e-c9f3-46a9-9720-7b71885c2909.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:37:35.891 +00:00','2020-03-05 17:37:35.891 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_1bcaa4f0cfe34db5a9acc8c5b26cdf96$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (0f33a1d9-aabe-4188-a939-81d46c23f5f3): COMMIT;
{ fileUUID: '224358a4-f36b-4988-873f-65e344cf9960',
  cnodeUserUUID: 'a01249eb-ce1c-440e-b4af-855f1dc35262',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: '7e73ea7e-c9f3-46a9-9720-7b71885c2909.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: '707f7959-f688-47a6-9d87-7b51524010b4',
  updatedAt: 2020-03-05T17:37:35.891Z,
  createdAt: 2020-03-05T17:37:35.891Z }




PROCESSING ROW #56: sourcefile: 90fa850e-0c52-4dfc-894c-302f413b6bb8.mp3, cnodeUserUUID: 11c34897-1946-4dfc-b59c-f646a1fc69fe, trackUUID: df3f1f2e-1a5f-4a8e-bb26-f30f0d14986f, multihash: QmNeph51PxbJAKsE6vi7hG32qXATTHoi9yNSNja5qfbrjR, dstPath: /file_storage/QmNeph51PxbJAKsE6vi7hG32qXATTHoi9yNSNja5qfbrjR
writing to db1...
Executing (6ff97b39-c1e0-44a9-a9e3-1eedce008624): START TRANSACTION;
Executing (6ff97b39-c1e0-44a9-a9e3-1eedce008624): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '11c34897-1946-4dfc-b59c-f646a1fc69fe' AND "File"."multihash" = 'QmNeph51PxbJAKsE6vi7hG32qXATTHoi9yNSNja5qfbrjR' AND "File"."sourceFile" = '90fa850e-0c52-4dfc-894c-302f413b6bb8.mp3' AND "File"."storagePath" = '/file_storage/QmNeph51PxbJAKsE6vi7hG32qXATTHoi9yNSNja5qfbrjR' AND "File"."type" = 'copy320' AND "File"."trackUUID" = 'df3f1f2e-1a5f-4a8e-bb26-f30f0d14986f' LIMIT 1;
Executing (6ff97b39-c1e0-44a9-a9e3-1eedce008624): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_0588c9b5ed79484d99081d1c8936dc1f$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('538d9df6-f36b-4953-bb8b-50053f847796','11c34897-1946-4dfc-b59c-f646a1fc69fe','df3f1f2e-1a5f-4a8e-bb26-f30f0d14986f','QmNeph51PxbJAKsE6vi7hG32qXATTHoi9yNSNja5qfbrjR','90fa850e-0c52-4dfc-894c-302f413b6bb8.mp3','/file_storage/QmNeph51PxbJAKsE6vi7hG32qXATTHoi9yNSNja5qfbrjR','copy320','2020-03-05 17:37:36.279 +00:00','2020-03-05 17:37:36.279 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_0588c9b5ed79484d99081d1c8936dc1f$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (6ff97b39-c1e0-44a9-a9e3-1eedce008624): COMMIT;
{ fileUUID: '538d9df6-f36b-4953-bb8b-50053f847796',
  cnodeUserUUID: '11c34897-1946-4dfc-b59c-f646a1fc69fe',
  multihash: 'QmNeph51PxbJAKsE6vi7hG32qXATTHoi9yNSNja5qfbrjR',
  sourceFile: '90fa850e-0c52-4dfc-894c-302f413b6bb8.mp3',
  storagePath:
   '/file_storage/QmNeph51PxbJAKsE6vi7hG32qXATTHoi9yNSNja5qfbrjR',
  type: 'copy320',
  trackUUID: 'df3f1f2e-1a5f-4a8e-bb26-f30f0d14986f',
  updatedAt: 2020-03-05T17:37:36.279Z,
  createdAt: 2020-03-05T17:37:36.279Z }
writing to db2...
Executing (9a3eea42-80df-4534-8805-9f2921b750c7): START TRANSACTION;
Executing (9a3eea42-80df-4534-8805-9f2921b750c7): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '11c34897-1946-4dfc-b59c-f646a1fc69fe' AND "File"."multihash" = 'QmNeph51PxbJAKsE6vi7hG32qXATTHoi9yNSNja5qfbrjR' AND "File"."sourceFile" = '90fa850e-0c52-4dfc-894c-302f413b6bb8.mp3' AND "File"."storagePath" = '/file_storage/QmNeph51PxbJAKsE6vi7hG32qXATTHoi9yNSNja5qfbrjR' AND "File"."type" = 'copy320' AND "File"."trackUUID" = 'df3f1f2e-1a5f-4a8e-bb26-f30f0d14986f' LIMIT 1;
Executing (9a3eea42-80df-4534-8805-9f2921b750c7): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_ab4b35485e7a4fd88c77eddfd46ce482$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('54da7250-29c4-4584-953d-020fdb518661','11c34897-1946-4dfc-b59c-f646a1fc69fe','df3f1f2e-1a5f-4a8e-bb26-f30f0d14986f','QmNeph51PxbJAKsE6vi7hG32qXATTHoi9yNSNja5qfbrjR','90fa850e-0c52-4dfc-894c-302f413b6bb8.mp3','/file_storage/QmNeph51PxbJAKsE6vi7hG32qXATTHoi9yNSNja5qfbrjR','copy320','2020-03-05 17:37:36.668 +00:00','2020-03-05 17:37:36.668 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_ab4b35485e7a4fd88c77eddfd46ce482$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (9a3eea42-80df-4534-8805-9f2921b750c7): COMMIT;
{ fileUUID: '54da7250-29c4-4584-953d-020fdb518661',
  cnodeUserUUID: '11c34897-1946-4dfc-b59c-f646a1fc69fe',
  multihash: 'QmNeph51PxbJAKsE6vi7hG32qXATTHoi9yNSNja5qfbrjR',
  sourceFile: '90fa850e-0c52-4dfc-894c-302f413b6bb8.mp3',
  storagePath:
   '/file_storage/QmNeph51PxbJAKsE6vi7hG32qXATTHoi9yNSNja5qfbrjR',
  type: 'copy320',
  trackUUID: 'df3f1f2e-1a5f-4a8e-bb26-f30f0d14986f',
  updatedAt: 2020-03-05T17:37:36.668Z,
  createdAt: 2020-03-05T17:37:36.668Z }
writing to db3...
Executing (05c67af3-c33d-4c09-82ef-0579f5cad675): START TRANSACTION;
Executing (05c67af3-c33d-4c09-82ef-0579f5cad675): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '11c34897-1946-4dfc-b59c-f646a1fc69fe' AND "File"."multihash" = 'QmNeph51PxbJAKsE6vi7hG32qXATTHoi9yNSNja5qfbrjR' AND "File"."sourceFile" = '90fa850e-0c52-4dfc-894c-302f413b6bb8.mp3' AND "File"."storagePath" = '/file_storage/QmNeph51PxbJAKsE6vi7hG32qXATTHoi9yNSNja5qfbrjR' AND "File"."type" = 'copy320' AND "File"."trackUUID" = 'df3f1f2e-1a5f-4a8e-bb26-f30f0d14986f' LIMIT 1;
Executing (05c67af3-c33d-4c09-82ef-0579f5cad675): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_edb72a09c68c4e40a2486de54f26c36a$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('dd838b1f-ffa7-4235-9830-dba8f372a5f1','11c34897-1946-4dfc-b59c-f646a1fc69fe','df3f1f2e-1a5f-4a8e-bb26-f30f0d14986f','QmNeph51PxbJAKsE6vi7hG32qXATTHoi9yNSNja5qfbrjR','90fa850e-0c52-4dfc-894c-302f413b6bb8.mp3','/file_storage/QmNeph51PxbJAKsE6vi7hG32qXATTHoi9yNSNja5qfbrjR','copy320','2020-03-05 17:37:37.058 +00:00','2020-03-05 17:37:37.058 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_edb72a09c68c4e40a2486de54f26c36a$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (05c67af3-c33d-4c09-82ef-0579f5cad675): COMMIT;
{ fileUUID: 'dd838b1f-ffa7-4235-9830-dba8f372a5f1',
  cnodeUserUUID: '11c34897-1946-4dfc-b59c-f646a1fc69fe',
  multihash: 'QmNeph51PxbJAKsE6vi7hG32qXATTHoi9yNSNja5qfbrjR',
  sourceFile: '90fa850e-0c52-4dfc-894c-302f413b6bb8.mp3',
  storagePath:
   '/file_storage/QmNeph51PxbJAKsE6vi7hG32qXATTHoi9yNSNja5qfbrjR',
  type: 'copy320',
  trackUUID: 'df3f1f2e-1a5f-4a8e-bb26-f30f0d14986f',
  updatedAt: 2020-03-05T17:37:37.058Z,
  createdAt: 2020-03-05T17:37:37.058Z }




PROCESSING ROW #57: sourcefile: 57b8cf98-5cfd-4289-8b0d-f369c9c7f7c5.mp3, cnodeUserUUID: 846de485-02a3-41de-b7ed-7fc2352056bb, trackUUID: a41eae15-d101-461b-a13e-64fe6fc1917a, multihash: QmSHY6vt2F72YHuV68C2ePoiMUnQSauPigac6NVttEHUWv, dstPath: /file_storage/QmSHY6vt2F72YHuV68C2ePoiMUnQSauPigac6NVttEHUWv
writing to db1...
Executing (58882aa4-bf6d-41de-b345-4d48c0562f15): START TRANSACTION;
Executing (58882aa4-bf6d-41de-b345-4d48c0562f15): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '846de485-02a3-41de-b7ed-7fc2352056bb' AND "File"."multihash" = 'QmSHY6vt2F72YHuV68C2ePoiMUnQSauPigac6NVttEHUWv' AND "File"."sourceFile" = '57b8cf98-5cfd-4289-8b0d-f369c9c7f7c5.mp3' AND "File"."storagePath" = '/file_storage/QmSHY6vt2F72YHuV68C2ePoiMUnQSauPigac6NVttEHUWv' AND "File"."type" = 'copy320' AND "File"."trackUUID" = 'a41eae15-d101-461b-a13e-64fe6fc1917a' LIMIT 1;
Executing (58882aa4-bf6d-41de-b345-4d48c0562f15): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_89e6c283e6c547fca34f3bb9ef70d9a5$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('d3dc5f48-5d1f-429f-9741-878f6e7a0967','846de485-02a3-41de-b7ed-7fc2352056bb','a41eae15-d101-461b-a13e-64fe6fc1917a','QmSHY6vt2F72YHuV68C2ePoiMUnQSauPigac6NVttEHUWv','57b8cf98-5cfd-4289-8b0d-f369c9c7f7c5.mp3','/file_storage/QmSHY6vt2F72YHuV68C2ePoiMUnQSauPigac6NVttEHUWv','copy320','2020-03-05 17:37:37.460 +00:00','2020-03-05 17:37:37.460 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_89e6c283e6c547fca34f3bb9ef70d9a5$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (58882aa4-bf6d-41de-b345-4d48c0562f15): COMMIT;
{ fileUUID: 'd3dc5f48-5d1f-429f-9741-878f6e7a0967',
  cnodeUserUUID: '846de485-02a3-41de-b7ed-7fc2352056bb',
  multihash: 'QmSHY6vt2F72YHuV68C2ePoiMUnQSauPigac6NVttEHUWv',
  sourceFile: '57b8cf98-5cfd-4289-8b0d-f369c9c7f7c5.mp3',
  storagePath:
   '/file_storage/QmSHY6vt2F72YHuV68C2ePoiMUnQSauPigac6NVttEHUWv',
  type: 'copy320',
  trackUUID: 'a41eae15-d101-461b-a13e-64fe6fc1917a',
  updatedAt: 2020-03-05T17:37:37.460Z,
  createdAt: 2020-03-05T17:37:37.460Z }
writing to db2...
Executing (b00c26e7-9a81-40b3-a0fe-288046d1f250): START TRANSACTION;
Executing (b00c26e7-9a81-40b3-a0fe-288046d1f250): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '846de485-02a3-41de-b7ed-7fc2352056bb' AND "File"."multihash" = 'QmSHY6vt2F72YHuV68C2ePoiMUnQSauPigac6NVttEHUWv' AND "File"."sourceFile" = '57b8cf98-5cfd-4289-8b0d-f369c9c7f7c5.mp3' AND "File"."storagePath" = '/file_storage/QmSHY6vt2F72YHuV68C2ePoiMUnQSauPigac6NVttEHUWv' AND "File"."type" = 'copy320' AND "File"."trackUUID" = 'a41eae15-d101-461b-a13e-64fe6fc1917a' LIMIT 1;
Executing (b00c26e7-9a81-40b3-a0fe-288046d1f250): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_4f0887eb1a3b4148af7dedd67db5c6f7$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('c6cadc85-9287-4258-9461-9e01fb98f7ec','846de485-02a3-41de-b7ed-7fc2352056bb','a41eae15-d101-461b-a13e-64fe6fc1917a','QmSHY6vt2F72YHuV68C2ePoiMUnQSauPigac6NVttEHUWv','57b8cf98-5cfd-4289-8b0d-f369c9c7f7c5.mp3','/file_storage/QmSHY6vt2F72YHuV68C2ePoiMUnQSauPigac6NVttEHUWv','copy320','2020-03-05 17:37:37.860 +00:00','2020-03-05 17:37:37.860 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_4f0887eb1a3b4148af7dedd67db5c6f7$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (b00c26e7-9a81-40b3-a0fe-288046d1f250): COMMIT;
{ fileUUID: 'c6cadc85-9287-4258-9461-9e01fb98f7ec',
  cnodeUserUUID: '846de485-02a3-41de-b7ed-7fc2352056bb',
  multihash: 'QmSHY6vt2F72YHuV68C2ePoiMUnQSauPigac6NVttEHUWv',
  sourceFile: '57b8cf98-5cfd-4289-8b0d-f369c9c7f7c5.mp3',
  storagePath:
   '/file_storage/QmSHY6vt2F72YHuV68C2ePoiMUnQSauPigac6NVttEHUWv',
  type: 'copy320',
  trackUUID: 'a41eae15-d101-461b-a13e-64fe6fc1917a',
  updatedAt: 2020-03-05T17:37:37.860Z,
  createdAt: 2020-03-05T17:37:37.860Z }
writing to db3...
Executing (1c94859c-1756-417c-a5dd-24ec59237f86): START TRANSACTION;
Executing (1c94859c-1756-417c-a5dd-24ec59237f86): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '846de485-02a3-41de-b7ed-7fc2352056bb' AND "File"."multihash" = 'QmSHY6vt2F72YHuV68C2ePoiMUnQSauPigac6NVttEHUWv' AND "File"."sourceFile" = '57b8cf98-5cfd-4289-8b0d-f369c9c7f7c5.mp3' AND "File"."storagePath" = '/file_storage/QmSHY6vt2F72YHuV68C2ePoiMUnQSauPigac6NVttEHUWv' AND "File"."type" = 'copy320' AND "File"."trackUUID" = 'a41eae15-d101-461b-a13e-64fe6fc1917a' LIMIT 1;
Executing (1c94859c-1756-417c-a5dd-24ec59237f86): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_5138e89856f74df98c94dc37922c8fe4$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('31ec37bc-8254-4636-bb13-0acc15b51cb6','846de485-02a3-41de-b7ed-7fc2352056bb','a41eae15-d101-461b-a13e-64fe6fc1917a','QmSHY6vt2F72YHuV68C2ePoiMUnQSauPigac6NVttEHUWv','57b8cf98-5cfd-4289-8b0d-f369c9c7f7c5.mp3','/file_storage/QmSHY6vt2F72YHuV68C2ePoiMUnQSauPigac6NVttEHUWv','copy320','2020-03-05 17:37:38.278 +00:00','2020-03-05 17:37:38.278 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_5138e89856f74df98c94dc37922c8fe4$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (1c94859c-1756-417c-a5dd-24ec59237f86): COMMIT;
{ fileUUID: '31ec37bc-8254-4636-bb13-0acc15b51cb6',
  cnodeUserUUID: '846de485-02a3-41de-b7ed-7fc2352056bb',
  multihash: 'QmSHY6vt2F72YHuV68C2ePoiMUnQSauPigac6NVttEHUWv',
  sourceFile: '57b8cf98-5cfd-4289-8b0d-f369c9c7f7c5.mp3',
  storagePath:
   '/file_storage/QmSHY6vt2F72YHuV68C2ePoiMUnQSauPigac6NVttEHUWv',
  type: 'copy320',
  trackUUID: 'a41eae15-d101-461b-a13e-64fe6fc1917a',
  updatedAt: 2020-03-05T17:37:38.278Z,
  createdAt: 2020-03-05T17:37:38.278Z }




PROCESSING ROW #58: sourcefile: 6fdafbd5-4cf2-4af1-a061-583c78699d3b.wav, cnodeUserUUID: d612a6c5-3077-4f3a-99a1-32c63308258f, trackUUID: d289d40a-97fc-4291-8b01-6bcdfa008a29, multihash: QmTM3FFj7BzQWWxeWFNhij2HBNXAM3vFQWobhnn7wAvXqC, dstPath: /file_storage/QmTM3FFj7BzQWWxeWFNhij2HBNXAM3vFQWobhnn7wAvXqC
writing to db1...
Executing (3dd7ce85-b42b-4289-85ff-ac1e7a52bf87): START TRANSACTION;
Executing (3dd7ce85-b42b-4289-85ff-ac1e7a52bf87): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = 'd612a6c5-3077-4f3a-99a1-32c63308258f' AND "File"."multihash" = 'QmTM3FFj7BzQWWxeWFNhij2HBNXAM3vFQWobhnn7wAvXqC' AND "File"."sourceFile" = '6fdafbd5-4cf2-4af1-a061-583c78699d3b.wav' AND "File"."storagePath" = '/file_storage/QmTM3FFj7BzQWWxeWFNhij2HBNXAM3vFQWobhnn7wAvXqC' AND "File"."type" = 'copy320' AND "File"."trackUUID" = 'd289d40a-97fc-4291-8b01-6bcdfa008a29' LIMIT 1;
Executing (3dd7ce85-b42b-4289-85ff-ac1e7a52bf87): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_c86c700f6c4d4b87955db3a3522434fb$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('25993a32-e3d3-429c-a05a-9942c2cd6126','d612a6c5-3077-4f3a-99a1-32c63308258f','d289d40a-97fc-4291-8b01-6bcdfa008a29','QmTM3FFj7BzQWWxeWFNhij2HBNXAM3vFQWobhnn7wAvXqC','6fdafbd5-4cf2-4af1-a061-583c78699d3b.wav','/file_storage/QmTM3FFj7BzQWWxeWFNhij2HBNXAM3vFQWobhnn7wAvXqC','copy320','2020-03-05 17:37:38.671 +00:00','2020-03-05 17:37:38.671 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_c86c700f6c4d4b87955db3a3522434fb$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (3dd7ce85-b42b-4289-85ff-ac1e7a52bf87): COMMIT;
{ fileUUID: '25993a32-e3d3-429c-a05a-9942c2cd6126',
  cnodeUserUUID: 'd612a6c5-3077-4f3a-99a1-32c63308258f',
  multihash: 'QmTM3FFj7BzQWWxeWFNhij2HBNXAM3vFQWobhnn7wAvXqC',
  sourceFile: '6fdafbd5-4cf2-4af1-a061-583c78699d3b.wav',
  storagePath:
   '/file_storage/QmTM3FFj7BzQWWxeWFNhij2HBNXAM3vFQWobhnn7wAvXqC',
  type: 'copy320',
  trackUUID: 'd289d40a-97fc-4291-8b01-6bcdfa008a29',
  updatedAt: 2020-03-05T17:37:38.671Z,
  createdAt: 2020-03-05T17:37:38.671Z }
writing to db2...
Executing (346fc1e6-7e91-418a-a6a2-01bb3f305902): START TRANSACTION;
Executing (346fc1e6-7e91-418a-a6a2-01bb3f305902): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = 'd612a6c5-3077-4f3a-99a1-32c63308258f' AND "File"."multihash" = 'QmTM3FFj7BzQWWxeWFNhij2HBNXAM3vFQWobhnn7wAvXqC' AND "File"."sourceFile" = '6fdafbd5-4cf2-4af1-a061-583c78699d3b.wav' AND "File"."storagePath" = '/file_storage/QmTM3FFj7BzQWWxeWFNhij2HBNXAM3vFQWobhnn7wAvXqC' AND "File"."type" = 'copy320' AND "File"."trackUUID" = 'd289d40a-97fc-4291-8b01-6bcdfa008a29' LIMIT 1;
Executing (346fc1e6-7e91-418a-a6a2-01bb3f305902): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_53728efce8754ab4b0a0eca9d6459973$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('08be7034-e917-4187-af66-8cb188a8d7e5','d612a6c5-3077-4f3a-99a1-32c63308258f','d289d40a-97fc-4291-8b01-6bcdfa008a29','QmTM3FFj7BzQWWxeWFNhij2HBNXAM3vFQWobhnn7wAvXqC','6fdafbd5-4cf2-4af1-a061-583c78699d3b.wav','/file_storage/QmTM3FFj7BzQWWxeWFNhij2HBNXAM3vFQWobhnn7wAvXqC','copy320','2020-03-05 17:37:39.077 +00:00','2020-03-05 17:37:39.077 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_53728efce8754ab4b0a0eca9d6459973$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (346fc1e6-7e91-418a-a6a2-01bb3f305902): COMMIT;
{ fileUUID: '08be7034-e917-4187-af66-8cb188a8d7e5',
  cnodeUserUUID: 'd612a6c5-3077-4f3a-99a1-32c63308258f',
  multihash: 'QmTM3FFj7BzQWWxeWFNhij2HBNXAM3vFQWobhnn7wAvXqC',
  sourceFile: '6fdafbd5-4cf2-4af1-a061-583c78699d3b.wav',
  storagePath:
   '/file_storage/QmTM3FFj7BzQWWxeWFNhij2HBNXAM3vFQWobhnn7wAvXqC',
  type: 'copy320',
  trackUUID: 'd289d40a-97fc-4291-8b01-6bcdfa008a29',
  updatedAt: 2020-03-05T17:37:39.077Z,
  createdAt: 2020-03-05T17:37:39.077Z }
writing to db3...
Executing (4c0cf05a-e51f-451a-af90-121207550f2e): START TRANSACTION;
Executing (4c0cf05a-e51f-451a-af90-121207550f2e): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = 'd612a6c5-3077-4f3a-99a1-32c63308258f' AND "File"."multihash" = 'QmTM3FFj7BzQWWxeWFNhij2HBNXAM3vFQWobhnn7wAvXqC' AND "File"."sourceFile" = '6fdafbd5-4cf2-4af1-a061-583c78699d3b.wav' AND "File"."storagePath" = '/file_storage/QmTM3FFj7BzQWWxeWFNhij2HBNXAM3vFQWobhnn7wAvXqC' AND "File"."type" = 'copy320' AND "File"."trackUUID" = 'd289d40a-97fc-4291-8b01-6bcdfa008a29' LIMIT 1;
Executing (4c0cf05a-e51f-451a-af90-121207550f2e): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_5dfc340317274f748b37278b287a9a84$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('79a2c11b-2093-4e6f-96c8-374e47a49472','d612a6c5-3077-4f3a-99a1-32c63308258f','d289d40a-97fc-4291-8b01-6bcdfa008a29','QmTM3FFj7BzQWWxeWFNhij2HBNXAM3vFQWobhnn7wAvXqC','6fdafbd5-4cf2-4af1-a061-583c78699d3b.wav','/file_storage/QmTM3FFj7BzQWWxeWFNhij2HBNXAM3vFQWobhnn7wAvXqC','copy320','2020-03-05 17:37:39.464 +00:00','2020-03-05 17:37:39.464 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_5dfc340317274f748b37278b287a9a84$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (4c0cf05a-e51f-451a-af90-121207550f2e): COMMIT;
{ fileUUID: '79a2c11b-2093-4e6f-96c8-374e47a49472',
  cnodeUserUUID: 'd612a6c5-3077-4f3a-99a1-32c63308258f',
  multihash: 'QmTM3FFj7BzQWWxeWFNhij2HBNXAM3vFQWobhnn7wAvXqC',
  sourceFile: '6fdafbd5-4cf2-4af1-a061-583c78699d3b.wav',
  storagePath:
   '/file_storage/QmTM3FFj7BzQWWxeWFNhij2HBNXAM3vFQWobhnn7wAvXqC',
  type: 'copy320',
  trackUUID: 'd289d40a-97fc-4291-8b01-6bcdfa008a29',
  updatedAt: 2020-03-05T17:37:39.464Z,
  createdAt: 2020-03-05T17:37:39.464Z }




PROCESSING ROW #59: sourcefile: 2357099b-cb16-4049-ae07-ccd28d029000.mp3, cnodeUserUUID: b0f1cb88-7a7a-4869-9ac6-f77040dcf211, trackUUID: cc38f2b5-afdc-4ee9-95ad-624ded8ebd5a, multihash: QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM, dstPath: /file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM
writing to db1...
Executing (436f628f-ff5d-4ee9-bb64-ed1d989d32f1): START TRANSACTION;
Executing (436f628f-ff5d-4ee9-bb64-ed1d989d32f1): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = 'b0f1cb88-7a7a-4869-9ac6-f77040dcf211' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = '2357099b-cb16-4049-ae07-ccd28d029000.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = 'cc38f2b5-afdc-4ee9-95ad-624ded8ebd5a' LIMIT 1;
Executing (436f628f-ff5d-4ee9-bb64-ed1d989d32f1): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_1bb9867cd746415fa8d4a3e90e67e15c$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('1176c5ed-c731-45f2-ad3d-6eab490daba6','b0f1cb88-7a7a-4869-9ac6-f77040dcf211','cc38f2b5-afdc-4ee9-95ad-624ded8ebd5a','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','2357099b-cb16-4049-ae07-ccd28d029000.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:37:39.862 +00:00','2020-03-05 17:37:39.862 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_1bb9867cd746415fa8d4a3e90e67e15c$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (436f628f-ff5d-4ee9-bb64-ed1d989d32f1): COMMIT;
{ fileUUID: '1176c5ed-c731-45f2-ad3d-6eab490daba6',
  cnodeUserUUID: 'b0f1cb88-7a7a-4869-9ac6-f77040dcf211',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: '2357099b-cb16-4049-ae07-ccd28d029000.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: 'cc38f2b5-afdc-4ee9-95ad-624ded8ebd5a',
  updatedAt: 2020-03-05T17:37:39.862Z,
  createdAt: 2020-03-05T17:37:39.862Z }
writing to db2...
Executing (5cb66e30-0b5d-4c69-b2c6-5a4b3a14d19c): START TRANSACTION;
Executing (5cb66e30-0b5d-4c69-b2c6-5a4b3a14d19c): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = 'b0f1cb88-7a7a-4869-9ac6-f77040dcf211' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = '2357099b-cb16-4049-ae07-ccd28d029000.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = 'cc38f2b5-afdc-4ee9-95ad-624ded8ebd5a' LIMIT 1;
Executing (5cb66e30-0b5d-4c69-b2c6-5a4b3a14d19c): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_0d1d4e489f7146ef9ea705c277452356$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('36e133af-9aca-4e91-8356-ac1308e85ae2','b0f1cb88-7a7a-4869-9ac6-f77040dcf211','cc38f2b5-afdc-4ee9-95ad-624ded8ebd5a','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','2357099b-cb16-4049-ae07-ccd28d029000.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:37:40.254 +00:00','2020-03-05 17:37:40.254 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_0d1d4e489f7146ef9ea705c277452356$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (5cb66e30-0b5d-4c69-b2c6-5a4b3a14d19c): COMMIT;
{ fileUUID: '36e133af-9aca-4e91-8356-ac1308e85ae2',
  cnodeUserUUID: 'b0f1cb88-7a7a-4869-9ac6-f77040dcf211',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: '2357099b-cb16-4049-ae07-ccd28d029000.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: 'cc38f2b5-afdc-4ee9-95ad-624ded8ebd5a',
  updatedAt: 2020-03-05T17:37:40.254Z,
  createdAt: 2020-03-05T17:37:40.254Z }
writing to db3...
Executing (80b8c487-47d9-488e-82ea-5a32168f21a3): START TRANSACTION;
Executing (80b8c487-47d9-488e-82ea-5a32168f21a3): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = 'b0f1cb88-7a7a-4869-9ac6-f77040dcf211' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = '2357099b-cb16-4049-ae07-ccd28d029000.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = 'cc38f2b5-afdc-4ee9-95ad-624ded8ebd5a' LIMIT 1;
Executing (80b8c487-47d9-488e-82ea-5a32168f21a3): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_da323de8b4cb48c6ad6fd95322e43a47$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('8f8e3ca1-5d54-4d8a-92b5-e4d84066a892','b0f1cb88-7a7a-4869-9ac6-f77040dcf211','cc38f2b5-afdc-4ee9-95ad-624ded8ebd5a','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','2357099b-cb16-4049-ae07-ccd28d029000.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:37:40.653 +00:00','2020-03-05 17:37:40.653 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_da323de8b4cb48c6ad6fd95322e43a47$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (80b8c487-47d9-488e-82ea-5a32168f21a3): COMMIT;
{ fileUUID: '8f8e3ca1-5d54-4d8a-92b5-e4d84066a892',
  cnodeUserUUID: 'b0f1cb88-7a7a-4869-9ac6-f77040dcf211',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: '2357099b-cb16-4049-ae07-ccd28d029000.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: 'cc38f2b5-afdc-4ee9-95ad-624ded8ebd5a',
  updatedAt: 2020-03-05T17:37:40.653Z,
  createdAt: 2020-03-05T17:37:40.653Z }




PROCESSING ROW #60: sourcefile: f68ae040-9c21-4883-9c44-b88a15738c0d.mp3, cnodeUserUUID: 57c56d2e-cbda-4756-83f0-4958d3a59de6, trackUUID: 9b7bee06-6929-4373-9db8-2f7f6118b38c, multihash: QmV9nviHq3XYgRSvYEmKzsq5RvezL4QnDkEfh3vswgkFSY, dstPath: /file_storage/QmV9nviHq3XYgRSvYEmKzsq5RvezL4QnDkEfh3vswgkFSY
writing to db1...
Executing (7ff997ba-409d-4bd7-bdbc-d94e45f99934): START TRANSACTION;
Executing (7ff997ba-409d-4bd7-bdbc-d94e45f99934): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '57c56d2e-cbda-4756-83f0-4958d3a59de6' AND "File"."multihash" = 'QmV9nviHq3XYgRSvYEmKzsq5RvezL4QnDkEfh3vswgkFSY' AND "File"."sourceFile" = 'f68ae040-9c21-4883-9c44-b88a15738c0d.mp3' AND "File"."storagePath" = '/file_storage/QmV9nviHq3XYgRSvYEmKzsq5RvezL4QnDkEfh3vswgkFSY' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '9b7bee06-6929-4373-9db8-2f7f6118b38c' LIMIT 1;
Executing (7ff997ba-409d-4bd7-bdbc-d94e45f99934): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_8dd685bc34c0466585da43ef8e814ddd$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('6a69835a-f977-4604-95dc-33c9073ed128','57c56d2e-cbda-4756-83f0-4958d3a59de6','9b7bee06-6929-4373-9db8-2f7f6118b38c','QmV9nviHq3XYgRSvYEmKzsq5RvezL4QnDkEfh3vswgkFSY','f68ae040-9c21-4883-9c44-b88a15738c0d.mp3','/file_storage/QmV9nviHq3XYgRSvYEmKzsq5RvezL4QnDkEfh3vswgkFSY','copy320','2020-03-05 17:37:41.055 +00:00','2020-03-05 17:37:41.055 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_8dd685bc34c0466585da43ef8e814ddd$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (7ff997ba-409d-4bd7-bdbc-d94e45f99934): COMMIT;
{ fileUUID: '6a69835a-f977-4604-95dc-33c9073ed128',
  cnodeUserUUID: '57c56d2e-cbda-4756-83f0-4958d3a59de6',
  multihash: 'QmV9nviHq3XYgRSvYEmKzsq5RvezL4QnDkEfh3vswgkFSY',
  sourceFile: 'f68ae040-9c21-4883-9c44-b88a15738c0d.mp3',
  storagePath:
   '/file_storage/QmV9nviHq3XYgRSvYEmKzsq5RvezL4QnDkEfh3vswgkFSY',
  type: 'copy320',
  trackUUID: '9b7bee06-6929-4373-9db8-2f7f6118b38c',
  updatedAt: 2020-03-05T17:37:41.055Z,
  createdAt: 2020-03-05T17:37:41.055Z }
writing to db2...
Executing (01205db5-f4bc-47d0-a8d1-6a21a88fef11): START TRANSACTION;
Executing (01205db5-f4bc-47d0-a8d1-6a21a88fef11): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '57c56d2e-cbda-4756-83f0-4958d3a59de6' AND "File"."multihash" = 'QmV9nviHq3XYgRSvYEmKzsq5RvezL4QnDkEfh3vswgkFSY' AND "File"."sourceFile" = 'f68ae040-9c21-4883-9c44-b88a15738c0d.mp3' AND "File"."storagePath" = '/file_storage/QmV9nviHq3XYgRSvYEmKzsq5RvezL4QnDkEfh3vswgkFSY' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '9b7bee06-6929-4373-9db8-2f7f6118b38c' LIMIT 1;
Executing (01205db5-f4bc-47d0-a8d1-6a21a88fef11): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_f87aa3b3a2344b99af492d62cefa6274$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('d82c9b21-33a7-4e9a-90d3-89e464d875d2','57c56d2e-cbda-4756-83f0-4958d3a59de6','9b7bee06-6929-4373-9db8-2f7f6118b38c','QmV9nviHq3XYgRSvYEmKzsq5RvezL4QnDkEfh3vswgkFSY','f68ae040-9c21-4883-9c44-b88a15738c0d.mp3','/file_storage/QmV9nviHq3XYgRSvYEmKzsq5RvezL4QnDkEfh3vswgkFSY','copy320','2020-03-05 17:37:41.435 +00:00','2020-03-05 17:37:41.435 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_f87aa3b3a2344b99af492d62cefa6274$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (01205db5-f4bc-47d0-a8d1-6a21a88fef11): COMMIT;
{ fileUUID: 'd82c9b21-33a7-4e9a-90d3-89e464d875d2',
  cnodeUserUUID: '57c56d2e-cbda-4756-83f0-4958d3a59de6',
  multihash: 'QmV9nviHq3XYgRSvYEmKzsq5RvezL4QnDkEfh3vswgkFSY',
  sourceFile: 'f68ae040-9c21-4883-9c44-b88a15738c0d.mp3',
  storagePath:
   '/file_storage/QmV9nviHq3XYgRSvYEmKzsq5RvezL4QnDkEfh3vswgkFSY',
  type: 'copy320',
  trackUUID: '9b7bee06-6929-4373-9db8-2f7f6118b38c',
  updatedAt: 2020-03-05T17:37:41.435Z,
  createdAt: 2020-03-05T17:37:41.435Z }
writing to db3...
Executing (9cc4597b-fcd8-4e3c-b681-f0613b32a1c8): START TRANSACTION;
Executing (9cc4597b-fcd8-4e3c-b681-f0613b32a1c8): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '57c56d2e-cbda-4756-83f0-4958d3a59de6' AND "File"."multihash" = 'QmV9nviHq3XYgRSvYEmKzsq5RvezL4QnDkEfh3vswgkFSY' AND "File"."sourceFile" = 'f68ae040-9c21-4883-9c44-b88a15738c0d.mp3' AND "File"."storagePath" = '/file_storage/QmV9nviHq3XYgRSvYEmKzsq5RvezL4QnDkEfh3vswgkFSY' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '9b7bee06-6929-4373-9db8-2f7f6118b38c' LIMIT 1;
Executing (9cc4597b-fcd8-4e3c-b681-f0613b32a1c8): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_411ca532459541d7bf12403b51a76c7e$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('4eef5741-7751-48db-b07c-f2d659de2a8c','57c56d2e-cbda-4756-83f0-4958d3a59de6','9b7bee06-6929-4373-9db8-2f7f6118b38c','QmV9nviHq3XYgRSvYEmKzsq5RvezL4QnDkEfh3vswgkFSY','f68ae040-9c21-4883-9c44-b88a15738c0d.mp3','/file_storage/QmV9nviHq3XYgRSvYEmKzsq5RvezL4QnDkEfh3vswgkFSY','copy320','2020-03-05 17:37:41.818 +00:00','2020-03-05 17:37:41.818 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_411ca532459541d7bf12403b51a76c7e$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (9cc4597b-fcd8-4e3c-b681-f0613b32a1c8): COMMIT;
{ fileUUID: '4eef5741-7751-48db-b07c-f2d659de2a8c',
  cnodeUserUUID: '57c56d2e-cbda-4756-83f0-4958d3a59de6',
  multihash: 'QmV9nviHq3XYgRSvYEmKzsq5RvezL4QnDkEfh3vswgkFSY',
  sourceFile: 'f68ae040-9c21-4883-9c44-b88a15738c0d.mp3',
  storagePath:
   '/file_storage/QmV9nviHq3XYgRSvYEmKzsq5RvezL4QnDkEfh3vswgkFSY',
  type: 'copy320',
  trackUUID: '9b7bee06-6929-4373-9db8-2f7f6118b38c',
  updatedAt: 2020-03-05T17:37:41.818Z,
  createdAt: 2020-03-05T17:37:41.818Z }




PROCESSING ROW #61: sourcefile: 1f8e202f-9095-4c94-920b-945853cd908a.mp3, cnodeUserUUID: 11c34897-1946-4dfc-b59c-f646a1fc69fe, trackUUID: 549f94f4-aba6-4660-91f9-755086542aed, multihash: QmXsojfUUYcfrVzxG1euYk3d6TFXibZjrvvHzHi1mHPibd, dstPath: /file_storage/QmXsojfUUYcfrVzxG1euYk3d6TFXibZjrvvHzHi1mHPibd
writing to db1...
Executing (adb11dde-428d-45cf-a742-6decdb614c3f): START TRANSACTION;
Executing (adb11dde-428d-45cf-a742-6decdb614c3f): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '11c34897-1946-4dfc-b59c-f646a1fc69fe' AND "File"."multihash" = 'QmXsojfUUYcfrVzxG1euYk3d6TFXibZjrvvHzHi1mHPibd' AND "File"."sourceFile" = '1f8e202f-9095-4c94-920b-945853cd908a.mp3' AND "File"."storagePath" = '/file_storage/QmXsojfUUYcfrVzxG1euYk3d6TFXibZjrvvHzHi1mHPibd' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '549f94f4-aba6-4660-91f9-755086542aed' LIMIT 1;
Executing (adb11dde-428d-45cf-a742-6decdb614c3f): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_b541f0d091764a39b687c8a72ae996f3$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('a5b93e30-36b4-49f7-97af-2d7c3c4574eb','11c34897-1946-4dfc-b59c-f646a1fc69fe','549f94f4-aba6-4660-91f9-755086542aed','QmXsojfUUYcfrVzxG1euYk3d6TFXibZjrvvHzHi1mHPibd','1f8e202f-9095-4c94-920b-945853cd908a.mp3','/file_storage/QmXsojfUUYcfrVzxG1euYk3d6TFXibZjrvvHzHi1mHPibd','copy320','2020-03-05 17:37:42.223 +00:00','2020-03-05 17:37:42.223 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_b541f0d091764a39b687c8a72ae996f3$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (adb11dde-428d-45cf-a742-6decdb614c3f): COMMIT;
{ fileUUID: 'a5b93e30-36b4-49f7-97af-2d7c3c4574eb',
  cnodeUserUUID: '11c34897-1946-4dfc-b59c-f646a1fc69fe',
  multihash: 'QmXsojfUUYcfrVzxG1euYk3d6TFXibZjrvvHzHi1mHPibd',
  sourceFile: '1f8e202f-9095-4c94-920b-945853cd908a.mp3',
  storagePath:
   '/file_storage/QmXsojfUUYcfrVzxG1euYk3d6TFXibZjrvvHzHi1mHPibd',
  type: 'copy320',
  trackUUID: '549f94f4-aba6-4660-91f9-755086542aed',
  updatedAt: 2020-03-05T17:37:42.223Z,
  createdAt: 2020-03-05T17:37:42.223Z }
writing to db2...
Executing (4ac50443-93fb-4e37-90e7-7992f38ce33a): START TRANSACTION;
Executing (4ac50443-93fb-4e37-90e7-7992f38ce33a): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '11c34897-1946-4dfc-b59c-f646a1fc69fe' AND "File"."multihash" = 'QmXsojfUUYcfrVzxG1euYk3d6TFXibZjrvvHzHi1mHPibd' AND "File"."sourceFile" = '1f8e202f-9095-4c94-920b-945853cd908a.mp3' AND "File"."storagePath" = '/file_storage/QmXsojfUUYcfrVzxG1euYk3d6TFXibZjrvvHzHi1mHPibd' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '549f94f4-aba6-4660-91f9-755086542aed' LIMIT 1;
Executing (4ac50443-93fb-4e37-90e7-7992f38ce33a): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_7e4c304b9ae040d5b07f9424977f97bc$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('c60ec9a4-6ff4-4103-b517-b85b1ce7668d','11c34897-1946-4dfc-b59c-f646a1fc69fe','549f94f4-aba6-4660-91f9-755086542aed','QmXsojfUUYcfrVzxG1euYk3d6TFXibZjrvvHzHi1mHPibd','1f8e202f-9095-4c94-920b-945853cd908a.mp3','/file_storage/QmXsojfUUYcfrVzxG1euYk3d6TFXibZjrvvHzHi1mHPibd','copy320','2020-03-05 17:37:42.613 +00:00','2020-03-05 17:37:42.613 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_7e4c304b9ae040d5b07f9424977f97bc$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (4ac50443-93fb-4e37-90e7-7992f38ce33a): COMMIT;
{ fileUUID: 'c60ec9a4-6ff4-4103-b517-b85b1ce7668d',
  cnodeUserUUID: '11c34897-1946-4dfc-b59c-f646a1fc69fe',
  multihash: 'QmXsojfUUYcfrVzxG1euYk3d6TFXibZjrvvHzHi1mHPibd',
  sourceFile: '1f8e202f-9095-4c94-920b-945853cd908a.mp3',
  storagePath:
   '/file_storage/QmXsojfUUYcfrVzxG1euYk3d6TFXibZjrvvHzHi1mHPibd',
  type: 'copy320',
  trackUUID: '549f94f4-aba6-4660-91f9-755086542aed',
  updatedAt: 2020-03-05T17:37:42.613Z,
  createdAt: 2020-03-05T17:37:42.613Z }
writing to db3...
Executing (c08d1d82-68c5-4a2a-901d-fdddd889dd1e): START TRANSACTION;
Executing (c08d1d82-68c5-4a2a-901d-fdddd889dd1e): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '11c34897-1946-4dfc-b59c-f646a1fc69fe' AND "File"."multihash" = 'QmXsojfUUYcfrVzxG1euYk3d6TFXibZjrvvHzHi1mHPibd' AND "File"."sourceFile" = '1f8e202f-9095-4c94-920b-945853cd908a.mp3' AND "File"."storagePath" = '/file_storage/QmXsojfUUYcfrVzxG1euYk3d6TFXibZjrvvHzHi1mHPibd' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '549f94f4-aba6-4660-91f9-755086542aed' LIMIT 1;
Executing (c08d1d82-68c5-4a2a-901d-fdddd889dd1e): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_81a2dded1d4a47a0bfde5dc374bfdb70$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('9016039d-17b7-43fe-9b54-99de78b44506','11c34897-1946-4dfc-b59c-f646a1fc69fe','549f94f4-aba6-4660-91f9-755086542aed','QmXsojfUUYcfrVzxG1euYk3d6TFXibZjrvvHzHi1mHPibd','1f8e202f-9095-4c94-920b-945853cd908a.mp3','/file_storage/QmXsojfUUYcfrVzxG1euYk3d6TFXibZjrvvHzHi1mHPibd','copy320','2020-03-05 17:37:43.014 +00:00','2020-03-05 17:37:43.014 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_81a2dded1d4a47a0bfde5dc374bfdb70$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (c08d1d82-68c5-4a2a-901d-fdddd889dd1e): COMMIT;
{ fileUUID: '9016039d-17b7-43fe-9b54-99de78b44506',
  cnodeUserUUID: '11c34897-1946-4dfc-b59c-f646a1fc69fe',
  multihash: 'QmXsojfUUYcfrVzxG1euYk3d6TFXibZjrvvHzHi1mHPibd',
  sourceFile: '1f8e202f-9095-4c94-920b-945853cd908a.mp3',
  storagePath:
   '/file_storage/QmXsojfUUYcfrVzxG1euYk3d6TFXibZjrvvHzHi1mHPibd',
  type: 'copy320',
  trackUUID: '549f94f4-aba6-4660-91f9-755086542aed',
  updatedAt: 2020-03-05T17:37:43.014Z,
  createdAt: 2020-03-05T17:37:43.014Z }




PROCESSING ROW #62: sourcefile: b497753a-b3ff-4ac2-9ab9-9e11a3056008.mp3, cnodeUserUUID: d2342a3b-d8ba-40df-8db9-a9a3d81c5554, trackUUID: e329a709-f56b-41eb-a146-538ab7e722b8, multihash: QmQLrYxWsyByEU6EeojyZDDTWWujAnTzQhmGUc4tYqMhBU, dstPath: /file_storage/QmQLrYxWsyByEU6EeojyZDDTWWujAnTzQhmGUc4tYqMhBU
writing to db1...
Executing (f6e01143-0668-418d-8557-de17d2ff3254): START TRANSACTION;
Executing (f6e01143-0668-418d-8557-de17d2ff3254): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = 'd2342a3b-d8ba-40df-8db9-a9a3d81c5554' AND "File"."multihash" = 'QmQLrYxWsyByEU6EeojyZDDTWWujAnTzQhmGUc4tYqMhBU' AND "File"."sourceFile" = 'b497753a-b3ff-4ac2-9ab9-9e11a3056008.mp3' AND "File"."storagePath" = '/file_storage/QmQLrYxWsyByEU6EeojyZDDTWWujAnTzQhmGUc4tYqMhBU' AND "File"."type" = 'copy320' AND "File"."trackUUID" = 'e329a709-f56b-41eb-a146-538ab7e722b8' LIMIT 1;
Executing (f6e01143-0668-418d-8557-de17d2ff3254): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_d9529b3d324740719d573f962e34afad$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('8448355d-54a8-4cb4-899e-fd39517f510b','d2342a3b-d8ba-40df-8db9-a9a3d81c5554','e329a709-f56b-41eb-a146-538ab7e722b8','QmQLrYxWsyByEU6EeojyZDDTWWujAnTzQhmGUc4tYqMhBU','b497753a-b3ff-4ac2-9ab9-9e11a3056008.mp3','/file_storage/QmQLrYxWsyByEU6EeojyZDDTWWujAnTzQhmGUc4tYqMhBU','copy320','2020-03-05 17:37:43.408 +00:00','2020-03-05 17:37:43.408 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_d9529b3d324740719d573f962e34afad$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (f6e01143-0668-418d-8557-de17d2ff3254): COMMIT;
{ fileUUID: '8448355d-54a8-4cb4-899e-fd39517f510b',
  cnodeUserUUID: 'd2342a3b-d8ba-40df-8db9-a9a3d81c5554',
  multihash: 'QmQLrYxWsyByEU6EeojyZDDTWWujAnTzQhmGUc4tYqMhBU',
  sourceFile: 'b497753a-b3ff-4ac2-9ab9-9e11a3056008.mp3',
  storagePath:
   '/file_storage/QmQLrYxWsyByEU6EeojyZDDTWWujAnTzQhmGUc4tYqMhBU',
  type: 'copy320',
  trackUUID: 'e329a709-f56b-41eb-a146-538ab7e722b8',
  updatedAt: 2020-03-05T17:37:43.408Z,
  createdAt: 2020-03-05T17:37:43.408Z }
writing to db2...
Executing (e4d40f5c-7a03-433e-8669-7fe867f5d9be): START TRANSACTION;
Executing (e4d40f5c-7a03-433e-8669-7fe867f5d9be): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = 'd2342a3b-d8ba-40df-8db9-a9a3d81c5554' AND "File"."multihash" = 'QmQLrYxWsyByEU6EeojyZDDTWWujAnTzQhmGUc4tYqMhBU' AND "File"."sourceFile" = 'b497753a-b3ff-4ac2-9ab9-9e11a3056008.mp3' AND "File"."storagePath" = '/file_storage/QmQLrYxWsyByEU6EeojyZDDTWWujAnTzQhmGUc4tYqMhBU' AND "File"."type" = 'copy320' AND "File"."trackUUID" = 'e329a709-f56b-41eb-a146-538ab7e722b8' LIMIT 1;
Executing (e4d40f5c-7a03-433e-8669-7fe867f5d9be): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_a080ec582dce41c3b68ab9ad2a3575c0$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('4585184e-b3bf-402d-9cb9-b8e21d153b96','d2342a3b-d8ba-40df-8db9-a9a3d81c5554','e329a709-f56b-41eb-a146-538ab7e722b8','QmQLrYxWsyByEU6EeojyZDDTWWujAnTzQhmGUc4tYqMhBU','b497753a-b3ff-4ac2-9ab9-9e11a3056008.mp3','/file_storage/QmQLrYxWsyByEU6EeojyZDDTWWujAnTzQhmGUc4tYqMhBU','copy320','2020-03-05 17:37:43.805 +00:00','2020-03-05 17:37:43.805 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_a080ec582dce41c3b68ab9ad2a3575c0$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (e4d40f5c-7a03-433e-8669-7fe867f5d9be): COMMIT;
{ fileUUID: '4585184e-b3bf-402d-9cb9-b8e21d153b96',
  cnodeUserUUID: 'd2342a3b-d8ba-40df-8db9-a9a3d81c5554',
  multihash: 'QmQLrYxWsyByEU6EeojyZDDTWWujAnTzQhmGUc4tYqMhBU',
  sourceFile: 'b497753a-b3ff-4ac2-9ab9-9e11a3056008.mp3',
  storagePath:
   '/file_storage/QmQLrYxWsyByEU6EeojyZDDTWWujAnTzQhmGUc4tYqMhBU',
  type: 'copy320',
  trackUUID: 'e329a709-f56b-41eb-a146-538ab7e722b8',
  updatedAt: 2020-03-05T17:37:43.805Z,
  createdAt: 2020-03-05T17:37:43.805Z }
writing to db3...
Executing (c1f15d6f-7783-48c8-9002-e5f3cd39702c): START TRANSACTION;
Executing (c1f15d6f-7783-48c8-9002-e5f3cd39702c): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = 'd2342a3b-d8ba-40df-8db9-a9a3d81c5554' AND "File"."multihash" = 'QmQLrYxWsyByEU6EeojyZDDTWWujAnTzQhmGUc4tYqMhBU' AND "File"."sourceFile" = 'b497753a-b3ff-4ac2-9ab9-9e11a3056008.mp3' AND "File"."storagePath" = '/file_storage/QmQLrYxWsyByEU6EeojyZDDTWWujAnTzQhmGUc4tYqMhBU' AND "File"."type" = 'copy320' AND "File"."trackUUID" = 'e329a709-f56b-41eb-a146-538ab7e722b8' LIMIT 1;
Executing (c1f15d6f-7783-48c8-9002-e5f3cd39702c): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_bc339e80b4e24b3d8cb45abcd5252d4c$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('8c3f7673-2c99-4eda-ac23-6bc3929d176c','d2342a3b-d8ba-40df-8db9-a9a3d81c5554','e329a709-f56b-41eb-a146-538ab7e722b8','QmQLrYxWsyByEU6EeojyZDDTWWujAnTzQhmGUc4tYqMhBU','b497753a-b3ff-4ac2-9ab9-9e11a3056008.mp3','/file_storage/QmQLrYxWsyByEU6EeojyZDDTWWujAnTzQhmGUc4tYqMhBU','copy320','2020-03-05 17:37:44.192 +00:00','2020-03-05 17:37:44.192 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_bc339e80b4e24b3d8cb45abcd5252d4c$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (c1f15d6f-7783-48c8-9002-e5f3cd39702c): COMMIT;
{ fileUUID: '8c3f7673-2c99-4eda-ac23-6bc3929d176c',
  cnodeUserUUID: 'd2342a3b-d8ba-40df-8db9-a9a3d81c5554',
  multihash: 'QmQLrYxWsyByEU6EeojyZDDTWWujAnTzQhmGUc4tYqMhBU',
  sourceFile: 'b497753a-b3ff-4ac2-9ab9-9e11a3056008.mp3',
  storagePath:
   '/file_storage/QmQLrYxWsyByEU6EeojyZDDTWWujAnTzQhmGUc4tYqMhBU',
  type: 'copy320',
  trackUUID: 'e329a709-f56b-41eb-a146-538ab7e722b8',
  updatedAt: 2020-03-05T17:37:44.192Z,
  createdAt: 2020-03-05T17:37:44.192Z }




PROCESSING ROW #63: sourcefile: c003bcdd-1f08-4644-afa9-6c3472ebfcbf.mp3, cnodeUserUUID: 06d17fcc-249e-4a1c-9252-e639a64da68a, trackUUID: 40209db1-9cf6-469c-ae18-527cbf73ac06, multihash: QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM, dstPath: /file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM
writing to db1...
Executing (c9bbc7c4-4cd8-4ec6-895a-3edac226b928): START TRANSACTION;
Executing (c9bbc7c4-4cd8-4ec6-895a-3edac226b928): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '06d17fcc-249e-4a1c-9252-e639a64da68a' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = 'c003bcdd-1f08-4644-afa9-6c3472ebfcbf.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '40209db1-9cf6-469c-ae18-527cbf73ac06' LIMIT 1;
Executing (c9bbc7c4-4cd8-4ec6-895a-3edac226b928): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_60b354d8b0f245699ff39f0921348630$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('be57b489-f6bb-4383-8d4c-6c6a91c3e19d','06d17fcc-249e-4a1c-9252-e639a64da68a','40209db1-9cf6-469c-ae18-527cbf73ac06','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','c003bcdd-1f08-4644-afa9-6c3472ebfcbf.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:37:44.577 +00:00','2020-03-05 17:37:44.577 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_60b354d8b0f245699ff39f0921348630$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (c9bbc7c4-4cd8-4ec6-895a-3edac226b928): COMMIT;
{ fileUUID: 'be57b489-f6bb-4383-8d4c-6c6a91c3e19d',
  cnodeUserUUID: '06d17fcc-249e-4a1c-9252-e639a64da68a',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: 'c003bcdd-1f08-4644-afa9-6c3472ebfcbf.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: '40209db1-9cf6-469c-ae18-527cbf73ac06',
  updatedAt: 2020-03-05T17:37:44.577Z,
  createdAt: 2020-03-05T17:37:44.577Z }
writing to db2...
Executing (1937f8ac-9fb9-4a46-9d7e-ab3cb2e46162): START TRANSACTION;
Executing (1937f8ac-9fb9-4a46-9d7e-ab3cb2e46162): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '06d17fcc-249e-4a1c-9252-e639a64da68a' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = 'c003bcdd-1f08-4644-afa9-6c3472ebfcbf.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '40209db1-9cf6-469c-ae18-527cbf73ac06' LIMIT 1;
Executing (1937f8ac-9fb9-4a46-9d7e-ab3cb2e46162): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_1076997779104a6c805989f023929e9e$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('20179c08-5017-4755-b3b8-d7bb3944290f','06d17fcc-249e-4a1c-9252-e639a64da68a','40209db1-9cf6-469c-ae18-527cbf73ac06','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','c003bcdd-1f08-4644-afa9-6c3472ebfcbf.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:37:44.960 +00:00','2020-03-05 17:37:44.960 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_1076997779104a6c805989f023929e9e$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (1937f8ac-9fb9-4a46-9d7e-ab3cb2e46162): COMMIT;
{ fileUUID: '20179c08-5017-4755-b3b8-d7bb3944290f',
  cnodeUserUUID: '06d17fcc-249e-4a1c-9252-e639a64da68a',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: 'c003bcdd-1f08-4644-afa9-6c3472ebfcbf.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: '40209db1-9cf6-469c-ae18-527cbf73ac06',
  updatedAt: 2020-03-05T17:37:44.960Z,
  createdAt: 2020-03-05T17:37:44.960Z }
writing to db3...
Executing (ec35616a-6d60-45c7-ac43-00de63a2d6ef): START TRANSACTION;
Executing (ec35616a-6d60-45c7-ac43-00de63a2d6ef): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '06d17fcc-249e-4a1c-9252-e639a64da68a' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = 'c003bcdd-1f08-4644-afa9-6c3472ebfcbf.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '40209db1-9cf6-469c-ae18-527cbf73ac06' LIMIT 1;
Executing (ec35616a-6d60-45c7-ac43-00de63a2d6ef): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_4404896f652941389a22084f7c4a3707$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('7fafe283-d13a-4101-beac-7427497bc647','06d17fcc-249e-4a1c-9252-e639a64da68a','40209db1-9cf6-469c-ae18-527cbf73ac06','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','c003bcdd-1f08-4644-afa9-6c3472ebfcbf.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:37:45.370 +00:00','2020-03-05 17:37:45.370 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_4404896f652941389a22084f7c4a3707$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (ec35616a-6d60-45c7-ac43-00de63a2d6ef): COMMIT;
{ fileUUID: '7fafe283-d13a-4101-beac-7427497bc647',
  cnodeUserUUID: '06d17fcc-249e-4a1c-9252-e639a64da68a',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: 'c003bcdd-1f08-4644-afa9-6c3472ebfcbf.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: '40209db1-9cf6-469c-ae18-527cbf73ac06',
  updatedAt: 2020-03-05T17:37:45.370Z,
  createdAt: 2020-03-05T17:37:45.370Z }




PROCESSING ROW #64: sourcefile: 30404b9e-82ff-454b-bb7e-fc2252a42613.mp3, cnodeUserUUID: 57c56d2e-cbda-4756-83f0-4958d3a59de6, trackUUID: e590ab5f-6e31-4840-a67f-08eeea3bb026, multihash: QmRi9G9WvLuMzhbhDRs4Cg48Bnx1VmypDd9yEGkRKkeTq1, dstPath: /file_storage/QmRi9G9WvLuMzhbhDRs4Cg48Bnx1VmypDd9yEGkRKkeTq1
writing to db1...
Executing (3d88e7f9-c438-4d9b-ba37-ba06aa3df150): START TRANSACTION;
Executing (3d88e7f9-c438-4d9b-ba37-ba06aa3df150): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '57c56d2e-cbda-4756-83f0-4958d3a59de6' AND "File"."multihash" = 'QmRi9G9WvLuMzhbhDRs4Cg48Bnx1VmypDd9yEGkRKkeTq1' AND "File"."sourceFile" = '30404b9e-82ff-454b-bb7e-fc2252a42613.mp3' AND "File"."storagePath" = '/file_storage/QmRi9G9WvLuMzhbhDRs4Cg48Bnx1VmypDd9yEGkRKkeTq1' AND "File"."type" = 'copy320' AND "File"."trackUUID" = 'e590ab5f-6e31-4840-a67f-08eeea3bb026' LIMIT 1;
Executing (3d88e7f9-c438-4d9b-ba37-ba06aa3df150): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_7653f39df9d6428b8632b781c28d3d5d$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('8a3d0157-f1fc-49d8-9b87-64bcc632abdc','57c56d2e-cbda-4756-83f0-4958d3a59de6','e590ab5f-6e31-4840-a67f-08eeea3bb026','QmRi9G9WvLuMzhbhDRs4Cg48Bnx1VmypDd9yEGkRKkeTq1','30404b9e-82ff-454b-bb7e-fc2252a42613.mp3','/file_storage/QmRi9G9WvLuMzhbhDRs4Cg48Bnx1VmypDd9yEGkRKkeTq1','copy320','2020-03-05 17:37:45.755 +00:00','2020-03-05 17:37:45.755 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_7653f39df9d6428b8632b781c28d3d5d$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (3d88e7f9-c438-4d9b-ba37-ba06aa3df150): COMMIT;
{ fileUUID: '8a3d0157-f1fc-49d8-9b87-64bcc632abdc',
  cnodeUserUUID: '57c56d2e-cbda-4756-83f0-4958d3a59de6',
  multihash: 'QmRi9G9WvLuMzhbhDRs4Cg48Bnx1VmypDd9yEGkRKkeTq1',
  sourceFile: '30404b9e-82ff-454b-bb7e-fc2252a42613.mp3',
  storagePath:
   '/file_storage/QmRi9G9WvLuMzhbhDRs4Cg48Bnx1VmypDd9yEGkRKkeTq1',
  type: 'copy320',
  trackUUID: 'e590ab5f-6e31-4840-a67f-08eeea3bb026',
  updatedAt: 2020-03-05T17:37:45.755Z,
  createdAt: 2020-03-05T17:37:45.755Z }
writing to db2...
Executing (8c36f768-a1bc-4df1-aa99-a345cab1b506): START TRANSACTION;
Executing (8c36f768-a1bc-4df1-aa99-a345cab1b506): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '57c56d2e-cbda-4756-83f0-4958d3a59de6' AND "File"."multihash" = 'QmRi9G9WvLuMzhbhDRs4Cg48Bnx1VmypDd9yEGkRKkeTq1' AND "File"."sourceFile" = '30404b9e-82ff-454b-bb7e-fc2252a42613.mp3' AND "File"."storagePath" = '/file_storage/QmRi9G9WvLuMzhbhDRs4Cg48Bnx1VmypDd9yEGkRKkeTq1' AND "File"."type" = 'copy320' AND "File"."trackUUID" = 'e590ab5f-6e31-4840-a67f-08eeea3bb026' LIMIT 1;
Executing (8c36f768-a1bc-4df1-aa99-a345cab1b506): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_a969125274ac48df94eec923f348b731$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('a69f8dcb-f43d-465f-9f1e-65143aef8e86','57c56d2e-cbda-4756-83f0-4958d3a59de6','e590ab5f-6e31-4840-a67f-08eeea3bb026','QmRi9G9WvLuMzhbhDRs4Cg48Bnx1VmypDd9yEGkRKkeTq1','30404b9e-82ff-454b-bb7e-fc2252a42613.mp3','/file_storage/QmRi9G9WvLuMzhbhDRs4Cg48Bnx1VmypDd9yEGkRKkeTq1','copy320','2020-03-05 17:37:46.152 +00:00','2020-03-05 17:37:46.152 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_a969125274ac48df94eec923f348b731$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (8c36f768-a1bc-4df1-aa99-a345cab1b506): COMMIT;
{ fileUUID: 'a69f8dcb-f43d-465f-9f1e-65143aef8e86',
  cnodeUserUUID: '57c56d2e-cbda-4756-83f0-4958d3a59de6',
  multihash: 'QmRi9G9WvLuMzhbhDRs4Cg48Bnx1VmypDd9yEGkRKkeTq1',
  sourceFile: '30404b9e-82ff-454b-bb7e-fc2252a42613.mp3',
  storagePath:
   '/file_storage/QmRi9G9WvLuMzhbhDRs4Cg48Bnx1VmypDd9yEGkRKkeTq1',
  type: 'copy320',
  trackUUID: 'e590ab5f-6e31-4840-a67f-08eeea3bb026',
  updatedAt: 2020-03-05T17:37:46.152Z,
  createdAt: 2020-03-05T17:37:46.152Z }
writing to db3...
Executing (6dff8637-90f5-44c0-bf11-3c573b16989f): START TRANSACTION;
Executing (6dff8637-90f5-44c0-bf11-3c573b16989f): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '57c56d2e-cbda-4756-83f0-4958d3a59de6' AND "File"."multihash" = 'QmRi9G9WvLuMzhbhDRs4Cg48Bnx1VmypDd9yEGkRKkeTq1' AND "File"."sourceFile" = '30404b9e-82ff-454b-bb7e-fc2252a42613.mp3' AND "File"."storagePath" = '/file_storage/QmRi9G9WvLuMzhbhDRs4Cg48Bnx1VmypDd9yEGkRKkeTq1' AND "File"."type" = 'copy320' AND "File"."trackUUID" = 'e590ab5f-6e31-4840-a67f-08eeea3bb026' LIMIT 1;
Executing (6dff8637-90f5-44c0-bf11-3c573b16989f): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_3024613b7b0d4c9eb2790b3be635c4ae$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('381c821e-c983-4b72-966d-866597d8ab7e','57c56d2e-cbda-4756-83f0-4958d3a59de6','e590ab5f-6e31-4840-a67f-08eeea3bb026','QmRi9G9WvLuMzhbhDRs4Cg48Bnx1VmypDd9yEGkRKkeTq1','30404b9e-82ff-454b-bb7e-fc2252a42613.mp3','/file_storage/QmRi9G9WvLuMzhbhDRs4Cg48Bnx1VmypDd9yEGkRKkeTq1','copy320','2020-03-05 17:37:46.540 +00:00','2020-03-05 17:37:46.540 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_3024613b7b0d4c9eb2790b3be635c4ae$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (6dff8637-90f5-44c0-bf11-3c573b16989f): COMMIT;
{ fileUUID: '381c821e-c983-4b72-966d-866597d8ab7e',
  cnodeUserUUID: '57c56d2e-cbda-4756-83f0-4958d3a59de6',
  multihash: 'QmRi9G9WvLuMzhbhDRs4Cg48Bnx1VmypDd9yEGkRKkeTq1',
  sourceFile: '30404b9e-82ff-454b-bb7e-fc2252a42613.mp3',
  storagePath:
   '/file_storage/QmRi9G9WvLuMzhbhDRs4Cg48Bnx1VmypDd9yEGkRKkeTq1',
  type: 'copy320',
  trackUUID: 'e590ab5f-6e31-4840-a67f-08eeea3bb026',
  updatedAt: 2020-03-05T17:37:46.540Z,
  createdAt: 2020-03-05T17:37:46.540Z }




PROCESSING ROW #65: sourcefile: 62ee3941-f1a6-493d-9811-c060f7f507d4.mp3, cnodeUserUUID: 11c34897-1946-4dfc-b59c-f646a1fc69fe, trackUUID: 763d16f3-f43d-4990-ae43-d16a01654ad8, multihash: QmTvXoLjF2TPrGTnmRYN74DfkaGsEcqxTg8keSyacgM4Ah, dstPath: /file_storage/QmTvXoLjF2TPrGTnmRYN74DfkaGsEcqxTg8keSyacgM4Ah
writing to db1...
Executing (87b99561-aed3-41b3-a56c-a3fdf8f39f2a): START TRANSACTION;
Executing (87b99561-aed3-41b3-a56c-a3fdf8f39f2a): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '11c34897-1946-4dfc-b59c-f646a1fc69fe' AND "File"."multihash" = 'QmTvXoLjF2TPrGTnmRYN74DfkaGsEcqxTg8keSyacgM4Ah' AND "File"."sourceFile" = '62ee3941-f1a6-493d-9811-c060f7f507d4.mp3' AND "File"."storagePath" = '/file_storage/QmTvXoLjF2TPrGTnmRYN74DfkaGsEcqxTg8keSyacgM4Ah' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '763d16f3-f43d-4990-ae43-d16a01654ad8' LIMIT 1;
Executing (87b99561-aed3-41b3-a56c-a3fdf8f39f2a): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_18f83de9c32b4382820a4e001508c5fb$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('f677aa8f-fb67-4181-9bec-8c112d7f9954','11c34897-1946-4dfc-b59c-f646a1fc69fe','763d16f3-f43d-4990-ae43-d16a01654ad8','QmTvXoLjF2TPrGTnmRYN74DfkaGsEcqxTg8keSyacgM4Ah','62ee3941-f1a6-493d-9811-c060f7f507d4.mp3','/file_storage/QmTvXoLjF2TPrGTnmRYN74DfkaGsEcqxTg8keSyacgM4Ah','copy320','2020-03-05 17:37:46.930 +00:00','2020-03-05 17:37:46.930 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_18f83de9c32b4382820a4e001508c5fb$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (87b99561-aed3-41b3-a56c-a3fdf8f39f2a): COMMIT;
{ fileUUID: 'f677aa8f-fb67-4181-9bec-8c112d7f9954',
  cnodeUserUUID: '11c34897-1946-4dfc-b59c-f646a1fc69fe',
  multihash: 'QmTvXoLjF2TPrGTnmRYN74DfkaGsEcqxTg8keSyacgM4Ah',
  sourceFile: '62ee3941-f1a6-493d-9811-c060f7f507d4.mp3',
  storagePath:
   '/file_storage/QmTvXoLjF2TPrGTnmRYN74DfkaGsEcqxTg8keSyacgM4Ah',
  type: 'copy320',
  trackUUID: '763d16f3-f43d-4990-ae43-d16a01654ad8',
  updatedAt: 2020-03-05T17:37:46.930Z,
  createdAt: 2020-03-05T17:37:46.930Z }
writing to db2...
Executing (913fe9a8-4d36-4431-b8bc-993d02253def): START TRANSACTION;
Executing (913fe9a8-4d36-4431-b8bc-993d02253def): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '11c34897-1946-4dfc-b59c-f646a1fc69fe' AND "File"."multihash" = 'QmTvXoLjF2TPrGTnmRYN74DfkaGsEcqxTg8keSyacgM4Ah' AND "File"."sourceFile" = '62ee3941-f1a6-493d-9811-c060f7f507d4.mp3' AND "File"."storagePath" = '/file_storage/QmTvXoLjF2TPrGTnmRYN74DfkaGsEcqxTg8keSyacgM4Ah' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '763d16f3-f43d-4990-ae43-d16a01654ad8' LIMIT 1;
Executing (913fe9a8-4d36-4431-b8bc-993d02253def): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_41f7c261472b40f29ffa721a1d0f06c9$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('90b5d69b-6138-4dd7-ad9a-4dbc67d35d44','11c34897-1946-4dfc-b59c-f646a1fc69fe','763d16f3-f43d-4990-ae43-d16a01654ad8','QmTvXoLjF2TPrGTnmRYN74DfkaGsEcqxTg8keSyacgM4Ah','62ee3941-f1a6-493d-9811-c060f7f507d4.mp3','/file_storage/QmTvXoLjF2TPrGTnmRYN74DfkaGsEcqxTg8keSyacgM4Ah','copy320','2020-03-05 17:37:47.307 +00:00','2020-03-05 17:37:47.307 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_41f7c261472b40f29ffa721a1d0f06c9$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (913fe9a8-4d36-4431-b8bc-993d02253def): COMMIT;
{ fileUUID: '90b5d69b-6138-4dd7-ad9a-4dbc67d35d44',
  cnodeUserUUID: '11c34897-1946-4dfc-b59c-f646a1fc69fe',
  multihash: 'QmTvXoLjF2TPrGTnmRYN74DfkaGsEcqxTg8keSyacgM4Ah',
  sourceFile: '62ee3941-f1a6-493d-9811-c060f7f507d4.mp3',
  storagePath:
   '/file_storage/QmTvXoLjF2TPrGTnmRYN74DfkaGsEcqxTg8keSyacgM4Ah',
  type: 'copy320',
  trackUUID: '763d16f3-f43d-4990-ae43-d16a01654ad8',
  updatedAt: 2020-03-05T17:37:47.307Z,
  createdAt: 2020-03-05T17:37:47.307Z }
writing to db3...
Executing (5f13932e-1ebc-478e-ba1e-fe943448596f): START TRANSACTION;
Executing (5f13932e-1ebc-478e-ba1e-fe943448596f): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '11c34897-1946-4dfc-b59c-f646a1fc69fe' AND "File"."multihash" = 'QmTvXoLjF2TPrGTnmRYN74DfkaGsEcqxTg8keSyacgM4Ah' AND "File"."sourceFile" = '62ee3941-f1a6-493d-9811-c060f7f507d4.mp3' AND "File"."storagePath" = '/file_storage/QmTvXoLjF2TPrGTnmRYN74DfkaGsEcqxTg8keSyacgM4Ah' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '763d16f3-f43d-4990-ae43-d16a01654ad8' LIMIT 1;
Executing (5f13932e-1ebc-478e-ba1e-fe943448596f): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_f2eccac3702b4191912faca1365b4ea5$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('92b26fa4-368d-4ed1-ad64-73222c2b771c','11c34897-1946-4dfc-b59c-f646a1fc69fe','763d16f3-f43d-4990-ae43-d16a01654ad8','QmTvXoLjF2TPrGTnmRYN74DfkaGsEcqxTg8keSyacgM4Ah','62ee3941-f1a6-493d-9811-c060f7f507d4.mp3','/file_storage/QmTvXoLjF2TPrGTnmRYN74DfkaGsEcqxTg8keSyacgM4Ah','copy320','2020-03-05 17:37:47.718 +00:00','2020-03-05 17:37:47.718 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_f2eccac3702b4191912faca1365b4ea5$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (5f13932e-1ebc-478e-ba1e-fe943448596f): COMMIT;
{ fileUUID: '92b26fa4-368d-4ed1-ad64-73222c2b771c',
  cnodeUserUUID: '11c34897-1946-4dfc-b59c-f646a1fc69fe',
  multihash: 'QmTvXoLjF2TPrGTnmRYN74DfkaGsEcqxTg8keSyacgM4Ah',
  sourceFile: '62ee3941-f1a6-493d-9811-c060f7f507d4.mp3',
  storagePath:
   '/file_storage/QmTvXoLjF2TPrGTnmRYN74DfkaGsEcqxTg8keSyacgM4Ah',
  type: 'copy320',
  trackUUID: '763d16f3-f43d-4990-ae43-d16a01654ad8',
  updatedAt: 2020-03-05T17:37:47.718Z,
  createdAt: 2020-03-05T17:37:47.718Z }




PROCESSING ROW #66: sourcefile: 731f2deb-7a3b-4ffa-b10d-004a9c4486e6.mp3, cnodeUserUUID: 516d97a9-e2ba-4e6f-9a86-ed1cfa16f105, trackUUID: 454d208f-69c8-42cc-a686-005b0e10b817, multihash: QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM, dstPath: /file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM
writing to db1...
Executing (488897fb-f8e4-499c-a9f2-eaf79d058a98): START TRANSACTION;
Executing (488897fb-f8e4-499c-a9f2-eaf79d058a98): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '516d97a9-e2ba-4e6f-9a86-ed1cfa16f105' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = '731f2deb-7a3b-4ffa-b10d-004a9c4486e6.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '454d208f-69c8-42cc-a686-005b0e10b817' LIMIT 1;
Executing (488897fb-f8e4-499c-a9f2-eaf79d058a98): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_a8032b3b6bf04e1fbdde1593430f7947$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('086f3a22-aa15-4335-a1d4-83b40a2df1bc','516d97a9-e2ba-4e6f-9a86-ed1cfa16f105','454d208f-69c8-42cc-a686-005b0e10b817','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','731f2deb-7a3b-4ffa-b10d-004a9c4486e6.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:37:48.115 +00:00','2020-03-05 17:37:48.115 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_a8032b3b6bf04e1fbdde1593430f7947$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (488897fb-f8e4-499c-a9f2-eaf79d058a98): COMMIT;
{ fileUUID: '086f3a22-aa15-4335-a1d4-83b40a2df1bc',
  cnodeUserUUID: '516d97a9-e2ba-4e6f-9a86-ed1cfa16f105',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: '731f2deb-7a3b-4ffa-b10d-004a9c4486e6.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: '454d208f-69c8-42cc-a686-005b0e10b817',
  updatedAt: 2020-03-05T17:37:48.115Z,
  createdAt: 2020-03-05T17:37:48.115Z }
writing to db2...
Executing (97ee4aab-a3ea-4f42-adc5-2978506dd6cd): START TRANSACTION;
Executing (97ee4aab-a3ea-4f42-adc5-2978506dd6cd): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '516d97a9-e2ba-4e6f-9a86-ed1cfa16f105' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = '731f2deb-7a3b-4ffa-b10d-004a9c4486e6.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '454d208f-69c8-42cc-a686-005b0e10b817' LIMIT 1;
Executing (97ee4aab-a3ea-4f42-adc5-2978506dd6cd): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_449c3577af5a49fdb82370fa5d23312b$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('47cbabcf-e8ef-4ad8-a194-58b47a59a97f','516d97a9-e2ba-4e6f-9a86-ed1cfa16f105','454d208f-69c8-42cc-a686-005b0e10b817','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','731f2deb-7a3b-4ffa-b10d-004a9c4486e6.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:37:48.515 +00:00','2020-03-05 17:37:48.515 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_449c3577af5a49fdb82370fa5d23312b$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (97ee4aab-a3ea-4f42-adc5-2978506dd6cd): COMMIT;
{ fileUUID: '47cbabcf-e8ef-4ad8-a194-58b47a59a97f',
  cnodeUserUUID: '516d97a9-e2ba-4e6f-9a86-ed1cfa16f105',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: '731f2deb-7a3b-4ffa-b10d-004a9c4486e6.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: '454d208f-69c8-42cc-a686-005b0e10b817',
  updatedAt: 2020-03-05T17:37:48.515Z,
  createdAt: 2020-03-05T17:37:48.515Z }
writing to db3...
Executing (e6a90e67-ae2b-4ecf-a80b-a6092cfc13d8): START TRANSACTION;
Executing (e6a90e67-ae2b-4ecf-a80b-a6092cfc13d8): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '516d97a9-e2ba-4e6f-9a86-ed1cfa16f105' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = '731f2deb-7a3b-4ffa-b10d-004a9c4486e6.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '454d208f-69c8-42cc-a686-005b0e10b817' LIMIT 1;
Executing (e6a90e67-ae2b-4ecf-a80b-a6092cfc13d8): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_ca77a694dda94146a63f20925a7a6fd8$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('077b93b0-fb0d-4269-afb3-e40d11338a01','516d97a9-e2ba-4e6f-9a86-ed1cfa16f105','454d208f-69c8-42cc-a686-005b0e10b817','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','731f2deb-7a3b-4ffa-b10d-004a9c4486e6.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:37:48.913 +00:00','2020-03-05 17:37:48.913 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_ca77a694dda94146a63f20925a7a6fd8$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (e6a90e67-ae2b-4ecf-a80b-a6092cfc13d8): COMMIT;
{ fileUUID: '077b93b0-fb0d-4269-afb3-e40d11338a01',
  cnodeUserUUID: '516d97a9-e2ba-4e6f-9a86-ed1cfa16f105',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: '731f2deb-7a3b-4ffa-b10d-004a9c4486e6.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: '454d208f-69c8-42cc-a686-005b0e10b817',
  updatedAt: 2020-03-05T17:37:48.913Z,
  createdAt: 2020-03-05T17:37:48.913Z }




PROCESSING ROW #67: sourcefile: 12651dbc-59dd-4c82-a756-470aa9f6c4fd.mp3, cnodeUserUUID: 1192ff87-1e8e-4c56-8ffa-5caa0b06024b, trackUUID: b66c530a-5777-4538-a203-3e084c75c11d, multihash: QmXzuzuHiTTmPJsBr9xZjJ3E1UHss44jRpUBbmXkpNpQno, dstPath: /file_storage/QmXzuzuHiTTmPJsBr9xZjJ3E1UHss44jRpUBbmXkpNpQno
writing to db1...
Executing (2778af7b-b2cc-4f03-93cd-6bda643a476c): START TRANSACTION;
Executing (2778af7b-b2cc-4f03-93cd-6bda643a476c): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '1192ff87-1e8e-4c56-8ffa-5caa0b06024b' AND "File"."multihash" = 'QmXzuzuHiTTmPJsBr9xZjJ3E1UHss44jRpUBbmXkpNpQno' AND "File"."sourceFile" = '12651dbc-59dd-4c82-a756-470aa9f6c4fd.mp3' AND "File"."storagePath" = '/file_storage/QmXzuzuHiTTmPJsBr9xZjJ3E1UHss44jRpUBbmXkpNpQno' AND "File"."type" = 'copy320' AND "File"."trackUUID" = 'b66c530a-5777-4538-a203-3e084c75c11d' LIMIT 1;
Executing (2778af7b-b2cc-4f03-93cd-6bda643a476c): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_cc2f76f224cd4ecca6d4553e2f3517af$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('69e431e2-3f95-4c01-9c35-66afd53c2f03','1192ff87-1e8e-4c56-8ffa-5caa0b06024b','b66c530a-5777-4538-a203-3e084c75c11d','QmXzuzuHiTTmPJsBr9xZjJ3E1UHss44jRpUBbmXkpNpQno','12651dbc-59dd-4c82-a756-470aa9f6c4fd.mp3','/file_storage/QmXzuzuHiTTmPJsBr9xZjJ3E1UHss44jRpUBbmXkpNpQno','copy320','2020-03-05 17:37:49.303 +00:00','2020-03-05 17:37:49.303 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_cc2f76f224cd4ecca6d4553e2f3517af$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (2778af7b-b2cc-4f03-93cd-6bda643a476c): COMMIT;
{ fileUUID: '69e431e2-3f95-4c01-9c35-66afd53c2f03',
  cnodeUserUUID: '1192ff87-1e8e-4c56-8ffa-5caa0b06024b',
  multihash: 'QmXzuzuHiTTmPJsBr9xZjJ3E1UHss44jRpUBbmXkpNpQno',
  sourceFile: '12651dbc-59dd-4c82-a756-470aa9f6c4fd.mp3',
  storagePath:
   '/file_storage/QmXzuzuHiTTmPJsBr9xZjJ3E1UHss44jRpUBbmXkpNpQno',
  type: 'copy320',
  trackUUID: 'b66c530a-5777-4538-a203-3e084c75c11d',
  updatedAt: 2020-03-05T17:37:49.303Z,
  createdAt: 2020-03-05T17:37:49.303Z }
writing to db2...
Executing (da31bbeb-4e26-4beb-82c4-71aae50f01e6): START TRANSACTION;
Executing (da31bbeb-4e26-4beb-82c4-71aae50f01e6): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '1192ff87-1e8e-4c56-8ffa-5caa0b06024b' AND "File"."multihash" = 'QmXzuzuHiTTmPJsBr9xZjJ3E1UHss44jRpUBbmXkpNpQno' AND "File"."sourceFile" = '12651dbc-59dd-4c82-a756-470aa9f6c4fd.mp3' AND "File"."storagePath" = '/file_storage/QmXzuzuHiTTmPJsBr9xZjJ3E1UHss44jRpUBbmXkpNpQno' AND "File"."type" = 'copy320' AND "File"."trackUUID" = 'b66c530a-5777-4538-a203-3e084c75c11d' LIMIT 1;
Executing (da31bbeb-4e26-4beb-82c4-71aae50f01e6): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_df038da170414408a69559fa38753c42$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('c11edcb7-4523-4196-a481-ee22f2708b18','1192ff87-1e8e-4c56-8ffa-5caa0b06024b','b66c530a-5777-4538-a203-3e084c75c11d','QmXzuzuHiTTmPJsBr9xZjJ3E1UHss44jRpUBbmXkpNpQno','12651dbc-59dd-4c82-a756-470aa9f6c4fd.mp3','/file_storage/QmXzuzuHiTTmPJsBr9xZjJ3E1UHss44jRpUBbmXkpNpQno','copy320','2020-03-05 17:37:49.710 +00:00','2020-03-05 17:37:49.710 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_df038da170414408a69559fa38753c42$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (da31bbeb-4e26-4beb-82c4-71aae50f01e6): COMMIT;
{ fileUUID: 'c11edcb7-4523-4196-a481-ee22f2708b18',
  cnodeUserUUID: '1192ff87-1e8e-4c56-8ffa-5caa0b06024b',
  multihash: 'QmXzuzuHiTTmPJsBr9xZjJ3E1UHss44jRpUBbmXkpNpQno',
  sourceFile: '12651dbc-59dd-4c82-a756-470aa9f6c4fd.mp3',
  storagePath:
   '/file_storage/QmXzuzuHiTTmPJsBr9xZjJ3E1UHss44jRpUBbmXkpNpQno',
  type: 'copy320',
  trackUUID: 'b66c530a-5777-4538-a203-3e084c75c11d',
  updatedAt: 2020-03-05T17:37:49.710Z,
  createdAt: 2020-03-05T17:37:49.710Z }
writing to db3...
Executing (4be38dd1-37b0-49b3-b165-585383b0f66d): START TRANSACTION;
Executing (4be38dd1-37b0-49b3-b165-585383b0f66d): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '1192ff87-1e8e-4c56-8ffa-5caa0b06024b' AND "File"."multihash" = 'QmXzuzuHiTTmPJsBr9xZjJ3E1UHss44jRpUBbmXkpNpQno' AND "File"."sourceFile" = '12651dbc-59dd-4c82-a756-470aa9f6c4fd.mp3' AND "File"."storagePath" = '/file_storage/QmXzuzuHiTTmPJsBr9xZjJ3E1UHss44jRpUBbmXkpNpQno' AND "File"."type" = 'copy320' AND "File"."trackUUID" = 'b66c530a-5777-4538-a203-3e084c75c11d' LIMIT 1;
Executing (4be38dd1-37b0-49b3-b165-585383b0f66d): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_bb92321264874ab08a34f1c7f4834bb5$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('36e0d4f0-d4da-4e68-a113-fa53edeb4cea','1192ff87-1e8e-4c56-8ffa-5caa0b06024b','b66c530a-5777-4538-a203-3e084c75c11d','QmXzuzuHiTTmPJsBr9xZjJ3E1UHss44jRpUBbmXkpNpQno','12651dbc-59dd-4c82-a756-470aa9f6c4fd.mp3','/file_storage/QmXzuzuHiTTmPJsBr9xZjJ3E1UHss44jRpUBbmXkpNpQno','copy320','2020-03-05 17:37:50.104 +00:00','2020-03-05 17:37:50.104 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_bb92321264874ab08a34f1c7f4834bb5$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (4be38dd1-37b0-49b3-b165-585383b0f66d): COMMIT;
{ SequelizeForeignKeyConstraintError: insert or update on table "Files" violates foreign key constraint "Files_cnodeUserUUID_fkey"
    at Query.formatError (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/sequelize/lib/dialects/postgres/query.js:296:16)
    at query.catch.err (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/sequelize/lib/dialects/postgres/query.js:86:18)
    at tryCatcher (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/bluebird/js/release/util.js:16:23)
    at Promise._settlePromiseFromHandler (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/bluebird/js/release/promise.js:517:31)
    at Promise._settlePromise (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/bluebird/js/release/promise.js:574:18)
    at Promise._settlePromise0 (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/bluebird/js/release/promise.js:619:10)
    at Promise._settlePromises (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/bluebird/js/release/promise.js:695:18)
    at _drainQueueStep (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/bluebird/js/release/async.js:138:12)
    at _drainQueue (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/bluebird/js/release/async.js:131:9)
    at Async._drainQueues (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/bluebird/js/release/async.js:147:5)
    at Immediate.Async.drainQueues [as _onImmediate] (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/bluebird/js/release/async.js:17:14)
    at runCallback (timers.js:705:18)
    at tryOnImmediate (timers.js:676:5)
    at processImmediate (timers.js:658:5)
  name: 'SequelizeForeignKeyConstraintError',
  parent:
   { error: insert or update on table "Files" violates foreign key constraint "Files_cnodeUserUUID_fkey"
       at Connection.parseE (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/pg/lib/connection.js:604:11)
       at Connection.parseMessage (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/pg/lib/connection.js:401:19)
       at Socket.<anonymous> (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/pg/lib/connection.js:121:22)
       at Socket.emit (events.js:198:13)
       at addChunk (_stream_readable.js:288:12)
       at readableAddChunk (_stream_readable.js:269:11)
       at Socket.Readable.push (_stream_readable.js:224:10)
       at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)
     name: 'error',
     length: 881,
     severity: 'ERROR',
     code: '23503',
     detail:
      'Key (cnodeUserUUID)=(1192ff87-1e8e-4c56-8ffa-5caa0b06024b) is not present in table "CNodeUsers".',
     hint: undefined,
     position: undefined,
     internalPosition: undefined,
     internalQuery: undefined,
     where:
      'SQL statement "INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES (\'36e0d4f0-d4da-4e68-a113-fa53edeb4cea\',\'1192ff87-1e8e-4c56-8ffa-5caa0b06024b\',\'b66c530a-5777-4538-a203-3e084c75c11d\',\'QmXzuzuHiTTmPJsBr9xZjJ3E1UHss44jRpUBbmXkpNpQno\',\'12651dbc-59dd-4c82-a756-470aa9f6c4fd.mp3\',\'/file_storage/QmXzuzuHiTTmPJsBr9xZjJ3E1UHss44jRpUBbmXkpNpQno\',\'copy320\',\'2020-03-05 17:37:50.104 +00:00\',\'2020-03-05 17:37:50.104 +00:00\') RETURNING *"\nPL/pgSQL function pg_temp_68.testfunc() line 1 at SQL statement',
     schema: 'public',
     table: 'Files',
     column: undefined,
     dataType: undefined,
     constraint: 'Files_cnodeUserUUID_fkey',
     file: 'ri_triggers.c',
     line: '2783',
     routine: 'ri_ReportViolation',
     sql:
      'CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_bb92321264874ab08a34f1c7f4834bb5$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES (\'36e0d4f0-d4da-4e68-a113-fa53edeb4cea\',\'1192ff87-1e8e-4c56-8ffa-5caa0b06024b\',\'b66c530a-5777-4538-a203-3e084c75c11d\',\'QmXzuzuHiTTmPJsBr9xZjJ3E1UHss44jRpUBbmXkpNpQno\',\'12651dbc-59dd-4c82-a756-470aa9f6c4fd.mp3\',\'/file_storage/QmXzuzuHiTTmPJsBr9xZjJ3E1UHss44jRpUBbmXkpNpQno\',\'copy320\',\'2020-03-05 17:37:50.104 +00:00\',\'2020-03-05 17:37:50.104 +00:00\') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_bb92321264874ab08a34f1c7f4834bb5$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();' },
  original:
   { error: insert or update on table "Files" violates foreign key constraint "Files_cnodeUserUUID_fkey"
       at Connection.parseE (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/pg/lib/connection.js:604:11)
       at Connection.parseMessage (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/pg/lib/connection.js:401:19)
       at Socket.<anonymous> (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/pg/lib/connection.js:121:22)
       at Socket.emit (events.js:198:13)
       at addChunk (_stream_readable.js:288:12)
       at readableAddChunk (_stream_readable.js:269:11)
       at Socket.Readable.push (_stream_readable.js:224:10)
       at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)
     name: 'error',
     length: 881,
     severity: 'ERROR',
     code: '23503',
     detail:
      'Key (cnodeUserUUID)=(1192ff87-1e8e-4c56-8ffa-5caa0b06024b) is not present in table "CNodeUsers".',
     hint: undefined,
     position: undefined,
     internalPosition: undefined,
     internalQuery: undefined,
     where:
      'SQL statement "INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES (\'36e0d4f0-d4da-4e68-a113-fa53edeb4cea\',\'1192ff87-1e8e-4c56-8ffa-5caa0b06024b\',\'b66c530a-5777-4538-a203-3e084c75c11d\',\'QmXzuzuHiTTmPJsBr9xZjJ3E1UHss44jRpUBbmXkpNpQno\',\'12651dbc-59dd-4c82-a756-470aa9f6c4fd.mp3\',\'/file_storage/QmXzuzuHiTTmPJsBr9xZjJ3E1UHss44jRpUBbmXkpNpQno\',\'copy320\',\'2020-03-05 17:37:50.104 +00:00\',\'2020-03-05 17:37:50.104 +00:00\') RETURNING *"\nPL/pgSQL function pg_temp_68.testfunc() line 1 at SQL statement',
     schema: 'public',
     table: 'Files',
     column: undefined,
     dataType: undefined,
     constraint: 'Files_cnodeUserUUID_fkey',
     file: 'ri_triggers.c',
     line: '2783',
     routine: 'ri_ReportViolation',
     sql:
      'CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_bb92321264874ab08a34f1c7f4834bb5$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES (\'36e0d4f0-d4da-4e68-a113-fa53edeb4cea\',\'1192ff87-1e8e-4c56-8ffa-5caa0b06024b\',\'b66c530a-5777-4538-a203-3e084c75c11d\',\'QmXzuzuHiTTmPJsBr9xZjJ3E1UHss44jRpUBbmXkpNpQno\',\'12651dbc-59dd-4c82-a756-470aa9f6c4fd.mp3\',\'/file_storage/QmXzuzuHiTTmPJsBr9xZjJ3E1UHss44jRpUBbmXkpNpQno\',\'copy320\',\'2020-03-05 17:37:50.104 +00:00\',\'2020-03-05 17:37:50.104 +00:00\') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_bb92321264874ab08a34f1c7f4834bb5$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();' },
  sql:
   'CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_bb92321264874ab08a34f1c7f4834bb5$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES (\'36e0d4f0-d4da-4e68-a113-fa53edeb4cea\',\'1192ff87-1e8e-4c56-8ffa-5caa0b06024b\',\'b66c530a-5777-4538-a203-3e084c75c11d\',\'QmXzuzuHiTTmPJsBr9xZjJ3E1UHss44jRpUBbmXkpNpQno\',\'12651dbc-59dd-4c82-a756-470aa9f6c4fd.mp3\',\'/file_storage/QmXzuzuHiTTmPJsBr9xZjJ3E1UHss44jRpUBbmXkpNpQno\',\'copy320\',\'2020-03-05 17:37:50.104 +00:00\',\'2020-03-05 17:37:50.104 +00:00\') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_bb92321264874ab08a34f1c7f4834bb5$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();',
  fields: null,
  table: 'Files',
  value: undefined,
  index: 'Files_cnodeUserUUID_fkey',
  reltype: undefined }




PROCESSING ROW #68: sourcefile: ce2ab67d-0b5d-4be8-a54a-3189ee42d5a6.mp3, cnodeUserUUID: 11c34897-1946-4dfc-b59c-f646a1fc69fe, trackUUID: c322b54d-9c0f-4435-9e94-002c332755db, multihash: QmV7KQEDm4kapGt8DoNaBnXtcY4zhQkAx1rkHxvtcujhSW, dstPath: /file_storage/QmV7KQEDm4kapGt8DoNaBnXtcY4zhQkAx1rkHxvtcujhSW
writing to db1...
Executing (0652390a-9fa4-423d-b1ed-58cc1191d31e): START TRANSACTION;
Executing (0652390a-9fa4-423d-b1ed-58cc1191d31e): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '11c34897-1946-4dfc-b59c-f646a1fc69fe' AND "File"."multihash" = 'QmV7KQEDm4kapGt8DoNaBnXtcY4zhQkAx1rkHxvtcujhSW' AND "File"."sourceFile" = 'ce2ab67d-0b5d-4be8-a54a-3189ee42d5a6.mp3' AND "File"."storagePath" = '/file_storage/QmV7KQEDm4kapGt8DoNaBnXtcY4zhQkAx1rkHxvtcujhSW' AND "File"."type" = 'copy320' AND "File"."trackUUID" = 'c322b54d-9c0f-4435-9e94-002c332755db' LIMIT 1;
Executing (0652390a-9fa4-423d-b1ed-58cc1191d31e): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_e99608be07204a5c8be42120e0165ec8$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('700b88d2-24c6-43de-829b-047a656e40d2','11c34897-1946-4dfc-b59c-f646a1fc69fe','c322b54d-9c0f-4435-9e94-002c332755db','QmV7KQEDm4kapGt8DoNaBnXtcY4zhQkAx1rkHxvtcujhSW','ce2ab67d-0b5d-4be8-a54a-3189ee42d5a6.mp3','/file_storage/QmV7KQEDm4kapGt8DoNaBnXtcY4zhQkAx1rkHxvtcujhSW','copy320','2020-03-05 17:37:50.505 +00:00','2020-03-05 17:37:50.505 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_e99608be07204a5c8be42120e0165ec8$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (0652390a-9fa4-423d-b1ed-58cc1191d31e): COMMIT;
{ fileUUID: '700b88d2-24c6-43de-829b-047a656e40d2',
  cnodeUserUUID: '11c34897-1946-4dfc-b59c-f646a1fc69fe',
  multihash: 'QmV7KQEDm4kapGt8DoNaBnXtcY4zhQkAx1rkHxvtcujhSW',
  sourceFile: 'ce2ab67d-0b5d-4be8-a54a-3189ee42d5a6.mp3',
  storagePath:
   '/file_storage/QmV7KQEDm4kapGt8DoNaBnXtcY4zhQkAx1rkHxvtcujhSW',
  type: 'copy320',
  trackUUID: 'c322b54d-9c0f-4435-9e94-002c332755db',
  updatedAt: 2020-03-05T17:37:50.505Z,
  createdAt: 2020-03-05T17:37:50.505Z }
writing to db2...
Executing (1307a3d4-bc79-4d47-a1f8-0b7b1c7224ef): START TRANSACTION;
Executing (1307a3d4-bc79-4d47-a1f8-0b7b1c7224ef): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '11c34897-1946-4dfc-b59c-f646a1fc69fe' AND "File"."multihash" = 'QmV7KQEDm4kapGt8DoNaBnXtcY4zhQkAx1rkHxvtcujhSW' AND "File"."sourceFile" = 'ce2ab67d-0b5d-4be8-a54a-3189ee42d5a6.mp3' AND "File"."storagePath" = '/file_storage/QmV7KQEDm4kapGt8DoNaBnXtcY4zhQkAx1rkHxvtcujhSW' AND "File"."type" = 'copy320' AND "File"."trackUUID" = 'c322b54d-9c0f-4435-9e94-002c332755db' LIMIT 1;
Executing (1307a3d4-bc79-4d47-a1f8-0b7b1c7224ef): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_614dc8898b1b4c1387133ee4c2b16a32$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('e72740a9-2005-421e-a4ad-39d892e08bd7','11c34897-1946-4dfc-b59c-f646a1fc69fe','c322b54d-9c0f-4435-9e94-002c332755db','QmV7KQEDm4kapGt8DoNaBnXtcY4zhQkAx1rkHxvtcujhSW','ce2ab67d-0b5d-4be8-a54a-3189ee42d5a6.mp3','/file_storage/QmV7KQEDm4kapGt8DoNaBnXtcY4zhQkAx1rkHxvtcujhSW','copy320','2020-03-05 17:37:50.906 +00:00','2020-03-05 17:37:50.906 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_614dc8898b1b4c1387133ee4c2b16a32$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (1307a3d4-bc79-4d47-a1f8-0b7b1c7224ef): COMMIT;
{ fileUUID: 'e72740a9-2005-421e-a4ad-39d892e08bd7',
  cnodeUserUUID: '11c34897-1946-4dfc-b59c-f646a1fc69fe',
  multihash: 'QmV7KQEDm4kapGt8DoNaBnXtcY4zhQkAx1rkHxvtcujhSW',
  sourceFile: 'ce2ab67d-0b5d-4be8-a54a-3189ee42d5a6.mp3',
  storagePath:
   '/file_storage/QmV7KQEDm4kapGt8DoNaBnXtcY4zhQkAx1rkHxvtcujhSW',
  type: 'copy320',
  trackUUID: 'c322b54d-9c0f-4435-9e94-002c332755db',
  updatedAt: 2020-03-05T17:37:50.906Z,
  createdAt: 2020-03-05T17:37:50.906Z }
writing to db3...
Executing (ea7601b7-a4f8-4375-b137-1c47caaa9eec): START TRANSACTION;
Executing (ea7601b7-a4f8-4375-b137-1c47caaa9eec): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '11c34897-1946-4dfc-b59c-f646a1fc69fe' AND "File"."multihash" = 'QmV7KQEDm4kapGt8DoNaBnXtcY4zhQkAx1rkHxvtcujhSW' AND "File"."sourceFile" = 'ce2ab67d-0b5d-4be8-a54a-3189ee42d5a6.mp3' AND "File"."storagePath" = '/file_storage/QmV7KQEDm4kapGt8DoNaBnXtcY4zhQkAx1rkHxvtcujhSW' AND "File"."type" = 'copy320' AND "File"."trackUUID" = 'c322b54d-9c0f-4435-9e94-002c332755db' LIMIT 1;
Executing (ea7601b7-a4f8-4375-b137-1c47caaa9eec): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_61e4b8d416224274916c15a5b49ead6f$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('f9692780-ea93-4bde-b9f3-c586078672e3','11c34897-1946-4dfc-b59c-f646a1fc69fe','c322b54d-9c0f-4435-9e94-002c332755db','QmV7KQEDm4kapGt8DoNaBnXtcY4zhQkAx1rkHxvtcujhSW','ce2ab67d-0b5d-4be8-a54a-3189ee42d5a6.mp3','/file_storage/QmV7KQEDm4kapGt8DoNaBnXtcY4zhQkAx1rkHxvtcujhSW','copy320','2020-03-05 17:37:51.301 +00:00','2020-03-05 17:37:51.301 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_61e4b8d416224274916c15a5b49ead6f$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (ea7601b7-a4f8-4375-b137-1c47caaa9eec): COMMIT;
{ fileUUID: 'f9692780-ea93-4bde-b9f3-c586078672e3',
  cnodeUserUUID: '11c34897-1946-4dfc-b59c-f646a1fc69fe',
  multihash: 'QmV7KQEDm4kapGt8DoNaBnXtcY4zhQkAx1rkHxvtcujhSW',
  sourceFile: 'ce2ab67d-0b5d-4be8-a54a-3189ee42d5a6.mp3',
  storagePath:
   '/file_storage/QmV7KQEDm4kapGt8DoNaBnXtcY4zhQkAx1rkHxvtcujhSW',
  type: 'copy320',
  trackUUID: 'c322b54d-9c0f-4435-9e94-002c332755db',
  updatedAt: 2020-03-05T17:37:51.301Z,
  createdAt: 2020-03-05T17:37:51.301Z }




PROCESSING ROW #69: sourcefile: 861c537f-aa40-4b99-9e8c-5b629b7aa56c.mp3, cnodeUserUUID: 11c34897-1946-4dfc-b59c-f646a1fc69fe, trackUUID: b6e66321-04e3-4f5d-bfe4-64cdabe0817f, multihash: QmaoG1Z25dm96QFURjaDLNzyfUHzwLzjKMFfgM8R4KzN7L, dstPath: /file_storage/QmaoG1Z25dm96QFURjaDLNzyfUHzwLzjKMFfgM8R4KzN7L
writing to db1...
Executing (8a671ef7-99c6-4c26-b0a1-82b954017bda): START TRANSACTION;
Executing (8a671ef7-99c6-4c26-b0a1-82b954017bda): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '11c34897-1946-4dfc-b59c-f646a1fc69fe' AND "File"."multihash" = 'QmaoG1Z25dm96QFURjaDLNzyfUHzwLzjKMFfgM8R4KzN7L' AND "File"."sourceFile" = '861c537f-aa40-4b99-9e8c-5b629b7aa56c.mp3' AND "File"."storagePath" = '/file_storage/QmaoG1Z25dm96QFURjaDLNzyfUHzwLzjKMFfgM8R4KzN7L' AND "File"."type" = 'copy320' AND "File"."trackUUID" = 'b6e66321-04e3-4f5d-bfe4-64cdabe0817f' LIMIT 1;
Executing (8a671ef7-99c6-4c26-b0a1-82b954017bda): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_25e94d6edcd0446087c25c48d0da09d7$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('67058dca-aec8-4cb4-95c0-ae91f2da5a29','11c34897-1946-4dfc-b59c-f646a1fc69fe','b6e66321-04e3-4f5d-bfe4-64cdabe0817f','QmaoG1Z25dm96QFURjaDLNzyfUHzwLzjKMFfgM8R4KzN7L','861c537f-aa40-4b99-9e8c-5b629b7aa56c.mp3','/file_storage/QmaoG1Z25dm96QFURjaDLNzyfUHzwLzjKMFfgM8R4KzN7L','copy320','2020-03-05 17:37:51.685 +00:00','2020-03-05 17:37:51.685 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_25e94d6edcd0446087c25c48d0da09d7$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (8a671ef7-99c6-4c26-b0a1-82b954017bda): COMMIT;
{ fileUUID: '67058dca-aec8-4cb4-95c0-ae91f2da5a29',
  cnodeUserUUID: '11c34897-1946-4dfc-b59c-f646a1fc69fe',
  multihash: 'QmaoG1Z25dm96QFURjaDLNzyfUHzwLzjKMFfgM8R4KzN7L',
  sourceFile: '861c537f-aa40-4b99-9e8c-5b629b7aa56c.mp3',
  storagePath:
   '/file_storage/QmaoG1Z25dm96QFURjaDLNzyfUHzwLzjKMFfgM8R4KzN7L',
  type: 'copy320',
  trackUUID: 'b6e66321-04e3-4f5d-bfe4-64cdabe0817f',
  updatedAt: 2020-03-05T17:37:51.685Z,
  createdAt: 2020-03-05T17:37:51.685Z }
writing to db2...
Executing (c33d03de-0d61-468e-8ba4-49f141fba146): START TRANSACTION;
Executing (c33d03de-0d61-468e-8ba4-49f141fba146): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '11c34897-1946-4dfc-b59c-f646a1fc69fe' AND "File"."multihash" = 'QmaoG1Z25dm96QFURjaDLNzyfUHzwLzjKMFfgM8R4KzN7L' AND "File"."sourceFile" = '861c537f-aa40-4b99-9e8c-5b629b7aa56c.mp3' AND "File"."storagePath" = '/file_storage/QmaoG1Z25dm96QFURjaDLNzyfUHzwLzjKMFfgM8R4KzN7L' AND "File"."type" = 'copy320' AND "File"."trackUUID" = 'b6e66321-04e3-4f5d-bfe4-64cdabe0817f' LIMIT 1;
Executing (c33d03de-0d61-468e-8ba4-49f141fba146): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_6b8309ae0bb0465a862b4a7dbfe86d73$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('3111a5ed-3e0b-4de2-9969-21310b6d6436','11c34897-1946-4dfc-b59c-f646a1fc69fe','b6e66321-04e3-4f5d-bfe4-64cdabe0817f','QmaoG1Z25dm96QFURjaDLNzyfUHzwLzjKMFfgM8R4KzN7L','861c537f-aa40-4b99-9e8c-5b629b7aa56c.mp3','/file_storage/QmaoG1Z25dm96QFURjaDLNzyfUHzwLzjKMFfgM8R4KzN7L','copy320','2020-03-05 17:37:52.074 +00:00','2020-03-05 17:37:52.074 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_6b8309ae0bb0465a862b4a7dbfe86d73$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (c33d03de-0d61-468e-8ba4-49f141fba146): COMMIT;
{ fileUUID: '3111a5ed-3e0b-4de2-9969-21310b6d6436',
  cnodeUserUUID: '11c34897-1946-4dfc-b59c-f646a1fc69fe',
  multihash: 'QmaoG1Z25dm96QFURjaDLNzyfUHzwLzjKMFfgM8R4KzN7L',
  sourceFile: '861c537f-aa40-4b99-9e8c-5b629b7aa56c.mp3',
  storagePath:
   '/file_storage/QmaoG1Z25dm96QFURjaDLNzyfUHzwLzjKMFfgM8R4KzN7L',
  type: 'copy320',
  trackUUID: 'b6e66321-04e3-4f5d-bfe4-64cdabe0817f',
  updatedAt: 2020-03-05T17:37:52.074Z,
  createdAt: 2020-03-05T17:37:52.074Z }
writing to db3...
Executing (65b192d1-f78d-4809-9291-6fd61df8b6bb): START TRANSACTION;
Executing (65b192d1-f78d-4809-9291-6fd61df8b6bb): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '11c34897-1946-4dfc-b59c-f646a1fc69fe' AND "File"."multihash" = 'QmaoG1Z25dm96QFURjaDLNzyfUHzwLzjKMFfgM8R4KzN7L' AND "File"."sourceFile" = '861c537f-aa40-4b99-9e8c-5b629b7aa56c.mp3' AND "File"."storagePath" = '/file_storage/QmaoG1Z25dm96QFURjaDLNzyfUHzwLzjKMFfgM8R4KzN7L' AND "File"."type" = 'copy320' AND "File"."trackUUID" = 'b6e66321-04e3-4f5d-bfe4-64cdabe0817f' LIMIT 1;
Executing (65b192d1-f78d-4809-9291-6fd61df8b6bb): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_14004f0b445d4c5287576a1f07bde15d$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('d9d33cb1-8f9d-4257-977d-ce3a2f1ec26a','11c34897-1946-4dfc-b59c-f646a1fc69fe','b6e66321-04e3-4f5d-bfe4-64cdabe0817f','QmaoG1Z25dm96QFURjaDLNzyfUHzwLzjKMFfgM8R4KzN7L','861c537f-aa40-4b99-9e8c-5b629b7aa56c.mp3','/file_storage/QmaoG1Z25dm96QFURjaDLNzyfUHzwLzjKMFfgM8R4KzN7L','copy320','2020-03-05 17:37:52.463 +00:00','2020-03-05 17:37:52.463 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_14004f0b445d4c5287576a1f07bde15d$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (65b192d1-f78d-4809-9291-6fd61df8b6bb): COMMIT;
{ fileUUID: 'd9d33cb1-8f9d-4257-977d-ce3a2f1ec26a',
  cnodeUserUUID: '11c34897-1946-4dfc-b59c-f646a1fc69fe',
  multihash: 'QmaoG1Z25dm96QFURjaDLNzyfUHzwLzjKMFfgM8R4KzN7L',
  sourceFile: '861c537f-aa40-4b99-9e8c-5b629b7aa56c.mp3',
  storagePath:
   '/file_storage/QmaoG1Z25dm96QFURjaDLNzyfUHzwLzjKMFfgM8R4KzN7L',
  type: 'copy320',
  trackUUID: 'b6e66321-04e3-4f5d-bfe4-64cdabe0817f',
  updatedAt: 2020-03-05T17:37:52.463Z,
  createdAt: 2020-03-05T17:37:52.463Z }




PROCESSING ROW #70: sourcefile: cbcee482-825e-4148-82cb-c8e668dabaa5.mp3, cnodeUserUUID: 11c34897-1946-4dfc-b59c-f646a1fc69fe, trackUUID: 050908cd-551b-4367-a2f0-4e04180a368f, multihash: QmaVdaRMxvcmHarHmQAwhZ8UxpWGytbrN3xA62tq4FLPrW, dstPath: /file_storage/QmaVdaRMxvcmHarHmQAwhZ8UxpWGytbrN3xA62tq4FLPrW
writing to db1...
Executing (63806180-cbef-4b37-b4db-57390799b35c): START TRANSACTION;
Executing (63806180-cbef-4b37-b4db-57390799b35c): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '11c34897-1946-4dfc-b59c-f646a1fc69fe' AND "File"."multihash" = 'QmaVdaRMxvcmHarHmQAwhZ8UxpWGytbrN3xA62tq4FLPrW' AND "File"."sourceFile" = 'cbcee482-825e-4148-82cb-c8e668dabaa5.mp3' AND "File"."storagePath" = '/file_storage/QmaVdaRMxvcmHarHmQAwhZ8UxpWGytbrN3xA62tq4FLPrW' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '050908cd-551b-4367-a2f0-4e04180a368f' LIMIT 1;
Executing (63806180-cbef-4b37-b4db-57390799b35c): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_008e939893e14005927c3975fec271bf$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('0e7bbfa4-654c-4e9a-aac1-e5a4cbddd1c3','11c34897-1946-4dfc-b59c-f646a1fc69fe','050908cd-551b-4367-a2f0-4e04180a368f','QmaVdaRMxvcmHarHmQAwhZ8UxpWGytbrN3xA62tq4FLPrW','cbcee482-825e-4148-82cb-c8e668dabaa5.mp3','/file_storage/QmaVdaRMxvcmHarHmQAwhZ8UxpWGytbrN3xA62tq4FLPrW','copy320','2020-03-05 17:37:52.843 +00:00','2020-03-05 17:37:52.843 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_008e939893e14005927c3975fec271bf$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (63806180-cbef-4b37-b4db-57390799b35c): COMMIT;
{ fileUUID: '0e7bbfa4-654c-4e9a-aac1-e5a4cbddd1c3',
  cnodeUserUUID: '11c34897-1946-4dfc-b59c-f646a1fc69fe',
  multihash: 'QmaVdaRMxvcmHarHmQAwhZ8UxpWGytbrN3xA62tq4FLPrW',
  sourceFile: 'cbcee482-825e-4148-82cb-c8e668dabaa5.mp3',
  storagePath:
   '/file_storage/QmaVdaRMxvcmHarHmQAwhZ8UxpWGytbrN3xA62tq4FLPrW',
  type: 'copy320',
  trackUUID: '050908cd-551b-4367-a2f0-4e04180a368f',
  updatedAt: 2020-03-05T17:37:52.843Z,
  createdAt: 2020-03-05T17:37:52.843Z }
writing to db2...
Executing (2a8aa402-b526-4539-83e5-577a2122695e): START TRANSACTION;
Executing (2a8aa402-b526-4539-83e5-577a2122695e): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '11c34897-1946-4dfc-b59c-f646a1fc69fe' AND "File"."multihash" = 'QmaVdaRMxvcmHarHmQAwhZ8UxpWGytbrN3xA62tq4FLPrW' AND "File"."sourceFile" = 'cbcee482-825e-4148-82cb-c8e668dabaa5.mp3' AND "File"."storagePath" = '/file_storage/QmaVdaRMxvcmHarHmQAwhZ8UxpWGytbrN3xA62tq4FLPrW' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '050908cd-551b-4367-a2f0-4e04180a368f' LIMIT 1;
Executing (2a8aa402-b526-4539-83e5-577a2122695e): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_74e54977e6d14e919b652c9375492ada$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('ef2d0a57-94f9-4d3d-8e45-375f4e39b037','11c34897-1946-4dfc-b59c-f646a1fc69fe','050908cd-551b-4367-a2f0-4e04180a368f','QmaVdaRMxvcmHarHmQAwhZ8UxpWGytbrN3xA62tq4FLPrW','cbcee482-825e-4148-82cb-c8e668dabaa5.mp3','/file_storage/QmaVdaRMxvcmHarHmQAwhZ8UxpWGytbrN3xA62tq4FLPrW','copy320','2020-03-05 17:37:53.252 +00:00','2020-03-05 17:37:53.252 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_74e54977e6d14e919b652c9375492ada$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (2a8aa402-b526-4539-83e5-577a2122695e): COMMIT;
{ fileUUID: 'ef2d0a57-94f9-4d3d-8e45-375f4e39b037',
  cnodeUserUUID: '11c34897-1946-4dfc-b59c-f646a1fc69fe',
  multihash: 'QmaVdaRMxvcmHarHmQAwhZ8UxpWGytbrN3xA62tq4FLPrW',
  sourceFile: 'cbcee482-825e-4148-82cb-c8e668dabaa5.mp3',
  storagePath:
   '/file_storage/QmaVdaRMxvcmHarHmQAwhZ8UxpWGytbrN3xA62tq4FLPrW',
  type: 'copy320',
  trackUUID: '050908cd-551b-4367-a2f0-4e04180a368f',
  updatedAt: 2020-03-05T17:37:53.252Z,
  createdAt: 2020-03-05T17:37:53.252Z }
writing to db3...
Executing (fbe936bc-50b9-4573-a8b4-459f661ac1e9): START TRANSACTION;
Executing (fbe936bc-50b9-4573-a8b4-459f661ac1e9): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '11c34897-1946-4dfc-b59c-f646a1fc69fe' AND "File"."multihash" = 'QmaVdaRMxvcmHarHmQAwhZ8UxpWGytbrN3xA62tq4FLPrW' AND "File"."sourceFile" = 'cbcee482-825e-4148-82cb-c8e668dabaa5.mp3' AND "File"."storagePath" = '/file_storage/QmaVdaRMxvcmHarHmQAwhZ8UxpWGytbrN3xA62tq4FLPrW' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '050908cd-551b-4367-a2f0-4e04180a368f' LIMIT 1;
Executing (fbe936bc-50b9-4573-a8b4-459f661ac1e9): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_cb488e0ec3bc40388e11a6e81cde77c4$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('fbf069c8-2767-4a2d-9faf-336dd076d432','11c34897-1946-4dfc-b59c-f646a1fc69fe','050908cd-551b-4367-a2f0-4e04180a368f','QmaVdaRMxvcmHarHmQAwhZ8UxpWGytbrN3xA62tq4FLPrW','cbcee482-825e-4148-82cb-c8e668dabaa5.mp3','/file_storage/QmaVdaRMxvcmHarHmQAwhZ8UxpWGytbrN3xA62tq4FLPrW','copy320','2020-03-05 17:37:53.642 +00:00','2020-03-05 17:37:53.642 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_cb488e0ec3bc40388e11a6e81cde77c4$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (fbe936bc-50b9-4573-a8b4-459f661ac1e9): COMMIT;
{ fileUUID: 'fbf069c8-2767-4a2d-9faf-336dd076d432',
  cnodeUserUUID: '11c34897-1946-4dfc-b59c-f646a1fc69fe',
  multihash: 'QmaVdaRMxvcmHarHmQAwhZ8UxpWGytbrN3xA62tq4FLPrW',
  sourceFile: 'cbcee482-825e-4148-82cb-c8e668dabaa5.mp3',
  storagePath:
   '/file_storage/QmaVdaRMxvcmHarHmQAwhZ8UxpWGytbrN3xA62tq4FLPrW',
  type: 'copy320',
  trackUUID: '050908cd-551b-4367-a2f0-4e04180a368f',
  updatedAt: 2020-03-05T17:37:53.642Z,
  createdAt: 2020-03-05T17:37:53.642Z }




PROCESSING ROW #71: sourcefile: 2a46ce47-7569-4b8a-b792-5f7cadda55ee.mp3, cnodeUserUUID: d6bf0c6f-4242-4094-93ca-64ad4bf7bb65, trackUUID: f407331f-6e36-4702-bd6d-7fc5996328c3, multihash: QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM, dstPath: /file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM
writing to db1...
Executing (690e56d8-ef2e-4da1-8346-3506f9056ecd): START TRANSACTION;
Executing (690e56d8-ef2e-4da1-8346-3506f9056ecd): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = 'd6bf0c6f-4242-4094-93ca-64ad4bf7bb65' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = '2a46ce47-7569-4b8a-b792-5f7cadda55ee.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = 'f407331f-6e36-4702-bd6d-7fc5996328c3' LIMIT 1;
Executing (690e56d8-ef2e-4da1-8346-3506f9056ecd): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_b3f36763304f43ba92598f6c584ba9aa$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('f84f8d63-7557-4cba-9ff4-7bc0a299a211','d6bf0c6f-4242-4094-93ca-64ad4bf7bb65','f407331f-6e36-4702-bd6d-7fc5996328c3','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','2a46ce47-7569-4b8a-b792-5f7cadda55ee.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:37:54.025 +00:00','2020-03-05 17:37:54.025 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_b3f36763304f43ba92598f6c584ba9aa$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (690e56d8-ef2e-4da1-8346-3506f9056ecd): COMMIT;
{ fileUUID: 'f84f8d63-7557-4cba-9ff4-7bc0a299a211',
  cnodeUserUUID: 'd6bf0c6f-4242-4094-93ca-64ad4bf7bb65',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: '2a46ce47-7569-4b8a-b792-5f7cadda55ee.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: 'f407331f-6e36-4702-bd6d-7fc5996328c3',
  updatedAt: 2020-03-05T17:37:54.025Z,
  createdAt: 2020-03-05T17:37:54.025Z }
writing to db2...
Executing (b7eec5bb-e094-4e56-a6d5-8d4975994da0): START TRANSACTION;
Executing (b7eec5bb-e094-4e56-a6d5-8d4975994da0): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = 'd6bf0c6f-4242-4094-93ca-64ad4bf7bb65' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = '2a46ce47-7569-4b8a-b792-5f7cadda55ee.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = 'f407331f-6e36-4702-bd6d-7fc5996328c3' LIMIT 1;
Executing (b7eec5bb-e094-4e56-a6d5-8d4975994da0): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_772bc2ea1d374a6682755b5c5bacca02$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('94685960-93f1-4daf-b9d2-2137cb0b69e0','d6bf0c6f-4242-4094-93ca-64ad4bf7bb65','f407331f-6e36-4702-bd6d-7fc5996328c3','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','2a46ce47-7569-4b8a-b792-5f7cadda55ee.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:37:54.429 +00:00','2020-03-05 17:37:54.429 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_772bc2ea1d374a6682755b5c5bacca02$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (b7eec5bb-e094-4e56-a6d5-8d4975994da0): COMMIT;
{ fileUUID: '94685960-93f1-4daf-b9d2-2137cb0b69e0',
  cnodeUserUUID: 'd6bf0c6f-4242-4094-93ca-64ad4bf7bb65',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: '2a46ce47-7569-4b8a-b792-5f7cadda55ee.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: 'f407331f-6e36-4702-bd6d-7fc5996328c3',
  updatedAt: 2020-03-05T17:37:54.429Z,
  createdAt: 2020-03-05T17:37:54.429Z }
writing to db3...
Executing (f2bf3a79-b082-4b42-b47f-6d7b5a36209c): START TRANSACTION;
Executing (f2bf3a79-b082-4b42-b47f-6d7b5a36209c): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = 'd6bf0c6f-4242-4094-93ca-64ad4bf7bb65' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = '2a46ce47-7569-4b8a-b792-5f7cadda55ee.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = 'f407331f-6e36-4702-bd6d-7fc5996328c3' LIMIT 1;
Executing (f2bf3a79-b082-4b42-b47f-6d7b5a36209c): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_3b5cfd13c7ff4615827e6e45a0ca703b$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('a8a2a181-448e-4c90-9529-d79ccf03cde8','d6bf0c6f-4242-4094-93ca-64ad4bf7bb65','f407331f-6e36-4702-bd6d-7fc5996328c3','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','2a46ce47-7569-4b8a-b792-5f7cadda55ee.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:37:54.848 +00:00','2020-03-05 17:37:54.848 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_3b5cfd13c7ff4615827e6e45a0ca703b$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (f2bf3a79-b082-4b42-b47f-6d7b5a36209c): COMMIT;
{ fileUUID: 'a8a2a181-448e-4c90-9529-d79ccf03cde8',
  cnodeUserUUID: 'd6bf0c6f-4242-4094-93ca-64ad4bf7bb65',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: '2a46ce47-7569-4b8a-b792-5f7cadda55ee.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: 'f407331f-6e36-4702-bd6d-7fc5996328c3',
  updatedAt: 2020-03-05T17:37:54.848Z,
  createdAt: 2020-03-05T17:37:54.848Z }




PROCESSING ROW #72: sourcefile: 38936b56-3228-441a-845a-b05693a6d1ca.mp3, cnodeUserUUID: 11c34897-1946-4dfc-b59c-f646a1fc69fe, trackUUID: f17807f1-443a-4ca3-bef6-291615111e4a, multihash: QmNwsw9vUqDfY4XazBAETBm6j5d7hsVDvs5a3vwBH8bVr7, dstPath: /file_storage/QmNwsw9vUqDfY4XazBAETBm6j5d7hsVDvs5a3vwBH8bVr7
writing to db1...
Executing (4fa33a0b-7bef-4df3-8115-847cd9645a17): START TRANSACTION;
Executing (4fa33a0b-7bef-4df3-8115-847cd9645a17): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '11c34897-1946-4dfc-b59c-f646a1fc69fe' AND "File"."multihash" = 'QmNwsw9vUqDfY4XazBAETBm6j5d7hsVDvs5a3vwBH8bVr7' AND "File"."sourceFile" = '38936b56-3228-441a-845a-b05693a6d1ca.mp3' AND "File"."storagePath" = '/file_storage/QmNwsw9vUqDfY4XazBAETBm6j5d7hsVDvs5a3vwBH8bVr7' AND "File"."type" = 'copy320' AND "File"."trackUUID" = 'f17807f1-443a-4ca3-bef6-291615111e4a' LIMIT 1;
Executing (4fa33a0b-7bef-4df3-8115-847cd9645a17): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_a491d34bc9ef499d9eae1c0ee2e9b4a4$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('a2bc98bd-084f-4300-b2db-62c9eefd671c','11c34897-1946-4dfc-b59c-f646a1fc69fe','f17807f1-443a-4ca3-bef6-291615111e4a','QmNwsw9vUqDfY4XazBAETBm6j5d7hsVDvs5a3vwBH8bVr7','38936b56-3228-441a-845a-b05693a6d1ca.mp3','/file_storage/QmNwsw9vUqDfY4XazBAETBm6j5d7hsVDvs5a3vwBH8bVr7','copy320','2020-03-05 17:37:55.253 +00:00','2020-03-05 17:37:55.253 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_a491d34bc9ef499d9eae1c0ee2e9b4a4$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (4fa33a0b-7bef-4df3-8115-847cd9645a17): COMMIT;
{ fileUUID: 'a2bc98bd-084f-4300-b2db-62c9eefd671c',
  cnodeUserUUID: '11c34897-1946-4dfc-b59c-f646a1fc69fe',
  multihash: 'QmNwsw9vUqDfY4XazBAETBm6j5d7hsVDvs5a3vwBH8bVr7',
  sourceFile: '38936b56-3228-441a-845a-b05693a6d1ca.mp3',
  storagePath:
   '/file_storage/QmNwsw9vUqDfY4XazBAETBm6j5d7hsVDvs5a3vwBH8bVr7',
  type: 'copy320',
  trackUUID: 'f17807f1-443a-4ca3-bef6-291615111e4a',
  updatedAt: 2020-03-05T17:37:55.253Z,
  createdAt: 2020-03-05T17:37:55.253Z }
writing to db2...
Executing (ef57aafb-33bf-4541-b579-569d4cf96c29): START TRANSACTION;
Executing (ef57aafb-33bf-4541-b579-569d4cf96c29): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '11c34897-1946-4dfc-b59c-f646a1fc69fe' AND "File"."multihash" = 'QmNwsw9vUqDfY4XazBAETBm6j5d7hsVDvs5a3vwBH8bVr7' AND "File"."sourceFile" = '38936b56-3228-441a-845a-b05693a6d1ca.mp3' AND "File"."storagePath" = '/file_storage/QmNwsw9vUqDfY4XazBAETBm6j5d7hsVDvs5a3vwBH8bVr7' AND "File"."type" = 'copy320' AND "File"."trackUUID" = 'f17807f1-443a-4ca3-bef6-291615111e4a' LIMIT 1;
Executing (ef57aafb-33bf-4541-b579-569d4cf96c29): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_b4b7da21eee44bfba763e46c7ab6c393$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('d0205bea-553a-457c-9e70-7e9785804a48','11c34897-1946-4dfc-b59c-f646a1fc69fe','f17807f1-443a-4ca3-bef6-291615111e4a','QmNwsw9vUqDfY4XazBAETBm6j5d7hsVDvs5a3vwBH8bVr7','38936b56-3228-441a-845a-b05693a6d1ca.mp3','/file_storage/QmNwsw9vUqDfY4XazBAETBm6j5d7hsVDvs5a3vwBH8bVr7','copy320','2020-03-05 17:37:55.651 +00:00','2020-03-05 17:37:55.651 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_b4b7da21eee44bfba763e46c7ab6c393$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (ef57aafb-33bf-4541-b579-569d4cf96c29): COMMIT;
{ fileUUID: 'd0205bea-553a-457c-9e70-7e9785804a48',
  cnodeUserUUID: '11c34897-1946-4dfc-b59c-f646a1fc69fe',
  multihash: 'QmNwsw9vUqDfY4XazBAETBm6j5d7hsVDvs5a3vwBH8bVr7',
  sourceFile: '38936b56-3228-441a-845a-b05693a6d1ca.mp3',
  storagePath:
   '/file_storage/QmNwsw9vUqDfY4XazBAETBm6j5d7hsVDvs5a3vwBH8bVr7',
  type: 'copy320',
  trackUUID: 'f17807f1-443a-4ca3-bef6-291615111e4a',
  updatedAt: 2020-03-05T17:37:55.651Z,
  createdAt: 2020-03-05T17:37:55.651Z }
writing to db3...
Executing (a0d588ef-848f-4bfe-9dbd-9545477f9e6f): START TRANSACTION;
Executing (a0d588ef-848f-4bfe-9dbd-9545477f9e6f): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '11c34897-1946-4dfc-b59c-f646a1fc69fe' AND "File"."multihash" = 'QmNwsw9vUqDfY4XazBAETBm6j5d7hsVDvs5a3vwBH8bVr7' AND "File"."sourceFile" = '38936b56-3228-441a-845a-b05693a6d1ca.mp3' AND "File"."storagePath" = '/file_storage/QmNwsw9vUqDfY4XazBAETBm6j5d7hsVDvs5a3vwBH8bVr7' AND "File"."type" = 'copy320' AND "File"."trackUUID" = 'f17807f1-443a-4ca3-bef6-291615111e4a' LIMIT 1;
Executing (a0d588ef-848f-4bfe-9dbd-9545477f9e6f): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_dff5afab8373449cb47a0072d1857a4e$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('da8a7435-7552-4b99-943f-58183f799ad6','11c34897-1946-4dfc-b59c-f646a1fc69fe','f17807f1-443a-4ca3-bef6-291615111e4a','QmNwsw9vUqDfY4XazBAETBm6j5d7hsVDvs5a3vwBH8bVr7','38936b56-3228-441a-845a-b05693a6d1ca.mp3','/file_storage/QmNwsw9vUqDfY4XazBAETBm6j5d7hsVDvs5a3vwBH8bVr7','copy320','2020-03-05 17:37:56.058 +00:00','2020-03-05 17:37:56.058 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_dff5afab8373449cb47a0072d1857a4e$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (a0d588ef-848f-4bfe-9dbd-9545477f9e6f): COMMIT;
{ fileUUID: 'da8a7435-7552-4b99-943f-58183f799ad6',
  cnodeUserUUID: '11c34897-1946-4dfc-b59c-f646a1fc69fe',
  multihash: 'QmNwsw9vUqDfY4XazBAETBm6j5d7hsVDvs5a3vwBH8bVr7',
  sourceFile: '38936b56-3228-441a-845a-b05693a6d1ca.mp3',
  storagePath:
   '/file_storage/QmNwsw9vUqDfY4XazBAETBm6j5d7hsVDvs5a3vwBH8bVr7',
  type: 'copy320',
  trackUUID: 'f17807f1-443a-4ca3-bef6-291615111e4a',
  updatedAt: 2020-03-05T17:37:56.058Z,
  createdAt: 2020-03-05T17:37:56.058Z }




PROCESSING ROW #73: sourcefile: ad9d7650-8e0c-4d3f-b920-056296acaaf7.mp3, cnodeUserUUID: b083963e-d905-48af-aec6-1b5913f22071, trackUUID: c2431528-1fce-4234-8d3a-164cb7a9bfc2, multihash: QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM, dstPath: /file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM
writing to db1...
Executing (4ab0507d-b3f1-41be-9241-9c8db0788317): START TRANSACTION;
Executing (4ab0507d-b3f1-41be-9241-9c8db0788317): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = 'b083963e-d905-48af-aec6-1b5913f22071' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = 'ad9d7650-8e0c-4d3f-b920-056296acaaf7.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = 'c2431528-1fce-4234-8d3a-164cb7a9bfc2' LIMIT 1;
Executing (4ab0507d-b3f1-41be-9241-9c8db0788317): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_10b263865cb944b5ae779dbce3d82f3c$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('3b7a0306-c7af-4747-8d9c-04662a17efe8','b083963e-d905-48af-aec6-1b5913f22071','c2431528-1fce-4234-8d3a-164cb7a9bfc2','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','ad9d7650-8e0c-4d3f-b920-056296acaaf7.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:37:56.457 +00:00','2020-03-05 17:37:56.457 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_10b263865cb944b5ae779dbce3d82f3c$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (4ab0507d-b3f1-41be-9241-9c8db0788317): COMMIT;
{ fileUUID: '3b7a0306-c7af-4747-8d9c-04662a17efe8',
  cnodeUserUUID: 'b083963e-d905-48af-aec6-1b5913f22071',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: 'ad9d7650-8e0c-4d3f-b920-056296acaaf7.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: 'c2431528-1fce-4234-8d3a-164cb7a9bfc2',
  updatedAt: 2020-03-05T17:37:56.457Z,
  createdAt: 2020-03-05T17:37:56.457Z }
writing to db2...
Executing (027138b6-93cd-44d0-a0c7-62be0d249849): START TRANSACTION;
Executing (027138b6-93cd-44d0-a0c7-62be0d249849): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = 'b083963e-d905-48af-aec6-1b5913f22071' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = 'ad9d7650-8e0c-4d3f-b920-056296acaaf7.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = 'c2431528-1fce-4234-8d3a-164cb7a9bfc2' LIMIT 1;
Executing (027138b6-93cd-44d0-a0c7-62be0d249849): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_706722b258ba48d78f45da010c4af1df$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('bb3dab85-16f8-40a2-916e-6a3dea3bf7a8','b083963e-d905-48af-aec6-1b5913f22071','c2431528-1fce-4234-8d3a-164cb7a9bfc2','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','ad9d7650-8e0c-4d3f-b920-056296acaaf7.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:37:56.851 +00:00','2020-03-05 17:37:56.851 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_706722b258ba48d78f45da010c4af1df$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (027138b6-93cd-44d0-a0c7-62be0d249849): COMMIT;
{ fileUUID: 'bb3dab85-16f8-40a2-916e-6a3dea3bf7a8',
  cnodeUserUUID: 'b083963e-d905-48af-aec6-1b5913f22071',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: 'ad9d7650-8e0c-4d3f-b920-056296acaaf7.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: 'c2431528-1fce-4234-8d3a-164cb7a9bfc2',
  updatedAt: 2020-03-05T17:37:56.851Z,
  createdAt: 2020-03-05T17:37:56.851Z }
writing to db3...
Executing (661278bc-cae9-4196-a536-ff486c42a280): START TRANSACTION;
Executing (661278bc-cae9-4196-a536-ff486c42a280): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = 'b083963e-d905-48af-aec6-1b5913f22071' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = 'ad9d7650-8e0c-4d3f-b920-056296acaaf7.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = 'c2431528-1fce-4234-8d3a-164cb7a9bfc2' LIMIT 1;
Executing (661278bc-cae9-4196-a536-ff486c42a280): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_b27ceedc49a54054b97b9fb7616703f9$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('fd559837-d1dc-4276-ab0b-240f8c0e1bff','b083963e-d905-48af-aec6-1b5913f22071','c2431528-1fce-4234-8d3a-164cb7a9bfc2','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','ad9d7650-8e0c-4d3f-b920-056296acaaf7.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:37:57.245 +00:00','2020-03-05 17:37:57.245 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_b27ceedc49a54054b97b9fb7616703f9$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (661278bc-cae9-4196-a536-ff486c42a280): COMMIT;
{ SequelizeForeignKeyConstraintError: insert or update on table "Files" violates foreign key constraint "Files_cnodeUserUUID_fkey"
    at Query.formatError (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/sequelize/lib/dialects/postgres/query.js:296:16)
    at query.catch.err (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/sequelize/lib/dialects/postgres/query.js:86:18)
    at tryCatcher (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/bluebird/js/release/util.js:16:23)
    at Promise._settlePromiseFromHandler (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/bluebird/js/release/promise.js:517:31)
    at Promise._settlePromise (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/bluebird/js/release/promise.js:574:18)
    at Promise._settlePromise0 (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/bluebird/js/release/promise.js:619:10)
    at Promise._settlePromises (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/bluebird/js/release/promise.js:695:18)
    at _drainQueueStep (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/bluebird/js/release/async.js:138:12)
    at _drainQueue (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/bluebird/js/release/async.js:131:9)
    at Async._drainQueues (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/bluebird/js/release/async.js:147:5)
    at Immediate.Async.drainQueues [as _onImmediate] (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/bluebird/js/release/async.js:17:14)
    at runCallback (timers.js:705:18)
    at tryOnImmediate (timers.js:676:5)
    at processImmediate (timers.js:658:5)
  name: 'SequelizeForeignKeyConstraintError',
  parent:
   { error: insert or update on table "Files" violates foreign key constraint "Files_cnodeUserUUID_fkey"
       at Connection.parseE (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/pg/lib/connection.js:604:11)
       at Connection.parseMessage (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/pg/lib/connection.js:401:19)
       at Socket.<anonymous> (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/pg/lib/connection.js:121:22)
       at Socket.emit (events.js:198:13)
       at addChunk (_stream_readable.js:288:12)
       at readableAddChunk (_stream_readable.js:269:11)
       at Socket.Readable.push (_stream_readable.js:224:10)
       at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)
     name: 'error',
     length: 881,
     severity: 'ERROR',
     code: '23503',
     detail:
      'Key (cnodeUserUUID)=(b083963e-d905-48af-aec6-1b5913f22071) is not present in table "CNodeUsers".',
     hint: undefined,
     position: undefined,
     internalPosition: undefined,
     internalQuery: undefined,
     where:
      'SQL statement "INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES (\'fd559837-d1dc-4276-ab0b-240f8c0e1bff\',\'b083963e-d905-48af-aec6-1b5913f22071\',\'c2431528-1fce-4234-8d3a-164cb7a9bfc2\',\'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM\',\'ad9d7650-8e0c-4d3f-b920-056296acaaf7.mp3\',\'/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM\',\'copy320\',\'2020-03-05 17:37:57.245 +00:00\',\'2020-03-05 17:37:57.245 +00:00\') RETURNING *"\nPL/pgSQL function pg_temp_70.testfunc() line 1 at SQL statement',
     schema: 'public',
     table: 'Files',
     column: undefined,
     dataType: undefined,
     constraint: 'Files_cnodeUserUUID_fkey',
     file: 'ri_triggers.c',
     line: '2783',
     routine: 'ri_ReportViolation',
     sql:
      'CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_b27ceedc49a54054b97b9fb7616703f9$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES (\'fd559837-d1dc-4276-ab0b-240f8c0e1bff\',\'b083963e-d905-48af-aec6-1b5913f22071\',\'c2431528-1fce-4234-8d3a-164cb7a9bfc2\',\'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM\',\'ad9d7650-8e0c-4d3f-b920-056296acaaf7.mp3\',\'/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM\',\'copy320\',\'2020-03-05 17:37:57.245 +00:00\',\'2020-03-05 17:37:57.245 +00:00\') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_b27ceedc49a54054b97b9fb7616703f9$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();' },
  original:
   { error: insert or update on table "Files" violates foreign key constraint "Files_cnodeUserUUID_fkey"
       at Connection.parseE (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/pg/lib/connection.js:604:11)
       at Connection.parseMessage (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/pg/lib/connection.js:401:19)
       at Socket.<anonymous> (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/pg/lib/connection.js:121:22)
       at Socket.emit (events.js:198:13)
       at addChunk (_stream_readable.js:288:12)
       at readableAddChunk (_stream_readable.js:269:11)
       at Socket.Readable.push (_stream_readable.js:224:10)
       at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)
     name: 'error',
     length: 881,
     severity: 'ERROR',
     code: '23503',
     detail:
      'Key (cnodeUserUUID)=(b083963e-d905-48af-aec6-1b5913f22071) is not present in table "CNodeUsers".',
     hint: undefined,
     position: undefined,
     internalPosition: undefined,
     internalQuery: undefined,
     where:
      'SQL statement "INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES (\'fd559837-d1dc-4276-ab0b-240f8c0e1bff\',\'b083963e-d905-48af-aec6-1b5913f22071\',\'c2431528-1fce-4234-8d3a-164cb7a9bfc2\',\'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM\',\'ad9d7650-8e0c-4d3f-b920-056296acaaf7.mp3\',\'/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM\',\'copy320\',\'2020-03-05 17:37:57.245 +00:00\',\'2020-03-05 17:37:57.245 +00:00\') RETURNING *"\nPL/pgSQL function pg_temp_70.testfunc() line 1 at SQL statement',
     schema: 'public',
     table: 'Files',
     column: undefined,
     dataType: undefined,
     constraint: 'Files_cnodeUserUUID_fkey',
     file: 'ri_triggers.c',
     line: '2783',
     routine: 'ri_ReportViolation',
     sql:
      'CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_b27ceedc49a54054b97b9fb7616703f9$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES (\'fd559837-d1dc-4276-ab0b-240f8c0e1bff\',\'b083963e-d905-48af-aec6-1b5913f22071\',\'c2431528-1fce-4234-8d3a-164cb7a9bfc2\',\'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM\',\'ad9d7650-8e0c-4d3f-b920-056296acaaf7.mp3\',\'/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM\',\'copy320\',\'2020-03-05 17:37:57.245 +00:00\',\'2020-03-05 17:37:57.245 +00:00\') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_b27ceedc49a54054b97b9fb7616703f9$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();' },
  sql:
   'CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_b27ceedc49a54054b97b9fb7616703f9$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES (\'fd559837-d1dc-4276-ab0b-240f8c0e1bff\',\'b083963e-d905-48af-aec6-1b5913f22071\',\'c2431528-1fce-4234-8d3a-164cb7a9bfc2\',\'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM\',\'ad9d7650-8e0c-4d3f-b920-056296acaaf7.mp3\',\'/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM\',\'copy320\',\'2020-03-05 17:37:57.245 +00:00\',\'2020-03-05 17:37:57.245 +00:00\') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_b27ceedc49a54054b97b9fb7616703f9$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();',
  fields: null,
  table: 'Files',
  value: undefined,
  index: 'Files_cnodeUserUUID_fkey',
  reltype: undefined }




PROCESSING ROW #74: sourcefile: 0d6cf46d-f82e-4f6b-a26b-8fa82f8ab8e0.mp3, cnodeUserUUID: 11c34897-1946-4dfc-b59c-f646a1fc69fe, trackUUID: 6c526cf7-369e-4474-a6be-9faa22f54447, multihash: QmbxJ1tu9V6DB4bNGTvgsfoYwUeZZxHmo5ovQYGwvVCxyd, dstPath: /file_storage/QmbxJ1tu9V6DB4bNGTvgsfoYwUeZZxHmo5ovQYGwvVCxyd
writing to db1...
Executing (f6b96c32-b04e-4d41-a827-cb9ed4fdb54a): START TRANSACTION;
Executing (f6b96c32-b04e-4d41-a827-cb9ed4fdb54a): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '11c34897-1946-4dfc-b59c-f646a1fc69fe' AND "File"."multihash" = 'QmbxJ1tu9V6DB4bNGTvgsfoYwUeZZxHmo5ovQYGwvVCxyd' AND "File"."sourceFile" = '0d6cf46d-f82e-4f6b-a26b-8fa82f8ab8e0.mp3' AND "File"."storagePath" = '/file_storage/QmbxJ1tu9V6DB4bNGTvgsfoYwUeZZxHmo5ovQYGwvVCxyd' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '6c526cf7-369e-4474-a6be-9faa22f54447' LIMIT 1;
Executing (f6b96c32-b04e-4d41-a827-cb9ed4fdb54a): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_04b244e8369541a894a0942be7f6e1bc$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('85652e43-9dec-47e4-b3a4-19dfa9803d5c','11c34897-1946-4dfc-b59c-f646a1fc69fe','6c526cf7-369e-4474-a6be-9faa22f54447','QmbxJ1tu9V6DB4bNGTvgsfoYwUeZZxHmo5ovQYGwvVCxyd','0d6cf46d-f82e-4f6b-a26b-8fa82f8ab8e0.mp3','/file_storage/QmbxJ1tu9V6DB4bNGTvgsfoYwUeZZxHmo5ovQYGwvVCxyd','copy320','2020-03-05 17:37:57.639 +00:00','2020-03-05 17:37:57.639 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_04b244e8369541a894a0942be7f6e1bc$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (f6b96c32-b04e-4d41-a827-cb9ed4fdb54a): COMMIT;
{ fileUUID: '85652e43-9dec-47e4-b3a4-19dfa9803d5c',
  cnodeUserUUID: '11c34897-1946-4dfc-b59c-f646a1fc69fe',
  multihash: 'QmbxJ1tu9V6DB4bNGTvgsfoYwUeZZxHmo5ovQYGwvVCxyd',
  sourceFile: '0d6cf46d-f82e-4f6b-a26b-8fa82f8ab8e0.mp3',
  storagePath:
   '/file_storage/QmbxJ1tu9V6DB4bNGTvgsfoYwUeZZxHmo5ovQYGwvVCxyd',
  type: 'copy320',
  trackUUID: '6c526cf7-369e-4474-a6be-9faa22f54447',
  updatedAt: 2020-03-05T17:37:57.639Z,
  createdAt: 2020-03-05T17:37:57.639Z }
writing to db2...
Executing (79bd7345-1681-4b65-ac92-da96fe50ec09): START TRANSACTION;
Executing (79bd7345-1681-4b65-ac92-da96fe50ec09): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '11c34897-1946-4dfc-b59c-f646a1fc69fe' AND "File"."multihash" = 'QmbxJ1tu9V6DB4bNGTvgsfoYwUeZZxHmo5ovQYGwvVCxyd' AND "File"."sourceFile" = '0d6cf46d-f82e-4f6b-a26b-8fa82f8ab8e0.mp3' AND "File"."storagePath" = '/file_storage/QmbxJ1tu9V6DB4bNGTvgsfoYwUeZZxHmo5ovQYGwvVCxyd' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '6c526cf7-369e-4474-a6be-9faa22f54447' LIMIT 1;
Executing (79bd7345-1681-4b65-ac92-da96fe50ec09): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_6731e1ec559f42baaf13150a5638473e$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('bf5ffc11-3236-4f8a-af10-0257b3684602','11c34897-1946-4dfc-b59c-f646a1fc69fe','6c526cf7-369e-4474-a6be-9faa22f54447','QmbxJ1tu9V6DB4bNGTvgsfoYwUeZZxHmo5ovQYGwvVCxyd','0d6cf46d-f82e-4f6b-a26b-8fa82f8ab8e0.mp3','/file_storage/QmbxJ1tu9V6DB4bNGTvgsfoYwUeZZxHmo5ovQYGwvVCxyd','copy320','2020-03-05 17:37:58.029 +00:00','2020-03-05 17:37:58.029 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_6731e1ec559f42baaf13150a5638473e$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (79bd7345-1681-4b65-ac92-da96fe50ec09): COMMIT;
{ fileUUID: 'bf5ffc11-3236-4f8a-af10-0257b3684602',
  cnodeUserUUID: '11c34897-1946-4dfc-b59c-f646a1fc69fe',
  multihash: 'QmbxJ1tu9V6DB4bNGTvgsfoYwUeZZxHmo5ovQYGwvVCxyd',
  sourceFile: '0d6cf46d-f82e-4f6b-a26b-8fa82f8ab8e0.mp3',
  storagePath:
   '/file_storage/QmbxJ1tu9V6DB4bNGTvgsfoYwUeZZxHmo5ovQYGwvVCxyd',
  type: 'copy320',
  trackUUID: '6c526cf7-369e-4474-a6be-9faa22f54447',
  updatedAt: 2020-03-05T17:37:58.029Z,
  createdAt: 2020-03-05T17:37:58.029Z }
writing to db3...
Executing (964baf20-07a0-4485-bd16-580e4108a27a): START TRANSACTION;
Executing (964baf20-07a0-4485-bd16-580e4108a27a): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '11c34897-1946-4dfc-b59c-f646a1fc69fe' AND "File"."multihash" = 'QmbxJ1tu9V6DB4bNGTvgsfoYwUeZZxHmo5ovQYGwvVCxyd' AND "File"."sourceFile" = '0d6cf46d-f82e-4f6b-a26b-8fa82f8ab8e0.mp3' AND "File"."storagePath" = '/file_storage/QmbxJ1tu9V6DB4bNGTvgsfoYwUeZZxHmo5ovQYGwvVCxyd' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '6c526cf7-369e-4474-a6be-9faa22f54447' LIMIT 1;
Executing (964baf20-07a0-4485-bd16-580e4108a27a): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_6bea8c0948a14a0fa12a43fa6c8183f0$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('65b40fec-c71b-426b-aa9c-f9aec11ba03e','11c34897-1946-4dfc-b59c-f646a1fc69fe','6c526cf7-369e-4474-a6be-9faa22f54447','QmbxJ1tu9V6DB4bNGTvgsfoYwUeZZxHmo5ovQYGwvVCxyd','0d6cf46d-f82e-4f6b-a26b-8fa82f8ab8e0.mp3','/file_storage/QmbxJ1tu9V6DB4bNGTvgsfoYwUeZZxHmo5ovQYGwvVCxyd','copy320','2020-03-05 17:37:58.421 +00:00','2020-03-05 17:37:58.421 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_6bea8c0948a14a0fa12a43fa6c8183f0$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (964baf20-07a0-4485-bd16-580e4108a27a): COMMIT;
{ fileUUID: '65b40fec-c71b-426b-aa9c-f9aec11ba03e',
  cnodeUserUUID: '11c34897-1946-4dfc-b59c-f646a1fc69fe',
  multihash: 'QmbxJ1tu9V6DB4bNGTvgsfoYwUeZZxHmo5ovQYGwvVCxyd',
  sourceFile: '0d6cf46d-f82e-4f6b-a26b-8fa82f8ab8e0.mp3',
  storagePath:
   '/file_storage/QmbxJ1tu9V6DB4bNGTvgsfoYwUeZZxHmo5ovQYGwvVCxyd',
  type: 'copy320',
  trackUUID: '6c526cf7-369e-4474-a6be-9faa22f54447',
  updatedAt: 2020-03-05T17:37:58.421Z,
  createdAt: 2020-03-05T17:37:58.421Z }




PROCESSING ROW #75: sourcefile: f5115316-cabd-4b8f-8057-3bc6fb5bc167.mp3, cnodeUserUUID: b9026736-a4f3-45b8-b570-ebf9ab04decb, trackUUID: 83a99e8e-3913-4726-82f9-6ac08c288624, multihash: QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM, dstPath: /file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM
writing to db1...
Executing (93844d2b-9492-4892-ab6e-34248db65924): START TRANSACTION;
Executing (93844d2b-9492-4892-ab6e-34248db65924): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = 'b9026736-a4f3-45b8-b570-ebf9ab04decb' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = 'f5115316-cabd-4b8f-8057-3bc6fb5bc167.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '83a99e8e-3913-4726-82f9-6ac08c288624' LIMIT 1;
Executing (93844d2b-9492-4892-ab6e-34248db65924): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_b80e05826cbd41ad80cf5c4999aaa73c$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('ec000b7f-73b7-4e3a-8b4b-6bece7b9371c','b9026736-a4f3-45b8-b570-ebf9ab04decb','83a99e8e-3913-4726-82f9-6ac08c288624','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','f5115316-cabd-4b8f-8057-3bc6fb5bc167.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:37:58.798 +00:00','2020-03-05 17:37:58.798 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_b80e05826cbd41ad80cf5c4999aaa73c$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (93844d2b-9492-4892-ab6e-34248db65924): COMMIT;
{ fileUUID: 'ec000b7f-73b7-4e3a-8b4b-6bece7b9371c',
  cnodeUserUUID: 'b9026736-a4f3-45b8-b570-ebf9ab04decb',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: 'f5115316-cabd-4b8f-8057-3bc6fb5bc167.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: '83a99e8e-3913-4726-82f9-6ac08c288624',
  updatedAt: 2020-03-05T17:37:58.798Z,
  createdAt: 2020-03-05T17:37:58.798Z }
writing to db2...
Executing (98dd1259-7122-4f5b-833b-8aa8dd75f89c): START TRANSACTION;
Executing (98dd1259-7122-4f5b-833b-8aa8dd75f89c): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = 'b9026736-a4f3-45b8-b570-ebf9ab04decb' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = 'f5115316-cabd-4b8f-8057-3bc6fb5bc167.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '83a99e8e-3913-4726-82f9-6ac08c288624' LIMIT 1;
Executing (98dd1259-7122-4f5b-833b-8aa8dd75f89c): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_911d8b7689a7428fb4c7c2b890a66190$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('03da47e6-7908-4a7a-86fe-8ac7694ff551','b9026736-a4f3-45b8-b570-ebf9ab04decb','83a99e8e-3913-4726-82f9-6ac08c288624','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','f5115316-cabd-4b8f-8057-3bc6fb5bc167.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:37:59.188 +00:00','2020-03-05 17:37:59.188 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_911d8b7689a7428fb4c7c2b890a66190$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (98dd1259-7122-4f5b-833b-8aa8dd75f89c): COMMIT;
{ fileUUID: '03da47e6-7908-4a7a-86fe-8ac7694ff551',
  cnodeUserUUID: 'b9026736-a4f3-45b8-b570-ebf9ab04decb',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: 'f5115316-cabd-4b8f-8057-3bc6fb5bc167.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: '83a99e8e-3913-4726-82f9-6ac08c288624',
  updatedAt: 2020-03-05T17:37:59.188Z,
  createdAt: 2020-03-05T17:37:59.188Z }
writing to db3...
Executing (a83c1af0-5faa-4e29-8498-2c111b31ec8d): START TRANSACTION;
Executing (a83c1af0-5faa-4e29-8498-2c111b31ec8d): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = 'b9026736-a4f3-45b8-b570-ebf9ab04decb' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = 'f5115316-cabd-4b8f-8057-3bc6fb5bc167.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '83a99e8e-3913-4726-82f9-6ac08c288624' LIMIT 1;
Executing (a83c1af0-5faa-4e29-8498-2c111b31ec8d): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_e6302de1f3ed4e5a867c113a62a2ad71$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('ea1df179-b7df-40d5-8d9f-d61c5847d6d3','b9026736-a4f3-45b8-b570-ebf9ab04decb','83a99e8e-3913-4726-82f9-6ac08c288624','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','f5115316-cabd-4b8f-8057-3bc6fb5bc167.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:37:59.569 +00:00','2020-03-05 17:37:59.569 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_e6302de1f3ed4e5a867c113a62a2ad71$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (a83c1af0-5faa-4e29-8498-2c111b31ec8d): COMMIT;
{ fileUUID: 'ea1df179-b7df-40d5-8d9f-d61c5847d6d3',
  cnodeUserUUID: 'b9026736-a4f3-45b8-b570-ebf9ab04decb',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: 'f5115316-cabd-4b8f-8057-3bc6fb5bc167.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: '83a99e8e-3913-4726-82f9-6ac08c288624',
  updatedAt: 2020-03-05T17:37:59.569Z,
  createdAt: 2020-03-05T17:37:59.569Z }




PROCESSING ROW #76: sourcefile: b64063bc-417a-4de0-84af-a9e7a8f8138a.mp3, cnodeUserUUID: 11c34897-1946-4dfc-b59c-f646a1fc69fe, trackUUID: f843be1f-d392-43df-bad5-5985bf575d8d, multihash: QmNTNmjzCqhPArgCE8zBar58tPPS7kUo9hcQTbGq4yiU7R, dstPath: /file_storage/QmNTNmjzCqhPArgCE8zBar58tPPS7kUo9hcQTbGq4yiU7R
writing to db1...
Executing (9298b826-3cb2-417e-bddb-a9c7168f2d06): START TRANSACTION;
Executing (9298b826-3cb2-417e-bddb-a9c7168f2d06): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '11c34897-1946-4dfc-b59c-f646a1fc69fe' AND "File"."multihash" = 'QmNTNmjzCqhPArgCE8zBar58tPPS7kUo9hcQTbGq4yiU7R' AND "File"."sourceFile" = 'b64063bc-417a-4de0-84af-a9e7a8f8138a.mp3' AND "File"."storagePath" = '/file_storage/QmNTNmjzCqhPArgCE8zBar58tPPS7kUo9hcQTbGq4yiU7R' AND "File"."type" = 'copy320' AND "File"."trackUUID" = 'f843be1f-d392-43df-bad5-5985bf575d8d' LIMIT 1;
Executing (9298b826-3cb2-417e-bddb-a9c7168f2d06): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_48ac17bd259c4187b0a12ed358d713af$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('a4d7c639-0a87-4a5d-a47e-2bd9521c090c','11c34897-1946-4dfc-b59c-f646a1fc69fe','f843be1f-d392-43df-bad5-5985bf575d8d','QmNTNmjzCqhPArgCE8zBar58tPPS7kUo9hcQTbGq4yiU7R','b64063bc-417a-4de0-84af-a9e7a8f8138a.mp3','/file_storage/QmNTNmjzCqhPArgCE8zBar58tPPS7kUo9hcQTbGq4yiU7R','copy320','2020-03-05 17:37:59.948 +00:00','2020-03-05 17:37:59.948 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_48ac17bd259c4187b0a12ed358d713af$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (9298b826-3cb2-417e-bddb-a9c7168f2d06): COMMIT;
{ fileUUID: 'a4d7c639-0a87-4a5d-a47e-2bd9521c090c',
  cnodeUserUUID: '11c34897-1946-4dfc-b59c-f646a1fc69fe',
  multihash: 'QmNTNmjzCqhPArgCE8zBar58tPPS7kUo9hcQTbGq4yiU7R',
  sourceFile: 'b64063bc-417a-4de0-84af-a9e7a8f8138a.mp3',
  storagePath:
   '/file_storage/QmNTNmjzCqhPArgCE8zBar58tPPS7kUo9hcQTbGq4yiU7R',
  type: 'copy320',
  trackUUID: 'f843be1f-d392-43df-bad5-5985bf575d8d',
  updatedAt: 2020-03-05T17:37:59.948Z,
  createdAt: 2020-03-05T17:37:59.948Z }
writing to db2...
Executing (4158adf8-cdd2-42f1-ae18-1d1b483b89de): START TRANSACTION;
Executing (4158adf8-cdd2-42f1-ae18-1d1b483b89de): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '11c34897-1946-4dfc-b59c-f646a1fc69fe' AND "File"."multihash" = 'QmNTNmjzCqhPArgCE8zBar58tPPS7kUo9hcQTbGq4yiU7R' AND "File"."sourceFile" = 'b64063bc-417a-4de0-84af-a9e7a8f8138a.mp3' AND "File"."storagePath" = '/file_storage/QmNTNmjzCqhPArgCE8zBar58tPPS7kUo9hcQTbGq4yiU7R' AND "File"."type" = 'copy320' AND "File"."trackUUID" = 'f843be1f-d392-43df-bad5-5985bf575d8d' LIMIT 1;
Executing (4158adf8-cdd2-42f1-ae18-1d1b483b89de): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_cf7cdef692b5406582101e1863300826$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('773ee71c-4f38-43db-808d-9e1aa5182b45','11c34897-1946-4dfc-b59c-f646a1fc69fe','f843be1f-d392-43df-bad5-5985bf575d8d','QmNTNmjzCqhPArgCE8zBar58tPPS7kUo9hcQTbGq4yiU7R','b64063bc-417a-4de0-84af-a9e7a8f8138a.mp3','/file_storage/QmNTNmjzCqhPArgCE8zBar58tPPS7kUo9hcQTbGq4yiU7R','copy320','2020-03-05 17:38:00.354 +00:00','2020-03-05 17:38:00.354 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_cf7cdef692b5406582101e1863300826$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (4158adf8-cdd2-42f1-ae18-1d1b483b89de): COMMIT;
{ fileUUID: '773ee71c-4f38-43db-808d-9e1aa5182b45',
  cnodeUserUUID: '11c34897-1946-4dfc-b59c-f646a1fc69fe',
  multihash: 'QmNTNmjzCqhPArgCE8zBar58tPPS7kUo9hcQTbGq4yiU7R',
  sourceFile: 'b64063bc-417a-4de0-84af-a9e7a8f8138a.mp3',
  storagePath:
   '/file_storage/QmNTNmjzCqhPArgCE8zBar58tPPS7kUo9hcQTbGq4yiU7R',
  type: 'copy320',
  trackUUID: 'f843be1f-d392-43df-bad5-5985bf575d8d',
  updatedAt: 2020-03-05T17:38:00.354Z,
  createdAt: 2020-03-05T17:38:00.354Z }
writing to db3...
Executing (770c215c-9001-40ac-b9b8-e9e48fb95a20): START TRANSACTION;
Executing (770c215c-9001-40ac-b9b8-e9e48fb95a20): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '11c34897-1946-4dfc-b59c-f646a1fc69fe' AND "File"."multihash" = 'QmNTNmjzCqhPArgCE8zBar58tPPS7kUo9hcQTbGq4yiU7R' AND "File"."sourceFile" = 'b64063bc-417a-4de0-84af-a9e7a8f8138a.mp3' AND "File"."storagePath" = '/file_storage/QmNTNmjzCqhPArgCE8zBar58tPPS7kUo9hcQTbGq4yiU7R' AND "File"."type" = 'copy320' AND "File"."trackUUID" = 'f843be1f-d392-43df-bad5-5985bf575d8d' LIMIT 1;
Executing (770c215c-9001-40ac-b9b8-e9e48fb95a20): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_e48019f568c240a8b592c2a9cba44930$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('d26595be-2b88-44a6-9866-ea4d5b9fec76','11c34897-1946-4dfc-b59c-f646a1fc69fe','f843be1f-d392-43df-bad5-5985bf575d8d','QmNTNmjzCqhPArgCE8zBar58tPPS7kUo9hcQTbGq4yiU7R','b64063bc-417a-4de0-84af-a9e7a8f8138a.mp3','/file_storage/QmNTNmjzCqhPArgCE8zBar58tPPS7kUo9hcQTbGq4yiU7R','copy320','2020-03-05 17:38:00.744 +00:00','2020-03-05 17:38:00.744 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_e48019f568c240a8b592c2a9cba44930$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (770c215c-9001-40ac-b9b8-e9e48fb95a20): COMMIT;
{ fileUUID: 'd26595be-2b88-44a6-9866-ea4d5b9fec76',
  cnodeUserUUID: '11c34897-1946-4dfc-b59c-f646a1fc69fe',
  multihash: 'QmNTNmjzCqhPArgCE8zBar58tPPS7kUo9hcQTbGq4yiU7R',
  sourceFile: 'b64063bc-417a-4de0-84af-a9e7a8f8138a.mp3',
  storagePath:
   '/file_storage/QmNTNmjzCqhPArgCE8zBar58tPPS7kUo9hcQTbGq4yiU7R',
  type: 'copy320',
  trackUUID: 'f843be1f-d392-43df-bad5-5985bf575d8d',
  updatedAt: 2020-03-05T17:38:00.744Z,
  createdAt: 2020-03-05T17:38:00.744Z }




PROCESSING ROW #77: sourcefile: 70893303-296e-49cf-9084-401c948060f4.mp3, cnodeUserUUID: d5071986-1b9b-4782-953c-eef0d29edc56, trackUUID: f781dcbe-9741-4118-bbf2-1c82c8073e8a, multihash: QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM, dstPath: /file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM
writing to db1...
Executing (3cb1f4c9-7ec2-4aa1-be0d-c47136523587): START TRANSACTION;
Executing (3cb1f4c9-7ec2-4aa1-be0d-c47136523587): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = 'd5071986-1b9b-4782-953c-eef0d29edc56' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = '70893303-296e-49cf-9084-401c948060f4.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = 'f781dcbe-9741-4118-bbf2-1c82c8073e8a' LIMIT 1;
Executing (3cb1f4c9-7ec2-4aa1-be0d-c47136523587): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_8afe1fe585cb408d8a438babee10a349$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('1d03bf1c-2a98-4c04-8f89-8073cd95c301','d5071986-1b9b-4782-953c-eef0d29edc56','f781dcbe-9741-4118-bbf2-1c82c8073e8a','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','70893303-296e-49cf-9084-401c948060f4.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:38:01.137 +00:00','2020-03-05 17:38:01.137 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_8afe1fe585cb408d8a438babee10a349$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (3cb1f4c9-7ec2-4aa1-be0d-c47136523587): COMMIT;
{ fileUUID: '1d03bf1c-2a98-4c04-8f89-8073cd95c301',
  cnodeUserUUID: 'd5071986-1b9b-4782-953c-eef0d29edc56',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: '70893303-296e-49cf-9084-401c948060f4.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: 'f781dcbe-9741-4118-bbf2-1c82c8073e8a',
  updatedAt: 2020-03-05T17:38:01.137Z,
  createdAt: 2020-03-05T17:38:01.137Z }
writing to db2...
Executing (2b67a352-b7ca-483a-ac35-a7dd795fd0b1): START TRANSACTION;
Executing (2b67a352-b7ca-483a-ac35-a7dd795fd0b1): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = 'd5071986-1b9b-4782-953c-eef0d29edc56' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = '70893303-296e-49cf-9084-401c948060f4.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = 'f781dcbe-9741-4118-bbf2-1c82c8073e8a' LIMIT 1;
Executing (2b67a352-b7ca-483a-ac35-a7dd795fd0b1): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_642ebe4710b54caeba19390a54ad54dc$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('e7a4f669-43bd-4daf-a98b-39fce85dc21b','d5071986-1b9b-4782-953c-eef0d29edc56','f781dcbe-9741-4118-bbf2-1c82c8073e8a','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','70893303-296e-49cf-9084-401c948060f4.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:38:01.545 +00:00','2020-03-05 17:38:01.545 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_642ebe4710b54caeba19390a54ad54dc$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (2b67a352-b7ca-483a-ac35-a7dd795fd0b1): COMMIT;
{ fileUUID: 'e7a4f669-43bd-4daf-a98b-39fce85dc21b',
  cnodeUserUUID: 'd5071986-1b9b-4782-953c-eef0d29edc56',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: '70893303-296e-49cf-9084-401c948060f4.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: 'f781dcbe-9741-4118-bbf2-1c82c8073e8a',
  updatedAt: 2020-03-05T17:38:01.545Z,
  createdAt: 2020-03-05T17:38:01.545Z }
writing to db3...
Executing (65e4bbcf-3258-49e0-b0df-5bc7465d831a): START TRANSACTION;
Executing (65e4bbcf-3258-49e0-b0df-5bc7465d831a): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = 'd5071986-1b9b-4782-953c-eef0d29edc56' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = '70893303-296e-49cf-9084-401c948060f4.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = 'f781dcbe-9741-4118-bbf2-1c82c8073e8a' LIMIT 1;
Executing (65e4bbcf-3258-49e0-b0df-5bc7465d831a): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_29267b519575410abe6b4d7a128fae3f$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('d744df00-db71-4fb8-8516-9c9eabf5a8af','d5071986-1b9b-4782-953c-eef0d29edc56','f781dcbe-9741-4118-bbf2-1c82c8073e8a','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','70893303-296e-49cf-9084-401c948060f4.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:38:01.947 +00:00','2020-03-05 17:38:01.947 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_29267b519575410abe6b4d7a128fae3f$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (65e4bbcf-3258-49e0-b0df-5bc7465d831a): COMMIT;
{ fileUUID: 'd744df00-db71-4fb8-8516-9c9eabf5a8af',
  cnodeUserUUID: 'd5071986-1b9b-4782-953c-eef0d29edc56',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: '70893303-296e-49cf-9084-401c948060f4.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: 'f781dcbe-9741-4118-bbf2-1c82c8073e8a',
  updatedAt: 2020-03-05T17:38:01.947Z,
  createdAt: 2020-03-05T17:38:01.947Z }




PROCESSING ROW #78: sourcefile: 1ad30e5d-d54f-4ff8-b579-fb7559ce5bc7.mp3, cnodeUserUUID: 02a15316-5880-4380-8e54-9d43d9dcbb61, trackUUID: 784bfb3c-44c6-4bcb-a16d-c838a2a6016a, multihash: QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM, dstPath: /file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM
writing to db1...
Executing (85df1d16-9cd0-4860-8db5-73e1975425f6): START TRANSACTION;
Executing (85df1d16-9cd0-4860-8db5-73e1975425f6): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '02a15316-5880-4380-8e54-9d43d9dcbb61' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = '1ad30e5d-d54f-4ff8-b579-fb7559ce5bc7.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '784bfb3c-44c6-4bcb-a16d-c838a2a6016a' LIMIT 1;
Executing (85df1d16-9cd0-4860-8db5-73e1975425f6): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_9e6d3cd2bf7d4536a19be85812aeffd9$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('9bb3692c-fe95-4ce9-ac56-ab9dfaa2184f','02a15316-5880-4380-8e54-9d43d9dcbb61','784bfb3c-44c6-4bcb-a16d-c838a2a6016a','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','1ad30e5d-d54f-4ff8-b579-fb7559ce5bc7.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:38:02.345 +00:00','2020-03-05 17:38:02.345 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_9e6d3cd2bf7d4536a19be85812aeffd9$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (85df1d16-9cd0-4860-8db5-73e1975425f6): COMMIT;
{ fileUUID: '9bb3692c-fe95-4ce9-ac56-ab9dfaa2184f',
  cnodeUserUUID: '02a15316-5880-4380-8e54-9d43d9dcbb61',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: '1ad30e5d-d54f-4ff8-b579-fb7559ce5bc7.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: '784bfb3c-44c6-4bcb-a16d-c838a2a6016a',
  updatedAt: 2020-03-05T17:38:02.345Z,
  createdAt: 2020-03-05T17:38:02.345Z }
writing to db2...
Executing (c12552f8-2704-4483-af08-5a4f2e8100bb): START TRANSACTION;
Executing (c12552f8-2704-4483-af08-5a4f2e8100bb): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '02a15316-5880-4380-8e54-9d43d9dcbb61' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = '1ad30e5d-d54f-4ff8-b579-fb7559ce5bc7.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '784bfb3c-44c6-4bcb-a16d-c838a2a6016a' LIMIT 1;
Executing (c12552f8-2704-4483-af08-5a4f2e8100bb): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_76e5ae59f45c4d0793f92ecacc1ff858$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('7e7cf496-d169-4bd8-901f-9e1d0413b482','02a15316-5880-4380-8e54-9d43d9dcbb61','784bfb3c-44c6-4bcb-a16d-c838a2a6016a','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','1ad30e5d-d54f-4ff8-b579-fb7559ce5bc7.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:38:02.747 +00:00','2020-03-05 17:38:02.747 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_76e5ae59f45c4d0793f92ecacc1ff858$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (c12552f8-2704-4483-af08-5a4f2e8100bb): COMMIT;
{ fileUUID: '7e7cf496-d169-4bd8-901f-9e1d0413b482',
  cnodeUserUUID: '02a15316-5880-4380-8e54-9d43d9dcbb61',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: '1ad30e5d-d54f-4ff8-b579-fb7559ce5bc7.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: '784bfb3c-44c6-4bcb-a16d-c838a2a6016a',
  updatedAt: 2020-03-05T17:38:02.747Z,
  createdAt: 2020-03-05T17:38:02.747Z }
writing to db3...
Executing (21dd1a67-d68c-40f5-80c6-afa255e52692): START TRANSACTION;
Executing (21dd1a67-d68c-40f5-80c6-afa255e52692): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '02a15316-5880-4380-8e54-9d43d9dcbb61' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = '1ad30e5d-d54f-4ff8-b579-fb7559ce5bc7.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '784bfb3c-44c6-4bcb-a16d-c838a2a6016a' LIMIT 1;
Executing (21dd1a67-d68c-40f5-80c6-afa255e52692): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_a629810605234a30ba99c351ab3250ad$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('5fb08075-65b6-4410-ab02-f5568f0fd138','02a15316-5880-4380-8e54-9d43d9dcbb61','784bfb3c-44c6-4bcb-a16d-c838a2a6016a','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','1ad30e5d-d54f-4ff8-b579-fb7559ce5bc7.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:38:03.148 +00:00','2020-03-05 17:38:03.148 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_a629810605234a30ba99c351ab3250ad$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (21dd1a67-d68c-40f5-80c6-afa255e52692): COMMIT;
{ fileUUID: '5fb08075-65b6-4410-ab02-f5568f0fd138',
  cnodeUserUUID: '02a15316-5880-4380-8e54-9d43d9dcbb61',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: '1ad30e5d-d54f-4ff8-b579-fb7559ce5bc7.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: '784bfb3c-44c6-4bcb-a16d-c838a2a6016a',
  updatedAt: 2020-03-05T17:38:03.148Z,
  createdAt: 2020-03-05T17:38:03.148Z }




PROCESSING ROW #79: sourcefile: b6341a6f-9bd3-4c7b-9ece-6ab33c040233.mp3, cnodeUserUUID: 2e171be8-d0c6-4a23-a7c5-848eda55b52a, trackUUID: fcb0a4a5-7076-4900-baa2-013b3b97e668, multihash: QmQLrYxWsyByEU6EeojyZDDTWWujAnTzQhmGUc4tYqMhBU, dstPath: /file_storage/QmQLrYxWsyByEU6EeojyZDDTWWujAnTzQhmGUc4tYqMhBU
writing to db1...
Executing (9450bd84-ef7b-4275-baef-e3140bce29e4): START TRANSACTION;
Executing (9450bd84-ef7b-4275-baef-e3140bce29e4): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '2e171be8-d0c6-4a23-a7c5-848eda55b52a' AND "File"."multihash" = 'QmQLrYxWsyByEU6EeojyZDDTWWujAnTzQhmGUc4tYqMhBU' AND "File"."sourceFile" = 'b6341a6f-9bd3-4c7b-9ece-6ab33c040233.mp3' AND "File"."storagePath" = '/file_storage/QmQLrYxWsyByEU6EeojyZDDTWWujAnTzQhmGUc4tYqMhBU' AND "File"."type" = 'copy320' AND "File"."trackUUID" = 'fcb0a4a5-7076-4900-baa2-013b3b97e668' LIMIT 1;
Executing (9450bd84-ef7b-4275-baef-e3140bce29e4): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_97d2627ae7f94554aee21f55f7552347$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('7e4dfd7a-309c-4966-aaff-da8cb9d37d53','2e171be8-d0c6-4a23-a7c5-848eda55b52a','fcb0a4a5-7076-4900-baa2-013b3b97e668','QmQLrYxWsyByEU6EeojyZDDTWWujAnTzQhmGUc4tYqMhBU','b6341a6f-9bd3-4c7b-9ece-6ab33c040233.mp3','/file_storage/QmQLrYxWsyByEU6EeojyZDDTWWujAnTzQhmGUc4tYqMhBU','copy320','2020-03-05 17:38:03.549 +00:00','2020-03-05 17:38:03.549 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_97d2627ae7f94554aee21f55f7552347$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (9450bd84-ef7b-4275-baef-e3140bce29e4): COMMIT;
{ fileUUID: '7e4dfd7a-309c-4966-aaff-da8cb9d37d53',
  cnodeUserUUID: '2e171be8-d0c6-4a23-a7c5-848eda55b52a',
  multihash: 'QmQLrYxWsyByEU6EeojyZDDTWWujAnTzQhmGUc4tYqMhBU',
  sourceFile: 'b6341a6f-9bd3-4c7b-9ece-6ab33c040233.mp3',
  storagePath:
   '/file_storage/QmQLrYxWsyByEU6EeojyZDDTWWujAnTzQhmGUc4tYqMhBU',
  type: 'copy320',
  trackUUID: 'fcb0a4a5-7076-4900-baa2-013b3b97e668',
  updatedAt: 2020-03-05T17:38:03.549Z,
  createdAt: 2020-03-05T17:38:03.549Z }
writing to db2...
Executing (fd12f7a1-d830-4482-90e1-a6a13b98a249): START TRANSACTION;
Executing (fd12f7a1-d830-4482-90e1-a6a13b98a249): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '2e171be8-d0c6-4a23-a7c5-848eda55b52a' AND "File"."multihash" = 'QmQLrYxWsyByEU6EeojyZDDTWWujAnTzQhmGUc4tYqMhBU' AND "File"."sourceFile" = 'b6341a6f-9bd3-4c7b-9ece-6ab33c040233.mp3' AND "File"."storagePath" = '/file_storage/QmQLrYxWsyByEU6EeojyZDDTWWujAnTzQhmGUc4tYqMhBU' AND "File"."type" = 'copy320' AND "File"."trackUUID" = 'fcb0a4a5-7076-4900-baa2-013b3b97e668' LIMIT 1;
Executing (fd12f7a1-d830-4482-90e1-a6a13b98a249): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_12ecfc40147b4f86a72bb4e417e94288$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('2b759b80-6972-4187-8844-b4244050f73f','2e171be8-d0c6-4a23-a7c5-848eda55b52a','fcb0a4a5-7076-4900-baa2-013b3b97e668','QmQLrYxWsyByEU6EeojyZDDTWWujAnTzQhmGUc4tYqMhBU','b6341a6f-9bd3-4c7b-9ece-6ab33c040233.mp3','/file_storage/QmQLrYxWsyByEU6EeojyZDDTWWujAnTzQhmGUc4tYqMhBU','copy320','2020-03-05 17:38:03.944 +00:00','2020-03-05 17:38:03.944 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_12ecfc40147b4f86a72bb4e417e94288$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (fd12f7a1-d830-4482-90e1-a6a13b98a249): COMMIT;
{ fileUUID: '2b759b80-6972-4187-8844-b4244050f73f',
  cnodeUserUUID: '2e171be8-d0c6-4a23-a7c5-848eda55b52a',
  multihash: 'QmQLrYxWsyByEU6EeojyZDDTWWujAnTzQhmGUc4tYqMhBU',
  sourceFile: 'b6341a6f-9bd3-4c7b-9ece-6ab33c040233.mp3',
  storagePath:
   '/file_storage/QmQLrYxWsyByEU6EeojyZDDTWWujAnTzQhmGUc4tYqMhBU',
  type: 'copy320',
  trackUUID: 'fcb0a4a5-7076-4900-baa2-013b3b97e668',
  updatedAt: 2020-03-05T17:38:03.944Z,
  createdAt: 2020-03-05T17:38:03.944Z }
writing to db3...
Executing (000acced-0f30-46f5-83f7-0f0a823a115c): START TRANSACTION;
Executing (000acced-0f30-46f5-83f7-0f0a823a115c): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '2e171be8-d0c6-4a23-a7c5-848eda55b52a' AND "File"."multihash" = 'QmQLrYxWsyByEU6EeojyZDDTWWujAnTzQhmGUc4tYqMhBU' AND "File"."sourceFile" = 'b6341a6f-9bd3-4c7b-9ece-6ab33c040233.mp3' AND "File"."storagePath" = '/file_storage/QmQLrYxWsyByEU6EeojyZDDTWWujAnTzQhmGUc4tYqMhBU' AND "File"."type" = 'copy320' AND "File"."trackUUID" = 'fcb0a4a5-7076-4900-baa2-013b3b97e668' LIMIT 1;
Executing (000acced-0f30-46f5-83f7-0f0a823a115c): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_c7a4cafbb19646d39212b56ad315a34a$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('888d13f8-73db-44c1-bfa0-2dbdfea0ff55','2e171be8-d0c6-4a23-a7c5-848eda55b52a','fcb0a4a5-7076-4900-baa2-013b3b97e668','QmQLrYxWsyByEU6EeojyZDDTWWujAnTzQhmGUc4tYqMhBU','b6341a6f-9bd3-4c7b-9ece-6ab33c040233.mp3','/file_storage/QmQLrYxWsyByEU6EeojyZDDTWWujAnTzQhmGUc4tYqMhBU','copy320','2020-03-05 17:38:04.343 +00:00','2020-03-05 17:38:04.343 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_c7a4cafbb19646d39212b56ad315a34a$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (000acced-0f30-46f5-83f7-0f0a823a115c): COMMIT;
{ fileUUID: '888d13f8-73db-44c1-bfa0-2dbdfea0ff55',
  cnodeUserUUID: '2e171be8-d0c6-4a23-a7c5-848eda55b52a',
  multihash: 'QmQLrYxWsyByEU6EeojyZDDTWWujAnTzQhmGUc4tYqMhBU',
  sourceFile: 'b6341a6f-9bd3-4c7b-9ece-6ab33c040233.mp3',
  storagePath:
   '/file_storage/QmQLrYxWsyByEU6EeojyZDDTWWujAnTzQhmGUc4tYqMhBU',
  type: 'copy320',
  trackUUID: 'fcb0a4a5-7076-4900-baa2-013b3b97e668',
  updatedAt: 2020-03-05T17:38:04.343Z,
  createdAt: 2020-03-05T17:38:04.343Z }




PROCESSING ROW #80: sourcefile: 29dc9d72-b8e8-45d6-aa9f-730ed172a5aa.mp3, cnodeUserUUID: 11c34897-1946-4dfc-b59c-f646a1fc69fe, trackUUID: 15989f5a-871a-48fb-a78b-de72314c0635, multihash: Qmevbw1fhLj6WedACXspKyA1jhiANZAWNzZjjY3vKgkWRZ, dstPath: /file_storage/Qmevbw1fhLj6WedACXspKyA1jhiANZAWNzZjjY3vKgkWRZ
writing to db1...
Executing (20b3ac6f-253f-41f9-811b-34ee8532b501): START TRANSACTION;
Executing (20b3ac6f-253f-41f9-811b-34ee8532b501): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '11c34897-1946-4dfc-b59c-f646a1fc69fe' AND "File"."multihash" = 'Qmevbw1fhLj6WedACXspKyA1jhiANZAWNzZjjY3vKgkWRZ' AND "File"."sourceFile" = '29dc9d72-b8e8-45d6-aa9f-730ed172a5aa.mp3' AND "File"."storagePath" = '/file_storage/Qmevbw1fhLj6WedACXspKyA1jhiANZAWNzZjjY3vKgkWRZ' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '15989f5a-871a-48fb-a78b-de72314c0635' LIMIT 1;
Executing (20b3ac6f-253f-41f9-811b-34ee8532b501): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_9a16f974a1334733ab4a45683b292234$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('e666f1da-98f7-4400-9ac5-bc87b84d3310','11c34897-1946-4dfc-b59c-f646a1fc69fe','15989f5a-871a-48fb-a78b-de72314c0635','Qmevbw1fhLj6WedACXspKyA1jhiANZAWNzZjjY3vKgkWRZ','29dc9d72-b8e8-45d6-aa9f-730ed172a5aa.mp3','/file_storage/Qmevbw1fhLj6WedACXspKyA1jhiANZAWNzZjjY3vKgkWRZ','copy320','2020-03-05 17:38:04.762 +00:00','2020-03-05 17:38:04.762 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_9a16f974a1334733ab4a45683b292234$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (20b3ac6f-253f-41f9-811b-34ee8532b501): COMMIT;
{ fileUUID: 'e666f1da-98f7-4400-9ac5-bc87b84d3310',
  cnodeUserUUID: '11c34897-1946-4dfc-b59c-f646a1fc69fe',
  multihash: 'Qmevbw1fhLj6WedACXspKyA1jhiANZAWNzZjjY3vKgkWRZ',
  sourceFile: '29dc9d72-b8e8-45d6-aa9f-730ed172a5aa.mp3',
  storagePath:
   '/file_storage/Qmevbw1fhLj6WedACXspKyA1jhiANZAWNzZjjY3vKgkWRZ',
  type: 'copy320',
  trackUUID: '15989f5a-871a-48fb-a78b-de72314c0635',
  updatedAt: 2020-03-05T17:38:04.762Z,
  createdAt: 2020-03-05T17:38:04.762Z }
writing to db2...
Executing (fb96091c-c6b1-48a1-b991-d3e7197901c4): START TRANSACTION;
Executing (fb96091c-c6b1-48a1-b991-d3e7197901c4): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '11c34897-1946-4dfc-b59c-f646a1fc69fe' AND "File"."multihash" = 'Qmevbw1fhLj6WedACXspKyA1jhiANZAWNzZjjY3vKgkWRZ' AND "File"."sourceFile" = '29dc9d72-b8e8-45d6-aa9f-730ed172a5aa.mp3' AND "File"."storagePath" = '/file_storage/Qmevbw1fhLj6WedACXspKyA1jhiANZAWNzZjjY3vKgkWRZ' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '15989f5a-871a-48fb-a78b-de72314c0635' LIMIT 1;
Executing (fb96091c-c6b1-48a1-b991-d3e7197901c4): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_9fdf27a83ff6432197fbf5642ca93f7e$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('de2f2850-ef6c-4ffa-8769-e72575fa9cc8','11c34897-1946-4dfc-b59c-f646a1fc69fe','15989f5a-871a-48fb-a78b-de72314c0635','Qmevbw1fhLj6WedACXspKyA1jhiANZAWNzZjjY3vKgkWRZ','29dc9d72-b8e8-45d6-aa9f-730ed172a5aa.mp3','/file_storage/Qmevbw1fhLj6WedACXspKyA1jhiANZAWNzZjjY3vKgkWRZ','copy320','2020-03-05 17:38:05.152 +00:00','2020-03-05 17:38:05.152 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_9fdf27a83ff6432197fbf5642ca93f7e$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (fb96091c-c6b1-48a1-b991-d3e7197901c4): COMMIT;
{ fileUUID: 'de2f2850-ef6c-4ffa-8769-e72575fa9cc8',
  cnodeUserUUID: '11c34897-1946-4dfc-b59c-f646a1fc69fe',
  multihash: 'Qmevbw1fhLj6WedACXspKyA1jhiANZAWNzZjjY3vKgkWRZ',
  sourceFile: '29dc9d72-b8e8-45d6-aa9f-730ed172a5aa.mp3',
  storagePath:
   '/file_storage/Qmevbw1fhLj6WedACXspKyA1jhiANZAWNzZjjY3vKgkWRZ',
  type: 'copy320',
  trackUUID: '15989f5a-871a-48fb-a78b-de72314c0635',
  updatedAt: 2020-03-05T17:38:05.152Z,
  createdAt: 2020-03-05T17:38:05.152Z }
writing to db3...
Executing (50d909f5-7e48-4711-98a3-faa0eb408d3a): START TRANSACTION;
Executing (50d909f5-7e48-4711-98a3-faa0eb408d3a): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '11c34897-1946-4dfc-b59c-f646a1fc69fe' AND "File"."multihash" = 'Qmevbw1fhLj6WedACXspKyA1jhiANZAWNzZjjY3vKgkWRZ' AND "File"."sourceFile" = '29dc9d72-b8e8-45d6-aa9f-730ed172a5aa.mp3' AND "File"."storagePath" = '/file_storage/Qmevbw1fhLj6WedACXspKyA1jhiANZAWNzZjjY3vKgkWRZ' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '15989f5a-871a-48fb-a78b-de72314c0635' LIMIT 1;
Executing (50d909f5-7e48-4711-98a3-faa0eb408d3a): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_5f0b53bad7dc490199501d6712f35b60$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('0be120d6-62bd-4218-bae9-f9e1fc88df73','11c34897-1946-4dfc-b59c-f646a1fc69fe','15989f5a-871a-48fb-a78b-de72314c0635','Qmevbw1fhLj6WedACXspKyA1jhiANZAWNzZjjY3vKgkWRZ','29dc9d72-b8e8-45d6-aa9f-730ed172a5aa.mp3','/file_storage/Qmevbw1fhLj6WedACXspKyA1jhiANZAWNzZjjY3vKgkWRZ','copy320','2020-03-05 17:38:05.526 +00:00','2020-03-05 17:38:05.526 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_5f0b53bad7dc490199501d6712f35b60$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (50d909f5-7e48-4711-98a3-faa0eb408d3a): COMMIT;
{ fileUUID: '0be120d6-62bd-4218-bae9-f9e1fc88df73',
  cnodeUserUUID: '11c34897-1946-4dfc-b59c-f646a1fc69fe',
  multihash: 'Qmevbw1fhLj6WedACXspKyA1jhiANZAWNzZjjY3vKgkWRZ',
  sourceFile: '29dc9d72-b8e8-45d6-aa9f-730ed172a5aa.mp3',
  storagePath:
   '/file_storage/Qmevbw1fhLj6WedACXspKyA1jhiANZAWNzZjjY3vKgkWRZ',
  type: 'copy320',
  trackUUID: '15989f5a-871a-48fb-a78b-de72314c0635',
  updatedAt: 2020-03-05T17:38:05.526Z,
  createdAt: 2020-03-05T17:38:05.526Z }




PROCESSING ROW #81: sourcefile: e6df0c70-064a-4c45-98f7-cc73ab40e4c3.mp3, cnodeUserUUID: a98c8e03-1199-420f-8c4b-6513f9960617, trackUUID: e0b6510e-9244-4dc4-8a12-410779c46edd, multihash: QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM, dstPath: /file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM
writing to db1...
Executing (6b31bccb-dd66-48d0-a54f-cc3bbf449f77): START TRANSACTION;
Executing (6b31bccb-dd66-48d0-a54f-cc3bbf449f77): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = 'a98c8e03-1199-420f-8c4b-6513f9960617' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = 'e6df0c70-064a-4c45-98f7-cc73ab40e4c3.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = 'e0b6510e-9244-4dc4-8a12-410779c46edd' LIMIT 1;
Executing (6b31bccb-dd66-48d0-a54f-cc3bbf449f77): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_f8baca4ab0014694a1c1261ff2b50487$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('ce50d4d4-ebc9-48eb-8e85-8fcc3be0fc78','a98c8e03-1199-420f-8c4b-6513f9960617','e0b6510e-9244-4dc4-8a12-410779c46edd','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','e6df0c70-064a-4c45-98f7-cc73ab40e4c3.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:38:05.905 +00:00','2020-03-05 17:38:05.905 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_f8baca4ab0014694a1c1261ff2b50487$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (6b31bccb-dd66-48d0-a54f-cc3bbf449f77): COMMIT;
{ fileUUID: 'ce50d4d4-ebc9-48eb-8e85-8fcc3be0fc78',
  cnodeUserUUID: 'a98c8e03-1199-420f-8c4b-6513f9960617',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: 'e6df0c70-064a-4c45-98f7-cc73ab40e4c3.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: 'e0b6510e-9244-4dc4-8a12-410779c46edd',
  updatedAt: 2020-03-05T17:38:05.905Z,
  createdAt: 2020-03-05T17:38:05.905Z }
writing to db2...
Executing (c3b99e13-8764-4097-8d8a-e2e7ecbb3964): START TRANSACTION;
Executing (c3b99e13-8764-4097-8d8a-e2e7ecbb3964): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = 'a98c8e03-1199-420f-8c4b-6513f9960617' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = 'e6df0c70-064a-4c45-98f7-cc73ab40e4c3.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = 'e0b6510e-9244-4dc4-8a12-410779c46edd' LIMIT 1;
Executing (c3b99e13-8764-4097-8d8a-e2e7ecbb3964): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_7793200ebe5f490bada629d49c581d98$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('9d28bcb8-1ea1-4cbe-9167-c7b533978e36','a98c8e03-1199-420f-8c4b-6513f9960617','e0b6510e-9244-4dc4-8a12-410779c46edd','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','e6df0c70-064a-4c45-98f7-cc73ab40e4c3.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:38:06.310 +00:00','2020-03-05 17:38:06.310 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_7793200ebe5f490bada629d49c581d98$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (c3b99e13-8764-4097-8d8a-e2e7ecbb3964): COMMIT;
{ fileUUID: '9d28bcb8-1ea1-4cbe-9167-c7b533978e36',
  cnodeUserUUID: 'a98c8e03-1199-420f-8c4b-6513f9960617',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: 'e6df0c70-064a-4c45-98f7-cc73ab40e4c3.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: 'e0b6510e-9244-4dc4-8a12-410779c46edd',
  updatedAt: 2020-03-05T17:38:06.310Z,
  createdAt: 2020-03-05T17:38:06.310Z }
writing to db3...
Executing (88bb6e68-3583-441c-9348-7024d0c1281f): START TRANSACTION;
Executing (88bb6e68-3583-441c-9348-7024d0c1281f): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = 'a98c8e03-1199-420f-8c4b-6513f9960617' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = 'e6df0c70-064a-4c45-98f7-cc73ab40e4c3.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = 'e0b6510e-9244-4dc4-8a12-410779c46edd' LIMIT 1;
Executing (88bb6e68-3583-441c-9348-7024d0c1281f): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_31c4d633baaa4ee3a4a961830251f376$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('a9444f70-4201-4f93-af81-b74eefa41b58','a98c8e03-1199-420f-8c4b-6513f9960617','e0b6510e-9244-4dc4-8a12-410779c46edd','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','e6df0c70-064a-4c45-98f7-cc73ab40e4c3.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:38:06.704 +00:00','2020-03-05 17:38:06.704 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_31c4d633baaa4ee3a4a961830251f376$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (88bb6e68-3583-441c-9348-7024d0c1281f): COMMIT;
{ fileUUID: 'a9444f70-4201-4f93-af81-b74eefa41b58',
  cnodeUserUUID: 'a98c8e03-1199-420f-8c4b-6513f9960617',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: 'e6df0c70-064a-4c45-98f7-cc73ab40e4c3.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: 'e0b6510e-9244-4dc4-8a12-410779c46edd',
  updatedAt: 2020-03-05T17:38:06.704Z,
  createdAt: 2020-03-05T17:38:06.704Z }




PROCESSING ROW #82: sourcefile: 44927e30-9800-4e56-84df-985bc0d54054.wav, cnodeUserUUID: a4182ee5-2db5-401b-812d-00fcdda4e06b, trackUUID: e56999cd-924a-447e-a8fc-95bd9b3804e3, multihash: QmVUq4KbpY7LMKSSrSUKaMwUSwh85h4TkRjPrBGFwx6GD6, dstPath: /file_storage/QmVUq4KbpY7LMKSSrSUKaMwUSwh85h4TkRjPrBGFwx6GD6
writing to db1...
Executing (770beb3e-a318-4c7e-882d-e1caa6d3057b): START TRANSACTION;
Executing (770beb3e-a318-4c7e-882d-e1caa6d3057b): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = 'a4182ee5-2db5-401b-812d-00fcdda4e06b' AND "File"."multihash" = 'QmVUq4KbpY7LMKSSrSUKaMwUSwh85h4TkRjPrBGFwx6GD6' AND "File"."sourceFile" = '44927e30-9800-4e56-84df-985bc0d54054.wav' AND "File"."storagePath" = '/file_storage/QmVUq4KbpY7LMKSSrSUKaMwUSwh85h4TkRjPrBGFwx6GD6' AND "File"."type" = 'copy320' AND "File"."trackUUID" = 'e56999cd-924a-447e-a8fc-95bd9b3804e3' LIMIT 1;
Executing (770beb3e-a318-4c7e-882d-e1caa6d3057b): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_35eb6725f838423a9bbf0ea1170905b8$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('3b3ca374-37de-4429-a6fa-0b2860085a71','a4182ee5-2db5-401b-812d-00fcdda4e06b','e56999cd-924a-447e-a8fc-95bd9b3804e3','QmVUq4KbpY7LMKSSrSUKaMwUSwh85h4TkRjPrBGFwx6GD6','44927e30-9800-4e56-84df-985bc0d54054.wav','/file_storage/QmVUq4KbpY7LMKSSrSUKaMwUSwh85h4TkRjPrBGFwx6GD6','copy320','2020-03-05 17:38:07.095 +00:00','2020-03-05 17:38:07.095 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_35eb6725f838423a9bbf0ea1170905b8$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (770beb3e-a318-4c7e-882d-e1caa6d3057b): COMMIT;
{ fileUUID: '3b3ca374-37de-4429-a6fa-0b2860085a71',
  cnodeUserUUID: 'a4182ee5-2db5-401b-812d-00fcdda4e06b',
  multihash: 'QmVUq4KbpY7LMKSSrSUKaMwUSwh85h4TkRjPrBGFwx6GD6',
  sourceFile: '44927e30-9800-4e56-84df-985bc0d54054.wav',
  storagePath:
   '/file_storage/QmVUq4KbpY7LMKSSrSUKaMwUSwh85h4TkRjPrBGFwx6GD6',
  type: 'copy320',
  trackUUID: 'e56999cd-924a-447e-a8fc-95bd9b3804e3',
  updatedAt: 2020-03-05T17:38:07.095Z,
  createdAt: 2020-03-05T17:38:07.095Z }
writing to db2...
Executing (7ef21a72-2c38-4ab0-b873-2a9ecd984c5f): START TRANSACTION;
Executing (7ef21a72-2c38-4ab0-b873-2a9ecd984c5f): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = 'a4182ee5-2db5-401b-812d-00fcdda4e06b' AND "File"."multihash" = 'QmVUq4KbpY7LMKSSrSUKaMwUSwh85h4TkRjPrBGFwx6GD6' AND "File"."sourceFile" = '44927e30-9800-4e56-84df-985bc0d54054.wav' AND "File"."storagePath" = '/file_storage/QmVUq4KbpY7LMKSSrSUKaMwUSwh85h4TkRjPrBGFwx6GD6' AND "File"."type" = 'copy320' AND "File"."trackUUID" = 'e56999cd-924a-447e-a8fc-95bd9b3804e3' LIMIT 1;
Executing (7ef21a72-2c38-4ab0-b873-2a9ecd984c5f): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_87935e42d9a9455dba16ab77eed78da6$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('4ade246f-996c-494e-870d-adc05238838e','a4182ee5-2db5-401b-812d-00fcdda4e06b','e56999cd-924a-447e-a8fc-95bd9b3804e3','QmVUq4KbpY7LMKSSrSUKaMwUSwh85h4TkRjPrBGFwx6GD6','44927e30-9800-4e56-84df-985bc0d54054.wav','/file_storage/QmVUq4KbpY7LMKSSrSUKaMwUSwh85h4TkRjPrBGFwx6GD6','copy320','2020-03-05 17:38:07.486 +00:00','2020-03-05 17:38:07.486 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_87935e42d9a9455dba16ab77eed78da6$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (7ef21a72-2c38-4ab0-b873-2a9ecd984c5f): COMMIT;
{ fileUUID: '4ade246f-996c-494e-870d-adc05238838e',
  cnodeUserUUID: 'a4182ee5-2db5-401b-812d-00fcdda4e06b',
  multihash: 'QmVUq4KbpY7LMKSSrSUKaMwUSwh85h4TkRjPrBGFwx6GD6',
  sourceFile: '44927e30-9800-4e56-84df-985bc0d54054.wav',
  storagePath:
   '/file_storage/QmVUq4KbpY7LMKSSrSUKaMwUSwh85h4TkRjPrBGFwx6GD6',
  type: 'copy320',
  trackUUID: 'e56999cd-924a-447e-a8fc-95bd9b3804e3',
  updatedAt: 2020-03-05T17:38:07.486Z,
  createdAt: 2020-03-05T17:38:07.486Z }
writing to db3...
Executing (83cfa30b-45aa-4ec4-972b-02a28d2609d9): START TRANSACTION;
Executing (83cfa30b-45aa-4ec4-972b-02a28d2609d9): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = 'a4182ee5-2db5-401b-812d-00fcdda4e06b' AND "File"."multihash" = 'QmVUq4KbpY7LMKSSrSUKaMwUSwh85h4TkRjPrBGFwx6GD6' AND "File"."sourceFile" = '44927e30-9800-4e56-84df-985bc0d54054.wav' AND "File"."storagePath" = '/file_storage/QmVUq4KbpY7LMKSSrSUKaMwUSwh85h4TkRjPrBGFwx6GD6' AND "File"."type" = 'copy320' AND "File"."trackUUID" = 'e56999cd-924a-447e-a8fc-95bd9b3804e3' LIMIT 1;
Executing (83cfa30b-45aa-4ec4-972b-02a28d2609d9): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_0b4b8d3d52724253b0c2cbfe8e3bdee9$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('552c3f42-670a-4a8f-968a-e92e7cea8d1c','a4182ee5-2db5-401b-812d-00fcdda4e06b','e56999cd-924a-447e-a8fc-95bd9b3804e3','QmVUq4KbpY7LMKSSrSUKaMwUSwh85h4TkRjPrBGFwx6GD6','44927e30-9800-4e56-84df-985bc0d54054.wav','/file_storage/QmVUq4KbpY7LMKSSrSUKaMwUSwh85h4TkRjPrBGFwx6GD6','copy320','2020-03-05 17:38:07.898 +00:00','2020-03-05 17:38:07.898 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_0b4b8d3d52724253b0c2cbfe8e3bdee9$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (83cfa30b-45aa-4ec4-972b-02a28d2609d9): COMMIT;
{ fileUUID: '552c3f42-670a-4a8f-968a-e92e7cea8d1c',
  cnodeUserUUID: 'a4182ee5-2db5-401b-812d-00fcdda4e06b',
  multihash: 'QmVUq4KbpY7LMKSSrSUKaMwUSwh85h4TkRjPrBGFwx6GD6',
  sourceFile: '44927e30-9800-4e56-84df-985bc0d54054.wav',
  storagePath:
   '/file_storage/QmVUq4KbpY7LMKSSrSUKaMwUSwh85h4TkRjPrBGFwx6GD6',
  type: 'copy320',
  trackUUID: 'e56999cd-924a-447e-a8fc-95bd9b3804e3',
  updatedAt: 2020-03-05T17:38:07.898Z,
  createdAt: 2020-03-05T17:38:07.898Z }




PROCESSING ROW #83: sourcefile: 40d39595-e8c7-4464-8543-a7e98d1106fa.mp3, cnodeUserUUID: 260b21ca-4a3f-47ca-9907-413582379646, trackUUID: cc3ed9dc-e9d5-49b6-aa62-e7fb6d156c75, multihash: QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM, dstPath: /file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM
writing to db1...
Executing (520d02e3-7228-437c-b439-fa029c92e707): START TRANSACTION;
Executing (520d02e3-7228-437c-b439-fa029c92e707): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '260b21ca-4a3f-47ca-9907-413582379646' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = '40d39595-e8c7-4464-8543-a7e98d1106fa.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = 'cc3ed9dc-e9d5-49b6-aa62-e7fb6d156c75' LIMIT 1;
Executing (520d02e3-7228-437c-b439-fa029c92e707): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_434796e80c2547e3935e2c91f2a33a8c$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('2baa6bde-bf34-4a39-8be2-4c23ac98e39c','260b21ca-4a3f-47ca-9907-413582379646','cc3ed9dc-e9d5-49b6-aa62-e7fb6d156c75','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','40d39595-e8c7-4464-8543-a7e98d1106fa.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:38:08.322 +00:00','2020-03-05 17:38:08.322 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_434796e80c2547e3935e2c91f2a33a8c$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (520d02e3-7228-437c-b439-fa029c92e707): COMMIT;
{ fileUUID: '2baa6bde-bf34-4a39-8be2-4c23ac98e39c',
  cnodeUserUUID: '260b21ca-4a3f-47ca-9907-413582379646',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: '40d39595-e8c7-4464-8543-a7e98d1106fa.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: 'cc3ed9dc-e9d5-49b6-aa62-e7fb6d156c75',
  updatedAt: 2020-03-05T17:38:08.322Z,
  createdAt: 2020-03-05T17:38:08.322Z }
writing to db2...
Executing (fbb67c8d-a869-4e12-bd1f-bbc509e2eef4): START TRANSACTION;
Executing (fbb67c8d-a869-4e12-bd1f-bbc509e2eef4): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '260b21ca-4a3f-47ca-9907-413582379646' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = '40d39595-e8c7-4464-8543-a7e98d1106fa.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = 'cc3ed9dc-e9d5-49b6-aa62-e7fb6d156c75' LIMIT 1;
Executing (fbb67c8d-a869-4e12-bd1f-bbc509e2eef4): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_026f8c65ebcd475fbf93d8c14f64df30$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('186245d0-5a1f-4ff1-8205-fb947070b604','260b21ca-4a3f-47ca-9907-413582379646','cc3ed9dc-e9d5-49b6-aa62-e7fb6d156c75','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','40d39595-e8c7-4464-8543-a7e98d1106fa.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:38:08.715 +00:00','2020-03-05 17:38:08.715 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_026f8c65ebcd475fbf93d8c14f64df30$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (fbb67c8d-a869-4e12-bd1f-bbc509e2eef4): COMMIT;
{ fileUUID: '186245d0-5a1f-4ff1-8205-fb947070b604',
  cnodeUserUUID: '260b21ca-4a3f-47ca-9907-413582379646',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: '40d39595-e8c7-4464-8543-a7e98d1106fa.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: 'cc3ed9dc-e9d5-49b6-aa62-e7fb6d156c75',
  updatedAt: 2020-03-05T17:38:08.715Z,
  createdAt: 2020-03-05T17:38:08.715Z }
writing to db3...
Executing (0616405e-e0c9-4990-8a6e-49f0a89884c3): START TRANSACTION;
Executing (0616405e-e0c9-4990-8a6e-49f0a89884c3): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '260b21ca-4a3f-47ca-9907-413582379646' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = '40d39595-e8c7-4464-8543-a7e98d1106fa.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = 'cc3ed9dc-e9d5-49b6-aa62-e7fb6d156c75' LIMIT 1;
Executing (0616405e-e0c9-4990-8a6e-49f0a89884c3): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_4a02a688ff014b18846c0c8346bf6146$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('195d108e-a145-4b51-88a4-3ebb70da782b','260b21ca-4a3f-47ca-9907-413582379646','cc3ed9dc-e9d5-49b6-aa62-e7fb6d156c75','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','40d39595-e8c7-4464-8543-a7e98d1106fa.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:38:09.118 +00:00','2020-03-05 17:38:09.118 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_4a02a688ff014b18846c0c8346bf6146$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (0616405e-e0c9-4990-8a6e-49f0a89884c3): COMMIT;
{ fileUUID: '195d108e-a145-4b51-88a4-3ebb70da782b',
  cnodeUserUUID: '260b21ca-4a3f-47ca-9907-413582379646',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: '40d39595-e8c7-4464-8543-a7e98d1106fa.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: 'cc3ed9dc-e9d5-49b6-aa62-e7fb6d156c75',
  updatedAt: 2020-03-05T17:38:09.118Z,
  createdAt: 2020-03-05T17:38:09.118Z }




PROCESSING ROW #84: sourcefile: cd796597-8354-4e3d-a5fb-ce031c2a656b.mp3, cnodeUserUUID: 57c56d2e-cbda-4756-83f0-4958d3a59de6, trackUUID: d95d6427-c38b-4404-9d7f-b1fb34057c68, multihash: QmWJXyRePdVyXPu5jrfSv62Ru8G44UeJk4Wdqur4NdMPQu, dstPath: /file_storage/QmWJXyRePdVyXPu5jrfSv62Ru8G44UeJk4Wdqur4NdMPQu
writing to db1...
Executing (50b740e1-a7d7-44b5-8d0d-b80299a987eb): START TRANSACTION;
Executing (50b740e1-a7d7-44b5-8d0d-b80299a987eb): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '57c56d2e-cbda-4756-83f0-4958d3a59de6' AND "File"."multihash" = 'QmWJXyRePdVyXPu5jrfSv62Ru8G44UeJk4Wdqur4NdMPQu' AND "File"."sourceFile" = 'cd796597-8354-4e3d-a5fb-ce031c2a656b.mp3' AND "File"."storagePath" = '/file_storage/QmWJXyRePdVyXPu5jrfSv62Ru8G44UeJk4Wdqur4NdMPQu' AND "File"."type" = 'copy320' AND "File"."trackUUID" = 'd95d6427-c38b-4404-9d7f-b1fb34057c68' LIMIT 1;
Executing (50b740e1-a7d7-44b5-8d0d-b80299a987eb): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_d9572f78aed14e59951489e09a70d704$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('69fb0029-814f-4e45-900b-eff787e16a78','57c56d2e-cbda-4756-83f0-4958d3a59de6','d95d6427-c38b-4404-9d7f-b1fb34057c68','QmWJXyRePdVyXPu5jrfSv62Ru8G44UeJk4Wdqur4NdMPQu','cd796597-8354-4e3d-a5fb-ce031c2a656b.mp3','/file_storage/QmWJXyRePdVyXPu5jrfSv62Ru8G44UeJk4Wdqur4NdMPQu','copy320','2020-03-05 17:38:09.532 +00:00','2020-03-05 17:38:09.532 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_d9572f78aed14e59951489e09a70d704$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (50b740e1-a7d7-44b5-8d0d-b80299a987eb): COMMIT;
{ fileUUID: '69fb0029-814f-4e45-900b-eff787e16a78',
  cnodeUserUUID: '57c56d2e-cbda-4756-83f0-4958d3a59de6',
  multihash: 'QmWJXyRePdVyXPu5jrfSv62Ru8G44UeJk4Wdqur4NdMPQu',
  sourceFile: 'cd796597-8354-4e3d-a5fb-ce031c2a656b.mp3',
  storagePath:
   '/file_storage/QmWJXyRePdVyXPu5jrfSv62Ru8G44UeJk4Wdqur4NdMPQu',
  type: 'copy320',
  trackUUID: 'd95d6427-c38b-4404-9d7f-b1fb34057c68',
  updatedAt: 2020-03-05T17:38:09.532Z,
  createdAt: 2020-03-05T17:38:09.532Z }
writing to db2...
Executing (3e3d4fba-96af-472a-8a02-f3da03986de5): START TRANSACTION;
Executing (3e3d4fba-96af-472a-8a02-f3da03986de5): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '57c56d2e-cbda-4756-83f0-4958d3a59de6' AND "File"."multihash" = 'QmWJXyRePdVyXPu5jrfSv62Ru8G44UeJk4Wdqur4NdMPQu' AND "File"."sourceFile" = 'cd796597-8354-4e3d-a5fb-ce031c2a656b.mp3' AND "File"."storagePath" = '/file_storage/QmWJXyRePdVyXPu5jrfSv62Ru8G44UeJk4Wdqur4NdMPQu' AND "File"."type" = 'copy320' AND "File"."trackUUID" = 'd95d6427-c38b-4404-9d7f-b1fb34057c68' LIMIT 1;
Executing (3e3d4fba-96af-472a-8a02-f3da03986de5): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_4aefaf4d227b41cb8558b32405a24e04$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('7723ad71-c2e3-43ef-a130-cd4fcfdf203f','57c56d2e-cbda-4756-83f0-4958d3a59de6','d95d6427-c38b-4404-9d7f-b1fb34057c68','QmWJXyRePdVyXPu5jrfSv62Ru8G44UeJk4Wdqur4NdMPQu','cd796597-8354-4e3d-a5fb-ce031c2a656b.mp3','/file_storage/QmWJXyRePdVyXPu5jrfSv62Ru8G44UeJk4Wdqur4NdMPQu','copy320','2020-03-05 17:38:09.938 +00:00','2020-03-05 17:38:09.938 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_4aefaf4d227b41cb8558b32405a24e04$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (3e3d4fba-96af-472a-8a02-f3da03986de5): COMMIT;
{ fileUUID: '7723ad71-c2e3-43ef-a130-cd4fcfdf203f',
  cnodeUserUUID: '57c56d2e-cbda-4756-83f0-4958d3a59de6',
  multihash: 'QmWJXyRePdVyXPu5jrfSv62Ru8G44UeJk4Wdqur4NdMPQu',
  sourceFile: 'cd796597-8354-4e3d-a5fb-ce031c2a656b.mp3',
  storagePath:
   '/file_storage/QmWJXyRePdVyXPu5jrfSv62Ru8G44UeJk4Wdqur4NdMPQu',
  type: 'copy320',
  trackUUID: 'd95d6427-c38b-4404-9d7f-b1fb34057c68',
  updatedAt: 2020-03-05T17:38:09.938Z,
  createdAt: 2020-03-05T17:38:09.938Z }
writing to db3...
Executing (c3738fc7-2bfd-440c-82e4-f5e1ae94c80f): START TRANSACTION;
Executing (c3738fc7-2bfd-440c-82e4-f5e1ae94c80f): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '57c56d2e-cbda-4756-83f0-4958d3a59de6' AND "File"."multihash" = 'QmWJXyRePdVyXPu5jrfSv62Ru8G44UeJk4Wdqur4NdMPQu' AND "File"."sourceFile" = 'cd796597-8354-4e3d-a5fb-ce031c2a656b.mp3' AND "File"."storagePath" = '/file_storage/QmWJXyRePdVyXPu5jrfSv62Ru8G44UeJk4Wdqur4NdMPQu' AND "File"."type" = 'copy320' AND "File"."trackUUID" = 'd95d6427-c38b-4404-9d7f-b1fb34057c68' LIMIT 1;
Executing (c3738fc7-2bfd-440c-82e4-f5e1ae94c80f): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_57710b79458049a295325318a54883e1$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('0abebcab-2d2b-4d97-adec-e41d73643b3a','57c56d2e-cbda-4756-83f0-4958d3a59de6','d95d6427-c38b-4404-9d7f-b1fb34057c68','QmWJXyRePdVyXPu5jrfSv62Ru8G44UeJk4Wdqur4NdMPQu','cd796597-8354-4e3d-a5fb-ce031c2a656b.mp3','/file_storage/QmWJXyRePdVyXPu5jrfSv62Ru8G44UeJk4Wdqur4NdMPQu','copy320','2020-03-05 17:38:10.340 +00:00','2020-03-05 17:38:10.340 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_57710b79458049a295325318a54883e1$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (c3738fc7-2bfd-440c-82e4-f5e1ae94c80f): COMMIT;
{ fileUUID: '0abebcab-2d2b-4d97-adec-e41d73643b3a',
  cnodeUserUUID: '57c56d2e-cbda-4756-83f0-4958d3a59de6',
  multihash: 'QmWJXyRePdVyXPu5jrfSv62Ru8G44UeJk4Wdqur4NdMPQu',
  sourceFile: 'cd796597-8354-4e3d-a5fb-ce031c2a656b.mp3',
  storagePath:
   '/file_storage/QmWJXyRePdVyXPu5jrfSv62Ru8G44UeJk4Wdqur4NdMPQu',
  type: 'copy320',
  trackUUID: 'd95d6427-c38b-4404-9d7f-b1fb34057c68',
  updatedAt: 2020-03-05T17:38:10.340Z,
  createdAt: 2020-03-05T17:38:10.340Z }




PROCESSING ROW #85: sourcefile: 6d721cb7-3187-401f-9296-a9d1ed158c3e.mp3, cnodeUserUUID: 57c56d2e-cbda-4756-83f0-4958d3a59de6, trackUUID: 7c119df5-973f-46e6-9bf3-7c736b4e4f25, multihash: Qmd6KtE2U1UVUhsfhXw2FtLNdsJafqfizzDGsKRLSYxXF7, dstPath: /file_storage/Qmd6KtE2U1UVUhsfhXw2FtLNdsJafqfizzDGsKRLSYxXF7
writing to db1...
Executing (3f1f9090-4cee-4e41-a778-ea81a9a1dc9a): START TRANSACTION;
Executing (3f1f9090-4cee-4e41-a778-ea81a9a1dc9a): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '57c56d2e-cbda-4756-83f0-4958d3a59de6' AND "File"."multihash" = 'Qmd6KtE2U1UVUhsfhXw2FtLNdsJafqfizzDGsKRLSYxXF7' AND "File"."sourceFile" = '6d721cb7-3187-401f-9296-a9d1ed158c3e.mp3' AND "File"."storagePath" = '/file_storage/Qmd6KtE2U1UVUhsfhXw2FtLNdsJafqfizzDGsKRLSYxXF7' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '7c119df5-973f-46e6-9bf3-7c736b4e4f25' LIMIT 1;
Executing (3f1f9090-4cee-4e41-a778-ea81a9a1dc9a): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_ed6ffb6fcf0b420a8a51d96857349355$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('6c5cda31-4bb9-4058-a6b8-ba789af60d0a','57c56d2e-cbda-4756-83f0-4958d3a59de6','7c119df5-973f-46e6-9bf3-7c736b4e4f25','Qmd6KtE2U1UVUhsfhXw2FtLNdsJafqfizzDGsKRLSYxXF7','6d721cb7-3187-401f-9296-a9d1ed158c3e.mp3','/file_storage/Qmd6KtE2U1UVUhsfhXw2FtLNdsJafqfizzDGsKRLSYxXF7','copy320','2020-03-05 17:38:10.740 +00:00','2020-03-05 17:38:10.740 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_ed6ffb6fcf0b420a8a51d96857349355$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (3f1f9090-4cee-4e41-a778-ea81a9a1dc9a): COMMIT;
{ fileUUID: '6c5cda31-4bb9-4058-a6b8-ba789af60d0a',
  cnodeUserUUID: '57c56d2e-cbda-4756-83f0-4958d3a59de6',
  multihash: 'Qmd6KtE2U1UVUhsfhXw2FtLNdsJafqfizzDGsKRLSYxXF7',
  sourceFile: '6d721cb7-3187-401f-9296-a9d1ed158c3e.mp3',
  storagePath:
   '/file_storage/Qmd6KtE2U1UVUhsfhXw2FtLNdsJafqfizzDGsKRLSYxXF7',
  type: 'copy320',
  trackUUID: '7c119df5-973f-46e6-9bf3-7c736b4e4f25',
  updatedAt: 2020-03-05T17:38:10.740Z,
  createdAt: 2020-03-05T17:38:10.740Z }
writing to db2...
Executing (48b2668c-38fc-4ba0-bd8a-bf293e0b0076): START TRANSACTION;
Executing (48b2668c-38fc-4ba0-bd8a-bf293e0b0076): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '57c56d2e-cbda-4756-83f0-4958d3a59de6' AND "File"."multihash" = 'Qmd6KtE2U1UVUhsfhXw2FtLNdsJafqfizzDGsKRLSYxXF7' AND "File"."sourceFile" = '6d721cb7-3187-401f-9296-a9d1ed158c3e.mp3' AND "File"."storagePath" = '/file_storage/Qmd6KtE2U1UVUhsfhXw2FtLNdsJafqfizzDGsKRLSYxXF7' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '7c119df5-973f-46e6-9bf3-7c736b4e4f25' LIMIT 1;
Executing (48b2668c-38fc-4ba0-bd8a-bf293e0b0076): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_356be6696dfd47908221b0ee3c9bb327$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('7639944b-348f-4cf6-9846-b71fc4f4a6fe','57c56d2e-cbda-4756-83f0-4958d3a59de6','7c119df5-973f-46e6-9bf3-7c736b4e4f25','Qmd6KtE2U1UVUhsfhXw2FtLNdsJafqfizzDGsKRLSYxXF7','6d721cb7-3187-401f-9296-a9d1ed158c3e.mp3','/file_storage/Qmd6KtE2U1UVUhsfhXw2FtLNdsJafqfizzDGsKRLSYxXF7','copy320','2020-03-05 17:38:11.120 +00:00','2020-03-05 17:38:11.120 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_356be6696dfd47908221b0ee3c9bb327$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (48b2668c-38fc-4ba0-bd8a-bf293e0b0076): COMMIT;
{ fileUUID: '7639944b-348f-4cf6-9846-b71fc4f4a6fe',
  cnodeUserUUID: '57c56d2e-cbda-4756-83f0-4958d3a59de6',
  multihash: 'Qmd6KtE2U1UVUhsfhXw2FtLNdsJafqfizzDGsKRLSYxXF7',
  sourceFile: '6d721cb7-3187-401f-9296-a9d1ed158c3e.mp3',
  storagePath:
   '/file_storage/Qmd6KtE2U1UVUhsfhXw2FtLNdsJafqfizzDGsKRLSYxXF7',
  type: 'copy320',
  trackUUID: '7c119df5-973f-46e6-9bf3-7c736b4e4f25',
  updatedAt: 2020-03-05T17:38:11.120Z,
  createdAt: 2020-03-05T17:38:11.120Z }
writing to db3...
Executing (0eb00e4d-4640-4c89-b358-730cb36055dc): START TRANSACTION;
Executing (0eb00e4d-4640-4c89-b358-730cb36055dc): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '57c56d2e-cbda-4756-83f0-4958d3a59de6' AND "File"."multihash" = 'Qmd6KtE2U1UVUhsfhXw2FtLNdsJafqfizzDGsKRLSYxXF7' AND "File"."sourceFile" = '6d721cb7-3187-401f-9296-a9d1ed158c3e.mp3' AND "File"."storagePath" = '/file_storage/Qmd6KtE2U1UVUhsfhXw2FtLNdsJafqfizzDGsKRLSYxXF7' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '7c119df5-973f-46e6-9bf3-7c736b4e4f25' LIMIT 1;
Executing (0eb00e4d-4640-4c89-b358-730cb36055dc): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_465bd06a0ac741ca93bb7705f7580393$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('7677f00b-ab75-4084-ba39-edee80ba59c3','57c56d2e-cbda-4756-83f0-4958d3a59de6','7c119df5-973f-46e6-9bf3-7c736b4e4f25','Qmd6KtE2U1UVUhsfhXw2FtLNdsJafqfizzDGsKRLSYxXF7','6d721cb7-3187-401f-9296-a9d1ed158c3e.mp3','/file_storage/Qmd6KtE2U1UVUhsfhXw2FtLNdsJafqfizzDGsKRLSYxXF7','copy320','2020-03-05 17:38:11.499 +00:00','2020-03-05 17:38:11.499 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_465bd06a0ac741ca93bb7705f7580393$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (0eb00e4d-4640-4c89-b358-730cb36055dc): COMMIT;
{ fileUUID: '7677f00b-ab75-4084-ba39-edee80ba59c3',
  cnodeUserUUID: '57c56d2e-cbda-4756-83f0-4958d3a59de6',
  multihash: 'Qmd6KtE2U1UVUhsfhXw2FtLNdsJafqfizzDGsKRLSYxXF7',
  sourceFile: '6d721cb7-3187-401f-9296-a9d1ed158c3e.mp3',
  storagePath:
   '/file_storage/Qmd6KtE2U1UVUhsfhXw2FtLNdsJafqfizzDGsKRLSYxXF7',
  type: 'copy320',
  trackUUID: '7c119df5-973f-46e6-9bf3-7c736b4e4f25',
  updatedAt: 2020-03-05T17:38:11.499Z,
  createdAt: 2020-03-05T17:38:11.499Z }




PROCESSING ROW #86: sourcefile: 26bb3a3b-1c9d-45a7-9600-e684e5c74d4c.mp3, cnodeUserUUID: ba3373e0-e559-41b8-a43b-38a329d23020, trackUUID: 7d528e66-a319-4c45-b9c5-68c784b0006d, multihash: QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM, dstPath: /file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM
writing to db1...
Executing (4c8e459a-e892-4acd-b527-4cba37244a91): START TRANSACTION;
Executing (4c8e459a-e892-4acd-b527-4cba37244a91): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = 'ba3373e0-e559-41b8-a43b-38a329d23020' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = '26bb3a3b-1c9d-45a7-9600-e684e5c74d4c.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '7d528e66-a319-4c45-b9c5-68c784b0006d' LIMIT 1;
Executing (4c8e459a-e892-4acd-b527-4cba37244a91): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_9652ab5f25504abfa9709d104f6ec991$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('b82fe792-c60c-4db3-8d7d-784da539c8fa','ba3373e0-e559-41b8-a43b-38a329d23020','7d528e66-a319-4c45-b9c5-68c784b0006d','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','26bb3a3b-1c9d-45a7-9600-e684e5c74d4c.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:38:11.875 +00:00','2020-03-05 17:38:11.875 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_9652ab5f25504abfa9709d104f6ec991$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (4c8e459a-e892-4acd-b527-4cba37244a91): COMMIT;
{ fileUUID: 'b82fe792-c60c-4db3-8d7d-784da539c8fa',
  cnodeUserUUID: 'ba3373e0-e559-41b8-a43b-38a329d23020',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: '26bb3a3b-1c9d-45a7-9600-e684e5c74d4c.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: '7d528e66-a319-4c45-b9c5-68c784b0006d',
  updatedAt: 2020-03-05T17:38:11.875Z,
  createdAt: 2020-03-05T17:38:11.875Z }
writing to db2...
Executing (01c2d8b4-3895-4753-9ba6-3154f22799f1): START TRANSACTION;
Executing (01c2d8b4-3895-4753-9ba6-3154f22799f1): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = 'ba3373e0-e559-41b8-a43b-38a329d23020' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = '26bb3a3b-1c9d-45a7-9600-e684e5c74d4c.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '7d528e66-a319-4c45-b9c5-68c784b0006d' LIMIT 1;
Executing (01c2d8b4-3895-4753-9ba6-3154f22799f1): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_06c34a592fa14711832808034ddfad08$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('5ecf2b8f-7f1a-4aeb-85bc-a2b96f8f6271','ba3373e0-e559-41b8-a43b-38a329d23020','7d528e66-a319-4c45-b9c5-68c784b0006d','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','26bb3a3b-1c9d-45a7-9600-e684e5c74d4c.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:38:12.276 +00:00','2020-03-05 17:38:12.276 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_06c34a592fa14711832808034ddfad08$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (01c2d8b4-3895-4753-9ba6-3154f22799f1): COMMIT;
{ fileUUID: '5ecf2b8f-7f1a-4aeb-85bc-a2b96f8f6271',
  cnodeUserUUID: 'ba3373e0-e559-41b8-a43b-38a329d23020',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: '26bb3a3b-1c9d-45a7-9600-e684e5c74d4c.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: '7d528e66-a319-4c45-b9c5-68c784b0006d',
  updatedAt: 2020-03-05T17:38:12.276Z,
  createdAt: 2020-03-05T17:38:12.276Z }
writing to db3...
Executing (c3c730e2-5b28-4c6d-b7ca-b51c3d047ff5): START TRANSACTION;
Executing (c3c730e2-5b28-4c6d-b7ca-b51c3d047ff5): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = 'ba3373e0-e559-41b8-a43b-38a329d23020' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = '26bb3a3b-1c9d-45a7-9600-e684e5c74d4c.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '7d528e66-a319-4c45-b9c5-68c784b0006d' LIMIT 1;
Executing (c3c730e2-5b28-4c6d-b7ca-b51c3d047ff5): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_faff8ea13b5e4962a44426cc3b237df8$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('e1b39f7a-c4dc-41bf-a69b-dc1e2f54d915','ba3373e0-e559-41b8-a43b-38a329d23020','7d528e66-a319-4c45-b9c5-68c784b0006d','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','26bb3a3b-1c9d-45a7-9600-e684e5c74d4c.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:38:12.677 +00:00','2020-03-05 17:38:12.677 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_faff8ea13b5e4962a44426cc3b237df8$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (c3c730e2-5b28-4c6d-b7ca-b51c3d047ff5): COMMIT;
{ fileUUID: 'e1b39f7a-c4dc-41bf-a69b-dc1e2f54d915',
  cnodeUserUUID: 'ba3373e0-e559-41b8-a43b-38a329d23020',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: '26bb3a3b-1c9d-45a7-9600-e684e5c74d4c.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: '7d528e66-a319-4c45-b9c5-68c784b0006d',
  updatedAt: 2020-03-05T17:38:12.677Z,
  createdAt: 2020-03-05T17:38:12.677Z }




PROCESSING ROW #87: sourcefile: 74e824e4-0025-461d-bd01-4004d3b5cc56.mp3, cnodeUserUUID: 11c34897-1946-4dfc-b59c-f646a1fc69fe, trackUUID: 8e97c647-3d18-45ed-90df-9d53fbbcc1bc, multihash: QmeB51sfp49gym8kfASkZPZaUYZoLoPt76LaXcLona28iQ, dstPath: /file_storage/QmeB51sfp49gym8kfASkZPZaUYZoLoPt76LaXcLona28iQ
writing to db1...
Executing (7d6de834-1987-486d-8769-d775f48d68a7): START TRANSACTION;
Executing (7d6de834-1987-486d-8769-d775f48d68a7): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '11c34897-1946-4dfc-b59c-f646a1fc69fe' AND "File"."multihash" = 'QmeB51sfp49gym8kfASkZPZaUYZoLoPt76LaXcLona28iQ' AND "File"."sourceFile" = '74e824e4-0025-461d-bd01-4004d3b5cc56.mp3' AND "File"."storagePath" = '/file_storage/QmeB51sfp49gym8kfASkZPZaUYZoLoPt76LaXcLona28iQ' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '8e97c647-3d18-45ed-90df-9d53fbbcc1bc' LIMIT 1;
Executing (7d6de834-1987-486d-8769-d775f48d68a7): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_e7d07f0f3b4742b0a8b5a2d1da9e1825$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('90d08883-e681-41df-b12d-5d2daac4c199','11c34897-1946-4dfc-b59c-f646a1fc69fe','8e97c647-3d18-45ed-90df-9d53fbbcc1bc','QmeB51sfp49gym8kfASkZPZaUYZoLoPt76LaXcLona28iQ','74e824e4-0025-461d-bd01-4004d3b5cc56.mp3','/file_storage/QmeB51sfp49gym8kfASkZPZaUYZoLoPt76LaXcLona28iQ','copy320','2020-03-05 17:38:13.093 +00:00','2020-03-05 17:38:13.093 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_e7d07f0f3b4742b0a8b5a2d1da9e1825$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (7d6de834-1987-486d-8769-d775f48d68a7): COMMIT;
{ fileUUID: '90d08883-e681-41df-b12d-5d2daac4c199',
  cnodeUserUUID: '11c34897-1946-4dfc-b59c-f646a1fc69fe',
  multihash: 'QmeB51sfp49gym8kfASkZPZaUYZoLoPt76LaXcLona28iQ',
  sourceFile: '74e824e4-0025-461d-bd01-4004d3b5cc56.mp3',
  storagePath:
   '/file_storage/QmeB51sfp49gym8kfASkZPZaUYZoLoPt76LaXcLona28iQ',
  type: 'copy320',
  trackUUID: '8e97c647-3d18-45ed-90df-9d53fbbcc1bc',
  updatedAt: 2020-03-05T17:38:13.093Z,
  createdAt: 2020-03-05T17:38:13.093Z }
writing to db2...
Executing (b5e6f497-568b-499a-af34-b3d1f4f32530): START TRANSACTION;
Executing (b5e6f497-568b-499a-af34-b3d1f4f32530): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '11c34897-1946-4dfc-b59c-f646a1fc69fe' AND "File"."multihash" = 'QmeB51sfp49gym8kfASkZPZaUYZoLoPt76LaXcLona28iQ' AND "File"."sourceFile" = '74e824e4-0025-461d-bd01-4004d3b5cc56.mp3' AND "File"."storagePath" = '/file_storage/QmeB51sfp49gym8kfASkZPZaUYZoLoPt76LaXcLona28iQ' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '8e97c647-3d18-45ed-90df-9d53fbbcc1bc' LIMIT 1;
Executing (b5e6f497-568b-499a-af34-b3d1f4f32530): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_61591778ee3f4eb2aebe56dce9ef81c3$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('6000c51c-3eb3-4e15-b815-ea246a0823d0','11c34897-1946-4dfc-b59c-f646a1fc69fe','8e97c647-3d18-45ed-90df-9d53fbbcc1bc','QmeB51sfp49gym8kfASkZPZaUYZoLoPt76LaXcLona28iQ','74e824e4-0025-461d-bd01-4004d3b5cc56.mp3','/file_storage/QmeB51sfp49gym8kfASkZPZaUYZoLoPt76LaXcLona28iQ','copy320','2020-03-05 17:38:13.484 +00:00','2020-03-05 17:38:13.484 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_61591778ee3f4eb2aebe56dce9ef81c3$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (b5e6f497-568b-499a-af34-b3d1f4f32530): COMMIT;
{ fileUUID: '6000c51c-3eb3-4e15-b815-ea246a0823d0',
  cnodeUserUUID: '11c34897-1946-4dfc-b59c-f646a1fc69fe',
  multihash: 'QmeB51sfp49gym8kfASkZPZaUYZoLoPt76LaXcLona28iQ',
  sourceFile: '74e824e4-0025-461d-bd01-4004d3b5cc56.mp3',
  storagePath:
   '/file_storage/QmeB51sfp49gym8kfASkZPZaUYZoLoPt76LaXcLona28iQ',
  type: 'copy320',
  trackUUID: '8e97c647-3d18-45ed-90df-9d53fbbcc1bc',
  updatedAt: 2020-03-05T17:38:13.484Z,
  createdAt: 2020-03-05T17:38:13.484Z }
writing to db3...
Executing (e6b7fd58-7240-4ec6-90c9-0a26e1f2c75d): START TRANSACTION;
Executing (e6b7fd58-7240-4ec6-90c9-0a26e1f2c75d): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '11c34897-1946-4dfc-b59c-f646a1fc69fe' AND "File"."multihash" = 'QmeB51sfp49gym8kfASkZPZaUYZoLoPt76LaXcLona28iQ' AND "File"."sourceFile" = '74e824e4-0025-461d-bd01-4004d3b5cc56.mp3' AND "File"."storagePath" = '/file_storage/QmeB51sfp49gym8kfASkZPZaUYZoLoPt76LaXcLona28iQ' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '8e97c647-3d18-45ed-90df-9d53fbbcc1bc' LIMIT 1;
Executing (e6b7fd58-7240-4ec6-90c9-0a26e1f2c75d): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_54a56606ae234e98b7599730cfb3e69e$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('dd41c64c-b208-46e4-a778-0e1246867556','11c34897-1946-4dfc-b59c-f646a1fc69fe','8e97c647-3d18-45ed-90df-9d53fbbcc1bc','QmeB51sfp49gym8kfASkZPZaUYZoLoPt76LaXcLona28iQ','74e824e4-0025-461d-bd01-4004d3b5cc56.mp3','/file_storage/QmeB51sfp49gym8kfASkZPZaUYZoLoPt76LaXcLona28iQ','copy320','2020-03-05 17:38:13.877 +00:00','2020-03-05 17:38:13.877 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_54a56606ae234e98b7599730cfb3e69e$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (e6b7fd58-7240-4ec6-90c9-0a26e1f2c75d): COMMIT;
{ fileUUID: 'dd41c64c-b208-46e4-a778-0e1246867556',
  cnodeUserUUID: '11c34897-1946-4dfc-b59c-f646a1fc69fe',
  multihash: 'QmeB51sfp49gym8kfASkZPZaUYZoLoPt76LaXcLona28iQ',
  sourceFile: '74e824e4-0025-461d-bd01-4004d3b5cc56.mp3',
  storagePath:
   '/file_storage/QmeB51sfp49gym8kfASkZPZaUYZoLoPt76LaXcLona28iQ',
  type: 'copy320',
  trackUUID: '8e97c647-3d18-45ed-90df-9d53fbbcc1bc',
  updatedAt: 2020-03-05T17:38:13.877Z,
  createdAt: 2020-03-05T17:38:13.877Z }




PROCESSING ROW #88: sourcefile: 3b1a0b09-da5d-4d30-8118-69cff04a8ce0.mp3, cnodeUserUUID: 2e220dee-3679-45a0-b424-df45d80e5825, trackUUID: e4399bd4-2fdb-4026-821b-9fbd60f9a5e7, multihash: QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM, dstPath: /file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM
writing to db1...
Executing (0d5803a5-543c-48df-a118-fc9a9597e9dd): START TRANSACTION;
Executing (0d5803a5-543c-48df-a118-fc9a9597e9dd): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '2e220dee-3679-45a0-b424-df45d80e5825' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = '3b1a0b09-da5d-4d30-8118-69cff04a8ce0.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = 'e4399bd4-2fdb-4026-821b-9fbd60f9a5e7' LIMIT 1;
Executing (0d5803a5-543c-48df-a118-fc9a9597e9dd): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_e252fa8becff49c4a4ec5f77c7edf554$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('48f2f43c-1a26-482c-a1e6-870846d3913b','2e220dee-3679-45a0-b424-df45d80e5825','e4399bd4-2fdb-4026-821b-9fbd60f9a5e7','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','3b1a0b09-da5d-4d30-8118-69cff04a8ce0.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:38:14.282 +00:00','2020-03-05 17:38:14.282 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_e252fa8becff49c4a4ec5f77c7edf554$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (0d5803a5-543c-48df-a118-fc9a9597e9dd): COMMIT;
{ fileUUID: '48f2f43c-1a26-482c-a1e6-870846d3913b',
  cnodeUserUUID: '2e220dee-3679-45a0-b424-df45d80e5825',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: '3b1a0b09-da5d-4d30-8118-69cff04a8ce0.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: 'e4399bd4-2fdb-4026-821b-9fbd60f9a5e7',
  updatedAt: 2020-03-05T17:38:14.282Z,
  createdAt: 2020-03-05T17:38:14.282Z }
writing to db2...
Executing (592a6acb-9d2e-444c-8445-a1a733ccf200): START TRANSACTION;
Executing (592a6acb-9d2e-444c-8445-a1a733ccf200): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '2e220dee-3679-45a0-b424-df45d80e5825' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = '3b1a0b09-da5d-4d30-8118-69cff04a8ce0.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = 'e4399bd4-2fdb-4026-821b-9fbd60f9a5e7' LIMIT 1;
Executing (592a6acb-9d2e-444c-8445-a1a733ccf200): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_0674a68ca54e4940a928e3677a33254e$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('6697c170-e7db-44f7-b97d-6e2f0f6fa770','2e220dee-3679-45a0-b424-df45d80e5825','e4399bd4-2fdb-4026-821b-9fbd60f9a5e7','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','3b1a0b09-da5d-4d30-8118-69cff04a8ce0.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:38:14.702 +00:00','2020-03-05 17:38:14.702 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_0674a68ca54e4940a928e3677a33254e$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (592a6acb-9d2e-444c-8445-a1a733ccf200): COMMIT;
{ fileUUID: '6697c170-e7db-44f7-b97d-6e2f0f6fa770',
  cnodeUserUUID: '2e220dee-3679-45a0-b424-df45d80e5825',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: '3b1a0b09-da5d-4d30-8118-69cff04a8ce0.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: 'e4399bd4-2fdb-4026-821b-9fbd60f9a5e7',
  updatedAt: 2020-03-05T17:38:14.702Z,
  createdAt: 2020-03-05T17:38:14.702Z }
writing to db3...
Executing (58b32195-183c-4812-915d-d001c24d0f15): START TRANSACTION;
Executing (58b32195-183c-4812-915d-d001c24d0f15): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '2e220dee-3679-45a0-b424-df45d80e5825' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = '3b1a0b09-da5d-4d30-8118-69cff04a8ce0.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = 'e4399bd4-2fdb-4026-821b-9fbd60f9a5e7' LIMIT 1;
Executing (58b32195-183c-4812-915d-d001c24d0f15): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_117558f1e87a477ea148528474e32112$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('a9f56af1-8539-471a-9682-d2cfdbde3787','2e220dee-3679-45a0-b424-df45d80e5825','e4399bd4-2fdb-4026-821b-9fbd60f9a5e7','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','3b1a0b09-da5d-4d30-8118-69cff04a8ce0.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:38:15.097 +00:00','2020-03-05 17:38:15.097 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_117558f1e87a477ea148528474e32112$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (58b32195-183c-4812-915d-d001c24d0f15): COMMIT;
{ fileUUID: 'a9f56af1-8539-471a-9682-d2cfdbde3787',
  cnodeUserUUID: '2e220dee-3679-45a0-b424-df45d80e5825',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: '3b1a0b09-da5d-4d30-8118-69cff04a8ce0.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: 'e4399bd4-2fdb-4026-821b-9fbd60f9a5e7',
  updatedAt: 2020-03-05T17:38:15.097Z,
  createdAt: 2020-03-05T17:38:15.097Z }




PROCESSING ROW #89: sourcefile: f1b8b1c6-45e0-4a0e-acc8-257e29d1c3e8.mp3, cnodeUserUUID: 11c34897-1946-4dfc-b59c-f646a1fc69fe, trackUUID: 44864158-f558-4b0e-bad4-ece2fe81835b, multihash: QmTUFuYBNWRkLf5MDiXjzNSgrMXcHRt2eoZm1ewcf2Hkd7, dstPath: /file_storage/QmTUFuYBNWRkLf5MDiXjzNSgrMXcHRt2eoZm1ewcf2Hkd7
writing to db1...
Executing (8f608380-216b-4857-9cb0-ad70ecc28491): START TRANSACTION;
Executing (8f608380-216b-4857-9cb0-ad70ecc28491): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '11c34897-1946-4dfc-b59c-f646a1fc69fe' AND "File"."multihash" = 'QmTUFuYBNWRkLf5MDiXjzNSgrMXcHRt2eoZm1ewcf2Hkd7' AND "File"."sourceFile" = 'f1b8b1c6-45e0-4a0e-acc8-257e29d1c3e8.mp3' AND "File"."storagePath" = '/file_storage/QmTUFuYBNWRkLf5MDiXjzNSgrMXcHRt2eoZm1ewcf2Hkd7' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '44864158-f558-4b0e-bad4-ece2fe81835b' LIMIT 1;
Executing (8f608380-216b-4857-9cb0-ad70ecc28491): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_d767a94b5fbf4d59911c12d3fd222e48$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('9edf34f1-959e-43a0-8b07-dd66292918a3','11c34897-1946-4dfc-b59c-f646a1fc69fe','44864158-f558-4b0e-bad4-ece2fe81835b','QmTUFuYBNWRkLf5MDiXjzNSgrMXcHRt2eoZm1ewcf2Hkd7','f1b8b1c6-45e0-4a0e-acc8-257e29d1c3e8.mp3','/file_storage/QmTUFuYBNWRkLf5MDiXjzNSgrMXcHRt2eoZm1ewcf2Hkd7','copy320','2020-03-05 17:38:15.468 +00:00','2020-03-05 17:38:15.468 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_d767a94b5fbf4d59911c12d3fd222e48$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (8f608380-216b-4857-9cb0-ad70ecc28491): COMMIT;
{ fileUUID: '9edf34f1-959e-43a0-8b07-dd66292918a3',
  cnodeUserUUID: '11c34897-1946-4dfc-b59c-f646a1fc69fe',
  multihash: 'QmTUFuYBNWRkLf5MDiXjzNSgrMXcHRt2eoZm1ewcf2Hkd7',
  sourceFile: 'f1b8b1c6-45e0-4a0e-acc8-257e29d1c3e8.mp3',
  storagePath:
   '/file_storage/QmTUFuYBNWRkLf5MDiXjzNSgrMXcHRt2eoZm1ewcf2Hkd7',
  type: 'copy320',
  trackUUID: '44864158-f558-4b0e-bad4-ece2fe81835b',
  updatedAt: 2020-03-05T17:38:15.468Z,
  createdAt: 2020-03-05T17:38:15.468Z }
writing to db2...
Executing (43b7a9b4-84c8-424b-a353-df94580147cf): START TRANSACTION;
Executing (43b7a9b4-84c8-424b-a353-df94580147cf): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '11c34897-1946-4dfc-b59c-f646a1fc69fe' AND "File"."multihash" = 'QmTUFuYBNWRkLf5MDiXjzNSgrMXcHRt2eoZm1ewcf2Hkd7' AND "File"."sourceFile" = 'f1b8b1c6-45e0-4a0e-acc8-257e29d1c3e8.mp3' AND "File"."storagePath" = '/file_storage/QmTUFuYBNWRkLf5MDiXjzNSgrMXcHRt2eoZm1ewcf2Hkd7' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '44864158-f558-4b0e-bad4-ece2fe81835b' LIMIT 1;
Executing (43b7a9b4-84c8-424b-a353-df94580147cf): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_9ca45d0c7540458cb0d43115d7e04ea2$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('78a9be2d-336a-4be6-9b58-781c1f8f6e3a','11c34897-1946-4dfc-b59c-f646a1fc69fe','44864158-f558-4b0e-bad4-ece2fe81835b','QmTUFuYBNWRkLf5MDiXjzNSgrMXcHRt2eoZm1ewcf2Hkd7','f1b8b1c6-45e0-4a0e-acc8-257e29d1c3e8.mp3','/file_storage/QmTUFuYBNWRkLf5MDiXjzNSgrMXcHRt2eoZm1ewcf2Hkd7','copy320','2020-03-05 17:38:15.846 +00:00','2020-03-05 17:38:15.846 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_9ca45d0c7540458cb0d43115d7e04ea2$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (43b7a9b4-84c8-424b-a353-df94580147cf): COMMIT;
{ fileUUID: '78a9be2d-336a-4be6-9b58-781c1f8f6e3a',
  cnodeUserUUID: '11c34897-1946-4dfc-b59c-f646a1fc69fe',
  multihash: 'QmTUFuYBNWRkLf5MDiXjzNSgrMXcHRt2eoZm1ewcf2Hkd7',
  sourceFile: 'f1b8b1c6-45e0-4a0e-acc8-257e29d1c3e8.mp3',
  storagePath:
   '/file_storage/QmTUFuYBNWRkLf5MDiXjzNSgrMXcHRt2eoZm1ewcf2Hkd7',
  type: 'copy320',
  trackUUID: '44864158-f558-4b0e-bad4-ece2fe81835b',
  updatedAt: 2020-03-05T17:38:15.846Z,
  createdAt: 2020-03-05T17:38:15.846Z }
writing to db3...
Executing (9e7b960c-be7b-4626-a658-b9169ef4bf01): START TRANSACTION;
Executing (9e7b960c-be7b-4626-a658-b9169ef4bf01): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '11c34897-1946-4dfc-b59c-f646a1fc69fe' AND "File"."multihash" = 'QmTUFuYBNWRkLf5MDiXjzNSgrMXcHRt2eoZm1ewcf2Hkd7' AND "File"."sourceFile" = 'f1b8b1c6-45e0-4a0e-acc8-257e29d1c3e8.mp3' AND "File"."storagePath" = '/file_storage/QmTUFuYBNWRkLf5MDiXjzNSgrMXcHRt2eoZm1ewcf2Hkd7' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '44864158-f558-4b0e-bad4-ece2fe81835b' LIMIT 1;
Executing (9e7b960c-be7b-4626-a658-b9169ef4bf01): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_42a7fe037ee64188807ad8cec77cd51b$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('3a0f51e7-2e62-4ea7-9625-539dd100578d','11c34897-1946-4dfc-b59c-f646a1fc69fe','44864158-f558-4b0e-bad4-ece2fe81835b','QmTUFuYBNWRkLf5MDiXjzNSgrMXcHRt2eoZm1ewcf2Hkd7','f1b8b1c6-45e0-4a0e-acc8-257e29d1c3e8.mp3','/file_storage/QmTUFuYBNWRkLf5MDiXjzNSgrMXcHRt2eoZm1ewcf2Hkd7','copy320','2020-03-05 17:38:16.229 +00:00','2020-03-05 17:38:16.229 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_42a7fe037ee64188807ad8cec77cd51b$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (9e7b960c-be7b-4626-a658-b9169ef4bf01): COMMIT;
{ fileUUID: '3a0f51e7-2e62-4ea7-9625-539dd100578d',
  cnodeUserUUID: '11c34897-1946-4dfc-b59c-f646a1fc69fe',
  multihash: 'QmTUFuYBNWRkLf5MDiXjzNSgrMXcHRt2eoZm1ewcf2Hkd7',
  sourceFile: 'f1b8b1c6-45e0-4a0e-acc8-257e29d1c3e8.mp3',
  storagePath:
   '/file_storage/QmTUFuYBNWRkLf5MDiXjzNSgrMXcHRt2eoZm1ewcf2Hkd7',
  type: 'copy320',
  trackUUID: '44864158-f558-4b0e-bad4-ece2fe81835b',
  updatedAt: 2020-03-05T17:38:16.229Z,
  createdAt: 2020-03-05T17:38:16.229Z }




PROCESSING ROW #90: sourcefile: 616267ef-605b-4a52-b0c0-a838bb83db34.mp3, cnodeUserUUID: 845842f7-e43c-48db-8ce8-3910857d4046, trackUUID: 729810a8-3c1b-42f6-896e-703875c07918, multihash: QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM, dstPath: /file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM
writing to db1...
Executing (d53124ee-4902-4a40-8329-f8876e12bbf9): START TRANSACTION;
Executing (d53124ee-4902-4a40-8329-f8876e12bbf9): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '845842f7-e43c-48db-8ce8-3910857d4046' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = '616267ef-605b-4a52-b0c0-a838bb83db34.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '729810a8-3c1b-42f6-896e-703875c07918' LIMIT 1;
Executing (d53124ee-4902-4a40-8329-f8876e12bbf9): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_c526d6dd1b434deb94682c7329738406$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('58a30f9f-01dd-44f4-b312-0b0c6dc9d5e4','845842f7-e43c-48db-8ce8-3910857d4046','729810a8-3c1b-42f6-896e-703875c07918','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','616267ef-605b-4a52-b0c0-a838bb83db34.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:38:16.625 +00:00','2020-03-05 17:38:16.625 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_c526d6dd1b434deb94682c7329738406$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (d53124ee-4902-4a40-8329-f8876e12bbf9): COMMIT;
{ fileUUID: '58a30f9f-01dd-44f4-b312-0b0c6dc9d5e4',
  cnodeUserUUID: '845842f7-e43c-48db-8ce8-3910857d4046',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: '616267ef-605b-4a52-b0c0-a838bb83db34.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: '729810a8-3c1b-42f6-896e-703875c07918',
  updatedAt: 2020-03-05T17:38:16.625Z,
  createdAt: 2020-03-05T17:38:16.625Z }
writing to db2...
Executing (d12e86a0-2a57-41a4-8b42-b70f3817aa58): START TRANSACTION;
Executing (d12e86a0-2a57-41a4-8b42-b70f3817aa58): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '845842f7-e43c-48db-8ce8-3910857d4046' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = '616267ef-605b-4a52-b0c0-a838bb83db34.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '729810a8-3c1b-42f6-896e-703875c07918' LIMIT 1;
Executing (d12e86a0-2a57-41a4-8b42-b70f3817aa58): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_326c225be9ff42a4bd2844e427d165c1$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('0ea88c92-e4a6-4430-9aeb-c747c4efd9ad','845842f7-e43c-48db-8ce8-3910857d4046','729810a8-3c1b-42f6-896e-703875c07918','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','616267ef-605b-4a52-b0c0-a838bb83db34.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:38:17.028 +00:00','2020-03-05 17:38:17.028 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_326c225be9ff42a4bd2844e427d165c1$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (d12e86a0-2a57-41a4-8b42-b70f3817aa58): COMMIT;
{ fileUUID: '0ea88c92-e4a6-4430-9aeb-c747c4efd9ad',
  cnodeUserUUID: '845842f7-e43c-48db-8ce8-3910857d4046',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: '616267ef-605b-4a52-b0c0-a838bb83db34.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: '729810a8-3c1b-42f6-896e-703875c07918',
  updatedAt: 2020-03-05T17:38:17.028Z,
  createdAt: 2020-03-05T17:38:17.028Z }
writing to db3...
Executing (57b85ca7-2021-49ce-b569-234a08cceb8f): START TRANSACTION;
Executing (57b85ca7-2021-49ce-b569-234a08cceb8f): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '845842f7-e43c-48db-8ce8-3910857d4046' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = '616267ef-605b-4a52-b0c0-a838bb83db34.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '729810a8-3c1b-42f6-896e-703875c07918' LIMIT 1;
Executing (57b85ca7-2021-49ce-b569-234a08cceb8f): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_81bf4b28aecc4b24a23bed4e91765f39$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('75aff049-7279-4b8e-92b9-f70e6803a47e','845842f7-e43c-48db-8ce8-3910857d4046','729810a8-3c1b-42f6-896e-703875c07918','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','616267ef-605b-4a52-b0c0-a838bb83db34.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:38:17.415 +00:00','2020-03-05 17:38:17.415 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_81bf4b28aecc4b24a23bed4e91765f39$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (57b85ca7-2021-49ce-b569-234a08cceb8f): COMMIT;
{ fileUUID: '75aff049-7279-4b8e-92b9-f70e6803a47e',
  cnodeUserUUID: '845842f7-e43c-48db-8ce8-3910857d4046',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: '616267ef-605b-4a52-b0c0-a838bb83db34.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: '729810a8-3c1b-42f6-896e-703875c07918',
  updatedAt: 2020-03-05T17:38:17.415Z,
  createdAt: 2020-03-05T17:38:17.415Z }




PROCESSING ROW #91: sourcefile: 755a5950-0577-4330-bb3f-f9a893bca142.mp3, cnodeUserUUID: 438313fc-8a22-44eb-834d-ddbb3ad22bca, trackUUID: b9622ac7-f6d3-4b81-b6f4-93fdcb56350a, multihash: QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM, dstPath: /file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM
writing to db1...
Executing (9fe5c877-0da8-4652-ad2d-bb1db9b99182): START TRANSACTION;
Executing (9fe5c877-0da8-4652-ad2d-bb1db9b99182): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '438313fc-8a22-44eb-834d-ddbb3ad22bca' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = '755a5950-0577-4330-bb3f-f9a893bca142.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = 'b9622ac7-f6d3-4b81-b6f4-93fdcb56350a' LIMIT 1;
Executing (9fe5c877-0da8-4652-ad2d-bb1db9b99182): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_fb162b099f0e4f3b9bcd9bd38b949601$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('34cb5d44-2d5f-49b6-bb46-277f4d4ee9df','438313fc-8a22-44eb-834d-ddbb3ad22bca','b9622ac7-f6d3-4b81-b6f4-93fdcb56350a','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','755a5950-0577-4330-bb3f-f9a893bca142.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:38:17.809 +00:00','2020-03-05 17:38:17.809 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_fb162b099f0e4f3b9bcd9bd38b949601$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (9fe5c877-0da8-4652-ad2d-bb1db9b99182): COMMIT;
{ fileUUID: '34cb5d44-2d5f-49b6-bb46-277f4d4ee9df',
  cnodeUserUUID: '438313fc-8a22-44eb-834d-ddbb3ad22bca',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: '755a5950-0577-4330-bb3f-f9a893bca142.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: 'b9622ac7-f6d3-4b81-b6f4-93fdcb56350a',
  updatedAt: 2020-03-05T17:38:17.809Z,
  createdAt: 2020-03-05T17:38:17.809Z }
writing to db2...
Executing (8753c11f-7161-43cd-a573-a4b95b86ae56): START TRANSACTION;
Executing (8753c11f-7161-43cd-a573-a4b95b86ae56): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '438313fc-8a22-44eb-834d-ddbb3ad22bca' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = '755a5950-0577-4330-bb3f-f9a893bca142.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = 'b9622ac7-f6d3-4b81-b6f4-93fdcb56350a' LIMIT 1;
Executing (8753c11f-7161-43cd-a573-a4b95b86ae56): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_ea3addfe11624547acc98cba1a6f13e6$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('03ce1194-caa7-4cf7-ba53-6551655b0cb5','438313fc-8a22-44eb-834d-ddbb3ad22bca','b9622ac7-f6d3-4b81-b6f4-93fdcb56350a','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','755a5950-0577-4330-bb3f-f9a893bca142.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:38:18.209 +00:00','2020-03-05 17:38:18.209 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_ea3addfe11624547acc98cba1a6f13e6$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (8753c11f-7161-43cd-a573-a4b95b86ae56): COMMIT;
{ fileUUID: '03ce1194-caa7-4cf7-ba53-6551655b0cb5',
  cnodeUserUUID: '438313fc-8a22-44eb-834d-ddbb3ad22bca',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: '755a5950-0577-4330-bb3f-f9a893bca142.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: 'b9622ac7-f6d3-4b81-b6f4-93fdcb56350a',
  updatedAt: 2020-03-05T17:38:18.209Z,
  createdAt: 2020-03-05T17:38:18.209Z }
writing to db3...
Executing (90c784cd-9ef2-4fad-ad49-c021fe1f284e): START TRANSACTION;
Executing (90c784cd-9ef2-4fad-ad49-c021fe1f284e): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '438313fc-8a22-44eb-834d-ddbb3ad22bca' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = '755a5950-0577-4330-bb3f-f9a893bca142.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = 'b9622ac7-f6d3-4b81-b6f4-93fdcb56350a' LIMIT 1;
Executing (90c784cd-9ef2-4fad-ad49-c021fe1f284e): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_c73d0685a0664e6ea0d4623fbfc0c1cf$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('3d0c827a-d72d-41b7-a6f5-e661c6a7290d','438313fc-8a22-44eb-834d-ddbb3ad22bca','b9622ac7-f6d3-4b81-b6f4-93fdcb56350a','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','755a5950-0577-4330-bb3f-f9a893bca142.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:38:18.602 +00:00','2020-03-05 17:38:18.602 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_c73d0685a0664e6ea0d4623fbfc0c1cf$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (90c784cd-9ef2-4fad-ad49-c021fe1f284e): COMMIT;
{ fileUUID: '3d0c827a-d72d-41b7-a6f5-e661c6a7290d',
  cnodeUserUUID: '438313fc-8a22-44eb-834d-ddbb3ad22bca',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: '755a5950-0577-4330-bb3f-f9a893bca142.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: 'b9622ac7-f6d3-4b81-b6f4-93fdcb56350a',
  updatedAt: 2020-03-05T17:38:18.602Z,
  createdAt: 2020-03-05T17:38:18.602Z }




PROCESSING ROW #92: sourcefile: a485ce78-4df5-4ba2-b4fb-72dae07b0fde.mp3, cnodeUserUUID: 846de485-02a3-41de-b7ed-7fc2352056bb, trackUUID: b5948cb8-ef31-42ae-b505-5d323b3bfc0c, multihash: QmRcoRviee9kYQGvxF17XPYmVzd4g9VC9vVTtY9qEcExza, dstPath: /file_storage/QmRcoRviee9kYQGvxF17XPYmVzd4g9VC9vVTtY9qEcExza
writing to db1...
Executing (61d2f277-a8c5-40b4-9450-7162740f2a9d): START TRANSACTION;
Executing (61d2f277-a8c5-40b4-9450-7162740f2a9d): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '846de485-02a3-41de-b7ed-7fc2352056bb' AND "File"."multihash" = 'QmRcoRviee9kYQGvxF17XPYmVzd4g9VC9vVTtY9qEcExza' AND "File"."sourceFile" = 'a485ce78-4df5-4ba2-b4fb-72dae07b0fde.mp3' AND "File"."storagePath" = '/file_storage/QmRcoRviee9kYQGvxF17XPYmVzd4g9VC9vVTtY9qEcExza' AND "File"."type" = 'copy320' AND "File"."trackUUID" = 'b5948cb8-ef31-42ae-b505-5d323b3bfc0c' LIMIT 1;
Executing (61d2f277-a8c5-40b4-9450-7162740f2a9d): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_739a045091a14df0bc716c7396120a6b$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('20b3167c-5da7-4954-a9d2-c61ea2d49eee','846de485-02a3-41de-b7ed-7fc2352056bb','b5948cb8-ef31-42ae-b505-5d323b3bfc0c','QmRcoRviee9kYQGvxF17XPYmVzd4g9VC9vVTtY9qEcExza','a485ce78-4df5-4ba2-b4fb-72dae07b0fde.mp3','/file_storage/QmRcoRviee9kYQGvxF17XPYmVzd4g9VC9vVTtY9qEcExza','copy320','2020-03-05 17:38:19.019 +00:00','2020-03-05 17:38:19.019 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_739a045091a14df0bc716c7396120a6b$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (61d2f277-a8c5-40b4-9450-7162740f2a9d): COMMIT;
{ fileUUID: '20b3167c-5da7-4954-a9d2-c61ea2d49eee',
  cnodeUserUUID: '846de485-02a3-41de-b7ed-7fc2352056bb',
  multihash: 'QmRcoRviee9kYQGvxF17XPYmVzd4g9VC9vVTtY9qEcExza',
  sourceFile: 'a485ce78-4df5-4ba2-b4fb-72dae07b0fde.mp3',
  storagePath:
   '/file_storage/QmRcoRviee9kYQGvxF17XPYmVzd4g9VC9vVTtY9qEcExza',
  type: 'copy320',
  trackUUID: 'b5948cb8-ef31-42ae-b505-5d323b3bfc0c',
  updatedAt: 2020-03-05T17:38:19.019Z,
  createdAt: 2020-03-05T17:38:19.019Z }
writing to db2...
Executing (d8593aa4-4b9c-42cc-8d1a-b76443751456): START TRANSACTION;
Executing (d8593aa4-4b9c-42cc-8d1a-b76443751456): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '846de485-02a3-41de-b7ed-7fc2352056bb' AND "File"."multihash" = 'QmRcoRviee9kYQGvxF17XPYmVzd4g9VC9vVTtY9qEcExza' AND "File"."sourceFile" = 'a485ce78-4df5-4ba2-b4fb-72dae07b0fde.mp3' AND "File"."storagePath" = '/file_storage/QmRcoRviee9kYQGvxF17XPYmVzd4g9VC9vVTtY9qEcExza' AND "File"."type" = 'copy320' AND "File"."trackUUID" = 'b5948cb8-ef31-42ae-b505-5d323b3bfc0c' LIMIT 1;
Executing (d8593aa4-4b9c-42cc-8d1a-b76443751456): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_cd8e2a7a83184485b9f62add6126b1f4$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('9bffd800-776b-4bae-bff3-e3147a285258','846de485-02a3-41de-b7ed-7fc2352056bb','b5948cb8-ef31-42ae-b505-5d323b3bfc0c','QmRcoRviee9kYQGvxF17XPYmVzd4g9VC9vVTtY9qEcExza','a485ce78-4df5-4ba2-b4fb-72dae07b0fde.mp3','/file_storage/QmRcoRviee9kYQGvxF17XPYmVzd4g9VC9vVTtY9qEcExza','copy320','2020-03-05 17:38:19.417 +00:00','2020-03-05 17:38:19.417 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_cd8e2a7a83184485b9f62add6126b1f4$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (d8593aa4-4b9c-42cc-8d1a-b76443751456): COMMIT;
{ fileUUID: '9bffd800-776b-4bae-bff3-e3147a285258',
  cnodeUserUUID: '846de485-02a3-41de-b7ed-7fc2352056bb',
  multihash: 'QmRcoRviee9kYQGvxF17XPYmVzd4g9VC9vVTtY9qEcExza',
  sourceFile: 'a485ce78-4df5-4ba2-b4fb-72dae07b0fde.mp3',
  storagePath:
   '/file_storage/QmRcoRviee9kYQGvxF17XPYmVzd4g9VC9vVTtY9qEcExza',
  type: 'copy320',
  trackUUID: 'b5948cb8-ef31-42ae-b505-5d323b3bfc0c',
  updatedAt: 2020-03-05T17:38:19.417Z,
  createdAt: 2020-03-05T17:38:19.417Z }
writing to db3...
Executing (cbf9d71c-8037-4d9d-a453-4b41c1a35ce8): START TRANSACTION;
Executing (cbf9d71c-8037-4d9d-a453-4b41c1a35ce8): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '846de485-02a3-41de-b7ed-7fc2352056bb' AND "File"."multihash" = 'QmRcoRviee9kYQGvxF17XPYmVzd4g9VC9vVTtY9qEcExza' AND "File"."sourceFile" = 'a485ce78-4df5-4ba2-b4fb-72dae07b0fde.mp3' AND "File"."storagePath" = '/file_storage/QmRcoRviee9kYQGvxF17XPYmVzd4g9VC9vVTtY9qEcExza' AND "File"."type" = 'copy320' AND "File"."trackUUID" = 'b5948cb8-ef31-42ae-b505-5d323b3bfc0c' LIMIT 1;
Executing (cbf9d71c-8037-4d9d-a453-4b41c1a35ce8): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_325cad68864e4d4b8dd9fe3f547afc99$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('7b60aa81-91a5-47cc-be61-9d76ddf45dd4','846de485-02a3-41de-b7ed-7fc2352056bb','b5948cb8-ef31-42ae-b505-5d323b3bfc0c','QmRcoRviee9kYQGvxF17XPYmVzd4g9VC9vVTtY9qEcExza','a485ce78-4df5-4ba2-b4fb-72dae07b0fde.mp3','/file_storage/QmRcoRviee9kYQGvxF17XPYmVzd4g9VC9vVTtY9qEcExza','copy320','2020-03-05 17:38:19.810 +00:00','2020-03-05 17:38:19.810 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_325cad68864e4d4b8dd9fe3f547afc99$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (cbf9d71c-8037-4d9d-a453-4b41c1a35ce8): COMMIT;
{ fileUUID: '7b60aa81-91a5-47cc-be61-9d76ddf45dd4',
  cnodeUserUUID: '846de485-02a3-41de-b7ed-7fc2352056bb',
  multihash: 'QmRcoRviee9kYQGvxF17XPYmVzd4g9VC9vVTtY9qEcExza',
  sourceFile: 'a485ce78-4df5-4ba2-b4fb-72dae07b0fde.mp3',
  storagePath:
   '/file_storage/QmRcoRviee9kYQGvxF17XPYmVzd4g9VC9vVTtY9qEcExza',
  type: 'copy320',
  trackUUID: 'b5948cb8-ef31-42ae-b505-5d323b3bfc0c',
  updatedAt: 2020-03-05T17:38:19.810Z,
  createdAt: 2020-03-05T17:38:19.810Z }




PROCESSING ROW #93: sourcefile: 3db89a3d-a329-4197-9e80-72647603e1b5.mp3, cnodeUserUUID: c4d74af2-09c6-481b-8049-3ccc8b427215, trackUUID: bff8312b-dd8e-476f-b77c-4d61f32d60f1, multihash: QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM, dstPath: /file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM
writing to db1...
Executing (6123c8a9-a120-4f0e-8649-9cef9db5b303): START TRANSACTION;
Executing (6123c8a9-a120-4f0e-8649-9cef9db5b303): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = 'c4d74af2-09c6-481b-8049-3ccc8b427215' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = '3db89a3d-a329-4197-9e80-72647603e1b5.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = 'bff8312b-dd8e-476f-b77c-4d61f32d60f1' LIMIT 1;
Executing (6123c8a9-a120-4f0e-8649-9cef9db5b303): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_1d9700ac2b8d49089eb775680c3041ce$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('a6bab2e8-1a01-41f3-bd3b-6165744eaf8f','c4d74af2-09c6-481b-8049-3ccc8b427215','bff8312b-dd8e-476f-b77c-4d61f32d60f1','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','3db89a3d-a329-4197-9e80-72647603e1b5.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:38:20.214 +00:00','2020-03-05 17:38:20.214 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_1d9700ac2b8d49089eb775680c3041ce$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (6123c8a9-a120-4f0e-8649-9cef9db5b303): COMMIT;
{ fileUUID: 'a6bab2e8-1a01-41f3-bd3b-6165744eaf8f',
  cnodeUserUUID: 'c4d74af2-09c6-481b-8049-3ccc8b427215',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: '3db89a3d-a329-4197-9e80-72647603e1b5.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: 'bff8312b-dd8e-476f-b77c-4d61f32d60f1',
  updatedAt: 2020-03-05T17:38:20.214Z,
  createdAt: 2020-03-05T17:38:20.214Z }
writing to db2...
Executing (0b8fcf36-b849-409a-97e0-86f695eaf308): START TRANSACTION;
Executing (0b8fcf36-b849-409a-97e0-86f695eaf308): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = 'c4d74af2-09c6-481b-8049-3ccc8b427215' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = '3db89a3d-a329-4197-9e80-72647603e1b5.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = 'bff8312b-dd8e-476f-b77c-4d61f32d60f1' LIMIT 1;
Executing (0b8fcf36-b849-409a-97e0-86f695eaf308): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_14df5ac72495453daac2ec5816a76295$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('48b98b13-769d-4eec-86be-901ff46153c2','c4d74af2-09c6-481b-8049-3ccc8b427215','bff8312b-dd8e-476f-b77c-4d61f32d60f1','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','3db89a3d-a329-4197-9e80-72647603e1b5.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:38:20.599 +00:00','2020-03-05 17:38:20.599 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_14df5ac72495453daac2ec5816a76295$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (0b8fcf36-b849-409a-97e0-86f695eaf308): COMMIT;
{ fileUUID: '48b98b13-769d-4eec-86be-901ff46153c2',
  cnodeUserUUID: 'c4d74af2-09c6-481b-8049-3ccc8b427215',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: '3db89a3d-a329-4197-9e80-72647603e1b5.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: 'bff8312b-dd8e-476f-b77c-4d61f32d60f1',
  updatedAt: 2020-03-05T17:38:20.599Z,
  createdAt: 2020-03-05T17:38:20.599Z }
writing to db3...
Executing (f64e448c-86fa-4e22-8273-5f728e64d463): START TRANSACTION;
Executing (f64e448c-86fa-4e22-8273-5f728e64d463): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = 'c4d74af2-09c6-481b-8049-3ccc8b427215' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = '3db89a3d-a329-4197-9e80-72647603e1b5.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = 'bff8312b-dd8e-476f-b77c-4d61f32d60f1' LIMIT 1;
Executing (f64e448c-86fa-4e22-8273-5f728e64d463): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_27a3bac6523c418f957a1222cc3b8b05$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('d63c8285-5ab4-41ee-bf17-682e42badd8f','c4d74af2-09c6-481b-8049-3ccc8b427215','bff8312b-dd8e-476f-b77c-4d61f32d60f1','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','3db89a3d-a329-4197-9e80-72647603e1b5.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:38:20.997 +00:00','2020-03-05 17:38:20.997 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_27a3bac6523c418f957a1222cc3b8b05$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (f64e448c-86fa-4e22-8273-5f728e64d463): COMMIT;
{ fileUUID: 'd63c8285-5ab4-41ee-bf17-682e42badd8f',
  cnodeUserUUID: 'c4d74af2-09c6-481b-8049-3ccc8b427215',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: '3db89a3d-a329-4197-9e80-72647603e1b5.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: 'bff8312b-dd8e-476f-b77c-4d61f32d60f1',
  updatedAt: 2020-03-05T17:38:20.997Z,
  createdAt: 2020-03-05T17:38:20.997Z }




PROCESSING ROW #94: sourcefile: a108f69e-1152-455b-9f2a-ec0e2bd0195d.mp3, cnodeUserUUID: 8179a7e8-d2d3-4b11-97d5-736c284b3bd0, trackUUID: 0fb74dfc-4393-4c44-afa4-ed6ff9181fec, multihash: QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM, dstPath: /file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM
writing to db1...
Executing (dc132588-dd2a-4a21-a654-2426c43fa582): START TRANSACTION;
Executing (dc132588-dd2a-4a21-a654-2426c43fa582): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '8179a7e8-d2d3-4b11-97d5-736c284b3bd0' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = 'a108f69e-1152-455b-9f2a-ec0e2bd0195d.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '0fb74dfc-4393-4c44-afa4-ed6ff9181fec' LIMIT 1;
Executing (dc132588-dd2a-4a21-a654-2426c43fa582): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_fabdf24ad1a6488196ed6a73606ab850$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('41d6f61a-e52f-466a-beab-d839ed6756dc','8179a7e8-d2d3-4b11-97d5-736c284b3bd0','0fb74dfc-4393-4c44-afa4-ed6ff9181fec','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','a108f69e-1152-455b-9f2a-ec0e2bd0195d.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:38:21.378 +00:00','2020-03-05 17:38:21.378 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_fabdf24ad1a6488196ed6a73606ab850$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (dc132588-dd2a-4a21-a654-2426c43fa582): COMMIT;
{ fileUUID: '41d6f61a-e52f-466a-beab-d839ed6756dc',
  cnodeUserUUID: '8179a7e8-d2d3-4b11-97d5-736c284b3bd0',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: 'a108f69e-1152-455b-9f2a-ec0e2bd0195d.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: '0fb74dfc-4393-4c44-afa4-ed6ff9181fec',
  updatedAt: 2020-03-05T17:38:21.378Z,
  createdAt: 2020-03-05T17:38:21.378Z }
writing to db2...
Executing (cef486c4-f837-4086-9bbb-3b86965626ab): START TRANSACTION;
Executing (cef486c4-f837-4086-9bbb-3b86965626ab): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '8179a7e8-d2d3-4b11-97d5-736c284b3bd0' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = 'a108f69e-1152-455b-9f2a-ec0e2bd0195d.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '0fb74dfc-4393-4c44-afa4-ed6ff9181fec' LIMIT 1;
Executing (cef486c4-f837-4086-9bbb-3b86965626ab): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_8aafbd96d57f46458b158f660deaa18a$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('05ade229-44c5-439a-b592-5aa3116cc15d','8179a7e8-d2d3-4b11-97d5-736c284b3bd0','0fb74dfc-4393-4c44-afa4-ed6ff9181fec','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','a108f69e-1152-455b-9f2a-ec0e2bd0195d.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:38:21.758 +00:00','2020-03-05 17:38:21.758 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_8aafbd96d57f46458b158f660deaa18a$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (cef486c4-f837-4086-9bbb-3b86965626ab): COMMIT;
{ fileUUID: '05ade229-44c5-439a-b592-5aa3116cc15d',
  cnodeUserUUID: '8179a7e8-d2d3-4b11-97d5-736c284b3bd0',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: 'a108f69e-1152-455b-9f2a-ec0e2bd0195d.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: '0fb74dfc-4393-4c44-afa4-ed6ff9181fec',
  updatedAt: 2020-03-05T17:38:21.758Z,
  createdAt: 2020-03-05T17:38:21.758Z }
writing to db3...
Executing (c53d6e81-e3d9-4118-9818-cc9cbfc5d5fa): START TRANSACTION;
Executing (c53d6e81-e3d9-4118-9818-cc9cbfc5d5fa): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '8179a7e8-d2d3-4b11-97d5-736c284b3bd0' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = 'a108f69e-1152-455b-9f2a-ec0e2bd0195d.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '0fb74dfc-4393-4c44-afa4-ed6ff9181fec' LIMIT 1;
Executing (c53d6e81-e3d9-4118-9818-cc9cbfc5d5fa): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_bf9bfa355460478d86fa1106cdda7eb6$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('75d5252d-7736-4730-a470-38ce49356249','8179a7e8-d2d3-4b11-97d5-736c284b3bd0','0fb74dfc-4393-4c44-afa4-ed6ff9181fec','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','a108f69e-1152-455b-9f2a-ec0e2bd0195d.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:38:22.145 +00:00','2020-03-05 17:38:22.145 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_bf9bfa355460478d86fa1106cdda7eb6$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (c53d6e81-e3d9-4118-9818-cc9cbfc5d5fa): COMMIT;
{ fileUUID: '75d5252d-7736-4730-a470-38ce49356249',
  cnodeUserUUID: '8179a7e8-d2d3-4b11-97d5-736c284b3bd0',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: 'a108f69e-1152-455b-9f2a-ec0e2bd0195d.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: '0fb74dfc-4393-4c44-afa4-ed6ff9181fec',
  updatedAt: 2020-03-05T17:38:22.145Z,
  createdAt: 2020-03-05T17:38:22.145Z }




PROCESSING ROW #95: sourcefile: a46f133e-6838-48d2-bdd8-dcb8a55cbb65.mp3, cnodeUserUUID: 1b2c6995-3bd2-42e8-bd94-1db72945e145, trackUUID: 24faf312-81c0-42a8-88fa-988b898f6e2b, multihash: QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM, dstPath: /file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM
writing to db1...
Executing (0b8e5b30-2355-47fe-9533-c9f4df886bba): START TRANSACTION;
Executing (0b8e5b30-2355-47fe-9533-c9f4df886bba): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '1b2c6995-3bd2-42e8-bd94-1db72945e145' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = 'a46f133e-6838-48d2-bdd8-dcb8a55cbb65.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '24faf312-81c0-42a8-88fa-988b898f6e2b' LIMIT 1;
Executing (0b8e5b30-2355-47fe-9533-c9f4df886bba): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_408fb51e65f7411fb217489a7d30116e$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('63b23a37-9259-4020-ac49-9edeb50a776b','1b2c6995-3bd2-42e8-bd94-1db72945e145','24faf312-81c0-42a8-88fa-988b898f6e2b','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','a46f133e-6838-48d2-bdd8-dcb8a55cbb65.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:38:22.542 +00:00','2020-03-05 17:38:22.542 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_408fb51e65f7411fb217489a7d30116e$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (0b8e5b30-2355-47fe-9533-c9f4df886bba): COMMIT;
{ fileUUID: '63b23a37-9259-4020-ac49-9edeb50a776b',
  cnodeUserUUID: '1b2c6995-3bd2-42e8-bd94-1db72945e145',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: 'a46f133e-6838-48d2-bdd8-dcb8a55cbb65.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: '24faf312-81c0-42a8-88fa-988b898f6e2b',
  updatedAt: 2020-03-05T17:38:22.542Z,
  createdAt: 2020-03-05T17:38:22.542Z }
writing to db2...
Executing (33148df4-fc32-4d86-ba23-8ffa123bf70b): START TRANSACTION;
Executing (33148df4-fc32-4d86-ba23-8ffa123bf70b): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '1b2c6995-3bd2-42e8-bd94-1db72945e145' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = 'a46f133e-6838-48d2-bdd8-dcb8a55cbb65.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '24faf312-81c0-42a8-88fa-988b898f6e2b' LIMIT 1;
Executing (33148df4-fc32-4d86-ba23-8ffa123bf70b): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_210722dc62c348d3a80593cb111e5472$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('3c165d20-1a2e-4ad4-863b-8cd22f81f7a9','1b2c6995-3bd2-42e8-bd94-1db72945e145','24faf312-81c0-42a8-88fa-988b898f6e2b','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','a46f133e-6838-48d2-bdd8-dcb8a55cbb65.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:38:22.928 +00:00','2020-03-05 17:38:22.928 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_210722dc62c348d3a80593cb111e5472$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (33148df4-fc32-4d86-ba23-8ffa123bf70b): COMMIT;
{ fileUUID: '3c165d20-1a2e-4ad4-863b-8cd22f81f7a9',
  cnodeUserUUID: '1b2c6995-3bd2-42e8-bd94-1db72945e145',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: 'a46f133e-6838-48d2-bdd8-dcb8a55cbb65.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: '24faf312-81c0-42a8-88fa-988b898f6e2b',
  updatedAt: 2020-03-05T17:38:22.928Z,
  createdAt: 2020-03-05T17:38:22.928Z }
writing to db3...
Executing (c126de9d-7940-45ef-9bde-9042776ca757): START TRANSACTION;
Executing (c126de9d-7940-45ef-9bde-9042776ca757): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '1b2c6995-3bd2-42e8-bd94-1db72945e145' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = 'a46f133e-6838-48d2-bdd8-dcb8a55cbb65.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '24faf312-81c0-42a8-88fa-988b898f6e2b' LIMIT 1;
Executing (c126de9d-7940-45ef-9bde-9042776ca757): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_edb3a50cd6be4b4c926107ce5020a620$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('f4b22a8a-fa3d-4b88-bbd4-0368f1805822','1b2c6995-3bd2-42e8-bd94-1db72945e145','24faf312-81c0-42a8-88fa-988b898f6e2b','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','a46f133e-6838-48d2-bdd8-dcb8a55cbb65.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:38:23.315 +00:00','2020-03-05 17:38:23.315 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_edb3a50cd6be4b4c926107ce5020a620$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (c126de9d-7940-45ef-9bde-9042776ca757): COMMIT;
{ fileUUID: 'f4b22a8a-fa3d-4b88-bbd4-0368f1805822',
  cnodeUserUUID: '1b2c6995-3bd2-42e8-bd94-1db72945e145',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: 'a46f133e-6838-48d2-bdd8-dcb8a55cbb65.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: '24faf312-81c0-42a8-88fa-988b898f6e2b',
  updatedAt: 2020-03-05T17:38:23.315Z,
  createdAt: 2020-03-05T17:38:23.315Z }




PROCESSING ROW #96: sourcefile: 5d17fd44-c331-4b54-ac04-d55ca566472b.mp3, cnodeUserUUID: 11c34897-1946-4dfc-b59c-f646a1fc69fe, trackUUID: 60078a26-768f-467f-99af-e5dae62e01e5, multihash: QmTFVv1igCdQwiVKNTdR2MZdrE9vgH9mgS8meeLn5W6Hbw, dstPath: /file_storage/QmTFVv1igCdQwiVKNTdR2MZdrE9vgH9mgS8meeLn5W6Hbw
writing to db1...
Executing (f0bf6fb6-4231-406b-a1e4-6b3053c323cf): START TRANSACTION;
Executing (f0bf6fb6-4231-406b-a1e4-6b3053c323cf): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '11c34897-1946-4dfc-b59c-f646a1fc69fe' AND "File"."multihash" = 'QmTFVv1igCdQwiVKNTdR2MZdrE9vgH9mgS8meeLn5W6Hbw' AND "File"."sourceFile" = '5d17fd44-c331-4b54-ac04-d55ca566472b.mp3' AND "File"."storagePath" = '/file_storage/QmTFVv1igCdQwiVKNTdR2MZdrE9vgH9mgS8meeLn5W6Hbw' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '60078a26-768f-467f-99af-e5dae62e01e5' LIMIT 1;
Executing (f0bf6fb6-4231-406b-a1e4-6b3053c323cf): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_34df4c9f20f845c99c5c4e1dc6416dc4$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('35a80bc7-4717-4ef4-b4e7-745cdbd1df1b','11c34897-1946-4dfc-b59c-f646a1fc69fe','60078a26-768f-467f-99af-e5dae62e01e5','QmTFVv1igCdQwiVKNTdR2MZdrE9vgH9mgS8meeLn5W6Hbw','5d17fd44-c331-4b54-ac04-d55ca566472b.mp3','/file_storage/QmTFVv1igCdQwiVKNTdR2MZdrE9vgH9mgS8meeLn5W6Hbw','copy320','2020-03-05 17:38:23.698 +00:00','2020-03-05 17:38:23.698 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_34df4c9f20f845c99c5c4e1dc6416dc4$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (f0bf6fb6-4231-406b-a1e4-6b3053c323cf): COMMIT;
{ fileUUID: '35a80bc7-4717-4ef4-b4e7-745cdbd1df1b',
  cnodeUserUUID: '11c34897-1946-4dfc-b59c-f646a1fc69fe',
  multihash: 'QmTFVv1igCdQwiVKNTdR2MZdrE9vgH9mgS8meeLn5W6Hbw',
  sourceFile: '5d17fd44-c331-4b54-ac04-d55ca566472b.mp3',
  storagePath:
   '/file_storage/QmTFVv1igCdQwiVKNTdR2MZdrE9vgH9mgS8meeLn5W6Hbw',
  type: 'copy320',
  trackUUID: '60078a26-768f-467f-99af-e5dae62e01e5',
  updatedAt: 2020-03-05T17:38:23.698Z,
  createdAt: 2020-03-05T17:38:23.698Z }
writing to db2...
Executing (02330a16-df3f-41da-830e-3a81747f5e6e): START TRANSACTION;
Executing (02330a16-df3f-41da-830e-3a81747f5e6e): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '11c34897-1946-4dfc-b59c-f646a1fc69fe' AND "File"."multihash" = 'QmTFVv1igCdQwiVKNTdR2MZdrE9vgH9mgS8meeLn5W6Hbw' AND "File"."sourceFile" = '5d17fd44-c331-4b54-ac04-d55ca566472b.mp3' AND "File"."storagePath" = '/file_storage/QmTFVv1igCdQwiVKNTdR2MZdrE9vgH9mgS8meeLn5W6Hbw' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '60078a26-768f-467f-99af-e5dae62e01e5' LIMIT 1;
Executing (02330a16-df3f-41da-830e-3a81747f5e6e): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_5cdbfb4f092b46f98203a33a60fc7bcf$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('e3a5edcc-8965-4582-87be-da27bb591759','11c34897-1946-4dfc-b59c-f646a1fc69fe','60078a26-768f-467f-99af-e5dae62e01e5','QmTFVv1igCdQwiVKNTdR2MZdrE9vgH9mgS8meeLn5W6Hbw','5d17fd44-c331-4b54-ac04-d55ca566472b.mp3','/file_storage/QmTFVv1igCdQwiVKNTdR2MZdrE9vgH9mgS8meeLn5W6Hbw','copy320','2020-03-05 17:38:24.102 +00:00','2020-03-05 17:38:24.102 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_5cdbfb4f092b46f98203a33a60fc7bcf$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (02330a16-df3f-41da-830e-3a81747f5e6e): COMMIT;
{ fileUUID: 'e3a5edcc-8965-4582-87be-da27bb591759',
  cnodeUserUUID: '11c34897-1946-4dfc-b59c-f646a1fc69fe',
  multihash: 'QmTFVv1igCdQwiVKNTdR2MZdrE9vgH9mgS8meeLn5W6Hbw',
  sourceFile: '5d17fd44-c331-4b54-ac04-d55ca566472b.mp3',
  storagePath:
   '/file_storage/QmTFVv1igCdQwiVKNTdR2MZdrE9vgH9mgS8meeLn5W6Hbw',
  type: 'copy320',
  trackUUID: '60078a26-768f-467f-99af-e5dae62e01e5',
  updatedAt: 2020-03-05T17:38:24.102Z,
  createdAt: 2020-03-05T17:38:24.102Z }
writing to db3...
Executing (00f2d28f-93dd-4f3f-89b1-c373b0bb483e): START TRANSACTION;
Executing (00f2d28f-93dd-4f3f-89b1-c373b0bb483e): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '11c34897-1946-4dfc-b59c-f646a1fc69fe' AND "File"."multihash" = 'QmTFVv1igCdQwiVKNTdR2MZdrE9vgH9mgS8meeLn5W6Hbw' AND "File"."sourceFile" = '5d17fd44-c331-4b54-ac04-d55ca566472b.mp3' AND "File"."storagePath" = '/file_storage/QmTFVv1igCdQwiVKNTdR2MZdrE9vgH9mgS8meeLn5W6Hbw' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '60078a26-768f-467f-99af-e5dae62e01e5' LIMIT 1;
Executing (00f2d28f-93dd-4f3f-89b1-c373b0bb483e): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_ae29829b3c014a87a9f6eba53a1b2fe0$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('8c1a9f84-1d7b-4084-9d3b-f59c29a2c8d3','11c34897-1946-4dfc-b59c-f646a1fc69fe','60078a26-768f-467f-99af-e5dae62e01e5','QmTFVv1igCdQwiVKNTdR2MZdrE9vgH9mgS8meeLn5W6Hbw','5d17fd44-c331-4b54-ac04-d55ca566472b.mp3','/file_storage/QmTFVv1igCdQwiVKNTdR2MZdrE9vgH9mgS8meeLn5W6Hbw','copy320','2020-03-05 17:38:24.485 +00:00','2020-03-05 17:38:24.485 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_ae29829b3c014a87a9f6eba53a1b2fe0$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (00f2d28f-93dd-4f3f-89b1-c373b0bb483e): COMMIT;
{ fileUUID: '8c1a9f84-1d7b-4084-9d3b-f59c29a2c8d3',
  cnodeUserUUID: '11c34897-1946-4dfc-b59c-f646a1fc69fe',
  multihash: 'QmTFVv1igCdQwiVKNTdR2MZdrE9vgH9mgS8meeLn5W6Hbw',
  sourceFile: '5d17fd44-c331-4b54-ac04-d55ca566472b.mp3',
  storagePath:
   '/file_storage/QmTFVv1igCdQwiVKNTdR2MZdrE9vgH9mgS8meeLn5W6Hbw',
  type: 'copy320',
  trackUUID: '60078a26-768f-467f-99af-e5dae62e01e5',
  updatedAt: 2020-03-05T17:38:24.485Z,
  createdAt: 2020-03-05T17:38:24.485Z }




PROCESSING ROW #97: sourcefile: fa2ed02c-beb1-4938-a021-5c56f371a3aa.mp3, cnodeUserUUID: 7cceb173-a254-4ccf-9e8f-ccc3a5a12a6e, trackUUID: ba8d4812-6866-4bdd-b086-dc0be927d8bb, multihash: QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM, dstPath: /file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM
writing to db1...
Executing (8a2f45fe-c544-4f2a-9de7-bc4ec2291ccb): START TRANSACTION;
Executing (8a2f45fe-c544-4f2a-9de7-bc4ec2291ccb): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '7cceb173-a254-4ccf-9e8f-ccc3a5a12a6e' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = 'fa2ed02c-beb1-4938-a021-5c56f371a3aa.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = 'ba8d4812-6866-4bdd-b086-dc0be927d8bb' LIMIT 1;
Executing (8a2f45fe-c544-4f2a-9de7-bc4ec2291ccb): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_d479c2fd289b4aad9c8663ce3b87f52d$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('387fe123-b344-4044-8f57-179373905168','7cceb173-a254-4ccf-9e8f-ccc3a5a12a6e','ba8d4812-6866-4bdd-b086-dc0be927d8bb','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','fa2ed02c-beb1-4938-a021-5c56f371a3aa.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:38:24.891 +00:00','2020-03-05 17:38:24.891 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_d479c2fd289b4aad9c8663ce3b87f52d$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (8a2f45fe-c544-4f2a-9de7-bc4ec2291ccb): COMMIT;
{ fileUUID: '387fe123-b344-4044-8f57-179373905168',
  cnodeUserUUID: '7cceb173-a254-4ccf-9e8f-ccc3a5a12a6e',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: 'fa2ed02c-beb1-4938-a021-5c56f371a3aa.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: 'ba8d4812-6866-4bdd-b086-dc0be927d8bb',
  updatedAt: 2020-03-05T17:38:24.891Z,
  createdAt: 2020-03-05T17:38:24.891Z }
writing to db2...
Executing (070166ff-7570-4082-a363-1558faa7a5f8): START TRANSACTION;
Executing (070166ff-7570-4082-a363-1558faa7a5f8): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '7cceb173-a254-4ccf-9e8f-ccc3a5a12a6e' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = 'fa2ed02c-beb1-4938-a021-5c56f371a3aa.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = 'ba8d4812-6866-4bdd-b086-dc0be927d8bb' LIMIT 1;
Executing (070166ff-7570-4082-a363-1558faa7a5f8): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_ba4a031883044cd79820288d7ad69fd8$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('7176ad94-5f4f-4a4d-8d3d-ac8046dbbc41','7cceb173-a254-4ccf-9e8f-ccc3a5a12a6e','ba8d4812-6866-4bdd-b086-dc0be927d8bb','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','fa2ed02c-beb1-4938-a021-5c56f371a3aa.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:38:25.287 +00:00','2020-03-05 17:38:25.287 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_ba4a031883044cd79820288d7ad69fd8$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (070166ff-7570-4082-a363-1558faa7a5f8): COMMIT;
{ fileUUID: '7176ad94-5f4f-4a4d-8d3d-ac8046dbbc41',
  cnodeUserUUID: '7cceb173-a254-4ccf-9e8f-ccc3a5a12a6e',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: 'fa2ed02c-beb1-4938-a021-5c56f371a3aa.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: 'ba8d4812-6866-4bdd-b086-dc0be927d8bb',
  updatedAt: 2020-03-05T17:38:25.287Z,
  createdAt: 2020-03-05T17:38:25.287Z }
writing to db3...
Executing (3f48c8e7-79d2-405a-adc0-73ebbe13f851): START TRANSACTION;
Executing (3f48c8e7-79d2-405a-adc0-73ebbe13f851): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '7cceb173-a254-4ccf-9e8f-ccc3a5a12a6e' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = 'fa2ed02c-beb1-4938-a021-5c56f371a3aa.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = 'ba8d4812-6866-4bdd-b086-dc0be927d8bb' LIMIT 1;
Executing (3f48c8e7-79d2-405a-adc0-73ebbe13f851): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_116aa62e10a548c7ae398ec7520f0b66$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('2a873532-9e26-49db-bc5e-29d0e0f1c776','7cceb173-a254-4ccf-9e8f-ccc3a5a12a6e','ba8d4812-6866-4bdd-b086-dc0be927d8bb','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','fa2ed02c-beb1-4938-a021-5c56f371a3aa.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:38:25.682 +00:00','2020-03-05 17:38:25.682 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_116aa62e10a548c7ae398ec7520f0b66$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (3f48c8e7-79d2-405a-adc0-73ebbe13f851): COMMIT;
{ fileUUID: '2a873532-9e26-49db-bc5e-29d0e0f1c776',
  cnodeUserUUID: '7cceb173-a254-4ccf-9e8f-ccc3a5a12a6e',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: 'fa2ed02c-beb1-4938-a021-5c56f371a3aa.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: 'ba8d4812-6866-4bdd-b086-dc0be927d8bb',
  updatedAt: 2020-03-05T17:38:25.682Z,
  createdAt: 2020-03-05T17:38:25.682Z }




PROCESSING ROW #98: sourcefile: da235d87-2f1e-470e-9560-104a5c9f9251.mp3, cnodeUserUUID: c1364a50-2def-4baf-8a5a-c418c83fab2a, trackUUID: 0fb223eb-d047-4274-be05-3e925380ce83, multihash: QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM, dstPath: /file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM
writing to db1...
Executing (32fd12b9-cf3d-4a06-a252-cd37320373a9): START TRANSACTION;
Executing (32fd12b9-cf3d-4a06-a252-cd37320373a9): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = 'c1364a50-2def-4baf-8a5a-c418c83fab2a' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = 'da235d87-2f1e-470e-9560-104a5c9f9251.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '0fb223eb-d047-4274-be05-3e925380ce83' LIMIT 1;
Executing (32fd12b9-cf3d-4a06-a252-cd37320373a9): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_9a5992024bcc4cc5a024e8b6b337594d$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('0ac9f2b4-9ef8-4841-ba6b-48d3a727ff8d','c1364a50-2def-4baf-8a5a-c418c83fab2a','0fb223eb-d047-4274-be05-3e925380ce83','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','da235d87-2f1e-470e-9560-104a5c9f9251.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:38:26.075 +00:00','2020-03-05 17:38:26.075 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_9a5992024bcc4cc5a024e8b6b337594d$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (32fd12b9-cf3d-4a06-a252-cd37320373a9): COMMIT;
{ fileUUID: '0ac9f2b4-9ef8-4841-ba6b-48d3a727ff8d',
  cnodeUserUUID: 'c1364a50-2def-4baf-8a5a-c418c83fab2a',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: 'da235d87-2f1e-470e-9560-104a5c9f9251.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: '0fb223eb-d047-4274-be05-3e925380ce83',
  updatedAt: 2020-03-05T17:38:26.075Z,
  createdAt: 2020-03-05T17:38:26.075Z }
writing to db2...
Executing (93884951-3ee2-4ce9-bd32-8b4549b2c84e): START TRANSACTION;
Executing (93884951-3ee2-4ce9-bd32-8b4549b2c84e): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = 'c1364a50-2def-4baf-8a5a-c418c83fab2a' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = 'da235d87-2f1e-470e-9560-104a5c9f9251.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '0fb223eb-d047-4274-be05-3e925380ce83' LIMIT 1;
Executing (93884951-3ee2-4ce9-bd32-8b4549b2c84e): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_bdf3f51a84314fa5ad40f4a883daa6f9$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('6bb21292-aa66-4146-90f4-07c3ca5fc1ab','c1364a50-2def-4baf-8a5a-c418c83fab2a','0fb223eb-d047-4274-be05-3e925380ce83','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','da235d87-2f1e-470e-9560-104a5c9f9251.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:38:26.472 +00:00','2020-03-05 17:38:26.472 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_bdf3f51a84314fa5ad40f4a883daa6f9$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (93884951-3ee2-4ce9-bd32-8b4549b2c84e): COMMIT;
{ fileUUID: '6bb21292-aa66-4146-90f4-07c3ca5fc1ab',
  cnodeUserUUID: 'c1364a50-2def-4baf-8a5a-c418c83fab2a',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: 'da235d87-2f1e-470e-9560-104a5c9f9251.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: '0fb223eb-d047-4274-be05-3e925380ce83',
  updatedAt: 2020-03-05T17:38:26.472Z,
  createdAt: 2020-03-05T17:38:26.472Z }
writing to db3...
Executing (31dc8d39-64b7-4a47-bfe5-fdf88f29613f): START TRANSACTION;
Executing (31dc8d39-64b7-4a47-bfe5-fdf88f29613f): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = 'c1364a50-2def-4baf-8a5a-c418c83fab2a' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = 'da235d87-2f1e-470e-9560-104a5c9f9251.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '0fb223eb-d047-4274-be05-3e925380ce83' LIMIT 1;
Executing (31dc8d39-64b7-4a47-bfe5-fdf88f29613f): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_1d452b8961ca49ba990b355217c16ff3$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('02de718f-7f80-4953-9e6d-9cac8421f360','c1364a50-2def-4baf-8a5a-c418c83fab2a','0fb223eb-d047-4274-be05-3e925380ce83','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','da235d87-2f1e-470e-9560-104a5c9f9251.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:38:26.861 +00:00','2020-03-05 17:38:26.861 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_1d452b8961ca49ba990b355217c16ff3$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (31dc8d39-64b7-4a47-bfe5-fdf88f29613f): COMMIT;
{ fileUUID: '02de718f-7f80-4953-9e6d-9cac8421f360',
  cnodeUserUUID: 'c1364a50-2def-4baf-8a5a-c418c83fab2a',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: 'da235d87-2f1e-470e-9560-104a5c9f9251.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: '0fb223eb-d047-4274-be05-3e925380ce83',
  updatedAt: 2020-03-05T17:38:26.861Z,
  createdAt: 2020-03-05T17:38:26.861Z }




PROCESSING ROW #99: sourcefile: 0d1b00ca-653c-45e2-a7c7-fb5e61390bcf.mp3, cnodeUserUUID: 0276730b-1aab-4173-87d3-36b1695b203f, trackUUID: c2aaee42-8f30-4bf3-a127-4437bb89c843, multihash: QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM, dstPath: /file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM
writing to db1...
Executing (44b8caa4-0503-4b54-9ce7-8fb919ebfe21): START TRANSACTION;
Executing (44b8caa4-0503-4b54-9ce7-8fb919ebfe21): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '0276730b-1aab-4173-87d3-36b1695b203f' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = '0d1b00ca-653c-45e2-a7c7-fb5e61390bcf.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = 'c2aaee42-8f30-4bf3-a127-4437bb89c843' LIMIT 1;
Executing (44b8caa4-0503-4b54-9ce7-8fb919ebfe21): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_da6580860d5140b5942b85bf0369368f$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('5fcfee4e-b340-4701-a9f6-0b39629f9381','0276730b-1aab-4173-87d3-36b1695b203f','c2aaee42-8f30-4bf3-a127-4437bb89c843','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','0d1b00ca-653c-45e2-a7c7-fb5e61390bcf.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:38:27.263 +00:00','2020-03-05 17:38:27.263 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_da6580860d5140b5942b85bf0369368f$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (44b8caa4-0503-4b54-9ce7-8fb919ebfe21): COMMIT;
{ fileUUID: '5fcfee4e-b340-4701-a9f6-0b39629f9381',
  cnodeUserUUID: '0276730b-1aab-4173-87d3-36b1695b203f',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: '0d1b00ca-653c-45e2-a7c7-fb5e61390bcf.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: 'c2aaee42-8f30-4bf3-a127-4437bb89c843',
  updatedAt: 2020-03-05T17:38:27.263Z,
  createdAt: 2020-03-05T17:38:27.263Z }
writing to db2...
Executing (3e3f8458-8dc1-4bf1-a0c1-7c9726134667): START TRANSACTION;
Executing (3e3f8458-8dc1-4bf1-a0c1-7c9726134667): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '0276730b-1aab-4173-87d3-36b1695b203f' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = '0d1b00ca-653c-45e2-a7c7-fb5e61390bcf.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = 'c2aaee42-8f30-4bf3-a127-4437bb89c843' LIMIT 1;
Executing (3e3f8458-8dc1-4bf1-a0c1-7c9726134667): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_26ef1a1296c6431bb320f513f01d308d$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('407ab781-ee55-48c3-8493-995e9f89362b','0276730b-1aab-4173-87d3-36b1695b203f','c2aaee42-8f30-4bf3-a127-4437bb89c843','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','0d1b00ca-653c-45e2-a7c7-fb5e61390bcf.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:38:27.647 +00:00','2020-03-05 17:38:27.647 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_26ef1a1296c6431bb320f513f01d308d$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (3e3f8458-8dc1-4bf1-a0c1-7c9726134667): COMMIT;
{ fileUUID: '407ab781-ee55-48c3-8493-995e9f89362b',
  cnodeUserUUID: '0276730b-1aab-4173-87d3-36b1695b203f',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: '0d1b00ca-653c-45e2-a7c7-fb5e61390bcf.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: 'c2aaee42-8f30-4bf3-a127-4437bb89c843',
  updatedAt: 2020-03-05T17:38:27.647Z,
  createdAt: 2020-03-05T17:38:27.647Z }
writing to db3...
Executing (170dab4d-94e7-4c15-b6c8-165dac184a0a): START TRANSACTION;
Executing (170dab4d-94e7-4c15-b6c8-165dac184a0a): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '0276730b-1aab-4173-87d3-36b1695b203f' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = '0d1b00ca-653c-45e2-a7c7-fb5e61390bcf.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = 'c2aaee42-8f30-4bf3-a127-4437bb89c843' LIMIT 1;
Executing (170dab4d-94e7-4c15-b6c8-165dac184a0a): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_65c8fd88565743198a9ee28fc821b815$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('e7821214-88d0-4b74-b46b-463564837e98','0276730b-1aab-4173-87d3-36b1695b203f','c2aaee42-8f30-4bf3-a127-4437bb89c843','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','0d1b00ca-653c-45e2-a7c7-fb5e61390bcf.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:38:28.044 +00:00','2020-03-05 17:38:28.044 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_65c8fd88565743198a9ee28fc821b815$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (170dab4d-94e7-4c15-b6c8-165dac184a0a): COMMIT;
{ fileUUID: 'e7821214-88d0-4b74-b46b-463564837e98',
  cnodeUserUUID: '0276730b-1aab-4173-87d3-36b1695b203f',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: '0d1b00ca-653c-45e2-a7c7-fb5e61390bcf.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: 'c2aaee42-8f30-4bf3-a127-4437bb89c843',
  updatedAt: 2020-03-05T17:38:28.044Z,
  createdAt: 2020-03-05T17:38:28.044Z }




PROCESSING ROW #100: sourcefile: be884447-4dbd-4f9b-8fdc-fef53b15008f.mp3, cnodeUserUUID: 3dbb6e34-dc09-46ff-9781-77f01e679a06, trackUUID: 229043c3-0abf-4106-b373-8dc801ad90c2, multihash: QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM, dstPath: /file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM
writing to db1...
Executing (cbc6147e-c59f-4285-937f-9b1cfbd0e264): START TRANSACTION;
Executing (cbc6147e-c59f-4285-937f-9b1cfbd0e264): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '3dbb6e34-dc09-46ff-9781-77f01e679a06' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = 'be884447-4dbd-4f9b-8fdc-fef53b15008f.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '229043c3-0abf-4106-b373-8dc801ad90c2' LIMIT 1;
Executing (cbc6147e-c59f-4285-937f-9b1cfbd0e264): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_f148a0293ff74024931af8e60b08668f$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('20e03fa6-a5a9-4d37-8eca-ebf4da8b0f21','3dbb6e34-dc09-46ff-9781-77f01e679a06','229043c3-0abf-4106-b373-8dc801ad90c2','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','be884447-4dbd-4f9b-8fdc-fef53b15008f.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:38:28.435 +00:00','2020-03-05 17:38:28.435 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_f148a0293ff74024931af8e60b08668f$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (cbc6147e-c59f-4285-937f-9b1cfbd0e264): COMMIT;
{ fileUUID: '20e03fa6-a5a9-4d37-8eca-ebf4da8b0f21',
  cnodeUserUUID: '3dbb6e34-dc09-46ff-9781-77f01e679a06',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: 'be884447-4dbd-4f9b-8fdc-fef53b15008f.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: '229043c3-0abf-4106-b373-8dc801ad90c2',
  updatedAt: 2020-03-05T17:38:28.435Z,
  createdAt: 2020-03-05T17:38:28.435Z }
writing to db2...
Executing (8761c08a-1c85-44a5-ad9a-bf3a445ce251): START TRANSACTION;
Executing (8761c08a-1c85-44a5-ad9a-bf3a445ce251): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '3dbb6e34-dc09-46ff-9781-77f01e679a06' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = 'be884447-4dbd-4f9b-8fdc-fef53b15008f.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '229043c3-0abf-4106-b373-8dc801ad90c2' LIMIT 1;
Executing (8761c08a-1c85-44a5-ad9a-bf3a445ce251): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_09b9ac86bc3b49ed800c68d032267375$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('bebf9ebc-2e06-4d77-8595-1c398fd3c63e','3dbb6e34-dc09-46ff-9781-77f01e679a06','229043c3-0abf-4106-b373-8dc801ad90c2','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','be884447-4dbd-4f9b-8fdc-fef53b15008f.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:38:28.825 +00:00','2020-03-05 17:38:28.825 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_09b9ac86bc3b49ed800c68d032267375$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (8761c08a-1c85-44a5-ad9a-bf3a445ce251): COMMIT;
{ fileUUID: 'bebf9ebc-2e06-4d77-8595-1c398fd3c63e',
  cnodeUserUUID: '3dbb6e34-dc09-46ff-9781-77f01e679a06',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: 'be884447-4dbd-4f9b-8fdc-fef53b15008f.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: '229043c3-0abf-4106-b373-8dc801ad90c2',
  updatedAt: 2020-03-05T17:38:28.825Z,
  createdAt: 2020-03-05T17:38:28.825Z }
writing to db3...
Executing (04d0a56e-ab5b-4513-a946-abfe76ef957b): START TRANSACTION;
Executing (04d0a56e-ab5b-4513-a946-abfe76ef957b): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '3dbb6e34-dc09-46ff-9781-77f01e679a06' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = 'be884447-4dbd-4f9b-8fdc-fef53b15008f.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '229043c3-0abf-4106-b373-8dc801ad90c2' LIMIT 1;
Executing (04d0a56e-ab5b-4513-a946-abfe76ef957b): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_7ab375255f62497ea7666c6dab67c3c5$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('a3d491e0-f129-4e0b-b41c-9fbd39268058','3dbb6e34-dc09-46ff-9781-77f01e679a06','229043c3-0abf-4106-b373-8dc801ad90c2','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','be884447-4dbd-4f9b-8fdc-fef53b15008f.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:38:29.211 +00:00','2020-03-05 17:38:29.211 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_7ab375255f62497ea7666c6dab67c3c5$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (04d0a56e-ab5b-4513-a946-abfe76ef957b): COMMIT;
{ fileUUID: 'a3d491e0-f129-4e0b-b41c-9fbd39268058',
  cnodeUserUUID: '3dbb6e34-dc09-46ff-9781-77f01e679a06',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: 'be884447-4dbd-4f9b-8fdc-fef53b15008f.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: '229043c3-0abf-4106-b373-8dc801ad90c2',
  updatedAt: 2020-03-05T17:38:29.211Z,
  createdAt: 2020-03-05T17:38:29.211Z }




PROCESSING ROW #101: sourcefile: 770a621c-3b17-48fb-9954-479b28af0946.mp3, cnodeUserUUID: 11c34897-1946-4dfc-b59c-f646a1fc69fe, trackUUID: 6d8f5eea-5dd2-40ef-bde0-1a91301645f5, multihash: QmNT83AdyvLNCLti3XCntPC2AY1wWGd264kR4ptXk67wBd, dstPath: /file_storage/QmNT83AdyvLNCLti3XCntPC2AY1wWGd264kR4ptXk67wBd
writing to db1...
Executing (dd8913ea-9396-4b92-939e-dce41f309020): START TRANSACTION;
Executing (dd8913ea-9396-4b92-939e-dce41f309020): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '11c34897-1946-4dfc-b59c-f646a1fc69fe' AND "File"."multihash" = 'QmNT83AdyvLNCLti3XCntPC2AY1wWGd264kR4ptXk67wBd' AND "File"."sourceFile" = '770a621c-3b17-48fb-9954-479b28af0946.mp3' AND "File"."storagePath" = '/file_storage/QmNT83AdyvLNCLti3XCntPC2AY1wWGd264kR4ptXk67wBd' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '6d8f5eea-5dd2-40ef-bde0-1a91301645f5' LIMIT 1;
Executing (dd8913ea-9396-4b92-939e-dce41f309020): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_0336983baf314e9da170d5c75c3d3b5a$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('db2459fd-6a8a-4569-bb35-58ed90aca912','11c34897-1946-4dfc-b59c-f646a1fc69fe','6d8f5eea-5dd2-40ef-bde0-1a91301645f5','QmNT83AdyvLNCLti3XCntPC2AY1wWGd264kR4ptXk67wBd','770a621c-3b17-48fb-9954-479b28af0946.mp3','/file_storage/QmNT83AdyvLNCLti3XCntPC2AY1wWGd264kR4ptXk67wBd','copy320','2020-03-05 17:38:29.603 +00:00','2020-03-05 17:38:29.603 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_0336983baf314e9da170d5c75c3d3b5a$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (dd8913ea-9396-4b92-939e-dce41f309020): COMMIT;
{ fileUUID: 'db2459fd-6a8a-4569-bb35-58ed90aca912',
  cnodeUserUUID: '11c34897-1946-4dfc-b59c-f646a1fc69fe',
  multihash: 'QmNT83AdyvLNCLti3XCntPC2AY1wWGd264kR4ptXk67wBd',
  sourceFile: '770a621c-3b17-48fb-9954-479b28af0946.mp3',
  storagePath:
   '/file_storage/QmNT83AdyvLNCLti3XCntPC2AY1wWGd264kR4ptXk67wBd',
  type: 'copy320',
  trackUUID: '6d8f5eea-5dd2-40ef-bde0-1a91301645f5',
  updatedAt: 2020-03-05T17:38:29.603Z,
  createdAt: 2020-03-05T17:38:29.603Z }
writing to db2...
Executing (a1736207-df41-4fd7-a334-3aed3bab11d0): START TRANSACTION;
Executing (a1736207-df41-4fd7-a334-3aed3bab11d0): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '11c34897-1946-4dfc-b59c-f646a1fc69fe' AND "File"."multihash" = 'QmNT83AdyvLNCLti3XCntPC2AY1wWGd264kR4ptXk67wBd' AND "File"."sourceFile" = '770a621c-3b17-48fb-9954-479b28af0946.mp3' AND "File"."storagePath" = '/file_storage/QmNT83AdyvLNCLti3XCntPC2AY1wWGd264kR4ptXk67wBd' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '6d8f5eea-5dd2-40ef-bde0-1a91301645f5' LIMIT 1;
Executing (a1736207-df41-4fd7-a334-3aed3bab11d0): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_69aa10a771d94a4bb8320bde1f70f166$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('040b27a1-b979-4caf-90b1-2eb4921d6c90','11c34897-1946-4dfc-b59c-f646a1fc69fe','6d8f5eea-5dd2-40ef-bde0-1a91301645f5','QmNT83AdyvLNCLti3XCntPC2AY1wWGd264kR4ptXk67wBd','770a621c-3b17-48fb-9954-479b28af0946.mp3','/file_storage/QmNT83AdyvLNCLti3XCntPC2AY1wWGd264kR4ptXk67wBd','copy320','2020-03-05 17:38:29.983 +00:00','2020-03-05 17:38:29.983 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_69aa10a771d94a4bb8320bde1f70f166$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (a1736207-df41-4fd7-a334-3aed3bab11d0): COMMIT;
{ fileUUID: '040b27a1-b979-4caf-90b1-2eb4921d6c90',
  cnodeUserUUID: '11c34897-1946-4dfc-b59c-f646a1fc69fe',
  multihash: 'QmNT83AdyvLNCLti3XCntPC2AY1wWGd264kR4ptXk67wBd',
  sourceFile: '770a621c-3b17-48fb-9954-479b28af0946.mp3',
  storagePath:
   '/file_storage/QmNT83AdyvLNCLti3XCntPC2AY1wWGd264kR4ptXk67wBd',
  type: 'copy320',
  trackUUID: '6d8f5eea-5dd2-40ef-bde0-1a91301645f5',
  updatedAt: 2020-03-05T17:38:29.983Z,
  createdAt: 2020-03-05T17:38:29.983Z }
writing to db3...
Executing (91f229e5-9526-45da-aacb-20f7ea43cd1e): START TRANSACTION;
Executing (91f229e5-9526-45da-aacb-20f7ea43cd1e): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '11c34897-1946-4dfc-b59c-f646a1fc69fe' AND "File"."multihash" = 'QmNT83AdyvLNCLti3XCntPC2AY1wWGd264kR4ptXk67wBd' AND "File"."sourceFile" = '770a621c-3b17-48fb-9954-479b28af0946.mp3' AND "File"."storagePath" = '/file_storage/QmNT83AdyvLNCLti3XCntPC2AY1wWGd264kR4ptXk67wBd' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '6d8f5eea-5dd2-40ef-bde0-1a91301645f5' LIMIT 1;
Executing (91f229e5-9526-45da-aacb-20f7ea43cd1e): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_93edd4616a9c451da2d52c4ffbfd01b9$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('4f899c2c-744b-4027-a271-eb0170061ee7','11c34897-1946-4dfc-b59c-f646a1fc69fe','6d8f5eea-5dd2-40ef-bde0-1a91301645f5','QmNT83AdyvLNCLti3XCntPC2AY1wWGd264kR4ptXk67wBd','770a621c-3b17-48fb-9954-479b28af0946.mp3','/file_storage/QmNT83AdyvLNCLti3XCntPC2AY1wWGd264kR4ptXk67wBd','copy320','2020-03-05 17:38:30.387 +00:00','2020-03-05 17:38:30.387 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_93edd4616a9c451da2d52c4ffbfd01b9$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (91f229e5-9526-45da-aacb-20f7ea43cd1e): COMMIT;
{ fileUUID: '4f899c2c-744b-4027-a271-eb0170061ee7',
  cnodeUserUUID: '11c34897-1946-4dfc-b59c-f646a1fc69fe',
  multihash: 'QmNT83AdyvLNCLti3XCntPC2AY1wWGd264kR4ptXk67wBd',
  sourceFile: '770a621c-3b17-48fb-9954-479b28af0946.mp3',
  storagePath:
   '/file_storage/QmNT83AdyvLNCLti3XCntPC2AY1wWGd264kR4ptXk67wBd',
  type: 'copy320',
  trackUUID: '6d8f5eea-5dd2-40ef-bde0-1a91301645f5',
  updatedAt: 2020-03-05T17:38:30.387Z,
  createdAt: 2020-03-05T17:38:30.387Z }




PROCESSING ROW #102: sourcefile: 4bf40fe2-018f-47fb-b51e-4a3313bc874e.mp3, cnodeUserUUID: b0863a62-b20e-4e77-a034-9bcfe2583820, trackUUID: 96a1186d-e100-479a-9b2d-7a33d97add9c, multihash: QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM, dstPath: /file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM
writing to db1...
Executing (1faea6c5-9557-4628-b8fe-e27f2435adbf): START TRANSACTION;
Executing (1faea6c5-9557-4628-b8fe-e27f2435adbf): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = 'b0863a62-b20e-4e77-a034-9bcfe2583820' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = '4bf40fe2-018f-47fb-b51e-4a3313bc874e.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '96a1186d-e100-479a-9b2d-7a33d97add9c' LIMIT 1;
Executing (1faea6c5-9557-4628-b8fe-e27f2435adbf): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_e173097a171a4a6fbc2c6836a129cf33$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('6f2d6f47-5382-4798-b1ec-3062eb804c6c','b0863a62-b20e-4e77-a034-9bcfe2583820','96a1186d-e100-479a-9b2d-7a33d97add9c','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','4bf40fe2-018f-47fb-b51e-4a3313bc874e.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:38:30.778 +00:00','2020-03-05 17:38:30.778 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_e173097a171a4a6fbc2c6836a129cf33$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (1faea6c5-9557-4628-b8fe-e27f2435adbf): COMMIT;
{ fileUUID: '6f2d6f47-5382-4798-b1ec-3062eb804c6c',
  cnodeUserUUID: 'b0863a62-b20e-4e77-a034-9bcfe2583820',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: '4bf40fe2-018f-47fb-b51e-4a3313bc874e.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: '96a1186d-e100-479a-9b2d-7a33d97add9c',
  updatedAt: 2020-03-05T17:38:30.778Z,
  createdAt: 2020-03-05T17:38:30.778Z }
writing to db2...
Executing (85728c1a-eb7b-4bd9-8bf9-88972f4511fd): START TRANSACTION;
Executing (85728c1a-eb7b-4bd9-8bf9-88972f4511fd): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = 'b0863a62-b20e-4e77-a034-9bcfe2583820' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = '4bf40fe2-018f-47fb-b51e-4a3313bc874e.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '96a1186d-e100-479a-9b2d-7a33d97add9c' LIMIT 1;
Executing (85728c1a-eb7b-4bd9-8bf9-88972f4511fd): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_cf645177798c4f779567513266bdcc6d$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('b2df079a-755b-4a1f-9e27-ee79d9ce261a','b0863a62-b20e-4e77-a034-9bcfe2583820','96a1186d-e100-479a-9b2d-7a33d97add9c','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','4bf40fe2-018f-47fb-b51e-4a3313bc874e.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:38:31.180 +00:00','2020-03-05 17:38:31.180 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_cf645177798c4f779567513266bdcc6d$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (85728c1a-eb7b-4bd9-8bf9-88972f4511fd): COMMIT;
{ fileUUID: 'b2df079a-755b-4a1f-9e27-ee79d9ce261a',
  cnodeUserUUID: 'b0863a62-b20e-4e77-a034-9bcfe2583820',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: '4bf40fe2-018f-47fb-b51e-4a3313bc874e.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: '96a1186d-e100-479a-9b2d-7a33d97add9c',
  updatedAt: 2020-03-05T17:38:31.180Z,
  createdAt: 2020-03-05T17:38:31.180Z }
writing to db3...
Executing (dd78ea7f-a55c-471a-887d-f1c210aa4606): START TRANSACTION;
Executing (dd78ea7f-a55c-471a-887d-f1c210aa4606): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = 'b0863a62-b20e-4e77-a034-9bcfe2583820' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = '4bf40fe2-018f-47fb-b51e-4a3313bc874e.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '96a1186d-e100-479a-9b2d-7a33d97add9c' LIMIT 1;
Executing (dd78ea7f-a55c-471a-887d-f1c210aa4606): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_f378d7e94a2044779f4103e52d143c9a$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('a4454874-d30f-41dd-942a-9435bd68d815','b0863a62-b20e-4e77-a034-9bcfe2583820','96a1186d-e100-479a-9b2d-7a33d97add9c','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','4bf40fe2-018f-47fb-b51e-4a3313bc874e.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:38:31.579 +00:00','2020-03-05 17:38:31.579 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_f378d7e94a2044779f4103e52d143c9a$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (dd78ea7f-a55c-471a-887d-f1c210aa4606): COMMIT;
{ fileUUID: 'a4454874-d30f-41dd-942a-9435bd68d815',
  cnodeUserUUID: 'b0863a62-b20e-4e77-a034-9bcfe2583820',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: '4bf40fe2-018f-47fb-b51e-4a3313bc874e.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: '96a1186d-e100-479a-9b2d-7a33d97add9c',
  updatedAt: 2020-03-05T17:38:31.579Z,
  createdAt: 2020-03-05T17:38:31.579Z }




PROCESSING ROW #103: sourcefile: f3f03b86-3bab-4cb1-a584-973ec090d0d7.mp3, cnodeUserUUID: 616f6d34-9d49-4abd-be78-32e07bf360f3, trackUUID: b48b9682-60eb-41ee-be74-40fa2d8f3bd2, multihash: QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM, dstPath: /file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM
writing to db1...
Executing (b6028f95-4946-4ccf-a993-289d2802ae8d): START TRANSACTION;
Executing (b6028f95-4946-4ccf-a993-289d2802ae8d): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '616f6d34-9d49-4abd-be78-32e07bf360f3' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = 'f3f03b86-3bab-4cb1-a584-973ec090d0d7.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = 'b48b9682-60eb-41ee-be74-40fa2d8f3bd2' LIMIT 1;
Executing (b6028f95-4946-4ccf-a993-289d2802ae8d): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_de5dcdf47d5741288b7fbe4880c41768$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('0cdc41c3-bf22-4195-8f2c-fbc05bafcd0e','616f6d34-9d49-4abd-be78-32e07bf360f3','b48b9682-60eb-41ee-be74-40fa2d8f3bd2','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','f3f03b86-3bab-4cb1-a584-973ec090d0d7.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:38:31.981 +00:00','2020-03-05 17:38:31.981 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_de5dcdf47d5741288b7fbe4880c41768$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (b6028f95-4946-4ccf-a993-289d2802ae8d): COMMIT;
{ fileUUID: '0cdc41c3-bf22-4195-8f2c-fbc05bafcd0e',
  cnodeUserUUID: '616f6d34-9d49-4abd-be78-32e07bf360f3',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: 'f3f03b86-3bab-4cb1-a584-973ec090d0d7.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: 'b48b9682-60eb-41ee-be74-40fa2d8f3bd2',
  updatedAt: 2020-03-05T17:38:31.981Z,
  createdAt: 2020-03-05T17:38:31.981Z }
writing to db2...
Executing (38c463f2-25bd-4770-bf68-b54e75e08ca4): START TRANSACTION;
Executing (38c463f2-25bd-4770-bf68-b54e75e08ca4): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '616f6d34-9d49-4abd-be78-32e07bf360f3' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = 'f3f03b86-3bab-4cb1-a584-973ec090d0d7.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = 'b48b9682-60eb-41ee-be74-40fa2d8f3bd2' LIMIT 1;
Executing (38c463f2-25bd-4770-bf68-b54e75e08ca4): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_4bec3579c1a84a81a4d4b81af53525ea$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('ee1eb3fe-9bb1-4fda-a1ee-f7cb7d8ad281','616f6d34-9d49-4abd-be78-32e07bf360f3','b48b9682-60eb-41ee-be74-40fa2d8f3bd2','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','f3f03b86-3bab-4cb1-a584-973ec090d0d7.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:38:32.376 +00:00','2020-03-05 17:38:32.376 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_4bec3579c1a84a81a4d4b81af53525ea$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (38c463f2-25bd-4770-bf68-b54e75e08ca4): COMMIT;
{ fileUUID: 'ee1eb3fe-9bb1-4fda-a1ee-f7cb7d8ad281',
  cnodeUserUUID: '616f6d34-9d49-4abd-be78-32e07bf360f3',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: 'f3f03b86-3bab-4cb1-a584-973ec090d0d7.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: 'b48b9682-60eb-41ee-be74-40fa2d8f3bd2',
  updatedAt: 2020-03-05T17:38:32.376Z,
  createdAt: 2020-03-05T17:38:32.376Z }
writing to db3...
Executing (faa9da5f-c3c0-4887-8118-e631762e1d27): START TRANSACTION;
Executing (faa9da5f-c3c0-4887-8118-e631762e1d27): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '616f6d34-9d49-4abd-be78-32e07bf360f3' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = 'f3f03b86-3bab-4cb1-a584-973ec090d0d7.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = 'b48b9682-60eb-41ee-be74-40fa2d8f3bd2' LIMIT 1;
Executing (faa9da5f-c3c0-4887-8118-e631762e1d27): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_9284b93aec5c4ddc864ebfd9b0cec41f$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('0e296e55-ee1c-4a64-b750-724831c50988','616f6d34-9d49-4abd-be78-32e07bf360f3','b48b9682-60eb-41ee-be74-40fa2d8f3bd2','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','f3f03b86-3bab-4cb1-a584-973ec090d0d7.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:38:32.766 +00:00','2020-03-05 17:38:32.766 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_9284b93aec5c4ddc864ebfd9b0cec41f$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (faa9da5f-c3c0-4887-8118-e631762e1d27): COMMIT;
{ fileUUID: '0e296e55-ee1c-4a64-b750-724831c50988',
  cnodeUserUUID: '616f6d34-9d49-4abd-be78-32e07bf360f3',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: 'f3f03b86-3bab-4cb1-a584-973ec090d0d7.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: 'b48b9682-60eb-41ee-be74-40fa2d8f3bd2',
  updatedAt: 2020-03-05T17:38:32.766Z,
  createdAt: 2020-03-05T17:38:32.766Z }




PROCESSING ROW #104: sourcefile: 78c19d2b-3e4b-4969-9c6c-cdb2dbc31f7e.mp3, cnodeUserUUID: 94608a15-b585-4482-a266-08f81c684bb2, trackUUID: a16f670d-f635-4029-8858-bd8b26476bdb, multihash: QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM, dstPath: /file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM
writing to db1...
Executing (2da79d5f-ab90-4068-bcd9-fcf81c520125): START TRANSACTION;
Executing (2da79d5f-ab90-4068-bcd9-fcf81c520125): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '94608a15-b585-4482-a266-08f81c684bb2' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = '78c19d2b-3e4b-4969-9c6c-cdb2dbc31f7e.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = 'a16f670d-f635-4029-8858-bd8b26476bdb' LIMIT 1;
Executing (2da79d5f-ab90-4068-bcd9-fcf81c520125): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_63f090f376fc4b548acbe07a942777e7$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('875f77fc-bd30-4c48-a269-43c4fcb98c95','94608a15-b585-4482-a266-08f81c684bb2','a16f670d-f635-4029-8858-bd8b26476bdb','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','78c19d2b-3e4b-4969-9c6c-cdb2dbc31f7e.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:38:33.153 +00:00','2020-03-05 17:38:33.153 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_63f090f376fc4b548acbe07a942777e7$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (2da79d5f-ab90-4068-bcd9-fcf81c520125): COMMIT;
{ fileUUID: '875f77fc-bd30-4c48-a269-43c4fcb98c95',
  cnodeUserUUID: '94608a15-b585-4482-a266-08f81c684bb2',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: '78c19d2b-3e4b-4969-9c6c-cdb2dbc31f7e.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: 'a16f670d-f635-4029-8858-bd8b26476bdb',
  updatedAt: 2020-03-05T17:38:33.153Z,
  createdAt: 2020-03-05T17:38:33.153Z }
writing to db2...
Executing (b5cafc8f-837d-400d-8382-9f913667849c): START TRANSACTION;
Executing (b5cafc8f-837d-400d-8382-9f913667849c): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '94608a15-b585-4482-a266-08f81c684bb2' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = '78c19d2b-3e4b-4969-9c6c-cdb2dbc31f7e.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = 'a16f670d-f635-4029-8858-bd8b26476bdb' LIMIT 1;
Executing (b5cafc8f-837d-400d-8382-9f913667849c): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_5fa5d787aeb3480dae36139365217905$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('710128aa-f24e-4737-92ee-cbe6bd55ebe0','94608a15-b585-4482-a266-08f81c684bb2','a16f670d-f635-4029-8858-bd8b26476bdb','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','78c19d2b-3e4b-4969-9c6c-cdb2dbc31f7e.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:38:33.541 +00:00','2020-03-05 17:38:33.541 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_5fa5d787aeb3480dae36139365217905$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (b5cafc8f-837d-400d-8382-9f913667849c): COMMIT;
{ fileUUID: '710128aa-f24e-4737-92ee-cbe6bd55ebe0',
  cnodeUserUUID: '94608a15-b585-4482-a266-08f81c684bb2',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: '78c19d2b-3e4b-4969-9c6c-cdb2dbc31f7e.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: 'a16f670d-f635-4029-8858-bd8b26476bdb',
  updatedAt: 2020-03-05T17:38:33.541Z,
  createdAt: 2020-03-05T17:38:33.541Z }
writing to db3...
Executing (2083b67f-9a05-4fb4-8201-271c2e0645fb): START TRANSACTION;
Executing (2083b67f-9a05-4fb4-8201-271c2e0645fb): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '94608a15-b585-4482-a266-08f81c684bb2' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = '78c19d2b-3e4b-4969-9c6c-cdb2dbc31f7e.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = 'a16f670d-f635-4029-8858-bd8b26476bdb' LIMIT 1;
Executing (2083b67f-9a05-4fb4-8201-271c2e0645fb): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_2a9d27075a704419ba8f32e1af65c65a$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('ada6cb82-bd8e-4d40-8182-20eb357fe074','94608a15-b585-4482-a266-08f81c684bb2','a16f670d-f635-4029-8858-bd8b26476bdb','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','78c19d2b-3e4b-4969-9c6c-cdb2dbc31f7e.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:38:33.918 +00:00','2020-03-05 17:38:33.918 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_2a9d27075a704419ba8f32e1af65c65a$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (2083b67f-9a05-4fb4-8201-271c2e0645fb): COMMIT;
{ fileUUID: 'ada6cb82-bd8e-4d40-8182-20eb357fe074',
  cnodeUserUUID: '94608a15-b585-4482-a266-08f81c684bb2',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: '78c19d2b-3e4b-4969-9c6c-cdb2dbc31f7e.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: 'a16f670d-f635-4029-8858-bd8b26476bdb',
  updatedAt: 2020-03-05T17:38:33.918Z,
  createdAt: 2020-03-05T17:38:33.918Z }




PROCESSING ROW #105: sourcefile: a09d5d42-58e2-4c9a-a88c-749a26ae8c13.mp3, cnodeUserUUID: 11c34897-1946-4dfc-b59c-f646a1fc69fe, trackUUID: 91c4c478-42ac-4f9f-b4f4-52545b5a5319, multihash: QmSuPWxXyDRkoyeykFNe7zytw96v2hL7Xr68gbB92urJDj, dstPath: /file_storage/QmSuPWxXyDRkoyeykFNe7zytw96v2hL7Xr68gbB92urJDj
writing to db1...
Executing (bc6e02d1-5397-4deb-8fbc-be82d9abcd6a): START TRANSACTION;
Executing (bc6e02d1-5397-4deb-8fbc-be82d9abcd6a): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '11c34897-1946-4dfc-b59c-f646a1fc69fe' AND "File"."multihash" = 'QmSuPWxXyDRkoyeykFNe7zytw96v2hL7Xr68gbB92urJDj' AND "File"."sourceFile" = 'a09d5d42-58e2-4c9a-a88c-749a26ae8c13.mp3' AND "File"."storagePath" = '/file_storage/QmSuPWxXyDRkoyeykFNe7zytw96v2hL7Xr68gbB92urJDj' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '91c4c478-42ac-4f9f-b4f4-52545b5a5319' LIMIT 1;
Executing (bc6e02d1-5397-4deb-8fbc-be82d9abcd6a): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_75227c3aaeea4f48aeeac659f0f69021$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('b46058f1-848c-405b-9dab-4b825dde1d6f','11c34897-1946-4dfc-b59c-f646a1fc69fe','91c4c478-42ac-4f9f-b4f4-52545b5a5319','QmSuPWxXyDRkoyeykFNe7zytw96v2hL7Xr68gbB92urJDj','a09d5d42-58e2-4c9a-a88c-749a26ae8c13.mp3','/file_storage/QmSuPWxXyDRkoyeykFNe7zytw96v2hL7Xr68gbB92urJDj','copy320','2020-03-05 17:38:34.319 +00:00','2020-03-05 17:38:34.319 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_75227c3aaeea4f48aeeac659f0f69021$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (bc6e02d1-5397-4deb-8fbc-be82d9abcd6a): COMMIT;
{ fileUUID: 'b46058f1-848c-405b-9dab-4b825dde1d6f',
  cnodeUserUUID: '11c34897-1946-4dfc-b59c-f646a1fc69fe',
  multihash: 'QmSuPWxXyDRkoyeykFNe7zytw96v2hL7Xr68gbB92urJDj',
  sourceFile: 'a09d5d42-58e2-4c9a-a88c-749a26ae8c13.mp3',
  storagePath:
   '/file_storage/QmSuPWxXyDRkoyeykFNe7zytw96v2hL7Xr68gbB92urJDj',
  type: 'copy320',
  trackUUID: '91c4c478-42ac-4f9f-b4f4-52545b5a5319',
  updatedAt: 2020-03-05T17:38:34.319Z,
  createdAt: 2020-03-05T17:38:34.319Z }
writing to db2...
Executing (8415c9aa-d616-4c77-bdd2-b4ab6ad5efbc): START TRANSACTION;
Executing (8415c9aa-d616-4c77-bdd2-b4ab6ad5efbc): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '11c34897-1946-4dfc-b59c-f646a1fc69fe' AND "File"."multihash" = 'QmSuPWxXyDRkoyeykFNe7zytw96v2hL7Xr68gbB92urJDj' AND "File"."sourceFile" = 'a09d5d42-58e2-4c9a-a88c-749a26ae8c13.mp3' AND "File"."storagePath" = '/file_storage/QmSuPWxXyDRkoyeykFNe7zytw96v2hL7Xr68gbB92urJDj' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '91c4c478-42ac-4f9f-b4f4-52545b5a5319' LIMIT 1;
Executing (8415c9aa-d616-4c77-bdd2-b4ab6ad5efbc): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_d7ec4ba0e8ba42beaa4bf03f1a8d4a57$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('75b539fd-e30b-4586-8b38-83d66ab23c18','11c34897-1946-4dfc-b59c-f646a1fc69fe','91c4c478-42ac-4f9f-b4f4-52545b5a5319','QmSuPWxXyDRkoyeykFNe7zytw96v2hL7Xr68gbB92urJDj','a09d5d42-58e2-4c9a-a88c-749a26ae8c13.mp3','/file_storage/QmSuPWxXyDRkoyeykFNe7zytw96v2hL7Xr68gbB92urJDj','copy320','2020-03-05 17:38:34.714 +00:00','2020-03-05 17:38:34.714 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_d7ec4ba0e8ba42beaa4bf03f1a8d4a57$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (8415c9aa-d616-4c77-bdd2-b4ab6ad5efbc): COMMIT;
{ fileUUID: '75b539fd-e30b-4586-8b38-83d66ab23c18',
  cnodeUserUUID: '11c34897-1946-4dfc-b59c-f646a1fc69fe',
  multihash: 'QmSuPWxXyDRkoyeykFNe7zytw96v2hL7Xr68gbB92urJDj',
  sourceFile: 'a09d5d42-58e2-4c9a-a88c-749a26ae8c13.mp3',
  storagePath:
   '/file_storage/QmSuPWxXyDRkoyeykFNe7zytw96v2hL7Xr68gbB92urJDj',
  type: 'copy320',
  trackUUID: '91c4c478-42ac-4f9f-b4f4-52545b5a5319',
  updatedAt: 2020-03-05T17:38:34.714Z,
  createdAt: 2020-03-05T17:38:34.714Z }
writing to db3...
Executing (489574b9-9883-4d43-9b8b-2c271db4509d): START TRANSACTION;
Executing (489574b9-9883-4d43-9b8b-2c271db4509d): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '11c34897-1946-4dfc-b59c-f646a1fc69fe' AND "File"."multihash" = 'QmSuPWxXyDRkoyeykFNe7zytw96v2hL7Xr68gbB92urJDj' AND "File"."sourceFile" = 'a09d5d42-58e2-4c9a-a88c-749a26ae8c13.mp3' AND "File"."storagePath" = '/file_storage/QmSuPWxXyDRkoyeykFNe7zytw96v2hL7Xr68gbB92urJDj' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '91c4c478-42ac-4f9f-b4f4-52545b5a5319' LIMIT 1;
Executing (489574b9-9883-4d43-9b8b-2c271db4509d): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_0d1f27ac694347ac8d0e8a8700b6472c$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('3e2e5f90-d449-4146-8a26-c66ca64f05c2','11c34897-1946-4dfc-b59c-f646a1fc69fe','91c4c478-42ac-4f9f-b4f4-52545b5a5319','QmSuPWxXyDRkoyeykFNe7zytw96v2hL7Xr68gbB92urJDj','a09d5d42-58e2-4c9a-a88c-749a26ae8c13.mp3','/file_storage/QmSuPWxXyDRkoyeykFNe7zytw96v2hL7Xr68gbB92urJDj','copy320','2020-03-05 17:38:35.104 +00:00','2020-03-05 17:38:35.104 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_0d1f27ac694347ac8d0e8a8700b6472c$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (489574b9-9883-4d43-9b8b-2c271db4509d): COMMIT;
{ fileUUID: '3e2e5f90-d449-4146-8a26-c66ca64f05c2',
  cnodeUserUUID: '11c34897-1946-4dfc-b59c-f646a1fc69fe',
  multihash: 'QmSuPWxXyDRkoyeykFNe7zytw96v2hL7Xr68gbB92urJDj',
  sourceFile: 'a09d5d42-58e2-4c9a-a88c-749a26ae8c13.mp3',
  storagePath:
   '/file_storage/QmSuPWxXyDRkoyeykFNe7zytw96v2hL7Xr68gbB92urJDj',
  type: 'copy320',
  trackUUID: '91c4c478-42ac-4f9f-b4f4-52545b5a5319',
  updatedAt: 2020-03-05T17:38:35.104Z,
  createdAt: 2020-03-05T17:38:35.104Z }




PROCESSING ROW #106: sourcefile: de45208b-c4a8-4406-baaa-2de3bc4dd9d9.mp3, cnodeUserUUID: 11c34897-1946-4dfc-b59c-f646a1fc69fe, trackUUID: cf403a9f-421a-475b-a8b1-71ac00b85e99, multihash: Qma9medMcCWkzcgrZ9P8LBs8598oVkS8xr72wpMYs6GBWY, dstPath: /file_storage/Qma9medMcCWkzcgrZ9P8LBs8598oVkS8xr72wpMYs6GBWY
writing to db1...
Executing (35f1b0fe-29e4-43e7-9508-05eb80b451bb): START TRANSACTION;
Executing (35f1b0fe-29e4-43e7-9508-05eb80b451bb): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '11c34897-1946-4dfc-b59c-f646a1fc69fe' AND "File"."multihash" = 'Qma9medMcCWkzcgrZ9P8LBs8598oVkS8xr72wpMYs6GBWY' AND "File"."sourceFile" = 'de45208b-c4a8-4406-baaa-2de3bc4dd9d9.mp3' AND "File"."storagePath" = '/file_storage/Qma9medMcCWkzcgrZ9P8LBs8598oVkS8xr72wpMYs6GBWY' AND "File"."type" = 'copy320' AND "File"."trackUUID" = 'cf403a9f-421a-475b-a8b1-71ac00b85e99' LIMIT 1;
Executing (35f1b0fe-29e4-43e7-9508-05eb80b451bb): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_0a02feb77fd14de69d72be9a111c3fa9$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('a68172d3-b7d6-40ae-8c8f-53c0404d3282','11c34897-1946-4dfc-b59c-f646a1fc69fe','cf403a9f-421a-475b-a8b1-71ac00b85e99','Qma9medMcCWkzcgrZ9P8LBs8598oVkS8xr72wpMYs6GBWY','de45208b-c4a8-4406-baaa-2de3bc4dd9d9.mp3','/file_storage/Qma9medMcCWkzcgrZ9P8LBs8598oVkS8xr72wpMYs6GBWY','copy320','2020-03-05 17:38:35.502 +00:00','2020-03-05 17:38:35.502 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_0a02feb77fd14de69d72be9a111c3fa9$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (35f1b0fe-29e4-43e7-9508-05eb80b451bb): COMMIT;
{ fileUUID: 'a68172d3-b7d6-40ae-8c8f-53c0404d3282',
  cnodeUserUUID: '11c34897-1946-4dfc-b59c-f646a1fc69fe',
  multihash: 'Qma9medMcCWkzcgrZ9P8LBs8598oVkS8xr72wpMYs6GBWY',
  sourceFile: 'de45208b-c4a8-4406-baaa-2de3bc4dd9d9.mp3',
  storagePath:
   '/file_storage/Qma9medMcCWkzcgrZ9P8LBs8598oVkS8xr72wpMYs6GBWY',
  type: 'copy320',
  trackUUID: 'cf403a9f-421a-475b-a8b1-71ac00b85e99',
  updatedAt: 2020-03-05T17:38:35.502Z,
  createdAt: 2020-03-05T17:38:35.502Z }
writing to db2...
Executing (4e324c99-ca98-423e-8e7f-fa2ad0b02372): START TRANSACTION;
Executing (4e324c99-ca98-423e-8e7f-fa2ad0b02372): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '11c34897-1946-4dfc-b59c-f646a1fc69fe' AND "File"."multihash" = 'Qma9medMcCWkzcgrZ9P8LBs8598oVkS8xr72wpMYs6GBWY' AND "File"."sourceFile" = 'de45208b-c4a8-4406-baaa-2de3bc4dd9d9.mp3' AND "File"."storagePath" = '/file_storage/Qma9medMcCWkzcgrZ9P8LBs8598oVkS8xr72wpMYs6GBWY' AND "File"."type" = 'copy320' AND "File"."trackUUID" = 'cf403a9f-421a-475b-a8b1-71ac00b85e99' LIMIT 1;
Executing (4e324c99-ca98-423e-8e7f-fa2ad0b02372): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_21f9a04f40394a009ec09a1e82d137a6$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('c45b48d1-47d9-442f-873f-7b100f4725cc','11c34897-1946-4dfc-b59c-f646a1fc69fe','cf403a9f-421a-475b-a8b1-71ac00b85e99','Qma9medMcCWkzcgrZ9P8LBs8598oVkS8xr72wpMYs6GBWY','de45208b-c4a8-4406-baaa-2de3bc4dd9d9.mp3','/file_storage/Qma9medMcCWkzcgrZ9P8LBs8598oVkS8xr72wpMYs6GBWY','copy320','2020-03-05 17:38:35.878 +00:00','2020-03-05 17:38:35.878 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_21f9a04f40394a009ec09a1e82d137a6$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (4e324c99-ca98-423e-8e7f-fa2ad0b02372): COMMIT;
{ fileUUID: 'c45b48d1-47d9-442f-873f-7b100f4725cc',
  cnodeUserUUID: '11c34897-1946-4dfc-b59c-f646a1fc69fe',
  multihash: 'Qma9medMcCWkzcgrZ9P8LBs8598oVkS8xr72wpMYs6GBWY',
  sourceFile: 'de45208b-c4a8-4406-baaa-2de3bc4dd9d9.mp3',
  storagePath:
   '/file_storage/Qma9medMcCWkzcgrZ9P8LBs8598oVkS8xr72wpMYs6GBWY',
  type: 'copy320',
  trackUUID: 'cf403a9f-421a-475b-a8b1-71ac00b85e99',
  updatedAt: 2020-03-05T17:38:35.878Z,
  createdAt: 2020-03-05T17:38:35.878Z }
writing to db3...
Executing (a4b55405-c105-4474-a25d-5d7bf779cc3e): START TRANSACTION;
Executing (a4b55405-c105-4474-a25d-5d7bf779cc3e): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '11c34897-1946-4dfc-b59c-f646a1fc69fe' AND "File"."multihash" = 'Qma9medMcCWkzcgrZ9P8LBs8598oVkS8xr72wpMYs6GBWY' AND "File"."sourceFile" = 'de45208b-c4a8-4406-baaa-2de3bc4dd9d9.mp3' AND "File"."storagePath" = '/file_storage/Qma9medMcCWkzcgrZ9P8LBs8598oVkS8xr72wpMYs6GBWY' AND "File"."type" = 'copy320' AND "File"."trackUUID" = 'cf403a9f-421a-475b-a8b1-71ac00b85e99' LIMIT 1;
Executing (a4b55405-c105-4474-a25d-5d7bf779cc3e): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_ba6c0d937211460c96e662c174addcf8$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('601b5032-0960-4a14-8c30-30f22e0566c7','11c34897-1946-4dfc-b59c-f646a1fc69fe','cf403a9f-421a-475b-a8b1-71ac00b85e99','Qma9medMcCWkzcgrZ9P8LBs8598oVkS8xr72wpMYs6GBWY','de45208b-c4a8-4406-baaa-2de3bc4dd9d9.mp3','/file_storage/Qma9medMcCWkzcgrZ9P8LBs8598oVkS8xr72wpMYs6GBWY','copy320','2020-03-05 17:38:36.263 +00:00','2020-03-05 17:38:36.263 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_ba6c0d937211460c96e662c174addcf8$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (a4b55405-c105-4474-a25d-5d7bf779cc3e): COMMIT;
{ fileUUID: '601b5032-0960-4a14-8c30-30f22e0566c7',
  cnodeUserUUID: '11c34897-1946-4dfc-b59c-f646a1fc69fe',
  multihash: 'Qma9medMcCWkzcgrZ9P8LBs8598oVkS8xr72wpMYs6GBWY',
  sourceFile: 'de45208b-c4a8-4406-baaa-2de3bc4dd9d9.mp3',
  storagePath:
   '/file_storage/Qma9medMcCWkzcgrZ9P8LBs8598oVkS8xr72wpMYs6GBWY',
  type: 'copy320',
  trackUUID: 'cf403a9f-421a-475b-a8b1-71ac00b85e99',
  updatedAt: 2020-03-05T17:38:36.263Z,
  createdAt: 2020-03-05T17:38:36.263Z }




PROCESSING ROW #107: sourcefile: 1d9c010e-3eda-4101-9771-34fae622135f.mp3, cnodeUserUUID: 2bf51965-6c3f-488f-918e-a8d6e0b82cbf, trackUUID: 91b8aab4-0835-46ba-8123-674cb14712fb, multihash: QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM, dstPath: /file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM
writing to db1...
Executing (87098212-8ba8-4e2a-8807-e56e37428ced): START TRANSACTION;
Executing (87098212-8ba8-4e2a-8807-e56e37428ced): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '2bf51965-6c3f-488f-918e-a8d6e0b82cbf' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = '1d9c010e-3eda-4101-9771-34fae622135f.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '91b8aab4-0835-46ba-8123-674cb14712fb' LIMIT 1;
Executing (87098212-8ba8-4e2a-8807-e56e37428ced): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_d33e9f19858741c8a833263980db39c2$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('ee5fee5b-d295-4f1a-9a9f-813b400f08cf','2bf51965-6c3f-488f-918e-a8d6e0b82cbf','91b8aab4-0835-46ba-8123-674cb14712fb','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','1d9c010e-3eda-4101-9771-34fae622135f.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:38:36.655 +00:00','2020-03-05 17:38:36.655 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_d33e9f19858741c8a833263980db39c2$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (87098212-8ba8-4e2a-8807-e56e37428ced): COMMIT;
{ fileUUID: 'ee5fee5b-d295-4f1a-9a9f-813b400f08cf',
  cnodeUserUUID: '2bf51965-6c3f-488f-918e-a8d6e0b82cbf',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: '1d9c010e-3eda-4101-9771-34fae622135f.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: '91b8aab4-0835-46ba-8123-674cb14712fb',
  updatedAt: 2020-03-05T17:38:36.655Z,
  createdAt: 2020-03-05T17:38:36.655Z }
writing to db2...
Executing (a8bb81f7-29fa-4b9a-b719-886c15d69a42): START TRANSACTION;
Executing (a8bb81f7-29fa-4b9a-b719-886c15d69a42): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '2bf51965-6c3f-488f-918e-a8d6e0b82cbf' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = '1d9c010e-3eda-4101-9771-34fae622135f.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '91b8aab4-0835-46ba-8123-674cb14712fb' LIMIT 1;
Executing (a8bb81f7-29fa-4b9a-b719-886c15d69a42): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_0197aa9cf71947259ce82ee09ee6d1a5$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('5e8db675-9628-4b4f-9f23-c2d844014e64','2bf51965-6c3f-488f-918e-a8d6e0b82cbf','91b8aab4-0835-46ba-8123-674cb14712fb','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','1d9c010e-3eda-4101-9771-34fae622135f.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:38:37.058 +00:00','2020-03-05 17:38:37.058 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_0197aa9cf71947259ce82ee09ee6d1a5$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (a8bb81f7-29fa-4b9a-b719-886c15d69a42): COMMIT;
{ fileUUID: '5e8db675-9628-4b4f-9f23-c2d844014e64',
  cnodeUserUUID: '2bf51965-6c3f-488f-918e-a8d6e0b82cbf',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: '1d9c010e-3eda-4101-9771-34fae622135f.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: '91b8aab4-0835-46ba-8123-674cb14712fb',
  updatedAt: 2020-03-05T17:38:37.058Z,
  createdAt: 2020-03-05T17:38:37.058Z }
writing to db3...
Executing (dd87c460-b1cd-4c93-af93-7c02b6ad0b23): START TRANSACTION;
Executing (dd87c460-b1cd-4c93-af93-7c02b6ad0b23): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '2bf51965-6c3f-488f-918e-a8d6e0b82cbf' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = '1d9c010e-3eda-4101-9771-34fae622135f.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '91b8aab4-0835-46ba-8123-674cb14712fb' LIMIT 1;
Executing (dd87c460-b1cd-4c93-af93-7c02b6ad0b23): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_ec72a5daa25a4eb38adbecc29f60808a$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('e5993240-9238-404f-ad03-3570882b6e6f','2bf51965-6c3f-488f-918e-a8d6e0b82cbf','91b8aab4-0835-46ba-8123-674cb14712fb','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','1d9c010e-3eda-4101-9771-34fae622135f.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:38:37.450 +00:00','2020-03-05 17:38:37.450 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_ec72a5daa25a4eb38adbecc29f60808a$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (dd87c460-b1cd-4c93-af93-7c02b6ad0b23): COMMIT;
{ fileUUID: 'e5993240-9238-404f-ad03-3570882b6e6f',
  cnodeUserUUID: '2bf51965-6c3f-488f-918e-a8d6e0b82cbf',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: '1d9c010e-3eda-4101-9771-34fae622135f.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: '91b8aab4-0835-46ba-8123-674cb14712fb',
  updatedAt: 2020-03-05T17:38:37.450Z,
  createdAt: 2020-03-05T17:38:37.450Z }




PROCESSING ROW #108: sourcefile: fffc3b73-acc1-4087-8a49-f05bcc077b14.mp3, cnodeUserUUID: 66dbb988-f231-4cec-8fcf-edda13e68490, trackUUID: 25d4e77e-9d8e-4a05-a954-d804aa6ede2f, multihash: QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM, dstPath: /file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM
writing to db1...
Executing (00932734-ad87-4c2f-ad91-2a415810ee68): START TRANSACTION;
Executing (00932734-ad87-4c2f-ad91-2a415810ee68): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '66dbb988-f231-4cec-8fcf-edda13e68490' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = 'fffc3b73-acc1-4087-8a49-f05bcc077b14.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '25d4e77e-9d8e-4a05-a954-d804aa6ede2f' LIMIT 1;
Executing (00932734-ad87-4c2f-ad91-2a415810ee68): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_cfe3929efe714178af202be196a1f006$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('b2e62036-ce73-49e0-a0f1-14af25b87e73','66dbb988-f231-4cec-8fcf-edda13e68490','25d4e77e-9d8e-4a05-a954-d804aa6ede2f','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','fffc3b73-acc1-4087-8a49-f05bcc077b14.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:38:37.845 +00:00','2020-03-05 17:38:37.845 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_cfe3929efe714178af202be196a1f006$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (00932734-ad87-4c2f-ad91-2a415810ee68): COMMIT;
{ fileUUID: 'b2e62036-ce73-49e0-a0f1-14af25b87e73',
  cnodeUserUUID: '66dbb988-f231-4cec-8fcf-edda13e68490',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: 'fffc3b73-acc1-4087-8a49-f05bcc077b14.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: '25d4e77e-9d8e-4a05-a954-d804aa6ede2f',
  updatedAt: 2020-03-05T17:38:37.845Z,
  createdAt: 2020-03-05T17:38:37.845Z }
writing to db2...
Executing (56affd10-90b9-40da-8711-508f6276d483): START TRANSACTION;
Executing (56affd10-90b9-40da-8711-508f6276d483): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '66dbb988-f231-4cec-8fcf-edda13e68490' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = 'fffc3b73-acc1-4087-8a49-f05bcc077b14.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '25d4e77e-9d8e-4a05-a954-d804aa6ede2f' LIMIT 1;
Executing (56affd10-90b9-40da-8711-508f6276d483): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_913e78ddba3d48109e0c54fd9a2157bb$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('37b89042-7651-40eb-8b68-563666724665','66dbb988-f231-4cec-8fcf-edda13e68490','25d4e77e-9d8e-4a05-a954-d804aa6ede2f','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','fffc3b73-acc1-4087-8a49-f05bcc077b14.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:38:38.259 +00:00','2020-03-05 17:38:38.259 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_913e78ddba3d48109e0c54fd9a2157bb$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (56affd10-90b9-40da-8711-508f6276d483): COMMIT;
{ fileUUID: '37b89042-7651-40eb-8b68-563666724665',
  cnodeUserUUID: '66dbb988-f231-4cec-8fcf-edda13e68490',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: 'fffc3b73-acc1-4087-8a49-f05bcc077b14.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: '25d4e77e-9d8e-4a05-a954-d804aa6ede2f',
  updatedAt: 2020-03-05T17:38:38.259Z,
  createdAt: 2020-03-05T17:38:38.259Z }
writing to db3...
Executing (383bdb3a-1ffe-4aea-85c5-020808009100): START TRANSACTION;
Executing (383bdb3a-1ffe-4aea-85c5-020808009100): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '66dbb988-f231-4cec-8fcf-edda13e68490' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = 'fffc3b73-acc1-4087-8a49-f05bcc077b14.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '25d4e77e-9d8e-4a05-a954-d804aa6ede2f' LIMIT 1;
Executing (383bdb3a-1ffe-4aea-85c5-020808009100): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_4bd8598075234e02b34f85bed7bb7f23$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('1448a5e0-7c39-41b6-95e5-1a3684a9e14e','66dbb988-f231-4cec-8fcf-edda13e68490','25d4e77e-9d8e-4a05-a954-d804aa6ede2f','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','fffc3b73-acc1-4087-8a49-f05bcc077b14.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:38:38.658 +00:00','2020-03-05 17:38:38.658 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_4bd8598075234e02b34f85bed7bb7f23$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (383bdb3a-1ffe-4aea-85c5-020808009100): COMMIT;
{ fileUUID: '1448a5e0-7c39-41b6-95e5-1a3684a9e14e',
  cnodeUserUUID: '66dbb988-f231-4cec-8fcf-edda13e68490',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: 'fffc3b73-acc1-4087-8a49-f05bcc077b14.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: '25d4e77e-9d8e-4a05-a954-d804aa6ede2f',
  updatedAt: 2020-03-05T17:38:38.658Z,
  createdAt: 2020-03-05T17:38:38.658Z }




PROCESSING ROW #109: sourcefile: cc3fe92e-24a7-4981-8e7b-7fc40c8afeef.mp3, cnodeUserUUID: 11c34897-1946-4dfc-b59c-f646a1fc69fe, trackUUID: ef7e43d9-0981-4871-9933-b31dedbb587b, multihash: QmQm31z3heup58F8j9aR82MozPZmGJorxbZeHbXfrxHcMv, dstPath: /file_storage/QmQm31z3heup58F8j9aR82MozPZmGJorxbZeHbXfrxHcMv
writing to db1...
Executing (e524b5b2-8b1e-438e-ae73-8ed8e992397f): START TRANSACTION;
Executing (e524b5b2-8b1e-438e-ae73-8ed8e992397f): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '11c34897-1946-4dfc-b59c-f646a1fc69fe' AND "File"."multihash" = 'QmQm31z3heup58F8j9aR82MozPZmGJorxbZeHbXfrxHcMv' AND "File"."sourceFile" = 'cc3fe92e-24a7-4981-8e7b-7fc40c8afeef.mp3' AND "File"."storagePath" = '/file_storage/QmQm31z3heup58F8j9aR82MozPZmGJorxbZeHbXfrxHcMv' AND "File"."type" = 'copy320' AND "File"."trackUUID" = 'ef7e43d9-0981-4871-9933-b31dedbb587b' LIMIT 1;
Executing (e524b5b2-8b1e-438e-ae73-8ed8e992397f): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_ebf8be61aa434437b92504fee66c0f08$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('114df12a-6ed6-4a11-a52b-60ae5590d4aa','11c34897-1946-4dfc-b59c-f646a1fc69fe','ef7e43d9-0981-4871-9933-b31dedbb587b','QmQm31z3heup58F8j9aR82MozPZmGJorxbZeHbXfrxHcMv','cc3fe92e-24a7-4981-8e7b-7fc40c8afeef.mp3','/file_storage/QmQm31z3heup58F8j9aR82MozPZmGJorxbZeHbXfrxHcMv','copy320','2020-03-05 17:38:39.058 +00:00','2020-03-05 17:38:39.058 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_ebf8be61aa434437b92504fee66c0f08$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (e524b5b2-8b1e-438e-ae73-8ed8e992397f): COMMIT;
{ fileUUID: '114df12a-6ed6-4a11-a52b-60ae5590d4aa',
  cnodeUserUUID: '11c34897-1946-4dfc-b59c-f646a1fc69fe',
  multihash: 'QmQm31z3heup58F8j9aR82MozPZmGJorxbZeHbXfrxHcMv',
  sourceFile: 'cc3fe92e-24a7-4981-8e7b-7fc40c8afeef.mp3',
  storagePath:
   '/file_storage/QmQm31z3heup58F8j9aR82MozPZmGJorxbZeHbXfrxHcMv',
  type: 'copy320',
  trackUUID: 'ef7e43d9-0981-4871-9933-b31dedbb587b',
  updatedAt: 2020-03-05T17:38:39.058Z,
  createdAt: 2020-03-05T17:38:39.058Z }
writing to db2...
Executing (8365333a-a470-4bae-b8d9-3f58547e209e): START TRANSACTION;
Executing (8365333a-a470-4bae-b8d9-3f58547e209e): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '11c34897-1946-4dfc-b59c-f646a1fc69fe' AND "File"."multihash" = 'QmQm31z3heup58F8j9aR82MozPZmGJorxbZeHbXfrxHcMv' AND "File"."sourceFile" = 'cc3fe92e-24a7-4981-8e7b-7fc40c8afeef.mp3' AND "File"."storagePath" = '/file_storage/QmQm31z3heup58F8j9aR82MozPZmGJorxbZeHbXfrxHcMv' AND "File"."type" = 'copy320' AND "File"."trackUUID" = 'ef7e43d9-0981-4871-9933-b31dedbb587b' LIMIT 1;
Executing (8365333a-a470-4bae-b8d9-3f58547e209e): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_705e8cf57dce457986e9f6588009b8ef$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('9eec80f7-32f3-4587-8525-f764492c7e23','11c34897-1946-4dfc-b59c-f646a1fc69fe','ef7e43d9-0981-4871-9933-b31dedbb587b','QmQm31z3heup58F8j9aR82MozPZmGJorxbZeHbXfrxHcMv','cc3fe92e-24a7-4981-8e7b-7fc40c8afeef.mp3','/file_storage/QmQm31z3heup58F8j9aR82MozPZmGJorxbZeHbXfrxHcMv','copy320','2020-03-05 17:38:39.448 +00:00','2020-03-05 17:38:39.448 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_705e8cf57dce457986e9f6588009b8ef$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (8365333a-a470-4bae-b8d9-3f58547e209e): COMMIT;
{ fileUUID: '9eec80f7-32f3-4587-8525-f764492c7e23',
  cnodeUserUUID: '11c34897-1946-4dfc-b59c-f646a1fc69fe',
  multihash: 'QmQm31z3heup58F8j9aR82MozPZmGJorxbZeHbXfrxHcMv',
  sourceFile: 'cc3fe92e-24a7-4981-8e7b-7fc40c8afeef.mp3',
  storagePath:
   '/file_storage/QmQm31z3heup58F8j9aR82MozPZmGJorxbZeHbXfrxHcMv',
  type: 'copy320',
  trackUUID: 'ef7e43d9-0981-4871-9933-b31dedbb587b',
  updatedAt: 2020-03-05T17:38:39.448Z,
  createdAt: 2020-03-05T17:38:39.448Z }
writing to db3...
Executing (3d10a4d0-4443-4443-87be-5f7d576ec924): START TRANSACTION;
Executing (3d10a4d0-4443-4443-87be-5f7d576ec924): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '11c34897-1946-4dfc-b59c-f646a1fc69fe' AND "File"."multihash" = 'QmQm31z3heup58F8j9aR82MozPZmGJorxbZeHbXfrxHcMv' AND "File"."sourceFile" = 'cc3fe92e-24a7-4981-8e7b-7fc40c8afeef.mp3' AND "File"."storagePath" = '/file_storage/QmQm31z3heup58F8j9aR82MozPZmGJorxbZeHbXfrxHcMv' AND "File"."type" = 'copy320' AND "File"."trackUUID" = 'ef7e43d9-0981-4871-9933-b31dedbb587b' LIMIT 1;
Executing (3d10a4d0-4443-4443-87be-5f7d576ec924): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_5e026e55b34548b1a1b01f7b65510b83$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('0cd540b2-1b96-42c1-9150-84b124102635','11c34897-1946-4dfc-b59c-f646a1fc69fe','ef7e43d9-0981-4871-9933-b31dedbb587b','QmQm31z3heup58F8j9aR82MozPZmGJorxbZeHbXfrxHcMv','cc3fe92e-24a7-4981-8e7b-7fc40c8afeef.mp3','/file_storage/QmQm31z3heup58F8j9aR82MozPZmGJorxbZeHbXfrxHcMv','copy320','2020-03-05 17:38:39.842 +00:00','2020-03-05 17:38:39.842 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_5e026e55b34548b1a1b01f7b65510b83$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (3d10a4d0-4443-4443-87be-5f7d576ec924): COMMIT;
{ fileUUID: '0cd540b2-1b96-42c1-9150-84b124102635',
  cnodeUserUUID: '11c34897-1946-4dfc-b59c-f646a1fc69fe',
  multihash: 'QmQm31z3heup58F8j9aR82MozPZmGJorxbZeHbXfrxHcMv',
  sourceFile: 'cc3fe92e-24a7-4981-8e7b-7fc40c8afeef.mp3',
  storagePath:
   '/file_storage/QmQm31z3heup58F8j9aR82MozPZmGJorxbZeHbXfrxHcMv',
  type: 'copy320',
  trackUUID: 'ef7e43d9-0981-4871-9933-b31dedbb587b',
  updatedAt: 2020-03-05T17:38:39.842Z,
  createdAt: 2020-03-05T17:38:39.842Z }




PROCESSING ROW #110: sourcefile: 146940b6-6658-4d47-b00c-8dd6e883c7d8.mp3, cnodeUserUUID: 11c34897-1946-4dfc-b59c-f646a1fc69fe, trackUUID: 31df3886-6d1d-44ab-b4a4-823671bcb8cc, multihash: QmcUWYBBgr1XZZ3J7U8m95Huer8ABEqdjhLPQCRku4PHD8, dstPath: /file_storage/QmcUWYBBgr1XZZ3J7U8m95Huer8ABEqdjhLPQCRku4PHD8
writing to db1...
Executing (1853ff52-a936-4429-ae88-34ab2229624a): START TRANSACTION;
Executing (1853ff52-a936-4429-ae88-34ab2229624a): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '11c34897-1946-4dfc-b59c-f646a1fc69fe' AND "File"."multihash" = 'QmcUWYBBgr1XZZ3J7U8m95Huer8ABEqdjhLPQCRku4PHD8' AND "File"."sourceFile" = '146940b6-6658-4d47-b00c-8dd6e883c7d8.mp3' AND "File"."storagePath" = '/file_storage/QmcUWYBBgr1XZZ3J7U8m95Huer8ABEqdjhLPQCRku4PHD8' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '31df3886-6d1d-44ab-b4a4-823671bcb8cc' LIMIT 1;
Executing (1853ff52-a936-4429-ae88-34ab2229624a): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_bd86669929664faaac6b26db708cb748$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('6cd2392c-2d82-4c52-a6d5-e9bbabdc13b0','11c34897-1946-4dfc-b59c-f646a1fc69fe','31df3886-6d1d-44ab-b4a4-823671bcb8cc','QmcUWYBBgr1XZZ3J7U8m95Huer8ABEqdjhLPQCRku4PHD8','146940b6-6658-4d47-b00c-8dd6e883c7d8.mp3','/file_storage/QmcUWYBBgr1XZZ3J7U8m95Huer8ABEqdjhLPQCRku4PHD8','copy320','2020-03-05 17:38:40.233 +00:00','2020-03-05 17:38:40.233 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_bd86669929664faaac6b26db708cb748$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (1853ff52-a936-4429-ae88-34ab2229624a): COMMIT;
{ fileUUID: '6cd2392c-2d82-4c52-a6d5-e9bbabdc13b0',
  cnodeUserUUID: '11c34897-1946-4dfc-b59c-f646a1fc69fe',
  multihash: 'QmcUWYBBgr1XZZ3J7U8m95Huer8ABEqdjhLPQCRku4PHD8',
  sourceFile: '146940b6-6658-4d47-b00c-8dd6e883c7d8.mp3',
  storagePath:
   '/file_storage/QmcUWYBBgr1XZZ3J7U8m95Huer8ABEqdjhLPQCRku4PHD8',
  type: 'copy320',
  trackUUID: '31df3886-6d1d-44ab-b4a4-823671bcb8cc',
  updatedAt: 2020-03-05T17:38:40.233Z,
  createdAt: 2020-03-05T17:38:40.233Z }
writing to db2...
Executing (4b23c404-438a-4dbc-960d-f7eb524670cb): START TRANSACTION;
Executing (4b23c404-438a-4dbc-960d-f7eb524670cb): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '11c34897-1946-4dfc-b59c-f646a1fc69fe' AND "File"."multihash" = 'QmcUWYBBgr1XZZ3J7U8m95Huer8ABEqdjhLPQCRku4PHD8' AND "File"."sourceFile" = '146940b6-6658-4d47-b00c-8dd6e883c7d8.mp3' AND "File"."storagePath" = '/file_storage/QmcUWYBBgr1XZZ3J7U8m95Huer8ABEqdjhLPQCRku4PHD8' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '31df3886-6d1d-44ab-b4a4-823671bcb8cc' LIMIT 1;
Executing (4b23c404-438a-4dbc-960d-f7eb524670cb): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_122c42132431458f87f8a5c6cfede88d$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('901a7408-2978-4230-b115-0d2494589012','11c34897-1946-4dfc-b59c-f646a1fc69fe','31df3886-6d1d-44ab-b4a4-823671bcb8cc','QmcUWYBBgr1XZZ3J7U8m95Huer8ABEqdjhLPQCRku4PHD8','146940b6-6658-4d47-b00c-8dd6e883c7d8.mp3','/file_storage/QmcUWYBBgr1XZZ3J7U8m95Huer8ABEqdjhLPQCRku4PHD8','copy320','2020-03-05 17:38:40.625 +00:00','2020-03-05 17:38:40.625 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_122c42132431458f87f8a5c6cfede88d$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (4b23c404-438a-4dbc-960d-f7eb524670cb): COMMIT;
{ fileUUID: '901a7408-2978-4230-b115-0d2494589012',
  cnodeUserUUID: '11c34897-1946-4dfc-b59c-f646a1fc69fe',
  multihash: 'QmcUWYBBgr1XZZ3J7U8m95Huer8ABEqdjhLPQCRku4PHD8',
  sourceFile: '146940b6-6658-4d47-b00c-8dd6e883c7d8.mp3',
  storagePath:
   '/file_storage/QmcUWYBBgr1XZZ3J7U8m95Huer8ABEqdjhLPQCRku4PHD8',
  type: 'copy320',
  trackUUID: '31df3886-6d1d-44ab-b4a4-823671bcb8cc',
  updatedAt: 2020-03-05T17:38:40.625Z,
  createdAt: 2020-03-05T17:38:40.625Z }
writing to db3...
Executing (49e9aac7-d0b4-4174-8983-72e67b51caaf): START TRANSACTION;
Executing (49e9aac7-d0b4-4174-8983-72e67b51caaf): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '11c34897-1946-4dfc-b59c-f646a1fc69fe' AND "File"."multihash" = 'QmcUWYBBgr1XZZ3J7U8m95Huer8ABEqdjhLPQCRku4PHD8' AND "File"."sourceFile" = '146940b6-6658-4d47-b00c-8dd6e883c7d8.mp3' AND "File"."storagePath" = '/file_storage/QmcUWYBBgr1XZZ3J7U8m95Huer8ABEqdjhLPQCRku4PHD8' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '31df3886-6d1d-44ab-b4a4-823671bcb8cc' LIMIT 1;
Executing (49e9aac7-d0b4-4174-8983-72e67b51caaf): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_540ef4dadf0541439f2d193e355f89ed$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('6eca873a-600c-455b-b5aa-702a5083e52f','11c34897-1946-4dfc-b59c-f646a1fc69fe','31df3886-6d1d-44ab-b4a4-823671bcb8cc','QmcUWYBBgr1XZZ3J7U8m95Huer8ABEqdjhLPQCRku4PHD8','146940b6-6658-4d47-b00c-8dd6e883c7d8.mp3','/file_storage/QmcUWYBBgr1XZZ3J7U8m95Huer8ABEqdjhLPQCRku4PHD8','copy320','2020-03-05 17:38:41.014 +00:00','2020-03-05 17:38:41.014 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_540ef4dadf0541439f2d193e355f89ed$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (49e9aac7-d0b4-4174-8983-72e67b51caaf): COMMIT;
{ fileUUID: '6eca873a-600c-455b-b5aa-702a5083e52f',
  cnodeUserUUID: '11c34897-1946-4dfc-b59c-f646a1fc69fe',
  multihash: 'QmcUWYBBgr1XZZ3J7U8m95Huer8ABEqdjhLPQCRku4PHD8',
  sourceFile: '146940b6-6658-4d47-b00c-8dd6e883c7d8.mp3',
  storagePath:
   '/file_storage/QmcUWYBBgr1XZZ3J7U8m95Huer8ABEqdjhLPQCRku4PHD8',
  type: 'copy320',
  trackUUID: '31df3886-6d1d-44ab-b4a4-823671bcb8cc',
  updatedAt: 2020-03-05T17:38:41.014Z,
  createdAt: 2020-03-05T17:38:41.014Z }




PROCESSING ROW #111: sourcefile: 0539f496-4f2f-4186-885a-1220999bbb5a.mp3, cnodeUserUUID: 79a481c4-2ccd-4be4-91f5-4a9e9137dc53, trackUUID: 503a31d2-4168-4a2b-b6e2-cc593a0b0c0f, multihash: QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM, dstPath: /file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM
writing to db1...
Executing (b1bc9a03-76f7-4cde-a969-77c7c7d14552): START TRANSACTION;
Executing (b1bc9a03-76f7-4cde-a969-77c7c7d14552): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '79a481c4-2ccd-4be4-91f5-4a9e9137dc53' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = '0539f496-4f2f-4186-885a-1220999bbb5a.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '503a31d2-4168-4a2b-b6e2-cc593a0b0c0f' LIMIT 1;
Executing (b1bc9a03-76f7-4cde-a969-77c7c7d14552): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_370c10959a50433294802d1a4b0324cd$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('f036c262-25a7-4db6-a9c7-a4af34cdf418','79a481c4-2ccd-4be4-91f5-4a9e9137dc53','503a31d2-4168-4a2b-b6e2-cc593a0b0c0f','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','0539f496-4f2f-4186-885a-1220999bbb5a.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:38:41.408 +00:00','2020-03-05 17:38:41.408 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_370c10959a50433294802d1a4b0324cd$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (b1bc9a03-76f7-4cde-a969-77c7c7d14552): COMMIT;
{ fileUUID: 'f036c262-25a7-4db6-a9c7-a4af34cdf418',
  cnodeUserUUID: '79a481c4-2ccd-4be4-91f5-4a9e9137dc53',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: '0539f496-4f2f-4186-885a-1220999bbb5a.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: '503a31d2-4168-4a2b-b6e2-cc593a0b0c0f',
  updatedAt: 2020-03-05T17:38:41.408Z,
  createdAt: 2020-03-05T17:38:41.408Z }
writing to db2...
Executing (7553da64-dd23-4847-be5d-1315a31c3848): START TRANSACTION;
Executing (7553da64-dd23-4847-be5d-1315a31c3848): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '79a481c4-2ccd-4be4-91f5-4a9e9137dc53' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = '0539f496-4f2f-4186-885a-1220999bbb5a.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '503a31d2-4168-4a2b-b6e2-cc593a0b0c0f' LIMIT 1;
Executing (7553da64-dd23-4847-be5d-1315a31c3848): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_d11f7c0bd0c54b528ebeae51a28b7073$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('47aad584-5930-4b0d-8b11-d4fef6a713fb','79a481c4-2ccd-4be4-91f5-4a9e9137dc53','503a31d2-4168-4a2b-b6e2-cc593a0b0c0f','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','0539f496-4f2f-4186-885a-1220999bbb5a.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:38:41.799 +00:00','2020-03-05 17:38:41.799 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_d11f7c0bd0c54b528ebeae51a28b7073$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (7553da64-dd23-4847-be5d-1315a31c3848): COMMIT;
{ fileUUID: '47aad584-5930-4b0d-8b11-d4fef6a713fb',
  cnodeUserUUID: '79a481c4-2ccd-4be4-91f5-4a9e9137dc53',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: '0539f496-4f2f-4186-885a-1220999bbb5a.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: '503a31d2-4168-4a2b-b6e2-cc593a0b0c0f',
  updatedAt: 2020-03-05T17:38:41.799Z,
  createdAt: 2020-03-05T17:38:41.799Z }
writing to db3...
Executing (7ad998dd-405a-4ed4-9489-9e4d2be2d588): START TRANSACTION;
Executing (7ad998dd-405a-4ed4-9489-9e4d2be2d588): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '79a481c4-2ccd-4be4-91f5-4a9e9137dc53' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = '0539f496-4f2f-4186-885a-1220999bbb5a.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '503a31d2-4168-4a2b-b6e2-cc593a0b0c0f' LIMIT 1;
Executing (7ad998dd-405a-4ed4-9489-9e4d2be2d588): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_ba71b60da8334521953b2c051c7fe72c$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('87a4f60b-ece1-4cfb-95f3-7f5867d9a346','79a481c4-2ccd-4be4-91f5-4a9e9137dc53','503a31d2-4168-4a2b-b6e2-cc593a0b0c0f','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','0539f496-4f2f-4186-885a-1220999bbb5a.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:38:42.197 +00:00','2020-03-05 17:38:42.197 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_ba71b60da8334521953b2c051c7fe72c$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (7ad998dd-405a-4ed4-9489-9e4d2be2d588): COMMIT;
{ fileUUID: '87a4f60b-ece1-4cfb-95f3-7f5867d9a346',
  cnodeUserUUID: '79a481c4-2ccd-4be4-91f5-4a9e9137dc53',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: '0539f496-4f2f-4186-885a-1220999bbb5a.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: '503a31d2-4168-4a2b-b6e2-cc593a0b0c0f',
  updatedAt: 2020-03-05T17:38:42.197Z,
  createdAt: 2020-03-05T17:38:42.197Z }




PROCESSING ROW #112: sourcefile: f7cbd067-e356-4247-abea-f05049ff9939.mp3, cnodeUserUUID: 8394a70d-6c51-4eeb-812c-4ad26e6fab5f, trackUUID: 8dc88b13-c112-4da7-829c-b8ae69a305a7, multihash: QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM, dstPath: /file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM
writing to db1...
Executing (59f05c80-3cd5-43c2-bb84-a6a000af31ab): START TRANSACTION;
Executing (59f05c80-3cd5-43c2-bb84-a6a000af31ab): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '8394a70d-6c51-4eeb-812c-4ad26e6fab5f' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = 'f7cbd067-e356-4247-abea-f05049ff9939.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '8dc88b13-c112-4da7-829c-b8ae69a305a7' LIMIT 1;
Executing (59f05c80-3cd5-43c2-bb84-a6a000af31ab): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_f1fe9bc2176d49289dd28deb844d10d7$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('6d851df0-0163-4243-b616-44dd7158cc22','8394a70d-6c51-4eeb-812c-4ad26e6fab5f','8dc88b13-c112-4da7-829c-b8ae69a305a7','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','f7cbd067-e356-4247-abea-f05049ff9939.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:38:42.591 +00:00','2020-03-05 17:38:42.591 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_f1fe9bc2176d49289dd28deb844d10d7$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (59f05c80-3cd5-43c2-bb84-a6a000af31ab): COMMIT;
{ fileUUID: '6d851df0-0163-4243-b616-44dd7158cc22',
  cnodeUserUUID: '8394a70d-6c51-4eeb-812c-4ad26e6fab5f',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: 'f7cbd067-e356-4247-abea-f05049ff9939.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: '8dc88b13-c112-4da7-829c-b8ae69a305a7',
  updatedAt: 2020-03-05T17:38:42.591Z,
  createdAt: 2020-03-05T17:38:42.591Z }
writing to db2...
Executing (22fe83c9-cae7-47f2-83be-cf7bb338b5f3): START TRANSACTION;
Executing (22fe83c9-cae7-47f2-83be-cf7bb338b5f3): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '8394a70d-6c51-4eeb-812c-4ad26e6fab5f' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = 'f7cbd067-e356-4247-abea-f05049ff9939.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '8dc88b13-c112-4da7-829c-b8ae69a305a7' LIMIT 1;
Executing (22fe83c9-cae7-47f2-83be-cf7bb338b5f3): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_0ac3c6bd83b1453c9eec470b8799606e$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('0133208b-f7b6-40cb-8d68-867bcd2de12a','8394a70d-6c51-4eeb-812c-4ad26e6fab5f','8dc88b13-c112-4da7-829c-b8ae69a305a7','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','f7cbd067-e356-4247-abea-f05049ff9939.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:38:42.997 +00:00','2020-03-05 17:38:42.997 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_0ac3c6bd83b1453c9eec470b8799606e$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (22fe83c9-cae7-47f2-83be-cf7bb338b5f3): COMMIT;
{ fileUUID: '0133208b-f7b6-40cb-8d68-867bcd2de12a',
  cnodeUserUUID: '8394a70d-6c51-4eeb-812c-4ad26e6fab5f',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: 'f7cbd067-e356-4247-abea-f05049ff9939.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: '8dc88b13-c112-4da7-829c-b8ae69a305a7',
  updatedAt: 2020-03-05T17:38:42.997Z,
  createdAt: 2020-03-05T17:38:42.997Z }
writing to db3...
Executing (aebae866-08c9-4995-a477-0d249b2c0d69): START TRANSACTION;
Executing (aebae866-08c9-4995-a477-0d249b2c0d69): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '8394a70d-6c51-4eeb-812c-4ad26e6fab5f' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = 'f7cbd067-e356-4247-abea-f05049ff9939.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '8dc88b13-c112-4da7-829c-b8ae69a305a7' LIMIT 1;
Executing (aebae866-08c9-4995-a477-0d249b2c0d69): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_9fc5d70d64644ecbadc0584dfcc63c71$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('16ddcbfc-a2ea-4337-83a7-0b71fa336239','8394a70d-6c51-4eeb-812c-4ad26e6fab5f','8dc88b13-c112-4da7-829c-b8ae69a305a7','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','f7cbd067-e356-4247-abea-f05049ff9939.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:38:43.391 +00:00','2020-03-05 17:38:43.391 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_9fc5d70d64644ecbadc0584dfcc63c71$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (aebae866-08c9-4995-a477-0d249b2c0d69): COMMIT;
{ fileUUID: '16ddcbfc-a2ea-4337-83a7-0b71fa336239',
  cnodeUserUUID: '8394a70d-6c51-4eeb-812c-4ad26e6fab5f',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: 'f7cbd067-e356-4247-abea-f05049ff9939.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: '8dc88b13-c112-4da7-829c-b8ae69a305a7',
  updatedAt: 2020-03-05T17:38:43.391Z,
  createdAt: 2020-03-05T17:38:43.391Z }




PROCESSING ROW #113: sourcefile: 0b88317c-ee28-4e67-b0cc-f44b48e5d9a3.mp3, cnodeUserUUID: 11c34897-1946-4dfc-b59c-f646a1fc69fe, trackUUID: 34e287d0-6dd1-47cc-8506-82c1dce4070c, multihash: QmWLn4bUfRu6hmARQGRMaY5LzxZTi1SvDvkRGHeww5nAiy, dstPath: /file_storage/QmWLn4bUfRu6hmARQGRMaY5LzxZTi1SvDvkRGHeww5nAiy
writing to db1...
Executing (d96591f9-5899-4197-b580-7aa1b5c4b832): START TRANSACTION;
Executing (d96591f9-5899-4197-b580-7aa1b5c4b832): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '11c34897-1946-4dfc-b59c-f646a1fc69fe' AND "File"."multihash" = 'QmWLn4bUfRu6hmARQGRMaY5LzxZTi1SvDvkRGHeww5nAiy' AND "File"."sourceFile" = '0b88317c-ee28-4e67-b0cc-f44b48e5d9a3.mp3' AND "File"."storagePath" = '/file_storage/QmWLn4bUfRu6hmARQGRMaY5LzxZTi1SvDvkRGHeww5nAiy' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '34e287d0-6dd1-47cc-8506-82c1dce4070c' LIMIT 1;
Executing (d96591f9-5899-4197-b580-7aa1b5c4b832): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_855eb34d222d490f898b8147fd72f956$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('1997c5ef-a695-4c58-bb95-ebedd3267f2d','11c34897-1946-4dfc-b59c-f646a1fc69fe','34e287d0-6dd1-47cc-8506-82c1dce4070c','QmWLn4bUfRu6hmARQGRMaY5LzxZTi1SvDvkRGHeww5nAiy','0b88317c-ee28-4e67-b0cc-f44b48e5d9a3.mp3','/file_storage/QmWLn4bUfRu6hmARQGRMaY5LzxZTi1SvDvkRGHeww5nAiy','copy320','2020-03-05 17:38:43.784 +00:00','2020-03-05 17:38:43.784 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_855eb34d222d490f898b8147fd72f956$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (d96591f9-5899-4197-b580-7aa1b5c4b832): COMMIT;
{ fileUUID: '1997c5ef-a695-4c58-bb95-ebedd3267f2d',
  cnodeUserUUID: '11c34897-1946-4dfc-b59c-f646a1fc69fe',
  multihash: 'QmWLn4bUfRu6hmARQGRMaY5LzxZTi1SvDvkRGHeww5nAiy',
  sourceFile: '0b88317c-ee28-4e67-b0cc-f44b48e5d9a3.mp3',
  storagePath:
   '/file_storage/QmWLn4bUfRu6hmARQGRMaY5LzxZTi1SvDvkRGHeww5nAiy',
  type: 'copy320',
  trackUUID: '34e287d0-6dd1-47cc-8506-82c1dce4070c',
  updatedAt: 2020-03-05T17:38:43.784Z,
  createdAt: 2020-03-05T17:38:43.784Z }
writing to db2...
Executing (d880cf0d-1f42-4240-abc4-ad0e8f280195): START TRANSACTION;
Executing (d880cf0d-1f42-4240-abc4-ad0e8f280195): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '11c34897-1946-4dfc-b59c-f646a1fc69fe' AND "File"."multihash" = 'QmWLn4bUfRu6hmARQGRMaY5LzxZTi1SvDvkRGHeww5nAiy' AND "File"."sourceFile" = '0b88317c-ee28-4e67-b0cc-f44b48e5d9a3.mp3' AND "File"."storagePath" = '/file_storage/QmWLn4bUfRu6hmARQGRMaY5LzxZTi1SvDvkRGHeww5nAiy' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '34e287d0-6dd1-47cc-8506-82c1dce4070c' LIMIT 1;
Executing (d880cf0d-1f42-4240-abc4-ad0e8f280195): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_b94f27c7c9e04faf9e96c1f8dd94ff97$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('e2942746-af3a-404e-90a4-07107d2e8833','11c34897-1946-4dfc-b59c-f646a1fc69fe','34e287d0-6dd1-47cc-8506-82c1dce4070c','QmWLn4bUfRu6hmARQGRMaY5LzxZTi1SvDvkRGHeww5nAiy','0b88317c-ee28-4e67-b0cc-f44b48e5d9a3.mp3','/file_storage/QmWLn4bUfRu6hmARQGRMaY5LzxZTi1SvDvkRGHeww5nAiy','copy320','2020-03-05 17:38:44.185 +00:00','2020-03-05 17:38:44.185 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_b94f27c7c9e04faf9e96c1f8dd94ff97$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (d880cf0d-1f42-4240-abc4-ad0e8f280195): COMMIT;
{ fileUUID: 'e2942746-af3a-404e-90a4-07107d2e8833',
  cnodeUserUUID: '11c34897-1946-4dfc-b59c-f646a1fc69fe',
  multihash: 'QmWLn4bUfRu6hmARQGRMaY5LzxZTi1SvDvkRGHeww5nAiy',
  sourceFile: '0b88317c-ee28-4e67-b0cc-f44b48e5d9a3.mp3',
  storagePath:
   '/file_storage/QmWLn4bUfRu6hmARQGRMaY5LzxZTi1SvDvkRGHeww5nAiy',
  type: 'copy320',
  trackUUID: '34e287d0-6dd1-47cc-8506-82c1dce4070c',
  updatedAt: 2020-03-05T17:38:44.185Z,
  createdAt: 2020-03-05T17:38:44.185Z }
writing to db3...
Executing (c31e83af-3312-43f2-b3b3-2395a8b0f42f): START TRANSACTION;
Executing (c31e83af-3312-43f2-b3b3-2395a8b0f42f): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '11c34897-1946-4dfc-b59c-f646a1fc69fe' AND "File"."multihash" = 'QmWLn4bUfRu6hmARQGRMaY5LzxZTi1SvDvkRGHeww5nAiy' AND "File"."sourceFile" = '0b88317c-ee28-4e67-b0cc-f44b48e5d9a3.mp3' AND "File"."storagePath" = '/file_storage/QmWLn4bUfRu6hmARQGRMaY5LzxZTi1SvDvkRGHeww5nAiy' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '34e287d0-6dd1-47cc-8506-82c1dce4070c' LIMIT 1;
Executing (c31e83af-3312-43f2-b3b3-2395a8b0f42f): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_6f4352cfe9f544be9f9da3ddad08a858$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('549c4a37-d6c4-41c3-bacd-2661926d7fac','11c34897-1946-4dfc-b59c-f646a1fc69fe','34e287d0-6dd1-47cc-8506-82c1dce4070c','QmWLn4bUfRu6hmARQGRMaY5LzxZTi1SvDvkRGHeww5nAiy','0b88317c-ee28-4e67-b0cc-f44b48e5d9a3.mp3','/file_storage/QmWLn4bUfRu6hmARQGRMaY5LzxZTi1SvDvkRGHeww5nAiy','copy320','2020-03-05 17:38:44.582 +00:00','2020-03-05 17:38:44.582 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_6f4352cfe9f544be9f9da3ddad08a858$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (c31e83af-3312-43f2-b3b3-2395a8b0f42f): COMMIT;
{ fileUUID: '549c4a37-d6c4-41c3-bacd-2661926d7fac',
  cnodeUserUUID: '11c34897-1946-4dfc-b59c-f646a1fc69fe',
  multihash: 'QmWLn4bUfRu6hmARQGRMaY5LzxZTi1SvDvkRGHeww5nAiy',
  sourceFile: '0b88317c-ee28-4e67-b0cc-f44b48e5d9a3.mp3',
  storagePath:
   '/file_storage/QmWLn4bUfRu6hmARQGRMaY5LzxZTi1SvDvkRGHeww5nAiy',
  type: 'copy320',
  trackUUID: '34e287d0-6dd1-47cc-8506-82c1dce4070c',
  updatedAt: 2020-03-05T17:38:44.582Z,
  createdAt: 2020-03-05T17:38:44.582Z }




PROCESSING ROW #114: sourcefile: b7b6c257-46da-4475-a8a2-172bec332792.mp3, cnodeUserUUID: 11c34897-1946-4dfc-b59c-f646a1fc69fe, trackUUID: f69e5987-e85d-4d5f-82fe-c34a956bb5ec, multihash: QmeMXxdDKb2nk6gzgr3rZrKP9Pbcf3vXv3iXm54LQpgTnT, dstPath: /file_storage/QmeMXxdDKb2nk6gzgr3rZrKP9Pbcf3vXv3iXm54LQpgTnT
writing to db1...
Executing (3998b6c1-d7bd-4a48-b6ec-b062a5e6a3e9): START TRANSACTION;
Executing (3998b6c1-d7bd-4a48-b6ec-b062a5e6a3e9): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '11c34897-1946-4dfc-b59c-f646a1fc69fe' AND "File"."multihash" = 'QmeMXxdDKb2nk6gzgr3rZrKP9Pbcf3vXv3iXm54LQpgTnT' AND "File"."sourceFile" = 'b7b6c257-46da-4475-a8a2-172bec332792.mp3' AND "File"."storagePath" = '/file_storage/QmeMXxdDKb2nk6gzgr3rZrKP9Pbcf3vXv3iXm54LQpgTnT' AND "File"."type" = 'copy320' AND "File"."trackUUID" = 'f69e5987-e85d-4d5f-82fe-c34a956bb5ec' LIMIT 1;
Executing (3998b6c1-d7bd-4a48-b6ec-b062a5e6a3e9): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_b0f85e1aae6f4bc68c91ef34dde875fc$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('28ccfa5d-bfc6-4ab2-bf54-2cb6e039170c','11c34897-1946-4dfc-b59c-f646a1fc69fe','f69e5987-e85d-4d5f-82fe-c34a956bb5ec','QmeMXxdDKb2nk6gzgr3rZrKP9Pbcf3vXv3iXm54LQpgTnT','b7b6c257-46da-4475-a8a2-172bec332792.mp3','/file_storage/QmeMXxdDKb2nk6gzgr3rZrKP9Pbcf3vXv3iXm54LQpgTnT','copy320','2020-03-05 17:38:44.971 +00:00','2020-03-05 17:38:44.971 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_b0f85e1aae6f4bc68c91ef34dde875fc$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (3998b6c1-d7bd-4a48-b6ec-b062a5e6a3e9): COMMIT;
{ fileUUID: '28ccfa5d-bfc6-4ab2-bf54-2cb6e039170c',
  cnodeUserUUID: '11c34897-1946-4dfc-b59c-f646a1fc69fe',
  multihash: 'QmeMXxdDKb2nk6gzgr3rZrKP9Pbcf3vXv3iXm54LQpgTnT',
  sourceFile: 'b7b6c257-46da-4475-a8a2-172bec332792.mp3',
  storagePath:
   '/file_storage/QmeMXxdDKb2nk6gzgr3rZrKP9Pbcf3vXv3iXm54LQpgTnT',
  type: 'copy320',
  trackUUID: 'f69e5987-e85d-4d5f-82fe-c34a956bb5ec',
  updatedAt: 2020-03-05T17:38:44.971Z,
  createdAt: 2020-03-05T17:38:44.971Z }
writing to db2...
Executing (e493ee3f-e0ca-4283-9c36-60ae127416be): START TRANSACTION;
Executing (e493ee3f-e0ca-4283-9c36-60ae127416be): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '11c34897-1946-4dfc-b59c-f646a1fc69fe' AND "File"."multihash" = 'QmeMXxdDKb2nk6gzgr3rZrKP9Pbcf3vXv3iXm54LQpgTnT' AND "File"."sourceFile" = 'b7b6c257-46da-4475-a8a2-172bec332792.mp3' AND "File"."storagePath" = '/file_storage/QmeMXxdDKb2nk6gzgr3rZrKP9Pbcf3vXv3iXm54LQpgTnT' AND "File"."type" = 'copy320' AND "File"."trackUUID" = 'f69e5987-e85d-4d5f-82fe-c34a956bb5ec' LIMIT 1;
Executing (e493ee3f-e0ca-4283-9c36-60ae127416be): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_5f7c325fd7ae4ac6b470f06acd8c1e66$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('19fde9c9-5614-4204-bb59-a879724df2c3','11c34897-1946-4dfc-b59c-f646a1fc69fe','f69e5987-e85d-4d5f-82fe-c34a956bb5ec','QmeMXxdDKb2nk6gzgr3rZrKP9Pbcf3vXv3iXm54LQpgTnT','b7b6c257-46da-4475-a8a2-172bec332792.mp3','/file_storage/QmeMXxdDKb2nk6gzgr3rZrKP9Pbcf3vXv3iXm54LQpgTnT','copy320','2020-03-05 17:38:45.357 +00:00','2020-03-05 17:38:45.357 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_5f7c325fd7ae4ac6b470f06acd8c1e66$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (e493ee3f-e0ca-4283-9c36-60ae127416be): COMMIT;
{ fileUUID: '19fde9c9-5614-4204-bb59-a879724df2c3',
  cnodeUserUUID: '11c34897-1946-4dfc-b59c-f646a1fc69fe',
  multihash: 'QmeMXxdDKb2nk6gzgr3rZrKP9Pbcf3vXv3iXm54LQpgTnT',
  sourceFile: 'b7b6c257-46da-4475-a8a2-172bec332792.mp3',
  storagePath:
   '/file_storage/QmeMXxdDKb2nk6gzgr3rZrKP9Pbcf3vXv3iXm54LQpgTnT',
  type: 'copy320',
  trackUUID: 'f69e5987-e85d-4d5f-82fe-c34a956bb5ec',
  updatedAt: 2020-03-05T17:38:45.357Z,
  createdAt: 2020-03-05T17:38:45.357Z }
writing to db3...
Executing (7bf507a7-0e88-4e3a-acba-98ac3cf2f2f0): START TRANSACTION;
Executing (7bf507a7-0e88-4e3a-acba-98ac3cf2f2f0): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '11c34897-1946-4dfc-b59c-f646a1fc69fe' AND "File"."multihash" = 'QmeMXxdDKb2nk6gzgr3rZrKP9Pbcf3vXv3iXm54LQpgTnT' AND "File"."sourceFile" = 'b7b6c257-46da-4475-a8a2-172bec332792.mp3' AND "File"."storagePath" = '/file_storage/QmeMXxdDKb2nk6gzgr3rZrKP9Pbcf3vXv3iXm54LQpgTnT' AND "File"."type" = 'copy320' AND "File"."trackUUID" = 'f69e5987-e85d-4d5f-82fe-c34a956bb5ec' LIMIT 1;
Executing (7bf507a7-0e88-4e3a-acba-98ac3cf2f2f0): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_ff5daf2437bb4eca865b1f7040a0757d$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('6ff44151-1754-412f-8ddb-6fa27a95e732','11c34897-1946-4dfc-b59c-f646a1fc69fe','f69e5987-e85d-4d5f-82fe-c34a956bb5ec','QmeMXxdDKb2nk6gzgr3rZrKP9Pbcf3vXv3iXm54LQpgTnT','b7b6c257-46da-4475-a8a2-172bec332792.mp3','/file_storage/QmeMXxdDKb2nk6gzgr3rZrKP9Pbcf3vXv3iXm54LQpgTnT','copy320','2020-03-05 17:38:45.727 +00:00','2020-03-05 17:38:45.727 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_ff5daf2437bb4eca865b1f7040a0757d$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (7bf507a7-0e88-4e3a-acba-98ac3cf2f2f0): COMMIT;
{ fileUUID: '6ff44151-1754-412f-8ddb-6fa27a95e732',
  cnodeUserUUID: '11c34897-1946-4dfc-b59c-f646a1fc69fe',
  multihash: 'QmeMXxdDKb2nk6gzgr3rZrKP9Pbcf3vXv3iXm54LQpgTnT',
  sourceFile: 'b7b6c257-46da-4475-a8a2-172bec332792.mp3',
  storagePath:
   '/file_storage/QmeMXxdDKb2nk6gzgr3rZrKP9Pbcf3vXv3iXm54LQpgTnT',
  type: 'copy320',
  trackUUID: 'f69e5987-e85d-4d5f-82fe-c34a956bb5ec',
  updatedAt: 2020-03-05T17:38:45.727Z,
  createdAt: 2020-03-05T17:38:45.727Z }




PROCESSING ROW #115: sourcefile: f0f64aad-0749-4a0a-aea6-18423e873506.mp3, cnodeUserUUID: 285adfbe-ec52-468f-a72e-c42c6bf83cc2, trackUUID: d9615907-2dcc-421d-9bd5-ee675fb361ea, multihash: QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM, dstPath: /file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM
writing to db1...
Executing (47e0422a-6585-4f05-8038-1f3357fcf80c): START TRANSACTION;
Executing (47e0422a-6585-4f05-8038-1f3357fcf80c): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '285adfbe-ec52-468f-a72e-c42c6bf83cc2' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = 'f0f64aad-0749-4a0a-aea6-18423e873506.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = 'd9615907-2dcc-421d-9bd5-ee675fb361ea' LIMIT 1;
Executing (47e0422a-6585-4f05-8038-1f3357fcf80c): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_c422db2fba3742a1904169438f265a07$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('668fa74b-b07c-4c74-8bbc-e5624d204883','285adfbe-ec52-468f-a72e-c42c6bf83cc2','d9615907-2dcc-421d-9bd5-ee675fb361ea','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','f0f64aad-0749-4a0a-aea6-18423e873506.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:38:46.114 +00:00','2020-03-05 17:38:46.114 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_c422db2fba3742a1904169438f265a07$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (47e0422a-6585-4f05-8038-1f3357fcf80c): COMMIT;
{ fileUUID: '668fa74b-b07c-4c74-8bbc-e5624d204883',
  cnodeUserUUID: '285adfbe-ec52-468f-a72e-c42c6bf83cc2',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: 'f0f64aad-0749-4a0a-aea6-18423e873506.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: 'd9615907-2dcc-421d-9bd5-ee675fb361ea',
  updatedAt: 2020-03-05T17:38:46.114Z,
  createdAt: 2020-03-05T17:38:46.114Z }
writing to db2...
Executing (f5e21486-ab9f-4fbc-9d4f-ea5bba811451): START TRANSACTION;
Executing (f5e21486-ab9f-4fbc-9d4f-ea5bba811451): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '285adfbe-ec52-468f-a72e-c42c6bf83cc2' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = 'f0f64aad-0749-4a0a-aea6-18423e873506.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = 'd9615907-2dcc-421d-9bd5-ee675fb361ea' LIMIT 1;
Executing (f5e21486-ab9f-4fbc-9d4f-ea5bba811451): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_ab19475880e74ce295123fe384966eb0$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('77629d61-95be-4ab3-9f84-edf8dffc3f5f','285adfbe-ec52-468f-a72e-c42c6bf83cc2','d9615907-2dcc-421d-9bd5-ee675fb361ea','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','f0f64aad-0749-4a0a-aea6-18423e873506.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:38:46.515 +00:00','2020-03-05 17:38:46.515 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_ab19475880e74ce295123fe384966eb0$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (f5e21486-ab9f-4fbc-9d4f-ea5bba811451): COMMIT;
{ fileUUID: '77629d61-95be-4ab3-9f84-edf8dffc3f5f',
  cnodeUserUUID: '285adfbe-ec52-468f-a72e-c42c6bf83cc2',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: 'f0f64aad-0749-4a0a-aea6-18423e873506.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: 'd9615907-2dcc-421d-9bd5-ee675fb361ea',
  updatedAt: 2020-03-05T17:38:46.515Z,
  createdAt: 2020-03-05T17:38:46.515Z }
writing to db3...
Executing (215723c5-5fb0-430b-85e5-0526a9e2eaa6): START TRANSACTION;
Executing (215723c5-5fb0-430b-85e5-0526a9e2eaa6): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '285adfbe-ec52-468f-a72e-c42c6bf83cc2' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = 'f0f64aad-0749-4a0a-aea6-18423e873506.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = 'd9615907-2dcc-421d-9bd5-ee675fb361ea' LIMIT 1;
Executing (215723c5-5fb0-430b-85e5-0526a9e2eaa6): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_0cfe14b621c64dd6995be5d2970986a1$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('331402b0-d0a1-41f8-bf75-888328745cac','285adfbe-ec52-468f-a72e-c42c6bf83cc2','d9615907-2dcc-421d-9bd5-ee675fb361ea','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','f0f64aad-0749-4a0a-aea6-18423e873506.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:38:46.898 +00:00','2020-03-05 17:38:46.898 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_0cfe14b621c64dd6995be5d2970986a1$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (215723c5-5fb0-430b-85e5-0526a9e2eaa6): COMMIT;
{ fileUUID: '331402b0-d0a1-41f8-bf75-888328745cac',
  cnodeUserUUID: '285adfbe-ec52-468f-a72e-c42c6bf83cc2',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: 'f0f64aad-0749-4a0a-aea6-18423e873506.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: 'd9615907-2dcc-421d-9bd5-ee675fb361ea',
  updatedAt: 2020-03-05T17:38:46.898Z,
  createdAt: 2020-03-05T17:38:46.898Z }




PROCESSING ROW #116: sourcefile: 7cdadd7b-82bc-40cd-8d29-6c1ad0fb1038.mp3, cnodeUserUUID: 11c34897-1946-4dfc-b59c-f646a1fc69fe, trackUUID: 1f3c94fc-bbcd-4f0f-ab7d-82b744b814e2, multihash: QmSQ2fp4Hti8HhepEY7ymhUNQFLuQZyJXypuhDTpzYvU37, dstPath: /file_storage/QmSQ2fp4Hti8HhepEY7ymhUNQFLuQZyJXypuhDTpzYvU37
writing to db1...
Executing (a2ce0e7d-cd4b-4644-868f-629734202f92): START TRANSACTION;
Executing (a2ce0e7d-cd4b-4644-868f-629734202f92): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '11c34897-1946-4dfc-b59c-f646a1fc69fe' AND "File"."multihash" = 'QmSQ2fp4Hti8HhepEY7ymhUNQFLuQZyJXypuhDTpzYvU37' AND "File"."sourceFile" = '7cdadd7b-82bc-40cd-8d29-6c1ad0fb1038.mp3' AND "File"."storagePath" = '/file_storage/QmSQ2fp4Hti8HhepEY7ymhUNQFLuQZyJXypuhDTpzYvU37' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '1f3c94fc-bbcd-4f0f-ab7d-82b744b814e2' LIMIT 1;
Executing (a2ce0e7d-cd4b-4644-868f-629734202f92): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_d14c30a5f88f4f6bba158ee0520e22f1$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('669a74cd-fb05-46d7-99e4-484976509610','11c34897-1946-4dfc-b59c-f646a1fc69fe','1f3c94fc-bbcd-4f0f-ab7d-82b744b814e2','QmSQ2fp4Hti8HhepEY7ymhUNQFLuQZyJXypuhDTpzYvU37','7cdadd7b-82bc-40cd-8d29-6c1ad0fb1038.mp3','/file_storage/QmSQ2fp4Hti8HhepEY7ymhUNQFLuQZyJXypuhDTpzYvU37','copy320','2020-03-05 17:38:47.283 +00:00','2020-03-05 17:38:47.283 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_d14c30a5f88f4f6bba158ee0520e22f1$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (a2ce0e7d-cd4b-4644-868f-629734202f92): COMMIT;
{ fileUUID: '669a74cd-fb05-46d7-99e4-484976509610',
  cnodeUserUUID: '11c34897-1946-4dfc-b59c-f646a1fc69fe',
  multihash: 'QmSQ2fp4Hti8HhepEY7ymhUNQFLuQZyJXypuhDTpzYvU37',
  sourceFile: '7cdadd7b-82bc-40cd-8d29-6c1ad0fb1038.mp3',
  storagePath:
   '/file_storage/QmSQ2fp4Hti8HhepEY7ymhUNQFLuQZyJXypuhDTpzYvU37',
  type: 'copy320',
  trackUUID: '1f3c94fc-bbcd-4f0f-ab7d-82b744b814e2',
  updatedAt: 2020-03-05T17:38:47.283Z,
  createdAt: 2020-03-05T17:38:47.283Z }
writing to db2...
Executing (6d75f1e4-8385-4177-a3b7-304136f5885f): START TRANSACTION;
Executing (6d75f1e4-8385-4177-a3b7-304136f5885f): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '11c34897-1946-4dfc-b59c-f646a1fc69fe' AND "File"."multihash" = 'QmSQ2fp4Hti8HhepEY7ymhUNQFLuQZyJXypuhDTpzYvU37' AND "File"."sourceFile" = '7cdadd7b-82bc-40cd-8d29-6c1ad0fb1038.mp3' AND "File"."storagePath" = '/file_storage/QmSQ2fp4Hti8HhepEY7ymhUNQFLuQZyJXypuhDTpzYvU37' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '1f3c94fc-bbcd-4f0f-ab7d-82b744b814e2' LIMIT 1;
Executing (6d75f1e4-8385-4177-a3b7-304136f5885f): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_38f8362d467745249d71441fb2310e3d$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('de8ff97c-6f92-420d-999c-4296f08e7fe7','11c34897-1946-4dfc-b59c-f646a1fc69fe','1f3c94fc-bbcd-4f0f-ab7d-82b744b814e2','QmSQ2fp4Hti8HhepEY7ymhUNQFLuQZyJXypuhDTpzYvU37','7cdadd7b-82bc-40cd-8d29-6c1ad0fb1038.mp3','/file_storage/QmSQ2fp4Hti8HhepEY7ymhUNQFLuQZyJXypuhDTpzYvU37','copy320','2020-03-05 17:38:47.684 +00:00','2020-03-05 17:38:47.684 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_38f8362d467745249d71441fb2310e3d$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (6d75f1e4-8385-4177-a3b7-304136f5885f): COMMIT;
{ fileUUID: 'de8ff97c-6f92-420d-999c-4296f08e7fe7',
  cnodeUserUUID: '11c34897-1946-4dfc-b59c-f646a1fc69fe',
  multihash: 'QmSQ2fp4Hti8HhepEY7ymhUNQFLuQZyJXypuhDTpzYvU37',
  sourceFile: '7cdadd7b-82bc-40cd-8d29-6c1ad0fb1038.mp3',
  storagePath:
   '/file_storage/QmSQ2fp4Hti8HhepEY7ymhUNQFLuQZyJXypuhDTpzYvU37',
  type: 'copy320',
  trackUUID: '1f3c94fc-bbcd-4f0f-ab7d-82b744b814e2',
  updatedAt: 2020-03-05T17:38:47.684Z,
  createdAt: 2020-03-05T17:38:47.684Z }
writing to db3...
Executing (a40807db-994f-4570-9f81-b10f17acce50): START TRANSACTION;
Executing (a40807db-994f-4570-9f81-b10f17acce50): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '11c34897-1946-4dfc-b59c-f646a1fc69fe' AND "File"."multihash" = 'QmSQ2fp4Hti8HhepEY7ymhUNQFLuQZyJXypuhDTpzYvU37' AND "File"."sourceFile" = '7cdadd7b-82bc-40cd-8d29-6c1ad0fb1038.mp3' AND "File"."storagePath" = '/file_storage/QmSQ2fp4Hti8HhepEY7ymhUNQFLuQZyJXypuhDTpzYvU37' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '1f3c94fc-bbcd-4f0f-ab7d-82b744b814e2' LIMIT 1;
Executing (a40807db-994f-4570-9f81-b10f17acce50): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_fc89a4e2aa934a2bbee24a9469f514ed$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('1ae5d787-41e8-49d5-b985-3568ff50d994','11c34897-1946-4dfc-b59c-f646a1fc69fe','1f3c94fc-bbcd-4f0f-ab7d-82b744b814e2','QmSQ2fp4Hti8HhepEY7ymhUNQFLuQZyJXypuhDTpzYvU37','7cdadd7b-82bc-40cd-8d29-6c1ad0fb1038.mp3','/file_storage/QmSQ2fp4Hti8HhepEY7ymhUNQFLuQZyJXypuhDTpzYvU37','copy320','2020-03-05 17:38:48.075 +00:00','2020-03-05 17:38:48.075 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_fc89a4e2aa934a2bbee24a9469f514ed$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (a40807db-994f-4570-9f81-b10f17acce50): COMMIT;
{ fileUUID: '1ae5d787-41e8-49d5-b985-3568ff50d994',
  cnodeUserUUID: '11c34897-1946-4dfc-b59c-f646a1fc69fe',
  multihash: 'QmSQ2fp4Hti8HhepEY7ymhUNQFLuQZyJXypuhDTpzYvU37',
  sourceFile: '7cdadd7b-82bc-40cd-8d29-6c1ad0fb1038.mp3',
  storagePath:
   '/file_storage/QmSQ2fp4Hti8HhepEY7ymhUNQFLuQZyJXypuhDTpzYvU37',
  type: 'copy320',
  trackUUID: '1f3c94fc-bbcd-4f0f-ab7d-82b744b814e2',
  updatedAt: 2020-03-05T17:38:48.075Z,
  createdAt: 2020-03-05T17:38:48.075Z }




PROCESSING ROW #117: sourcefile: defe34f3-d64f-42bc-a7bc-a91108fcbbac.mp3, cnodeUserUUID: 2e534b8d-e9e8-459c-ab78-492e7ce6d150, trackUUID: 69d4cc0a-4165-4a78-a61f-3ca31e92628a, multihash: QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM, dstPath: /file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM
writing to db1...
Executing (794a2e90-2ee0-4e29-b675-94b7d6809f5f): START TRANSACTION;
Executing (794a2e90-2ee0-4e29-b675-94b7d6809f5f): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '2e534b8d-e9e8-459c-ab78-492e7ce6d150' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = 'defe34f3-d64f-42bc-a7bc-a91108fcbbac.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '69d4cc0a-4165-4a78-a61f-3ca31e92628a' LIMIT 1;
Executing (794a2e90-2ee0-4e29-b675-94b7d6809f5f): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_1937a00b40f449d7979d8fdcccb94c6e$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('144f46b1-a47e-460f-97c3-cca9d2206c76','2e534b8d-e9e8-459c-ab78-492e7ce6d150','69d4cc0a-4165-4a78-a61f-3ca31e92628a','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','defe34f3-d64f-42bc-a7bc-a91108fcbbac.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:38:48.478 +00:00','2020-03-05 17:38:48.478 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_1937a00b40f449d7979d8fdcccb94c6e$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (794a2e90-2ee0-4e29-b675-94b7d6809f5f): COMMIT;
{ fileUUID: '144f46b1-a47e-460f-97c3-cca9d2206c76',
  cnodeUserUUID: '2e534b8d-e9e8-459c-ab78-492e7ce6d150',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: 'defe34f3-d64f-42bc-a7bc-a91108fcbbac.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: '69d4cc0a-4165-4a78-a61f-3ca31e92628a',
  updatedAt: 2020-03-05T17:38:48.478Z,
  createdAt: 2020-03-05T17:38:48.478Z }
writing to db2...
Executing (56b54ce3-4566-4f16-b129-55bea40926be): START TRANSACTION;
Executing (56b54ce3-4566-4f16-b129-55bea40926be): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '2e534b8d-e9e8-459c-ab78-492e7ce6d150' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = 'defe34f3-d64f-42bc-a7bc-a91108fcbbac.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '69d4cc0a-4165-4a78-a61f-3ca31e92628a' LIMIT 1;
Executing (56b54ce3-4566-4f16-b129-55bea40926be): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_78a5397a67e741fbaeb66ce7615fe4f2$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('27e0d77d-6e6f-4285-b6af-7f5afa401a07','2e534b8d-e9e8-459c-ab78-492e7ce6d150','69d4cc0a-4165-4a78-a61f-3ca31e92628a','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','defe34f3-d64f-42bc-a7bc-a91108fcbbac.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:38:48.865 +00:00','2020-03-05 17:38:48.865 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_78a5397a67e741fbaeb66ce7615fe4f2$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (56b54ce3-4566-4f16-b129-55bea40926be): COMMIT;
{ fileUUID: '27e0d77d-6e6f-4285-b6af-7f5afa401a07',
  cnodeUserUUID: '2e534b8d-e9e8-459c-ab78-492e7ce6d150',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: 'defe34f3-d64f-42bc-a7bc-a91108fcbbac.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: '69d4cc0a-4165-4a78-a61f-3ca31e92628a',
  updatedAt: 2020-03-05T17:38:48.865Z,
  createdAt: 2020-03-05T17:38:48.865Z }
writing to db3...
Executing (75746b20-f2f5-4093-9261-3af25a51593d): START TRANSACTION;
Executing (75746b20-f2f5-4093-9261-3af25a51593d): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '2e534b8d-e9e8-459c-ab78-492e7ce6d150' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = 'defe34f3-d64f-42bc-a7bc-a91108fcbbac.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '69d4cc0a-4165-4a78-a61f-3ca31e92628a' LIMIT 1;
Executing (75746b20-f2f5-4093-9261-3af25a51593d): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_f5876edbf1294fdaa8869f69fe80af49$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('ab2cd922-40af-4f26-a807-2cdf7e33268a','2e534b8d-e9e8-459c-ab78-492e7ce6d150','69d4cc0a-4165-4a78-a61f-3ca31e92628a','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','defe34f3-d64f-42bc-a7bc-a91108fcbbac.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:38:49.265 +00:00','2020-03-05 17:38:49.265 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_f5876edbf1294fdaa8869f69fe80af49$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (75746b20-f2f5-4093-9261-3af25a51593d): COMMIT;
{ fileUUID: 'ab2cd922-40af-4f26-a807-2cdf7e33268a',
  cnodeUserUUID: '2e534b8d-e9e8-459c-ab78-492e7ce6d150',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: 'defe34f3-d64f-42bc-a7bc-a91108fcbbac.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: '69d4cc0a-4165-4a78-a61f-3ca31e92628a',
  updatedAt: 2020-03-05T17:38:49.265Z,
  createdAt: 2020-03-05T17:38:49.265Z }




PROCESSING ROW #118: sourcefile: e0c255d6-1868-44cb-9365-489aa5c9af41.mp3, cnodeUserUUID: 11c34897-1946-4dfc-b59c-f646a1fc69fe, trackUUID: 08f48ce5-1690-41c1-9bc8-8f49b2383007, multihash: QmWJ8e6LcfSMkTdcdw7Rui8wWiFQPvaxraTJPdfwWd1EVe, dstPath: /file_storage/QmWJ8e6LcfSMkTdcdw7Rui8wWiFQPvaxraTJPdfwWd1EVe
writing to db1...
Executing (e2f1e7af-a459-4275-87c1-778f325263c6): START TRANSACTION;
Executing (e2f1e7af-a459-4275-87c1-778f325263c6): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '11c34897-1946-4dfc-b59c-f646a1fc69fe' AND "File"."multihash" = 'QmWJ8e6LcfSMkTdcdw7Rui8wWiFQPvaxraTJPdfwWd1EVe' AND "File"."sourceFile" = 'e0c255d6-1868-44cb-9365-489aa5c9af41.mp3' AND "File"."storagePath" = '/file_storage/QmWJ8e6LcfSMkTdcdw7Rui8wWiFQPvaxraTJPdfwWd1EVe' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '08f48ce5-1690-41c1-9bc8-8f49b2383007' LIMIT 1;
Executing (e2f1e7af-a459-4275-87c1-778f325263c6): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_4f1e0cf33c1245cebffdfefa131ccd06$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('0e108d5d-e17f-413e-8fc7-1126c83898d0','11c34897-1946-4dfc-b59c-f646a1fc69fe','08f48ce5-1690-41c1-9bc8-8f49b2383007','QmWJ8e6LcfSMkTdcdw7Rui8wWiFQPvaxraTJPdfwWd1EVe','e0c255d6-1868-44cb-9365-489aa5c9af41.mp3','/file_storage/QmWJ8e6LcfSMkTdcdw7Rui8wWiFQPvaxraTJPdfwWd1EVe','copy320','2020-03-05 17:38:49.645 +00:00','2020-03-05 17:38:49.645 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_4f1e0cf33c1245cebffdfefa131ccd06$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (e2f1e7af-a459-4275-87c1-778f325263c6): COMMIT;
{ fileUUID: '0e108d5d-e17f-413e-8fc7-1126c83898d0',
  cnodeUserUUID: '11c34897-1946-4dfc-b59c-f646a1fc69fe',
  multihash: 'QmWJ8e6LcfSMkTdcdw7Rui8wWiFQPvaxraTJPdfwWd1EVe',
  sourceFile: 'e0c255d6-1868-44cb-9365-489aa5c9af41.mp3',
  storagePath:
   '/file_storage/QmWJ8e6LcfSMkTdcdw7Rui8wWiFQPvaxraTJPdfwWd1EVe',
  type: 'copy320',
  trackUUID: '08f48ce5-1690-41c1-9bc8-8f49b2383007',
  updatedAt: 2020-03-05T17:38:49.645Z,
  createdAt: 2020-03-05T17:38:49.645Z }
writing to db2...
Executing (c844c042-9303-417b-9862-457be9c177ad): START TRANSACTION;
Executing (c844c042-9303-417b-9862-457be9c177ad): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '11c34897-1946-4dfc-b59c-f646a1fc69fe' AND "File"."multihash" = 'QmWJ8e6LcfSMkTdcdw7Rui8wWiFQPvaxraTJPdfwWd1EVe' AND "File"."sourceFile" = 'e0c255d6-1868-44cb-9365-489aa5c9af41.mp3' AND "File"."storagePath" = '/file_storage/QmWJ8e6LcfSMkTdcdw7Rui8wWiFQPvaxraTJPdfwWd1EVe' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '08f48ce5-1690-41c1-9bc8-8f49b2383007' LIMIT 1;
Executing (c844c042-9303-417b-9862-457be9c177ad): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_f130c2b9ca6a4f80b2e2632d548903ba$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('54669b5c-c092-40e8-95cc-67a187195f25','11c34897-1946-4dfc-b59c-f646a1fc69fe','08f48ce5-1690-41c1-9bc8-8f49b2383007','QmWJ8e6LcfSMkTdcdw7Rui8wWiFQPvaxraTJPdfwWd1EVe','e0c255d6-1868-44cb-9365-489aa5c9af41.mp3','/file_storage/QmWJ8e6LcfSMkTdcdw7Rui8wWiFQPvaxraTJPdfwWd1EVe','copy320','2020-03-05 17:38:50.040 +00:00','2020-03-05 17:38:50.040 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_f130c2b9ca6a4f80b2e2632d548903ba$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (c844c042-9303-417b-9862-457be9c177ad): COMMIT;
{ fileUUID: '54669b5c-c092-40e8-95cc-67a187195f25',
  cnodeUserUUID: '11c34897-1946-4dfc-b59c-f646a1fc69fe',
  multihash: 'QmWJ8e6LcfSMkTdcdw7Rui8wWiFQPvaxraTJPdfwWd1EVe',
  sourceFile: 'e0c255d6-1868-44cb-9365-489aa5c9af41.mp3',
  storagePath:
   '/file_storage/QmWJ8e6LcfSMkTdcdw7Rui8wWiFQPvaxraTJPdfwWd1EVe',
  type: 'copy320',
  trackUUID: '08f48ce5-1690-41c1-9bc8-8f49b2383007',
  updatedAt: 2020-03-05T17:38:50.040Z,
  createdAt: 2020-03-05T17:38:50.040Z }
writing to db3...
Executing (1dd22a06-3d2e-4995-a873-da0dd6160a3a): START TRANSACTION;
Executing (1dd22a06-3d2e-4995-a873-da0dd6160a3a): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '11c34897-1946-4dfc-b59c-f646a1fc69fe' AND "File"."multihash" = 'QmWJ8e6LcfSMkTdcdw7Rui8wWiFQPvaxraTJPdfwWd1EVe' AND "File"."sourceFile" = 'e0c255d6-1868-44cb-9365-489aa5c9af41.mp3' AND "File"."storagePath" = '/file_storage/QmWJ8e6LcfSMkTdcdw7Rui8wWiFQPvaxraTJPdfwWd1EVe' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '08f48ce5-1690-41c1-9bc8-8f49b2383007' LIMIT 1;
Executing (1dd22a06-3d2e-4995-a873-da0dd6160a3a): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_94c568ed70a8484d8038333a29b8ac73$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('83b37841-7e91-4e06-b716-d361bb0ae482','11c34897-1946-4dfc-b59c-f646a1fc69fe','08f48ce5-1690-41c1-9bc8-8f49b2383007','QmWJ8e6LcfSMkTdcdw7Rui8wWiFQPvaxraTJPdfwWd1EVe','e0c255d6-1868-44cb-9365-489aa5c9af41.mp3','/file_storage/QmWJ8e6LcfSMkTdcdw7Rui8wWiFQPvaxraTJPdfwWd1EVe','copy320','2020-03-05 17:38:50.441 +00:00','2020-03-05 17:38:50.441 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_94c568ed70a8484d8038333a29b8ac73$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (1dd22a06-3d2e-4995-a873-da0dd6160a3a): COMMIT;
{ fileUUID: '83b37841-7e91-4e06-b716-d361bb0ae482',
  cnodeUserUUID: '11c34897-1946-4dfc-b59c-f646a1fc69fe',
  multihash: 'QmWJ8e6LcfSMkTdcdw7Rui8wWiFQPvaxraTJPdfwWd1EVe',
  sourceFile: 'e0c255d6-1868-44cb-9365-489aa5c9af41.mp3',
  storagePath:
   '/file_storage/QmWJ8e6LcfSMkTdcdw7Rui8wWiFQPvaxraTJPdfwWd1EVe',
  type: 'copy320',
  trackUUID: '08f48ce5-1690-41c1-9bc8-8f49b2383007',
  updatedAt: 2020-03-05T17:38:50.441Z,
  createdAt: 2020-03-05T17:38:50.441Z }




PROCESSING ROW #119: sourcefile: c599f30d-16b8-4b91-b9b8-0580dcccc20e.mp3, cnodeUserUUID: f40e8f46-c706-4bb8-9697-296bf300dacc, trackUUID: 1eb18139-6153-409a-9357-8b597b89436f, multihash: QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM, dstPath: /file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM
writing to db1...
Executing (232dd610-da1a-4637-925a-7ad5233aea29): START TRANSACTION;
Executing (232dd610-da1a-4637-925a-7ad5233aea29): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = 'f40e8f46-c706-4bb8-9697-296bf300dacc' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = 'c599f30d-16b8-4b91-b9b8-0580dcccc20e.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '1eb18139-6153-409a-9357-8b597b89436f' LIMIT 1;
Executing (232dd610-da1a-4637-925a-7ad5233aea29): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_e349a25c8a5147f0a43dc9379f5aa207$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('7495903e-1d3a-4e03-ba8f-bedc1214e866','f40e8f46-c706-4bb8-9697-296bf300dacc','1eb18139-6153-409a-9357-8b597b89436f','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','c599f30d-16b8-4b91-b9b8-0580dcccc20e.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:38:50.830 +00:00','2020-03-05 17:38:50.830 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_e349a25c8a5147f0a43dc9379f5aa207$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (232dd610-da1a-4637-925a-7ad5233aea29): COMMIT;
{ fileUUID: '7495903e-1d3a-4e03-ba8f-bedc1214e866',
  cnodeUserUUID: 'f40e8f46-c706-4bb8-9697-296bf300dacc',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: 'c599f30d-16b8-4b91-b9b8-0580dcccc20e.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: '1eb18139-6153-409a-9357-8b597b89436f',
  updatedAt: 2020-03-05T17:38:50.830Z,
  createdAt: 2020-03-05T17:38:50.830Z }
writing to db2...
Executing (be9f6624-05e7-47ad-9610-00e67b84bb6c): START TRANSACTION;
Executing (be9f6624-05e7-47ad-9610-00e67b84bb6c): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = 'f40e8f46-c706-4bb8-9697-296bf300dacc' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = 'c599f30d-16b8-4b91-b9b8-0580dcccc20e.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '1eb18139-6153-409a-9357-8b597b89436f' LIMIT 1;
Executing (be9f6624-05e7-47ad-9610-00e67b84bb6c): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_c7d0b7f7f7814f149b881bc4e352e3f1$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('e1ff3389-4bcf-4f80-8564-821cd5bdb7ad','f40e8f46-c706-4bb8-9697-296bf300dacc','1eb18139-6153-409a-9357-8b597b89436f','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','c599f30d-16b8-4b91-b9b8-0580dcccc20e.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:38:51.225 +00:00','2020-03-05 17:38:51.225 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_c7d0b7f7f7814f149b881bc4e352e3f1$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (be9f6624-05e7-47ad-9610-00e67b84bb6c): COMMIT;
{ fileUUID: 'e1ff3389-4bcf-4f80-8564-821cd5bdb7ad',
  cnodeUserUUID: 'f40e8f46-c706-4bb8-9697-296bf300dacc',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: 'c599f30d-16b8-4b91-b9b8-0580dcccc20e.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: '1eb18139-6153-409a-9357-8b597b89436f',
  updatedAt: 2020-03-05T17:38:51.225Z,
  createdAt: 2020-03-05T17:38:51.225Z }
writing to db3...
Executing (04702e88-fd92-4616-9adf-0b66b3380df0): START TRANSACTION;
Executing (04702e88-fd92-4616-9adf-0b66b3380df0): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = 'f40e8f46-c706-4bb8-9697-296bf300dacc' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = 'c599f30d-16b8-4b91-b9b8-0580dcccc20e.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '1eb18139-6153-409a-9357-8b597b89436f' LIMIT 1;
Executing (04702e88-fd92-4616-9adf-0b66b3380df0): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_da9b1b1b70f74ab1a8d8dd1861fed36f$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('703fd6b4-c3d1-499f-a03b-81869a78fd22','f40e8f46-c706-4bb8-9697-296bf300dacc','1eb18139-6153-409a-9357-8b597b89436f','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','c599f30d-16b8-4b91-b9b8-0580dcccc20e.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:38:51.607 +00:00','2020-03-05 17:38:51.607 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_da9b1b1b70f74ab1a8d8dd1861fed36f$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (04702e88-fd92-4616-9adf-0b66b3380df0): COMMIT;
{ fileUUID: '703fd6b4-c3d1-499f-a03b-81869a78fd22',
  cnodeUserUUID: 'f40e8f46-c706-4bb8-9697-296bf300dacc',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: 'c599f30d-16b8-4b91-b9b8-0580dcccc20e.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: '1eb18139-6153-409a-9357-8b597b89436f',
  updatedAt: 2020-03-05T17:38:51.607Z,
  createdAt: 2020-03-05T17:38:51.607Z }




PROCESSING ROW #120: sourcefile: ef8e54fc-b4a6-44fb-a712-d2ce4e9afc70.mp3, cnodeUserUUID: 41d0a79f-3432-4435-a699-6dc562a1285a, trackUUID: ba877bb7-079a-414f-aaa5-5618cf9eecb5, multihash: QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM, dstPath: /file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM
writing to db1...
Executing (9b56f0b1-3bc3-4a7d-b66c-c02b02355a36): START TRANSACTION;
Executing (9b56f0b1-3bc3-4a7d-b66c-c02b02355a36): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '41d0a79f-3432-4435-a699-6dc562a1285a' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = 'ef8e54fc-b4a6-44fb-a712-d2ce4e9afc70.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = 'ba877bb7-079a-414f-aaa5-5618cf9eecb5' LIMIT 1;
Executing (9b56f0b1-3bc3-4a7d-b66c-c02b02355a36): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_b9270004d35c430d85606b12db5dd459$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('c3436dbb-9245-4d5b-afd0-75ffa2147973','41d0a79f-3432-4435-a699-6dc562a1285a','ba877bb7-079a-414f-aaa5-5618cf9eecb5','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','ef8e54fc-b4a6-44fb-a712-d2ce4e9afc70.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:38:51.980 +00:00','2020-03-05 17:38:51.980 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_b9270004d35c430d85606b12db5dd459$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (9b56f0b1-3bc3-4a7d-b66c-c02b02355a36): COMMIT;
{ fileUUID: 'c3436dbb-9245-4d5b-afd0-75ffa2147973',
  cnodeUserUUID: '41d0a79f-3432-4435-a699-6dc562a1285a',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: 'ef8e54fc-b4a6-44fb-a712-d2ce4e9afc70.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: 'ba877bb7-079a-414f-aaa5-5618cf9eecb5',
  updatedAt: 2020-03-05T17:38:51.980Z,
  createdAt: 2020-03-05T17:38:51.980Z }
writing to db2...
Executing (7b6ba90b-0f00-4094-85d9-463e1adead4b): START TRANSACTION;
Executing (7b6ba90b-0f00-4094-85d9-463e1adead4b): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '41d0a79f-3432-4435-a699-6dc562a1285a' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = 'ef8e54fc-b4a6-44fb-a712-d2ce4e9afc70.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = 'ba877bb7-079a-414f-aaa5-5618cf9eecb5' LIMIT 1;
Executing (7b6ba90b-0f00-4094-85d9-463e1adead4b): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_2ecdbfed15044542abb3fbf28da5de05$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('26273a62-9804-44af-85e2-fb86e38f4633','41d0a79f-3432-4435-a699-6dc562a1285a','ba877bb7-079a-414f-aaa5-5618cf9eecb5','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','ef8e54fc-b4a6-44fb-a712-d2ce4e9afc70.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:38:52.374 +00:00','2020-03-05 17:38:52.374 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_2ecdbfed15044542abb3fbf28da5de05$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (7b6ba90b-0f00-4094-85d9-463e1adead4b): COMMIT;
{ fileUUID: '26273a62-9804-44af-85e2-fb86e38f4633',
  cnodeUserUUID: '41d0a79f-3432-4435-a699-6dc562a1285a',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: 'ef8e54fc-b4a6-44fb-a712-d2ce4e9afc70.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: 'ba877bb7-079a-414f-aaa5-5618cf9eecb5',
  updatedAt: 2020-03-05T17:38:52.374Z,
  createdAt: 2020-03-05T17:38:52.374Z }
writing to db3...
Executing (2bc5ab32-cc15-4677-9a7a-8a69286f766a): START TRANSACTION;
Executing (2bc5ab32-cc15-4677-9a7a-8a69286f766a): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '41d0a79f-3432-4435-a699-6dc562a1285a' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = 'ef8e54fc-b4a6-44fb-a712-d2ce4e9afc70.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = 'ba877bb7-079a-414f-aaa5-5618cf9eecb5' LIMIT 1;
Executing (2bc5ab32-cc15-4677-9a7a-8a69286f766a): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_6162f4d6f5c64ab08d1a82b6238f9080$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('979b4ffa-244f-477d-a9e8-42ff809cb274','41d0a79f-3432-4435-a699-6dc562a1285a','ba877bb7-079a-414f-aaa5-5618cf9eecb5','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','ef8e54fc-b4a6-44fb-a712-d2ce4e9afc70.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:38:52.758 +00:00','2020-03-05 17:38:52.758 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_6162f4d6f5c64ab08d1a82b6238f9080$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (2bc5ab32-cc15-4677-9a7a-8a69286f766a): COMMIT;
{ fileUUID: '979b4ffa-244f-477d-a9e8-42ff809cb274',
  cnodeUserUUID: '41d0a79f-3432-4435-a699-6dc562a1285a',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: 'ef8e54fc-b4a6-44fb-a712-d2ce4e9afc70.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: 'ba877bb7-079a-414f-aaa5-5618cf9eecb5',
  updatedAt: 2020-03-05T17:38:52.758Z,
  createdAt: 2020-03-05T17:38:52.758Z }




PROCESSING ROW #121: sourcefile: 51005fa5-7951-4ecf-b0bf-9d3a8c8330c9.mp3, cnodeUserUUID: 98c3d0fa-dc1e-4274-94b6-ab654fecf064, trackUUID: 9300e993-efca-4122-967c-eaf045014825, multihash: QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM, dstPath: /file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM
writing to db1...
Executing (79f90f5d-7872-4a17-9ba3-43722ffa039d): START TRANSACTION;
Executing (79f90f5d-7872-4a17-9ba3-43722ffa039d): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '98c3d0fa-dc1e-4274-94b6-ab654fecf064' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = '51005fa5-7951-4ecf-b0bf-9d3a8c8330c9.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '9300e993-efca-4122-967c-eaf045014825' LIMIT 1;
Executing (79f90f5d-7872-4a17-9ba3-43722ffa039d): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_54ca42e9a4a04388b3a08ca5051e0884$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('b96084c0-1cb6-4b2b-a09a-321688a541e2','98c3d0fa-dc1e-4274-94b6-ab654fecf064','9300e993-efca-4122-967c-eaf045014825','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','51005fa5-7951-4ecf-b0bf-9d3a8c8330c9.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:38:53.144 +00:00','2020-03-05 17:38:53.144 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_54ca42e9a4a04388b3a08ca5051e0884$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (79f90f5d-7872-4a17-9ba3-43722ffa039d): COMMIT;
{ fileUUID: 'b96084c0-1cb6-4b2b-a09a-321688a541e2',
  cnodeUserUUID: '98c3d0fa-dc1e-4274-94b6-ab654fecf064',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: '51005fa5-7951-4ecf-b0bf-9d3a8c8330c9.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: '9300e993-efca-4122-967c-eaf045014825',
  updatedAt: 2020-03-05T17:38:53.144Z,
  createdAt: 2020-03-05T17:38:53.144Z }
writing to db2...
Executing (43567e4d-3b86-4a4b-b602-f2768f9aed94): START TRANSACTION;
Executing (43567e4d-3b86-4a4b-b602-f2768f9aed94): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '98c3d0fa-dc1e-4274-94b6-ab654fecf064' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = '51005fa5-7951-4ecf-b0bf-9d3a8c8330c9.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '9300e993-efca-4122-967c-eaf045014825' LIMIT 1;
Executing (43567e4d-3b86-4a4b-b602-f2768f9aed94): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_35dab90a0b14444a9b85ce467586248d$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('0d026b81-d654-44d9-903a-c90ca5431f37','98c3d0fa-dc1e-4274-94b6-ab654fecf064','9300e993-efca-4122-967c-eaf045014825','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','51005fa5-7951-4ecf-b0bf-9d3a8c8330c9.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:38:53.550 +00:00','2020-03-05 17:38:53.550 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_35dab90a0b14444a9b85ce467586248d$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (43567e4d-3b86-4a4b-b602-f2768f9aed94): COMMIT;
{ fileUUID: '0d026b81-d654-44d9-903a-c90ca5431f37',
  cnodeUserUUID: '98c3d0fa-dc1e-4274-94b6-ab654fecf064',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: '51005fa5-7951-4ecf-b0bf-9d3a8c8330c9.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: '9300e993-efca-4122-967c-eaf045014825',
  updatedAt: 2020-03-05T17:38:53.550Z,
  createdAt: 2020-03-05T17:38:53.550Z }
writing to db3...
Executing (22282e2d-e0ae-4f5b-b1d0-75e29f908a1c): START TRANSACTION;
Executing (22282e2d-e0ae-4f5b-b1d0-75e29f908a1c): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '98c3d0fa-dc1e-4274-94b6-ab654fecf064' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = '51005fa5-7951-4ecf-b0bf-9d3a8c8330c9.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '9300e993-efca-4122-967c-eaf045014825' LIMIT 1;
Executing (22282e2d-e0ae-4f5b-b1d0-75e29f908a1c): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_0a7796dd03ef4170bfa5f5670534149a$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('55b6cd93-f8bf-40e3-ab24-06b124222a67','98c3d0fa-dc1e-4274-94b6-ab654fecf064','9300e993-efca-4122-967c-eaf045014825','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','51005fa5-7951-4ecf-b0bf-9d3a8c8330c9.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:38:53.993 +00:00','2020-03-05 17:38:53.993 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_0a7796dd03ef4170bfa5f5670534149a$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (22282e2d-e0ae-4f5b-b1d0-75e29f908a1c): COMMIT;
{ fileUUID: '55b6cd93-f8bf-40e3-ab24-06b124222a67',
  cnodeUserUUID: '98c3d0fa-dc1e-4274-94b6-ab654fecf064',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: '51005fa5-7951-4ecf-b0bf-9d3a8c8330c9.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: '9300e993-efca-4122-967c-eaf045014825',
  updatedAt: 2020-03-05T17:38:53.993Z,
  createdAt: 2020-03-05T17:38:53.993Z }




PROCESSING ROW #122: sourcefile: e432d754-1112-4471-9320-dcd60412b845.mp3, cnodeUserUUID: 217be066-d50d-483b-a587-7f188c02678a, trackUUID: 48a55c70-6671-495e-8eee-0a34a51202a8, multihash: QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM, dstPath: /file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM
writing to db1...
Executing (4366483a-a84c-4491-bcf1-fbae61e8ed8b): START TRANSACTION;
Executing (4366483a-a84c-4491-bcf1-fbae61e8ed8b): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '217be066-d50d-483b-a587-7f188c02678a' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = 'e432d754-1112-4471-9320-dcd60412b845.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '48a55c70-6671-495e-8eee-0a34a51202a8' LIMIT 1;
Executing (4366483a-a84c-4491-bcf1-fbae61e8ed8b): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_b0ba297dbef6452d87534b473003e5b3$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('23683ead-1bdc-42ae-ba17-b451da266b39','217be066-d50d-483b-a587-7f188c02678a','48a55c70-6671-495e-8eee-0a34a51202a8','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','e432d754-1112-4471-9320-dcd60412b845.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:38:54.390 +00:00','2020-03-05 17:38:54.390 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_b0ba297dbef6452d87534b473003e5b3$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (4366483a-a84c-4491-bcf1-fbae61e8ed8b): COMMIT;
{ fileUUID: '23683ead-1bdc-42ae-ba17-b451da266b39',
  cnodeUserUUID: '217be066-d50d-483b-a587-7f188c02678a',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: 'e432d754-1112-4471-9320-dcd60412b845.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: '48a55c70-6671-495e-8eee-0a34a51202a8',
  updatedAt: 2020-03-05T17:38:54.390Z,
  createdAt: 2020-03-05T17:38:54.390Z }
writing to db2...
Executing (14b3805b-0a0f-49ab-bbb7-51548748842c): START TRANSACTION;
Executing (14b3805b-0a0f-49ab-bbb7-51548748842c): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '217be066-d50d-483b-a587-7f188c02678a' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = 'e432d754-1112-4471-9320-dcd60412b845.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '48a55c70-6671-495e-8eee-0a34a51202a8' LIMIT 1;
Executing (14b3805b-0a0f-49ab-bbb7-51548748842c): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_9dc0dae690d9446e9cfa55bc82195bd6$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('e711bab8-5a3b-42da-9ef7-6445cd55e702','217be066-d50d-483b-a587-7f188c02678a','48a55c70-6671-495e-8eee-0a34a51202a8','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','e432d754-1112-4471-9320-dcd60412b845.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:38:54.821 +00:00','2020-03-05 17:38:54.821 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_9dc0dae690d9446e9cfa55bc82195bd6$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (14b3805b-0a0f-49ab-bbb7-51548748842c): COMMIT;
{ fileUUID: 'e711bab8-5a3b-42da-9ef7-6445cd55e702',
  cnodeUserUUID: '217be066-d50d-483b-a587-7f188c02678a',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: 'e432d754-1112-4471-9320-dcd60412b845.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: '48a55c70-6671-495e-8eee-0a34a51202a8',
  updatedAt: 2020-03-05T17:38:54.821Z,
  createdAt: 2020-03-05T17:38:54.821Z }
writing to db3...
Executing (59a00574-78e9-4a6d-abc4-6252a2e71edb): START TRANSACTION;
Executing (59a00574-78e9-4a6d-abc4-6252a2e71edb): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '217be066-d50d-483b-a587-7f188c02678a' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = 'e432d754-1112-4471-9320-dcd60412b845.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '48a55c70-6671-495e-8eee-0a34a51202a8' LIMIT 1;
Executing (59a00574-78e9-4a6d-abc4-6252a2e71edb): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_022d9c670b0e4b9c870fa593fd8df155$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('4f750f54-e796-4301-96c4-137f0f5ddfde','217be066-d50d-483b-a587-7f188c02678a','48a55c70-6671-495e-8eee-0a34a51202a8','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','e432d754-1112-4471-9320-dcd60412b845.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:38:55.215 +00:00','2020-03-05 17:38:55.215 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_022d9c670b0e4b9c870fa593fd8df155$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (59a00574-78e9-4a6d-abc4-6252a2e71edb): COMMIT;
{ fileUUID: '4f750f54-e796-4301-96c4-137f0f5ddfde',
  cnodeUserUUID: '217be066-d50d-483b-a587-7f188c02678a',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: 'e432d754-1112-4471-9320-dcd60412b845.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: '48a55c70-6671-495e-8eee-0a34a51202a8',
  updatedAt: 2020-03-05T17:38:55.215Z,
  createdAt: 2020-03-05T17:38:55.215Z }




PROCESSING ROW #123: sourcefile: 73ba40ed-a0f7-4fe7-b01d-aa98fd88cdb8.mp3, cnodeUserUUID: 11c34897-1946-4dfc-b59c-f646a1fc69fe, trackUUID: 29698701-8744-4c75-9d37-d32f95fcd5d2, multihash: QmTTWsgTvuiPAhZMnkeNzEmkni9fQ7AJLGtZypWaSH31wQ, dstPath: /file_storage/QmTTWsgTvuiPAhZMnkeNzEmkni9fQ7AJLGtZypWaSH31wQ
writing to db1...
Executing (1353c433-7044-4666-84ec-e6ec24c23bc4): START TRANSACTION;
Executing (1353c433-7044-4666-84ec-e6ec24c23bc4): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '11c34897-1946-4dfc-b59c-f646a1fc69fe' AND "File"."multihash" = 'QmTTWsgTvuiPAhZMnkeNzEmkni9fQ7AJLGtZypWaSH31wQ' AND "File"."sourceFile" = '73ba40ed-a0f7-4fe7-b01d-aa98fd88cdb8.mp3' AND "File"."storagePath" = '/file_storage/QmTTWsgTvuiPAhZMnkeNzEmkni9fQ7AJLGtZypWaSH31wQ' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '29698701-8744-4c75-9d37-d32f95fcd5d2' LIMIT 1;
Executing (1353c433-7044-4666-84ec-e6ec24c23bc4): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_a5dbcee315dd4c3f88218cdea73a62fc$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('62a6c7f7-5e02-4eca-a2e5-5e1e0a8ffcb6','11c34897-1946-4dfc-b59c-f646a1fc69fe','29698701-8744-4c75-9d37-d32f95fcd5d2','QmTTWsgTvuiPAhZMnkeNzEmkni9fQ7AJLGtZypWaSH31wQ','73ba40ed-a0f7-4fe7-b01d-aa98fd88cdb8.mp3','/file_storage/QmTTWsgTvuiPAhZMnkeNzEmkni9fQ7AJLGtZypWaSH31wQ','copy320','2020-03-05 17:38:55.604 +00:00','2020-03-05 17:38:55.604 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_a5dbcee315dd4c3f88218cdea73a62fc$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (1353c433-7044-4666-84ec-e6ec24c23bc4): COMMIT;
{ fileUUID: '62a6c7f7-5e02-4eca-a2e5-5e1e0a8ffcb6',
  cnodeUserUUID: '11c34897-1946-4dfc-b59c-f646a1fc69fe',
  multihash: 'QmTTWsgTvuiPAhZMnkeNzEmkni9fQ7AJLGtZypWaSH31wQ',
  sourceFile: '73ba40ed-a0f7-4fe7-b01d-aa98fd88cdb8.mp3',
  storagePath:
   '/file_storage/QmTTWsgTvuiPAhZMnkeNzEmkni9fQ7AJLGtZypWaSH31wQ',
  type: 'copy320',
  trackUUID: '29698701-8744-4c75-9d37-d32f95fcd5d2',
  updatedAt: 2020-03-05T17:38:55.604Z,
  createdAt: 2020-03-05T17:38:55.604Z }
writing to db2...
Executing (5e61abf8-4c8c-4255-a5af-a78af13e6ca1): START TRANSACTION;
Executing (5e61abf8-4c8c-4255-a5af-a78af13e6ca1): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '11c34897-1946-4dfc-b59c-f646a1fc69fe' AND "File"."multihash" = 'QmTTWsgTvuiPAhZMnkeNzEmkni9fQ7AJLGtZypWaSH31wQ' AND "File"."sourceFile" = '73ba40ed-a0f7-4fe7-b01d-aa98fd88cdb8.mp3' AND "File"."storagePath" = '/file_storage/QmTTWsgTvuiPAhZMnkeNzEmkni9fQ7AJLGtZypWaSH31wQ' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '29698701-8744-4c75-9d37-d32f95fcd5d2' LIMIT 1;
Executing (5e61abf8-4c8c-4255-a5af-a78af13e6ca1): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_8832a741df5c4958974ac6c33fed5d83$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('d2a51043-e5a9-49bb-b785-105d800efbd8','11c34897-1946-4dfc-b59c-f646a1fc69fe','29698701-8744-4c75-9d37-d32f95fcd5d2','QmTTWsgTvuiPAhZMnkeNzEmkni9fQ7AJLGtZypWaSH31wQ','73ba40ed-a0f7-4fe7-b01d-aa98fd88cdb8.mp3','/file_storage/QmTTWsgTvuiPAhZMnkeNzEmkni9fQ7AJLGtZypWaSH31wQ','copy320','2020-03-05 17:38:56.001 +00:00','2020-03-05 17:38:56.001 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_8832a741df5c4958974ac6c33fed5d83$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (5e61abf8-4c8c-4255-a5af-a78af13e6ca1): COMMIT;
{ fileUUID: 'd2a51043-e5a9-49bb-b785-105d800efbd8',
  cnodeUserUUID: '11c34897-1946-4dfc-b59c-f646a1fc69fe',
  multihash: 'QmTTWsgTvuiPAhZMnkeNzEmkni9fQ7AJLGtZypWaSH31wQ',
  sourceFile: '73ba40ed-a0f7-4fe7-b01d-aa98fd88cdb8.mp3',
  storagePath:
   '/file_storage/QmTTWsgTvuiPAhZMnkeNzEmkni9fQ7AJLGtZypWaSH31wQ',
  type: 'copy320',
  trackUUID: '29698701-8744-4c75-9d37-d32f95fcd5d2',
  updatedAt: 2020-03-05T17:38:56.001Z,
  createdAt: 2020-03-05T17:38:56.001Z }
writing to db3...
Executing (aa7e0335-1d95-46b0-a72d-d39af230d1fa): START TRANSACTION;
Executing (aa7e0335-1d95-46b0-a72d-d39af230d1fa): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '11c34897-1946-4dfc-b59c-f646a1fc69fe' AND "File"."multihash" = 'QmTTWsgTvuiPAhZMnkeNzEmkni9fQ7AJLGtZypWaSH31wQ' AND "File"."sourceFile" = '73ba40ed-a0f7-4fe7-b01d-aa98fd88cdb8.mp3' AND "File"."storagePath" = '/file_storage/QmTTWsgTvuiPAhZMnkeNzEmkni9fQ7AJLGtZypWaSH31wQ' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '29698701-8744-4c75-9d37-d32f95fcd5d2' LIMIT 1;
Executing (aa7e0335-1d95-46b0-a72d-d39af230d1fa): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_c2e72347bc924516ba923758595f4ca1$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('e79781d5-6457-4802-aa7d-192de9b9fecd','11c34897-1946-4dfc-b59c-f646a1fc69fe','29698701-8744-4c75-9d37-d32f95fcd5d2','QmTTWsgTvuiPAhZMnkeNzEmkni9fQ7AJLGtZypWaSH31wQ','73ba40ed-a0f7-4fe7-b01d-aa98fd88cdb8.mp3','/file_storage/QmTTWsgTvuiPAhZMnkeNzEmkni9fQ7AJLGtZypWaSH31wQ','copy320','2020-03-05 17:38:56.417 +00:00','2020-03-05 17:38:56.417 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_c2e72347bc924516ba923758595f4ca1$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (aa7e0335-1d95-46b0-a72d-d39af230d1fa): COMMIT;
{ fileUUID: 'e79781d5-6457-4802-aa7d-192de9b9fecd',
  cnodeUserUUID: '11c34897-1946-4dfc-b59c-f646a1fc69fe',
  multihash: 'QmTTWsgTvuiPAhZMnkeNzEmkni9fQ7AJLGtZypWaSH31wQ',
  sourceFile: '73ba40ed-a0f7-4fe7-b01d-aa98fd88cdb8.mp3',
  storagePath:
   '/file_storage/QmTTWsgTvuiPAhZMnkeNzEmkni9fQ7AJLGtZypWaSH31wQ',
  type: 'copy320',
  trackUUID: '29698701-8744-4c75-9d37-d32f95fcd5d2',
  updatedAt: 2020-03-05T17:38:56.417Z,
  createdAt: 2020-03-05T17:38:56.417Z }




PROCESSING ROW #124: sourcefile: 0b005342-d1d6-4c7d-a98f-9411b036f9c7.mp3, cnodeUserUUID: 11c34897-1946-4dfc-b59c-f646a1fc69fe, trackUUID: 91b5041b-068f-448d-85a6-b2ddae475b6a, multihash: QmRMF2DuTJ1KQepmJnkpP6wPbQR4So581EYDUVjGoPB2Dk, dstPath: /file_storage/QmRMF2DuTJ1KQepmJnkpP6wPbQR4So581EYDUVjGoPB2Dk
writing to db1...
Executing (23348464-4af7-4a5f-aa4f-441ef1b791d5): START TRANSACTION;
Executing (23348464-4af7-4a5f-aa4f-441ef1b791d5): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '11c34897-1946-4dfc-b59c-f646a1fc69fe' AND "File"."multihash" = 'QmRMF2DuTJ1KQepmJnkpP6wPbQR4So581EYDUVjGoPB2Dk' AND "File"."sourceFile" = '0b005342-d1d6-4c7d-a98f-9411b036f9c7.mp3' AND "File"."storagePath" = '/file_storage/QmRMF2DuTJ1KQepmJnkpP6wPbQR4So581EYDUVjGoPB2Dk' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '91b5041b-068f-448d-85a6-b2ddae475b6a' LIMIT 1;
Executing (23348464-4af7-4a5f-aa4f-441ef1b791d5): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_391a48ef3873404c9b766260a10b92df$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('f35c1a59-f616-40af-81b0-f18d08749130','11c34897-1946-4dfc-b59c-f646a1fc69fe','91b5041b-068f-448d-85a6-b2ddae475b6a','QmRMF2DuTJ1KQepmJnkpP6wPbQR4So581EYDUVjGoPB2Dk','0b005342-d1d6-4c7d-a98f-9411b036f9c7.mp3','/file_storage/QmRMF2DuTJ1KQepmJnkpP6wPbQR4So581EYDUVjGoPB2Dk','copy320','2020-03-05 17:38:56.801 +00:00','2020-03-05 17:38:56.801 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_391a48ef3873404c9b766260a10b92df$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (23348464-4af7-4a5f-aa4f-441ef1b791d5): COMMIT;
{ fileUUID: 'f35c1a59-f616-40af-81b0-f18d08749130',
  cnodeUserUUID: '11c34897-1946-4dfc-b59c-f646a1fc69fe',
  multihash: 'QmRMF2DuTJ1KQepmJnkpP6wPbQR4So581EYDUVjGoPB2Dk',
  sourceFile: '0b005342-d1d6-4c7d-a98f-9411b036f9c7.mp3',
  storagePath:
   '/file_storage/QmRMF2DuTJ1KQepmJnkpP6wPbQR4So581EYDUVjGoPB2Dk',
  type: 'copy320',
  trackUUID: '91b5041b-068f-448d-85a6-b2ddae475b6a',
  updatedAt: 2020-03-05T17:38:56.801Z,
  createdAt: 2020-03-05T17:38:56.801Z }
writing to db2...
Executing (8a43f0c9-cc22-4d8f-8f7b-1261da448c9f): START TRANSACTION;
Executing (8a43f0c9-cc22-4d8f-8f7b-1261da448c9f): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '11c34897-1946-4dfc-b59c-f646a1fc69fe' AND "File"."multihash" = 'QmRMF2DuTJ1KQepmJnkpP6wPbQR4So581EYDUVjGoPB2Dk' AND "File"."sourceFile" = '0b005342-d1d6-4c7d-a98f-9411b036f9c7.mp3' AND "File"."storagePath" = '/file_storage/QmRMF2DuTJ1KQepmJnkpP6wPbQR4So581EYDUVjGoPB2Dk' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '91b5041b-068f-448d-85a6-b2ddae475b6a' LIMIT 1;
Executing (8a43f0c9-cc22-4d8f-8f7b-1261da448c9f): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_8e39b4588f7f4a188361f3b2dc76864f$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('ef3b915b-0988-42e7-8fe3-b55f9200ab9d','11c34897-1946-4dfc-b59c-f646a1fc69fe','91b5041b-068f-448d-85a6-b2ddae475b6a','QmRMF2DuTJ1KQepmJnkpP6wPbQR4So581EYDUVjGoPB2Dk','0b005342-d1d6-4c7d-a98f-9411b036f9c7.mp3','/file_storage/QmRMF2DuTJ1KQepmJnkpP6wPbQR4So581EYDUVjGoPB2Dk','copy320','2020-03-05 17:38:57.195 +00:00','2020-03-05 17:38:57.195 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_8e39b4588f7f4a188361f3b2dc76864f$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (8a43f0c9-cc22-4d8f-8f7b-1261da448c9f): COMMIT;
{ fileUUID: 'ef3b915b-0988-42e7-8fe3-b55f9200ab9d',
  cnodeUserUUID: '11c34897-1946-4dfc-b59c-f646a1fc69fe',
  multihash: 'QmRMF2DuTJ1KQepmJnkpP6wPbQR4So581EYDUVjGoPB2Dk',
  sourceFile: '0b005342-d1d6-4c7d-a98f-9411b036f9c7.mp3',
  storagePath:
   '/file_storage/QmRMF2DuTJ1KQepmJnkpP6wPbQR4So581EYDUVjGoPB2Dk',
  type: 'copy320',
  trackUUID: '91b5041b-068f-448d-85a6-b2ddae475b6a',
  updatedAt: 2020-03-05T17:38:57.195Z,
  createdAt: 2020-03-05T17:38:57.195Z }
writing to db3...
Executing (5abdd13c-9e81-4656-8b62-203c02a97c5e): START TRANSACTION;
Executing (5abdd13c-9e81-4656-8b62-203c02a97c5e): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '11c34897-1946-4dfc-b59c-f646a1fc69fe' AND "File"."multihash" = 'QmRMF2DuTJ1KQepmJnkpP6wPbQR4So581EYDUVjGoPB2Dk' AND "File"."sourceFile" = '0b005342-d1d6-4c7d-a98f-9411b036f9c7.mp3' AND "File"."storagePath" = '/file_storage/QmRMF2DuTJ1KQepmJnkpP6wPbQR4So581EYDUVjGoPB2Dk' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '91b5041b-068f-448d-85a6-b2ddae475b6a' LIMIT 1;
Executing (5abdd13c-9e81-4656-8b62-203c02a97c5e): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_99be6be0cda5444bbff3af1c6e0d96b3$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('1bfd6cb3-9cf7-441b-a747-5283c510e6e0','11c34897-1946-4dfc-b59c-f646a1fc69fe','91b5041b-068f-448d-85a6-b2ddae475b6a','QmRMF2DuTJ1KQepmJnkpP6wPbQR4So581EYDUVjGoPB2Dk','0b005342-d1d6-4c7d-a98f-9411b036f9c7.mp3','/file_storage/QmRMF2DuTJ1KQepmJnkpP6wPbQR4So581EYDUVjGoPB2Dk','copy320','2020-03-05 17:38:57.585 +00:00','2020-03-05 17:38:57.585 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_99be6be0cda5444bbff3af1c6e0d96b3$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (5abdd13c-9e81-4656-8b62-203c02a97c5e): COMMIT;
{ fileUUID: '1bfd6cb3-9cf7-441b-a747-5283c510e6e0',
  cnodeUserUUID: '11c34897-1946-4dfc-b59c-f646a1fc69fe',
  multihash: 'QmRMF2DuTJ1KQepmJnkpP6wPbQR4So581EYDUVjGoPB2Dk',
  sourceFile: '0b005342-d1d6-4c7d-a98f-9411b036f9c7.mp3',
  storagePath:
   '/file_storage/QmRMF2DuTJ1KQepmJnkpP6wPbQR4So581EYDUVjGoPB2Dk',
  type: 'copy320',
  trackUUID: '91b5041b-068f-448d-85a6-b2ddae475b6a',
  updatedAt: 2020-03-05T17:38:57.585Z,
  createdAt: 2020-03-05T17:38:57.585Z }




PROCESSING ROW #125: sourcefile: 82acafc3-766a-4f25-aea8-17ea48aa2036.mp3, cnodeUserUUID: 11c34897-1946-4dfc-b59c-f646a1fc69fe, trackUUID: 94850867-5bf8-4cf2-a968-1eda1a351b88, multihash: QmXhSjt73fAhojPnAgYZd1ipXAY145SidocT3xfc6Hayqu, dstPath: /file_storage/QmXhSjt73fAhojPnAgYZd1ipXAY145SidocT3xfc6Hayqu
writing to db1...
Executing (442fcc0e-d645-4b99-b3e1-775044001043): START TRANSACTION;
Executing (442fcc0e-d645-4b99-b3e1-775044001043): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '11c34897-1946-4dfc-b59c-f646a1fc69fe' AND "File"."multihash" = 'QmXhSjt73fAhojPnAgYZd1ipXAY145SidocT3xfc6Hayqu' AND "File"."sourceFile" = '82acafc3-766a-4f25-aea8-17ea48aa2036.mp3' AND "File"."storagePath" = '/file_storage/QmXhSjt73fAhojPnAgYZd1ipXAY145SidocT3xfc6Hayqu' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '94850867-5bf8-4cf2-a968-1eda1a351b88' LIMIT 1;
Executing (442fcc0e-d645-4b99-b3e1-775044001043): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_78df8124a9b04846b9adb26dfa67db33$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('4ba03065-e6af-4d18-a8c2-a3fefeb96a15','11c34897-1946-4dfc-b59c-f646a1fc69fe','94850867-5bf8-4cf2-a968-1eda1a351b88','QmXhSjt73fAhojPnAgYZd1ipXAY145SidocT3xfc6Hayqu','82acafc3-766a-4f25-aea8-17ea48aa2036.mp3','/file_storage/QmXhSjt73fAhojPnAgYZd1ipXAY145SidocT3xfc6Hayqu','copy320','2020-03-05 17:38:57.988 +00:00','2020-03-05 17:38:57.988 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_78df8124a9b04846b9adb26dfa67db33$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (442fcc0e-d645-4b99-b3e1-775044001043): COMMIT;
{ fileUUID: '4ba03065-e6af-4d18-a8c2-a3fefeb96a15',
  cnodeUserUUID: '11c34897-1946-4dfc-b59c-f646a1fc69fe',
  multihash: 'QmXhSjt73fAhojPnAgYZd1ipXAY145SidocT3xfc6Hayqu',
  sourceFile: '82acafc3-766a-4f25-aea8-17ea48aa2036.mp3',
  storagePath:
   '/file_storage/QmXhSjt73fAhojPnAgYZd1ipXAY145SidocT3xfc6Hayqu',
  type: 'copy320',
  trackUUID: '94850867-5bf8-4cf2-a968-1eda1a351b88',
  updatedAt: 2020-03-05T17:38:57.988Z,
  createdAt: 2020-03-05T17:38:57.988Z }
writing to db2...
Executing (fc86f094-97a9-4c60-9948-51fae6e4acc7): START TRANSACTION;
Executing (fc86f094-97a9-4c60-9948-51fae6e4acc7): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '11c34897-1946-4dfc-b59c-f646a1fc69fe' AND "File"."multihash" = 'QmXhSjt73fAhojPnAgYZd1ipXAY145SidocT3xfc6Hayqu' AND "File"."sourceFile" = '82acafc3-766a-4f25-aea8-17ea48aa2036.mp3' AND "File"."storagePath" = '/file_storage/QmXhSjt73fAhojPnAgYZd1ipXAY145SidocT3xfc6Hayqu' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '94850867-5bf8-4cf2-a968-1eda1a351b88' LIMIT 1;
Executing (fc86f094-97a9-4c60-9948-51fae6e4acc7): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_7e83a591b1d34bcc86655823d03f12da$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('9576995f-734c-4026-9715-f34fa4318c3c','11c34897-1946-4dfc-b59c-f646a1fc69fe','94850867-5bf8-4cf2-a968-1eda1a351b88','QmXhSjt73fAhojPnAgYZd1ipXAY145SidocT3xfc6Hayqu','82acafc3-766a-4f25-aea8-17ea48aa2036.mp3','/file_storage/QmXhSjt73fAhojPnAgYZd1ipXAY145SidocT3xfc6Hayqu','copy320','2020-03-05 17:38:58.398 +00:00','2020-03-05 17:38:58.398 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_7e83a591b1d34bcc86655823d03f12da$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (fc86f094-97a9-4c60-9948-51fae6e4acc7): COMMIT;
{ fileUUID: '9576995f-734c-4026-9715-f34fa4318c3c',
  cnodeUserUUID: '11c34897-1946-4dfc-b59c-f646a1fc69fe',
  multihash: 'QmXhSjt73fAhojPnAgYZd1ipXAY145SidocT3xfc6Hayqu',
  sourceFile: '82acafc3-766a-4f25-aea8-17ea48aa2036.mp3',
  storagePath:
   '/file_storage/QmXhSjt73fAhojPnAgYZd1ipXAY145SidocT3xfc6Hayqu',
  type: 'copy320',
  trackUUID: '94850867-5bf8-4cf2-a968-1eda1a351b88',
  updatedAt: 2020-03-05T17:38:58.398Z,
  createdAt: 2020-03-05T17:38:58.398Z }
writing to db3...
Executing (f913852f-1a64-4b14-a3a3-72d7e65874b6): START TRANSACTION;
Executing (f913852f-1a64-4b14-a3a3-72d7e65874b6): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '11c34897-1946-4dfc-b59c-f646a1fc69fe' AND "File"."multihash" = 'QmXhSjt73fAhojPnAgYZd1ipXAY145SidocT3xfc6Hayqu' AND "File"."sourceFile" = '82acafc3-766a-4f25-aea8-17ea48aa2036.mp3' AND "File"."storagePath" = '/file_storage/QmXhSjt73fAhojPnAgYZd1ipXAY145SidocT3xfc6Hayqu' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '94850867-5bf8-4cf2-a968-1eda1a351b88' LIMIT 1;
Executing (f913852f-1a64-4b14-a3a3-72d7e65874b6): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_8040dd3be49844e0a250a62f5cf55585$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('97568ac4-8d4c-4dd9-8729-6ffb56d8b183','11c34897-1946-4dfc-b59c-f646a1fc69fe','94850867-5bf8-4cf2-a968-1eda1a351b88','QmXhSjt73fAhojPnAgYZd1ipXAY145SidocT3xfc6Hayqu','82acafc3-766a-4f25-aea8-17ea48aa2036.mp3','/file_storage/QmXhSjt73fAhojPnAgYZd1ipXAY145SidocT3xfc6Hayqu','copy320','2020-03-05 17:38:58.858 +00:00','2020-03-05 17:38:58.858 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_8040dd3be49844e0a250a62f5cf55585$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (f913852f-1a64-4b14-a3a3-72d7e65874b6): COMMIT;
{ fileUUID: '97568ac4-8d4c-4dd9-8729-6ffb56d8b183',
  cnodeUserUUID: '11c34897-1946-4dfc-b59c-f646a1fc69fe',
  multihash: 'QmXhSjt73fAhojPnAgYZd1ipXAY145SidocT3xfc6Hayqu',
  sourceFile: '82acafc3-766a-4f25-aea8-17ea48aa2036.mp3',
  storagePath:
   '/file_storage/QmXhSjt73fAhojPnAgYZd1ipXAY145SidocT3xfc6Hayqu',
  type: 'copy320',
  trackUUID: '94850867-5bf8-4cf2-a968-1eda1a351b88',
  updatedAt: 2020-03-05T17:38:58.858Z,
  createdAt: 2020-03-05T17:38:58.858Z }




PROCESSING ROW #126: sourcefile: 9bd6e607-65b1-4280-8f09-04163454f542.mp3, cnodeUserUUID: 11c34897-1946-4dfc-b59c-f646a1fc69fe, trackUUID: 38d101ff-5ca5-45d6-bdca-9ce4d7ca578b, multihash: QmXLmz4xmR48HDnWYnX4eFynRpqA1fmuEgxHrm4NCtWZgy, dstPath: /file_storage/QmXLmz4xmR48HDnWYnX4eFynRpqA1fmuEgxHrm4NCtWZgy
writing to db1...
Executing (1285f2fa-7c23-453d-9522-004089fbfae2): START TRANSACTION;
Executing (1285f2fa-7c23-453d-9522-004089fbfae2): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '11c34897-1946-4dfc-b59c-f646a1fc69fe' AND "File"."multihash" = 'QmXLmz4xmR48HDnWYnX4eFynRpqA1fmuEgxHrm4NCtWZgy' AND "File"."sourceFile" = '9bd6e607-65b1-4280-8f09-04163454f542.mp3' AND "File"."storagePath" = '/file_storage/QmXLmz4xmR48HDnWYnX4eFynRpqA1fmuEgxHrm4NCtWZgy' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '38d101ff-5ca5-45d6-bdca-9ce4d7ca578b' LIMIT 1;
Executing (1285f2fa-7c23-453d-9522-004089fbfae2): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_a8910acfb06d460494f75f492b1a037b$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('c6eba3f9-ec32-45b4-8096-60523ca860d0','11c34897-1946-4dfc-b59c-f646a1fc69fe','38d101ff-5ca5-45d6-bdca-9ce4d7ca578b','QmXLmz4xmR48HDnWYnX4eFynRpqA1fmuEgxHrm4NCtWZgy','9bd6e607-65b1-4280-8f09-04163454f542.mp3','/file_storage/QmXLmz4xmR48HDnWYnX4eFynRpqA1fmuEgxHrm4NCtWZgy','copy320','2020-03-05 17:38:59.248 +00:00','2020-03-05 17:38:59.248 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_a8910acfb06d460494f75f492b1a037b$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (1285f2fa-7c23-453d-9522-004089fbfae2): COMMIT;
{ fileUUID: 'c6eba3f9-ec32-45b4-8096-60523ca860d0',
  cnodeUserUUID: '11c34897-1946-4dfc-b59c-f646a1fc69fe',
  multihash: 'QmXLmz4xmR48HDnWYnX4eFynRpqA1fmuEgxHrm4NCtWZgy',
  sourceFile: '9bd6e607-65b1-4280-8f09-04163454f542.mp3',
  storagePath:
   '/file_storage/QmXLmz4xmR48HDnWYnX4eFynRpqA1fmuEgxHrm4NCtWZgy',
  type: 'copy320',
  trackUUID: '38d101ff-5ca5-45d6-bdca-9ce4d7ca578b',
  updatedAt: 2020-03-05T17:38:59.248Z,
  createdAt: 2020-03-05T17:38:59.248Z }
writing to db2...
Executing (5a313d15-d9eb-42b9-9a2a-ac27f9852a17): START TRANSACTION;
Executing (5a313d15-d9eb-42b9-9a2a-ac27f9852a17): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '11c34897-1946-4dfc-b59c-f646a1fc69fe' AND "File"."multihash" = 'QmXLmz4xmR48HDnWYnX4eFynRpqA1fmuEgxHrm4NCtWZgy' AND "File"."sourceFile" = '9bd6e607-65b1-4280-8f09-04163454f542.mp3' AND "File"."storagePath" = '/file_storage/QmXLmz4xmR48HDnWYnX4eFynRpqA1fmuEgxHrm4NCtWZgy' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '38d101ff-5ca5-45d6-bdca-9ce4d7ca578b' LIMIT 1;
Executing (5a313d15-d9eb-42b9-9a2a-ac27f9852a17): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_0f08baeef2db4a318a63c0b0b0e87b04$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('1c5101b0-51b3-4b5b-bdc4-6802ad0669bd','11c34897-1946-4dfc-b59c-f646a1fc69fe','38d101ff-5ca5-45d6-bdca-9ce4d7ca578b','QmXLmz4xmR48HDnWYnX4eFynRpqA1fmuEgxHrm4NCtWZgy','9bd6e607-65b1-4280-8f09-04163454f542.mp3','/file_storage/QmXLmz4xmR48HDnWYnX4eFynRpqA1fmuEgxHrm4NCtWZgy','copy320','2020-03-05 17:38:59.648 +00:00','2020-03-05 17:38:59.648 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_0f08baeef2db4a318a63c0b0b0e87b04$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (5a313d15-d9eb-42b9-9a2a-ac27f9852a17): COMMIT;
{ fileUUID: '1c5101b0-51b3-4b5b-bdc4-6802ad0669bd',
  cnodeUserUUID: '11c34897-1946-4dfc-b59c-f646a1fc69fe',
  multihash: 'QmXLmz4xmR48HDnWYnX4eFynRpqA1fmuEgxHrm4NCtWZgy',
  sourceFile: '9bd6e607-65b1-4280-8f09-04163454f542.mp3',
  storagePath:
   '/file_storage/QmXLmz4xmR48HDnWYnX4eFynRpqA1fmuEgxHrm4NCtWZgy',
  type: 'copy320',
  trackUUID: '38d101ff-5ca5-45d6-bdca-9ce4d7ca578b',
  updatedAt: 2020-03-05T17:38:59.648Z,
  createdAt: 2020-03-05T17:38:59.648Z }
writing to db3...
Executing (290f4c7e-d72a-41f2-a30e-733b56015c86): START TRANSACTION;
Executing (290f4c7e-d72a-41f2-a30e-733b56015c86): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '11c34897-1946-4dfc-b59c-f646a1fc69fe' AND "File"."multihash" = 'QmXLmz4xmR48HDnWYnX4eFynRpqA1fmuEgxHrm4NCtWZgy' AND "File"."sourceFile" = '9bd6e607-65b1-4280-8f09-04163454f542.mp3' AND "File"."storagePath" = '/file_storage/QmXLmz4xmR48HDnWYnX4eFynRpqA1fmuEgxHrm4NCtWZgy' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '38d101ff-5ca5-45d6-bdca-9ce4d7ca578b' LIMIT 1;
Executing (290f4c7e-d72a-41f2-a30e-733b56015c86): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_818a968d5b244ea3b2114febf566f6d0$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('b1d8f1a0-2cbe-4b14-8c1a-2e2008c0fedb','11c34897-1946-4dfc-b59c-f646a1fc69fe','38d101ff-5ca5-45d6-bdca-9ce4d7ca578b','QmXLmz4xmR48HDnWYnX4eFynRpqA1fmuEgxHrm4NCtWZgy','9bd6e607-65b1-4280-8f09-04163454f542.mp3','/file_storage/QmXLmz4xmR48HDnWYnX4eFynRpqA1fmuEgxHrm4NCtWZgy','copy320','2020-03-05 17:39:00.039 +00:00','2020-03-05 17:39:00.039 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_818a968d5b244ea3b2114febf566f6d0$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (290f4c7e-d72a-41f2-a30e-733b56015c86): COMMIT;
{ fileUUID: 'b1d8f1a0-2cbe-4b14-8c1a-2e2008c0fedb',
  cnodeUserUUID: '11c34897-1946-4dfc-b59c-f646a1fc69fe',
  multihash: 'QmXLmz4xmR48HDnWYnX4eFynRpqA1fmuEgxHrm4NCtWZgy',
  sourceFile: '9bd6e607-65b1-4280-8f09-04163454f542.mp3',
  storagePath:
   '/file_storage/QmXLmz4xmR48HDnWYnX4eFynRpqA1fmuEgxHrm4NCtWZgy',
  type: 'copy320',
  trackUUID: '38d101ff-5ca5-45d6-bdca-9ce4d7ca578b',
  updatedAt: 2020-03-05T17:39:00.039Z,
  createdAt: 2020-03-05T17:39:00.039Z }




PROCESSING ROW #127: sourcefile: 13eeeb7b-13c2-40ba-9450-5a04735af092.mp3, cnodeUserUUID: 8ebbd905-612f-44d0-8593-7f13c0872645, trackUUID: 4bb0e7b1-63fb-4234-9e30-7b325cf87ae8, multihash: QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM, dstPath: /file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM
writing to db1...
Executing (5e5d0a60-ad7d-4ade-879e-06a2cb50cf01): START TRANSACTION;
Executing (5e5d0a60-ad7d-4ade-879e-06a2cb50cf01): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '8ebbd905-612f-44d0-8593-7f13c0872645' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = '13eeeb7b-13c2-40ba-9450-5a04735af092.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '4bb0e7b1-63fb-4234-9e30-7b325cf87ae8' LIMIT 1;
Executing (5e5d0a60-ad7d-4ade-879e-06a2cb50cf01): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_3b631db41faf4bca95e634a9b25ed340$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('27be3c40-dbf4-40cf-a390-090edf83df5c','8ebbd905-612f-44d0-8593-7f13c0872645','4bb0e7b1-63fb-4234-9e30-7b325cf87ae8','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','13eeeb7b-13c2-40ba-9450-5a04735af092.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:39:00.438 +00:00','2020-03-05 17:39:00.438 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_3b631db41faf4bca95e634a9b25ed340$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (5e5d0a60-ad7d-4ade-879e-06a2cb50cf01): COMMIT;
{ fileUUID: '27be3c40-dbf4-40cf-a390-090edf83df5c',
  cnodeUserUUID: '8ebbd905-612f-44d0-8593-7f13c0872645',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: '13eeeb7b-13c2-40ba-9450-5a04735af092.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: '4bb0e7b1-63fb-4234-9e30-7b325cf87ae8',
  updatedAt: 2020-03-05T17:39:00.438Z,
  createdAt: 2020-03-05T17:39:00.438Z }
writing to db2...
Executing (63773e72-2049-42f0-860b-c2c51768225e): START TRANSACTION;
Executing (63773e72-2049-42f0-860b-c2c51768225e): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '8ebbd905-612f-44d0-8593-7f13c0872645' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = '13eeeb7b-13c2-40ba-9450-5a04735af092.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '4bb0e7b1-63fb-4234-9e30-7b325cf87ae8' LIMIT 1;
Executing (63773e72-2049-42f0-860b-c2c51768225e): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_5c6ead17086c4df395da1d96f2e70259$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('0a6d6f11-7b9d-40d3-aaca-b49bd7ab423c','8ebbd905-612f-44d0-8593-7f13c0872645','4bb0e7b1-63fb-4234-9e30-7b325cf87ae8','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','13eeeb7b-13c2-40ba-9450-5a04735af092.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:39:00.842 +00:00','2020-03-05 17:39:00.842 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_5c6ead17086c4df395da1d96f2e70259$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (63773e72-2049-42f0-860b-c2c51768225e): COMMIT;
{ fileUUID: '0a6d6f11-7b9d-40d3-aaca-b49bd7ab423c',
  cnodeUserUUID: '8ebbd905-612f-44d0-8593-7f13c0872645',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: '13eeeb7b-13c2-40ba-9450-5a04735af092.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: '4bb0e7b1-63fb-4234-9e30-7b325cf87ae8',
  updatedAt: 2020-03-05T17:39:00.842Z,
  createdAt: 2020-03-05T17:39:00.842Z }
writing to db3...
Executing (902271d7-6b9a-4627-9a21-c7f0b1ab6298): START TRANSACTION;
Executing (902271d7-6b9a-4627-9a21-c7f0b1ab6298): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '8ebbd905-612f-44d0-8593-7f13c0872645' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = '13eeeb7b-13c2-40ba-9450-5a04735af092.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '4bb0e7b1-63fb-4234-9e30-7b325cf87ae8' LIMIT 1;
Executing (902271d7-6b9a-4627-9a21-c7f0b1ab6298): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_8e67958063ed4577aba35dab3de2789b$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('d8f1b968-1802-4e4f-b2aa-5d7ae94f6a08','8ebbd905-612f-44d0-8593-7f13c0872645','4bb0e7b1-63fb-4234-9e30-7b325cf87ae8','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','13eeeb7b-13c2-40ba-9450-5a04735af092.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:39:01.233 +00:00','2020-03-05 17:39:01.233 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_8e67958063ed4577aba35dab3de2789b$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (902271d7-6b9a-4627-9a21-c7f0b1ab6298): COMMIT;
{ fileUUID: 'd8f1b968-1802-4e4f-b2aa-5d7ae94f6a08',
  cnodeUserUUID: '8ebbd905-612f-44d0-8593-7f13c0872645',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: '13eeeb7b-13c2-40ba-9450-5a04735af092.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: '4bb0e7b1-63fb-4234-9e30-7b325cf87ae8',
  updatedAt: 2020-03-05T17:39:01.233Z,
  createdAt: 2020-03-05T17:39:01.233Z }




PROCESSING ROW #128: sourcefile: 08f5089c-e2ab-44d5-ac0b-0e20c324b59b.mp3, cnodeUserUUID: b199f983-4b6b-4a35-9147-d8924763037f, trackUUID: b730e4a0-9670-471d-afae-152b1d5c2d0e, multihash: QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM, dstPath: /file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM
writing to db1...
Executing (05bd0e13-ad70-4323-a70f-44a98da5be75): START TRANSACTION;
Executing (05bd0e13-ad70-4323-a70f-44a98da5be75): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = 'b199f983-4b6b-4a35-9147-d8924763037f' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = '08f5089c-e2ab-44d5-ac0b-0e20c324b59b.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = 'b730e4a0-9670-471d-afae-152b1d5c2d0e' LIMIT 1;
Executing (05bd0e13-ad70-4323-a70f-44a98da5be75): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_d858822541654d17b14303f537209b12$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('050cabbb-4fb1-4256-bc76-f6948c7fa00a','b199f983-4b6b-4a35-9147-d8924763037f','b730e4a0-9670-471d-afae-152b1d5c2d0e','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','08f5089c-e2ab-44d5-ac0b-0e20c324b59b.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:39:01.632 +00:00','2020-03-05 17:39:01.632 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_d858822541654d17b14303f537209b12$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (05bd0e13-ad70-4323-a70f-44a98da5be75): COMMIT;
{ fileUUID: '050cabbb-4fb1-4256-bc76-f6948c7fa00a',
  cnodeUserUUID: 'b199f983-4b6b-4a35-9147-d8924763037f',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: '08f5089c-e2ab-44d5-ac0b-0e20c324b59b.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: 'b730e4a0-9670-471d-afae-152b1d5c2d0e',
  updatedAt: 2020-03-05T17:39:01.632Z,
  createdAt: 2020-03-05T17:39:01.632Z }
writing to db2...
Executing (42946b4b-15c4-4145-a844-55b7aee7e91d): START TRANSACTION;
Executing (42946b4b-15c4-4145-a844-55b7aee7e91d): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = 'b199f983-4b6b-4a35-9147-d8924763037f' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = '08f5089c-e2ab-44d5-ac0b-0e20c324b59b.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = 'b730e4a0-9670-471d-afae-152b1d5c2d0e' LIMIT 1;
Executing (42946b4b-15c4-4145-a844-55b7aee7e91d): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_37dc4ce6404c4abd91bfd406f4bae0cb$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('1809bc96-e773-45ae-8c67-447d20d50af3','b199f983-4b6b-4a35-9147-d8924763037f','b730e4a0-9670-471d-afae-152b1d5c2d0e','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','08f5089c-e2ab-44d5-ac0b-0e20c324b59b.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:39:02.014 +00:00','2020-03-05 17:39:02.014 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_37dc4ce6404c4abd91bfd406f4bae0cb$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (42946b4b-15c4-4145-a844-55b7aee7e91d): COMMIT;
{ fileUUID: '1809bc96-e773-45ae-8c67-447d20d50af3',
  cnodeUserUUID: 'b199f983-4b6b-4a35-9147-d8924763037f',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: '08f5089c-e2ab-44d5-ac0b-0e20c324b59b.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: 'b730e4a0-9670-471d-afae-152b1d5c2d0e',
  updatedAt: 2020-03-05T17:39:02.014Z,
  createdAt: 2020-03-05T17:39:02.014Z }
writing to db3...
Executing (ebbc2062-ebf7-43ae-971c-6e214caadf31): START TRANSACTION;
Executing (ebbc2062-ebf7-43ae-971c-6e214caadf31): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = 'b199f983-4b6b-4a35-9147-d8924763037f' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = '08f5089c-e2ab-44d5-ac0b-0e20c324b59b.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = 'b730e4a0-9670-471d-afae-152b1d5c2d0e' LIMIT 1;
Executing (ebbc2062-ebf7-43ae-971c-6e214caadf31): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_41dff7e10a4c4f07847d27fdf78c0753$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('c71eaf74-48af-4e56-8433-bd48d4559654','b199f983-4b6b-4a35-9147-d8924763037f','b730e4a0-9670-471d-afae-152b1d5c2d0e','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','08f5089c-e2ab-44d5-ac0b-0e20c324b59b.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:39:02.408 +00:00','2020-03-05 17:39:02.408 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_41dff7e10a4c4f07847d27fdf78c0753$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (ebbc2062-ebf7-43ae-971c-6e214caadf31): COMMIT;
{ fileUUID: 'c71eaf74-48af-4e56-8433-bd48d4559654',
  cnodeUserUUID: 'b199f983-4b6b-4a35-9147-d8924763037f',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: '08f5089c-e2ab-44d5-ac0b-0e20c324b59b.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: 'b730e4a0-9670-471d-afae-152b1d5c2d0e',
  updatedAt: 2020-03-05T17:39:02.408Z,
  createdAt: 2020-03-05T17:39:02.408Z }




PROCESSING ROW #129: sourcefile: 4a46d76a-9b18-4f5f-a0ec-55387c5b7180.mp3, cnodeUserUUID: 1a33e638-b314-4361-907c-4dd980342a66, trackUUID: 0cb23960-33b2-4214-a472-4a0fb2465287, multihash: QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM, dstPath: /file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM
writing to db1...
Executing (3fa53452-5258-4fa4-9ea2-685be9183003): START TRANSACTION;
Executing (3fa53452-5258-4fa4-9ea2-685be9183003): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '1a33e638-b314-4361-907c-4dd980342a66' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = '4a46d76a-9b18-4f5f-a0ec-55387c5b7180.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '0cb23960-33b2-4214-a472-4a0fb2465287' LIMIT 1;
Executing (3fa53452-5258-4fa4-9ea2-685be9183003): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_0a92ccaaf9684faf89fb2c27a11ee3a5$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('3616d154-7477-43da-8e88-fa1466dfb031','1a33e638-b314-4361-907c-4dd980342a66','0cb23960-33b2-4214-a472-4a0fb2465287','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','4a46d76a-9b18-4f5f-a0ec-55387c5b7180.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:39:02.810 +00:00','2020-03-05 17:39:02.810 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_0a92ccaaf9684faf89fb2c27a11ee3a5$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (3fa53452-5258-4fa4-9ea2-685be9183003): COMMIT;
{ fileUUID: '3616d154-7477-43da-8e88-fa1466dfb031',
  cnodeUserUUID: '1a33e638-b314-4361-907c-4dd980342a66',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: '4a46d76a-9b18-4f5f-a0ec-55387c5b7180.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: '0cb23960-33b2-4214-a472-4a0fb2465287',
  updatedAt: 2020-03-05T17:39:02.810Z,
  createdAt: 2020-03-05T17:39:02.810Z }
writing to db2...
Executing (ee012cad-3ddb-4292-aed4-20620d95d20b): START TRANSACTION;
Executing (ee012cad-3ddb-4292-aed4-20620d95d20b): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '1a33e638-b314-4361-907c-4dd980342a66' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = '4a46d76a-9b18-4f5f-a0ec-55387c5b7180.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '0cb23960-33b2-4214-a472-4a0fb2465287' LIMIT 1;
Executing (ee012cad-3ddb-4292-aed4-20620d95d20b): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_8a6f61a88c0b4d64b2f259b4eac56ea1$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('f8b4d937-9f48-4905-8a85-5b37741bea62','1a33e638-b314-4361-907c-4dd980342a66','0cb23960-33b2-4214-a472-4a0fb2465287','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','4a46d76a-9b18-4f5f-a0ec-55387c5b7180.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:39:03.209 +00:00','2020-03-05 17:39:03.209 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_8a6f61a88c0b4d64b2f259b4eac56ea1$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (ee012cad-3ddb-4292-aed4-20620d95d20b): COMMIT;
{ fileUUID: 'f8b4d937-9f48-4905-8a85-5b37741bea62',
  cnodeUserUUID: '1a33e638-b314-4361-907c-4dd980342a66',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: '4a46d76a-9b18-4f5f-a0ec-55387c5b7180.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: '0cb23960-33b2-4214-a472-4a0fb2465287',
  updatedAt: 2020-03-05T17:39:03.209Z,
  createdAt: 2020-03-05T17:39:03.209Z }
writing to db3...
Executing (5232a1e7-9a0e-4f9e-88f8-637c6201a5da): START TRANSACTION;
Executing (5232a1e7-9a0e-4f9e-88f8-637c6201a5da): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '1a33e638-b314-4361-907c-4dd980342a66' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = '4a46d76a-9b18-4f5f-a0ec-55387c5b7180.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '0cb23960-33b2-4214-a472-4a0fb2465287' LIMIT 1;
Executing (5232a1e7-9a0e-4f9e-88f8-637c6201a5da): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_011f6fae27f24edea01bca0324b7ef1a$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('8e2b4f61-35ea-47d8-a83a-432eea3cb94a','1a33e638-b314-4361-907c-4dd980342a66','0cb23960-33b2-4214-a472-4a0fb2465287','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','4a46d76a-9b18-4f5f-a0ec-55387c5b7180.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:39:03.609 +00:00','2020-03-05 17:39:03.609 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_011f6fae27f24edea01bca0324b7ef1a$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (5232a1e7-9a0e-4f9e-88f8-637c6201a5da): COMMIT;
{ fileUUID: '8e2b4f61-35ea-47d8-a83a-432eea3cb94a',
  cnodeUserUUID: '1a33e638-b314-4361-907c-4dd980342a66',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: '4a46d76a-9b18-4f5f-a0ec-55387c5b7180.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: '0cb23960-33b2-4214-a472-4a0fb2465287',
  updatedAt: 2020-03-05T17:39:03.609Z,
  createdAt: 2020-03-05T17:39:03.609Z }




PROCESSING ROW #130: sourcefile: fce78093-b652-491a-84ae-5ec0da3279ec.mp3, cnodeUserUUID: 9441f660-d1f9-4e39-961f-0742ad22883d, trackUUID: ba540961-fbf6-46e5-a97b-dd1efb462d4d, multihash: QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM, dstPath: /file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM
writing to db1...
Executing (e003258b-d1a2-4579-9f95-008a2b790dab): START TRANSACTION;
Executing (e003258b-d1a2-4579-9f95-008a2b790dab): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '9441f660-d1f9-4e39-961f-0742ad22883d' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = 'fce78093-b652-491a-84ae-5ec0da3279ec.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = 'ba540961-fbf6-46e5-a97b-dd1efb462d4d' LIMIT 1;
Executing (e003258b-d1a2-4579-9f95-008a2b790dab): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_1527a0cd03ae40a5b5a1c9d5bddf13ec$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('f5912ef6-8c62-41ba-be1e-219607079e10','9441f660-d1f9-4e39-961f-0742ad22883d','ba540961-fbf6-46e5-a97b-dd1efb462d4d','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','fce78093-b652-491a-84ae-5ec0da3279ec.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:39:04.005 +00:00','2020-03-05 17:39:04.005 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_1527a0cd03ae40a5b5a1c9d5bddf13ec$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (e003258b-d1a2-4579-9f95-008a2b790dab): COMMIT;
{ fileUUID: 'f5912ef6-8c62-41ba-be1e-219607079e10',
  cnodeUserUUID: '9441f660-d1f9-4e39-961f-0742ad22883d',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: 'fce78093-b652-491a-84ae-5ec0da3279ec.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: 'ba540961-fbf6-46e5-a97b-dd1efb462d4d',
  updatedAt: 2020-03-05T17:39:04.005Z,
  createdAt: 2020-03-05T17:39:04.005Z }
writing to db2...
Executing (a03fbe1d-1263-481d-8381-f2a71f5be802): START TRANSACTION;
Executing (a03fbe1d-1263-481d-8381-f2a71f5be802): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '9441f660-d1f9-4e39-961f-0742ad22883d' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = 'fce78093-b652-491a-84ae-5ec0da3279ec.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = 'ba540961-fbf6-46e5-a97b-dd1efb462d4d' LIMIT 1;
Executing (a03fbe1d-1263-481d-8381-f2a71f5be802): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_7988cfaae4fa4ab2bb6b01f485398722$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('c3a1a3c3-9547-4298-86ab-09ff6c9c0637','9441f660-d1f9-4e39-961f-0742ad22883d','ba540961-fbf6-46e5-a97b-dd1efb462d4d','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','fce78093-b652-491a-84ae-5ec0da3279ec.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:39:04.405 +00:00','2020-03-05 17:39:04.405 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_7988cfaae4fa4ab2bb6b01f485398722$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (a03fbe1d-1263-481d-8381-f2a71f5be802): COMMIT;
{ fileUUID: 'c3a1a3c3-9547-4298-86ab-09ff6c9c0637',
  cnodeUserUUID: '9441f660-d1f9-4e39-961f-0742ad22883d',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: 'fce78093-b652-491a-84ae-5ec0da3279ec.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: 'ba540961-fbf6-46e5-a97b-dd1efb462d4d',
  updatedAt: 2020-03-05T17:39:04.405Z,
  createdAt: 2020-03-05T17:39:04.405Z }
writing to db3...
Executing (3dba62a0-c42d-41ee-a0e5-af0144621d8e): START TRANSACTION;
Executing (3dba62a0-c42d-41ee-a0e5-af0144621d8e): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '9441f660-d1f9-4e39-961f-0742ad22883d' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = 'fce78093-b652-491a-84ae-5ec0da3279ec.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = 'ba540961-fbf6-46e5-a97b-dd1efb462d4d' LIMIT 1;
Executing (3dba62a0-c42d-41ee-a0e5-af0144621d8e): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_086212ec318446bd8ec130fe4bd5336e$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('3ca01831-d8d6-4993-bef9-847c82fa81a5','9441f660-d1f9-4e39-961f-0742ad22883d','ba540961-fbf6-46e5-a97b-dd1efb462d4d','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','fce78093-b652-491a-84ae-5ec0da3279ec.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:39:04.807 +00:00','2020-03-05 17:39:04.807 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_086212ec318446bd8ec130fe4bd5336e$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (3dba62a0-c42d-41ee-a0e5-af0144621d8e): COMMIT;
{ fileUUID: '3ca01831-d8d6-4993-bef9-847c82fa81a5',
  cnodeUserUUID: '9441f660-d1f9-4e39-961f-0742ad22883d',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: 'fce78093-b652-491a-84ae-5ec0da3279ec.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: 'ba540961-fbf6-46e5-a97b-dd1efb462d4d',
  updatedAt: 2020-03-05T17:39:04.807Z,
  createdAt: 2020-03-05T17:39:04.807Z }




PROCESSING ROW #131: sourcefile: cb789ba0-1bab-4bf1-b28c-a90895ce190b.mp3, cnodeUserUUID: 9bde39d7-4c2e-40f5-b9ef-4986c09d19f0, trackUUID: 7964294f-e452-439e-b960-9e15966c07f4, multihash: QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM, dstPath: /file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM
writing to db1...
Executing (d665a23a-f7dc-4887-8a36-2c8f918ec0e3): START TRANSACTION;
Executing (d665a23a-f7dc-4887-8a36-2c8f918ec0e3): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '9bde39d7-4c2e-40f5-b9ef-4986c09d19f0' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = 'cb789ba0-1bab-4bf1-b28c-a90895ce190b.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '7964294f-e452-439e-b960-9e15966c07f4' LIMIT 1;
Executing (d665a23a-f7dc-4887-8a36-2c8f918ec0e3): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_41d36e5a4cd441a3bec3b745cc127a67$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('c59dbede-6e1b-4f8d-89e2-104df679a488','9bde39d7-4c2e-40f5-b9ef-4986c09d19f0','7964294f-e452-439e-b960-9e15966c07f4','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','cb789ba0-1bab-4bf1-b28c-a90895ce190b.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:39:05.191 +00:00','2020-03-05 17:39:05.191 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_41d36e5a4cd441a3bec3b745cc127a67$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (d665a23a-f7dc-4887-8a36-2c8f918ec0e3): COMMIT;
{ fileUUID: 'c59dbede-6e1b-4f8d-89e2-104df679a488',
  cnodeUserUUID: '9bde39d7-4c2e-40f5-b9ef-4986c09d19f0',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: 'cb789ba0-1bab-4bf1-b28c-a90895ce190b.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: '7964294f-e452-439e-b960-9e15966c07f4',
  updatedAt: 2020-03-05T17:39:05.191Z,
  createdAt: 2020-03-05T17:39:05.191Z }
writing to db2...
Executing (ae2614d2-e59c-4b59-bd8b-9bfcc2476381): START TRANSACTION;
Executing (ae2614d2-e59c-4b59-bd8b-9bfcc2476381): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '9bde39d7-4c2e-40f5-b9ef-4986c09d19f0' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = 'cb789ba0-1bab-4bf1-b28c-a90895ce190b.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '7964294f-e452-439e-b960-9e15966c07f4' LIMIT 1;
Executing (ae2614d2-e59c-4b59-bd8b-9bfcc2476381): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_f3acb3c5771d40cbb480d12917b76128$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('469b4b31-bd84-4bbd-b868-ecd87a440733','9bde39d7-4c2e-40f5-b9ef-4986c09d19f0','7964294f-e452-439e-b960-9e15966c07f4','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','cb789ba0-1bab-4bf1-b28c-a90895ce190b.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:39:05.578 +00:00','2020-03-05 17:39:05.578 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_f3acb3c5771d40cbb480d12917b76128$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (ae2614d2-e59c-4b59-bd8b-9bfcc2476381): COMMIT;
{ fileUUID: '469b4b31-bd84-4bbd-b868-ecd87a440733',
  cnodeUserUUID: '9bde39d7-4c2e-40f5-b9ef-4986c09d19f0',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: 'cb789ba0-1bab-4bf1-b28c-a90895ce190b.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: '7964294f-e452-439e-b960-9e15966c07f4',
  updatedAt: 2020-03-05T17:39:05.578Z,
  createdAt: 2020-03-05T17:39:05.578Z }
writing to db3...
Executing (9cf1b09e-8fdf-4319-9463-8756e9518f99): START TRANSACTION;
Executing (9cf1b09e-8fdf-4319-9463-8756e9518f99): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '9bde39d7-4c2e-40f5-b9ef-4986c09d19f0' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = 'cb789ba0-1bab-4bf1-b28c-a90895ce190b.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '7964294f-e452-439e-b960-9e15966c07f4' LIMIT 1;
Executing (9cf1b09e-8fdf-4319-9463-8756e9518f99): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_c94373d6dac64cc6b5b6d6c2de0730ec$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('7711885e-c195-46e8-946b-c971d9ba4b62','9bde39d7-4c2e-40f5-b9ef-4986c09d19f0','7964294f-e452-439e-b960-9e15966c07f4','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','cb789ba0-1bab-4bf1-b28c-a90895ce190b.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:39:05.970 +00:00','2020-03-05 17:39:05.970 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_c94373d6dac64cc6b5b6d6c2de0730ec$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (9cf1b09e-8fdf-4319-9463-8756e9518f99): COMMIT;
{ fileUUID: '7711885e-c195-46e8-946b-c971d9ba4b62',
  cnodeUserUUID: '9bde39d7-4c2e-40f5-b9ef-4986c09d19f0',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: 'cb789ba0-1bab-4bf1-b28c-a90895ce190b.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: '7964294f-e452-439e-b960-9e15966c07f4',
  updatedAt: 2020-03-05T17:39:05.970Z,
  createdAt: 2020-03-05T17:39:05.970Z }




PROCESSING ROW #132: sourcefile: 579bb23f-8192-482f-bcfa-f0b654b00175.mp3, cnodeUserUUID: 76c087f2-bc88-491c-ac0f-c3140cd773e5, trackUUID: cc10c197-65ed-4165-be94-ae8d1900bd9e, multihash: QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM, dstPath: /file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM
writing to db1...
Executing (b4ab8a65-59d6-426d-aaef-13bd5a67df34): START TRANSACTION;
Executing (b4ab8a65-59d6-426d-aaef-13bd5a67df34): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '76c087f2-bc88-491c-ac0f-c3140cd773e5' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = '579bb23f-8192-482f-bcfa-f0b654b00175.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = 'cc10c197-65ed-4165-be94-ae8d1900bd9e' LIMIT 1;
Executing (b4ab8a65-59d6-426d-aaef-13bd5a67df34): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_367f3571a168453eb98898d0930a42ed$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('298512d9-1505-4fc7-b044-fc6988e5f9b5','76c087f2-bc88-491c-ac0f-c3140cd773e5','cc10c197-65ed-4165-be94-ae8d1900bd9e','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','579bb23f-8192-482f-bcfa-f0b654b00175.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:39:06.363 +00:00','2020-03-05 17:39:06.363 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_367f3571a168453eb98898d0930a42ed$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (b4ab8a65-59d6-426d-aaef-13bd5a67df34): COMMIT;
{ fileUUID: '298512d9-1505-4fc7-b044-fc6988e5f9b5',
  cnodeUserUUID: '76c087f2-bc88-491c-ac0f-c3140cd773e5',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: '579bb23f-8192-482f-bcfa-f0b654b00175.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: 'cc10c197-65ed-4165-be94-ae8d1900bd9e',
  updatedAt: 2020-03-05T17:39:06.363Z,
  createdAt: 2020-03-05T17:39:06.363Z }
writing to db2...
Executing (f04e4b30-794d-4784-b2d6-f56d50e00189): START TRANSACTION;
Executing (f04e4b30-794d-4784-b2d6-f56d50e00189): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '76c087f2-bc88-491c-ac0f-c3140cd773e5' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = '579bb23f-8192-482f-bcfa-f0b654b00175.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = 'cc10c197-65ed-4165-be94-ae8d1900bd9e' LIMIT 1;
Executing (f04e4b30-794d-4784-b2d6-f56d50e00189): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_80fd6b370057436a8d9012e1af94f2ee$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('82e96733-a3d4-4082-b95b-63635241ffaa','76c087f2-bc88-491c-ac0f-c3140cd773e5','cc10c197-65ed-4165-be94-ae8d1900bd9e','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','579bb23f-8192-482f-bcfa-f0b654b00175.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:39:06.763 +00:00','2020-03-05 17:39:06.763 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_80fd6b370057436a8d9012e1af94f2ee$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (f04e4b30-794d-4784-b2d6-f56d50e00189): COMMIT;
{ fileUUID: '82e96733-a3d4-4082-b95b-63635241ffaa',
  cnodeUserUUID: '76c087f2-bc88-491c-ac0f-c3140cd773e5',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: '579bb23f-8192-482f-bcfa-f0b654b00175.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: 'cc10c197-65ed-4165-be94-ae8d1900bd9e',
  updatedAt: 2020-03-05T17:39:06.763Z,
  createdAt: 2020-03-05T17:39:06.763Z }
writing to db3...
Executing (d3b6c63b-85c4-464a-80a4-9fbfb634b838): START TRANSACTION;
Executing (d3b6c63b-85c4-464a-80a4-9fbfb634b838): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '76c087f2-bc88-491c-ac0f-c3140cd773e5' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = '579bb23f-8192-482f-bcfa-f0b654b00175.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = 'cc10c197-65ed-4165-be94-ae8d1900bd9e' LIMIT 1;
Executing (d3b6c63b-85c4-464a-80a4-9fbfb634b838): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_c8ff02d695ac466aa451238a7bd9fae5$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('fbf0a865-168c-4a13-8014-0fd2bcd6e500','76c087f2-bc88-491c-ac0f-c3140cd773e5','cc10c197-65ed-4165-be94-ae8d1900bd9e','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','579bb23f-8192-482f-bcfa-f0b654b00175.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:39:07.160 +00:00','2020-03-05 17:39:07.160 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_c8ff02d695ac466aa451238a7bd9fae5$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (d3b6c63b-85c4-464a-80a4-9fbfb634b838): COMMIT;
{ fileUUID: 'fbf0a865-168c-4a13-8014-0fd2bcd6e500',
  cnodeUserUUID: '76c087f2-bc88-491c-ac0f-c3140cd773e5',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: '579bb23f-8192-482f-bcfa-f0b654b00175.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: 'cc10c197-65ed-4165-be94-ae8d1900bd9e',
  updatedAt: 2020-03-05T17:39:07.160Z,
  createdAt: 2020-03-05T17:39:07.160Z }




PROCESSING ROW #133: sourcefile: 7689f9dd-afba-43b3-b024-ac9a4da9be0e.mp3, cnodeUserUUID: 11c34897-1946-4dfc-b59c-f646a1fc69fe, trackUUID: f2ec7ce8-3866-4934-a736-f5394a753956, multihash: QmXZtN92xDE2ktX9DX52jLtVvVXGMng5es9MyK8LYGjoE7, dstPath: /file_storage/QmXZtN92xDE2ktX9DX52jLtVvVXGMng5es9MyK8LYGjoE7
writing to db1...
Executing (5d1ce861-695d-4e79-b7f1-47496397f146): START TRANSACTION;
Executing (5d1ce861-695d-4e79-b7f1-47496397f146): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '11c34897-1946-4dfc-b59c-f646a1fc69fe' AND "File"."multihash" = 'QmXZtN92xDE2ktX9DX52jLtVvVXGMng5es9MyK8LYGjoE7' AND "File"."sourceFile" = '7689f9dd-afba-43b3-b024-ac9a4da9be0e.mp3' AND "File"."storagePath" = '/file_storage/QmXZtN92xDE2ktX9DX52jLtVvVXGMng5es9MyK8LYGjoE7' AND "File"."type" = 'copy320' AND "File"."trackUUID" = 'f2ec7ce8-3866-4934-a736-f5394a753956' LIMIT 1;
Executing (5d1ce861-695d-4e79-b7f1-47496397f146): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_98d0220fb5764d8995dcb3cfc385b183$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('0acc3cf9-fb16-4c16-a2ba-ae60e62e3bc4','11c34897-1946-4dfc-b59c-f646a1fc69fe','f2ec7ce8-3866-4934-a736-f5394a753956','QmXZtN92xDE2ktX9DX52jLtVvVXGMng5es9MyK8LYGjoE7','7689f9dd-afba-43b3-b024-ac9a4da9be0e.mp3','/file_storage/QmXZtN92xDE2ktX9DX52jLtVvVXGMng5es9MyK8LYGjoE7','copy320','2020-03-05 17:39:07.563 +00:00','2020-03-05 17:39:07.563 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_98d0220fb5764d8995dcb3cfc385b183$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (5d1ce861-695d-4e79-b7f1-47496397f146): COMMIT;
{ fileUUID: '0acc3cf9-fb16-4c16-a2ba-ae60e62e3bc4',
  cnodeUserUUID: '11c34897-1946-4dfc-b59c-f646a1fc69fe',
  multihash: 'QmXZtN92xDE2ktX9DX52jLtVvVXGMng5es9MyK8LYGjoE7',
  sourceFile: '7689f9dd-afba-43b3-b024-ac9a4da9be0e.mp3',
  storagePath:
   '/file_storage/QmXZtN92xDE2ktX9DX52jLtVvVXGMng5es9MyK8LYGjoE7',
  type: 'copy320',
  trackUUID: 'f2ec7ce8-3866-4934-a736-f5394a753956',
  updatedAt: 2020-03-05T17:39:07.563Z,
  createdAt: 2020-03-05T17:39:07.563Z }
writing to db2...
Executing (21b1aeb9-ca7f-41d9-821b-7af6e1eaa757): START TRANSACTION;
Executing (21b1aeb9-ca7f-41d9-821b-7af6e1eaa757): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '11c34897-1946-4dfc-b59c-f646a1fc69fe' AND "File"."multihash" = 'QmXZtN92xDE2ktX9DX52jLtVvVXGMng5es9MyK8LYGjoE7' AND "File"."sourceFile" = '7689f9dd-afba-43b3-b024-ac9a4da9be0e.mp3' AND "File"."storagePath" = '/file_storage/QmXZtN92xDE2ktX9DX52jLtVvVXGMng5es9MyK8LYGjoE7' AND "File"."type" = 'copy320' AND "File"."trackUUID" = 'f2ec7ce8-3866-4934-a736-f5394a753956' LIMIT 1;
Executing (21b1aeb9-ca7f-41d9-821b-7af6e1eaa757): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_441f40e5ce614cf59ae6bf2353180563$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('3ac3e735-5d7b-47a0-ab2a-84c95dc3303f','11c34897-1946-4dfc-b59c-f646a1fc69fe','f2ec7ce8-3866-4934-a736-f5394a753956','QmXZtN92xDE2ktX9DX52jLtVvVXGMng5es9MyK8LYGjoE7','7689f9dd-afba-43b3-b024-ac9a4da9be0e.mp3','/file_storage/QmXZtN92xDE2ktX9DX52jLtVvVXGMng5es9MyK8LYGjoE7','copy320','2020-03-05 17:39:07.980 +00:00','2020-03-05 17:39:07.980 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_441f40e5ce614cf59ae6bf2353180563$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (21b1aeb9-ca7f-41d9-821b-7af6e1eaa757): COMMIT;
{ fileUUID: '3ac3e735-5d7b-47a0-ab2a-84c95dc3303f',
  cnodeUserUUID: '11c34897-1946-4dfc-b59c-f646a1fc69fe',
  multihash: 'QmXZtN92xDE2ktX9DX52jLtVvVXGMng5es9MyK8LYGjoE7',
  sourceFile: '7689f9dd-afba-43b3-b024-ac9a4da9be0e.mp3',
  storagePath:
   '/file_storage/QmXZtN92xDE2ktX9DX52jLtVvVXGMng5es9MyK8LYGjoE7',
  type: 'copy320',
  trackUUID: 'f2ec7ce8-3866-4934-a736-f5394a753956',
  updatedAt: 2020-03-05T17:39:07.980Z,
  createdAt: 2020-03-05T17:39:07.980Z }
writing to db3...
Executing (770cbae2-25ac-4655-b838-f9928ba08e5a): START TRANSACTION;
Executing (770cbae2-25ac-4655-b838-f9928ba08e5a): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '11c34897-1946-4dfc-b59c-f646a1fc69fe' AND "File"."multihash" = 'QmXZtN92xDE2ktX9DX52jLtVvVXGMng5es9MyK8LYGjoE7' AND "File"."sourceFile" = '7689f9dd-afba-43b3-b024-ac9a4da9be0e.mp3' AND "File"."storagePath" = '/file_storage/QmXZtN92xDE2ktX9DX52jLtVvVXGMng5es9MyK8LYGjoE7' AND "File"."type" = 'copy320' AND "File"."trackUUID" = 'f2ec7ce8-3866-4934-a736-f5394a753956' LIMIT 1;
Executing (770cbae2-25ac-4655-b838-f9928ba08e5a): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_252741740335470a958e24609d9b6cc3$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('37815a4e-5b35-4af1-b617-3d3613876c85','11c34897-1946-4dfc-b59c-f646a1fc69fe','f2ec7ce8-3866-4934-a736-f5394a753956','QmXZtN92xDE2ktX9DX52jLtVvVXGMng5es9MyK8LYGjoE7','7689f9dd-afba-43b3-b024-ac9a4da9be0e.mp3','/file_storage/QmXZtN92xDE2ktX9DX52jLtVvVXGMng5es9MyK8LYGjoE7','copy320','2020-03-05 17:39:08.385 +00:00','2020-03-05 17:39:08.385 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_252741740335470a958e24609d9b6cc3$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (770cbae2-25ac-4655-b838-f9928ba08e5a): COMMIT;
{ fileUUID: '37815a4e-5b35-4af1-b617-3d3613876c85',
  cnodeUserUUID: '11c34897-1946-4dfc-b59c-f646a1fc69fe',
  multihash: 'QmXZtN92xDE2ktX9DX52jLtVvVXGMng5es9MyK8LYGjoE7',
  sourceFile: '7689f9dd-afba-43b3-b024-ac9a4da9be0e.mp3',
  storagePath:
   '/file_storage/QmXZtN92xDE2ktX9DX52jLtVvVXGMng5es9MyK8LYGjoE7',
  type: 'copy320',
  trackUUID: 'f2ec7ce8-3866-4934-a736-f5394a753956',
  updatedAt: 2020-03-05T17:39:08.385Z,
  createdAt: 2020-03-05T17:39:08.385Z }




PROCESSING ROW #134: sourcefile: 3194c352-4da2-47dc-89a4-260a68b8f2f2.mp3, cnodeUserUUID: a1208cd1-d717-4012-a461-d61968b82290, trackUUID: b3d661fa-f85e-4d14-9f1d-39c935fe18b7, multihash: QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM, dstPath: /file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM
writing to db1...
Executing (96eacce0-02e6-46ce-9223-7da702d43e99): START TRANSACTION;
Executing (96eacce0-02e6-46ce-9223-7da702d43e99): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = 'a1208cd1-d717-4012-a461-d61968b82290' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = '3194c352-4da2-47dc-89a4-260a68b8f2f2.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = 'b3d661fa-f85e-4d14-9f1d-39c935fe18b7' LIMIT 1;
Executing (96eacce0-02e6-46ce-9223-7da702d43e99): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_f42658a9939b4ab69a84db7c3c54ce0d$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('f2f1ef4d-0071-48a5-82e8-beee6904391c','a1208cd1-d717-4012-a461-d61968b82290','b3d661fa-f85e-4d14-9f1d-39c935fe18b7','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','3194c352-4da2-47dc-89a4-260a68b8f2f2.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:39:08.790 +00:00','2020-03-05 17:39:08.790 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_f42658a9939b4ab69a84db7c3c54ce0d$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (96eacce0-02e6-46ce-9223-7da702d43e99): COMMIT;
{ fileUUID: 'f2f1ef4d-0071-48a5-82e8-beee6904391c',
  cnodeUserUUID: 'a1208cd1-d717-4012-a461-d61968b82290',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: '3194c352-4da2-47dc-89a4-260a68b8f2f2.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: 'b3d661fa-f85e-4d14-9f1d-39c935fe18b7',
  updatedAt: 2020-03-05T17:39:08.790Z,
  createdAt: 2020-03-05T17:39:08.790Z }
writing to db2...
Executing (60d9168a-04c8-47c3-bdad-61c92b78c4c4): START TRANSACTION;
Executing (60d9168a-04c8-47c3-bdad-61c92b78c4c4): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = 'a1208cd1-d717-4012-a461-d61968b82290' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = '3194c352-4da2-47dc-89a4-260a68b8f2f2.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = 'b3d661fa-f85e-4d14-9f1d-39c935fe18b7' LIMIT 1;
Executing (60d9168a-04c8-47c3-bdad-61c92b78c4c4): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_c1d57594a50e4354b2c6a88581a37f66$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('70b21408-dc6c-4b19-9bbf-8e6349fb2267','a1208cd1-d717-4012-a461-d61968b82290','b3d661fa-f85e-4d14-9f1d-39c935fe18b7','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','3194c352-4da2-47dc-89a4-260a68b8f2f2.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:39:09.202 +00:00','2020-03-05 17:39:09.202 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_c1d57594a50e4354b2c6a88581a37f66$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (60d9168a-04c8-47c3-bdad-61c92b78c4c4): COMMIT;
{ fileUUID: '70b21408-dc6c-4b19-9bbf-8e6349fb2267',
  cnodeUserUUID: 'a1208cd1-d717-4012-a461-d61968b82290',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: '3194c352-4da2-47dc-89a4-260a68b8f2f2.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: 'b3d661fa-f85e-4d14-9f1d-39c935fe18b7',
  updatedAt: 2020-03-05T17:39:09.202Z,
  createdAt: 2020-03-05T17:39:09.202Z }
writing to db3...
Executing (52b48fbb-6dc3-4615-b995-5d175205bc77): START TRANSACTION;
Executing (52b48fbb-6dc3-4615-b995-5d175205bc77): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = 'a1208cd1-d717-4012-a461-d61968b82290' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = '3194c352-4da2-47dc-89a4-260a68b8f2f2.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = 'b3d661fa-f85e-4d14-9f1d-39c935fe18b7' LIMIT 1;
Executing (52b48fbb-6dc3-4615-b995-5d175205bc77): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_f5c1c6042abd4affa8b968bc3fcfd0ef$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('1b72b43a-c4da-493c-b102-369ada800946','a1208cd1-d717-4012-a461-d61968b82290','b3d661fa-f85e-4d14-9f1d-39c935fe18b7','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','3194c352-4da2-47dc-89a4-260a68b8f2f2.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:39:09.598 +00:00','2020-03-05 17:39:09.598 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_f5c1c6042abd4affa8b968bc3fcfd0ef$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (52b48fbb-6dc3-4615-b995-5d175205bc77): COMMIT;
{ fileUUID: '1b72b43a-c4da-493c-b102-369ada800946',
  cnodeUserUUID: 'a1208cd1-d717-4012-a461-d61968b82290',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: '3194c352-4da2-47dc-89a4-260a68b8f2f2.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: 'b3d661fa-f85e-4d14-9f1d-39c935fe18b7',
  updatedAt: 2020-03-05T17:39:09.598Z,
  createdAt: 2020-03-05T17:39:09.598Z }




PROCESSING ROW #135: sourcefile: 70d5350b-5776-4012-8162-1ad76ddbe926.mp3, cnodeUserUUID: 11c34897-1946-4dfc-b59c-f646a1fc69fe, trackUUID: c4432c2b-7fdc-4a05-b238-efc7e7c299c1, multihash: QmdxPXtnTwgZKvBZfKJFab4ucMfdJAfFHHU4fDBRxCsmWx, dstPath: /file_storage/QmdxPXtnTwgZKvBZfKJFab4ucMfdJAfFHHU4fDBRxCsmWx
writing to db1...
Executing (505e803f-d50c-492a-a7e3-d51b64a2f96c): START TRANSACTION;
Executing (505e803f-d50c-492a-a7e3-d51b64a2f96c): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '11c34897-1946-4dfc-b59c-f646a1fc69fe' AND "File"."multihash" = 'QmdxPXtnTwgZKvBZfKJFab4ucMfdJAfFHHU4fDBRxCsmWx' AND "File"."sourceFile" = '70d5350b-5776-4012-8162-1ad76ddbe926.mp3' AND "File"."storagePath" = '/file_storage/QmdxPXtnTwgZKvBZfKJFab4ucMfdJAfFHHU4fDBRxCsmWx' AND "File"."type" = 'copy320' AND "File"."trackUUID" = 'c4432c2b-7fdc-4a05-b238-efc7e7c299c1' LIMIT 1;
Executing (505e803f-d50c-492a-a7e3-d51b64a2f96c): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_ef837b516cc6490db3c7d3cbf1843f76$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('7d0e05d8-bf6b-4bb3-8ffb-002adf006150','11c34897-1946-4dfc-b59c-f646a1fc69fe','c4432c2b-7fdc-4a05-b238-efc7e7c299c1','QmdxPXtnTwgZKvBZfKJFab4ucMfdJAfFHHU4fDBRxCsmWx','70d5350b-5776-4012-8162-1ad76ddbe926.mp3','/file_storage/QmdxPXtnTwgZKvBZfKJFab4ucMfdJAfFHHU4fDBRxCsmWx','copy320','2020-03-05 17:39:10.005 +00:00','2020-03-05 17:39:10.005 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_ef837b516cc6490db3c7d3cbf1843f76$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (505e803f-d50c-492a-a7e3-d51b64a2f96c): COMMIT;
{ fileUUID: '7d0e05d8-bf6b-4bb3-8ffb-002adf006150',
  cnodeUserUUID: '11c34897-1946-4dfc-b59c-f646a1fc69fe',
  multihash: 'QmdxPXtnTwgZKvBZfKJFab4ucMfdJAfFHHU4fDBRxCsmWx',
  sourceFile: '70d5350b-5776-4012-8162-1ad76ddbe926.mp3',
  storagePath:
   '/file_storage/QmdxPXtnTwgZKvBZfKJFab4ucMfdJAfFHHU4fDBRxCsmWx',
  type: 'copy320',
  trackUUID: 'c4432c2b-7fdc-4a05-b238-efc7e7c299c1',
  updatedAt: 2020-03-05T17:39:10.005Z,
  createdAt: 2020-03-05T17:39:10.005Z }
writing to db2...
Executing (874516b7-712d-40e6-83bd-5b4063d436cc): START TRANSACTION;
Executing (874516b7-712d-40e6-83bd-5b4063d436cc): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '11c34897-1946-4dfc-b59c-f646a1fc69fe' AND "File"."multihash" = 'QmdxPXtnTwgZKvBZfKJFab4ucMfdJAfFHHU4fDBRxCsmWx' AND "File"."sourceFile" = '70d5350b-5776-4012-8162-1ad76ddbe926.mp3' AND "File"."storagePath" = '/file_storage/QmdxPXtnTwgZKvBZfKJFab4ucMfdJAfFHHU4fDBRxCsmWx' AND "File"."type" = 'copy320' AND "File"."trackUUID" = 'c4432c2b-7fdc-4a05-b238-efc7e7c299c1' LIMIT 1;
Executing (874516b7-712d-40e6-83bd-5b4063d436cc): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_6d0e5ddfad4f40a5b4a13ff80e6df4eb$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('c9c52c33-c82c-4f78-8e3c-b6666faca5f3','11c34897-1946-4dfc-b59c-f646a1fc69fe','c4432c2b-7fdc-4a05-b238-efc7e7c299c1','QmdxPXtnTwgZKvBZfKJFab4ucMfdJAfFHHU4fDBRxCsmWx','70d5350b-5776-4012-8162-1ad76ddbe926.mp3','/file_storage/QmdxPXtnTwgZKvBZfKJFab4ucMfdJAfFHHU4fDBRxCsmWx','copy320','2020-03-05 17:39:10.401 +00:00','2020-03-05 17:39:10.401 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_6d0e5ddfad4f40a5b4a13ff80e6df4eb$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (874516b7-712d-40e6-83bd-5b4063d436cc): COMMIT;
{ fileUUID: 'c9c52c33-c82c-4f78-8e3c-b6666faca5f3',
  cnodeUserUUID: '11c34897-1946-4dfc-b59c-f646a1fc69fe',
  multihash: 'QmdxPXtnTwgZKvBZfKJFab4ucMfdJAfFHHU4fDBRxCsmWx',
  sourceFile: '70d5350b-5776-4012-8162-1ad76ddbe926.mp3',
  storagePath:
   '/file_storage/QmdxPXtnTwgZKvBZfKJFab4ucMfdJAfFHHU4fDBRxCsmWx',
  type: 'copy320',
  trackUUID: 'c4432c2b-7fdc-4a05-b238-efc7e7c299c1',
  updatedAt: 2020-03-05T17:39:10.401Z,
  createdAt: 2020-03-05T17:39:10.401Z }
writing to db3...
Executing (b1d040cd-4cc5-4292-99e0-449e2dc820f0): START TRANSACTION;
Executing (b1d040cd-4cc5-4292-99e0-449e2dc820f0): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '11c34897-1946-4dfc-b59c-f646a1fc69fe' AND "File"."multihash" = 'QmdxPXtnTwgZKvBZfKJFab4ucMfdJAfFHHU4fDBRxCsmWx' AND "File"."sourceFile" = '70d5350b-5776-4012-8162-1ad76ddbe926.mp3' AND "File"."storagePath" = '/file_storage/QmdxPXtnTwgZKvBZfKJFab4ucMfdJAfFHHU4fDBRxCsmWx' AND "File"."type" = 'copy320' AND "File"."trackUUID" = 'c4432c2b-7fdc-4a05-b238-efc7e7c299c1' LIMIT 1;
Executing (b1d040cd-4cc5-4292-99e0-449e2dc820f0): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_88447dc3abe34b919913ab3d3238e403$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('30c1e8aa-d1ee-43c9-b45e-10d4cbaf2b2a','11c34897-1946-4dfc-b59c-f646a1fc69fe','c4432c2b-7fdc-4a05-b238-efc7e7c299c1','QmdxPXtnTwgZKvBZfKJFab4ucMfdJAfFHHU4fDBRxCsmWx','70d5350b-5776-4012-8162-1ad76ddbe926.mp3','/file_storage/QmdxPXtnTwgZKvBZfKJFab4ucMfdJAfFHHU4fDBRxCsmWx','copy320','2020-03-05 17:39:10.782 +00:00','2020-03-05 17:39:10.782 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_88447dc3abe34b919913ab3d3238e403$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (b1d040cd-4cc5-4292-99e0-449e2dc820f0): COMMIT;
{ fileUUID: '30c1e8aa-d1ee-43c9-b45e-10d4cbaf2b2a',
  cnodeUserUUID: '11c34897-1946-4dfc-b59c-f646a1fc69fe',
  multihash: 'QmdxPXtnTwgZKvBZfKJFab4ucMfdJAfFHHU4fDBRxCsmWx',
  sourceFile: '70d5350b-5776-4012-8162-1ad76ddbe926.mp3',
  storagePath:
   '/file_storage/QmdxPXtnTwgZKvBZfKJFab4ucMfdJAfFHHU4fDBRxCsmWx',
  type: 'copy320',
  trackUUID: 'c4432c2b-7fdc-4a05-b238-efc7e7c299c1',
  updatedAt: 2020-03-05T17:39:10.782Z,
  createdAt: 2020-03-05T17:39:10.782Z }




PROCESSING ROW #136: sourcefile: 2dad8664-1298-441e-8fe4-bb2949b98b28.mp3, cnodeUserUUID: 56b6aa9f-46a8-4fb6-911a-c4d69dbdf9b6, trackUUID: 589b1454-f52d-4172-857a-7997b06def50, multihash: QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM, dstPath: /file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM
writing to db1...
Executing (46a28c14-6f8b-46f9-8634-95aa19f70d99): START TRANSACTION;
Executing (46a28c14-6f8b-46f9-8634-95aa19f70d99): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '56b6aa9f-46a8-4fb6-911a-c4d69dbdf9b6' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = '2dad8664-1298-441e-8fe4-bb2949b98b28.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '589b1454-f52d-4172-857a-7997b06def50' LIMIT 1;
Executing (46a28c14-6f8b-46f9-8634-95aa19f70d99): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_55b9f8afe7bc49cc9b6231eaa645cfd1$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('437e5372-294d-45b2-ac80-8b1b0887a6b6','56b6aa9f-46a8-4fb6-911a-c4d69dbdf9b6','589b1454-f52d-4172-857a-7997b06def50','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','2dad8664-1298-441e-8fe4-bb2949b98b28.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:39:11.175 +00:00','2020-03-05 17:39:11.175 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_55b9f8afe7bc49cc9b6231eaa645cfd1$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (46a28c14-6f8b-46f9-8634-95aa19f70d99): COMMIT;
{ fileUUID: '437e5372-294d-45b2-ac80-8b1b0887a6b6',
  cnodeUserUUID: '56b6aa9f-46a8-4fb6-911a-c4d69dbdf9b6',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: '2dad8664-1298-441e-8fe4-bb2949b98b28.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: '589b1454-f52d-4172-857a-7997b06def50',
  updatedAt: 2020-03-05T17:39:11.175Z,
  createdAt: 2020-03-05T17:39:11.175Z }
writing to db2...
Executing (ed687762-5116-436a-96ca-aed2b7c74f88): START TRANSACTION;
Executing (ed687762-5116-436a-96ca-aed2b7c74f88): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '56b6aa9f-46a8-4fb6-911a-c4d69dbdf9b6' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = '2dad8664-1298-441e-8fe4-bb2949b98b28.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '589b1454-f52d-4172-857a-7997b06def50' LIMIT 1;
Executing (ed687762-5116-436a-96ca-aed2b7c74f88): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_7dad8de4d28a4689b8a4db3980a17648$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('7c27820f-926f-4f23-bba1-ffb88c97fb0f','56b6aa9f-46a8-4fb6-911a-c4d69dbdf9b6','589b1454-f52d-4172-857a-7997b06def50','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','2dad8664-1298-441e-8fe4-bb2949b98b28.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:39:11.559 +00:00','2020-03-05 17:39:11.559 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_7dad8de4d28a4689b8a4db3980a17648$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (ed687762-5116-436a-96ca-aed2b7c74f88): COMMIT;
{ fileUUID: '7c27820f-926f-4f23-bba1-ffb88c97fb0f',
  cnodeUserUUID: '56b6aa9f-46a8-4fb6-911a-c4d69dbdf9b6',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: '2dad8664-1298-441e-8fe4-bb2949b98b28.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: '589b1454-f52d-4172-857a-7997b06def50',
  updatedAt: 2020-03-05T17:39:11.559Z,
  createdAt: 2020-03-05T17:39:11.559Z }
writing to db3...
Executing (9ae2d268-3dfc-4453-959a-607eb3f4c289): START TRANSACTION;
Executing (9ae2d268-3dfc-4453-959a-607eb3f4c289): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '56b6aa9f-46a8-4fb6-911a-c4d69dbdf9b6' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = '2dad8664-1298-441e-8fe4-bb2949b98b28.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '589b1454-f52d-4172-857a-7997b06def50' LIMIT 1;
Executing (9ae2d268-3dfc-4453-959a-607eb3f4c289): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_34ca430c7ae84a59a8f3b9ba7903a44c$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('83222f0a-ba32-45e2-bbe2-4f15b1921c2a','56b6aa9f-46a8-4fb6-911a-c4d69dbdf9b6','589b1454-f52d-4172-857a-7997b06def50','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','2dad8664-1298-441e-8fe4-bb2949b98b28.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:39:11.951 +00:00','2020-03-05 17:39:11.951 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_34ca430c7ae84a59a8f3b9ba7903a44c$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (9ae2d268-3dfc-4453-959a-607eb3f4c289): COMMIT;
{ fileUUID: '83222f0a-ba32-45e2-bbe2-4f15b1921c2a',
  cnodeUserUUID: '56b6aa9f-46a8-4fb6-911a-c4d69dbdf9b6',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: '2dad8664-1298-441e-8fe4-bb2949b98b28.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: '589b1454-f52d-4172-857a-7997b06def50',
  updatedAt: 2020-03-05T17:39:11.951Z,
  createdAt: 2020-03-05T17:39:11.951Z }




PROCESSING ROW #137: sourcefile: 8b07bf8b-8246-4bbf-ac80-219aeabeddd7.mp3, cnodeUserUUID: 2a58b608-4200-4152-b041-b0821cb02fbf, trackUUID: 326eec4d-52a5-4374-ab75-7c2fdb1ac602, multihash: QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM, dstPath: /file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM
writing to db1...
Executing (eb27f05c-3139-4100-9941-c28ed2d700c2): START TRANSACTION;
Executing (eb27f05c-3139-4100-9941-c28ed2d700c2): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '2a58b608-4200-4152-b041-b0821cb02fbf' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = '8b07bf8b-8246-4bbf-ac80-219aeabeddd7.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '326eec4d-52a5-4374-ab75-7c2fdb1ac602' LIMIT 1;
Executing (eb27f05c-3139-4100-9941-c28ed2d700c2): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_2cab9748719b4491844f74773192a370$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('448ad307-29e3-462e-871f-699771a5232e','2a58b608-4200-4152-b041-b0821cb02fbf','326eec4d-52a5-4374-ab75-7c2fdb1ac602','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','8b07bf8b-8246-4bbf-ac80-219aeabeddd7.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:39:12.344 +00:00','2020-03-05 17:39:12.344 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_2cab9748719b4491844f74773192a370$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (eb27f05c-3139-4100-9941-c28ed2d700c2): COMMIT;
{ fileUUID: '448ad307-29e3-462e-871f-699771a5232e',
  cnodeUserUUID: '2a58b608-4200-4152-b041-b0821cb02fbf',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: '8b07bf8b-8246-4bbf-ac80-219aeabeddd7.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: '326eec4d-52a5-4374-ab75-7c2fdb1ac602',
  updatedAt: 2020-03-05T17:39:12.344Z,
  createdAt: 2020-03-05T17:39:12.344Z }
writing to db2...
Executing (1a1644ab-84d6-4ce7-8cba-c607eea24816): START TRANSACTION;
Executing (1a1644ab-84d6-4ce7-8cba-c607eea24816): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '2a58b608-4200-4152-b041-b0821cb02fbf' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = '8b07bf8b-8246-4bbf-ac80-219aeabeddd7.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '326eec4d-52a5-4374-ab75-7c2fdb1ac602' LIMIT 1;
Executing (1a1644ab-84d6-4ce7-8cba-c607eea24816): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_a725e060f9ce467aa88c756bb8a4b7e2$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('0e3ea790-c18e-477b-8aab-56d2d3a8f2eb','2a58b608-4200-4152-b041-b0821cb02fbf','326eec4d-52a5-4374-ab75-7c2fdb1ac602','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','8b07bf8b-8246-4bbf-ac80-219aeabeddd7.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:39:12.741 +00:00','2020-03-05 17:39:12.741 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_a725e060f9ce467aa88c756bb8a4b7e2$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (1a1644ab-84d6-4ce7-8cba-c607eea24816): COMMIT;
{ fileUUID: '0e3ea790-c18e-477b-8aab-56d2d3a8f2eb',
  cnodeUserUUID: '2a58b608-4200-4152-b041-b0821cb02fbf',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: '8b07bf8b-8246-4bbf-ac80-219aeabeddd7.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: '326eec4d-52a5-4374-ab75-7c2fdb1ac602',
  updatedAt: 2020-03-05T17:39:12.741Z,
  createdAt: 2020-03-05T17:39:12.741Z }
writing to db3...
Executing (fb0eddb7-2e10-4754-8d69-59734f0726fa): START TRANSACTION;
Executing (fb0eddb7-2e10-4754-8d69-59734f0726fa): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '2a58b608-4200-4152-b041-b0821cb02fbf' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = '8b07bf8b-8246-4bbf-ac80-219aeabeddd7.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '326eec4d-52a5-4374-ab75-7c2fdb1ac602' LIMIT 1;
Executing (fb0eddb7-2e10-4754-8d69-59734f0726fa): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_6dcdc9a9128f4b018b20ca5ab8d3b8c4$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('0332f6d0-d0a5-41f0-b844-c374561a932b','2a58b608-4200-4152-b041-b0821cb02fbf','326eec4d-52a5-4374-ab75-7c2fdb1ac602','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','8b07bf8b-8246-4bbf-ac80-219aeabeddd7.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:39:13.142 +00:00','2020-03-05 17:39:13.142 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_6dcdc9a9128f4b018b20ca5ab8d3b8c4$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (fb0eddb7-2e10-4754-8d69-59734f0726fa): COMMIT;
{ fileUUID: '0332f6d0-d0a5-41f0-b844-c374561a932b',
  cnodeUserUUID: '2a58b608-4200-4152-b041-b0821cb02fbf',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: '8b07bf8b-8246-4bbf-ac80-219aeabeddd7.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: '326eec4d-52a5-4374-ab75-7c2fdb1ac602',
  updatedAt: 2020-03-05T17:39:13.142Z,
  createdAt: 2020-03-05T17:39:13.142Z }




PROCESSING ROW #138: sourcefile: a5791780-457f-4386-ba4f-29eebbb1d96d.mp3, cnodeUserUUID: 2d38d9e8-5c2a-4a86-b1f7-64bb4ee7fbfa, trackUUID: 5f603bfd-beec-4661-8962-4198b09911b5, multihash: QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM, dstPath: /file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM
writing to db1...
Executing (f467f641-bb30-4286-a2ca-17fabed1a728): START TRANSACTION;
Executing (f467f641-bb30-4286-a2ca-17fabed1a728): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '2d38d9e8-5c2a-4a86-b1f7-64bb4ee7fbfa' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = 'a5791780-457f-4386-ba4f-29eebbb1d96d.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '5f603bfd-beec-4661-8962-4198b09911b5' LIMIT 1;
Executing (f467f641-bb30-4286-a2ca-17fabed1a728): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_aa4de58ce02a496ca031b77be455a667$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('36187bd3-c07b-430a-a0f9-75837476cfc2','2d38d9e8-5c2a-4a86-b1f7-64bb4ee7fbfa','5f603bfd-beec-4661-8962-4198b09911b5','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','a5791780-457f-4386-ba4f-29eebbb1d96d.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:39:13.535 +00:00','2020-03-05 17:39:13.535 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_aa4de58ce02a496ca031b77be455a667$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (f467f641-bb30-4286-a2ca-17fabed1a728): COMMIT;
{ fileUUID: '36187bd3-c07b-430a-a0f9-75837476cfc2',
  cnodeUserUUID: '2d38d9e8-5c2a-4a86-b1f7-64bb4ee7fbfa',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: 'a5791780-457f-4386-ba4f-29eebbb1d96d.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: '5f603bfd-beec-4661-8962-4198b09911b5',
  updatedAt: 2020-03-05T17:39:13.535Z,
  createdAt: 2020-03-05T17:39:13.535Z }
writing to db2...
Executing (803e56d4-ef92-40b9-aeaa-ffcd8df5c110): START TRANSACTION;
Executing (803e56d4-ef92-40b9-aeaa-ffcd8df5c110): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '2d38d9e8-5c2a-4a86-b1f7-64bb4ee7fbfa' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = 'a5791780-457f-4386-ba4f-29eebbb1d96d.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '5f603bfd-beec-4661-8962-4198b09911b5' LIMIT 1;
Executing (803e56d4-ef92-40b9-aeaa-ffcd8df5c110): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_c5b399a629e14b818b17af759288101e$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('b8e63f8f-ee96-4d6c-b1d2-41315ad4a57c','2d38d9e8-5c2a-4a86-b1f7-64bb4ee7fbfa','5f603bfd-beec-4661-8962-4198b09911b5','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','a5791780-457f-4386-ba4f-29eebbb1d96d.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:39:13.937 +00:00','2020-03-05 17:39:13.937 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_c5b399a629e14b818b17af759288101e$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (803e56d4-ef92-40b9-aeaa-ffcd8df5c110): COMMIT;
{ fileUUID: 'b8e63f8f-ee96-4d6c-b1d2-41315ad4a57c',
  cnodeUserUUID: '2d38d9e8-5c2a-4a86-b1f7-64bb4ee7fbfa',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: 'a5791780-457f-4386-ba4f-29eebbb1d96d.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: '5f603bfd-beec-4661-8962-4198b09911b5',
  updatedAt: 2020-03-05T17:39:13.937Z,
  createdAt: 2020-03-05T17:39:13.937Z }
writing to db3...
Executing (dd9104e8-47c9-4a05-8d6e-4433a76a0f86): START TRANSACTION;
Executing (dd9104e8-47c9-4a05-8d6e-4433a76a0f86): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '2d38d9e8-5c2a-4a86-b1f7-64bb4ee7fbfa' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = 'a5791780-457f-4386-ba4f-29eebbb1d96d.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '5f603bfd-beec-4661-8962-4198b09911b5' LIMIT 1;
Executing (dd9104e8-47c9-4a05-8d6e-4433a76a0f86): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_833e67cc0a1a41cb8c9100abe746d24a$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('a40cd2dc-c436-49ed-993e-b95127300f26','2d38d9e8-5c2a-4a86-b1f7-64bb4ee7fbfa','5f603bfd-beec-4661-8962-4198b09911b5','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','a5791780-457f-4386-ba4f-29eebbb1d96d.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:39:14.329 +00:00','2020-03-05 17:39:14.329 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_833e67cc0a1a41cb8c9100abe746d24a$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (dd9104e8-47c9-4a05-8d6e-4433a76a0f86): COMMIT;
{ fileUUID: 'a40cd2dc-c436-49ed-993e-b95127300f26',
  cnodeUserUUID: '2d38d9e8-5c2a-4a86-b1f7-64bb4ee7fbfa',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: 'a5791780-457f-4386-ba4f-29eebbb1d96d.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: '5f603bfd-beec-4661-8962-4198b09911b5',
  updatedAt: 2020-03-05T17:39:14.329Z,
  createdAt: 2020-03-05T17:39:14.329Z }




PROCESSING ROW #139: sourcefile: a60ff638-e649-4e3a-a86c-f3a0830a2b4f.mp3, cnodeUserUUID: 224da11b-03d6-440a-a3e8-a05ac0478bcb, trackUUID: 048de8b2-ad09-4ad4-9b1c-4257cb4baddb, multihash: QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM, dstPath: /file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM
writing to db1...
Executing (a1b6d257-1204-469d-a8cb-8ff79c5664e4): START TRANSACTION;
Executing (a1b6d257-1204-469d-a8cb-8ff79c5664e4): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '224da11b-03d6-440a-a3e8-a05ac0478bcb' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = 'a60ff638-e649-4e3a-a86c-f3a0830a2b4f.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '048de8b2-ad09-4ad4-9b1c-4257cb4baddb' LIMIT 1;
Executing (a1b6d257-1204-469d-a8cb-8ff79c5664e4): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_9a244a7b47834afb85dcda17725cdc84$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('d448bb1c-5f0c-47f8-b3e9-c67e6279b0b0','224da11b-03d6-440a-a3e8-a05ac0478bcb','048de8b2-ad09-4ad4-9b1c-4257cb4baddb','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','a60ff638-e649-4e3a-a86c-f3a0830a2b4f.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:39:14.722 +00:00','2020-03-05 17:39:14.722 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_9a244a7b47834afb85dcda17725cdc84$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (a1b6d257-1204-469d-a8cb-8ff79c5664e4): COMMIT;
{ fileUUID: 'd448bb1c-5f0c-47f8-b3e9-c67e6279b0b0',
  cnodeUserUUID: '224da11b-03d6-440a-a3e8-a05ac0478bcb',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: 'a60ff638-e649-4e3a-a86c-f3a0830a2b4f.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: '048de8b2-ad09-4ad4-9b1c-4257cb4baddb',
  updatedAt: 2020-03-05T17:39:14.722Z,
  createdAt: 2020-03-05T17:39:14.722Z }
writing to db2...
Executing (515a3b30-da30-45f6-9959-c662831977da): START TRANSACTION;
Executing (515a3b30-da30-45f6-9959-c662831977da): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '224da11b-03d6-440a-a3e8-a05ac0478bcb' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = 'a60ff638-e649-4e3a-a86c-f3a0830a2b4f.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '048de8b2-ad09-4ad4-9b1c-4257cb4baddb' LIMIT 1;
Executing (515a3b30-da30-45f6-9959-c662831977da): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_68a580b739d847f395d15350074f967d$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('4476cc73-4e3e-4834-be85-4c18f5af8535','224da11b-03d6-440a-a3e8-a05ac0478bcb','048de8b2-ad09-4ad4-9b1c-4257cb4baddb','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','a60ff638-e649-4e3a-a86c-f3a0830a2b4f.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:39:15.112 +00:00','2020-03-05 17:39:15.112 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_68a580b739d847f395d15350074f967d$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (515a3b30-da30-45f6-9959-c662831977da): COMMIT;
{ fileUUID: '4476cc73-4e3e-4834-be85-4c18f5af8535',
  cnodeUserUUID: '224da11b-03d6-440a-a3e8-a05ac0478bcb',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: 'a60ff638-e649-4e3a-a86c-f3a0830a2b4f.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: '048de8b2-ad09-4ad4-9b1c-4257cb4baddb',
  updatedAt: 2020-03-05T17:39:15.112Z,
  createdAt: 2020-03-05T17:39:15.112Z }
writing to db3...
Executing (59815754-4cbb-41e2-b15c-a31d75de84e7): START TRANSACTION;
Executing (59815754-4cbb-41e2-b15c-a31d75de84e7): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '224da11b-03d6-440a-a3e8-a05ac0478bcb' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = 'a60ff638-e649-4e3a-a86c-f3a0830a2b4f.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '048de8b2-ad09-4ad4-9b1c-4257cb4baddb' LIMIT 1;
Executing (59815754-4cbb-41e2-b15c-a31d75de84e7): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_937e4d46e54c454293b63a3c778a38c4$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('d50ba386-139d-4c9b-bb40-4d6cf486fd4a','224da11b-03d6-440a-a3e8-a05ac0478bcb','048de8b2-ad09-4ad4-9b1c-4257cb4baddb','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','a60ff638-e649-4e3a-a86c-f3a0830a2b4f.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:39:15.539 +00:00','2020-03-05 17:39:15.539 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_937e4d46e54c454293b63a3c778a38c4$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (59815754-4cbb-41e2-b15c-a31d75de84e7): COMMIT;
{ fileUUID: 'd50ba386-139d-4c9b-bb40-4d6cf486fd4a',
  cnodeUserUUID: '224da11b-03d6-440a-a3e8-a05ac0478bcb',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: 'a60ff638-e649-4e3a-a86c-f3a0830a2b4f.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: '048de8b2-ad09-4ad4-9b1c-4257cb4baddb',
  updatedAt: 2020-03-05T17:39:15.539Z,
  createdAt: 2020-03-05T17:39:15.539Z }




PROCESSING ROW #140: sourcefile: 78bdd368-a80e-4ba6-9e11-a5c78d07e840.mp3, cnodeUserUUID: a0e58d58-8911-4467-8714-a4216587c95e, trackUUID: 6c289cd5-6599-4914-9697-886b9d239961, multihash: QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM, dstPath: /file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM
writing to db1...
Executing (08576c76-4601-493c-a3b9-52e9c08eab24): START TRANSACTION;
Executing (08576c76-4601-493c-a3b9-52e9c08eab24): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = 'a0e58d58-8911-4467-8714-a4216587c95e' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = '78bdd368-a80e-4ba6-9e11-a5c78d07e840.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '6c289cd5-6599-4914-9697-886b9d239961' LIMIT 1;
Executing (08576c76-4601-493c-a3b9-52e9c08eab24): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_043f512bd8da4dfeb3e314fe1eaf7e7e$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('c18c5855-c89b-4915-ad35-e9034514462a','a0e58d58-8911-4467-8714-a4216587c95e','6c289cd5-6599-4914-9697-886b9d239961','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','78bdd368-a80e-4ba6-9e11-a5c78d07e840.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:39:15.941 +00:00','2020-03-05 17:39:15.941 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_043f512bd8da4dfeb3e314fe1eaf7e7e$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (08576c76-4601-493c-a3b9-52e9c08eab24): COMMIT;
{ fileUUID: 'c18c5855-c89b-4915-ad35-e9034514462a',
  cnodeUserUUID: 'a0e58d58-8911-4467-8714-a4216587c95e',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: '78bdd368-a80e-4ba6-9e11-a5c78d07e840.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: '6c289cd5-6599-4914-9697-886b9d239961',
  updatedAt: 2020-03-05T17:39:15.941Z,
  createdAt: 2020-03-05T17:39:15.941Z }
writing to db2...
Executing (d7f20921-30fc-4d4a-af75-d2ddb59f3e68): START TRANSACTION;
Executing (d7f20921-30fc-4d4a-af75-d2ddb59f3e68): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = 'a0e58d58-8911-4467-8714-a4216587c95e' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = '78bdd368-a80e-4ba6-9e11-a5c78d07e840.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '6c289cd5-6599-4914-9697-886b9d239961' LIMIT 1;
Executing (d7f20921-30fc-4d4a-af75-d2ddb59f3e68): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_aa7c0e92397547499d283f65bebbaa8d$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('43e4af3e-820d-427b-b0ad-ea92ea4d6296','a0e58d58-8911-4467-8714-a4216587c95e','6c289cd5-6599-4914-9697-886b9d239961','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','78bdd368-a80e-4ba6-9e11-a5c78d07e840.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:39:16.340 +00:00','2020-03-05 17:39:16.340 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_aa7c0e92397547499d283f65bebbaa8d$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (d7f20921-30fc-4d4a-af75-d2ddb59f3e68): COMMIT;
{ fileUUID: '43e4af3e-820d-427b-b0ad-ea92ea4d6296',
  cnodeUserUUID: 'a0e58d58-8911-4467-8714-a4216587c95e',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: '78bdd368-a80e-4ba6-9e11-a5c78d07e840.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: '6c289cd5-6599-4914-9697-886b9d239961',
  updatedAt: 2020-03-05T17:39:16.340Z,
  createdAt: 2020-03-05T17:39:16.340Z }
writing to db3...
Executing (28ad03a9-b0d4-4c59-80a6-b77203e4b4b8): START TRANSACTION;
Executing (28ad03a9-b0d4-4c59-80a6-b77203e4b4b8): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = 'a0e58d58-8911-4467-8714-a4216587c95e' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = '78bdd368-a80e-4ba6-9e11-a5c78d07e840.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '6c289cd5-6599-4914-9697-886b9d239961' LIMIT 1;
Executing (28ad03a9-b0d4-4c59-80a6-b77203e4b4b8): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_e05262f0e609440cb68e7bebfc26171f$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('39e7970f-2e32-45f3-b1ab-e1a338b4505d','a0e58d58-8911-4467-8714-a4216587c95e','6c289cd5-6599-4914-9697-886b9d239961','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','78bdd368-a80e-4ba6-9e11-a5c78d07e840.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:39:16.732 +00:00','2020-03-05 17:39:16.732 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_e05262f0e609440cb68e7bebfc26171f$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (28ad03a9-b0d4-4c59-80a6-b77203e4b4b8): COMMIT;
{ fileUUID: '39e7970f-2e32-45f3-b1ab-e1a338b4505d',
  cnodeUserUUID: 'a0e58d58-8911-4467-8714-a4216587c95e',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: '78bdd368-a80e-4ba6-9e11-a5c78d07e840.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: '6c289cd5-6599-4914-9697-886b9d239961',
  updatedAt: 2020-03-05T17:39:16.732Z,
  createdAt: 2020-03-05T17:39:16.732Z }




PROCESSING ROW #141: sourcefile: 7c8d5c9f-cf59-4fc2-b15f-61e588be2b66.mp3, cnodeUserUUID: 9c7c7fdd-6ca3-4e67-a979-52622138b098, trackUUID: f883f478-86a7-4adc-9922-b9803fc1e5e2, multihash: QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM, dstPath: /file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM
writing to db1...
Executing (4e6fe69f-6ec3-4ee9-9807-80d339651fc0): START TRANSACTION;
Executing (4e6fe69f-6ec3-4ee9-9807-80d339651fc0): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '9c7c7fdd-6ca3-4e67-a979-52622138b098' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = '7c8d5c9f-cf59-4fc2-b15f-61e588be2b66.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = 'f883f478-86a7-4adc-9922-b9803fc1e5e2' LIMIT 1;
Executing (4e6fe69f-6ec3-4ee9-9807-80d339651fc0): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_d2ab4cebead94639aa951a8b0adeaece$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('92231480-4bc0-4693-b0ad-550faed995e3','9c7c7fdd-6ca3-4e67-a979-52622138b098','f883f478-86a7-4adc-9922-b9803fc1e5e2','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','7c8d5c9f-cf59-4fc2-b15f-61e588be2b66.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:39:17.117 +00:00','2020-03-05 17:39:17.117 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_d2ab4cebead94639aa951a8b0adeaece$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (4e6fe69f-6ec3-4ee9-9807-80d339651fc0): COMMIT;
{ fileUUID: '92231480-4bc0-4693-b0ad-550faed995e3',
  cnodeUserUUID: '9c7c7fdd-6ca3-4e67-a979-52622138b098',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: '7c8d5c9f-cf59-4fc2-b15f-61e588be2b66.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: 'f883f478-86a7-4adc-9922-b9803fc1e5e2',
  updatedAt: 2020-03-05T17:39:17.117Z,
  createdAt: 2020-03-05T17:39:17.117Z }
writing to db2...
Executing (8f9f2c76-f56d-4b75-ba0e-5fc3c8226ffd): START TRANSACTION;
Executing (8f9f2c76-f56d-4b75-ba0e-5fc3c8226ffd): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '9c7c7fdd-6ca3-4e67-a979-52622138b098' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = '7c8d5c9f-cf59-4fc2-b15f-61e588be2b66.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = 'f883f478-86a7-4adc-9922-b9803fc1e5e2' LIMIT 1;
Executing (8f9f2c76-f56d-4b75-ba0e-5fc3c8226ffd): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_79d8f6674ce04d53ab1b770d0ead7a3c$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('9bd1643c-85d4-4700-bab5-3e50c78b945d','9c7c7fdd-6ca3-4e67-a979-52622138b098','f883f478-86a7-4adc-9922-b9803fc1e5e2','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','7c8d5c9f-cf59-4fc2-b15f-61e588be2b66.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:39:17.502 +00:00','2020-03-05 17:39:17.502 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_79d8f6674ce04d53ab1b770d0ead7a3c$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (8f9f2c76-f56d-4b75-ba0e-5fc3c8226ffd): COMMIT;
{ fileUUID: '9bd1643c-85d4-4700-bab5-3e50c78b945d',
  cnodeUserUUID: '9c7c7fdd-6ca3-4e67-a979-52622138b098',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: '7c8d5c9f-cf59-4fc2-b15f-61e588be2b66.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: 'f883f478-86a7-4adc-9922-b9803fc1e5e2',
  updatedAt: 2020-03-05T17:39:17.502Z,
  createdAt: 2020-03-05T17:39:17.502Z }
writing to db3...
Executing (5c906f58-b899-482f-9b32-ead328bff2c8): START TRANSACTION;
Executing (5c906f58-b899-482f-9b32-ead328bff2c8): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '9c7c7fdd-6ca3-4e67-a979-52622138b098' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = '7c8d5c9f-cf59-4fc2-b15f-61e588be2b66.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = 'f883f478-86a7-4adc-9922-b9803fc1e5e2' LIMIT 1;
Executing (5c906f58-b899-482f-9b32-ead328bff2c8): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_e05b8c32d85c477aaf7d22e4c9c95a63$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('834e3330-f714-4aa2-89ff-1d4256e9f7d9','9c7c7fdd-6ca3-4e67-a979-52622138b098','f883f478-86a7-4adc-9922-b9803fc1e5e2','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','7c8d5c9f-cf59-4fc2-b15f-61e588be2b66.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:39:17.888 +00:00','2020-03-05 17:39:17.888 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_e05b8c32d85c477aaf7d22e4c9c95a63$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (5c906f58-b899-482f-9b32-ead328bff2c8): COMMIT;
{ fileUUID: '834e3330-f714-4aa2-89ff-1d4256e9f7d9',
  cnodeUserUUID: '9c7c7fdd-6ca3-4e67-a979-52622138b098',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: '7c8d5c9f-cf59-4fc2-b15f-61e588be2b66.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: 'f883f478-86a7-4adc-9922-b9803fc1e5e2',
  updatedAt: 2020-03-05T17:39:17.888Z,
  createdAt: 2020-03-05T17:39:17.888Z }




PROCESSING ROW #142: sourcefile: bda8dedd-5452-4fc8-950d-8ad63bebb9e3.mp3, cnodeUserUUID: 98fecfa6-1854-42df-8bbf-31e159f7232c, trackUUID: a720fa91-e193-4e96-a3a5-f56cf53da77f, multihash: QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM, dstPath: /file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM
writing to db1...
Executing (153dc43f-ffcc-4f81-a44b-360592ada9a2): START TRANSACTION;
Executing (153dc43f-ffcc-4f81-a44b-360592ada9a2): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '98fecfa6-1854-42df-8bbf-31e159f7232c' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = 'bda8dedd-5452-4fc8-950d-8ad63bebb9e3.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = 'a720fa91-e193-4e96-a3a5-f56cf53da77f' LIMIT 1;
Executing (153dc43f-ffcc-4f81-a44b-360592ada9a2): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_93cde5f472e14e91b4c858e450c1902a$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('4dca0727-787f-4156-b610-4f7a710b6127','98fecfa6-1854-42df-8bbf-31e159f7232c','a720fa91-e193-4e96-a3a5-f56cf53da77f','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','bda8dedd-5452-4fc8-950d-8ad63bebb9e3.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:39:18.294 +00:00','2020-03-05 17:39:18.294 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_93cde5f472e14e91b4c858e450c1902a$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (153dc43f-ffcc-4f81-a44b-360592ada9a2): COMMIT;
{ fileUUID: '4dca0727-787f-4156-b610-4f7a710b6127',
  cnodeUserUUID: '98fecfa6-1854-42df-8bbf-31e159f7232c',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: 'bda8dedd-5452-4fc8-950d-8ad63bebb9e3.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: 'a720fa91-e193-4e96-a3a5-f56cf53da77f',
  updatedAt: 2020-03-05T17:39:18.294Z,
  createdAt: 2020-03-05T17:39:18.294Z }
writing to db2...
Executing (b352c2f4-7d92-42b6-8939-d3db51a5c2ac): START TRANSACTION;
Executing (b352c2f4-7d92-42b6-8939-d3db51a5c2ac): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '98fecfa6-1854-42df-8bbf-31e159f7232c' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = 'bda8dedd-5452-4fc8-950d-8ad63bebb9e3.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = 'a720fa91-e193-4e96-a3a5-f56cf53da77f' LIMIT 1;
Executing (b352c2f4-7d92-42b6-8939-d3db51a5c2ac): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_4db0796646d746bab8e5c54b896b41be$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('a94326c1-aeaf-447c-8b55-6a00bf260fcb','98fecfa6-1854-42df-8bbf-31e159f7232c','a720fa91-e193-4e96-a3a5-f56cf53da77f','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','bda8dedd-5452-4fc8-950d-8ad63bebb9e3.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:39:18.697 +00:00','2020-03-05 17:39:18.697 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_4db0796646d746bab8e5c54b896b41be$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (b352c2f4-7d92-42b6-8939-d3db51a5c2ac): COMMIT;
{ fileUUID: 'a94326c1-aeaf-447c-8b55-6a00bf260fcb',
  cnodeUserUUID: '98fecfa6-1854-42df-8bbf-31e159f7232c',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: 'bda8dedd-5452-4fc8-950d-8ad63bebb9e3.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: 'a720fa91-e193-4e96-a3a5-f56cf53da77f',
  updatedAt: 2020-03-05T17:39:18.697Z,
  createdAt: 2020-03-05T17:39:18.697Z }
writing to db3...
Executing (1d6616f4-a78a-4618-985f-9693d8fe0191): START TRANSACTION;
Executing (1d6616f4-a78a-4618-985f-9693d8fe0191): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '98fecfa6-1854-42df-8bbf-31e159f7232c' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = 'bda8dedd-5452-4fc8-950d-8ad63bebb9e3.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = 'a720fa91-e193-4e96-a3a5-f56cf53da77f' LIMIT 1;
Executing (1d6616f4-a78a-4618-985f-9693d8fe0191): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_21993ee224bc44e5948c03195b328621$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('0f2b3489-1ada-49b0-b7fc-e7434cb1f6f5','98fecfa6-1854-42df-8bbf-31e159f7232c','a720fa91-e193-4e96-a3a5-f56cf53da77f','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','bda8dedd-5452-4fc8-950d-8ad63bebb9e3.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:39:19.090 +00:00','2020-03-05 17:39:19.090 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_21993ee224bc44e5948c03195b328621$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (1d6616f4-a78a-4618-985f-9693d8fe0191): COMMIT;
{ fileUUID: '0f2b3489-1ada-49b0-b7fc-e7434cb1f6f5',
  cnodeUserUUID: '98fecfa6-1854-42df-8bbf-31e159f7232c',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: 'bda8dedd-5452-4fc8-950d-8ad63bebb9e3.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: 'a720fa91-e193-4e96-a3a5-f56cf53da77f',
  updatedAt: 2020-03-05T17:39:19.090Z,
  createdAt: 2020-03-05T17:39:19.090Z }




PROCESSING ROW #143: sourcefile: c07565d6-c100-43a5-98f0-fa2c1c2f5fe0.mp3, cnodeUserUUID: 8598d7b0-4217-4b04-a9cd-1b47a0a69555, trackUUID: c39cad1e-b89e-47ef-94a9-91824978d94f, multihash: QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM, dstPath: /file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM
writing to db1...
Executing (99c4fc37-ede3-4246-b940-1bc82a3059b6): START TRANSACTION;
Executing (99c4fc37-ede3-4246-b940-1bc82a3059b6): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '8598d7b0-4217-4b04-a9cd-1b47a0a69555' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = 'c07565d6-c100-43a5-98f0-fa2c1c2f5fe0.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = 'c39cad1e-b89e-47ef-94a9-91824978d94f' LIMIT 1;
Executing (99c4fc37-ede3-4246-b940-1bc82a3059b6): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_615855c3ada64d63a9ad4f9624750e83$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('4237bbc0-df52-4b44-a6a7-8182adeca37c','8598d7b0-4217-4b04-a9cd-1b47a0a69555','c39cad1e-b89e-47ef-94a9-91824978d94f','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','c07565d6-c100-43a5-98f0-fa2c1c2f5fe0.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:39:19.499 +00:00','2020-03-05 17:39:19.499 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_615855c3ada64d63a9ad4f9624750e83$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (99c4fc37-ede3-4246-b940-1bc82a3059b6): COMMIT;
{ fileUUID: '4237bbc0-df52-4b44-a6a7-8182adeca37c',
  cnodeUserUUID: '8598d7b0-4217-4b04-a9cd-1b47a0a69555',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: 'c07565d6-c100-43a5-98f0-fa2c1c2f5fe0.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: 'c39cad1e-b89e-47ef-94a9-91824978d94f',
  updatedAt: 2020-03-05T17:39:19.499Z,
  createdAt: 2020-03-05T17:39:19.499Z }
writing to db2...
Executing (19d4e3f5-1e0c-49f1-8c93-c1be703820e0): START TRANSACTION;
Executing (19d4e3f5-1e0c-49f1-8c93-c1be703820e0): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '8598d7b0-4217-4b04-a9cd-1b47a0a69555' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = 'c07565d6-c100-43a5-98f0-fa2c1c2f5fe0.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = 'c39cad1e-b89e-47ef-94a9-91824978d94f' LIMIT 1;
Executing (19d4e3f5-1e0c-49f1-8c93-c1be703820e0): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_b64fbce7ade547d5941a7d9fcc51d5d9$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('ad012e73-816a-488a-8c16-084ef69bfabf','8598d7b0-4217-4b04-a9cd-1b47a0a69555','c39cad1e-b89e-47ef-94a9-91824978d94f','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','c07565d6-c100-43a5-98f0-fa2c1c2f5fe0.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:39:19.895 +00:00','2020-03-05 17:39:19.895 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_b64fbce7ade547d5941a7d9fcc51d5d9$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (19d4e3f5-1e0c-49f1-8c93-c1be703820e0): COMMIT;
{ fileUUID: 'ad012e73-816a-488a-8c16-084ef69bfabf',
  cnodeUserUUID: '8598d7b0-4217-4b04-a9cd-1b47a0a69555',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: 'c07565d6-c100-43a5-98f0-fa2c1c2f5fe0.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: 'c39cad1e-b89e-47ef-94a9-91824978d94f',
  updatedAt: 2020-03-05T17:39:19.895Z,
  createdAt: 2020-03-05T17:39:19.895Z }
writing to db3...
Executing (4af71338-77be-48ba-8002-8ee233a4b7b4): START TRANSACTION;
Executing (4af71338-77be-48ba-8002-8ee233a4b7b4): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '8598d7b0-4217-4b04-a9cd-1b47a0a69555' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = 'c07565d6-c100-43a5-98f0-fa2c1c2f5fe0.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = 'c39cad1e-b89e-47ef-94a9-91824978d94f' LIMIT 1;
Executing (4af71338-77be-48ba-8002-8ee233a4b7b4): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_548864c22e6948ef929a75192b0de483$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('c522da91-8abe-4f6b-9f8b-5de2eea61f9b','8598d7b0-4217-4b04-a9cd-1b47a0a69555','c39cad1e-b89e-47ef-94a9-91824978d94f','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','c07565d6-c100-43a5-98f0-fa2c1c2f5fe0.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:39:20.279 +00:00','2020-03-05 17:39:20.279 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_548864c22e6948ef929a75192b0de483$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (4af71338-77be-48ba-8002-8ee233a4b7b4): COMMIT;
{ fileUUID: 'c522da91-8abe-4f6b-9f8b-5de2eea61f9b',
  cnodeUserUUID: '8598d7b0-4217-4b04-a9cd-1b47a0a69555',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: 'c07565d6-c100-43a5-98f0-fa2c1c2f5fe0.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: 'c39cad1e-b89e-47ef-94a9-91824978d94f',
  updatedAt: 2020-03-05T17:39:20.279Z,
  createdAt: 2020-03-05T17:39:20.279Z }




PROCESSING ROW #144: sourcefile: ed57621d-4b62-4800-91e9-dcd594f4e052.mp3, cnodeUserUUID: 11c34897-1946-4dfc-b59c-f646a1fc69fe, trackUUID: 62e2997e-4150-4f41-ab7c-5dddcdc35903, multihash: QmbtCLoiyhTTpmVKWgVPLUibHTJ2e1ysM8s9QgGxeNer9Y, dstPath: /file_storage/QmbtCLoiyhTTpmVKWgVPLUibHTJ2e1ysM8s9QgGxeNer9Y
writing to db1...
Executing (0274fd0d-5aa9-4307-a0e6-8be70b2ab853): START TRANSACTION;
Executing (0274fd0d-5aa9-4307-a0e6-8be70b2ab853): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '11c34897-1946-4dfc-b59c-f646a1fc69fe' AND "File"."multihash" = 'QmbtCLoiyhTTpmVKWgVPLUibHTJ2e1ysM8s9QgGxeNer9Y' AND "File"."sourceFile" = 'ed57621d-4b62-4800-91e9-dcd594f4e052.mp3' AND "File"."storagePath" = '/file_storage/QmbtCLoiyhTTpmVKWgVPLUibHTJ2e1ysM8s9QgGxeNer9Y' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '62e2997e-4150-4f41-ab7c-5dddcdc35903' LIMIT 1;
Executing (0274fd0d-5aa9-4307-a0e6-8be70b2ab853): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_dfd945051181448db8a406fb7e59b6cb$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('d22bdd19-73e8-4081-a742-9db0961b1ddc','11c34897-1946-4dfc-b59c-f646a1fc69fe','62e2997e-4150-4f41-ab7c-5dddcdc35903','QmbtCLoiyhTTpmVKWgVPLUibHTJ2e1ysM8s9QgGxeNer9Y','ed57621d-4b62-4800-91e9-dcd594f4e052.mp3','/file_storage/QmbtCLoiyhTTpmVKWgVPLUibHTJ2e1ysM8s9QgGxeNer9Y','copy320','2020-03-05 17:39:20.661 +00:00','2020-03-05 17:39:20.661 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_dfd945051181448db8a406fb7e59b6cb$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (0274fd0d-5aa9-4307-a0e6-8be70b2ab853): COMMIT;
{ fileUUID: 'd22bdd19-73e8-4081-a742-9db0961b1ddc',
  cnodeUserUUID: '11c34897-1946-4dfc-b59c-f646a1fc69fe',
  multihash: 'QmbtCLoiyhTTpmVKWgVPLUibHTJ2e1ysM8s9QgGxeNer9Y',
  sourceFile: 'ed57621d-4b62-4800-91e9-dcd594f4e052.mp3',
  storagePath:
   '/file_storage/QmbtCLoiyhTTpmVKWgVPLUibHTJ2e1ysM8s9QgGxeNer9Y',
  type: 'copy320',
  trackUUID: '62e2997e-4150-4f41-ab7c-5dddcdc35903',
  updatedAt: 2020-03-05T17:39:20.661Z,
  createdAt: 2020-03-05T17:39:20.661Z }
writing to db2...
Executing (45bd902e-cf9e-4034-8463-1b36f1dfdd63): START TRANSACTION;
Executing (45bd902e-cf9e-4034-8463-1b36f1dfdd63): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '11c34897-1946-4dfc-b59c-f646a1fc69fe' AND "File"."multihash" = 'QmbtCLoiyhTTpmVKWgVPLUibHTJ2e1ysM8s9QgGxeNer9Y' AND "File"."sourceFile" = 'ed57621d-4b62-4800-91e9-dcd594f4e052.mp3' AND "File"."storagePath" = '/file_storage/QmbtCLoiyhTTpmVKWgVPLUibHTJ2e1ysM8s9QgGxeNer9Y' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '62e2997e-4150-4f41-ab7c-5dddcdc35903' LIMIT 1;
Executing (45bd902e-cf9e-4034-8463-1b36f1dfdd63): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_44cf42599292487393dd742ceba3cc01$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('0753e459-70df-4139-b6a5-73fe473fa9ce','11c34897-1946-4dfc-b59c-f646a1fc69fe','62e2997e-4150-4f41-ab7c-5dddcdc35903','QmbtCLoiyhTTpmVKWgVPLUibHTJ2e1ysM8s9QgGxeNer9Y','ed57621d-4b62-4800-91e9-dcd594f4e052.mp3','/file_storage/QmbtCLoiyhTTpmVKWgVPLUibHTJ2e1ysM8s9QgGxeNer9Y','copy320','2020-03-05 17:39:21.034 +00:00','2020-03-05 17:39:21.034 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_44cf42599292487393dd742ceba3cc01$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (45bd902e-cf9e-4034-8463-1b36f1dfdd63): COMMIT;
{ fileUUID: '0753e459-70df-4139-b6a5-73fe473fa9ce',
  cnodeUserUUID: '11c34897-1946-4dfc-b59c-f646a1fc69fe',
  multihash: 'QmbtCLoiyhTTpmVKWgVPLUibHTJ2e1ysM8s9QgGxeNer9Y',
  sourceFile: 'ed57621d-4b62-4800-91e9-dcd594f4e052.mp3',
  storagePath:
   '/file_storage/QmbtCLoiyhTTpmVKWgVPLUibHTJ2e1ysM8s9QgGxeNer9Y',
  type: 'copy320',
  trackUUID: '62e2997e-4150-4f41-ab7c-5dddcdc35903',
  updatedAt: 2020-03-05T17:39:21.034Z,
  createdAt: 2020-03-05T17:39:21.034Z }
writing to db3...
Executing (bb4d8d53-522a-42b7-b31f-659e55d5a550): START TRANSACTION;
Executing (bb4d8d53-522a-42b7-b31f-659e55d5a550): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '11c34897-1946-4dfc-b59c-f646a1fc69fe' AND "File"."multihash" = 'QmbtCLoiyhTTpmVKWgVPLUibHTJ2e1ysM8s9QgGxeNer9Y' AND "File"."sourceFile" = 'ed57621d-4b62-4800-91e9-dcd594f4e052.mp3' AND "File"."storagePath" = '/file_storage/QmbtCLoiyhTTpmVKWgVPLUibHTJ2e1ysM8s9QgGxeNer9Y' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '62e2997e-4150-4f41-ab7c-5dddcdc35903' LIMIT 1;
Executing (bb4d8d53-522a-42b7-b31f-659e55d5a550): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_d8f082cd8ca847cf89b27eb631375b9f$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('e7e26cdc-d732-4e5b-9ff3-3e87b424a18d','11c34897-1946-4dfc-b59c-f646a1fc69fe','62e2997e-4150-4f41-ab7c-5dddcdc35903','QmbtCLoiyhTTpmVKWgVPLUibHTJ2e1ysM8s9QgGxeNer9Y','ed57621d-4b62-4800-91e9-dcd594f4e052.mp3','/file_storage/QmbtCLoiyhTTpmVKWgVPLUibHTJ2e1ysM8s9QgGxeNer9Y','copy320','2020-03-05 17:39:21.422 +00:00','2020-03-05 17:39:21.422 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_d8f082cd8ca847cf89b27eb631375b9f$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (bb4d8d53-522a-42b7-b31f-659e55d5a550): COMMIT;
{ fileUUID: 'e7e26cdc-d732-4e5b-9ff3-3e87b424a18d',
  cnodeUserUUID: '11c34897-1946-4dfc-b59c-f646a1fc69fe',
  multihash: 'QmbtCLoiyhTTpmVKWgVPLUibHTJ2e1ysM8s9QgGxeNer9Y',
  sourceFile: 'ed57621d-4b62-4800-91e9-dcd594f4e052.mp3',
  storagePath:
   '/file_storage/QmbtCLoiyhTTpmVKWgVPLUibHTJ2e1ysM8s9QgGxeNer9Y',
  type: 'copy320',
  trackUUID: '62e2997e-4150-4f41-ab7c-5dddcdc35903',
  updatedAt: 2020-03-05T17:39:21.422Z,
  createdAt: 2020-03-05T17:39:21.422Z }




PROCESSING ROW #145: sourcefile: ed5b318f-b387-483f-b347-2ad8109f8d69.mp3, cnodeUserUUID: c6712399-ed32-440f-b40a-9728d0401964, trackUUID: 29ff981d-c481-42d9-9bd2-505df61c0284, multihash: QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM, dstPath: /file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM
writing to db1...
Executing (fe84339f-f300-4f23-b64d-be9f001e1d75): START TRANSACTION;
Executing (fe84339f-f300-4f23-b64d-be9f001e1d75): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = 'c6712399-ed32-440f-b40a-9728d0401964' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = 'ed5b318f-b387-483f-b347-2ad8109f8d69.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '29ff981d-c481-42d9-9bd2-505df61c0284' LIMIT 1;
Executing (fe84339f-f300-4f23-b64d-be9f001e1d75): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_b3e2306b641e462aa23c80f0ebe35d58$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('b93746ab-6365-4af6-b96e-76a415a8810c','c6712399-ed32-440f-b40a-9728d0401964','29ff981d-c481-42d9-9bd2-505df61c0284','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','ed5b318f-b387-483f-b347-2ad8109f8d69.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:39:21.808 +00:00','2020-03-05 17:39:21.808 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_b3e2306b641e462aa23c80f0ebe35d58$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (fe84339f-f300-4f23-b64d-be9f001e1d75): COMMIT;
{ fileUUID: 'b93746ab-6365-4af6-b96e-76a415a8810c',
  cnodeUserUUID: 'c6712399-ed32-440f-b40a-9728d0401964',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: 'ed5b318f-b387-483f-b347-2ad8109f8d69.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: '29ff981d-c481-42d9-9bd2-505df61c0284',
  updatedAt: 2020-03-05T17:39:21.808Z,
  createdAt: 2020-03-05T17:39:21.808Z }
writing to db2...
Executing (1536621b-36d2-4310-9bdc-91a1b479119c): START TRANSACTION;
Executing (1536621b-36d2-4310-9bdc-91a1b479119c): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = 'c6712399-ed32-440f-b40a-9728d0401964' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = 'ed5b318f-b387-483f-b347-2ad8109f8d69.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '29ff981d-c481-42d9-9bd2-505df61c0284' LIMIT 1;
Executing (1536621b-36d2-4310-9bdc-91a1b479119c): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_0206f675e89f41dea6d1260618ee6df4$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('6e0bfc22-a1a2-4bee-ae69-83fb1b27ab45','c6712399-ed32-440f-b40a-9728d0401964','29ff981d-c481-42d9-9bd2-505df61c0284','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','ed5b318f-b387-483f-b347-2ad8109f8d69.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:39:22.198 +00:00','2020-03-05 17:39:22.198 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_0206f675e89f41dea6d1260618ee6df4$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (1536621b-36d2-4310-9bdc-91a1b479119c): COMMIT;
{ fileUUID: '6e0bfc22-a1a2-4bee-ae69-83fb1b27ab45',
  cnodeUserUUID: 'c6712399-ed32-440f-b40a-9728d0401964',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: 'ed5b318f-b387-483f-b347-2ad8109f8d69.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: '29ff981d-c481-42d9-9bd2-505df61c0284',
  updatedAt: 2020-03-05T17:39:22.198Z,
  createdAt: 2020-03-05T17:39:22.198Z }
writing to db3...
Executing (a3cb1864-d534-4358-b20a-4295cad40a1f): START TRANSACTION;
Executing (a3cb1864-d534-4358-b20a-4295cad40a1f): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = 'c6712399-ed32-440f-b40a-9728d0401964' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = 'ed5b318f-b387-483f-b347-2ad8109f8d69.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '29ff981d-c481-42d9-9bd2-505df61c0284' LIMIT 1;
Executing (a3cb1864-d534-4358-b20a-4295cad40a1f): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_8e14e4cebca2441b8f6beea4c415100a$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('8fd4ca3f-8696-4808-8996-7bb20493e23b','c6712399-ed32-440f-b40a-9728d0401964','29ff981d-c481-42d9-9bd2-505df61c0284','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','ed5b318f-b387-483f-b347-2ad8109f8d69.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:39:22.577 +00:00','2020-03-05 17:39:22.577 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_8e14e4cebca2441b8f6beea4c415100a$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (a3cb1864-d534-4358-b20a-4295cad40a1f): COMMIT;
{ fileUUID: '8fd4ca3f-8696-4808-8996-7bb20493e23b',
  cnodeUserUUID: 'c6712399-ed32-440f-b40a-9728d0401964',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: 'ed5b318f-b387-483f-b347-2ad8109f8d69.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: '29ff981d-c481-42d9-9bd2-505df61c0284',
  updatedAt: 2020-03-05T17:39:22.577Z,
  createdAt: 2020-03-05T17:39:22.577Z }




PROCESSING ROW #146: sourcefile: 0b7da4d8-712e-40d2-87c4-7ae9cc91a965.mp3, cnodeUserUUID: a7f1a371-de10-45e3-8fc2-1655a7ab9b9b, trackUUID: 2b9885a9-b444-4d5a-8f03-42d6cd6e882f, multihash: QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM, dstPath: /file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM
writing to db1...
Executing (c268d3b5-6c39-454c-928f-2e10f5c03289): START TRANSACTION;
Executing (c268d3b5-6c39-454c-928f-2e10f5c03289): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = 'a7f1a371-de10-45e3-8fc2-1655a7ab9b9b' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = '0b7da4d8-712e-40d2-87c4-7ae9cc91a965.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '2b9885a9-b444-4d5a-8f03-42d6cd6e882f' LIMIT 1;
Executing (c268d3b5-6c39-454c-928f-2e10f5c03289): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_e24d49de5e354339b427811a3bae7e94$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('f213f702-0602-424c-950c-380684ace38a','a7f1a371-de10-45e3-8fc2-1655a7ab9b9b','2b9885a9-b444-4d5a-8f03-42d6cd6e882f','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','0b7da4d8-712e-40d2-87c4-7ae9cc91a965.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:39:22.966 +00:00','2020-03-05 17:39:22.966 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_e24d49de5e354339b427811a3bae7e94$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (c268d3b5-6c39-454c-928f-2e10f5c03289): COMMIT;
{ fileUUID: 'f213f702-0602-424c-950c-380684ace38a',
  cnodeUserUUID: 'a7f1a371-de10-45e3-8fc2-1655a7ab9b9b',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: '0b7da4d8-712e-40d2-87c4-7ae9cc91a965.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: '2b9885a9-b444-4d5a-8f03-42d6cd6e882f',
  updatedAt: 2020-03-05T17:39:22.966Z,
  createdAt: 2020-03-05T17:39:22.966Z }
writing to db2...
Executing (edc14a4a-f671-4822-9765-b59c9ef63211): START TRANSACTION;
Executing (edc14a4a-f671-4822-9765-b59c9ef63211): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = 'a7f1a371-de10-45e3-8fc2-1655a7ab9b9b' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = '0b7da4d8-712e-40d2-87c4-7ae9cc91a965.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '2b9885a9-b444-4d5a-8f03-42d6cd6e882f' LIMIT 1;
Executing (edc14a4a-f671-4822-9765-b59c9ef63211): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_de8575c2580d4189993b1130b2c042bd$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('74b1ebc1-de76-4859-864e-8be949e42157','a7f1a371-de10-45e3-8fc2-1655a7ab9b9b','2b9885a9-b444-4d5a-8f03-42d6cd6e882f','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','0b7da4d8-712e-40d2-87c4-7ae9cc91a965.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:39:23.348 +00:00','2020-03-05 17:39:23.348 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_de8575c2580d4189993b1130b2c042bd$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (edc14a4a-f671-4822-9765-b59c9ef63211): COMMIT;
{ fileUUID: '74b1ebc1-de76-4859-864e-8be949e42157',
  cnodeUserUUID: 'a7f1a371-de10-45e3-8fc2-1655a7ab9b9b',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: '0b7da4d8-712e-40d2-87c4-7ae9cc91a965.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: '2b9885a9-b444-4d5a-8f03-42d6cd6e882f',
  updatedAt: 2020-03-05T17:39:23.348Z,
  createdAt: 2020-03-05T17:39:23.348Z }
writing to db3...
Executing (f397d668-21d4-4217-bde8-90bdc8579aaa): START TRANSACTION;
Executing (f397d668-21d4-4217-bde8-90bdc8579aaa): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = 'a7f1a371-de10-45e3-8fc2-1655a7ab9b9b' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = '0b7da4d8-712e-40d2-87c4-7ae9cc91a965.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '2b9885a9-b444-4d5a-8f03-42d6cd6e882f' LIMIT 1;
Executing (f397d668-21d4-4217-bde8-90bdc8579aaa): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_7d2c21bf0d7a4a66989dc9830377e4b4$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('5c8ec39f-3670-4173-a5b6-94dcdd7eb114','a7f1a371-de10-45e3-8fc2-1655a7ab9b9b','2b9885a9-b444-4d5a-8f03-42d6cd6e882f','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','0b7da4d8-712e-40d2-87c4-7ae9cc91a965.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:39:23.728 +00:00','2020-03-05 17:39:23.728 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_7d2c21bf0d7a4a66989dc9830377e4b4$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (f397d668-21d4-4217-bde8-90bdc8579aaa): COMMIT;
{ fileUUID: '5c8ec39f-3670-4173-a5b6-94dcdd7eb114',
  cnodeUserUUID: 'a7f1a371-de10-45e3-8fc2-1655a7ab9b9b',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: '0b7da4d8-712e-40d2-87c4-7ae9cc91a965.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: '2b9885a9-b444-4d5a-8f03-42d6cd6e882f',
  updatedAt: 2020-03-05T17:39:23.728Z,
  createdAt: 2020-03-05T17:39:23.728Z }




PROCESSING ROW #147: sourcefile: c8f0f7e7-53d2-4008-9ef1-5b5757bc9714.mp3, cnodeUserUUID: 69120cd2-e176-4714-bed6-d364b0cf1498, trackUUID: dbe0b885-c1f0-4242-a7ac-5623ff0f0d10, multihash: QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM, dstPath: /file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM
writing to db1...
Executing (f7d2793a-9864-4baf-8c24-634245d18ec2): START TRANSACTION;
Executing (f7d2793a-9864-4baf-8c24-634245d18ec2): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '69120cd2-e176-4714-bed6-d364b0cf1498' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = 'c8f0f7e7-53d2-4008-9ef1-5b5757bc9714.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = 'dbe0b885-c1f0-4242-a7ac-5623ff0f0d10' LIMIT 1;
Executing (f7d2793a-9864-4baf-8c24-634245d18ec2): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_1171667669bc4b26a0ac23677c6d57c7$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('9e1910fd-cd11-4c0e-9f73-42e7ef64d117','69120cd2-e176-4714-bed6-d364b0cf1498','dbe0b885-c1f0-4242-a7ac-5623ff0f0d10','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','c8f0f7e7-53d2-4008-9ef1-5b5757bc9714.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:39:24.118 +00:00','2020-03-05 17:39:24.118 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_1171667669bc4b26a0ac23677c6d57c7$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (f7d2793a-9864-4baf-8c24-634245d18ec2): COMMIT;
{ fileUUID: '9e1910fd-cd11-4c0e-9f73-42e7ef64d117',
  cnodeUserUUID: '69120cd2-e176-4714-bed6-d364b0cf1498',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: 'c8f0f7e7-53d2-4008-9ef1-5b5757bc9714.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: 'dbe0b885-c1f0-4242-a7ac-5623ff0f0d10',
  updatedAt: 2020-03-05T17:39:24.118Z,
  createdAt: 2020-03-05T17:39:24.118Z }
writing to db2...
Executing (41e603e3-311f-4c19-8bd6-e4bb2b752999): START TRANSACTION;
Executing (41e603e3-311f-4c19-8bd6-e4bb2b752999): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '69120cd2-e176-4714-bed6-d364b0cf1498' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = 'c8f0f7e7-53d2-4008-9ef1-5b5757bc9714.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = 'dbe0b885-c1f0-4242-a7ac-5623ff0f0d10' LIMIT 1;
Executing (41e603e3-311f-4c19-8bd6-e4bb2b752999): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_b9016daf145b4159acc52c9783ca9249$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('bb6a2c26-f28a-4691-9fd9-99f1b68950eb','69120cd2-e176-4714-bed6-d364b0cf1498','dbe0b885-c1f0-4242-a7ac-5623ff0f0d10','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','c8f0f7e7-53d2-4008-9ef1-5b5757bc9714.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:39:24.507 +00:00','2020-03-05 17:39:24.507 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_b9016daf145b4159acc52c9783ca9249$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (41e603e3-311f-4c19-8bd6-e4bb2b752999): COMMIT;
{ fileUUID: 'bb6a2c26-f28a-4691-9fd9-99f1b68950eb',
  cnodeUserUUID: '69120cd2-e176-4714-bed6-d364b0cf1498',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: 'c8f0f7e7-53d2-4008-9ef1-5b5757bc9714.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: 'dbe0b885-c1f0-4242-a7ac-5623ff0f0d10',
  updatedAt: 2020-03-05T17:39:24.507Z,
  createdAt: 2020-03-05T17:39:24.507Z }
writing to db3...
Executing (a10afcc8-c11b-4bd4-8b1d-0fe97106845e): START TRANSACTION;
Executing (a10afcc8-c11b-4bd4-8b1d-0fe97106845e): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '69120cd2-e176-4714-bed6-d364b0cf1498' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = 'c8f0f7e7-53d2-4008-9ef1-5b5757bc9714.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = 'dbe0b885-c1f0-4242-a7ac-5623ff0f0d10' LIMIT 1;
Executing (a10afcc8-c11b-4bd4-8b1d-0fe97106845e): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_01c02bbfd6d5480da670649097ae98f3$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('ec5e04b3-d223-475c-8de6-8d07fafd22ef','69120cd2-e176-4714-bed6-d364b0cf1498','dbe0b885-c1f0-4242-a7ac-5623ff0f0d10','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','c8f0f7e7-53d2-4008-9ef1-5b5757bc9714.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:39:24.901 +00:00','2020-03-05 17:39:24.901 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_01c02bbfd6d5480da670649097ae98f3$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (a10afcc8-c11b-4bd4-8b1d-0fe97106845e): COMMIT;
{ fileUUID: 'ec5e04b3-d223-475c-8de6-8d07fafd22ef',
  cnodeUserUUID: '69120cd2-e176-4714-bed6-d364b0cf1498',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: 'c8f0f7e7-53d2-4008-9ef1-5b5757bc9714.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: 'dbe0b885-c1f0-4242-a7ac-5623ff0f0d10',
  updatedAt: 2020-03-05T17:39:24.901Z,
  createdAt: 2020-03-05T17:39:24.901Z }




PROCESSING ROW #148: sourcefile: 0c40e870-6fba-4829-868c-1a286e7697f4.mp3, cnodeUserUUID: d2342a3b-d8ba-40df-8db9-a9a3d81c5554, trackUUID: a0e4f952-a7f5-495d-ab08-a24d4ca86abd, multihash: QmQLrYxWsyByEU6EeojyZDDTWWujAnTzQhmGUc4tYqMhBU, dstPath: /file_storage/QmQLrYxWsyByEU6EeojyZDDTWWujAnTzQhmGUc4tYqMhBU
writing to db1...
Executing (44db1841-8ab2-43c1-891d-56709a7bc183): START TRANSACTION;
Executing (44db1841-8ab2-43c1-891d-56709a7bc183): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = 'd2342a3b-d8ba-40df-8db9-a9a3d81c5554' AND "File"."multihash" = 'QmQLrYxWsyByEU6EeojyZDDTWWujAnTzQhmGUc4tYqMhBU' AND "File"."sourceFile" = '0c40e870-6fba-4829-868c-1a286e7697f4.mp3' AND "File"."storagePath" = '/file_storage/QmQLrYxWsyByEU6EeojyZDDTWWujAnTzQhmGUc4tYqMhBU' AND "File"."type" = 'copy320' AND "File"."trackUUID" = 'a0e4f952-a7f5-495d-ab08-a24d4ca86abd' LIMIT 1;
Executing (44db1841-8ab2-43c1-891d-56709a7bc183): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_e42de86e88334620ab1d7248e2dd6ac4$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('cf037f69-7f51-4506-b717-fcd6f7eeb37f','d2342a3b-d8ba-40df-8db9-a9a3d81c5554','a0e4f952-a7f5-495d-ab08-a24d4ca86abd','QmQLrYxWsyByEU6EeojyZDDTWWujAnTzQhmGUc4tYqMhBU','0c40e870-6fba-4829-868c-1a286e7697f4.mp3','/file_storage/QmQLrYxWsyByEU6EeojyZDDTWWujAnTzQhmGUc4tYqMhBU','copy320','2020-03-05 17:39:25.302 +00:00','2020-03-05 17:39:25.302 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_e42de86e88334620ab1d7248e2dd6ac4$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (44db1841-8ab2-43c1-891d-56709a7bc183): COMMIT;
{ fileUUID: 'cf037f69-7f51-4506-b717-fcd6f7eeb37f',
  cnodeUserUUID: 'd2342a3b-d8ba-40df-8db9-a9a3d81c5554',
  multihash: 'QmQLrYxWsyByEU6EeojyZDDTWWujAnTzQhmGUc4tYqMhBU',
  sourceFile: '0c40e870-6fba-4829-868c-1a286e7697f4.mp3',
  storagePath:
   '/file_storage/QmQLrYxWsyByEU6EeojyZDDTWWujAnTzQhmGUc4tYqMhBU',
  type: 'copy320',
  trackUUID: 'a0e4f952-a7f5-495d-ab08-a24d4ca86abd',
  updatedAt: 2020-03-05T17:39:25.302Z,
  createdAt: 2020-03-05T17:39:25.302Z }
writing to db2...
Executing (56d35684-1f9e-4eda-9064-9dd2c28b7281): START TRANSACTION;
Executing (56d35684-1f9e-4eda-9064-9dd2c28b7281): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = 'd2342a3b-d8ba-40df-8db9-a9a3d81c5554' AND "File"."multihash" = 'QmQLrYxWsyByEU6EeojyZDDTWWujAnTzQhmGUc4tYqMhBU' AND "File"."sourceFile" = '0c40e870-6fba-4829-868c-1a286e7697f4.mp3' AND "File"."storagePath" = '/file_storage/QmQLrYxWsyByEU6EeojyZDDTWWujAnTzQhmGUc4tYqMhBU' AND "File"."type" = 'copy320' AND "File"."trackUUID" = 'a0e4f952-a7f5-495d-ab08-a24d4ca86abd' LIMIT 1;
Executing (56d35684-1f9e-4eda-9064-9dd2c28b7281): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_9853fac10fba4817b6e8d3e31aec2fde$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('24d85ad7-c6cd-42be-81dd-63ef347b5b11','d2342a3b-d8ba-40df-8db9-a9a3d81c5554','a0e4f952-a7f5-495d-ab08-a24d4ca86abd','QmQLrYxWsyByEU6EeojyZDDTWWujAnTzQhmGUc4tYqMhBU','0c40e870-6fba-4829-868c-1a286e7697f4.mp3','/file_storage/QmQLrYxWsyByEU6EeojyZDDTWWujAnTzQhmGUc4tYqMhBU','copy320','2020-03-05 17:39:25.697 +00:00','2020-03-05 17:39:25.697 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_9853fac10fba4817b6e8d3e31aec2fde$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (56d35684-1f9e-4eda-9064-9dd2c28b7281): COMMIT;
{ fileUUID: '24d85ad7-c6cd-42be-81dd-63ef347b5b11',
  cnodeUserUUID: 'd2342a3b-d8ba-40df-8db9-a9a3d81c5554',
  multihash: 'QmQLrYxWsyByEU6EeojyZDDTWWujAnTzQhmGUc4tYqMhBU',
  sourceFile: '0c40e870-6fba-4829-868c-1a286e7697f4.mp3',
  storagePath:
   '/file_storage/QmQLrYxWsyByEU6EeojyZDDTWWujAnTzQhmGUc4tYqMhBU',
  type: 'copy320',
  trackUUID: 'a0e4f952-a7f5-495d-ab08-a24d4ca86abd',
  updatedAt: 2020-03-05T17:39:25.697Z,
  createdAt: 2020-03-05T17:39:25.697Z }
writing to db3...
Executing (18cc08f2-e3ec-4c14-86e8-97dc52b0869d): START TRANSACTION;
Executing (18cc08f2-e3ec-4c14-86e8-97dc52b0869d): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = 'd2342a3b-d8ba-40df-8db9-a9a3d81c5554' AND "File"."multihash" = 'QmQLrYxWsyByEU6EeojyZDDTWWujAnTzQhmGUc4tYqMhBU' AND "File"."sourceFile" = '0c40e870-6fba-4829-868c-1a286e7697f4.mp3' AND "File"."storagePath" = '/file_storage/QmQLrYxWsyByEU6EeojyZDDTWWujAnTzQhmGUc4tYqMhBU' AND "File"."type" = 'copy320' AND "File"."trackUUID" = 'a0e4f952-a7f5-495d-ab08-a24d4ca86abd' LIMIT 1;
Executing (18cc08f2-e3ec-4c14-86e8-97dc52b0869d): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_eccdc4ddbe6a430881258dc05d4e7653$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('850392a9-b60b-4c2a-ab19-9b895b1341b5','d2342a3b-d8ba-40df-8db9-a9a3d81c5554','a0e4f952-a7f5-495d-ab08-a24d4ca86abd','QmQLrYxWsyByEU6EeojyZDDTWWujAnTzQhmGUc4tYqMhBU','0c40e870-6fba-4829-868c-1a286e7697f4.mp3','/file_storage/QmQLrYxWsyByEU6EeojyZDDTWWujAnTzQhmGUc4tYqMhBU','copy320','2020-03-05 17:39:26.090 +00:00','2020-03-05 17:39:26.090 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_eccdc4ddbe6a430881258dc05d4e7653$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (18cc08f2-e3ec-4c14-86e8-97dc52b0869d): COMMIT;
{ fileUUID: '850392a9-b60b-4c2a-ab19-9b895b1341b5',
  cnodeUserUUID: 'd2342a3b-d8ba-40df-8db9-a9a3d81c5554',
  multihash: 'QmQLrYxWsyByEU6EeojyZDDTWWujAnTzQhmGUc4tYqMhBU',
  sourceFile: '0c40e870-6fba-4829-868c-1a286e7697f4.mp3',
  storagePath:
   '/file_storage/QmQLrYxWsyByEU6EeojyZDDTWWujAnTzQhmGUc4tYqMhBU',
  type: 'copy320',
  trackUUID: 'a0e4f952-a7f5-495d-ab08-a24d4ca86abd',
  updatedAt: 2020-03-05T17:39:26.090Z,
  createdAt: 2020-03-05T17:39:26.090Z }




PROCESSING ROW #149: sourcefile: 6d1ab8d0-ac54-4734-9b31-ebbf8106ce22.mp3, cnodeUserUUID: 36e5bc38-bd87-4cb2-a30a-e5bb131ba840, trackUUID: 7f318b4e-ea7e-4d0e-aa77-9e0427fffa6a, multihash: QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM, dstPath: /file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM
writing to db1...
Executing (b2caa242-6b5f-4bfa-835b-6335aacea6ab): START TRANSACTION;
Executing (b2caa242-6b5f-4bfa-835b-6335aacea6ab): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '36e5bc38-bd87-4cb2-a30a-e5bb131ba840' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = '6d1ab8d0-ac54-4734-9b31-ebbf8106ce22.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '7f318b4e-ea7e-4d0e-aa77-9e0427fffa6a' LIMIT 1;
Executing (b2caa242-6b5f-4bfa-835b-6335aacea6ab): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_f5efb4bb2fe84ea688cfe79d9b3a2617$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('f718a2b6-6143-40b5-a0bd-b53df1ae90c7','36e5bc38-bd87-4cb2-a30a-e5bb131ba840','7f318b4e-ea7e-4d0e-aa77-9e0427fffa6a','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','6d1ab8d0-ac54-4734-9b31-ebbf8106ce22.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:39:26.495 +00:00','2020-03-05 17:39:26.495 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_f5efb4bb2fe84ea688cfe79d9b3a2617$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (b2caa242-6b5f-4bfa-835b-6335aacea6ab): COMMIT;
{ fileUUID: 'f718a2b6-6143-40b5-a0bd-b53df1ae90c7',
  cnodeUserUUID: '36e5bc38-bd87-4cb2-a30a-e5bb131ba840',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: '6d1ab8d0-ac54-4734-9b31-ebbf8106ce22.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: '7f318b4e-ea7e-4d0e-aa77-9e0427fffa6a',
  updatedAt: 2020-03-05T17:39:26.495Z,
  createdAt: 2020-03-05T17:39:26.495Z }
writing to db2...
Executing (985bd644-eb7c-4c91-8b22-5603bf06889a): START TRANSACTION;
Executing (985bd644-eb7c-4c91-8b22-5603bf06889a): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '36e5bc38-bd87-4cb2-a30a-e5bb131ba840' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = '6d1ab8d0-ac54-4734-9b31-ebbf8106ce22.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '7f318b4e-ea7e-4d0e-aa77-9e0427fffa6a' LIMIT 1;
Executing (985bd644-eb7c-4c91-8b22-5603bf06889a): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_a8609c0fb22142ea817c40d11c8d3e0f$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('ba2b3745-2b04-49f7-8b50-383d7c657526','36e5bc38-bd87-4cb2-a30a-e5bb131ba840','7f318b4e-ea7e-4d0e-aa77-9e0427fffa6a','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','6d1ab8d0-ac54-4734-9b31-ebbf8106ce22.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:39:26.898 +00:00','2020-03-05 17:39:26.898 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_a8609c0fb22142ea817c40d11c8d3e0f$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (985bd644-eb7c-4c91-8b22-5603bf06889a): COMMIT;
{ fileUUID: 'ba2b3745-2b04-49f7-8b50-383d7c657526',
  cnodeUserUUID: '36e5bc38-bd87-4cb2-a30a-e5bb131ba840',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: '6d1ab8d0-ac54-4734-9b31-ebbf8106ce22.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: '7f318b4e-ea7e-4d0e-aa77-9e0427fffa6a',
  updatedAt: 2020-03-05T17:39:26.898Z,
  createdAt: 2020-03-05T17:39:26.898Z }
writing to db3...
Executing (0b807dff-9eac-48ef-8faa-f9f48760616c): START TRANSACTION;
Executing (0b807dff-9eac-48ef-8faa-f9f48760616c): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '36e5bc38-bd87-4cb2-a30a-e5bb131ba840' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = '6d1ab8d0-ac54-4734-9b31-ebbf8106ce22.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '7f318b4e-ea7e-4d0e-aa77-9e0427fffa6a' LIMIT 1;
Executing (0b807dff-9eac-48ef-8faa-f9f48760616c): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_d8178eb920b049d584f0024aad284818$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('628de7f7-d5ba-4a4b-9c10-c2b5099ad2cd','36e5bc38-bd87-4cb2-a30a-e5bb131ba840','7f318b4e-ea7e-4d0e-aa77-9e0427fffa6a','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','6d1ab8d0-ac54-4734-9b31-ebbf8106ce22.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:39:27.290 +00:00','2020-03-05 17:39:27.290 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_d8178eb920b049d584f0024aad284818$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (0b807dff-9eac-48ef-8faa-f9f48760616c): COMMIT;
{ fileUUID: '628de7f7-d5ba-4a4b-9c10-c2b5099ad2cd',
  cnodeUserUUID: '36e5bc38-bd87-4cb2-a30a-e5bb131ba840',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: '6d1ab8d0-ac54-4734-9b31-ebbf8106ce22.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: '7f318b4e-ea7e-4d0e-aa77-9e0427fffa6a',
  updatedAt: 2020-03-05T17:39:27.290Z,
  createdAt: 2020-03-05T17:39:27.290Z }




PROCESSING ROW #150: sourcefile: 5661f61e-b907-4d3f-bf8e-c59f1fccc5ef.mp3, cnodeUserUUID: 11c34897-1946-4dfc-b59c-f646a1fc69fe, trackUUID: 27e7f2c3-3fa5-4291-83ec-f6baa75bea14, multihash: QmP2GY24rDxmmeUucVZA3Re7ih1KxUrDrgmk6VW1GqXM5r, dstPath: /file_storage/QmP2GY24rDxmmeUucVZA3Re7ih1KxUrDrgmk6VW1GqXM5r
writing to db1...
Executing (3f817f3c-8bd4-46d7-8e86-3ff5882952f7): START TRANSACTION;
Executing (3f817f3c-8bd4-46d7-8e86-3ff5882952f7): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '11c34897-1946-4dfc-b59c-f646a1fc69fe' AND "File"."multihash" = 'QmP2GY24rDxmmeUucVZA3Re7ih1KxUrDrgmk6VW1GqXM5r' AND "File"."sourceFile" = '5661f61e-b907-4d3f-bf8e-c59f1fccc5ef.mp3' AND "File"."storagePath" = '/file_storage/QmP2GY24rDxmmeUucVZA3Re7ih1KxUrDrgmk6VW1GqXM5r' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '27e7f2c3-3fa5-4291-83ec-f6baa75bea14' LIMIT 1;
Executing (3f817f3c-8bd4-46d7-8e86-3ff5882952f7): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_276d11bf013c48778e1ba59426d34b2b$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('cedc531c-5706-40db-8e1e-52bb9a042d41','11c34897-1946-4dfc-b59c-f646a1fc69fe','27e7f2c3-3fa5-4291-83ec-f6baa75bea14','QmP2GY24rDxmmeUucVZA3Re7ih1KxUrDrgmk6VW1GqXM5r','5661f61e-b907-4d3f-bf8e-c59f1fccc5ef.mp3','/file_storage/QmP2GY24rDxmmeUucVZA3Re7ih1KxUrDrgmk6VW1GqXM5r','copy320','2020-03-05 17:39:27.681 +00:00','2020-03-05 17:39:27.681 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_276d11bf013c48778e1ba59426d34b2b$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (3f817f3c-8bd4-46d7-8e86-3ff5882952f7): COMMIT;
{ fileUUID: 'cedc531c-5706-40db-8e1e-52bb9a042d41',
  cnodeUserUUID: '11c34897-1946-4dfc-b59c-f646a1fc69fe',
  multihash: 'QmP2GY24rDxmmeUucVZA3Re7ih1KxUrDrgmk6VW1GqXM5r',
  sourceFile: '5661f61e-b907-4d3f-bf8e-c59f1fccc5ef.mp3',
  storagePath:
   '/file_storage/QmP2GY24rDxmmeUucVZA3Re7ih1KxUrDrgmk6VW1GqXM5r',
  type: 'copy320',
  trackUUID: '27e7f2c3-3fa5-4291-83ec-f6baa75bea14',
  updatedAt: 2020-03-05T17:39:27.681Z,
  createdAt: 2020-03-05T17:39:27.681Z }
writing to db2...
Executing (7b46ffae-d34d-42cf-bde8-352eaa60db59): START TRANSACTION;
Executing (7b46ffae-d34d-42cf-bde8-352eaa60db59): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '11c34897-1946-4dfc-b59c-f646a1fc69fe' AND "File"."multihash" = 'QmP2GY24rDxmmeUucVZA3Re7ih1KxUrDrgmk6VW1GqXM5r' AND "File"."sourceFile" = '5661f61e-b907-4d3f-bf8e-c59f1fccc5ef.mp3' AND "File"."storagePath" = '/file_storage/QmP2GY24rDxmmeUucVZA3Re7ih1KxUrDrgmk6VW1GqXM5r' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '27e7f2c3-3fa5-4291-83ec-f6baa75bea14' LIMIT 1;
Executing (7b46ffae-d34d-42cf-bde8-352eaa60db59): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_316da8bd92e94a96a34c5b6ef48efaa1$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('641903da-5dfd-420c-881e-71afb4452df0','11c34897-1946-4dfc-b59c-f646a1fc69fe','27e7f2c3-3fa5-4291-83ec-f6baa75bea14','QmP2GY24rDxmmeUucVZA3Re7ih1KxUrDrgmk6VW1GqXM5r','5661f61e-b907-4d3f-bf8e-c59f1fccc5ef.mp3','/file_storage/QmP2GY24rDxmmeUucVZA3Re7ih1KxUrDrgmk6VW1GqXM5r','copy320','2020-03-05 17:39:28.076 +00:00','2020-03-05 17:39:28.076 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_316da8bd92e94a96a34c5b6ef48efaa1$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (7b46ffae-d34d-42cf-bde8-352eaa60db59): COMMIT;
{ fileUUID: '641903da-5dfd-420c-881e-71afb4452df0',
  cnodeUserUUID: '11c34897-1946-4dfc-b59c-f646a1fc69fe',
  multihash: 'QmP2GY24rDxmmeUucVZA3Re7ih1KxUrDrgmk6VW1GqXM5r',
  sourceFile: '5661f61e-b907-4d3f-bf8e-c59f1fccc5ef.mp3',
  storagePath:
   '/file_storage/QmP2GY24rDxmmeUucVZA3Re7ih1KxUrDrgmk6VW1GqXM5r',
  type: 'copy320',
  trackUUID: '27e7f2c3-3fa5-4291-83ec-f6baa75bea14',
  updatedAt: 2020-03-05T17:39:28.076Z,
  createdAt: 2020-03-05T17:39:28.076Z }
writing to db3...
Executing (999dba93-dc23-4a83-895e-4f480fab6ca9): START TRANSACTION;
Executing (999dba93-dc23-4a83-895e-4f480fab6ca9): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '11c34897-1946-4dfc-b59c-f646a1fc69fe' AND "File"."multihash" = 'QmP2GY24rDxmmeUucVZA3Re7ih1KxUrDrgmk6VW1GqXM5r' AND "File"."sourceFile" = '5661f61e-b907-4d3f-bf8e-c59f1fccc5ef.mp3' AND "File"."storagePath" = '/file_storage/QmP2GY24rDxmmeUucVZA3Re7ih1KxUrDrgmk6VW1GqXM5r' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '27e7f2c3-3fa5-4291-83ec-f6baa75bea14' LIMIT 1;
Executing (999dba93-dc23-4a83-895e-4f480fab6ca9): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_f3570bfb93604e28a96e67b71f9c1f99$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('cad6ca32-acc8-4dd4-9342-d16e98c79690','11c34897-1946-4dfc-b59c-f646a1fc69fe','27e7f2c3-3fa5-4291-83ec-f6baa75bea14','QmP2GY24rDxmmeUucVZA3Re7ih1KxUrDrgmk6VW1GqXM5r','5661f61e-b907-4d3f-bf8e-c59f1fccc5ef.mp3','/file_storage/QmP2GY24rDxmmeUucVZA3Re7ih1KxUrDrgmk6VW1GqXM5r','copy320','2020-03-05 17:39:28.458 +00:00','2020-03-05 17:39:28.458 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_f3570bfb93604e28a96e67b71f9c1f99$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (999dba93-dc23-4a83-895e-4f480fab6ca9): COMMIT;
{ fileUUID: 'cad6ca32-acc8-4dd4-9342-d16e98c79690',
  cnodeUserUUID: '11c34897-1946-4dfc-b59c-f646a1fc69fe',
  multihash: 'QmP2GY24rDxmmeUucVZA3Re7ih1KxUrDrgmk6VW1GqXM5r',
  sourceFile: '5661f61e-b907-4d3f-bf8e-c59f1fccc5ef.mp3',
  storagePath:
   '/file_storage/QmP2GY24rDxmmeUucVZA3Re7ih1KxUrDrgmk6VW1GqXM5r',
  type: 'copy320',
  trackUUID: '27e7f2c3-3fa5-4291-83ec-f6baa75bea14',
  updatedAt: 2020-03-05T17:39:28.458Z,
  createdAt: 2020-03-05T17:39:28.458Z }




PROCESSING ROW #151: sourcefile: 6149522a-c78b-46c3-8be1-f644d4cafecf.mp3, cnodeUserUUID: 11c34897-1946-4dfc-b59c-f646a1fc69fe, trackUUID: e18c0198-427d-4d4c-ad43-118eb05cc642, multihash: QmNwax6h4gZ8tKJAyvQKtsJQ1Z2FCYXFvDGT1LEU9HhxTs, dstPath: /file_storage/QmNwax6h4gZ8tKJAyvQKtsJQ1Z2FCYXFvDGT1LEU9HhxTs
writing to db1...
Executing (a61c48b4-423c-4f27-aa51-d530e66ad0a1): START TRANSACTION;
Executing (a61c48b4-423c-4f27-aa51-d530e66ad0a1): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '11c34897-1946-4dfc-b59c-f646a1fc69fe' AND "File"."multihash" = 'QmNwax6h4gZ8tKJAyvQKtsJQ1Z2FCYXFvDGT1LEU9HhxTs' AND "File"."sourceFile" = '6149522a-c78b-46c3-8be1-f644d4cafecf.mp3' AND "File"."storagePath" = '/file_storage/QmNwax6h4gZ8tKJAyvQKtsJQ1Z2FCYXFvDGT1LEU9HhxTs' AND "File"."type" = 'copy320' AND "File"."trackUUID" = 'e18c0198-427d-4d4c-ad43-118eb05cc642' LIMIT 1;
Executing (a61c48b4-423c-4f27-aa51-d530e66ad0a1): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_0b17fa3193a14e08aa018bd80751d93e$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('0b6b81f1-e459-499e-ac68-25ebf13ddc23','11c34897-1946-4dfc-b59c-f646a1fc69fe','e18c0198-427d-4d4c-ad43-118eb05cc642','QmNwax6h4gZ8tKJAyvQKtsJQ1Z2FCYXFvDGT1LEU9HhxTs','6149522a-c78b-46c3-8be1-f644d4cafecf.mp3','/file_storage/QmNwax6h4gZ8tKJAyvQKtsJQ1Z2FCYXFvDGT1LEU9HhxTs','copy320','2020-03-05 17:39:28.862 +00:00','2020-03-05 17:39:28.862 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_0b17fa3193a14e08aa018bd80751d93e$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (a61c48b4-423c-4f27-aa51-d530e66ad0a1): COMMIT;
{ fileUUID: '0b6b81f1-e459-499e-ac68-25ebf13ddc23',
  cnodeUserUUID: '11c34897-1946-4dfc-b59c-f646a1fc69fe',
  multihash: 'QmNwax6h4gZ8tKJAyvQKtsJQ1Z2FCYXFvDGT1LEU9HhxTs',
  sourceFile: '6149522a-c78b-46c3-8be1-f644d4cafecf.mp3',
  storagePath:
   '/file_storage/QmNwax6h4gZ8tKJAyvQKtsJQ1Z2FCYXFvDGT1LEU9HhxTs',
  type: 'copy320',
  trackUUID: 'e18c0198-427d-4d4c-ad43-118eb05cc642',
  updatedAt: 2020-03-05T17:39:28.862Z,
  createdAt: 2020-03-05T17:39:28.862Z }
writing to db2...
Executing (d66147c8-2a2f-4dd4-8845-d93416aad320): START TRANSACTION;
Executing (d66147c8-2a2f-4dd4-8845-d93416aad320): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '11c34897-1946-4dfc-b59c-f646a1fc69fe' AND "File"."multihash" = 'QmNwax6h4gZ8tKJAyvQKtsJQ1Z2FCYXFvDGT1LEU9HhxTs' AND "File"."sourceFile" = '6149522a-c78b-46c3-8be1-f644d4cafecf.mp3' AND "File"."storagePath" = '/file_storage/QmNwax6h4gZ8tKJAyvQKtsJQ1Z2FCYXFvDGT1LEU9HhxTs' AND "File"."type" = 'copy320' AND "File"."trackUUID" = 'e18c0198-427d-4d4c-ad43-118eb05cc642' LIMIT 1;
Executing (d66147c8-2a2f-4dd4-8845-d93416aad320): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_a79edf871031437bbe04b7c7b8845df1$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('60fcc027-b5a7-4261-90a4-b1af8cc11791','11c34897-1946-4dfc-b59c-f646a1fc69fe','e18c0198-427d-4d4c-ad43-118eb05cc642','QmNwax6h4gZ8tKJAyvQKtsJQ1Z2FCYXFvDGT1LEU9HhxTs','6149522a-c78b-46c3-8be1-f644d4cafecf.mp3','/file_storage/QmNwax6h4gZ8tKJAyvQKtsJQ1Z2FCYXFvDGT1LEU9HhxTs','copy320','2020-03-05 17:39:29.252 +00:00','2020-03-05 17:39:29.252 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_a79edf871031437bbe04b7c7b8845df1$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (d66147c8-2a2f-4dd4-8845-d93416aad320): COMMIT;
{ fileUUID: '60fcc027-b5a7-4261-90a4-b1af8cc11791',
  cnodeUserUUID: '11c34897-1946-4dfc-b59c-f646a1fc69fe',
  multihash: 'QmNwax6h4gZ8tKJAyvQKtsJQ1Z2FCYXFvDGT1LEU9HhxTs',
  sourceFile: '6149522a-c78b-46c3-8be1-f644d4cafecf.mp3',
  storagePath:
   '/file_storage/QmNwax6h4gZ8tKJAyvQKtsJQ1Z2FCYXFvDGT1LEU9HhxTs',
  type: 'copy320',
  trackUUID: 'e18c0198-427d-4d4c-ad43-118eb05cc642',
  updatedAt: 2020-03-05T17:39:29.252Z,
  createdAt: 2020-03-05T17:39:29.252Z }
writing to db3...
Executing (b4e36625-4e89-4c85-99cd-5ab04df08913): START TRANSACTION;
Executing (b4e36625-4e89-4c85-99cd-5ab04df08913): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '11c34897-1946-4dfc-b59c-f646a1fc69fe' AND "File"."multihash" = 'QmNwax6h4gZ8tKJAyvQKtsJQ1Z2FCYXFvDGT1LEU9HhxTs' AND "File"."sourceFile" = '6149522a-c78b-46c3-8be1-f644d4cafecf.mp3' AND "File"."storagePath" = '/file_storage/QmNwax6h4gZ8tKJAyvQKtsJQ1Z2FCYXFvDGT1LEU9HhxTs' AND "File"."type" = 'copy320' AND "File"."trackUUID" = 'e18c0198-427d-4d4c-ad43-118eb05cc642' LIMIT 1;
Executing (b4e36625-4e89-4c85-99cd-5ab04df08913): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_36f6b9c4ac264a849f07e0dfc9f90b03$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('e36f3844-a09d-41a6-a71e-c038af7a5c20','11c34897-1946-4dfc-b59c-f646a1fc69fe','e18c0198-427d-4d4c-ad43-118eb05cc642','QmNwax6h4gZ8tKJAyvQKtsJQ1Z2FCYXFvDGT1LEU9HhxTs','6149522a-c78b-46c3-8be1-f644d4cafecf.mp3','/file_storage/QmNwax6h4gZ8tKJAyvQKtsJQ1Z2FCYXFvDGT1LEU9HhxTs','copy320','2020-03-05 17:39:29.628 +00:00','2020-03-05 17:39:29.628 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_36f6b9c4ac264a849f07e0dfc9f90b03$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (b4e36625-4e89-4c85-99cd-5ab04df08913): COMMIT;
{ fileUUID: 'e36f3844-a09d-41a6-a71e-c038af7a5c20',
  cnodeUserUUID: '11c34897-1946-4dfc-b59c-f646a1fc69fe',
  multihash: 'QmNwax6h4gZ8tKJAyvQKtsJQ1Z2FCYXFvDGT1LEU9HhxTs',
  sourceFile: '6149522a-c78b-46c3-8be1-f644d4cafecf.mp3',
  storagePath:
   '/file_storage/QmNwax6h4gZ8tKJAyvQKtsJQ1Z2FCYXFvDGT1LEU9HhxTs',
  type: 'copy320',
  trackUUID: 'e18c0198-427d-4d4c-ad43-118eb05cc642',
  updatedAt: 2020-03-05T17:39:29.628Z,
  createdAt: 2020-03-05T17:39:29.628Z }




PROCESSING ROW #152: sourcefile: e1f37ad6-7286-4ea5-81b0-2f11887d9ecb.mp3, cnodeUserUUID: 350b423e-a402-456f-9387-eb8d22bd70dc, trackUUID: 6a4dad98-8e48-4c04-bb39-cc6193982daa, multihash: QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM, dstPath: /file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM
writing to db1...
Executing (42801e76-2fd6-4f6e-8593-706a96b370d5): START TRANSACTION;
Executing (42801e76-2fd6-4f6e-8593-706a96b370d5): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '350b423e-a402-456f-9387-eb8d22bd70dc' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = 'e1f37ad6-7286-4ea5-81b0-2f11887d9ecb.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '6a4dad98-8e48-4c04-bb39-cc6193982daa' LIMIT 1;
Executing (42801e76-2fd6-4f6e-8593-706a96b370d5): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_13414ff419ac45b8803ee770bc3dd86f$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('44076f71-91be-4733-8979-ff7bea280b56','350b423e-a402-456f-9387-eb8d22bd70dc','6a4dad98-8e48-4c04-bb39-cc6193982daa','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','e1f37ad6-7286-4ea5-81b0-2f11887d9ecb.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:39:30.027 +00:00','2020-03-05 17:39:30.027 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_13414ff419ac45b8803ee770bc3dd86f$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (42801e76-2fd6-4f6e-8593-706a96b370d5): COMMIT;
{ fileUUID: '44076f71-91be-4733-8979-ff7bea280b56',
  cnodeUserUUID: '350b423e-a402-456f-9387-eb8d22bd70dc',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: 'e1f37ad6-7286-4ea5-81b0-2f11887d9ecb.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: '6a4dad98-8e48-4c04-bb39-cc6193982daa',
  updatedAt: 2020-03-05T17:39:30.027Z,
  createdAt: 2020-03-05T17:39:30.027Z }
writing to db2...
Executing (8d3f5c16-9eb3-4df0-9d9c-335db209a601): START TRANSACTION;
Executing (8d3f5c16-9eb3-4df0-9d9c-335db209a601): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '350b423e-a402-456f-9387-eb8d22bd70dc' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = 'e1f37ad6-7286-4ea5-81b0-2f11887d9ecb.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '6a4dad98-8e48-4c04-bb39-cc6193982daa' LIMIT 1;
Executing (8d3f5c16-9eb3-4df0-9d9c-335db209a601): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_a11f96c619be48b88faf99252bd6cdcf$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('d2aa482f-24f6-4aa9-b8ed-975fe932f0b3','350b423e-a402-456f-9387-eb8d22bd70dc','6a4dad98-8e48-4c04-bb39-cc6193982daa','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','e1f37ad6-7286-4ea5-81b0-2f11887d9ecb.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:39:30.440 +00:00','2020-03-05 17:39:30.440 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_a11f96c619be48b88faf99252bd6cdcf$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (8d3f5c16-9eb3-4df0-9d9c-335db209a601): COMMIT;
{ fileUUID: 'd2aa482f-24f6-4aa9-b8ed-975fe932f0b3',
  cnodeUserUUID: '350b423e-a402-456f-9387-eb8d22bd70dc',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: 'e1f37ad6-7286-4ea5-81b0-2f11887d9ecb.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: '6a4dad98-8e48-4c04-bb39-cc6193982daa',
  updatedAt: 2020-03-05T17:39:30.440Z,
  createdAt: 2020-03-05T17:39:30.440Z }
writing to db3...
Executing (651225f6-78df-4641-8814-adb88e6fbeb7): START TRANSACTION;
Executing (651225f6-78df-4641-8814-adb88e6fbeb7): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '350b423e-a402-456f-9387-eb8d22bd70dc' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = 'e1f37ad6-7286-4ea5-81b0-2f11887d9ecb.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '6a4dad98-8e48-4c04-bb39-cc6193982daa' LIMIT 1;
Executing (651225f6-78df-4641-8814-adb88e6fbeb7): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_b2308e81522b4234b16135f5b85e63f5$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('7a7e55f7-5727-48db-b995-2be0019c2e38','350b423e-a402-456f-9387-eb8d22bd70dc','6a4dad98-8e48-4c04-bb39-cc6193982daa','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','e1f37ad6-7286-4ea5-81b0-2f11887d9ecb.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:39:30.832 +00:00','2020-03-05 17:39:30.832 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_b2308e81522b4234b16135f5b85e63f5$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (651225f6-78df-4641-8814-adb88e6fbeb7): COMMIT;
{ fileUUID: '7a7e55f7-5727-48db-b995-2be0019c2e38',
  cnodeUserUUID: '350b423e-a402-456f-9387-eb8d22bd70dc',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: 'e1f37ad6-7286-4ea5-81b0-2f11887d9ecb.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: '6a4dad98-8e48-4c04-bb39-cc6193982daa',
  updatedAt: 2020-03-05T17:39:30.832Z,
  createdAt: 2020-03-05T17:39:30.832Z }




PROCESSING ROW #153: sourcefile: 5d25ab93-4ece-41e1-8bc1-25adf824078c.mp3, cnodeUserUUID: f4401e9a-a2ef-4908-9b49-177b177bf9c2, trackUUID: c16f9597-6a21-43c0-829d-c10b8d4497ed, multihash: QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM, dstPath: /file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM
writing to db1...
Executing (7218a7f6-0270-4724-bd16-9b9cffdf4908): START TRANSACTION;
Executing (7218a7f6-0270-4724-bd16-9b9cffdf4908): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = 'f4401e9a-a2ef-4908-9b49-177b177bf9c2' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = '5d25ab93-4ece-41e1-8bc1-25adf824078c.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = 'c16f9597-6a21-43c0-829d-c10b8d4497ed' LIMIT 1;
Executing (7218a7f6-0270-4724-bd16-9b9cffdf4908): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_050aca594e824e82b6e352748e5d9352$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('c3e34ebf-38fc-42f4-81e7-bbf76316f773','f4401e9a-a2ef-4908-9b49-177b177bf9c2','c16f9597-6a21-43c0-829d-c10b8d4497ed','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','5d25ab93-4ece-41e1-8bc1-25adf824078c.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:39:31.221 +00:00','2020-03-05 17:39:31.221 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_050aca594e824e82b6e352748e5d9352$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (7218a7f6-0270-4724-bd16-9b9cffdf4908): COMMIT;
{ fileUUID: 'c3e34ebf-38fc-42f4-81e7-bbf76316f773',
  cnodeUserUUID: 'f4401e9a-a2ef-4908-9b49-177b177bf9c2',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: '5d25ab93-4ece-41e1-8bc1-25adf824078c.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: 'c16f9597-6a21-43c0-829d-c10b8d4497ed',
  updatedAt: 2020-03-05T17:39:31.221Z,
  createdAt: 2020-03-05T17:39:31.221Z }
writing to db2...
Executing (c691825e-3146-4f5f-992a-0e527c945026): START TRANSACTION;
Executing (c691825e-3146-4f5f-992a-0e527c945026): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = 'f4401e9a-a2ef-4908-9b49-177b177bf9c2' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = '5d25ab93-4ece-41e1-8bc1-25adf824078c.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = 'c16f9597-6a21-43c0-829d-c10b8d4497ed' LIMIT 1;
Executing (c691825e-3146-4f5f-992a-0e527c945026): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_c214a0e5d9334de2bc8245414e3508e7$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('3e7f7f87-d8a6-487b-8a16-0c1c0f64cac4','f4401e9a-a2ef-4908-9b49-177b177bf9c2','c16f9597-6a21-43c0-829d-c10b8d4497ed','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','5d25ab93-4ece-41e1-8bc1-25adf824078c.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:39:31.634 +00:00','2020-03-05 17:39:31.634 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_c214a0e5d9334de2bc8245414e3508e7$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (c691825e-3146-4f5f-992a-0e527c945026): COMMIT;
{ fileUUID: '3e7f7f87-d8a6-487b-8a16-0c1c0f64cac4',
  cnodeUserUUID: 'f4401e9a-a2ef-4908-9b49-177b177bf9c2',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: '5d25ab93-4ece-41e1-8bc1-25adf824078c.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: 'c16f9597-6a21-43c0-829d-c10b8d4497ed',
  updatedAt: 2020-03-05T17:39:31.634Z,
  createdAt: 2020-03-05T17:39:31.634Z }
writing to db3...
Executing (08072352-f856-4c30-b465-da4bbe38397d): START TRANSACTION;
Executing (08072352-f856-4c30-b465-da4bbe38397d): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = 'f4401e9a-a2ef-4908-9b49-177b177bf9c2' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = '5d25ab93-4ece-41e1-8bc1-25adf824078c.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = 'c16f9597-6a21-43c0-829d-c10b8d4497ed' LIMIT 1;
Executing (08072352-f856-4c30-b465-da4bbe38397d): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_cd0c969874864bb294affdd0e111a027$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('817d3963-bfc6-4ac6-b806-2348c56d9fe0','f4401e9a-a2ef-4908-9b49-177b177bf9c2','c16f9597-6a21-43c0-829d-c10b8d4497ed','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','5d25ab93-4ece-41e1-8bc1-25adf824078c.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:39:32.036 +00:00','2020-03-05 17:39:32.036 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_cd0c969874864bb294affdd0e111a027$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (08072352-f856-4c30-b465-da4bbe38397d): COMMIT;
{ fileUUID: '817d3963-bfc6-4ac6-b806-2348c56d9fe0',
  cnodeUserUUID: 'f4401e9a-a2ef-4908-9b49-177b177bf9c2',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: '5d25ab93-4ece-41e1-8bc1-25adf824078c.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: 'c16f9597-6a21-43c0-829d-c10b8d4497ed',
  updatedAt: 2020-03-05T17:39:32.036Z,
  createdAt: 2020-03-05T17:39:32.036Z }




PROCESSING ROW #154: sourcefile: 1ac92a3b-1728-4c50-a0c6-e9d5f3c71298.mp3, cnodeUserUUID: 11c34897-1946-4dfc-b59c-f646a1fc69fe, trackUUID: de70abdf-3643-4128-9c42-fd30bacb20c5, multihash: QmPa3EBEEAJqjouvqGQZM7bGrkpNsVPBXqefM7ZHfupmKK, dstPath: /file_storage/QmPa3EBEEAJqjouvqGQZM7bGrkpNsVPBXqefM7ZHfupmKK
writing to db1...
Executing (78cac111-4082-438a-903e-994f94d1086e): START TRANSACTION;
Executing (78cac111-4082-438a-903e-994f94d1086e): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '11c34897-1946-4dfc-b59c-f646a1fc69fe' AND "File"."multihash" = 'QmPa3EBEEAJqjouvqGQZM7bGrkpNsVPBXqefM7ZHfupmKK' AND "File"."sourceFile" = '1ac92a3b-1728-4c50-a0c6-e9d5f3c71298.mp3' AND "File"."storagePath" = '/file_storage/QmPa3EBEEAJqjouvqGQZM7bGrkpNsVPBXqefM7ZHfupmKK' AND "File"."type" = 'copy320' AND "File"."trackUUID" = 'de70abdf-3643-4128-9c42-fd30bacb20c5' LIMIT 1;
Executing (78cac111-4082-438a-903e-994f94d1086e): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_b76e28ec0ef948b7a38c31917f7f8306$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('e5e3b578-2deb-4a19-8e69-f0b03f26e5e4','11c34897-1946-4dfc-b59c-f646a1fc69fe','de70abdf-3643-4128-9c42-fd30bacb20c5','QmPa3EBEEAJqjouvqGQZM7bGrkpNsVPBXqefM7ZHfupmKK','1ac92a3b-1728-4c50-a0c6-e9d5f3c71298.mp3','/file_storage/QmPa3EBEEAJqjouvqGQZM7bGrkpNsVPBXqefM7ZHfupmKK','copy320','2020-03-05 17:39:32.432 +00:00','2020-03-05 17:39:32.432 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_b76e28ec0ef948b7a38c31917f7f8306$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (78cac111-4082-438a-903e-994f94d1086e): COMMIT;
{ fileUUID: 'e5e3b578-2deb-4a19-8e69-f0b03f26e5e4',
  cnodeUserUUID: '11c34897-1946-4dfc-b59c-f646a1fc69fe',
  multihash: 'QmPa3EBEEAJqjouvqGQZM7bGrkpNsVPBXqefM7ZHfupmKK',
  sourceFile: '1ac92a3b-1728-4c50-a0c6-e9d5f3c71298.mp3',
  storagePath:
   '/file_storage/QmPa3EBEEAJqjouvqGQZM7bGrkpNsVPBXqefM7ZHfupmKK',
  type: 'copy320',
  trackUUID: 'de70abdf-3643-4128-9c42-fd30bacb20c5',
  updatedAt: 2020-03-05T17:39:32.432Z,
  createdAt: 2020-03-05T17:39:32.432Z }
writing to db2...
Executing (d54fc4ef-b2b8-46ce-b51d-f34e610cbd2f): START TRANSACTION;
Executing (d54fc4ef-b2b8-46ce-b51d-f34e610cbd2f): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '11c34897-1946-4dfc-b59c-f646a1fc69fe' AND "File"."multihash" = 'QmPa3EBEEAJqjouvqGQZM7bGrkpNsVPBXqefM7ZHfupmKK' AND "File"."sourceFile" = '1ac92a3b-1728-4c50-a0c6-e9d5f3c71298.mp3' AND "File"."storagePath" = '/file_storage/QmPa3EBEEAJqjouvqGQZM7bGrkpNsVPBXqefM7ZHfupmKK' AND "File"."type" = 'copy320' AND "File"."trackUUID" = 'de70abdf-3643-4128-9c42-fd30bacb20c5' LIMIT 1;
Executing (d54fc4ef-b2b8-46ce-b51d-f34e610cbd2f): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_e6429fb08a8c4e1b8cbd68b4216c32f3$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('fc312aaa-3a1c-439f-92d1-43be5aebaaf0','11c34897-1946-4dfc-b59c-f646a1fc69fe','de70abdf-3643-4128-9c42-fd30bacb20c5','QmPa3EBEEAJqjouvqGQZM7bGrkpNsVPBXqefM7ZHfupmKK','1ac92a3b-1728-4c50-a0c6-e9d5f3c71298.mp3','/file_storage/QmPa3EBEEAJqjouvqGQZM7bGrkpNsVPBXqefM7ZHfupmKK','copy320','2020-03-05 17:39:32.817 +00:00','2020-03-05 17:39:32.817 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_e6429fb08a8c4e1b8cbd68b4216c32f3$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (d54fc4ef-b2b8-46ce-b51d-f34e610cbd2f): COMMIT;
{ fileUUID: 'fc312aaa-3a1c-439f-92d1-43be5aebaaf0',
  cnodeUserUUID: '11c34897-1946-4dfc-b59c-f646a1fc69fe',
  multihash: 'QmPa3EBEEAJqjouvqGQZM7bGrkpNsVPBXqefM7ZHfupmKK',
  sourceFile: '1ac92a3b-1728-4c50-a0c6-e9d5f3c71298.mp3',
  storagePath:
   '/file_storage/QmPa3EBEEAJqjouvqGQZM7bGrkpNsVPBXqefM7ZHfupmKK',
  type: 'copy320',
  trackUUID: 'de70abdf-3643-4128-9c42-fd30bacb20c5',
  updatedAt: 2020-03-05T17:39:32.817Z,
  createdAt: 2020-03-05T17:39:32.817Z }
writing to db3...
Executing (743718c9-1fc7-4113-a93c-d2aedc03fabb): START TRANSACTION;
Executing (743718c9-1fc7-4113-a93c-d2aedc03fabb): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '11c34897-1946-4dfc-b59c-f646a1fc69fe' AND "File"."multihash" = 'QmPa3EBEEAJqjouvqGQZM7bGrkpNsVPBXqefM7ZHfupmKK' AND "File"."sourceFile" = '1ac92a3b-1728-4c50-a0c6-e9d5f3c71298.mp3' AND "File"."storagePath" = '/file_storage/QmPa3EBEEAJqjouvqGQZM7bGrkpNsVPBXqefM7ZHfupmKK' AND "File"."type" = 'copy320' AND "File"."trackUUID" = 'de70abdf-3643-4128-9c42-fd30bacb20c5' LIMIT 1;
Executing (743718c9-1fc7-4113-a93c-d2aedc03fabb): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_91e981ab1a5541b8a5bcf2d725de4dc1$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('0e28924f-9c78-4a83-b3c3-639ca2b4dc94','11c34897-1946-4dfc-b59c-f646a1fc69fe','de70abdf-3643-4128-9c42-fd30bacb20c5','QmPa3EBEEAJqjouvqGQZM7bGrkpNsVPBXqefM7ZHfupmKK','1ac92a3b-1728-4c50-a0c6-e9d5f3c71298.mp3','/file_storage/QmPa3EBEEAJqjouvqGQZM7bGrkpNsVPBXqefM7ZHfupmKK','copy320','2020-03-05 17:39:33.215 +00:00','2020-03-05 17:39:33.215 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_91e981ab1a5541b8a5bcf2d725de4dc1$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (743718c9-1fc7-4113-a93c-d2aedc03fabb): COMMIT;
{ fileUUID: '0e28924f-9c78-4a83-b3c3-639ca2b4dc94',
  cnodeUserUUID: '11c34897-1946-4dfc-b59c-f646a1fc69fe',
  multihash: 'QmPa3EBEEAJqjouvqGQZM7bGrkpNsVPBXqefM7ZHfupmKK',
  sourceFile: '1ac92a3b-1728-4c50-a0c6-e9d5f3c71298.mp3',
  storagePath:
   '/file_storage/QmPa3EBEEAJqjouvqGQZM7bGrkpNsVPBXqefM7ZHfupmKK',
  type: 'copy320',
  trackUUID: 'de70abdf-3643-4128-9c42-fd30bacb20c5',
  updatedAt: 2020-03-05T17:39:33.215Z,
  createdAt: 2020-03-05T17:39:33.215Z }




PROCESSING ROW #155: sourcefile: 5ed71440-4f14-4989-98f2-3f77d1764462.mp3, cnodeUserUUID: 11c34897-1946-4dfc-b59c-f646a1fc69fe, trackUUID: db3c3132-3350-48be-9aaf-da2b4629d16f, multihash: QmRNoiAB5T3HEw31WseYgsoEDqFbhk2kULAemJXucp5nzV, dstPath: /file_storage/QmRNoiAB5T3HEw31WseYgsoEDqFbhk2kULAemJXucp5nzV
writing to db1...
Executing (8d4a7dde-488f-409c-a382-882a19a6b40c): START TRANSACTION;
Executing (8d4a7dde-488f-409c-a382-882a19a6b40c): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '11c34897-1946-4dfc-b59c-f646a1fc69fe' AND "File"."multihash" = 'QmRNoiAB5T3HEw31WseYgsoEDqFbhk2kULAemJXucp5nzV' AND "File"."sourceFile" = '5ed71440-4f14-4989-98f2-3f77d1764462.mp3' AND "File"."storagePath" = '/file_storage/QmRNoiAB5T3HEw31WseYgsoEDqFbhk2kULAemJXucp5nzV' AND "File"."type" = 'copy320' AND "File"."trackUUID" = 'db3c3132-3350-48be-9aaf-da2b4629d16f' LIMIT 1;
Executing (8d4a7dde-488f-409c-a382-882a19a6b40c): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_9fd3c02390ab41a493d43d3bc1edf721$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('c7922a69-db34-4864-803e-5b0cd4135ff5','11c34897-1946-4dfc-b59c-f646a1fc69fe','db3c3132-3350-48be-9aaf-da2b4629d16f','QmRNoiAB5T3HEw31WseYgsoEDqFbhk2kULAemJXucp5nzV','5ed71440-4f14-4989-98f2-3f77d1764462.mp3','/file_storage/QmRNoiAB5T3HEw31WseYgsoEDqFbhk2kULAemJXucp5nzV','copy320','2020-03-05 17:39:33.605 +00:00','2020-03-05 17:39:33.605 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_9fd3c02390ab41a493d43d3bc1edf721$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (8d4a7dde-488f-409c-a382-882a19a6b40c): COMMIT;
{ fileUUID: 'c7922a69-db34-4864-803e-5b0cd4135ff5',
  cnodeUserUUID: '11c34897-1946-4dfc-b59c-f646a1fc69fe',
  multihash: 'QmRNoiAB5T3HEw31WseYgsoEDqFbhk2kULAemJXucp5nzV',
  sourceFile: '5ed71440-4f14-4989-98f2-3f77d1764462.mp3',
  storagePath:
   '/file_storage/QmRNoiAB5T3HEw31WseYgsoEDqFbhk2kULAemJXucp5nzV',
  type: 'copy320',
  trackUUID: 'db3c3132-3350-48be-9aaf-da2b4629d16f',
  updatedAt: 2020-03-05T17:39:33.605Z,
  createdAt: 2020-03-05T17:39:33.605Z }
writing to db2...
Executing (b7ae5cc0-52e5-4a75-89b4-f4d0bcaac828): START TRANSACTION;
Executing (b7ae5cc0-52e5-4a75-89b4-f4d0bcaac828): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '11c34897-1946-4dfc-b59c-f646a1fc69fe' AND "File"."multihash" = 'QmRNoiAB5T3HEw31WseYgsoEDqFbhk2kULAemJXucp5nzV' AND "File"."sourceFile" = '5ed71440-4f14-4989-98f2-3f77d1764462.mp3' AND "File"."storagePath" = '/file_storage/QmRNoiAB5T3HEw31WseYgsoEDqFbhk2kULAemJXucp5nzV' AND "File"."type" = 'copy320' AND "File"."trackUUID" = 'db3c3132-3350-48be-9aaf-da2b4629d16f' LIMIT 1;
Executing (b7ae5cc0-52e5-4a75-89b4-f4d0bcaac828): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_312fa392715b4c12979e408a1e75fd00$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('f0d69bf0-52a4-46fe-be9d-80e3d8dbbecc','11c34897-1946-4dfc-b59c-f646a1fc69fe','db3c3132-3350-48be-9aaf-da2b4629d16f','QmRNoiAB5T3HEw31WseYgsoEDqFbhk2kULAemJXucp5nzV','5ed71440-4f14-4989-98f2-3f77d1764462.mp3','/file_storage/QmRNoiAB5T3HEw31WseYgsoEDqFbhk2kULAemJXucp5nzV','copy320','2020-03-05 17:39:33.995 +00:00','2020-03-05 17:39:33.995 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_312fa392715b4c12979e408a1e75fd00$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (b7ae5cc0-52e5-4a75-89b4-f4d0bcaac828): COMMIT;
{ fileUUID: 'f0d69bf0-52a4-46fe-be9d-80e3d8dbbecc',
  cnodeUserUUID: '11c34897-1946-4dfc-b59c-f646a1fc69fe',
  multihash: 'QmRNoiAB5T3HEw31WseYgsoEDqFbhk2kULAemJXucp5nzV',
  sourceFile: '5ed71440-4f14-4989-98f2-3f77d1764462.mp3',
  storagePath:
   '/file_storage/QmRNoiAB5T3HEw31WseYgsoEDqFbhk2kULAemJXucp5nzV',
  type: 'copy320',
  trackUUID: 'db3c3132-3350-48be-9aaf-da2b4629d16f',
  updatedAt: 2020-03-05T17:39:33.995Z,
  createdAt: 2020-03-05T17:39:33.995Z }
writing to db3...
Executing (4552f21d-57f2-4af7-9cc1-fdb14b69e0a2): START TRANSACTION;
Executing (4552f21d-57f2-4af7-9cc1-fdb14b69e0a2): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '11c34897-1946-4dfc-b59c-f646a1fc69fe' AND "File"."multihash" = 'QmRNoiAB5T3HEw31WseYgsoEDqFbhk2kULAemJXucp5nzV' AND "File"."sourceFile" = '5ed71440-4f14-4989-98f2-3f77d1764462.mp3' AND "File"."storagePath" = '/file_storage/QmRNoiAB5T3HEw31WseYgsoEDqFbhk2kULAemJXucp5nzV' AND "File"."type" = 'copy320' AND "File"."trackUUID" = 'db3c3132-3350-48be-9aaf-da2b4629d16f' LIMIT 1;
Executing (4552f21d-57f2-4af7-9cc1-fdb14b69e0a2): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_3f1ceb2aa3ee4b38a6a201cf604225c5$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('4e902129-f0cd-46c9-98b0-e332bea3a187','11c34897-1946-4dfc-b59c-f646a1fc69fe','db3c3132-3350-48be-9aaf-da2b4629d16f','QmRNoiAB5T3HEw31WseYgsoEDqFbhk2kULAemJXucp5nzV','5ed71440-4f14-4989-98f2-3f77d1764462.mp3','/file_storage/QmRNoiAB5T3HEw31WseYgsoEDqFbhk2kULAemJXucp5nzV','copy320','2020-03-05 17:39:34.378 +00:00','2020-03-05 17:39:34.378 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_3f1ceb2aa3ee4b38a6a201cf604225c5$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (4552f21d-57f2-4af7-9cc1-fdb14b69e0a2): COMMIT;
{ fileUUID: '4e902129-f0cd-46c9-98b0-e332bea3a187',
  cnodeUserUUID: '11c34897-1946-4dfc-b59c-f646a1fc69fe',
  multihash: 'QmRNoiAB5T3HEw31WseYgsoEDqFbhk2kULAemJXucp5nzV',
  sourceFile: '5ed71440-4f14-4989-98f2-3f77d1764462.mp3',
  storagePath:
   '/file_storage/QmRNoiAB5T3HEw31WseYgsoEDqFbhk2kULAemJXucp5nzV',
  type: 'copy320',
  trackUUID: 'db3c3132-3350-48be-9aaf-da2b4629d16f',
  updatedAt: 2020-03-05T17:39:34.378Z,
  createdAt: 2020-03-05T17:39:34.378Z }




PROCESSING ROW #156: sourcefile: 3d160b2e-e76d-4af6-9dda-be768f20f1e1.mp3, cnodeUserUUID: e3669ab1-7042-4863-833c-4f267bb29541, trackUUID: ce6dceb0-247d-45b7-aa6e-339f5ab7040e, multihash: QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM, dstPath: /file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM
writing to db1...
Executing (d07fbf13-72ac-443a-8a51-c96f37bdbd6e): START TRANSACTION;
Executing (d07fbf13-72ac-443a-8a51-c96f37bdbd6e): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = 'e3669ab1-7042-4863-833c-4f267bb29541' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = '3d160b2e-e76d-4af6-9dda-be768f20f1e1.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = 'ce6dceb0-247d-45b7-aa6e-339f5ab7040e' LIMIT 1;
Executing (d07fbf13-72ac-443a-8a51-c96f37bdbd6e): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_2edc7c79cdfa4201a381a200d823bd74$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('e54beb91-c941-4777-b26d-5d1627e4428e','e3669ab1-7042-4863-833c-4f267bb29541','ce6dceb0-247d-45b7-aa6e-339f5ab7040e','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','3d160b2e-e76d-4af6-9dda-be768f20f1e1.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:39:34.765 +00:00','2020-03-05 17:39:34.765 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_2edc7c79cdfa4201a381a200d823bd74$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (d07fbf13-72ac-443a-8a51-c96f37bdbd6e): COMMIT;
{ fileUUID: 'e54beb91-c941-4777-b26d-5d1627e4428e',
  cnodeUserUUID: 'e3669ab1-7042-4863-833c-4f267bb29541',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: '3d160b2e-e76d-4af6-9dda-be768f20f1e1.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: 'ce6dceb0-247d-45b7-aa6e-339f5ab7040e',
  updatedAt: 2020-03-05T17:39:34.765Z,
  createdAt: 2020-03-05T17:39:34.765Z }
writing to db2...
Executing (e4e35c95-8b31-49b6-9ea6-3c024a630bc3): START TRANSACTION;
Executing (e4e35c95-8b31-49b6-9ea6-3c024a630bc3): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = 'e3669ab1-7042-4863-833c-4f267bb29541' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = '3d160b2e-e76d-4af6-9dda-be768f20f1e1.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = 'ce6dceb0-247d-45b7-aa6e-339f5ab7040e' LIMIT 1;
Executing (e4e35c95-8b31-49b6-9ea6-3c024a630bc3): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_029f1af164184bb99448f8dd2fcb6b29$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('2224fc79-5767-48fd-a292-1aecd2e9978c','e3669ab1-7042-4863-833c-4f267bb29541','ce6dceb0-247d-45b7-aa6e-339f5ab7040e','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','3d160b2e-e76d-4af6-9dda-be768f20f1e1.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:39:35.151 +00:00','2020-03-05 17:39:35.151 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_029f1af164184bb99448f8dd2fcb6b29$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (e4e35c95-8b31-49b6-9ea6-3c024a630bc3): COMMIT;
{ fileUUID: '2224fc79-5767-48fd-a292-1aecd2e9978c',
  cnodeUserUUID: 'e3669ab1-7042-4863-833c-4f267bb29541',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: '3d160b2e-e76d-4af6-9dda-be768f20f1e1.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: 'ce6dceb0-247d-45b7-aa6e-339f5ab7040e',
  updatedAt: 2020-03-05T17:39:35.151Z,
  createdAt: 2020-03-05T17:39:35.151Z }
writing to db3...
Executing (96512e63-1d92-457d-81b1-6a481f05b71f): START TRANSACTION;
Executing (96512e63-1d92-457d-81b1-6a481f05b71f): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = 'e3669ab1-7042-4863-833c-4f267bb29541' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = '3d160b2e-e76d-4af6-9dda-be768f20f1e1.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = 'ce6dceb0-247d-45b7-aa6e-339f5ab7040e' LIMIT 1;
Executing (96512e63-1d92-457d-81b1-6a481f05b71f): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_dbab48729c444500bf5f65b7971fdf19$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('23b771a1-70f3-4716-82c4-a9694b48c363','e3669ab1-7042-4863-833c-4f267bb29541','ce6dceb0-247d-45b7-aa6e-339f5ab7040e','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','3d160b2e-e76d-4af6-9dda-be768f20f1e1.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:39:35.543 +00:00','2020-03-05 17:39:35.543 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_dbab48729c444500bf5f65b7971fdf19$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (96512e63-1d92-457d-81b1-6a481f05b71f): COMMIT;
{ fileUUID: '23b771a1-70f3-4716-82c4-a9694b48c363',
  cnodeUserUUID: 'e3669ab1-7042-4863-833c-4f267bb29541',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: '3d160b2e-e76d-4af6-9dda-be768f20f1e1.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: 'ce6dceb0-247d-45b7-aa6e-339f5ab7040e',
  updatedAt: 2020-03-05T17:39:35.543Z,
  createdAt: 2020-03-05T17:39:35.543Z }




PROCESSING ROW #157: sourcefile: c7158aa4-7e2a-4290-90f3-837ff408f083.mp3, cnodeUserUUID: 63e5c06b-8001-447f-a621-ac068ba31b16, trackUUID: e6e233cd-30f3-496b-9eef-ef1327d94c79, multihash: QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM, dstPath: /file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM
writing to db1...
Executing (9dcf7b47-019b-4755-bef6-c87857cbff5e): START TRANSACTION;
Executing (9dcf7b47-019b-4755-bef6-c87857cbff5e): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '63e5c06b-8001-447f-a621-ac068ba31b16' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = 'c7158aa4-7e2a-4290-90f3-837ff408f083.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = 'e6e233cd-30f3-496b-9eef-ef1327d94c79' LIMIT 1;
Executing (9dcf7b47-019b-4755-bef6-c87857cbff5e): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_c0ed1734ced44d7d82f16eb791be1293$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('b2baf3d8-9038-4766-b57e-08f45abe185f','63e5c06b-8001-447f-a621-ac068ba31b16','e6e233cd-30f3-496b-9eef-ef1327d94c79','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','c7158aa4-7e2a-4290-90f3-837ff408f083.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:39:35.949 +00:00','2020-03-05 17:39:35.949 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_c0ed1734ced44d7d82f16eb791be1293$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (9dcf7b47-019b-4755-bef6-c87857cbff5e): COMMIT;
{ fileUUID: 'b2baf3d8-9038-4766-b57e-08f45abe185f',
  cnodeUserUUID: '63e5c06b-8001-447f-a621-ac068ba31b16',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: 'c7158aa4-7e2a-4290-90f3-837ff408f083.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: 'e6e233cd-30f3-496b-9eef-ef1327d94c79',
  updatedAt: 2020-03-05T17:39:35.949Z,
  createdAt: 2020-03-05T17:39:35.949Z }
writing to db2...
Executing (3084c0f2-5fba-48ec-887e-2e17ae2206d0): START TRANSACTION;
Executing (3084c0f2-5fba-48ec-887e-2e17ae2206d0): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '63e5c06b-8001-447f-a621-ac068ba31b16' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = 'c7158aa4-7e2a-4290-90f3-837ff408f083.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = 'e6e233cd-30f3-496b-9eef-ef1327d94c79' LIMIT 1;
Executing (3084c0f2-5fba-48ec-887e-2e17ae2206d0): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_4e7fe94a0b2d42cd959fc3a2543be0c1$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('1a35eb60-1677-4557-8362-5cf48517d1ca','63e5c06b-8001-447f-a621-ac068ba31b16','e6e233cd-30f3-496b-9eef-ef1327d94c79','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','c7158aa4-7e2a-4290-90f3-837ff408f083.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:39:36.364 +00:00','2020-03-05 17:39:36.364 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_4e7fe94a0b2d42cd959fc3a2543be0c1$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (3084c0f2-5fba-48ec-887e-2e17ae2206d0): COMMIT;
{ fileUUID: '1a35eb60-1677-4557-8362-5cf48517d1ca',
  cnodeUserUUID: '63e5c06b-8001-447f-a621-ac068ba31b16',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: 'c7158aa4-7e2a-4290-90f3-837ff408f083.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: 'e6e233cd-30f3-496b-9eef-ef1327d94c79',
  updatedAt: 2020-03-05T17:39:36.364Z,
  createdAt: 2020-03-05T17:39:36.364Z }
writing to db3...
Executing (741c972e-0249-4140-bb73-0c953decf297): START TRANSACTION;
Executing (741c972e-0249-4140-bb73-0c953decf297): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '63e5c06b-8001-447f-a621-ac068ba31b16' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = 'c7158aa4-7e2a-4290-90f3-837ff408f083.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = 'e6e233cd-30f3-496b-9eef-ef1327d94c79' LIMIT 1;
Executing (741c972e-0249-4140-bb73-0c953decf297): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_6ac1b153409648cabf39087a711dcabe$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('bec16815-1606-4259-949d-a8171846aafc','63e5c06b-8001-447f-a621-ac068ba31b16','e6e233cd-30f3-496b-9eef-ef1327d94c79','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','c7158aa4-7e2a-4290-90f3-837ff408f083.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:39:36.758 +00:00','2020-03-05 17:39:36.758 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_6ac1b153409648cabf39087a711dcabe$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (741c972e-0249-4140-bb73-0c953decf297): COMMIT;
{ fileUUID: 'bec16815-1606-4259-949d-a8171846aafc',
  cnodeUserUUID: '63e5c06b-8001-447f-a621-ac068ba31b16',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: 'c7158aa4-7e2a-4290-90f3-837ff408f083.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: 'e6e233cd-30f3-496b-9eef-ef1327d94c79',
  updatedAt: 2020-03-05T17:39:36.758Z,
  createdAt: 2020-03-05T17:39:36.758Z }




PROCESSING ROW #158: sourcefile: fcb907d2-d5e0-4c74-b6df-ed7604633015.mp3, cnodeUserUUID: 820254c6-d17b-480a-abab-a79fa1f4b950, trackUUID: 89e12e29-eb45-4306-b09d-585ec4a074ac, multihash: QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM, dstPath: /file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM
writing to db1...
Executing (0b13369d-ef9d-4fe4-bab7-d9b8bdfd4915): START TRANSACTION;
Executing (0b13369d-ef9d-4fe4-bab7-d9b8bdfd4915): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '820254c6-d17b-480a-abab-a79fa1f4b950' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = 'fcb907d2-d5e0-4c74-b6df-ed7604633015.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '89e12e29-eb45-4306-b09d-585ec4a074ac' LIMIT 1;
Executing (0b13369d-ef9d-4fe4-bab7-d9b8bdfd4915): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_37681fd93a264cd5b30928eaf4c30277$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('ae40aaea-e4da-447e-b772-56c3a1bd9143','820254c6-d17b-480a-abab-a79fa1f4b950','89e12e29-eb45-4306-b09d-585ec4a074ac','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','fcb907d2-d5e0-4c74-b6df-ed7604633015.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:39:37.157 +00:00','2020-03-05 17:39:37.157 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_37681fd93a264cd5b30928eaf4c30277$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (0b13369d-ef9d-4fe4-bab7-d9b8bdfd4915): COMMIT;
{ fileUUID: 'ae40aaea-e4da-447e-b772-56c3a1bd9143',
  cnodeUserUUID: '820254c6-d17b-480a-abab-a79fa1f4b950',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: 'fcb907d2-d5e0-4c74-b6df-ed7604633015.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: '89e12e29-eb45-4306-b09d-585ec4a074ac',
  updatedAt: 2020-03-05T17:39:37.157Z,
  createdAt: 2020-03-05T17:39:37.157Z }
writing to db2...
Executing (f05326b4-fca4-453e-be80-bbfbb7725378): START TRANSACTION;
Executing (f05326b4-fca4-453e-be80-bbfbb7725378): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '820254c6-d17b-480a-abab-a79fa1f4b950' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = 'fcb907d2-d5e0-4c74-b6df-ed7604633015.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '89e12e29-eb45-4306-b09d-585ec4a074ac' LIMIT 1;
Executing (f05326b4-fca4-453e-be80-bbfbb7725378): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_b7d1410e452e4cb99fa469af0f89c1d3$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('80586c51-b9d5-4e24-894d-658811e9159d','820254c6-d17b-480a-abab-a79fa1f4b950','89e12e29-eb45-4306-b09d-585ec4a074ac','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','fcb907d2-d5e0-4c74-b6df-ed7604633015.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:39:37.547 +00:00','2020-03-05 17:39:37.547 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_b7d1410e452e4cb99fa469af0f89c1d3$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (f05326b4-fca4-453e-be80-bbfbb7725378): COMMIT;
{ fileUUID: '80586c51-b9d5-4e24-894d-658811e9159d',
  cnodeUserUUID: '820254c6-d17b-480a-abab-a79fa1f4b950',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: 'fcb907d2-d5e0-4c74-b6df-ed7604633015.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: '89e12e29-eb45-4306-b09d-585ec4a074ac',
  updatedAt: 2020-03-05T17:39:37.547Z,
  createdAt: 2020-03-05T17:39:37.547Z }
writing to db3...
Executing (0052de7a-4172-49d1-adac-64051fa67afa): START TRANSACTION;
Executing (0052de7a-4172-49d1-adac-64051fa67afa): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '820254c6-d17b-480a-abab-a79fa1f4b950' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = 'fcb907d2-d5e0-4c74-b6df-ed7604633015.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '89e12e29-eb45-4306-b09d-585ec4a074ac' LIMIT 1;
Executing (0052de7a-4172-49d1-adac-64051fa67afa): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_281918509daa4784ab3022d7be0cd322$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('9f27da07-5637-4943-a038-9eab9acc937f','820254c6-d17b-480a-abab-a79fa1f4b950','89e12e29-eb45-4306-b09d-585ec4a074ac','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','fcb907d2-d5e0-4c74-b6df-ed7604633015.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:39:37.935 +00:00','2020-03-05 17:39:37.935 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_281918509daa4784ab3022d7be0cd322$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (0052de7a-4172-49d1-adac-64051fa67afa): COMMIT;
{ fileUUID: '9f27da07-5637-4943-a038-9eab9acc937f',
  cnodeUserUUID: '820254c6-d17b-480a-abab-a79fa1f4b950',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: 'fcb907d2-d5e0-4c74-b6df-ed7604633015.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: '89e12e29-eb45-4306-b09d-585ec4a074ac',
  updatedAt: 2020-03-05T17:39:37.935Z,
  createdAt: 2020-03-05T17:39:37.935Z }




PROCESSING ROW #159: sourcefile: 3de42807-ecf4-4e97-87d9-1a31f4e8a03a.mp3, cnodeUserUUID: 0478b326-7abc-4c60-b239-87c392c1fa07, trackUUID: 2c3599c2-f331-497a-b1dd-85c1a2e37e19, multihash: QmSRhV8Jb478mEqnTkv4sT4HyK2aE3MzhGAfL5jRSqcMVk, dstPath: /file_storage/QmSRhV8Jb478mEqnTkv4sT4HyK2aE3MzhGAfL5jRSqcMVk
writing to db1...
Executing (691a5bcb-bac0-4493-acb3-d729f93c2a9b): START TRANSACTION;
Executing (691a5bcb-bac0-4493-acb3-d729f93c2a9b): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '0478b326-7abc-4c60-b239-87c392c1fa07' AND "File"."multihash" = 'QmSRhV8Jb478mEqnTkv4sT4HyK2aE3MzhGAfL5jRSqcMVk' AND "File"."sourceFile" = '3de42807-ecf4-4e97-87d9-1a31f4e8a03a.mp3' AND "File"."storagePath" = '/file_storage/QmSRhV8Jb478mEqnTkv4sT4HyK2aE3MzhGAfL5jRSqcMVk' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '2c3599c2-f331-497a-b1dd-85c1a2e37e19' LIMIT 1;
Executing (691a5bcb-bac0-4493-acb3-d729f93c2a9b): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_ca8705d594044b5f933d560a3ce76dd0$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('94c3f4f6-4613-402b-a366-17c04e2b80e4','0478b326-7abc-4c60-b239-87c392c1fa07','2c3599c2-f331-497a-b1dd-85c1a2e37e19','QmSRhV8Jb478mEqnTkv4sT4HyK2aE3MzhGAfL5jRSqcMVk','3de42807-ecf4-4e97-87d9-1a31f4e8a03a.mp3','/file_storage/QmSRhV8Jb478mEqnTkv4sT4HyK2aE3MzhGAfL5jRSqcMVk','copy320','2020-03-05 17:39:38.338 +00:00','2020-03-05 17:39:38.338 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_ca8705d594044b5f933d560a3ce76dd0$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (691a5bcb-bac0-4493-acb3-d729f93c2a9b): COMMIT;
{ fileUUID: '94c3f4f6-4613-402b-a366-17c04e2b80e4',
  cnodeUserUUID: '0478b326-7abc-4c60-b239-87c392c1fa07',
  multihash: 'QmSRhV8Jb478mEqnTkv4sT4HyK2aE3MzhGAfL5jRSqcMVk',
  sourceFile: '3de42807-ecf4-4e97-87d9-1a31f4e8a03a.mp3',
  storagePath:
   '/file_storage/QmSRhV8Jb478mEqnTkv4sT4HyK2aE3MzhGAfL5jRSqcMVk',
  type: 'copy320',
  trackUUID: '2c3599c2-f331-497a-b1dd-85c1a2e37e19',
  updatedAt: 2020-03-05T17:39:38.338Z,
  createdAt: 2020-03-05T17:39:38.338Z }
writing to db2...
Executing (e5f1d6b5-197f-4b37-a0a3-4572759b74db): START TRANSACTION;
Executing (e5f1d6b5-197f-4b37-a0a3-4572759b74db): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '0478b326-7abc-4c60-b239-87c392c1fa07' AND "File"."multihash" = 'QmSRhV8Jb478mEqnTkv4sT4HyK2aE3MzhGAfL5jRSqcMVk' AND "File"."sourceFile" = '3de42807-ecf4-4e97-87d9-1a31f4e8a03a.mp3' AND "File"."storagePath" = '/file_storage/QmSRhV8Jb478mEqnTkv4sT4HyK2aE3MzhGAfL5jRSqcMVk' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '2c3599c2-f331-497a-b1dd-85c1a2e37e19' LIMIT 1;
Executing (e5f1d6b5-197f-4b37-a0a3-4572759b74db): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_2fab88b6b5134771b1ccb29f01bf75bd$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('b09dd397-b5de-48e8-9596-6ac290d5be8c','0478b326-7abc-4c60-b239-87c392c1fa07','2c3599c2-f331-497a-b1dd-85c1a2e37e19','QmSRhV8Jb478mEqnTkv4sT4HyK2aE3MzhGAfL5jRSqcMVk','3de42807-ecf4-4e97-87d9-1a31f4e8a03a.mp3','/file_storage/QmSRhV8Jb478mEqnTkv4sT4HyK2aE3MzhGAfL5jRSqcMVk','copy320','2020-03-05 17:39:38.718 +00:00','2020-03-05 17:39:38.718 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_2fab88b6b5134771b1ccb29f01bf75bd$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (e5f1d6b5-197f-4b37-a0a3-4572759b74db): COMMIT;
{ fileUUID: 'b09dd397-b5de-48e8-9596-6ac290d5be8c',
  cnodeUserUUID: '0478b326-7abc-4c60-b239-87c392c1fa07',
  multihash: 'QmSRhV8Jb478mEqnTkv4sT4HyK2aE3MzhGAfL5jRSqcMVk',
  sourceFile: '3de42807-ecf4-4e97-87d9-1a31f4e8a03a.mp3',
  storagePath:
   '/file_storage/QmSRhV8Jb478mEqnTkv4sT4HyK2aE3MzhGAfL5jRSqcMVk',
  type: 'copy320',
  trackUUID: '2c3599c2-f331-497a-b1dd-85c1a2e37e19',
  updatedAt: 2020-03-05T17:39:38.718Z,
  createdAt: 2020-03-05T17:39:38.718Z }
writing to db3...
Executing (5e474489-8f77-4468-bf80-a3c3ffb98e09): START TRANSACTION;
Executing (5e474489-8f77-4468-bf80-a3c3ffb98e09): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '0478b326-7abc-4c60-b239-87c392c1fa07' AND "File"."multihash" = 'QmSRhV8Jb478mEqnTkv4sT4HyK2aE3MzhGAfL5jRSqcMVk' AND "File"."sourceFile" = '3de42807-ecf4-4e97-87d9-1a31f4e8a03a.mp3' AND "File"."storagePath" = '/file_storage/QmSRhV8Jb478mEqnTkv4sT4HyK2aE3MzhGAfL5jRSqcMVk' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '2c3599c2-f331-497a-b1dd-85c1a2e37e19' LIMIT 1;
Executing (5e474489-8f77-4468-bf80-a3c3ffb98e09): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_43ef6c90a6104bdaac2841518f704709$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('b066e3f7-cec7-480e-bcac-89a0364df43b','0478b326-7abc-4c60-b239-87c392c1fa07','2c3599c2-f331-497a-b1dd-85c1a2e37e19','QmSRhV8Jb478mEqnTkv4sT4HyK2aE3MzhGAfL5jRSqcMVk','3de42807-ecf4-4e97-87d9-1a31f4e8a03a.mp3','/file_storage/QmSRhV8Jb478mEqnTkv4sT4HyK2aE3MzhGAfL5jRSqcMVk','copy320','2020-03-05 17:39:39.101 +00:00','2020-03-05 17:39:39.101 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_43ef6c90a6104bdaac2841518f704709$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (5e474489-8f77-4468-bf80-a3c3ffb98e09): COMMIT;
{ fileUUID: 'b066e3f7-cec7-480e-bcac-89a0364df43b',
  cnodeUserUUID: '0478b326-7abc-4c60-b239-87c392c1fa07',
  multihash: 'QmSRhV8Jb478mEqnTkv4sT4HyK2aE3MzhGAfL5jRSqcMVk',
  sourceFile: '3de42807-ecf4-4e97-87d9-1a31f4e8a03a.mp3',
  storagePath:
   '/file_storage/QmSRhV8Jb478mEqnTkv4sT4HyK2aE3MzhGAfL5jRSqcMVk',
  type: 'copy320',
  trackUUID: '2c3599c2-f331-497a-b1dd-85c1a2e37e19',
  updatedAt: 2020-03-05T17:39:39.101Z,
  createdAt: 2020-03-05T17:39:39.101Z }




PROCESSING ROW #160: sourcefile: a38830bd-2504-479d-a0a1-367c35c768d7.mp3, cnodeUserUUID: 2259d5d9-106d-49c5-8445-df53898f8531, trackUUID: a4f57f3a-8ff7-4898-9faa-0001893d90be, multihash: QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM, dstPath: /file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM
writing to db1...
Executing (afa4e235-01bf-40cc-8da1-638fbb062dec): START TRANSACTION;
Executing (afa4e235-01bf-40cc-8da1-638fbb062dec): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '2259d5d9-106d-49c5-8445-df53898f8531' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = 'a38830bd-2504-479d-a0a1-367c35c768d7.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = 'a4f57f3a-8ff7-4898-9faa-0001893d90be' LIMIT 1;
Executing (afa4e235-01bf-40cc-8da1-638fbb062dec): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_4250abad258c46d3ad490b502ba69827$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('70a2c7c6-8bf2-40e9-a045-cdc47e59f2ec','2259d5d9-106d-49c5-8445-df53898f8531','a4f57f3a-8ff7-4898-9faa-0001893d90be','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','a38830bd-2504-479d-a0a1-367c35c768d7.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:39:39.497 +00:00','2020-03-05 17:39:39.497 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_4250abad258c46d3ad490b502ba69827$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (afa4e235-01bf-40cc-8da1-638fbb062dec): COMMIT;
{ fileUUID: '70a2c7c6-8bf2-40e9-a045-cdc47e59f2ec',
  cnodeUserUUID: '2259d5d9-106d-49c5-8445-df53898f8531',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: 'a38830bd-2504-479d-a0a1-367c35c768d7.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: 'a4f57f3a-8ff7-4898-9faa-0001893d90be',
  updatedAt: 2020-03-05T17:39:39.497Z,
  createdAt: 2020-03-05T17:39:39.497Z }
writing to db2...
Executing (766e1f16-3dbc-4475-8f01-5034ac6d7034): START TRANSACTION;
Executing (766e1f16-3dbc-4475-8f01-5034ac6d7034): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '2259d5d9-106d-49c5-8445-df53898f8531' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = 'a38830bd-2504-479d-a0a1-367c35c768d7.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = 'a4f57f3a-8ff7-4898-9faa-0001893d90be' LIMIT 1;
Executing (766e1f16-3dbc-4475-8f01-5034ac6d7034): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_c920ed6ad0a44bed8faccfbb3ac2fa8d$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('c40df8ff-79b9-4a7d-ac08-fadd49b795af','2259d5d9-106d-49c5-8445-df53898f8531','a4f57f3a-8ff7-4898-9faa-0001893d90be','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','a38830bd-2504-479d-a0a1-367c35c768d7.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:39:39.898 +00:00','2020-03-05 17:39:39.898 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_c920ed6ad0a44bed8faccfbb3ac2fa8d$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (766e1f16-3dbc-4475-8f01-5034ac6d7034): COMMIT;
{ fileUUID: 'c40df8ff-79b9-4a7d-ac08-fadd49b795af',
  cnodeUserUUID: '2259d5d9-106d-49c5-8445-df53898f8531',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: 'a38830bd-2504-479d-a0a1-367c35c768d7.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: 'a4f57f3a-8ff7-4898-9faa-0001893d90be',
  updatedAt: 2020-03-05T17:39:39.898Z,
  createdAt: 2020-03-05T17:39:39.898Z }
writing to db3...
Executing (6a1fd49a-9573-47b0-8040-b04c8844e3fc): START TRANSACTION;
Executing (6a1fd49a-9573-47b0-8040-b04c8844e3fc): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '2259d5d9-106d-49c5-8445-df53898f8531' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = 'a38830bd-2504-479d-a0a1-367c35c768d7.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = 'a4f57f3a-8ff7-4898-9faa-0001893d90be' LIMIT 1;
Executing (6a1fd49a-9573-47b0-8040-b04c8844e3fc): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_3809c4992a8f4a15aa70264f2aabd5d3$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('0f9d7bd2-6231-435c-a973-ecd5b028c5f6','2259d5d9-106d-49c5-8445-df53898f8531','a4f57f3a-8ff7-4898-9faa-0001893d90be','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','a38830bd-2504-479d-a0a1-367c35c768d7.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:39:40.284 +00:00','2020-03-05 17:39:40.284 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_3809c4992a8f4a15aa70264f2aabd5d3$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (6a1fd49a-9573-47b0-8040-b04c8844e3fc): COMMIT;
{ fileUUID: '0f9d7bd2-6231-435c-a973-ecd5b028c5f6',
  cnodeUserUUID: '2259d5d9-106d-49c5-8445-df53898f8531',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: 'a38830bd-2504-479d-a0a1-367c35c768d7.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: 'a4f57f3a-8ff7-4898-9faa-0001893d90be',
  updatedAt: 2020-03-05T17:39:40.284Z,
  createdAt: 2020-03-05T17:39:40.284Z }




PROCESSING ROW #161: sourcefile: 7b26b04e-a7fe-436c-bb3c-035a5e517c11.mp3, cnodeUserUUID: 97adaba5-c378-4f7d-a2e9-a44f68e69083, trackUUID: 5c8b5618-c85b-4f0d-9710-95d9aa26f19e, multihash: QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM, dstPath: /file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM
writing to db1...
Executing (b5325b53-302b-42b7-9cce-e349bc170ef1): START TRANSACTION;
Executing (b5325b53-302b-42b7-9cce-e349bc170ef1): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '97adaba5-c378-4f7d-a2e9-a44f68e69083' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = '7b26b04e-a7fe-436c-bb3c-035a5e517c11.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '5c8b5618-c85b-4f0d-9710-95d9aa26f19e' LIMIT 1;
Executing (b5325b53-302b-42b7-9cce-e349bc170ef1): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_a412fefa907248e9aafd92c0ea913c26$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('0657ef0a-7d04-47b2-9aa7-6ef37fee46b5','97adaba5-c378-4f7d-a2e9-a44f68e69083','5c8b5618-c85b-4f0d-9710-95d9aa26f19e','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','7b26b04e-a7fe-436c-bb3c-035a5e517c11.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:39:40.675 +00:00','2020-03-05 17:39:40.675 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_a412fefa907248e9aafd92c0ea913c26$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (b5325b53-302b-42b7-9cce-e349bc170ef1): COMMIT;
{ fileUUID: '0657ef0a-7d04-47b2-9aa7-6ef37fee46b5',
  cnodeUserUUID: '97adaba5-c378-4f7d-a2e9-a44f68e69083',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: '7b26b04e-a7fe-436c-bb3c-035a5e517c11.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: '5c8b5618-c85b-4f0d-9710-95d9aa26f19e',
  updatedAt: 2020-03-05T17:39:40.675Z,
  createdAt: 2020-03-05T17:39:40.675Z }
writing to db2...
Executing (9ece99c2-1c87-4c12-b021-7a1969b7e712): START TRANSACTION;
Executing (9ece99c2-1c87-4c12-b021-7a1969b7e712): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '97adaba5-c378-4f7d-a2e9-a44f68e69083' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = '7b26b04e-a7fe-436c-bb3c-035a5e517c11.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '5c8b5618-c85b-4f0d-9710-95d9aa26f19e' LIMIT 1;
Executing (9ece99c2-1c87-4c12-b021-7a1969b7e712): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_97a093f16e0f447d9bd70749112ac9a1$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('1a71dad7-baf7-47c6-ac3f-ddbd1753f491','97adaba5-c378-4f7d-a2e9-a44f68e69083','5c8b5618-c85b-4f0d-9710-95d9aa26f19e','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','7b26b04e-a7fe-436c-bb3c-035a5e517c11.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:39:41.063 +00:00','2020-03-05 17:39:41.063 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_97a093f16e0f447d9bd70749112ac9a1$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (9ece99c2-1c87-4c12-b021-7a1969b7e712): COMMIT;
{ fileUUID: '1a71dad7-baf7-47c6-ac3f-ddbd1753f491',
  cnodeUserUUID: '97adaba5-c378-4f7d-a2e9-a44f68e69083',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: '7b26b04e-a7fe-436c-bb3c-035a5e517c11.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: '5c8b5618-c85b-4f0d-9710-95d9aa26f19e',
  updatedAt: 2020-03-05T17:39:41.063Z,
  createdAt: 2020-03-05T17:39:41.063Z }
writing to db3...
Executing (14215eea-e108-4bd2-acdc-1164ec990ae0): START TRANSACTION;
Executing (14215eea-e108-4bd2-acdc-1164ec990ae0): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '97adaba5-c378-4f7d-a2e9-a44f68e69083' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = '7b26b04e-a7fe-436c-bb3c-035a5e517c11.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '5c8b5618-c85b-4f0d-9710-95d9aa26f19e' LIMIT 1;
Executing (14215eea-e108-4bd2-acdc-1164ec990ae0): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_7f248df597944ba1be11b839b06e78ce$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('2a5ac363-fdf3-45d9-981a-7d622af086be','97adaba5-c378-4f7d-a2e9-a44f68e69083','5c8b5618-c85b-4f0d-9710-95d9aa26f19e','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','7b26b04e-a7fe-436c-bb3c-035a5e517c11.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:39:41.460 +00:00','2020-03-05 17:39:41.460 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_7f248df597944ba1be11b839b06e78ce$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (14215eea-e108-4bd2-acdc-1164ec990ae0): COMMIT;
{ fileUUID: '2a5ac363-fdf3-45d9-981a-7d622af086be',
  cnodeUserUUID: '97adaba5-c378-4f7d-a2e9-a44f68e69083',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: '7b26b04e-a7fe-436c-bb3c-035a5e517c11.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: '5c8b5618-c85b-4f0d-9710-95d9aa26f19e',
  updatedAt: 2020-03-05T17:39:41.460Z,
  createdAt: 2020-03-05T17:39:41.460Z }




PROCESSING ROW #162: sourcefile: 08a2b894-784f-42a1-b514-57e94335a399.mp3, cnodeUserUUID: 46c017cc-72d7-461b-aecd-e768d948c349, trackUUID: 7b31c8a0-bc84-4778-834a-927e048b0010, multihash: QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM, dstPath: /file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM
writing to db1...
Executing (ebb721fc-4227-49f4-a818-19e8526da8e6): START TRANSACTION;
Executing (ebb721fc-4227-49f4-a818-19e8526da8e6): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '46c017cc-72d7-461b-aecd-e768d948c349' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = '08a2b894-784f-42a1-b514-57e94335a399.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '7b31c8a0-bc84-4778-834a-927e048b0010' LIMIT 1;
Executing (ebb721fc-4227-49f4-a818-19e8526da8e6): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_af97eb67e9a642ab863a23082f7454b0$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('41bebc76-d76d-472c-b83c-a208eaf05327','46c017cc-72d7-461b-aecd-e768d948c349','7b31c8a0-bc84-4778-834a-927e048b0010','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','08a2b894-784f-42a1-b514-57e94335a399.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:39:41.851 +00:00','2020-03-05 17:39:41.851 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_af97eb67e9a642ab863a23082f7454b0$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (ebb721fc-4227-49f4-a818-19e8526da8e6): COMMIT;
{ fileUUID: '41bebc76-d76d-472c-b83c-a208eaf05327',
  cnodeUserUUID: '46c017cc-72d7-461b-aecd-e768d948c349',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: '08a2b894-784f-42a1-b514-57e94335a399.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: '7b31c8a0-bc84-4778-834a-927e048b0010',
  updatedAt: 2020-03-05T17:39:41.851Z,
  createdAt: 2020-03-05T17:39:41.851Z }
writing to db2...
Executing (916d6686-574e-4b62-b747-6c2f2306339f): START TRANSACTION;
Executing (916d6686-574e-4b62-b747-6c2f2306339f): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '46c017cc-72d7-461b-aecd-e768d948c349' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = '08a2b894-784f-42a1-b514-57e94335a399.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '7b31c8a0-bc84-4778-834a-927e048b0010' LIMIT 1;
Executing (916d6686-574e-4b62-b747-6c2f2306339f): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_d8c1f03240ba44ada32700bf65d93fcc$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('5550566e-dd72-4bc8-8b40-49bb012b59cb','46c017cc-72d7-461b-aecd-e768d948c349','7b31c8a0-bc84-4778-834a-927e048b0010','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','08a2b894-784f-42a1-b514-57e94335a399.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:39:42.232 +00:00','2020-03-05 17:39:42.232 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_d8c1f03240ba44ada32700bf65d93fcc$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (916d6686-574e-4b62-b747-6c2f2306339f): COMMIT;
{ fileUUID: '5550566e-dd72-4bc8-8b40-49bb012b59cb',
  cnodeUserUUID: '46c017cc-72d7-461b-aecd-e768d948c349',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: '08a2b894-784f-42a1-b514-57e94335a399.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: '7b31c8a0-bc84-4778-834a-927e048b0010',
  updatedAt: 2020-03-05T17:39:42.232Z,
  createdAt: 2020-03-05T17:39:42.232Z }
writing to db3...
Executing (80d4a6c5-ce65-429d-b303-8c2620cbdf4a): START TRANSACTION;
Executing (80d4a6c5-ce65-429d-b303-8c2620cbdf4a): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '46c017cc-72d7-461b-aecd-e768d948c349' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = '08a2b894-784f-42a1-b514-57e94335a399.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '7b31c8a0-bc84-4778-834a-927e048b0010' LIMIT 1;
Executing (80d4a6c5-ce65-429d-b303-8c2620cbdf4a): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_f616f78296e24eae9869392a861b6beb$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('e6cda36f-40a2-48d8-bdf9-467410c81455','46c017cc-72d7-461b-aecd-e768d948c349','7b31c8a0-bc84-4778-834a-927e048b0010','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','08a2b894-784f-42a1-b514-57e94335a399.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:39:42.634 +00:00','2020-03-05 17:39:42.634 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_f616f78296e24eae9869392a861b6beb$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (80d4a6c5-ce65-429d-b303-8c2620cbdf4a): COMMIT;
{ fileUUID: 'e6cda36f-40a2-48d8-bdf9-467410c81455',
  cnodeUserUUID: '46c017cc-72d7-461b-aecd-e768d948c349',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: '08a2b894-784f-42a1-b514-57e94335a399.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: '7b31c8a0-bc84-4778-834a-927e048b0010',
  updatedAt: 2020-03-05T17:39:42.634Z,
  createdAt: 2020-03-05T17:39:42.634Z }




PROCESSING ROW #163: sourcefile: 3ad68b7c-de8c-4923-96ea-1d3e750ca9e7.mp3, cnodeUserUUID: 11c34897-1946-4dfc-b59c-f646a1fc69fe, trackUUID: 7ef3643c-7b0a-43d6-af01-d3510a0b7e29, multihash: QmSYkpELZK1LJVMa3YH1y91ekfnQ1KqCGwbSmoGzURD1jX, dstPath: /file_storage/QmSYkpELZK1LJVMa3YH1y91ekfnQ1KqCGwbSmoGzURD1jX
writing to db1...
Executing (4802f9ae-0088-4ae6-a3f4-701149b1c8c2): START TRANSACTION;
Executing (4802f9ae-0088-4ae6-a3f4-701149b1c8c2): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '11c34897-1946-4dfc-b59c-f646a1fc69fe' AND "File"."multihash" = 'QmSYkpELZK1LJVMa3YH1y91ekfnQ1KqCGwbSmoGzURD1jX' AND "File"."sourceFile" = '3ad68b7c-de8c-4923-96ea-1d3e750ca9e7.mp3' AND "File"."storagePath" = '/file_storage/QmSYkpELZK1LJVMa3YH1y91ekfnQ1KqCGwbSmoGzURD1jX' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '7ef3643c-7b0a-43d6-af01-d3510a0b7e29' LIMIT 1;
Executing (4802f9ae-0088-4ae6-a3f4-701149b1c8c2): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_fed08a5466f842f7b689c7726daefac9$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('51a272cc-297e-4afc-b8ec-a615519bb3d3','11c34897-1946-4dfc-b59c-f646a1fc69fe','7ef3643c-7b0a-43d6-af01-d3510a0b7e29','QmSYkpELZK1LJVMa3YH1y91ekfnQ1KqCGwbSmoGzURD1jX','3ad68b7c-de8c-4923-96ea-1d3e750ca9e7.mp3','/file_storage/QmSYkpELZK1LJVMa3YH1y91ekfnQ1KqCGwbSmoGzURD1jX','copy320','2020-03-05 17:39:43.027 +00:00','2020-03-05 17:39:43.027 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_fed08a5466f842f7b689c7726daefac9$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (4802f9ae-0088-4ae6-a3f4-701149b1c8c2): COMMIT;
{ fileUUID: '51a272cc-297e-4afc-b8ec-a615519bb3d3',
  cnodeUserUUID: '11c34897-1946-4dfc-b59c-f646a1fc69fe',
  multihash: 'QmSYkpELZK1LJVMa3YH1y91ekfnQ1KqCGwbSmoGzURD1jX',
  sourceFile: '3ad68b7c-de8c-4923-96ea-1d3e750ca9e7.mp3',
  storagePath:
   '/file_storage/QmSYkpELZK1LJVMa3YH1y91ekfnQ1KqCGwbSmoGzURD1jX',
  type: 'copy320',
  trackUUID: '7ef3643c-7b0a-43d6-af01-d3510a0b7e29',
  updatedAt: 2020-03-05T17:39:43.027Z,
  createdAt: 2020-03-05T17:39:43.027Z }
writing to db2...
Executing (72f1c312-38b5-47dc-abe4-ec2bdf6b8c98): START TRANSACTION;
Executing (72f1c312-38b5-47dc-abe4-ec2bdf6b8c98): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '11c34897-1946-4dfc-b59c-f646a1fc69fe' AND "File"."multihash" = 'QmSYkpELZK1LJVMa3YH1y91ekfnQ1KqCGwbSmoGzURD1jX' AND "File"."sourceFile" = '3ad68b7c-de8c-4923-96ea-1d3e750ca9e7.mp3' AND "File"."storagePath" = '/file_storage/QmSYkpELZK1LJVMa3YH1y91ekfnQ1KqCGwbSmoGzURD1jX' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '7ef3643c-7b0a-43d6-af01-d3510a0b7e29' LIMIT 1;
Executing (72f1c312-38b5-47dc-abe4-ec2bdf6b8c98): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_43c150ed82d14a889e2f9f90b119e93d$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('d2c1ef2e-edb1-4cd5-8d4a-69b845e73a4b','11c34897-1946-4dfc-b59c-f646a1fc69fe','7ef3643c-7b0a-43d6-af01-d3510a0b7e29','QmSYkpELZK1LJVMa3YH1y91ekfnQ1KqCGwbSmoGzURD1jX','3ad68b7c-de8c-4923-96ea-1d3e750ca9e7.mp3','/file_storage/QmSYkpELZK1LJVMa3YH1y91ekfnQ1KqCGwbSmoGzURD1jX','copy320','2020-03-05 17:39:43.425 +00:00','2020-03-05 17:39:43.425 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_43c150ed82d14a889e2f9f90b119e93d$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (72f1c312-38b5-47dc-abe4-ec2bdf6b8c98): COMMIT;
{ fileUUID: 'd2c1ef2e-edb1-4cd5-8d4a-69b845e73a4b',
  cnodeUserUUID: '11c34897-1946-4dfc-b59c-f646a1fc69fe',
  multihash: 'QmSYkpELZK1LJVMa3YH1y91ekfnQ1KqCGwbSmoGzURD1jX',
  sourceFile: '3ad68b7c-de8c-4923-96ea-1d3e750ca9e7.mp3',
  storagePath:
   '/file_storage/QmSYkpELZK1LJVMa3YH1y91ekfnQ1KqCGwbSmoGzURD1jX',
  type: 'copy320',
  trackUUID: '7ef3643c-7b0a-43d6-af01-d3510a0b7e29',
  updatedAt: 2020-03-05T17:39:43.425Z,
  createdAt: 2020-03-05T17:39:43.425Z }
writing to db3...
Executing (24beb99e-fb7b-4c17-8d55-350aaebe4e89): START TRANSACTION;
Executing (24beb99e-fb7b-4c17-8d55-350aaebe4e89): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '11c34897-1946-4dfc-b59c-f646a1fc69fe' AND "File"."multihash" = 'QmSYkpELZK1LJVMa3YH1y91ekfnQ1KqCGwbSmoGzURD1jX' AND "File"."sourceFile" = '3ad68b7c-de8c-4923-96ea-1d3e750ca9e7.mp3' AND "File"."storagePath" = '/file_storage/QmSYkpELZK1LJVMa3YH1y91ekfnQ1KqCGwbSmoGzURD1jX' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '7ef3643c-7b0a-43d6-af01-d3510a0b7e29' LIMIT 1;
Executing (24beb99e-fb7b-4c17-8d55-350aaebe4e89): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_42400c3547804a45a4630216cbc3d27e$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('e7a3decc-f9d6-42f4-9cdb-33c0ec89d371','11c34897-1946-4dfc-b59c-f646a1fc69fe','7ef3643c-7b0a-43d6-af01-d3510a0b7e29','QmSYkpELZK1LJVMa3YH1y91ekfnQ1KqCGwbSmoGzURD1jX','3ad68b7c-de8c-4923-96ea-1d3e750ca9e7.mp3','/file_storage/QmSYkpELZK1LJVMa3YH1y91ekfnQ1KqCGwbSmoGzURD1jX','copy320','2020-03-05 17:39:43.821 +00:00','2020-03-05 17:39:43.821 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_42400c3547804a45a4630216cbc3d27e$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (24beb99e-fb7b-4c17-8d55-350aaebe4e89): COMMIT;
{ fileUUID: 'e7a3decc-f9d6-42f4-9cdb-33c0ec89d371',
  cnodeUserUUID: '11c34897-1946-4dfc-b59c-f646a1fc69fe',
  multihash: 'QmSYkpELZK1LJVMa3YH1y91ekfnQ1KqCGwbSmoGzURD1jX',
  sourceFile: '3ad68b7c-de8c-4923-96ea-1d3e750ca9e7.mp3',
  storagePath:
   '/file_storage/QmSYkpELZK1LJVMa3YH1y91ekfnQ1KqCGwbSmoGzURD1jX',
  type: 'copy320',
  trackUUID: '7ef3643c-7b0a-43d6-af01-d3510a0b7e29',
  updatedAt: 2020-03-05T17:39:43.821Z,
  createdAt: 2020-03-05T17:39:43.821Z }




PROCESSING ROW #164: sourcefile: e584ff58-b311-4ef9-867f-d6ee7965d865.mp3, cnodeUserUUID: 11c34897-1946-4dfc-b59c-f646a1fc69fe, trackUUID: bb827ec9-64b4-4645-98cc-a1162cb564c0, multihash: QmXTMas8qKPzL1XbWpueMAivSK4WhVCSxFWwq7hFmiYCbY, dstPath: /file_storage/QmXTMas8qKPzL1XbWpueMAivSK4WhVCSxFWwq7hFmiYCbY
writing to db1...
Executing (729d00c6-6cd1-4a1d-9638-b201f39d2d26): START TRANSACTION;
Executing (729d00c6-6cd1-4a1d-9638-b201f39d2d26): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '11c34897-1946-4dfc-b59c-f646a1fc69fe' AND "File"."multihash" = 'QmXTMas8qKPzL1XbWpueMAivSK4WhVCSxFWwq7hFmiYCbY' AND "File"."sourceFile" = 'e584ff58-b311-4ef9-867f-d6ee7965d865.mp3' AND "File"."storagePath" = '/file_storage/QmXTMas8qKPzL1XbWpueMAivSK4WhVCSxFWwq7hFmiYCbY' AND "File"."type" = 'copy320' AND "File"."trackUUID" = 'bb827ec9-64b4-4645-98cc-a1162cb564c0' LIMIT 1;
Executing (729d00c6-6cd1-4a1d-9638-b201f39d2d26): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_8f7ab13e4f3a49539ddf68b0db226231$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('f472bd2c-1303-40d9-8d97-219c94643426','11c34897-1946-4dfc-b59c-f646a1fc69fe','bb827ec9-64b4-4645-98cc-a1162cb564c0','QmXTMas8qKPzL1XbWpueMAivSK4WhVCSxFWwq7hFmiYCbY','e584ff58-b311-4ef9-867f-d6ee7965d865.mp3','/file_storage/QmXTMas8qKPzL1XbWpueMAivSK4WhVCSxFWwq7hFmiYCbY','copy320','2020-03-05 17:39:44.215 +00:00','2020-03-05 17:39:44.215 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_8f7ab13e4f3a49539ddf68b0db226231$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (729d00c6-6cd1-4a1d-9638-b201f39d2d26): COMMIT;
{ fileUUID: 'f472bd2c-1303-40d9-8d97-219c94643426',
  cnodeUserUUID: '11c34897-1946-4dfc-b59c-f646a1fc69fe',
  multihash: 'QmXTMas8qKPzL1XbWpueMAivSK4WhVCSxFWwq7hFmiYCbY',
  sourceFile: 'e584ff58-b311-4ef9-867f-d6ee7965d865.mp3',
  storagePath:
   '/file_storage/QmXTMas8qKPzL1XbWpueMAivSK4WhVCSxFWwq7hFmiYCbY',
  type: 'copy320',
  trackUUID: 'bb827ec9-64b4-4645-98cc-a1162cb564c0',
  updatedAt: 2020-03-05T17:39:44.215Z,
  createdAt: 2020-03-05T17:39:44.215Z }
writing to db2...
Executing (e8143969-b972-46ca-a52a-dc77bb5c85bb): START TRANSACTION;
Executing (e8143969-b972-46ca-a52a-dc77bb5c85bb): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '11c34897-1946-4dfc-b59c-f646a1fc69fe' AND "File"."multihash" = 'QmXTMas8qKPzL1XbWpueMAivSK4WhVCSxFWwq7hFmiYCbY' AND "File"."sourceFile" = 'e584ff58-b311-4ef9-867f-d6ee7965d865.mp3' AND "File"."storagePath" = '/file_storage/QmXTMas8qKPzL1XbWpueMAivSK4WhVCSxFWwq7hFmiYCbY' AND "File"."type" = 'copy320' AND "File"."trackUUID" = 'bb827ec9-64b4-4645-98cc-a1162cb564c0' LIMIT 1;
Executing (e8143969-b972-46ca-a52a-dc77bb5c85bb): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_9707771ac0c24e2e883e80ee2bd71724$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('b484edfe-c4c2-4d94-ad4a-19de4428fce7','11c34897-1946-4dfc-b59c-f646a1fc69fe','bb827ec9-64b4-4645-98cc-a1162cb564c0','QmXTMas8qKPzL1XbWpueMAivSK4WhVCSxFWwq7hFmiYCbY','e584ff58-b311-4ef9-867f-d6ee7965d865.mp3','/file_storage/QmXTMas8qKPzL1XbWpueMAivSK4WhVCSxFWwq7hFmiYCbY','copy320','2020-03-05 17:39:44.611 +00:00','2020-03-05 17:39:44.611 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_9707771ac0c24e2e883e80ee2bd71724$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (e8143969-b972-46ca-a52a-dc77bb5c85bb): COMMIT;
{ fileUUID: 'b484edfe-c4c2-4d94-ad4a-19de4428fce7',
  cnodeUserUUID: '11c34897-1946-4dfc-b59c-f646a1fc69fe',
  multihash: 'QmXTMas8qKPzL1XbWpueMAivSK4WhVCSxFWwq7hFmiYCbY',
  sourceFile: 'e584ff58-b311-4ef9-867f-d6ee7965d865.mp3',
  storagePath:
   '/file_storage/QmXTMas8qKPzL1XbWpueMAivSK4WhVCSxFWwq7hFmiYCbY',
  type: 'copy320',
  trackUUID: 'bb827ec9-64b4-4645-98cc-a1162cb564c0',
  updatedAt: 2020-03-05T17:39:44.611Z,
  createdAt: 2020-03-05T17:39:44.611Z }
writing to db3...
Executing (5f08aac3-084d-446e-90d5-472dc5b82c78): START TRANSACTION;
Executing (5f08aac3-084d-446e-90d5-472dc5b82c78): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '11c34897-1946-4dfc-b59c-f646a1fc69fe' AND "File"."multihash" = 'QmXTMas8qKPzL1XbWpueMAivSK4WhVCSxFWwq7hFmiYCbY' AND "File"."sourceFile" = 'e584ff58-b311-4ef9-867f-d6ee7965d865.mp3' AND "File"."storagePath" = '/file_storage/QmXTMas8qKPzL1XbWpueMAivSK4WhVCSxFWwq7hFmiYCbY' AND "File"."type" = 'copy320' AND "File"."trackUUID" = 'bb827ec9-64b4-4645-98cc-a1162cb564c0' LIMIT 1;
Executing (5f08aac3-084d-446e-90d5-472dc5b82c78): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_1afcfd0963b0439688eb7c77559a4c50$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('f3095f13-35f7-44bc-a508-480a6e60152b','11c34897-1946-4dfc-b59c-f646a1fc69fe','bb827ec9-64b4-4645-98cc-a1162cb564c0','QmXTMas8qKPzL1XbWpueMAivSK4WhVCSxFWwq7hFmiYCbY','e584ff58-b311-4ef9-867f-d6ee7965d865.mp3','/file_storage/QmXTMas8qKPzL1XbWpueMAivSK4WhVCSxFWwq7hFmiYCbY','copy320','2020-03-05 17:39:45.012 +00:00','2020-03-05 17:39:45.012 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_1afcfd0963b0439688eb7c77559a4c50$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (5f08aac3-084d-446e-90d5-472dc5b82c78): COMMIT;
{ fileUUID: 'f3095f13-35f7-44bc-a508-480a6e60152b',
  cnodeUserUUID: '11c34897-1946-4dfc-b59c-f646a1fc69fe',
  multihash: 'QmXTMas8qKPzL1XbWpueMAivSK4WhVCSxFWwq7hFmiYCbY',
  sourceFile: 'e584ff58-b311-4ef9-867f-d6ee7965d865.mp3',
  storagePath:
   '/file_storage/QmXTMas8qKPzL1XbWpueMAivSK4WhVCSxFWwq7hFmiYCbY',
  type: 'copy320',
  trackUUID: 'bb827ec9-64b4-4645-98cc-a1162cb564c0',
  updatedAt: 2020-03-05T17:39:45.012Z,
  createdAt: 2020-03-05T17:39:45.012Z }




PROCESSING ROW #165: sourcefile: f5b20b5e-42a9-4e04-8460-70737581a209.mp3, cnodeUserUUID: e2eb9bb7-2696-4052-a3f5-b036f8c3536a, trackUUID: 9060bb65-d2ea-4764-859e-f6beb347e30e, multihash: QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM, dstPath: /file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM
writing to db1...
Executing (669b932e-4409-4619-b8eb-268f374d8ce8): START TRANSACTION;
Executing (669b932e-4409-4619-b8eb-268f374d8ce8): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = 'e2eb9bb7-2696-4052-a3f5-b036f8c3536a' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = 'f5b20b5e-42a9-4e04-8460-70737581a209.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '9060bb65-d2ea-4764-859e-f6beb347e30e' LIMIT 1;
Executing (669b932e-4409-4619-b8eb-268f374d8ce8): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_ebc22b43efd7459cbecae5c90df87787$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('5fb76492-2d49-41f2-943c-87d6aef970ab','e2eb9bb7-2696-4052-a3f5-b036f8c3536a','9060bb65-d2ea-4764-859e-f6beb347e30e','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','f5b20b5e-42a9-4e04-8460-70737581a209.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:39:45.404 +00:00','2020-03-05 17:39:45.404 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_ebc22b43efd7459cbecae5c90df87787$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (669b932e-4409-4619-b8eb-268f374d8ce8): COMMIT;
{ fileUUID: '5fb76492-2d49-41f2-943c-87d6aef970ab',
  cnodeUserUUID: 'e2eb9bb7-2696-4052-a3f5-b036f8c3536a',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: 'f5b20b5e-42a9-4e04-8460-70737581a209.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: '9060bb65-d2ea-4764-859e-f6beb347e30e',
  updatedAt: 2020-03-05T17:39:45.404Z,
  createdAt: 2020-03-05T17:39:45.404Z }
writing to db2...
Executing (e9dd193c-b2cb-45c1-8efe-9f806f9f4b08): START TRANSACTION;
Executing (e9dd193c-b2cb-45c1-8efe-9f806f9f4b08): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = 'e2eb9bb7-2696-4052-a3f5-b036f8c3536a' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = 'f5b20b5e-42a9-4e04-8460-70737581a209.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '9060bb65-d2ea-4764-859e-f6beb347e30e' LIMIT 1;
Executing (e9dd193c-b2cb-45c1-8efe-9f806f9f4b08): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_4a7325f89cc043188442fd367a8792fd$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('6cd3b1df-d1f9-4714-8b9e-de774bf61877','e2eb9bb7-2696-4052-a3f5-b036f8c3536a','9060bb65-d2ea-4764-859e-f6beb347e30e','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','f5b20b5e-42a9-4e04-8460-70737581a209.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:39:45.790 +00:00','2020-03-05 17:39:45.790 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_4a7325f89cc043188442fd367a8792fd$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (e9dd193c-b2cb-45c1-8efe-9f806f9f4b08): COMMIT;
{ fileUUID: '6cd3b1df-d1f9-4714-8b9e-de774bf61877',
  cnodeUserUUID: 'e2eb9bb7-2696-4052-a3f5-b036f8c3536a',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: 'f5b20b5e-42a9-4e04-8460-70737581a209.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: '9060bb65-d2ea-4764-859e-f6beb347e30e',
  updatedAt: 2020-03-05T17:39:45.790Z,
  createdAt: 2020-03-05T17:39:45.790Z }
writing to db3...
Executing (7cd95075-e568-41ce-8c56-e8e21c05401d): START TRANSACTION;
Executing (7cd95075-e568-41ce-8c56-e8e21c05401d): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = 'e2eb9bb7-2696-4052-a3f5-b036f8c3536a' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = 'f5b20b5e-42a9-4e04-8460-70737581a209.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '9060bb65-d2ea-4764-859e-f6beb347e30e' LIMIT 1;
Executing (7cd95075-e568-41ce-8c56-e8e21c05401d): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_c64947c98a45449f96d9468afb4a5b00$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('d99e2fd8-f0c3-4bc0-a48f-37c047d5a46e','e2eb9bb7-2696-4052-a3f5-b036f8c3536a','9060bb65-d2ea-4764-859e-f6beb347e30e','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','f5b20b5e-42a9-4e04-8460-70737581a209.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:39:46.184 +00:00','2020-03-05 17:39:46.184 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_c64947c98a45449f96d9468afb4a5b00$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (7cd95075-e568-41ce-8c56-e8e21c05401d): COMMIT;
{ fileUUID: 'd99e2fd8-f0c3-4bc0-a48f-37c047d5a46e',
  cnodeUserUUID: 'e2eb9bb7-2696-4052-a3f5-b036f8c3536a',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: 'f5b20b5e-42a9-4e04-8460-70737581a209.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: '9060bb65-d2ea-4764-859e-f6beb347e30e',
  updatedAt: 2020-03-05T17:39:46.184Z,
  createdAt: 2020-03-05T17:39:46.184Z }




PROCESSING ROW #166: sourcefile: c0321fbe-b3a8-44b8-ac30-79dc332ee076.mp3, cnodeUserUUID: 11c34897-1946-4dfc-b59c-f646a1fc69fe, trackUUID: d121f825-2e10-46cd-a226-eaedddb23d2b, multihash: QmPtceLwK68dssgAAdE7biVhWg9AyUg9VtWSrWWwMJP6XP, dstPath: /file_storage/QmPtceLwK68dssgAAdE7biVhWg9AyUg9VtWSrWWwMJP6XP
writing to db1...
Executing (8fd5a497-5320-48d1-91cf-0da841c79a69): START TRANSACTION;
Executing (8fd5a497-5320-48d1-91cf-0da841c79a69): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '11c34897-1946-4dfc-b59c-f646a1fc69fe' AND "File"."multihash" = 'QmPtceLwK68dssgAAdE7biVhWg9AyUg9VtWSrWWwMJP6XP' AND "File"."sourceFile" = 'c0321fbe-b3a8-44b8-ac30-79dc332ee076.mp3' AND "File"."storagePath" = '/file_storage/QmPtceLwK68dssgAAdE7biVhWg9AyUg9VtWSrWWwMJP6XP' AND "File"."type" = 'copy320' AND "File"."trackUUID" = 'd121f825-2e10-46cd-a226-eaedddb23d2b' LIMIT 1;
Executing (8fd5a497-5320-48d1-91cf-0da841c79a69): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_89ce46cbad974ec4a91d897252b5332d$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('a4e2dd32-fd0d-4475-b7b9-c977a2516526','11c34897-1946-4dfc-b59c-f646a1fc69fe','d121f825-2e10-46cd-a226-eaedddb23d2b','QmPtceLwK68dssgAAdE7biVhWg9AyUg9VtWSrWWwMJP6XP','c0321fbe-b3a8-44b8-ac30-79dc332ee076.mp3','/file_storage/QmPtceLwK68dssgAAdE7biVhWg9AyUg9VtWSrWWwMJP6XP','copy320','2020-03-05 17:39:46.561 +00:00','2020-03-05 17:39:46.561 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_89ce46cbad974ec4a91d897252b5332d$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (8fd5a497-5320-48d1-91cf-0da841c79a69): COMMIT;
{ fileUUID: 'a4e2dd32-fd0d-4475-b7b9-c977a2516526',
  cnodeUserUUID: '11c34897-1946-4dfc-b59c-f646a1fc69fe',
  multihash: 'QmPtceLwK68dssgAAdE7biVhWg9AyUg9VtWSrWWwMJP6XP',
  sourceFile: 'c0321fbe-b3a8-44b8-ac30-79dc332ee076.mp3',
  storagePath:
   '/file_storage/QmPtceLwK68dssgAAdE7biVhWg9AyUg9VtWSrWWwMJP6XP',
  type: 'copy320',
  trackUUID: 'd121f825-2e10-46cd-a226-eaedddb23d2b',
  updatedAt: 2020-03-05T17:39:46.561Z,
  createdAt: 2020-03-05T17:39:46.561Z }
writing to db2...
Executing (77a61f7f-b894-44aa-9352-b94ac2491341): START TRANSACTION;
Executing (77a61f7f-b894-44aa-9352-b94ac2491341): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '11c34897-1946-4dfc-b59c-f646a1fc69fe' AND "File"."multihash" = 'QmPtceLwK68dssgAAdE7biVhWg9AyUg9VtWSrWWwMJP6XP' AND "File"."sourceFile" = 'c0321fbe-b3a8-44b8-ac30-79dc332ee076.mp3' AND "File"."storagePath" = '/file_storage/QmPtceLwK68dssgAAdE7biVhWg9AyUg9VtWSrWWwMJP6XP' AND "File"."type" = 'copy320' AND "File"."trackUUID" = 'd121f825-2e10-46cd-a226-eaedddb23d2b' LIMIT 1;
Executing (77a61f7f-b894-44aa-9352-b94ac2491341): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_9629c1b9819f4d98b294052735b8f834$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('e449ab33-c13c-4140-9f08-e228c6c4b3b3','11c34897-1946-4dfc-b59c-f646a1fc69fe','d121f825-2e10-46cd-a226-eaedddb23d2b','QmPtceLwK68dssgAAdE7biVhWg9AyUg9VtWSrWWwMJP6XP','c0321fbe-b3a8-44b8-ac30-79dc332ee076.mp3','/file_storage/QmPtceLwK68dssgAAdE7biVhWg9AyUg9VtWSrWWwMJP6XP','copy320','2020-03-05 17:39:46.945 +00:00','2020-03-05 17:39:46.945 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_9629c1b9819f4d98b294052735b8f834$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (77a61f7f-b894-44aa-9352-b94ac2491341): COMMIT;
{ fileUUID: 'e449ab33-c13c-4140-9f08-e228c6c4b3b3',
  cnodeUserUUID: '11c34897-1946-4dfc-b59c-f646a1fc69fe',
  multihash: 'QmPtceLwK68dssgAAdE7biVhWg9AyUg9VtWSrWWwMJP6XP',
  sourceFile: 'c0321fbe-b3a8-44b8-ac30-79dc332ee076.mp3',
  storagePath:
   '/file_storage/QmPtceLwK68dssgAAdE7biVhWg9AyUg9VtWSrWWwMJP6XP',
  type: 'copy320',
  trackUUID: 'd121f825-2e10-46cd-a226-eaedddb23d2b',
  updatedAt: 2020-03-05T17:39:46.945Z,
  createdAt: 2020-03-05T17:39:46.945Z }
writing to db3...
Executing (794d8a92-1827-4d6e-98ae-de97aae51fd7): START TRANSACTION;
Executing (794d8a92-1827-4d6e-98ae-de97aae51fd7): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '11c34897-1946-4dfc-b59c-f646a1fc69fe' AND "File"."multihash" = 'QmPtceLwK68dssgAAdE7biVhWg9AyUg9VtWSrWWwMJP6XP' AND "File"."sourceFile" = 'c0321fbe-b3a8-44b8-ac30-79dc332ee076.mp3' AND "File"."storagePath" = '/file_storage/QmPtceLwK68dssgAAdE7biVhWg9AyUg9VtWSrWWwMJP6XP' AND "File"."type" = 'copy320' AND "File"."trackUUID" = 'd121f825-2e10-46cd-a226-eaedddb23d2b' LIMIT 1;
Executing (794d8a92-1827-4d6e-98ae-de97aae51fd7): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_1d049796164b4c4ba6937a0d40c6dd2b$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('e095d518-695e-42d4-a2a9-0b54dec7a3ea','11c34897-1946-4dfc-b59c-f646a1fc69fe','d121f825-2e10-46cd-a226-eaedddb23d2b','QmPtceLwK68dssgAAdE7biVhWg9AyUg9VtWSrWWwMJP6XP','c0321fbe-b3a8-44b8-ac30-79dc332ee076.mp3','/file_storage/QmPtceLwK68dssgAAdE7biVhWg9AyUg9VtWSrWWwMJP6XP','copy320','2020-03-05 17:39:47.344 +00:00','2020-03-05 17:39:47.344 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_1d049796164b4c4ba6937a0d40c6dd2b$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (794d8a92-1827-4d6e-98ae-de97aae51fd7): COMMIT;
{ fileUUID: 'e095d518-695e-42d4-a2a9-0b54dec7a3ea',
  cnodeUserUUID: '11c34897-1946-4dfc-b59c-f646a1fc69fe',
  multihash: 'QmPtceLwK68dssgAAdE7biVhWg9AyUg9VtWSrWWwMJP6XP',
  sourceFile: 'c0321fbe-b3a8-44b8-ac30-79dc332ee076.mp3',
  storagePath:
   '/file_storage/QmPtceLwK68dssgAAdE7biVhWg9AyUg9VtWSrWWwMJP6XP',
  type: 'copy320',
  trackUUID: 'd121f825-2e10-46cd-a226-eaedddb23d2b',
  updatedAt: 2020-03-05T17:39:47.344Z,
  createdAt: 2020-03-05T17:39:47.344Z }




PROCESSING ROW #167: sourcefile: 2c696483-f5a3-4296-9a30-3e8d8818be02.mp3, cnodeUserUUID: 899a88df-cf31-4899-90a1-5b5cf7fff45e, trackUUID: dc06ebe5-3bab-4ac1-a38a-7a10120547e4, multihash: QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM, dstPath: /file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM
writing to db1...
Executing (987b66f4-aad2-4742-8442-01069433b9d5): START TRANSACTION;
Executing (987b66f4-aad2-4742-8442-01069433b9d5): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '899a88df-cf31-4899-90a1-5b5cf7fff45e' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = '2c696483-f5a3-4296-9a30-3e8d8818be02.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = 'dc06ebe5-3bab-4ac1-a38a-7a10120547e4' LIMIT 1;
Executing (987b66f4-aad2-4742-8442-01069433b9d5): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_e2246e54f5364e53a9066297a2fa287c$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('7e03aa3c-406b-4e03-9b19-c2b0a7cc6a97','899a88df-cf31-4899-90a1-5b5cf7fff45e','dc06ebe5-3bab-4ac1-a38a-7a10120547e4','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','2c696483-f5a3-4296-9a30-3e8d8818be02.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:39:47.768 +00:00','2020-03-05 17:39:47.768 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_e2246e54f5364e53a9066297a2fa287c$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (987b66f4-aad2-4742-8442-01069433b9d5): COMMIT;
{ fileUUID: '7e03aa3c-406b-4e03-9b19-c2b0a7cc6a97',
  cnodeUserUUID: '899a88df-cf31-4899-90a1-5b5cf7fff45e',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: '2c696483-f5a3-4296-9a30-3e8d8818be02.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: 'dc06ebe5-3bab-4ac1-a38a-7a10120547e4',
  updatedAt: 2020-03-05T17:39:47.768Z,
  createdAt: 2020-03-05T17:39:47.768Z }
writing to db2...
Executing (500dec49-4471-4358-8279-6a03d03a9b2d): START TRANSACTION;
Executing (500dec49-4471-4358-8279-6a03d03a9b2d): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '899a88df-cf31-4899-90a1-5b5cf7fff45e' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = '2c696483-f5a3-4296-9a30-3e8d8818be02.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = 'dc06ebe5-3bab-4ac1-a38a-7a10120547e4' LIMIT 1;
Executing (500dec49-4471-4358-8279-6a03d03a9b2d): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_2a17eff7da8b4769a0f4a03b582dfaf8$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('b12a39b3-c812-416a-b48a-d880346872f8','899a88df-cf31-4899-90a1-5b5cf7fff45e','dc06ebe5-3bab-4ac1-a38a-7a10120547e4','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','2c696483-f5a3-4296-9a30-3e8d8818be02.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:39:48.178 +00:00','2020-03-05 17:39:48.178 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_2a17eff7da8b4769a0f4a03b582dfaf8$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (500dec49-4471-4358-8279-6a03d03a9b2d): COMMIT;
{ fileUUID: 'b12a39b3-c812-416a-b48a-d880346872f8',
  cnodeUserUUID: '899a88df-cf31-4899-90a1-5b5cf7fff45e',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: '2c696483-f5a3-4296-9a30-3e8d8818be02.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: 'dc06ebe5-3bab-4ac1-a38a-7a10120547e4',
  updatedAt: 2020-03-05T17:39:48.178Z,
  createdAt: 2020-03-05T17:39:48.178Z }
writing to db3...
Executing (a41290de-6cb8-4083-a48c-702e0d8326cd): START TRANSACTION;
Executing (a41290de-6cb8-4083-a48c-702e0d8326cd): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '899a88df-cf31-4899-90a1-5b5cf7fff45e' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = '2c696483-f5a3-4296-9a30-3e8d8818be02.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = 'dc06ebe5-3bab-4ac1-a38a-7a10120547e4' LIMIT 1;
Executing (a41290de-6cb8-4083-a48c-702e0d8326cd): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_c958cbe8fcbd493fa2658a90fdc3a276$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('1162333f-2108-4c35-b41b-d58758597ab0','899a88df-cf31-4899-90a1-5b5cf7fff45e','dc06ebe5-3bab-4ac1-a38a-7a10120547e4','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','2c696483-f5a3-4296-9a30-3e8d8818be02.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:39:48.574 +00:00','2020-03-05 17:39:48.574 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_c958cbe8fcbd493fa2658a90fdc3a276$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (a41290de-6cb8-4083-a48c-702e0d8326cd): COMMIT;
{ fileUUID: '1162333f-2108-4c35-b41b-d58758597ab0',
  cnodeUserUUID: '899a88df-cf31-4899-90a1-5b5cf7fff45e',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: '2c696483-f5a3-4296-9a30-3e8d8818be02.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: 'dc06ebe5-3bab-4ac1-a38a-7a10120547e4',
  updatedAt: 2020-03-05T17:39:48.574Z,
  createdAt: 2020-03-05T17:39:48.574Z }




PROCESSING ROW #168: sourcefile: f452b97f-74ff-4083-b071-12817dee5542.mp3, cnodeUserUUID: 11c34897-1946-4dfc-b59c-f646a1fc69fe, trackUUID: d3d26a31-3224-425b-830b-286f32054b61, multihash: QmVgufGaR3pt11oiKhHne8qPegzAQaPWXDZUkS5uA3YX5B, dstPath: /file_storage/QmVgufGaR3pt11oiKhHne8qPegzAQaPWXDZUkS5uA3YX5B
writing to db1...
Executing (78c6bf50-819b-4c05-af59-03ab259db097): START TRANSACTION;
Executing (78c6bf50-819b-4c05-af59-03ab259db097): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '11c34897-1946-4dfc-b59c-f646a1fc69fe' AND "File"."multihash" = 'QmVgufGaR3pt11oiKhHne8qPegzAQaPWXDZUkS5uA3YX5B' AND "File"."sourceFile" = 'f452b97f-74ff-4083-b071-12817dee5542.mp3' AND "File"."storagePath" = '/file_storage/QmVgufGaR3pt11oiKhHne8qPegzAQaPWXDZUkS5uA3YX5B' AND "File"."type" = 'copy320' AND "File"."trackUUID" = 'd3d26a31-3224-425b-830b-286f32054b61' LIMIT 1;
Executing (78c6bf50-819b-4c05-af59-03ab259db097): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_15b5cb74c2de419eae8a85ac0a0a5e09$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('843ff36b-7d5a-440e-9408-91a06a5e8772','11c34897-1946-4dfc-b59c-f646a1fc69fe','d3d26a31-3224-425b-830b-286f32054b61','QmVgufGaR3pt11oiKhHne8qPegzAQaPWXDZUkS5uA3YX5B','f452b97f-74ff-4083-b071-12817dee5542.mp3','/file_storage/QmVgufGaR3pt11oiKhHne8qPegzAQaPWXDZUkS5uA3YX5B','copy320','2020-03-05 17:39:48.962 +00:00','2020-03-05 17:39:48.962 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_15b5cb74c2de419eae8a85ac0a0a5e09$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (78c6bf50-819b-4c05-af59-03ab259db097): COMMIT;
{ fileUUID: '843ff36b-7d5a-440e-9408-91a06a5e8772',
  cnodeUserUUID: '11c34897-1946-4dfc-b59c-f646a1fc69fe',
  multihash: 'QmVgufGaR3pt11oiKhHne8qPegzAQaPWXDZUkS5uA3YX5B',
  sourceFile: 'f452b97f-74ff-4083-b071-12817dee5542.mp3',
  storagePath:
   '/file_storage/QmVgufGaR3pt11oiKhHne8qPegzAQaPWXDZUkS5uA3YX5B',
  type: 'copy320',
  trackUUID: 'd3d26a31-3224-425b-830b-286f32054b61',
  updatedAt: 2020-03-05T17:39:48.962Z,
  createdAt: 2020-03-05T17:39:48.962Z }
writing to db2...
Executing (cd33c7de-7188-4c8b-ac23-656cf320f898): START TRANSACTION;
Executing (cd33c7de-7188-4c8b-ac23-656cf320f898): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '11c34897-1946-4dfc-b59c-f646a1fc69fe' AND "File"."multihash" = 'QmVgufGaR3pt11oiKhHne8qPegzAQaPWXDZUkS5uA3YX5B' AND "File"."sourceFile" = 'f452b97f-74ff-4083-b071-12817dee5542.mp3' AND "File"."storagePath" = '/file_storage/QmVgufGaR3pt11oiKhHne8qPegzAQaPWXDZUkS5uA3YX5B' AND "File"."type" = 'copy320' AND "File"."trackUUID" = 'd3d26a31-3224-425b-830b-286f32054b61' LIMIT 1;
Executing (cd33c7de-7188-4c8b-ac23-656cf320f898): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_0c070c61b4944a4abd06dbb1005fbbc5$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('b02bf71a-e54d-46f2-aa9b-7fc4d8125cee','11c34897-1946-4dfc-b59c-f646a1fc69fe','d3d26a31-3224-425b-830b-286f32054b61','QmVgufGaR3pt11oiKhHne8qPegzAQaPWXDZUkS5uA3YX5B','f452b97f-74ff-4083-b071-12817dee5542.mp3','/file_storage/QmVgufGaR3pt11oiKhHne8qPegzAQaPWXDZUkS5uA3YX5B','copy320','2020-03-05 17:39:49.351 +00:00','2020-03-05 17:39:49.351 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_0c070c61b4944a4abd06dbb1005fbbc5$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (cd33c7de-7188-4c8b-ac23-656cf320f898): COMMIT;
{ fileUUID: 'b02bf71a-e54d-46f2-aa9b-7fc4d8125cee',
  cnodeUserUUID: '11c34897-1946-4dfc-b59c-f646a1fc69fe',
  multihash: 'QmVgufGaR3pt11oiKhHne8qPegzAQaPWXDZUkS5uA3YX5B',
  sourceFile: 'f452b97f-74ff-4083-b071-12817dee5542.mp3',
  storagePath:
   '/file_storage/QmVgufGaR3pt11oiKhHne8qPegzAQaPWXDZUkS5uA3YX5B',
  type: 'copy320',
  trackUUID: 'd3d26a31-3224-425b-830b-286f32054b61',
  updatedAt: 2020-03-05T17:39:49.351Z,
  createdAt: 2020-03-05T17:39:49.351Z }
writing to db3...
Executing (1f7de002-1084-4d80-b500-33be0bded71d): START TRANSACTION;
Executing (1f7de002-1084-4d80-b500-33be0bded71d): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '11c34897-1946-4dfc-b59c-f646a1fc69fe' AND "File"."multihash" = 'QmVgufGaR3pt11oiKhHne8qPegzAQaPWXDZUkS5uA3YX5B' AND "File"."sourceFile" = 'f452b97f-74ff-4083-b071-12817dee5542.mp3' AND "File"."storagePath" = '/file_storage/QmVgufGaR3pt11oiKhHne8qPegzAQaPWXDZUkS5uA3YX5B' AND "File"."type" = 'copy320' AND "File"."trackUUID" = 'd3d26a31-3224-425b-830b-286f32054b61' LIMIT 1;
Executing (1f7de002-1084-4d80-b500-33be0bded71d): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_1db1acc605e842b887c268c157316d4a$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('9b633f7c-05e2-408b-893b-ebe330494606','11c34897-1946-4dfc-b59c-f646a1fc69fe','d3d26a31-3224-425b-830b-286f32054b61','QmVgufGaR3pt11oiKhHne8qPegzAQaPWXDZUkS5uA3YX5B','f452b97f-74ff-4083-b071-12817dee5542.mp3','/file_storage/QmVgufGaR3pt11oiKhHne8qPegzAQaPWXDZUkS5uA3YX5B','copy320','2020-03-05 17:39:49.735 +00:00','2020-03-05 17:39:49.735 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_1db1acc605e842b887c268c157316d4a$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (1f7de002-1084-4d80-b500-33be0bded71d): COMMIT;
{ fileUUID: '9b633f7c-05e2-408b-893b-ebe330494606',
  cnodeUserUUID: '11c34897-1946-4dfc-b59c-f646a1fc69fe',
  multihash: 'QmVgufGaR3pt11oiKhHne8qPegzAQaPWXDZUkS5uA3YX5B',
  sourceFile: 'f452b97f-74ff-4083-b071-12817dee5542.mp3',
  storagePath:
   '/file_storage/QmVgufGaR3pt11oiKhHne8qPegzAQaPWXDZUkS5uA3YX5B',
  type: 'copy320',
  trackUUID: 'd3d26a31-3224-425b-830b-286f32054b61',
  updatedAt: 2020-03-05T17:39:49.735Z,
  createdAt: 2020-03-05T17:39:49.735Z }




PROCESSING ROW #169: sourcefile: 82984abf-a1e3-4bc9-813b-e5cd108910b9.mp3, cnodeUserUUID: 11c34897-1946-4dfc-b59c-f646a1fc69fe, trackUUID: 086106b1-4036-4f20-888a-e16ccb759ec3, multihash: QmZcCa8edPjyEUfVTYmGua8HcEPmp6E4PpgKLx9ksVSznr, dstPath: /file_storage/QmZcCa8edPjyEUfVTYmGua8HcEPmp6E4PpgKLx9ksVSznr
writing to db1...
Executing (a8f6c6ca-ce28-4701-ba8a-38f01b990470): START TRANSACTION;
Executing (a8f6c6ca-ce28-4701-ba8a-38f01b990470): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '11c34897-1946-4dfc-b59c-f646a1fc69fe' AND "File"."multihash" = 'QmZcCa8edPjyEUfVTYmGua8HcEPmp6E4PpgKLx9ksVSznr' AND "File"."sourceFile" = '82984abf-a1e3-4bc9-813b-e5cd108910b9.mp3' AND "File"."storagePath" = '/file_storage/QmZcCa8edPjyEUfVTYmGua8HcEPmp6E4PpgKLx9ksVSznr' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '086106b1-4036-4f20-888a-e16ccb759ec3' LIMIT 1;
Executing (a8f6c6ca-ce28-4701-ba8a-38f01b990470): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_b388c2726a994c6f95eb59cd51220aae$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('cfaf2c10-299a-4c92-bd66-ca3120202d15','11c34897-1946-4dfc-b59c-f646a1fc69fe','086106b1-4036-4f20-888a-e16ccb759ec3','QmZcCa8edPjyEUfVTYmGua8HcEPmp6E4PpgKLx9ksVSznr','82984abf-a1e3-4bc9-813b-e5cd108910b9.mp3','/file_storage/QmZcCa8edPjyEUfVTYmGua8HcEPmp6E4PpgKLx9ksVSznr','copy320','2020-03-05 17:39:50.120 +00:00','2020-03-05 17:39:50.120 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_b388c2726a994c6f95eb59cd51220aae$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (a8f6c6ca-ce28-4701-ba8a-38f01b990470): COMMIT;
{ fileUUID: 'cfaf2c10-299a-4c92-bd66-ca3120202d15',
  cnodeUserUUID: '11c34897-1946-4dfc-b59c-f646a1fc69fe',
  multihash: 'QmZcCa8edPjyEUfVTYmGua8HcEPmp6E4PpgKLx9ksVSznr',
  sourceFile: '82984abf-a1e3-4bc9-813b-e5cd108910b9.mp3',
  storagePath:
   '/file_storage/QmZcCa8edPjyEUfVTYmGua8HcEPmp6E4PpgKLx9ksVSznr',
  type: 'copy320',
  trackUUID: '086106b1-4036-4f20-888a-e16ccb759ec3',
  updatedAt: 2020-03-05T17:39:50.120Z,
  createdAt: 2020-03-05T17:39:50.120Z }
writing to db2...
Executing (46353418-0d1b-4adf-9a23-1a91cfd4182c): START TRANSACTION;
Executing (46353418-0d1b-4adf-9a23-1a91cfd4182c): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '11c34897-1946-4dfc-b59c-f646a1fc69fe' AND "File"."multihash" = 'QmZcCa8edPjyEUfVTYmGua8HcEPmp6E4PpgKLx9ksVSznr' AND "File"."sourceFile" = '82984abf-a1e3-4bc9-813b-e5cd108910b9.mp3' AND "File"."storagePath" = '/file_storage/QmZcCa8edPjyEUfVTYmGua8HcEPmp6E4PpgKLx9ksVSznr' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '086106b1-4036-4f20-888a-e16ccb759ec3' LIMIT 1;
Executing (46353418-0d1b-4adf-9a23-1a91cfd4182c): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_0d3ec0ede7754cd495dd7815c9ff1576$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('56df9c99-358e-4375-93de-81eda769065e','11c34897-1946-4dfc-b59c-f646a1fc69fe','086106b1-4036-4f20-888a-e16ccb759ec3','QmZcCa8edPjyEUfVTYmGua8HcEPmp6E4PpgKLx9ksVSznr','82984abf-a1e3-4bc9-813b-e5cd108910b9.mp3','/file_storage/QmZcCa8edPjyEUfVTYmGua8HcEPmp6E4PpgKLx9ksVSznr','copy320','2020-03-05 17:39:50.494 +00:00','2020-03-05 17:39:50.494 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_0d3ec0ede7754cd495dd7815c9ff1576$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (46353418-0d1b-4adf-9a23-1a91cfd4182c): COMMIT;
{ fileUUID: '56df9c99-358e-4375-93de-81eda769065e',
  cnodeUserUUID: '11c34897-1946-4dfc-b59c-f646a1fc69fe',
  multihash: 'QmZcCa8edPjyEUfVTYmGua8HcEPmp6E4PpgKLx9ksVSznr',
  sourceFile: '82984abf-a1e3-4bc9-813b-e5cd108910b9.mp3',
  storagePath:
   '/file_storage/QmZcCa8edPjyEUfVTYmGua8HcEPmp6E4PpgKLx9ksVSznr',
  type: 'copy320',
  trackUUID: '086106b1-4036-4f20-888a-e16ccb759ec3',
  updatedAt: 2020-03-05T17:39:50.494Z,
  createdAt: 2020-03-05T17:39:50.494Z }
writing to db3...
Executing (e8ed9d87-03be-4a09-a55a-c2144e1895f7): START TRANSACTION;
Executing (e8ed9d87-03be-4a09-a55a-c2144e1895f7): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '11c34897-1946-4dfc-b59c-f646a1fc69fe' AND "File"."multihash" = 'QmZcCa8edPjyEUfVTYmGua8HcEPmp6E4PpgKLx9ksVSznr' AND "File"."sourceFile" = '82984abf-a1e3-4bc9-813b-e5cd108910b9.mp3' AND "File"."storagePath" = '/file_storage/QmZcCa8edPjyEUfVTYmGua8HcEPmp6E4PpgKLx9ksVSznr' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '086106b1-4036-4f20-888a-e16ccb759ec3' LIMIT 1;
Executing (e8ed9d87-03be-4a09-a55a-c2144e1895f7): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_83b711fcb53849138fa1413c060a3290$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('ab63c436-9bc1-4400-a02e-8f2ed1944da5','11c34897-1946-4dfc-b59c-f646a1fc69fe','086106b1-4036-4f20-888a-e16ccb759ec3','QmZcCa8edPjyEUfVTYmGua8HcEPmp6E4PpgKLx9ksVSznr','82984abf-a1e3-4bc9-813b-e5cd108910b9.mp3','/file_storage/QmZcCa8edPjyEUfVTYmGua8HcEPmp6E4PpgKLx9ksVSznr','copy320','2020-03-05 17:39:50.871 +00:00','2020-03-05 17:39:50.871 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_83b711fcb53849138fa1413c060a3290$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (e8ed9d87-03be-4a09-a55a-c2144e1895f7): COMMIT;
{ fileUUID: 'ab63c436-9bc1-4400-a02e-8f2ed1944da5',
  cnodeUserUUID: '11c34897-1946-4dfc-b59c-f646a1fc69fe',
  multihash: 'QmZcCa8edPjyEUfVTYmGua8HcEPmp6E4PpgKLx9ksVSznr',
  sourceFile: '82984abf-a1e3-4bc9-813b-e5cd108910b9.mp3',
  storagePath:
   '/file_storage/QmZcCa8edPjyEUfVTYmGua8HcEPmp6E4PpgKLx9ksVSznr',
  type: 'copy320',
  trackUUID: '086106b1-4036-4f20-888a-e16ccb759ec3',
  updatedAt: 2020-03-05T17:39:50.871Z,
  createdAt: 2020-03-05T17:39:50.871Z }




PROCESSING ROW #170: sourcefile: e3901e3e-4c32-4f07-ac9e-d34042540c94.mp3, cnodeUserUUID: 7a85958e-6317-49af-a978-728b23758021, trackUUID: 89da3133-860f-4048-9377-66b9128dd2b9, multihash: QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM, dstPath: /file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM
writing to db1...
Executing (0dbc37d5-3f9c-4de4-9187-18335e2d6000): START TRANSACTION;
Executing (0dbc37d5-3f9c-4de4-9187-18335e2d6000): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '7a85958e-6317-49af-a978-728b23758021' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = 'e3901e3e-4c32-4f07-ac9e-d34042540c94.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '89da3133-860f-4048-9377-66b9128dd2b9' LIMIT 1;
Executing (0dbc37d5-3f9c-4de4-9187-18335e2d6000): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_64a0e7f36c8c46a6b896b7a5e4365389$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('f2376b33-72e9-402d-9f86-758d8cab918d','7a85958e-6317-49af-a978-728b23758021','89da3133-860f-4048-9377-66b9128dd2b9','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','e3901e3e-4c32-4f07-ac9e-d34042540c94.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:39:51.252 +00:00','2020-03-05 17:39:51.252 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_64a0e7f36c8c46a6b896b7a5e4365389$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (0dbc37d5-3f9c-4de4-9187-18335e2d6000): COMMIT;
{ fileUUID: 'f2376b33-72e9-402d-9f86-758d8cab918d',
  cnodeUserUUID: '7a85958e-6317-49af-a978-728b23758021',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: 'e3901e3e-4c32-4f07-ac9e-d34042540c94.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: '89da3133-860f-4048-9377-66b9128dd2b9',
  updatedAt: 2020-03-05T17:39:51.252Z,
  createdAt: 2020-03-05T17:39:51.252Z }
writing to db2...
Executing (b128b713-8d3c-4b95-81fb-8f6c31a63704): START TRANSACTION;
Executing (b128b713-8d3c-4b95-81fb-8f6c31a63704): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '7a85958e-6317-49af-a978-728b23758021' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = 'e3901e3e-4c32-4f07-ac9e-d34042540c94.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '89da3133-860f-4048-9377-66b9128dd2b9' LIMIT 1;
Executing (b128b713-8d3c-4b95-81fb-8f6c31a63704): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_492216a6dc96484faa93d7d2699efa00$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('7b4d9271-b52c-4ad4-bdd3-5fd2358f338b','7a85958e-6317-49af-a978-728b23758021','89da3133-860f-4048-9377-66b9128dd2b9','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','e3901e3e-4c32-4f07-ac9e-d34042540c94.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:39:51.638 +00:00','2020-03-05 17:39:51.638 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_492216a6dc96484faa93d7d2699efa00$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (b128b713-8d3c-4b95-81fb-8f6c31a63704): COMMIT;
{ fileUUID: '7b4d9271-b52c-4ad4-bdd3-5fd2358f338b',
  cnodeUserUUID: '7a85958e-6317-49af-a978-728b23758021',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: 'e3901e3e-4c32-4f07-ac9e-d34042540c94.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: '89da3133-860f-4048-9377-66b9128dd2b9',
  updatedAt: 2020-03-05T17:39:51.638Z,
  createdAt: 2020-03-05T17:39:51.638Z }
writing to db3...
Executing (92159244-0b5f-4cd6-9689-1487d32c1cb5): START TRANSACTION;
Executing (92159244-0b5f-4cd6-9689-1487d32c1cb5): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '7a85958e-6317-49af-a978-728b23758021' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = 'e3901e3e-4c32-4f07-ac9e-d34042540c94.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '89da3133-860f-4048-9377-66b9128dd2b9' LIMIT 1;
Executing (92159244-0b5f-4cd6-9689-1487d32c1cb5): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_4c3debe1ad794f3a870c1c3dd16de94c$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('af7f149f-677c-4291-a9bf-6209ed3552aa','7a85958e-6317-49af-a978-728b23758021','89da3133-860f-4048-9377-66b9128dd2b9','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','e3901e3e-4c32-4f07-ac9e-d34042540c94.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:39:52.017 +00:00','2020-03-05 17:39:52.017 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_4c3debe1ad794f3a870c1c3dd16de94c$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (92159244-0b5f-4cd6-9689-1487d32c1cb5): COMMIT;
{ fileUUID: 'af7f149f-677c-4291-a9bf-6209ed3552aa',
  cnodeUserUUID: '7a85958e-6317-49af-a978-728b23758021',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: 'e3901e3e-4c32-4f07-ac9e-d34042540c94.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: '89da3133-860f-4048-9377-66b9128dd2b9',
  updatedAt: 2020-03-05T17:39:52.017Z,
  createdAt: 2020-03-05T17:39:52.017Z }




PROCESSING ROW #171: sourcefile: 27f29252-4468-4f90-bcf3-de2533a6555b.wav, cnodeUserUUID: a4182ee5-2db5-401b-812d-00fcdda4e06b, trackUUID: 6a5ac298-1f6c-445b-a8e7-48945abc29b3, multihash: QmTkmBnP6R9WSKn5tEeeRnjJj2zmijYBjDHhrzwZAkq7pV, dstPath: /file_storage/QmTkmBnP6R9WSKn5tEeeRnjJj2zmijYBjDHhrzwZAkq7pV
writing to db1...
Executing (c7900157-3d32-4fa0-9902-386b59ee290d): START TRANSACTION;
Executing (c7900157-3d32-4fa0-9902-386b59ee290d): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = 'a4182ee5-2db5-401b-812d-00fcdda4e06b' AND "File"."multihash" = 'QmTkmBnP6R9WSKn5tEeeRnjJj2zmijYBjDHhrzwZAkq7pV' AND "File"."sourceFile" = '27f29252-4468-4f90-bcf3-de2533a6555b.wav' AND "File"."storagePath" = '/file_storage/QmTkmBnP6R9WSKn5tEeeRnjJj2zmijYBjDHhrzwZAkq7pV' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '6a5ac298-1f6c-445b-a8e7-48945abc29b3' LIMIT 1;
Executing (c7900157-3d32-4fa0-9902-386b59ee290d): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_c8a751618e154388b3a8ce3a0f614708$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('ffff052a-0400-458e-bbfc-3b07c4914032','a4182ee5-2db5-401b-812d-00fcdda4e06b','6a5ac298-1f6c-445b-a8e7-48945abc29b3','QmTkmBnP6R9WSKn5tEeeRnjJj2zmijYBjDHhrzwZAkq7pV','27f29252-4468-4f90-bcf3-de2533a6555b.wav','/file_storage/QmTkmBnP6R9WSKn5tEeeRnjJj2zmijYBjDHhrzwZAkq7pV','copy320','2020-03-05 17:39:52.407 +00:00','2020-03-05 17:39:52.407 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_c8a751618e154388b3a8ce3a0f614708$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (c7900157-3d32-4fa0-9902-386b59ee290d): COMMIT;
{ fileUUID: 'ffff052a-0400-458e-bbfc-3b07c4914032',
  cnodeUserUUID: 'a4182ee5-2db5-401b-812d-00fcdda4e06b',
  multihash: 'QmTkmBnP6R9WSKn5tEeeRnjJj2zmijYBjDHhrzwZAkq7pV',
  sourceFile: '27f29252-4468-4f90-bcf3-de2533a6555b.wav',
  storagePath:
   '/file_storage/QmTkmBnP6R9WSKn5tEeeRnjJj2zmijYBjDHhrzwZAkq7pV',
  type: 'copy320',
  trackUUID: '6a5ac298-1f6c-445b-a8e7-48945abc29b3',
  updatedAt: 2020-03-05T17:39:52.407Z,
  createdAt: 2020-03-05T17:39:52.407Z }
writing to db2...
Executing (e1ac8d9b-375f-45b9-8321-fb08133dee5a): START TRANSACTION;
Executing (e1ac8d9b-375f-45b9-8321-fb08133dee5a): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = 'a4182ee5-2db5-401b-812d-00fcdda4e06b' AND "File"."multihash" = 'QmTkmBnP6R9WSKn5tEeeRnjJj2zmijYBjDHhrzwZAkq7pV' AND "File"."sourceFile" = '27f29252-4468-4f90-bcf3-de2533a6555b.wav' AND "File"."storagePath" = '/file_storage/QmTkmBnP6R9WSKn5tEeeRnjJj2zmijYBjDHhrzwZAkq7pV' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '6a5ac298-1f6c-445b-a8e7-48945abc29b3' LIMIT 1;
Executing (e1ac8d9b-375f-45b9-8321-fb08133dee5a): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_131283806831425c9eb7ed0069d38a0c$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('21c970f6-52d7-49af-a342-300cf7793014','a4182ee5-2db5-401b-812d-00fcdda4e06b','6a5ac298-1f6c-445b-a8e7-48945abc29b3','QmTkmBnP6R9WSKn5tEeeRnjJj2zmijYBjDHhrzwZAkq7pV','27f29252-4468-4f90-bcf3-de2533a6555b.wav','/file_storage/QmTkmBnP6R9WSKn5tEeeRnjJj2zmijYBjDHhrzwZAkq7pV','copy320','2020-03-05 17:39:52.808 +00:00','2020-03-05 17:39:52.808 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_131283806831425c9eb7ed0069d38a0c$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (e1ac8d9b-375f-45b9-8321-fb08133dee5a): COMMIT;
{ fileUUID: '21c970f6-52d7-49af-a342-300cf7793014',
  cnodeUserUUID: 'a4182ee5-2db5-401b-812d-00fcdda4e06b',
  multihash: 'QmTkmBnP6R9WSKn5tEeeRnjJj2zmijYBjDHhrzwZAkq7pV',
  sourceFile: '27f29252-4468-4f90-bcf3-de2533a6555b.wav',
  storagePath:
   '/file_storage/QmTkmBnP6R9WSKn5tEeeRnjJj2zmijYBjDHhrzwZAkq7pV',
  type: 'copy320',
  trackUUID: '6a5ac298-1f6c-445b-a8e7-48945abc29b3',
  updatedAt: 2020-03-05T17:39:52.808Z,
  createdAt: 2020-03-05T17:39:52.808Z }
writing to db3...
Executing (149273d0-8799-4c1e-889b-f704007f10e4): START TRANSACTION;
Executing (149273d0-8799-4c1e-889b-f704007f10e4): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = 'a4182ee5-2db5-401b-812d-00fcdda4e06b' AND "File"."multihash" = 'QmTkmBnP6R9WSKn5tEeeRnjJj2zmijYBjDHhrzwZAkq7pV' AND "File"."sourceFile" = '27f29252-4468-4f90-bcf3-de2533a6555b.wav' AND "File"."storagePath" = '/file_storage/QmTkmBnP6R9WSKn5tEeeRnjJj2zmijYBjDHhrzwZAkq7pV' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '6a5ac298-1f6c-445b-a8e7-48945abc29b3' LIMIT 1;
Executing (149273d0-8799-4c1e-889b-f704007f10e4): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_e3a9a6c2f4094323a80c91b81762aa0a$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('9f7cef81-c1b9-4933-8cd1-3bb23853d6f6','a4182ee5-2db5-401b-812d-00fcdda4e06b','6a5ac298-1f6c-445b-a8e7-48945abc29b3','QmTkmBnP6R9WSKn5tEeeRnjJj2zmijYBjDHhrzwZAkq7pV','27f29252-4468-4f90-bcf3-de2533a6555b.wav','/file_storage/QmTkmBnP6R9WSKn5tEeeRnjJj2zmijYBjDHhrzwZAkq7pV','copy320','2020-03-05 17:39:53.220 +00:00','2020-03-05 17:39:53.220 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_e3a9a6c2f4094323a80c91b81762aa0a$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (149273d0-8799-4c1e-889b-f704007f10e4): COMMIT;
{ fileUUID: '9f7cef81-c1b9-4933-8cd1-3bb23853d6f6',
  cnodeUserUUID: 'a4182ee5-2db5-401b-812d-00fcdda4e06b',
  multihash: 'QmTkmBnP6R9WSKn5tEeeRnjJj2zmijYBjDHhrzwZAkq7pV',
  sourceFile: '27f29252-4468-4f90-bcf3-de2533a6555b.wav',
  storagePath:
   '/file_storage/QmTkmBnP6R9WSKn5tEeeRnjJj2zmijYBjDHhrzwZAkq7pV',
  type: 'copy320',
  trackUUID: '6a5ac298-1f6c-445b-a8e7-48945abc29b3',
  updatedAt: 2020-03-05T17:39:53.220Z,
  createdAt: 2020-03-05T17:39:53.220Z }




PROCESSING ROW #172: sourcefile: e0c98235-c80f-4f56-aca9-f144b7abda52.mp3, cnodeUserUUID: 11c34897-1946-4dfc-b59c-f646a1fc69fe, trackUUID: 374a4b32-aba8-445d-adce-7308e86dce8e, multihash: QmcEc5YP1yNaW79oCqBw3j6eb2NqrFD4g3tmPvKMRvBqWm, dstPath: /file_storage/QmcEc5YP1yNaW79oCqBw3j6eb2NqrFD4g3tmPvKMRvBqWm
writing to db1...
Executing (7d0d7bc6-baa3-4d51-b7c0-3702666ee65c): START TRANSACTION;
Executing (7d0d7bc6-baa3-4d51-b7c0-3702666ee65c): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '11c34897-1946-4dfc-b59c-f646a1fc69fe' AND "File"."multihash" = 'QmcEc5YP1yNaW79oCqBw3j6eb2NqrFD4g3tmPvKMRvBqWm' AND "File"."sourceFile" = 'e0c98235-c80f-4f56-aca9-f144b7abda52.mp3' AND "File"."storagePath" = '/file_storage/QmcEc5YP1yNaW79oCqBw3j6eb2NqrFD4g3tmPvKMRvBqWm' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '374a4b32-aba8-445d-adce-7308e86dce8e' LIMIT 1;
Executing (7d0d7bc6-baa3-4d51-b7c0-3702666ee65c): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_d5f9266bc12c4456a079f7e2a0ab48c3$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('e3395f4d-b2d3-46b6-bc97-b2e707ed9b72','11c34897-1946-4dfc-b59c-f646a1fc69fe','374a4b32-aba8-445d-adce-7308e86dce8e','QmcEc5YP1yNaW79oCqBw3j6eb2NqrFD4g3tmPvKMRvBqWm','e0c98235-c80f-4f56-aca9-f144b7abda52.mp3','/file_storage/QmcEc5YP1yNaW79oCqBw3j6eb2NqrFD4g3tmPvKMRvBqWm','copy320','2020-03-05 17:39:53.612 +00:00','2020-03-05 17:39:53.612 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_d5f9266bc12c4456a079f7e2a0ab48c3$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (7d0d7bc6-baa3-4d51-b7c0-3702666ee65c): COMMIT;
{ fileUUID: 'e3395f4d-b2d3-46b6-bc97-b2e707ed9b72',
  cnodeUserUUID: '11c34897-1946-4dfc-b59c-f646a1fc69fe',
  multihash: 'QmcEc5YP1yNaW79oCqBw3j6eb2NqrFD4g3tmPvKMRvBqWm',
  sourceFile: 'e0c98235-c80f-4f56-aca9-f144b7abda52.mp3',
  storagePath:
   '/file_storage/QmcEc5YP1yNaW79oCqBw3j6eb2NqrFD4g3tmPvKMRvBqWm',
  type: 'copy320',
  trackUUID: '374a4b32-aba8-445d-adce-7308e86dce8e',
  updatedAt: 2020-03-05T17:39:53.612Z,
  createdAt: 2020-03-05T17:39:53.612Z }
writing to db2...
Executing (cb2c976d-b5e9-4841-b263-507b2f0b4784): START TRANSACTION;
Executing (cb2c976d-b5e9-4841-b263-507b2f0b4784): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '11c34897-1946-4dfc-b59c-f646a1fc69fe' AND "File"."multihash" = 'QmcEc5YP1yNaW79oCqBw3j6eb2NqrFD4g3tmPvKMRvBqWm' AND "File"."sourceFile" = 'e0c98235-c80f-4f56-aca9-f144b7abda52.mp3' AND "File"."storagePath" = '/file_storage/QmcEc5YP1yNaW79oCqBw3j6eb2NqrFD4g3tmPvKMRvBqWm' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '374a4b32-aba8-445d-adce-7308e86dce8e' LIMIT 1;
Executing (cb2c976d-b5e9-4841-b263-507b2f0b4784): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_308350729ab440b381c906fdeb473134$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('6d5c9289-3f51-4d51-a61e-643f77206a0c','11c34897-1946-4dfc-b59c-f646a1fc69fe','374a4b32-aba8-445d-adce-7308e86dce8e','QmcEc5YP1yNaW79oCqBw3j6eb2NqrFD4g3tmPvKMRvBqWm','e0c98235-c80f-4f56-aca9-f144b7abda52.mp3','/file_storage/QmcEc5YP1yNaW79oCqBw3j6eb2NqrFD4g3tmPvKMRvBqWm','copy320','2020-03-05 17:39:53.998 +00:00','2020-03-05 17:39:53.998 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_308350729ab440b381c906fdeb473134$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (cb2c976d-b5e9-4841-b263-507b2f0b4784): COMMIT;
{ fileUUID: '6d5c9289-3f51-4d51-a61e-643f77206a0c',
  cnodeUserUUID: '11c34897-1946-4dfc-b59c-f646a1fc69fe',
  multihash: 'QmcEc5YP1yNaW79oCqBw3j6eb2NqrFD4g3tmPvKMRvBqWm',
  sourceFile: 'e0c98235-c80f-4f56-aca9-f144b7abda52.mp3',
  storagePath:
   '/file_storage/QmcEc5YP1yNaW79oCqBw3j6eb2NqrFD4g3tmPvKMRvBqWm',
  type: 'copy320',
  trackUUID: '374a4b32-aba8-445d-adce-7308e86dce8e',
  updatedAt: 2020-03-05T17:39:53.998Z,
  createdAt: 2020-03-05T17:39:53.998Z }
writing to db3...
Executing (eb6587e0-bb18-4380-812d-f9a25d10211d): START TRANSACTION;
Executing (eb6587e0-bb18-4380-812d-f9a25d10211d): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '11c34897-1946-4dfc-b59c-f646a1fc69fe' AND "File"."multihash" = 'QmcEc5YP1yNaW79oCqBw3j6eb2NqrFD4g3tmPvKMRvBqWm' AND "File"."sourceFile" = 'e0c98235-c80f-4f56-aca9-f144b7abda52.mp3' AND "File"."storagePath" = '/file_storage/QmcEc5YP1yNaW79oCqBw3j6eb2NqrFD4g3tmPvKMRvBqWm' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '374a4b32-aba8-445d-adce-7308e86dce8e' LIMIT 1;
Executing (eb6587e0-bb18-4380-812d-f9a25d10211d): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_c7cc324748764da5a5ab6036439dbd68$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('20079df6-917a-4de2-bfc5-795b147130a5','11c34897-1946-4dfc-b59c-f646a1fc69fe','374a4b32-aba8-445d-adce-7308e86dce8e','QmcEc5YP1yNaW79oCqBw3j6eb2NqrFD4g3tmPvKMRvBqWm','e0c98235-c80f-4f56-aca9-f144b7abda52.mp3','/file_storage/QmcEc5YP1yNaW79oCqBw3j6eb2NqrFD4g3tmPvKMRvBqWm','copy320','2020-03-05 17:39:54.394 +00:00','2020-03-05 17:39:54.394 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_c7cc324748764da5a5ab6036439dbd68$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (eb6587e0-bb18-4380-812d-f9a25d10211d): COMMIT;
{ fileUUID: '20079df6-917a-4de2-bfc5-795b147130a5',
  cnodeUserUUID: '11c34897-1946-4dfc-b59c-f646a1fc69fe',
  multihash: 'QmcEc5YP1yNaW79oCqBw3j6eb2NqrFD4g3tmPvKMRvBqWm',
  sourceFile: 'e0c98235-c80f-4f56-aca9-f144b7abda52.mp3',
  storagePath:
   '/file_storage/QmcEc5YP1yNaW79oCqBw3j6eb2NqrFD4g3tmPvKMRvBqWm',
  type: 'copy320',
  trackUUID: '374a4b32-aba8-445d-adce-7308e86dce8e',
  updatedAt: 2020-03-05T17:39:54.394Z,
  createdAt: 2020-03-05T17:39:54.394Z }




PROCESSING ROW #173: sourcefile: 6ebd873b-19ce-465a-a461-f8c37b4ed428.mp3, cnodeUserUUID: d027b53a-0483-460d-a49d-9fad7b00a28b, trackUUID: 696f87cc-e2a1-49cf-a513-04b5f1e75a41, multihash: QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM, dstPath: /file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM
writing to db1...
Executing (3f6d22ae-86df-4e7e-84f0-32be24021158): START TRANSACTION;
Executing (3f6d22ae-86df-4e7e-84f0-32be24021158): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = 'd027b53a-0483-460d-a49d-9fad7b00a28b' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = '6ebd873b-19ce-465a-a461-f8c37b4ed428.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '696f87cc-e2a1-49cf-a513-04b5f1e75a41' LIMIT 1;
Executing (3f6d22ae-86df-4e7e-84f0-32be24021158): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_1d762899ca394d3a81b87222c6e1f718$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('20c91db3-e15f-4818-81da-f6eefa166df0','d027b53a-0483-460d-a49d-9fad7b00a28b','696f87cc-e2a1-49cf-a513-04b5f1e75a41','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','6ebd873b-19ce-465a-a461-f8c37b4ed428.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:39:54.791 +00:00','2020-03-05 17:39:54.791 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_1d762899ca394d3a81b87222c6e1f718$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (3f6d22ae-86df-4e7e-84f0-32be24021158): COMMIT;
{ fileUUID: '20c91db3-e15f-4818-81da-f6eefa166df0',
  cnodeUserUUID: 'd027b53a-0483-460d-a49d-9fad7b00a28b',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: '6ebd873b-19ce-465a-a461-f8c37b4ed428.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: '696f87cc-e2a1-49cf-a513-04b5f1e75a41',
  updatedAt: 2020-03-05T17:39:54.791Z,
  createdAt: 2020-03-05T17:39:54.791Z }
writing to db2...
Executing (98698318-4e7e-4f43-a3c0-2efedb6d4491): START TRANSACTION;
Executing (98698318-4e7e-4f43-a3c0-2efedb6d4491): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = 'd027b53a-0483-460d-a49d-9fad7b00a28b' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = '6ebd873b-19ce-465a-a461-f8c37b4ed428.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '696f87cc-e2a1-49cf-a513-04b5f1e75a41' LIMIT 1;
Executing (98698318-4e7e-4f43-a3c0-2efedb6d4491): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_3fe3ebc0e0614dda8eb5498f1fe5129f$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('1346f94e-e6ae-4c0a-a808-ed45c24b1980','d027b53a-0483-460d-a49d-9fad7b00a28b','696f87cc-e2a1-49cf-a513-04b5f1e75a41','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','6ebd873b-19ce-465a-a461-f8c37b4ed428.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:39:55.182 +00:00','2020-03-05 17:39:55.182 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_3fe3ebc0e0614dda8eb5498f1fe5129f$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (98698318-4e7e-4f43-a3c0-2efedb6d4491): COMMIT;
{ fileUUID: '1346f94e-e6ae-4c0a-a808-ed45c24b1980',
  cnodeUserUUID: 'd027b53a-0483-460d-a49d-9fad7b00a28b',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: '6ebd873b-19ce-465a-a461-f8c37b4ed428.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: '696f87cc-e2a1-49cf-a513-04b5f1e75a41',
  updatedAt: 2020-03-05T17:39:55.182Z,
  createdAt: 2020-03-05T17:39:55.182Z }
writing to db3...
Executing (af517ca3-cd23-47bc-b2a8-29c761df9b39): START TRANSACTION;
Executing (af517ca3-cd23-47bc-b2a8-29c761df9b39): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = 'd027b53a-0483-460d-a49d-9fad7b00a28b' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = '6ebd873b-19ce-465a-a461-f8c37b4ed428.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '696f87cc-e2a1-49cf-a513-04b5f1e75a41' LIMIT 1;
Executing (af517ca3-cd23-47bc-b2a8-29c761df9b39): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_3aa0edfead1445dcbab1cd6769f6538a$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('cc61b86e-1339-4d6c-b3f9-6c3f63cb114b','d027b53a-0483-460d-a49d-9fad7b00a28b','696f87cc-e2a1-49cf-a513-04b5f1e75a41','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','6ebd873b-19ce-465a-a461-f8c37b4ed428.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:39:55.589 +00:00','2020-03-05 17:39:55.589 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_3aa0edfead1445dcbab1cd6769f6538a$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (af517ca3-cd23-47bc-b2a8-29c761df9b39): COMMIT;
{ fileUUID: 'cc61b86e-1339-4d6c-b3f9-6c3f63cb114b',
  cnodeUserUUID: 'd027b53a-0483-460d-a49d-9fad7b00a28b',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: '6ebd873b-19ce-465a-a461-f8c37b4ed428.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: '696f87cc-e2a1-49cf-a513-04b5f1e75a41',
  updatedAt: 2020-03-05T17:39:55.589Z,
  createdAt: 2020-03-05T17:39:55.589Z }




PROCESSING ROW #174: sourcefile: db6c8ef2-f3dc-4a3d-bf0a-8cf6585770a0.mp3, cnodeUserUUID: 11c34897-1946-4dfc-b59c-f646a1fc69fe, trackUUID: 657ed2fd-7665-4e92-bb56-ecaabf4ad509, multihash: QmYdgydU3SYTn9TpPVghPEYuU8Fa8v7DNMWJuc9LwU8XXJ, dstPath: /file_storage/QmYdgydU3SYTn9TpPVghPEYuU8Fa8v7DNMWJuc9LwU8XXJ
writing to db1...
Executing (fe57b268-ff9f-4553-8577-ad3fdbcec691): START TRANSACTION;
Executing (fe57b268-ff9f-4553-8577-ad3fdbcec691): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '11c34897-1946-4dfc-b59c-f646a1fc69fe' AND "File"."multihash" = 'QmYdgydU3SYTn9TpPVghPEYuU8Fa8v7DNMWJuc9LwU8XXJ' AND "File"."sourceFile" = 'db6c8ef2-f3dc-4a3d-bf0a-8cf6585770a0.mp3' AND "File"."storagePath" = '/file_storage/QmYdgydU3SYTn9TpPVghPEYuU8Fa8v7DNMWJuc9LwU8XXJ' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '657ed2fd-7665-4e92-bb56-ecaabf4ad509' LIMIT 1;
Executing (fe57b268-ff9f-4553-8577-ad3fdbcec691): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_24332b51394e41dd99ab474e6177b9cb$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('d18534bc-2780-423d-95b1-992f67653ce1','11c34897-1946-4dfc-b59c-f646a1fc69fe','657ed2fd-7665-4e92-bb56-ecaabf4ad509','QmYdgydU3SYTn9TpPVghPEYuU8Fa8v7DNMWJuc9LwU8XXJ','db6c8ef2-f3dc-4a3d-bf0a-8cf6585770a0.mp3','/file_storage/QmYdgydU3SYTn9TpPVghPEYuU8Fa8v7DNMWJuc9LwU8XXJ','copy320','2020-03-05 17:39:55.987 +00:00','2020-03-05 17:39:55.987 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_24332b51394e41dd99ab474e6177b9cb$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (fe57b268-ff9f-4553-8577-ad3fdbcec691): COMMIT;
{ fileUUID: 'd18534bc-2780-423d-95b1-992f67653ce1',
  cnodeUserUUID: '11c34897-1946-4dfc-b59c-f646a1fc69fe',
  multihash: 'QmYdgydU3SYTn9TpPVghPEYuU8Fa8v7DNMWJuc9LwU8XXJ',
  sourceFile: 'db6c8ef2-f3dc-4a3d-bf0a-8cf6585770a0.mp3',
  storagePath:
   '/file_storage/QmYdgydU3SYTn9TpPVghPEYuU8Fa8v7DNMWJuc9LwU8XXJ',
  type: 'copy320',
  trackUUID: '657ed2fd-7665-4e92-bb56-ecaabf4ad509',
  updatedAt: 2020-03-05T17:39:55.987Z,
  createdAt: 2020-03-05T17:39:55.987Z }
writing to db2...
Executing (30cc38cd-43b3-4109-a6bd-31da682d8687): START TRANSACTION;
Executing (30cc38cd-43b3-4109-a6bd-31da682d8687): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '11c34897-1946-4dfc-b59c-f646a1fc69fe' AND "File"."multihash" = 'QmYdgydU3SYTn9TpPVghPEYuU8Fa8v7DNMWJuc9LwU8XXJ' AND "File"."sourceFile" = 'db6c8ef2-f3dc-4a3d-bf0a-8cf6585770a0.mp3' AND "File"."storagePath" = '/file_storage/QmYdgydU3SYTn9TpPVghPEYuU8Fa8v7DNMWJuc9LwU8XXJ' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '657ed2fd-7665-4e92-bb56-ecaabf4ad509' LIMIT 1;
Executing (30cc38cd-43b3-4109-a6bd-31da682d8687): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_3ff0c923112a4f51a122713607f07a43$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('a94e19c7-88fd-4d3e-96c8-f9a6249321c7','11c34897-1946-4dfc-b59c-f646a1fc69fe','657ed2fd-7665-4e92-bb56-ecaabf4ad509','QmYdgydU3SYTn9TpPVghPEYuU8Fa8v7DNMWJuc9LwU8XXJ','db6c8ef2-f3dc-4a3d-bf0a-8cf6585770a0.mp3','/file_storage/QmYdgydU3SYTn9TpPVghPEYuU8Fa8v7DNMWJuc9LwU8XXJ','copy320','2020-03-05 17:39:56.365 +00:00','2020-03-05 17:39:56.365 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_3ff0c923112a4f51a122713607f07a43$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (30cc38cd-43b3-4109-a6bd-31da682d8687): COMMIT;
{ fileUUID: 'a94e19c7-88fd-4d3e-96c8-f9a6249321c7',
  cnodeUserUUID: '11c34897-1946-4dfc-b59c-f646a1fc69fe',
  multihash: 'QmYdgydU3SYTn9TpPVghPEYuU8Fa8v7DNMWJuc9LwU8XXJ',
  sourceFile: 'db6c8ef2-f3dc-4a3d-bf0a-8cf6585770a0.mp3',
  storagePath:
   '/file_storage/QmYdgydU3SYTn9TpPVghPEYuU8Fa8v7DNMWJuc9LwU8XXJ',
  type: 'copy320',
  trackUUID: '657ed2fd-7665-4e92-bb56-ecaabf4ad509',
  updatedAt: 2020-03-05T17:39:56.365Z,
  createdAt: 2020-03-05T17:39:56.365Z }
writing to db3...
Executing (5609cece-7cc1-4719-8aff-4f78ca9ed692): START TRANSACTION;
Executing (5609cece-7cc1-4719-8aff-4f78ca9ed692): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '11c34897-1946-4dfc-b59c-f646a1fc69fe' AND "File"."multihash" = 'QmYdgydU3SYTn9TpPVghPEYuU8Fa8v7DNMWJuc9LwU8XXJ' AND "File"."sourceFile" = 'db6c8ef2-f3dc-4a3d-bf0a-8cf6585770a0.mp3' AND "File"."storagePath" = '/file_storage/QmYdgydU3SYTn9TpPVghPEYuU8Fa8v7DNMWJuc9LwU8XXJ' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '657ed2fd-7665-4e92-bb56-ecaabf4ad509' LIMIT 1;
Executing (5609cece-7cc1-4719-8aff-4f78ca9ed692): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_a3f2c97d987640c38df0f257ba4cbe20$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('d493d326-be79-49e3-9329-c622127f59d4','11c34897-1946-4dfc-b59c-f646a1fc69fe','657ed2fd-7665-4e92-bb56-ecaabf4ad509','QmYdgydU3SYTn9TpPVghPEYuU8Fa8v7DNMWJuc9LwU8XXJ','db6c8ef2-f3dc-4a3d-bf0a-8cf6585770a0.mp3','/file_storage/QmYdgydU3SYTn9TpPVghPEYuU8Fa8v7DNMWJuc9LwU8XXJ','copy320','2020-03-05 17:39:56.742 +00:00','2020-03-05 17:39:56.742 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_a3f2c97d987640c38df0f257ba4cbe20$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (5609cece-7cc1-4719-8aff-4f78ca9ed692): COMMIT;
{ fileUUID: 'd493d326-be79-49e3-9329-c622127f59d4',
  cnodeUserUUID: '11c34897-1946-4dfc-b59c-f646a1fc69fe',
  multihash: 'QmYdgydU3SYTn9TpPVghPEYuU8Fa8v7DNMWJuc9LwU8XXJ',
  sourceFile: 'db6c8ef2-f3dc-4a3d-bf0a-8cf6585770a0.mp3',
  storagePath:
   '/file_storage/QmYdgydU3SYTn9TpPVghPEYuU8Fa8v7DNMWJuc9LwU8XXJ',
  type: 'copy320',
  trackUUID: '657ed2fd-7665-4e92-bb56-ecaabf4ad509',
  updatedAt: 2020-03-05T17:39:56.742Z,
  createdAt: 2020-03-05T17:39:56.742Z }




PROCESSING ROW #175: sourcefile: 6f06b634-a319-4ffe-a68d-ad9140db1fd1.mp3, cnodeUserUUID: 846de485-02a3-41de-b7ed-7fc2352056bb, trackUUID: 5d48f66f-3a73-474d-ae30-3e8ca5038f30, multihash: QmSHY6vt2F72YHuV68C2ePoiMUnQSauPigac6NVttEHUWv, dstPath: /file_storage/QmSHY6vt2F72YHuV68C2ePoiMUnQSauPigac6NVttEHUWv
writing to db1...
Executing (4312a7a6-7360-4d2f-bc19-e38d7354b5a9): START TRANSACTION;
Executing (4312a7a6-7360-4d2f-bc19-e38d7354b5a9): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '846de485-02a3-41de-b7ed-7fc2352056bb' AND "File"."multihash" = 'QmSHY6vt2F72YHuV68C2ePoiMUnQSauPigac6NVttEHUWv' AND "File"."sourceFile" = '6f06b634-a319-4ffe-a68d-ad9140db1fd1.mp3' AND "File"."storagePath" = '/file_storage/QmSHY6vt2F72YHuV68C2ePoiMUnQSauPigac6NVttEHUWv' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '5d48f66f-3a73-474d-ae30-3e8ca5038f30' LIMIT 1;
Executing (4312a7a6-7360-4d2f-bc19-e38d7354b5a9): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_f69fec46b9bd490e9c2f08ea8bbebfff$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('7c2536e0-b844-469d-a00c-1929ff9cd00e','846de485-02a3-41de-b7ed-7fc2352056bb','5d48f66f-3a73-474d-ae30-3e8ca5038f30','QmSHY6vt2F72YHuV68C2ePoiMUnQSauPigac6NVttEHUWv','6f06b634-a319-4ffe-a68d-ad9140db1fd1.mp3','/file_storage/QmSHY6vt2F72YHuV68C2ePoiMUnQSauPigac6NVttEHUWv','copy320','2020-03-05 17:39:57.121 +00:00','2020-03-05 17:39:57.121 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_f69fec46b9bd490e9c2f08ea8bbebfff$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (4312a7a6-7360-4d2f-bc19-e38d7354b5a9): COMMIT;
{ fileUUID: '7c2536e0-b844-469d-a00c-1929ff9cd00e',
  cnodeUserUUID: '846de485-02a3-41de-b7ed-7fc2352056bb',
  multihash: 'QmSHY6vt2F72YHuV68C2ePoiMUnQSauPigac6NVttEHUWv',
  sourceFile: '6f06b634-a319-4ffe-a68d-ad9140db1fd1.mp3',
  storagePath:
   '/file_storage/QmSHY6vt2F72YHuV68C2ePoiMUnQSauPigac6NVttEHUWv',
  type: 'copy320',
  trackUUID: '5d48f66f-3a73-474d-ae30-3e8ca5038f30',
  updatedAt: 2020-03-05T17:39:57.121Z,
  createdAt: 2020-03-05T17:39:57.121Z }
writing to db2...
Executing (83352ed8-6c16-4a37-9e40-9177f69eafd4): START TRANSACTION;
Executing (83352ed8-6c16-4a37-9e40-9177f69eafd4): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '846de485-02a3-41de-b7ed-7fc2352056bb' AND "File"."multihash" = 'QmSHY6vt2F72YHuV68C2ePoiMUnQSauPigac6NVttEHUWv' AND "File"."sourceFile" = '6f06b634-a319-4ffe-a68d-ad9140db1fd1.mp3' AND "File"."storagePath" = '/file_storage/QmSHY6vt2F72YHuV68C2ePoiMUnQSauPigac6NVttEHUWv' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '5d48f66f-3a73-474d-ae30-3e8ca5038f30' LIMIT 1;
Executing (83352ed8-6c16-4a37-9e40-9177f69eafd4): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_a7024becba4f4e01805fcf32a36ce00d$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('2cb9900a-13f2-4f72-8ef1-3a915b8a2849','846de485-02a3-41de-b7ed-7fc2352056bb','5d48f66f-3a73-474d-ae30-3e8ca5038f30','QmSHY6vt2F72YHuV68C2ePoiMUnQSauPigac6NVttEHUWv','6f06b634-a319-4ffe-a68d-ad9140db1fd1.mp3','/file_storage/QmSHY6vt2F72YHuV68C2ePoiMUnQSauPigac6NVttEHUWv','copy320','2020-03-05 17:39:57.511 +00:00','2020-03-05 17:39:57.511 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_a7024becba4f4e01805fcf32a36ce00d$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (83352ed8-6c16-4a37-9e40-9177f69eafd4): COMMIT;
{ fileUUID: '2cb9900a-13f2-4f72-8ef1-3a915b8a2849',
  cnodeUserUUID: '846de485-02a3-41de-b7ed-7fc2352056bb',
  multihash: 'QmSHY6vt2F72YHuV68C2ePoiMUnQSauPigac6NVttEHUWv',
  sourceFile: '6f06b634-a319-4ffe-a68d-ad9140db1fd1.mp3',
  storagePath:
   '/file_storage/QmSHY6vt2F72YHuV68C2ePoiMUnQSauPigac6NVttEHUWv',
  type: 'copy320',
  trackUUID: '5d48f66f-3a73-474d-ae30-3e8ca5038f30',
  updatedAt: 2020-03-05T17:39:57.511Z,
  createdAt: 2020-03-05T17:39:57.511Z }
writing to db3...
Executing (56306a8b-9ba7-4fac-9623-68d657e460d7): START TRANSACTION;
Executing (56306a8b-9ba7-4fac-9623-68d657e460d7): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '846de485-02a3-41de-b7ed-7fc2352056bb' AND "File"."multihash" = 'QmSHY6vt2F72YHuV68C2ePoiMUnQSauPigac6NVttEHUWv' AND "File"."sourceFile" = '6f06b634-a319-4ffe-a68d-ad9140db1fd1.mp3' AND "File"."storagePath" = '/file_storage/QmSHY6vt2F72YHuV68C2ePoiMUnQSauPigac6NVttEHUWv' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '5d48f66f-3a73-474d-ae30-3e8ca5038f30' LIMIT 1;
Executing (56306a8b-9ba7-4fac-9623-68d657e460d7): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_61ec512bc2e8474491e7c21ebd14f2d3$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('f0ca3353-9384-4538-946c-6932d4b2782e','846de485-02a3-41de-b7ed-7fc2352056bb','5d48f66f-3a73-474d-ae30-3e8ca5038f30','QmSHY6vt2F72YHuV68C2ePoiMUnQSauPigac6NVttEHUWv','6f06b634-a319-4ffe-a68d-ad9140db1fd1.mp3','/file_storage/QmSHY6vt2F72YHuV68C2ePoiMUnQSauPigac6NVttEHUWv','copy320','2020-03-05 17:39:57.888 +00:00','2020-03-05 17:39:57.888 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_61ec512bc2e8474491e7c21ebd14f2d3$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (56306a8b-9ba7-4fac-9623-68d657e460d7): COMMIT;
{ fileUUID: 'f0ca3353-9384-4538-946c-6932d4b2782e',
  cnodeUserUUID: '846de485-02a3-41de-b7ed-7fc2352056bb',
  multihash: 'QmSHY6vt2F72YHuV68C2ePoiMUnQSauPigac6NVttEHUWv',
  sourceFile: '6f06b634-a319-4ffe-a68d-ad9140db1fd1.mp3',
  storagePath:
   '/file_storage/QmSHY6vt2F72YHuV68C2ePoiMUnQSauPigac6NVttEHUWv',
  type: 'copy320',
  trackUUID: '5d48f66f-3a73-474d-ae30-3e8ca5038f30',
  updatedAt: 2020-03-05T17:39:57.888Z,
  createdAt: 2020-03-05T17:39:57.888Z }




PROCESSING ROW #176: sourcefile: 18c49550-0545-4ac4-bd70-88481c9ba16b.mp3, cnodeUserUUID: 67e8ce85-e143-4955-912b-cdaad54a14ce, trackUUID: 5084d8de-c8bc-420b-ab1a-9ae6185e89e9, multihash: QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM, dstPath: /file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM
writing to db1...
Executing (8d52f488-4730-4678-9daf-ce7443b7fcd9): START TRANSACTION;
Executing (8d52f488-4730-4678-9daf-ce7443b7fcd9): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '67e8ce85-e143-4955-912b-cdaad54a14ce' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = '18c49550-0545-4ac4-bd70-88481c9ba16b.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '5084d8de-c8bc-420b-ab1a-9ae6185e89e9' LIMIT 1;
Executing (8d52f488-4730-4678-9daf-ce7443b7fcd9): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_095d630a8e854a92b0c70361a195be97$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('b6317f66-a6bc-427e-a40d-0779e9861bdf','67e8ce85-e143-4955-912b-cdaad54a14ce','5084d8de-c8bc-420b-ab1a-9ae6185e89e9','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','18c49550-0545-4ac4-bd70-88481c9ba16b.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:39:58.285 +00:00','2020-03-05 17:39:58.285 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_095d630a8e854a92b0c70361a195be97$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (8d52f488-4730-4678-9daf-ce7443b7fcd9): COMMIT;
{ fileUUID: 'b6317f66-a6bc-427e-a40d-0779e9861bdf',
  cnodeUserUUID: '67e8ce85-e143-4955-912b-cdaad54a14ce',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: '18c49550-0545-4ac4-bd70-88481c9ba16b.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: '5084d8de-c8bc-420b-ab1a-9ae6185e89e9',
  updatedAt: 2020-03-05T17:39:58.285Z,
  createdAt: 2020-03-05T17:39:58.285Z }
writing to db2...
Executing (05f4f710-adfb-4c35-b656-0927300b0776): START TRANSACTION;
Executing (05f4f710-adfb-4c35-b656-0927300b0776): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '67e8ce85-e143-4955-912b-cdaad54a14ce' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = '18c49550-0545-4ac4-bd70-88481c9ba16b.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '5084d8de-c8bc-420b-ab1a-9ae6185e89e9' LIMIT 1;
Executing (05f4f710-adfb-4c35-b656-0927300b0776): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_6075af76cb894baf9a2304713af69446$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('33064a8c-fd98-4413-a61b-c79a7b304933','67e8ce85-e143-4955-912b-cdaad54a14ce','5084d8de-c8bc-420b-ab1a-9ae6185e89e9','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','18c49550-0545-4ac4-bd70-88481c9ba16b.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:39:58.672 +00:00','2020-03-05 17:39:58.672 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_6075af76cb894baf9a2304713af69446$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (05f4f710-adfb-4c35-b656-0927300b0776): COMMIT;
{ fileUUID: '33064a8c-fd98-4413-a61b-c79a7b304933',
  cnodeUserUUID: '67e8ce85-e143-4955-912b-cdaad54a14ce',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: '18c49550-0545-4ac4-bd70-88481c9ba16b.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: '5084d8de-c8bc-420b-ab1a-9ae6185e89e9',
  updatedAt: 2020-03-05T17:39:58.672Z,
  createdAt: 2020-03-05T17:39:58.672Z }
writing to db3...
Executing (4ce193fe-56d7-4024-a40b-be8e5e825bed): START TRANSACTION;
Executing (4ce193fe-56d7-4024-a40b-be8e5e825bed): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '67e8ce85-e143-4955-912b-cdaad54a14ce' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = '18c49550-0545-4ac4-bd70-88481c9ba16b.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '5084d8de-c8bc-420b-ab1a-9ae6185e89e9' LIMIT 1;
Executing (4ce193fe-56d7-4024-a40b-be8e5e825bed): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_ae9953e12ff94020ae3976e04eb3b730$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('20430d2e-96b2-4cc0-8bbe-2cfc02d150f5','67e8ce85-e143-4955-912b-cdaad54a14ce','5084d8de-c8bc-420b-ab1a-9ae6185e89e9','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','18c49550-0545-4ac4-bd70-88481c9ba16b.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:39:59.049 +00:00','2020-03-05 17:39:59.049 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_ae9953e12ff94020ae3976e04eb3b730$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (4ce193fe-56d7-4024-a40b-be8e5e825bed): COMMIT;
{ fileUUID: '20430d2e-96b2-4cc0-8bbe-2cfc02d150f5',
  cnodeUserUUID: '67e8ce85-e143-4955-912b-cdaad54a14ce',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: '18c49550-0545-4ac4-bd70-88481c9ba16b.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: '5084d8de-c8bc-420b-ab1a-9ae6185e89e9',
  updatedAt: 2020-03-05T17:39:59.049Z,
  createdAt: 2020-03-05T17:39:59.049Z }




PROCESSING ROW #177: sourcefile: 27bb5fd6-d08a-4965-bcb3-4fb22286f405.mp3, cnodeUserUUID: d2342a3b-d8ba-40df-8db9-a9a3d81c5554, trackUUID: a0e4f952-a7f5-495d-ab08-a24d4ca86abd, multihash: QmQLrYxWsyByEU6EeojyZDDTWWujAnTzQhmGUc4tYqMhBU, dstPath: /file_storage/QmQLrYxWsyByEU6EeojyZDDTWWujAnTzQhmGUc4tYqMhBU
writing to db1...
Executing (20dfce26-0d51-4e35-b6c3-9fb2a3b5da3a): START TRANSACTION;
Executing (20dfce26-0d51-4e35-b6c3-9fb2a3b5da3a): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = 'd2342a3b-d8ba-40df-8db9-a9a3d81c5554' AND "File"."multihash" = 'QmQLrYxWsyByEU6EeojyZDDTWWujAnTzQhmGUc4tYqMhBU' AND "File"."sourceFile" = '27bb5fd6-d08a-4965-bcb3-4fb22286f405.mp3' AND "File"."storagePath" = '/file_storage/QmQLrYxWsyByEU6EeojyZDDTWWujAnTzQhmGUc4tYqMhBU' AND "File"."type" = 'copy320' AND "File"."trackUUID" = 'a0e4f952-a7f5-495d-ab08-a24d4ca86abd' LIMIT 1;
Executing (20dfce26-0d51-4e35-b6c3-9fb2a3b5da3a): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_968d0f9428924346b6e82d05e095f615$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('3a52df9d-1a42-4537-8265-2bbf9d060142','d2342a3b-d8ba-40df-8db9-a9a3d81c5554','a0e4f952-a7f5-495d-ab08-a24d4ca86abd','QmQLrYxWsyByEU6EeojyZDDTWWujAnTzQhmGUc4tYqMhBU','27bb5fd6-d08a-4965-bcb3-4fb22286f405.mp3','/file_storage/QmQLrYxWsyByEU6EeojyZDDTWWujAnTzQhmGUc4tYqMhBU','copy320','2020-03-05 17:39:59.448 +00:00','2020-03-05 17:39:59.448 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_968d0f9428924346b6e82d05e095f615$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (20dfce26-0d51-4e35-b6c3-9fb2a3b5da3a): COMMIT;
{ fileUUID: '3a52df9d-1a42-4537-8265-2bbf9d060142',
  cnodeUserUUID: 'd2342a3b-d8ba-40df-8db9-a9a3d81c5554',
  multihash: 'QmQLrYxWsyByEU6EeojyZDDTWWujAnTzQhmGUc4tYqMhBU',
  sourceFile: '27bb5fd6-d08a-4965-bcb3-4fb22286f405.mp3',
  storagePath:
   '/file_storage/QmQLrYxWsyByEU6EeojyZDDTWWujAnTzQhmGUc4tYqMhBU',
  type: 'copy320',
  trackUUID: 'a0e4f952-a7f5-495d-ab08-a24d4ca86abd',
  updatedAt: 2020-03-05T17:39:59.448Z,
  createdAt: 2020-03-05T17:39:59.448Z }
writing to db2...
Executing (14d883e1-adb9-465d-9035-8728c7104b21): START TRANSACTION;
Executing (14d883e1-adb9-465d-9035-8728c7104b21): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = 'd2342a3b-d8ba-40df-8db9-a9a3d81c5554' AND "File"."multihash" = 'QmQLrYxWsyByEU6EeojyZDDTWWujAnTzQhmGUc4tYqMhBU' AND "File"."sourceFile" = '27bb5fd6-d08a-4965-bcb3-4fb22286f405.mp3' AND "File"."storagePath" = '/file_storage/QmQLrYxWsyByEU6EeojyZDDTWWujAnTzQhmGUc4tYqMhBU' AND "File"."type" = 'copy320' AND "File"."trackUUID" = 'a0e4f952-a7f5-495d-ab08-a24d4ca86abd' LIMIT 1;
Executing (14d883e1-adb9-465d-9035-8728c7104b21): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_0efe3c455b894807bdfed99bb5b8f665$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('2fb18c27-fd51-4b7d-9ad2-dd987fb90672','d2342a3b-d8ba-40df-8db9-a9a3d81c5554','a0e4f952-a7f5-495d-ab08-a24d4ca86abd','QmQLrYxWsyByEU6EeojyZDDTWWujAnTzQhmGUc4tYqMhBU','27bb5fd6-d08a-4965-bcb3-4fb22286f405.mp3','/file_storage/QmQLrYxWsyByEU6EeojyZDDTWWujAnTzQhmGUc4tYqMhBU','copy320','2020-03-05 17:39:59.852 +00:00','2020-03-05 17:39:59.852 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_0efe3c455b894807bdfed99bb5b8f665$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (14d883e1-adb9-465d-9035-8728c7104b21): COMMIT;
{ fileUUID: '2fb18c27-fd51-4b7d-9ad2-dd987fb90672',
  cnodeUserUUID: 'd2342a3b-d8ba-40df-8db9-a9a3d81c5554',
  multihash: 'QmQLrYxWsyByEU6EeojyZDDTWWujAnTzQhmGUc4tYqMhBU',
  sourceFile: '27bb5fd6-d08a-4965-bcb3-4fb22286f405.mp3',
  storagePath:
   '/file_storage/QmQLrYxWsyByEU6EeojyZDDTWWujAnTzQhmGUc4tYqMhBU',
  type: 'copy320',
  trackUUID: 'a0e4f952-a7f5-495d-ab08-a24d4ca86abd',
  updatedAt: 2020-03-05T17:39:59.852Z,
  createdAt: 2020-03-05T17:39:59.852Z }
writing to db3...
Executing (e8c96251-f9fa-4fd3-a0e7-debf51542bb7): START TRANSACTION;
Executing (e8c96251-f9fa-4fd3-a0e7-debf51542bb7): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = 'd2342a3b-d8ba-40df-8db9-a9a3d81c5554' AND "File"."multihash" = 'QmQLrYxWsyByEU6EeojyZDDTWWujAnTzQhmGUc4tYqMhBU' AND "File"."sourceFile" = '27bb5fd6-d08a-4965-bcb3-4fb22286f405.mp3' AND "File"."storagePath" = '/file_storage/QmQLrYxWsyByEU6EeojyZDDTWWujAnTzQhmGUc4tYqMhBU' AND "File"."type" = 'copy320' AND "File"."trackUUID" = 'a0e4f952-a7f5-495d-ab08-a24d4ca86abd' LIMIT 1;
Executing (e8c96251-f9fa-4fd3-a0e7-debf51542bb7): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_00258512801e4d7d8da91d2e77a86c8b$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('7ab55652-8ddc-43f9-8fa0-bbb6dc5746f6','d2342a3b-d8ba-40df-8db9-a9a3d81c5554','a0e4f952-a7f5-495d-ab08-a24d4ca86abd','QmQLrYxWsyByEU6EeojyZDDTWWujAnTzQhmGUc4tYqMhBU','27bb5fd6-d08a-4965-bcb3-4fb22286f405.mp3','/file_storage/QmQLrYxWsyByEU6EeojyZDDTWWujAnTzQhmGUc4tYqMhBU','copy320','2020-03-05 17:40:00.243 +00:00','2020-03-05 17:40:00.243 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_00258512801e4d7d8da91d2e77a86c8b$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (e8c96251-f9fa-4fd3-a0e7-debf51542bb7): COMMIT;
{ fileUUID: '7ab55652-8ddc-43f9-8fa0-bbb6dc5746f6',
  cnodeUserUUID: 'd2342a3b-d8ba-40df-8db9-a9a3d81c5554',
  multihash: 'QmQLrYxWsyByEU6EeojyZDDTWWujAnTzQhmGUc4tYqMhBU',
  sourceFile: '27bb5fd6-d08a-4965-bcb3-4fb22286f405.mp3',
  storagePath:
   '/file_storage/QmQLrYxWsyByEU6EeojyZDDTWWujAnTzQhmGUc4tYqMhBU',
  type: 'copy320',
  trackUUID: 'a0e4f952-a7f5-495d-ab08-a24d4ca86abd',
  updatedAt: 2020-03-05T17:40:00.243Z,
  createdAt: 2020-03-05T17:40:00.243Z }




PROCESSING ROW #178: sourcefile: c642f7e9-3525-436f-ba8c-d66c9f4914cd.mp3, cnodeUserUUID: 11c34897-1946-4dfc-b59c-f646a1fc69fe, trackUUID: f41c5d98-d1a5-4be0-bdaf-922a20954df3, multihash: QmVHg9jsdkNjsKLdKskfxnCehs1sS8BkBFmtiMx9e1EAik, dstPath: /file_storage/QmVHg9jsdkNjsKLdKskfxnCehs1sS8BkBFmtiMx9e1EAik
writing to db1...
Executing (c478b13e-d93c-40d7-8c20-22239cb3ebb4): START TRANSACTION;
Executing (c478b13e-d93c-40d7-8c20-22239cb3ebb4): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '11c34897-1946-4dfc-b59c-f646a1fc69fe' AND "File"."multihash" = 'QmVHg9jsdkNjsKLdKskfxnCehs1sS8BkBFmtiMx9e1EAik' AND "File"."sourceFile" = 'c642f7e9-3525-436f-ba8c-d66c9f4914cd.mp3' AND "File"."storagePath" = '/file_storage/QmVHg9jsdkNjsKLdKskfxnCehs1sS8BkBFmtiMx9e1EAik' AND "File"."type" = 'copy320' AND "File"."trackUUID" = 'f41c5d98-d1a5-4be0-bdaf-922a20954df3' LIMIT 1;
Executing (c478b13e-d93c-40d7-8c20-22239cb3ebb4): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_9781be21589948ccbaf49032d8a2dfb8$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('42daae92-308a-42a4-8ce4-804bdf23aa3a','11c34897-1946-4dfc-b59c-f646a1fc69fe','f41c5d98-d1a5-4be0-bdaf-922a20954df3','QmVHg9jsdkNjsKLdKskfxnCehs1sS8BkBFmtiMx9e1EAik','c642f7e9-3525-436f-ba8c-d66c9f4914cd.mp3','/file_storage/QmVHg9jsdkNjsKLdKskfxnCehs1sS8BkBFmtiMx9e1EAik','copy320','2020-03-05 17:40:00.647 +00:00','2020-03-05 17:40:00.647 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_9781be21589948ccbaf49032d8a2dfb8$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (c478b13e-d93c-40d7-8c20-22239cb3ebb4): COMMIT;
{ fileUUID: '42daae92-308a-42a4-8ce4-804bdf23aa3a',
  cnodeUserUUID: '11c34897-1946-4dfc-b59c-f646a1fc69fe',
  multihash: 'QmVHg9jsdkNjsKLdKskfxnCehs1sS8BkBFmtiMx9e1EAik',
  sourceFile: 'c642f7e9-3525-436f-ba8c-d66c9f4914cd.mp3',
  storagePath:
   '/file_storage/QmVHg9jsdkNjsKLdKskfxnCehs1sS8BkBFmtiMx9e1EAik',
  type: 'copy320',
  trackUUID: 'f41c5d98-d1a5-4be0-bdaf-922a20954df3',
  updatedAt: 2020-03-05T17:40:00.647Z,
  createdAt: 2020-03-05T17:40:00.647Z }
writing to db2...
Executing (2c92d22d-7444-499b-b3a0-10829a2efa14): START TRANSACTION;
Executing (2c92d22d-7444-499b-b3a0-10829a2efa14): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '11c34897-1946-4dfc-b59c-f646a1fc69fe' AND "File"."multihash" = 'QmVHg9jsdkNjsKLdKskfxnCehs1sS8BkBFmtiMx9e1EAik' AND "File"."sourceFile" = 'c642f7e9-3525-436f-ba8c-d66c9f4914cd.mp3' AND "File"."storagePath" = '/file_storage/QmVHg9jsdkNjsKLdKskfxnCehs1sS8BkBFmtiMx9e1EAik' AND "File"."type" = 'copy320' AND "File"."trackUUID" = 'f41c5d98-d1a5-4be0-bdaf-922a20954df3' LIMIT 1;
Executing (2c92d22d-7444-499b-b3a0-10829a2efa14): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_967f990f4f7f47bbbe6403f781e56763$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('65db0cbb-db55-4bd5-9eb5-499b563ffa11','11c34897-1946-4dfc-b59c-f646a1fc69fe','f41c5d98-d1a5-4be0-bdaf-922a20954df3','QmVHg9jsdkNjsKLdKskfxnCehs1sS8BkBFmtiMx9e1EAik','c642f7e9-3525-436f-ba8c-d66c9f4914cd.mp3','/file_storage/QmVHg9jsdkNjsKLdKskfxnCehs1sS8BkBFmtiMx9e1EAik','copy320','2020-03-05 17:40:01.059 +00:00','2020-03-05 17:40:01.059 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_967f990f4f7f47bbbe6403f781e56763$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (2c92d22d-7444-499b-b3a0-10829a2efa14): COMMIT;
{ fileUUID: '65db0cbb-db55-4bd5-9eb5-499b563ffa11',
  cnodeUserUUID: '11c34897-1946-4dfc-b59c-f646a1fc69fe',
  multihash: 'QmVHg9jsdkNjsKLdKskfxnCehs1sS8BkBFmtiMx9e1EAik',
  sourceFile: 'c642f7e9-3525-436f-ba8c-d66c9f4914cd.mp3',
  storagePath:
   '/file_storage/QmVHg9jsdkNjsKLdKskfxnCehs1sS8BkBFmtiMx9e1EAik',
  type: 'copy320',
  trackUUID: 'f41c5d98-d1a5-4be0-bdaf-922a20954df3',
  updatedAt: 2020-03-05T17:40:01.059Z,
  createdAt: 2020-03-05T17:40:01.059Z }
writing to db3...
Executing (182a4999-72db-4049-9d14-ddafe4e8b715): START TRANSACTION;
Executing (182a4999-72db-4049-9d14-ddafe4e8b715): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '11c34897-1946-4dfc-b59c-f646a1fc69fe' AND "File"."multihash" = 'QmVHg9jsdkNjsKLdKskfxnCehs1sS8BkBFmtiMx9e1EAik' AND "File"."sourceFile" = 'c642f7e9-3525-436f-ba8c-d66c9f4914cd.mp3' AND "File"."storagePath" = '/file_storage/QmVHg9jsdkNjsKLdKskfxnCehs1sS8BkBFmtiMx9e1EAik' AND "File"."type" = 'copy320' AND "File"."trackUUID" = 'f41c5d98-d1a5-4be0-bdaf-922a20954df3' LIMIT 1;
Executing (182a4999-72db-4049-9d14-ddafe4e8b715): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_b120426b35ba4c52933c61a288ea4121$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('dd8dd3e6-da87-47e8-b278-6513f409773a','11c34897-1946-4dfc-b59c-f646a1fc69fe','f41c5d98-d1a5-4be0-bdaf-922a20954df3','QmVHg9jsdkNjsKLdKskfxnCehs1sS8BkBFmtiMx9e1EAik','c642f7e9-3525-436f-ba8c-d66c9f4914cd.mp3','/file_storage/QmVHg9jsdkNjsKLdKskfxnCehs1sS8BkBFmtiMx9e1EAik','copy320','2020-03-05 17:40:01.551 +00:00','2020-03-05 17:40:01.551 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_b120426b35ba4c52933c61a288ea4121$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (182a4999-72db-4049-9d14-ddafe4e8b715): COMMIT;
{ fileUUID: 'dd8dd3e6-da87-47e8-b278-6513f409773a',
  cnodeUserUUID: '11c34897-1946-4dfc-b59c-f646a1fc69fe',
  multihash: 'QmVHg9jsdkNjsKLdKskfxnCehs1sS8BkBFmtiMx9e1EAik',
  sourceFile: 'c642f7e9-3525-436f-ba8c-d66c9f4914cd.mp3',
  storagePath:
   '/file_storage/QmVHg9jsdkNjsKLdKskfxnCehs1sS8BkBFmtiMx9e1EAik',
  type: 'copy320',
  trackUUID: 'f41c5d98-d1a5-4be0-bdaf-922a20954df3',
  updatedAt: 2020-03-05T17:40:01.551Z,
  createdAt: 2020-03-05T17:40:01.551Z }




PROCESSING ROW #179: sourcefile: 2c7675c0-189f-4031-be21-1bfa5c17072b.mp3, cnodeUserUUID: 97d05e3c-3cd7-474b-97fb-ba487d527cfb, trackUUID: 2ee21c84-bbaa-406f-af9f-6570ee716cfd, multihash: QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM, dstPath: /file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM
writing to db1...
Executing (6c6e85d7-b1fa-4b15-b576-a9e8de562d32): START TRANSACTION;
Executing (6c6e85d7-b1fa-4b15-b576-a9e8de562d32): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '97d05e3c-3cd7-474b-97fb-ba487d527cfb' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = '2c7675c0-189f-4031-be21-1bfa5c17072b.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '2ee21c84-bbaa-406f-af9f-6570ee716cfd' LIMIT 1;
Executing (6c6e85d7-b1fa-4b15-b576-a9e8de562d32): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_a4d77e30e8d74fc6bc3183ad37265afb$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('457bb3c0-ac39-48e1-ad8b-7c001de1865a','97d05e3c-3cd7-474b-97fb-ba487d527cfb','2ee21c84-bbaa-406f-af9f-6570ee716cfd','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','2c7675c0-189f-4031-be21-1bfa5c17072b.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:40:01.942 +00:00','2020-03-05 17:40:01.942 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_a4d77e30e8d74fc6bc3183ad37265afb$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (6c6e85d7-b1fa-4b15-b576-a9e8de562d32): COMMIT;
{ fileUUID: '457bb3c0-ac39-48e1-ad8b-7c001de1865a',
  cnodeUserUUID: '97d05e3c-3cd7-474b-97fb-ba487d527cfb',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: '2c7675c0-189f-4031-be21-1bfa5c17072b.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: '2ee21c84-bbaa-406f-af9f-6570ee716cfd',
  updatedAt: 2020-03-05T17:40:01.942Z,
  createdAt: 2020-03-05T17:40:01.942Z }
writing to db2...
Executing (1fb3ca90-0207-48b1-8f46-1584cd12a199): START TRANSACTION;
Executing (1fb3ca90-0207-48b1-8f46-1584cd12a199): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '97d05e3c-3cd7-474b-97fb-ba487d527cfb' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = '2c7675c0-189f-4031-be21-1bfa5c17072b.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '2ee21c84-bbaa-406f-af9f-6570ee716cfd' LIMIT 1;
Executing (1fb3ca90-0207-48b1-8f46-1584cd12a199): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_838cd22f51f5474890d1f16cb4f4aef8$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('cc1d5c7a-4603-4afc-a780-875927d00467','97d05e3c-3cd7-474b-97fb-ba487d527cfb','2ee21c84-bbaa-406f-af9f-6570ee716cfd','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','2c7675c0-189f-4031-be21-1bfa5c17072b.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:40:02.342 +00:00','2020-03-05 17:40:02.342 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_838cd22f51f5474890d1f16cb4f4aef8$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (1fb3ca90-0207-48b1-8f46-1584cd12a199): COMMIT;
{ fileUUID: 'cc1d5c7a-4603-4afc-a780-875927d00467',
  cnodeUserUUID: '97d05e3c-3cd7-474b-97fb-ba487d527cfb',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: '2c7675c0-189f-4031-be21-1bfa5c17072b.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: '2ee21c84-bbaa-406f-af9f-6570ee716cfd',
  updatedAt: 2020-03-05T17:40:02.342Z,
  createdAt: 2020-03-05T17:40:02.342Z }
writing to db3...
Executing (e25764a3-5138-49d8-9de1-3c4dae39b783): START TRANSACTION;
Executing (e25764a3-5138-49d8-9de1-3c4dae39b783): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '97d05e3c-3cd7-474b-97fb-ba487d527cfb' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = '2c7675c0-189f-4031-be21-1bfa5c17072b.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '2ee21c84-bbaa-406f-af9f-6570ee716cfd' LIMIT 1;
Executing (e25764a3-5138-49d8-9de1-3c4dae39b783): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_6d963af2e0a64f3fbf46667887f39bfc$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('0aa4ef77-5fc2-466d-bcdc-7ab9c138c03d','97d05e3c-3cd7-474b-97fb-ba487d527cfb','2ee21c84-bbaa-406f-af9f-6570ee716cfd','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','2c7675c0-189f-4031-be21-1bfa5c17072b.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:40:02.735 +00:00','2020-03-05 17:40:02.735 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_6d963af2e0a64f3fbf46667887f39bfc$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (e25764a3-5138-49d8-9de1-3c4dae39b783): COMMIT;
{ fileUUID: '0aa4ef77-5fc2-466d-bcdc-7ab9c138c03d',
  cnodeUserUUID: '97d05e3c-3cd7-474b-97fb-ba487d527cfb',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: '2c7675c0-189f-4031-be21-1bfa5c17072b.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: '2ee21c84-bbaa-406f-af9f-6570ee716cfd',
  updatedAt: 2020-03-05T17:40:02.735Z,
  createdAt: 2020-03-05T17:40:02.735Z }




PROCESSING ROW #180: sourcefile: 0a06cb4f-1745-4e50-8c0a-ea74f61a2300.mp3, cnodeUserUUID: afbfe7f8-0b3f-45a9-8e57-2969890ca749, trackUUID: 3224febd-b18c-4865-9a6a-95474cfcece8, multihash: QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM, dstPath: /file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM
writing to db1...
Executing (2e7ce25f-01d0-4400-ba4d-856b83752293): START TRANSACTION;
Executing (2e7ce25f-01d0-4400-ba4d-856b83752293): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = 'afbfe7f8-0b3f-45a9-8e57-2969890ca749' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = '0a06cb4f-1745-4e50-8c0a-ea74f61a2300.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '3224febd-b18c-4865-9a6a-95474cfcece8' LIMIT 1;
Executing (2e7ce25f-01d0-4400-ba4d-856b83752293): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_03502da1b98b4d1887cd60be37f18b9e$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('927c8604-e42d-48a7-bc8a-38e49f2d7090','afbfe7f8-0b3f-45a9-8e57-2969890ca749','3224febd-b18c-4865-9a6a-95474cfcece8','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','0a06cb4f-1745-4e50-8c0a-ea74f61a2300.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:40:03.128 +00:00','2020-03-05 17:40:03.128 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_03502da1b98b4d1887cd60be37f18b9e$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (2e7ce25f-01d0-4400-ba4d-856b83752293): COMMIT;
{ fileUUID: '927c8604-e42d-48a7-bc8a-38e49f2d7090',
  cnodeUserUUID: 'afbfe7f8-0b3f-45a9-8e57-2969890ca749',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: '0a06cb4f-1745-4e50-8c0a-ea74f61a2300.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: '3224febd-b18c-4865-9a6a-95474cfcece8',
  updatedAt: 2020-03-05T17:40:03.128Z,
  createdAt: 2020-03-05T17:40:03.128Z }
writing to db2...
Executing (31a33fb1-3a2f-46e7-b787-00f635456d24): START TRANSACTION;
Executing (31a33fb1-3a2f-46e7-b787-00f635456d24): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = 'afbfe7f8-0b3f-45a9-8e57-2969890ca749' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = '0a06cb4f-1745-4e50-8c0a-ea74f61a2300.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '3224febd-b18c-4865-9a6a-95474cfcece8' LIMIT 1;
Executing (31a33fb1-3a2f-46e7-b787-00f635456d24): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_c4522916d19a4253bc6b40acd46bc7d0$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('c12c0aee-3752-4f61-93ce-1c44e76e68fb','afbfe7f8-0b3f-45a9-8e57-2969890ca749','3224febd-b18c-4865-9a6a-95474cfcece8','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','0a06cb4f-1745-4e50-8c0a-ea74f61a2300.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:40:03.515 +00:00','2020-03-05 17:40:03.515 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_c4522916d19a4253bc6b40acd46bc7d0$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (31a33fb1-3a2f-46e7-b787-00f635456d24): COMMIT;
{ fileUUID: 'c12c0aee-3752-4f61-93ce-1c44e76e68fb',
  cnodeUserUUID: 'afbfe7f8-0b3f-45a9-8e57-2969890ca749',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: '0a06cb4f-1745-4e50-8c0a-ea74f61a2300.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: '3224febd-b18c-4865-9a6a-95474cfcece8',
  updatedAt: 2020-03-05T17:40:03.515Z,
  createdAt: 2020-03-05T17:40:03.515Z }
writing to db3...
Executing (4ee7979a-a8cf-48a1-94f8-9bd4f3c83e2f): START TRANSACTION;
Executing (4ee7979a-a8cf-48a1-94f8-9bd4f3c83e2f): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = 'afbfe7f8-0b3f-45a9-8e57-2969890ca749' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = '0a06cb4f-1745-4e50-8c0a-ea74f61a2300.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '3224febd-b18c-4865-9a6a-95474cfcece8' LIMIT 1;
Executing (4ee7979a-a8cf-48a1-94f8-9bd4f3c83e2f): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_1b8df2fb91ae412c8a319a477066a07a$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('bf2b8872-fb54-42ec-a146-5dbea6741cfa','afbfe7f8-0b3f-45a9-8e57-2969890ca749','3224febd-b18c-4865-9a6a-95474cfcece8','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','0a06cb4f-1745-4e50-8c0a-ea74f61a2300.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:40:03.898 +00:00','2020-03-05 17:40:03.898 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_1b8df2fb91ae412c8a319a477066a07a$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (4ee7979a-a8cf-48a1-94f8-9bd4f3c83e2f): COMMIT;
{ fileUUID: 'bf2b8872-fb54-42ec-a146-5dbea6741cfa',
  cnodeUserUUID: 'afbfe7f8-0b3f-45a9-8e57-2969890ca749',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: '0a06cb4f-1745-4e50-8c0a-ea74f61a2300.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: '3224febd-b18c-4865-9a6a-95474cfcece8',
  updatedAt: 2020-03-05T17:40:03.898Z,
  createdAt: 2020-03-05T17:40:03.898Z }




PROCESSING ROW #181: sourcefile: 33ab1fc2-30ad-42cc-85d3-d7a7ad4361ee.mp3, cnodeUserUUID: 11c34897-1946-4dfc-b59c-f646a1fc69fe, trackUUID: 5b3953d4-4663-4aff-adb5-ebeb3e1d2004, multihash: QmVoZpJ8sXvBLrp1FRsjh99ktrXDesuKZcfyk9MHE8QXiA, dstPath: /file_storage/QmVoZpJ8sXvBLrp1FRsjh99ktrXDesuKZcfyk9MHE8QXiA
writing to db1...
Executing (fac24659-7b91-4ee8-a9ee-12735b751976): START TRANSACTION;
Executing (fac24659-7b91-4ee8-a9ee-12735b751976): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '11c34897-1946-4dfc-b59c-f646a1fc69fe' AND "File"."multihash" = 'QmVoZpJ8sXvBLrp1FRsjh99ktrXDesuKZcfyk9MHE8QXiA' AND "File"."sourceFile" = '33ab1fc2-30ad-42cc-85d3-d7a7ad4361ee.mp3' AND "File"."storagePath" = '/file_storage/QmVoZpJ8sXvBLrp1FRsjh99ktrXDesuKZcfyk9MHE8QXiA' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '5b3953d4-4663-4aff-adb5-ebeb3e1d2004' LIMIT 1;
Executing (fac24659-7b91-4ee8-a9ee-12735b751976): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_c6f61a6e996a457c809b5ec976ce141d$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('457cfa6a-d35b-4a36-9ebf-33bd87a0db10','11c34897-1946-4dfc-b59c-f646a1fc69fe','5b3953d4-4663-4aff-adb5-ebeb3e1d2004','QmVoZpJ8sXvBLrp1FRsjh99ktrXDesuKZcfyk9MHE8QXiA','33ab1fc2-30ad-42cc-85d3-d7a7ad4361ee.mp3','/file_storage/QmVoZpJ8sXvBLrp1FRsjh99ktrXDesuKZcfyk9MHE8QXiA','copy320','2020-03-05 17:40:04.271 +00:00','2020-03-05 17:40:04.271 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_c6f61a6e996a457c809b5ec976ce141d$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (fac24659-7b91-4ee8-a9ee-12735b751976): COMMIT;
{ fileUUID: '457cfa6a-d35b-4a36-9ebf-33bd87a0db10',
  cnodeUserUUID: '11c34897-1946-4dfc-b59c-f646a1fc69fe',
  multihash: 'QmVoZpJ8sXvBLrp1FRsjh99ktrXDesuKZcfyk9MHE8QXiA',
  sourceFile: '33ab1fc2-30ad-42cc-85d3-d7a7ad4361ee.mp3',
  storagePath:
   '/file_storage/QmVoZpJ8sXvBLrp1FRsjh99ktrXDesuKZcfyk9MHE8QXiA',
  type: 'copy320',
  trackUUID: '5b3953d4-4663-4aff-adb5-ebeb3e1d2004',
  updatedAt: 2020-03-05T17:40:04.271Z,
  createdAt: 2020-03-05T17:40:04.271Z }
writing to db2...
Executing (e7059d10-c383-44c7-87a6-40b788cb121b): START TRANSACTION;
Executing (e7059d10-c383-44c7-87a6-40b788cb121b): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '11c34897-1946-4dfc-b59c-f646a1fc69fe' AND "File"."multihash" = 'QmVoZpJ8sXvBLrp1FRsjh99ktrXDesuKZcfyk9MHE8QXiA' AND "File"."sourceFile" = '33ab1fc2-30ad-42cc-85d3-d7a7ad4361ee.mp3' AND "File"."storagePath" = '/file_storage/QmVoZpJ8sXvBLrp1FRsjh99ktrXDesuKZcfyk9MHE8QXiA' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '5b3953d4-4663-4aff-adb5-ebeb3e1d2004' LIMIT 1;
Executing (e7059d10-c383-44c7-87a6-40b788cb121b): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_d1ad617f5fc74446a530cf3d743fc7e5$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('73176d46-55d8-4c14-9686-49c65b0d294c','11c34897-1946-4dfc-b59c-f646a1fc69fe','5b3953d4-4663-4aff-adb5-ebeb3e1d2004','QmVoZpJ8sXvBLrp1FRsjh99ktrXDesuKZcfyk9MHE8QXiA','33ab1fc2-30ad-42cc-85d3-d7a7ad4361ee.mp3','/file_storage/QmVoZpJ8sXvBLrp1FRsjh99ktrXDesuKZcfyk9MHE8QXiA','copy320','2020-03-05 17:40:04.672 +00:00','2020-03-05 17:40:04.672 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_d1ad617f5fc74446a530cf3d743fc7e5$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (e7059d10-c383-44c7-87a6-40b788cb121b): COMMIT;
{ fileUUID: '73176d46-55d8-4c14-9686-49c65b0d294c',
  cnodeUserUUID: '11c34897-1946-4dfc-b59c-f646a1fc69fe',
  multihash: 'QmVoZpJ8sXvBLrp1FRsjh99ktrXDesuKZcfyk9MHE8QXiA',
  sourceFile: '33ab1fc2-30ad-42cc-85d3-d7a7ad4361ee.mp3',
  storagePath:
   '/file_storage/QmVoZpJ8sXvBLrp1FRsjh99ktrXDesuKZcfyk9MHE8QXiA',
  type: 'copy320',
  trackUUID: '5b3953d4-4663-4aff-adb5-ebeb3e1d2004',
  updatedAt: 2020-03-05T17:40:04.672Z,
  createdAt: 2020-03-05T17:40:04.672Z }
writing to db3...
Executing (025fa47d-7a24-41b2-8d63-f67449c738e6): START TRANSACTION;
Executing (025fa47d-7a24-41b2-8d63-f67449c738e6): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '11c34897-1946-4dfc-b59c-f646a1fc69fe' AND "File"."multihash" = 'QmVoZpJ8sXvBLrp1FRsjh99ktrXDesuKZcfyk9MHE8QXiA' AND "File"."sourceFile" = '33ab1fc2-30ad-42cc-85d3-d7a7ad4361ee.mp3' AND "File"."storagePath" = '/file_storage/QmVoZpJ8sXvBLrp1FRsjh99ktrXDesuKZcfyk9MHE8QXiA' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '5b3953d4-4663-4aff-adb5-ebeb3e1d2004' LIMIT 1;
Executing (025fa47d-7a24-41b2-8d63-f67449c738e6): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_850493c8d78a478cb915e7c2f510b781$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('3602a12e-6304-402a-ad68-1bc98802792e','11c34897-1946-4dfc-b59c-f646a1fc69fe','5b3953d4-4663-4aff-adb5-ebeb3e1d2004','QmVoZpJ8sXvBLrp1FRsjh99ktrXDesuKZcfyk9MHE8QXiA','33ab1fc2-30ad-42cc-85d3-d7a7ad4361ee.mp3','/file_storage/QmVoZpJ8sXvBLrp1FRsjh99ktrXDesuKZcfyk9MHE8QXiA','copy320','2020-03-05 17:40:05.075 +00:00','2020-03-05 17:40:05.075 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_850493c8d78a478cb915e7c2f510b781$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (025fa47d-7a24-41b2-8d63-f67449c738e6): COMMIT;
{ fileUUID: '3602a12e-6304-402a-ad68-1bc98802792e',
  cnodeUserUUID: '11c34897-1946-4dfc-b59c-f646a1fc69fe',
  multihash: 'QmVoZpJ8sXvBLrp1FRsjh99ktrXDesuKZcfyk9MHE8QXiA',
  sourceFile: '33ab1fc2-30ad-42cc-85d3-d7a7ad4361ee.mp3',
  storagePath:
   '/file_storage/QmVoZpJ8sXvBLrp1FRsjh99ktrXDesuKZcfyk9MHE8QXiA',
  type: 'copy320',
  trackUUID: '5b3953d4-4663-4aff-adb5-ebeb3e1d2004',
  updatedAt: 2020-03-05T17:40:05.075Z,
  createdAt: 2020-03-05T17:40:05.075Z }




PROCESSING ROW #182: sourcefile: bf918ae1-9589-414c-8c85-4eacbfcc4eb0.mp3, cnodeUserUUID: 11c34897-1946-4dfc-b59c-f646a1fc69fe, trackUUID: a705a3ef-959f-4f2f-beb7-ee90dcaafa90, multihash: QmSmNMoVwZfK3AJyxWNygXMQqCKwqz8FXY66nN1FR8BWhd, dstPath: /file_storage/QmSmNMoVwZfK3AJyxWNygXMQqCKwqz8FXY66nN1FR8BWhd
writing to db1...
Executing (7a3b8a64-7ccf-4ff4-b021-9d65c459ee51): START TRANSACTION;
Executing (7a3b8a64-7ccf-4ff4-b021-9d65c459ee51): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '11c34897-1946-4dfc-b59c-f646a1fc69fe' AND "File"."multihash" = 'QmSmNMoVwZfK3AJyxWNygXMQqCKwqz8FXY66nN1FR8BWhd' AND "File"."sourceFile" = 'bf918ae1-9589-414c-8c85-4eacbfcc4eb0.mp3' AND "File"."storagePath" = '/file_storage/QmSmNMoVwZfK3AJyxWNygXMQqCKwqz8FXY66nN1FR8BWhd' AND "File"."type" = 'copy320' AND "File"."trackUUID" = 'a705a3ef-959f-4f2f-beb7-ee90dcaafa90' LIMIT 1;
Executing (7a3b8a64-7ccf-4ff4-b021-9d65c459ee51): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_64c8beb250fb49318b74cc6c93d6db29$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('c1ef6f91-ccae-4f6c-a866-745956fad645','11c34897-1946-4dfc-b59c-f646a1fc69fe','a705a3ef-959f-4f2f-beb7-ee90dcaafa90','QmSmNMoVwZfK3AJyxWNygXMQqCKwqz8FXY66nN1FR8BWhd','bf918ae1-9589-414c-8c85-4eacbfcc4eb0.mp3','/file_storage/QmSmNMoVwZfK3AJyxWNygXMQqCKwqz8FXY66nN1FR8BWhd','copy320','2020-03-05 17:40:05.469 +00:00','2020-03-05 17:40:05.469 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_64c8beb250fb49318b74cc6c93d6db29$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (7a3b8a64-7ccf-4ff4-b021-9d65c459ee51): COMMIT;
{ fileUUID: 'c1ef6f91-ccae-4f6c-a866-745956fad645',
  cnodeUserUUID: '11c34897-1946-4dfc-b59c-f646a1fc69fe',
  multihash: 'QmSmNMoVwZfK3AJyxWNygXMQqCKwqz8FXY66nN1FR8BWhd',
  sourceFile: 'bf918ae1-9589-414c-8c85-4eacbfcc4eb0.mp3',
  storagePath:
   '/file_storage/QmSmNMoVwZfK3AJyxWNygXMQqCKwqz8FXY66nN1FR8BWhd',
  type: 'copy320',
  trackUUID: 'a705a3ef-959f-4f2f-beb7-ee90dcaafa90',
  updatedAt: 2020-03-05T17:40:05.469Z,
  createdAt: 2020-03-05T17:40:05.469Z }
writing to db2...
Executing (f24b0fbd-d2bd-43fe-8dc3-feb67f4689d1): START TRANSACTION;
Executing (f24b0fbd-d2bd-43fe-8dc3-feb67f4689d1): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '11c34897-1946-4dfc-b59c-f646a1fc69fe' AND "File"."multihash" = 'QmSmNMoVwZfK3AJyxWNygXMQqCKwqz8FXY66nN1FR8BWhd' AND "File"."sourceFile" = 'bf918ae1-9589-414c-8c85-4eacbfcc4eb0.mp3' AND "File"."storagePath" = '/file_storage/QmSmNMoVwZfK3AJyxWNygXMQqCKwqz8FXY66nN1FR8BWhd' AND "File"."type" = 'copy320' AND "File"."trackUUID" = 'a705a3ef-959f-4f2f-beb7-ee90dcaafa90' LIMIT 1;
Executing (f24b0fbd-d2bd-43fe-8dc3-feb67f4689d1): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_fa5380c3f7584a5b8521220b85029ecd$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('0b374c8e-552c-494b-aefb-8c73a3f187b7','11c34897-1946-4dfc-b59c-f646a1fc69fe','a705a3ef-959f-4f2f-beb7-ee90dcaafa90','QmSmNMoVwZfK3AJyxWNygXMQqCKwqz8FXY66nN1FR8BWhd','bf918ae1-9589-414c-8c85-4eacbfcc4eb0.mp3','/file_storage/QmSmNMoVwZfK3AJyxWNygXMQqCKwqz8FXY66nN1FR8BWhd','copy320','2020-03-05 17:40:05.857 +00:00','2020-03-05 17:40:05.857 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_fa5380c3f7584a5b8521220b85029ecd$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (f24b0fbd-d2bd-43fe-8dc3-feb67f4689d1): COMMIT;
{ fileUUID: '0b374c8e-552c-494b-aefb-8c73a3f187b7',
  cnodeUserUUID: '11c34897-1946-4dfc-b59c-f646a1fc69fe',
  multihash: 'QmSmNMoVwZfK3AJyxWNygXMQqCKwqz8FXY66nN1FR8BWhd',
  sourceFile: 'bf918ae1-9589-414c-8c85-4eacbfcc4eb0.mp3',
  storagePath:
   '/file_storage/QmSmNMoVwZfK3AJyxWNygXMQqCKwqz8FXY66nN1FR8BWhd',
  type: 'copy320',
  trackUUID: 'a705a3ef-959f-4f2f-beb7-ee90dcaafa90',
  updatedAt: 2020-03-05T17:40:05.857Z,
  createdAt: 2020-03-05T17:40:05.857Z }
writing to db3...
Executing (21608a9e-69ed-4814-b2a8-01513cd924f0): START TRANSACTION;
Executing (21608a9e-69ed-4814-b2a8-01513cd924f0): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '11c34897-1946-4dfc-b59c-f646a1fc69fe' AND "File"."multihash" = 'QmSmNMoVwZfK3AJyxWNygXMQqCKwqz8FXY66nN1FR8BWhd' AND "File"."sourceFile" = 'bf918ae1-9589-414c-8c85-4eacbfcc4eb0.mp3' AND "File"."storagePath" = '/file_storage/QmSmNMoVwZfK3AJyxWNygXMQqCKwqz8FXY66nN1FR8BWhd' AND "File"."type" = 'copy320' AND "File"."trackUUID" = 'a705a3ef-959f-4f2f-beb7-ee90dcaafa90' LIMIT 1;
Executing (21608a9e-69ed-4814-b2a8-01513cd924f0): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_a29fdfd9a70b4a0189714ac6515ad643$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('f2d92923-5d9f-4474-877a-5e340de3eb6b','11c34897-1946-4dfc-b59c-f646a1fc69fe','a705a3ef-959f-4f2f-beb7-ee90dcaafa90','QmSmNMoVwZfK3AJyxWNygXMQqCKwqz8FXY66nN1FR8BWhd','bf918ae1-9589-414c-8c85-4eacbfcc4eb0.mp3','/file_storage/QmSmNMoVwZfK3AJyxWNygXMQqCKwqz8FXY66nN1FR8BWhd','copy320','2020-03-05 17:40:06.243 +00:00','2020-03-05 17:40:06.243 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_a29fdfd9a70b4a0189714ac6515ad643$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (21608a9e-69ed-4814-b2a8-01513cd924f0): COMMIT;
{ fileUUID: 'f2d92923-5d9f-4474-877a-5e340de3eb6b',
  cnodeUserUUID: '11c34897-1946-4dfc-b59c-f646a1fc69fe',
  multihash: 'QmSmNMoVwZfK3AJyxWNygXMQqCKwqz8FXY66nN1FR8BWhd',
  sourceFile: 'bf918ae1-9589-414c-8c85-4eacbfcc4eb0.mp3',
  storagePath:
   '/file_storage/QmSmNMoVwZfK3AJyxWNygXMQqCKwqz8FXY66nN1FR8BWhd',
  type: 'copy320',
  trackUUID: 'a705a3ef-959f-4f2f-beb7-ee90dcaafa90',
  updatedAt: 2020-03-05T17:40:06.243Z,
  createdAt: 2020-03-05T17:40:06.243Z }




PROCESSING ROW #183: sourcefile: f1d79d59-f1a7-4c9e-a741-c9ef9811f2bb.mp3, cnodeUserUUID: 11c34897-1946-4dfc-b59c-f646a1fc69fe, trackUUID: c838a7e4-f342-4ae5-92f3-e01aad6632b1, multihash: Qmcq98JQi3gDzmi1AmnnRhMVw8dpEV43GCEiWhRkknpNgd, dstPath: /file_storage/Qmcq98JQi3gDzmi1AmnnRhMVw8dpEV43GCEiWhRkknpNgd
writing to db1...
Executing (645130bc-ab3a-4cfb-8650-f3f3508d45f3): START TRANSACTION;
Executing (645130bc-ab3a-4cfb-8650-f3f3508d45f3): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '11c34897-1946-4dfc-b59c-f646a1fc69fe' AND "File"."multihash" = 'Qmcq98JQi3gDzmi1AmnnRhMVw8dpEV43GCEiWhRkknpNgd' AND "File"."sourceFile" = 'f1d79d59-f1a7-4c9e-a741-c9ef9811f2bb.mp3' AND "File"."storagePath" = '/file_storage/Qmcq98JQi3gDzmi1AmnnRhMVw8dpEV43GCEiWhRkknpNgd' AND "File"."type" = 'copy320' AND "File"."trackUUID" = 'c838a7e4-f342-4ae5-92f3-e01aad6632b1' LIMIT 1;
Executing (645130bc-ab3a-4cfb-8650-f3f3508d45f3): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_28cacfcafbce45d1ae07f367cdce877e$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('9165ae1c-c7fe-415f-9075-d7a368ca447d','11c34897-1946-4dfc-b59c-f646a1fc69fe','c838a7e4-f342-4ae5-92f3-e01aad6632b1','Qmcq98JQi3gDzmi1AmnnRhMVw8dpEV43GCEiWhRkknpNgd','f1d79d59-f1a7-4c9e-a741-c9ef9811f2bb.mp3','/file_storage/Qmcq98JQi3gDzmi1AmnnRhMVw8dpEV43GCEiWhRkknpNgd','copy320','2020-03-05 17:40:06.639 +00:00','2020-03-05 17:40:06.639 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_28cacfcafbce45d1ae07f367cdce877e$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (645130bc-ab3a-4cfb-8650-f3f3508d45f3): COMMIT;
{ fileUUID: '9165ae1c-c7fe-415f-9075-d7a368ca447d',
  cnodeUserUUID: '11c34897-1946-4dfc-b59c-f646a1fc69fe',
  multihash: 'Qmcq98JQi3gDzmi1AmnnRhMVw8dpEV43GCEiWhRkknpNgd',
  sourceFile: 'f1d79d59-f1a7-4c9e-a741-c9ef9811f2bb.mp3',
  storagePath:
   '/file_storage/Qmcq98JQi3gDzmi1AmnnRhMVw8dpEV43GCEiWhRkknpNgd',
  type: 'copy320',
  trackUUID: 'c838a7e4-f342-4ae5-92f3-e01aad6632b1',
  updatedAt: 2020-03-05T17:40:06.639Z,
  createdAt: 2020-03-05T17:40:06.639Z }
writing to db2...
Executing (4adf9cc9-b128-4661-a8dc-b2d9b4788d78): START TRANSACTION;
Executing (4adf9cc9-b128-4661-a8dc-b2d9b4788d78): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '11c34897-1946-4dfc-b59c-f646a1fc69fe' AND "File"."multihash" = 'Qmcq98JQi3gDzmi1AmnnRhMVw8dpEV43GCEiWhRkknpNgd' AND "File"."sourceFile" = 'f1d79d59-f1a7-4c9e-a741-c9ef9811f2bb.mp3' AND "File"."storagePath" = '/file_storage/Qmcq98JQi3gDzmi1AmnnRhMVw8dpEV43GCEiWhRkknpNgd' AND "File"."type" = 'copy320' AND "File"."trackUUID" = 'c838a7e4-f342-4ae5-92f3-e01aad6632b1' LIMIT 1;
Executing (4adf9cc9-b128-4661-a8dc-b2d9b4788d78): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_4b08f1e634cd40b18a4de46bfbb52306$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('c24f9b32-2895-439f-a430-dadf4d6a9cf3','11c34897-1946-4dfc-b59c-f646a1fc69fe','c838a7e4-f342-4ae5-92f3-e01aad6632b1','Qmcq98JQi3gDzmi1AmnnRhMVw8dpEV43GCEiWhRkknpNgd','f1d79d59-f1a7-4c9e-a741-c9ef9811f2bb.mp3','/file_storage/Qmcq98JQi3gDzmi1AmnnRhMVw8dpEV43GCEiWhRkknpNgd','copy320','2020-03-05 17:40:07.030 +00:00','2020-03-05 17:40:07.030 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_4b08f1e634cd40b18a4de46bfbb52306$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (4adf9cc9-b128-4661-a8dc-b2d9b4788d78): COMMIT;
{ fileUUID: 'c24f9b32-2895-439f-a430-dadf4d6a9cf3',
  cnodeUserUUID: '11c34897-1946-4dfc-b59c-f646a1fc69fe',
  multihash: 'Qmcq98JQi3gDzmi1AmnnRhMVw8dpEV43GCEiWhRkknpNgd',
  sourceFile: 'f1d79d59-f1a7-4c9e-a741-c9ef9811f2bb.mp3',
  storagePath:
   '/file_storage/Qmcq98JQi3gDzmi1AmnnRhMVw8dpEV43GCEiWhRkknpNgd',
  type: 'copy320',
  trackUUID: 'c838a7e4-f342-4ae5-92f3-e01aad6632b1',
  updatedAt: 2020-03-05T17:40:07.030Z,
  createdAt: 2020-03-05T17:40:07.030Z }
writing to db3...
Executing (0c6bc8a3-4923-4a21-9b7c-8858627b6d03): START TRANSACTION;
Executing (0c6bc8a3-4923-4a21-9b7c-8858627b6d03): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '11c34897-1946-4dfc-b59c-f646a1fc69fe' AND "File"."multihash" = 'Qmcq98JQi3gDzmi1AmnnRhMVw8dpEV43GCEiWhRkknpNgd' AND "File"."sourceFile" = 'f1d79d59-f1a7-4c9e-a741-c9ef9811f2bb.mp3' AND "File"."storagePath" = '/file_storage/Qmcq98JQi3gDzmi1AmnnRhMVw8dpEV43GCEiWhRkknpNgd' AND "File"."type" = 'copy320' AND "File"."trackUUID" = 'c838a7e4-f342-4ae5-92f3-e01aad6632b1' LIMIT 1;
Executing (0c6bc8a3-4923-4a21-9b7c-8858627b6d03): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_76244c657aa44086b4db95e006d31a47$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('3817f96f-1edd-477a-9b4c-4a116065dd51','11c34897-1946-4dfc-b59c-f646a1fc69fe','c838a7e4-f342-4ae5-92f3-e01aad6632b1','Qmcq98JQi3gDzmi1AmnnRhMVw8dpEV43GCEiWhRkknpNgd','f1d79d59-f1a7-4c9e-a741-c9ef9811f2bb.mp3','/file_storage/Qmcq98JQi3gDzmi1AmnnRhMVw8dpEV43GCEiWhRkknpNgd','copy320','2020-03-05 17:40:07.418 +00:00','2020-03-05 17:40:07.418 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_76244c657aa44086b4db95e006d31a47$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (0c6bc8a3-4923-4a21-9b7c-8858627b6d03): COMMIT;
{ fileUUID: '3817f96f-1edd-477a-9b4c-4a116065dd51',
  cnodeUserUUID: '11c34897-1946-4dfc-b59c-f646a1fc69fe',
  multihash: 'Qmcq98JQi3gDzmi1AmnnRhMVw8dpEV43GCEiWhRkknpNgd',
  sourceFile: 'f1d79d59-f1a7-4c9e-a741-c9ef9811f2bb.mp3',
  storagePath:
   '/file_storage/Qmcq98JQi3gDzmi1AmnnRhMVw8dpEV43GCEiWhRkknpNgd',
  type: 'copy320',
  trackUUID: 'c838a7e4-f342-4ae5-92f3-e01aad6632b1',
  updatedAt: 2020-03-05T17:40:07.418Z,
  createdAt: 2020-03-05T17:40:07.418Z }




PROCESSING ROW #184: sourcefile: 2a3640d3-2f8f-48f1-bb52-e64e52df261f.mp3, cnodeUserUUID: 285d1a3d-8657-4945-95a8-ef744ad04441, trackUUID: a3cbb0b5-7295-4db2-ae28-10f68948d76f, multihash: QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM, dstPath: /file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM
writing to db1...
Executing (cded6ec3-39f9-4cad-acae-9ea7beae128f): START TRANSACTION;
Executing (cded6ec3-39f9-4cad-acae-9ea7beae128f): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '285d1a3d-8657-4945-95a8-ef744ad04441' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = '2a3640d3-2f8f-48f1-bb52-e64e52df261f.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = 'a3cbb0b5-7295-4db2-ae28-10f68948d76f' LIMIT 1;
Executing (cded6ec3-39f9-4cad-acae-9ea7beae128f): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_2bdcd0fec9fe46b182d577351634ec6e$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('04a59c57-9076-40ed-b16c-80780e0ac43b','285d1a3d-8657-4945-95a8-ef744ad04441','a3cbb0b5-7295-4db2-ae28-10f68948d76f','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','2a3640d3-2f8f-48f1-bb52-e64e52df261f.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:40:07.805 +00:00','2020-03-05 17:40:07.805 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_2bdcd0fec9fe46b182d577351634ec6e$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (cded6ec3-39f9-4cad-acae-9ea7beae128f): COMMIT;
{ fileUUID: '04a59c57-9076-40ed-b16c-80780e0ac43b',
  cnodeUserUUID: '285d1a3d-8657-4945-95a8-ef744ad04441',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: '2a3640d3-2f8f-48f1-bb52-e64e52df261f.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: 'a3cbb0b5-7295-4db2-ae28-10f68948d76f',
  updatedAt: 2020-03-05T17:40:07.805Z,
  createdAt: 2020-03-05T17:40:07.805Z }
writing to db2...
Executing (a7cead4d-5e57-48bf-9dc5-4e97350805cd): START TRANSACTION;
Executing (a7cead4d-5e57-48bf-9dc5-4e97350805cd): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '285d1a3d-8657-4945-95a8-ef744ad04441' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = '2a3640d3-2f8f-48f1-bb52-e64e52df261f.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = 'a3cbb0b5-7295-4db2-ae28-10f68948d76f' LIMIT 1;
Executing (a7cead4d-5e57-48bf-9dc5-4e97350805cd): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_d0ac9e69e202471e88e95127779c505b$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('b757f9b7-bf33-41c7-a737-c13b1fcc08cf','285d1a3d-8657-4945-95a8-ef744ad04441','a3cbb0b5-7295-4db2-ae28-10f68948d76f','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','2a3640d3-2f8f-48f1-bb52-e64e52df261f.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:40:08.194 +00:00','2020-03-05 17:40:08.194 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_d0ac9e69e202471e88e95127779c505b$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (a7cead4d-5e57-48bf-9dc5-4e97350805cd): COMMIT;
{ fileUUID: 'b757f9b7-bf33-41c7-a737-c13b1fcc08cf',
  cnodeUserUUID: '285d1a3d-8657-4945-95a8-ef744ad04441',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: '2a3640d3-2f8f-48f1-bb52-e64e52df261f.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: 'a3cbb0b5-7295-4db2-ae28-10f68948d76f',
  updatedAt: 2020-03-05T17:40:08.194Z,
  createdAt: 2020-03-05T17:40:08.194Z }
writing to db3...
Executing (7e2860e8-490b-4338-abd1-4c79dbd66249): START TRANSACTION;
Executing (7e2860e8-490b-4338-abd1-4c79dbd66249): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '285d1a3d-8657-4945-95a8-ef744ad04441' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = '2a3640d3-2f8f-48f1-bb52-e64e52df261f.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = 'a3cbb0b5-7295-4db2-ae28-10f68948d76f' LIMIT 1;
Executing (7e2860e8-490b-4338-abd1-4c79dbd66249): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_df6708a1ae2c49edadb45513ba85b4cc$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('eee3054d-7ba7-4998-88de-27c05f79c738','285d1a3d-8657-4945-95a8-ef744ad04441','a3cbb0b5-7295-4db2-ae28-10f68948d76f','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','2a3640d3-2f8f-48f1-bb52-e64e52df261f.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:40:08.594 +00:00','2020-03-05 17:40:08.594 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_df6708a1ae2c49edadb45513ba85b4cc$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (7e2860e8-490b-4338-abd1-4c79dbd66249): COMMIT;
{ fileUUID: 'eee3054d-7ba7-4998-88de-27c05f79c738',
  cnodeUserUUID: '285d1a3d-8657-4945-95a8-ef744ad04441',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: '2a3640d3-2f8f-48f1-bb52-e64e52df261f.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: 'a3cbb0b5-7295-4db2-ae28-10f68948d76f',
  updatedAt: 2020-03-05T17:40:08.594Z,
  createdAt: 2020-03-05T17:40:08.594Z }




PROCESSING ROW #185: sourcefile: 69cd9f85-6382-47e9-ae31-b34337c07f4a.mp3, cnodeUserUUID: 79d87def-8771-4c66-8c5c-91f19580f541, trackUUID: 76d1e0e9-fc7a-41a4-beb5-9b217504916e, multihash: QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM, dstPath: /file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM
writing to db1...
Executing (aafc6870-bdab-4f1b-a0de-40ee7b25e325): START TRANSACTION;
Executing (aafc6870-bdab-4f1b-a0de-40ee7b25e325): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '79d87def-8771-4c66-8c5c-91f19580f541' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = '69cd9f85-6382-47e9-ae31-b34337c07f4a.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '76d1e0e9-fc7a-41a4-beb5-9b217504916e' LIMIT 1;
Executing (aafc6870-bdab-4f1b-a0de-40ee7b25e325): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_17309273721a4e5ba528f2600d9bdfb9$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('1967b38b-c1f2-46cf-969a-0e7438b11495','79d87def-8771-4c66-8c5c-91f19580f541','76d1e0e9-fc7a-41a4-beb5-9b217504916e','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','69cd9f85-6382-47e9-ae31-b34337c07f4a.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:40:08.995 +00:00','2020-03-05 17:40:08.995 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_17309273721a4e5ba528f2600d9bdfb9$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (aafc6870-bdab-4f1b-a0de-40ee7b25e325): COMMIT;
{ fileUUID: '1967b38b-c1f2-46cf-969a-0e7438b11495',
  cnodeUserUUID: '79d87def-8771-4c66-8c5c-91f19580f541',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: '69cd9f85-6382-47e9-ae31-b34337c07f4a.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: '76d1e0e9-fc7a-41a4-beb5-9b217504916e',
  updatedAt: 2020-03-05T17:40:08.995Z,
  createdAt: 2020-03-05T17:40:08.995Z }
writing to db2...
Executing (59c388b2-66d7-4446-8d99-3135e36c5c6e): START TRANSACTION;
Executing (59c388b2-66d7-4446-8d99-3135e36c5c6e): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '79d87def-8771-4c66-8c5c-91f19580f541' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = '69cd9f85-6382-47e9-ae31-b34337c07f4a.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '76d1e0e9-fc7a-41a4-beb5-9b217504916e' LIMIT 1;
Executing (59c388b2-66d7-4446-8d99-3135e36c5c6e): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_6fcc8414f8324e629252189c4478ee3d$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('37499b3b-fa47-4fa0-bd7b-10fb38b254c1','79d87def-8771-4c66-8c5c-91f19580f541','76d1e0e9-fc7a-41a4-beb5-9b217504916e','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','69cd9f85-6382-47e9-ae31-b34337c07f4a.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:40:09.390 +00:00','2020-03-05 17:40:09.390 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_6fcc8414f8324e629252189c4478ee3d$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (59c388b2-66d7-4446-8d99-3135e36c5c6e): COMMIT;
{ fileUUID: '37499b3b-fa47-4fa0-bd7b-10fb38b254c1',
  cnodeUserUUID: '79d87def-8771-4c66-8c5c-91f19580f541',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: '69cd9f85-6382-47e9-ae31-b34337c07f4a.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: '76d1e0e9-fc7a-41a4-beb5-9b217504916e',
  updatedAt: 2020-03-05T17:40:09.390Z,
  createdAt: 2020-03-05T17:40:09.390Z }
writing to db3...
Executing (37026e5e-e1a3-45fc-b546-964453ee45f6): START TRANSACTION;
Executing (37026e5e-e1a3-45fc-b546-964453ee45f6): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '79d87def-8771-4c66-8c5c-91f19580f541' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = '69cd9f85-6382-47e9-ae31-b34337c07f4a.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '76d1e0e9-fc7a-41a4-beb5-9b217504916e' LIMIT 1;
Executing (37026e5e-e1a3-45fc-b546-964453ee45f6): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_838d98b3bfc54f818508cafe8dcb7f35$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('5fc0354a-d1cf-4f99-8444-50eef3049176','79d87def-8771-4c66-8c5c-91f19580f541','76d1e0e9-fc7a-41a4-beb5-9b217504916e','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','69cd9f85-6382-47e9-ae31-b34337c07f4a.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:40:09.772 +00:00','2020-03-05 17:40:09.772 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_838d98b3bfc54f818508cafe8dcb7f35$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (37026e5e-e1a3-45fc-b546-964453ee45f6): COMMIT;
{ fileUUID: '5fc0354a-d1cf-4f99-8444-50eef3049176',
  cnodeUserUUID: '79d87def-8771-4c66-8c5c-91f19580f541',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: '69cd9f85-6382-47e9-ae31-b34337c07f4a.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: '76d1e0e9-fc7a-41a4-beb5-9b217504916e',
  updatedAt: 2020-03-05T17:40:09.772Z,
  createdAt: 2020-03-05T17:40:09.772Z }




PROCESSING ROW #186: sourcefile: 497f6aae-2515-4b00-b9d2-58c7827f1096.mp3, cnodeUserUUID: ce085e41-0e98-4ea5-ad1f-bd4f38dd4a5b, trackUUID: 5da1bb54-570d-45fb-841f-6c3d210cfdca, multihash: QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM, dstPath: /file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM
writing to db1...
Executing (cd2d182d-26c7-49ef-91e1-7e7245282c05): START TRANSACTION;
Executing (cd2d182d-26c7-49ef-91e1-7e7245282c05): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = 'ce085e41-0e98-4ea5-ad1f-bd4f38dd4a5b' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = '497f6aae-2515-4b00-b9d2-58c7827f1096.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '5da1bb54-570d-45fb-841f-6c3d210cfdca' LIMIT 1;
Executing (cd2d182d-26c7-49ef-91e1-7e7245282c05): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_3b59386457c549c092e212ee743b66a4$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('db765f2b-739b-49ae-ac45-b3e6421e8cb6','ce085e41-0e98-4ea5-ad1f-bd4f38dd4a5b','5da1bb54-570d-45fb-841f-6c3d210cfdca','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','497f6aae-2515-4b00-b9d2-58c7827f1096.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:40:10.158 +00:00','2020-03-05 17:40:10.158 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_3b59386457c549c092e212ee743b66a4$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (cd2d182d-26c7-49ef-91e1-7e7245282c05): COMMIT;
{ fileUUID: 'db765f2b-739b-49ae-ac45-b3e6421e8cb6',
  cnodeUserUUID: 'ce085e41-0e98-4ea5-ad1f-bd4f38dd4a5b',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: '497f6aae-2515-4b00-b9d2-58c7827f1096.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: '5da1bb54-570d-45fb-841f-6c3d210cfdca',
  updatedAt: 2020-03-05T17:40:10.158Z,
  createdAt: 2020-03-05T17:40:10.158Z }
writing to db2...
Executing (c1e6b215-d966-4dc8-9cb7-e85245bb828c): START TRANSACTION;
Executing (c1e6b215-d966-4dc8-9cb7-e85245bb828c): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = 'ce085e41-0e98-4ea5-ad1f-bd4f38dd4a5b' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = '497f6aae-2515-4b00-b9d2-58c7827f1096.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '5da1bb54-570d-45fb-841f-6c3d210cfdca' LIMIT 1;
Executing (c1e6b215-d966-4dc8-9cb7-e85245bb828c): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_f7b36d2cafb24a9fb02f43f17b97d773$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('1ef7a3a1-c592-4a31-8280-090e872212cc','ce085e41-0e98-4ea5-ad1f-bd4f38dd4a5b','5da1bb54-570d-45fb-841f-6c3d210cfdca','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','497f6aae-2515-4b00-b9d2-58c7827f1096.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:40:10.543 +00:00','2020-03-05 17:40:10.543 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_f7b36d2cafb24a9fb02f43f17b97d773$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (c1e6b215-d966-4dc8-9cb7-e85245bb828c): COMMIT;
{ fileUUID: '1ef7a3a1-c592-4a31-8280-090e872212cc',
  cnodeUserUUID: 'ce085e41-0e98-4ea5-ad1f-bd4f38dd4a5b',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: '497f6aae-2515-4b00-b9d2-58c7827f1096.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: '5da1bb54-570d-45fb-841f-6c3d210cfdca',
  updatedAt: 2020-03-05T17:40:10.543Z,
  createdAt: 2020-03-05T17:40:10.543Z }
writing to db3...
Executing (ce3ade44-e2f1-4804-8d26-abd5a1f600ba): START TRANSACTION;
Executing (ce3ade44-e2f1-4804-8d26-abd5a1f600ba): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = 'ce085e41-0e98-4ea5-ad1f-bd4f38dd4a5b' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = '497f6aae-2515-4b00-b9d2-58c7827f1096.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '5da1bb54-570d-45fb-841f-6c3d210cfdca' LIMIT 1;
Executing (ce3ade44-e2f1-4804-8d26-abd5a1f600ba): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_6050a661ec1941eba2867ab69601cc04$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('5c34994f-8364-42a1-b262-5b5b654bfb6a','ce085e41-0e98-4ea5-ad1f-bd4f38dd4a5b','5da1bb54-570d-45fb-841f-6c3d210cfdca','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','497f6aae-2515-4b00-b9d2-58c7827f1096.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:40:10.931 +00:00','2020-03-05 17:40:10.931 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_6050a661ec1941eba2867ab69601cc04$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (ce3ade44-e2f1-4804-8d26-abd5a1f600ba): COMMIT;
{ fileUUID: '5c34994f-8364-42a1-b262-5b5b654bfb6a',
  cnodeUserUUID: 'ce085e41-0e98-4ea5-ad1f-bd4f38dd4a5b',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: '497f6aae-2515-4b00-b9d2-58c7827f1096.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: '5da1bb54-570d-45fb-841f-6c3d210cfdca',
  updatedAt: 2020-03-05T17:40:10.931Z,
  createdAt: 2020-03-05T17:40:10.931Z }




PROCESSING ROW #187: sourcefile: 53c3e435-6a06-4554-b483-1159f384979d.mp3, cnodeUserUUID: a3ab9d5e-9461-40f9-8970-c0d8f04b7cdd, trackUUID: a431c2d0-f38b-4092-af24-849cf73017ef, multihash: QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM, dstPath: /file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM
writing to db1...
Executing (7bfe149b-975d-462d-a1a5-660b699bdc63): START TRANSACTION;
Executing (7bfe149b-975d-462d-a1a5-660b699bdc63): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = 'a3ab9d5e-9461-40f9-8970-c0d8f04b7cdd' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = '53c3e435-6a06-4554-b483-1159f384979d.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = 'a431c2d0-f38b-4092-af24-849cf73017ef' LIMIT 1;
Executing (7bfe149b-975d-462d-a1a5-660b699bdc63): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_469e5ec7254c44e18d8524a6d1a938d9$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('561a5c9f-688b-4e68-9484-85a7016b769b','a3ab9d5e-9461-40f9-8970-c0d8f04b7cdd','a431c2d0-f38b-4092-af24-849cf73017ef','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','53c3e435-6a06-4554-b483-1159f384979d.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:40:11.332 +00:00','2020-03-05 17:40:11.332 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_469e5ec7254c44e18d8524a6d1a938d9$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (7bfe149b-975d-462d-a1a5-660b699bdc63): COMMIT;
{ fileUUID: '561a5c9f-688b-4e68-9484-85a7016b769b',
  cnodeUserUUID: 'a3ab9d5e-9461-40f9-8970-c0d8f04b7cdd',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: '53c3e435-6a06-4554-b483-1159f384979d.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: 'a431c2d0-f38b-4092-af24-849cf73017ef',
  updatedAt: 2020-03-05T17:40:11.332Z,
  createdAt: 2020-03-05T17:40:11.332Z }
writing to db2...
Executing (b5cb8dc6-6174-42db-bfd3-791d7a985de7): START TRANSACTION;
Executing (b5cb8dc6-6174-42db-bfd3-791d7a985de7): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = 'a3ab9d5e-9461-40f9-8970-c0d8f04b7cdd' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = '53c3e435-6a06-4554-b483-1159f384979d.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = 'a431c2d0-f38b-4092-af24-849cf73017ef' LIMIT 1;
Executing (b5cb8dc6-6174-42db-bfd3-791d7a985de7): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_5b5b3a61eeb34f54ad867f63cdddaf20$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('a6e1493e-6d4d-4a81-ae31-9970ec60d582','a3ab9d5e-9461-40f9-8970-c0d8f04b7cdd','a431c2d0-f38b-4092-af24-849cf73017ef','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','53c3e435-6a06-4554-b483-1159f384979d.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:40:11.722 +00:00','2020-03-05 17:40:11.722 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_5b5b3a61eeb34f54ad867f63cdddaf20$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (b5cb8dc6-6174-42db-bfd3-791d7a985de7): COMMIT;
{ fileUUID: 'a6e1493e-6d4d-4a81-ae31-9970ec60d582',
  cnodeUserUUID: 'a3ab9d5e-9461-40f9-8970-c0d8f04b7cdd',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: '53c3e435-6a06-4554-b483-1159f384979d.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: 'a431c2d0-f38b-4092-af24-849cf73017ef',
  updatedAt: 2020-03-05T17:40:11.722Z,
  createdAt: 2020-03-05T17:40:11.722Z }
writing to db3...
Executing (b2ec72b2-73c4-4a00-bd88-de2653ab7af3): START TRANSACTION;
Executing (b2ec72b2-73c4-4a00-bd88-de2653ab7af3): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = 'a3ab9d5e-9461-40f9-8970-c0d8f04b7cdd' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = '53c3e435-6a06-4554-b483-1159f384979d.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = 'a431c2d0-f38b-4092-af24-849cf73017ef' LIMIT 1;
Executing (b2ec72b2-73c4-4a00-bd88-de2653ab7af3): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_50ca8a13c4bc409aa1a45cf21dff1112$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('feb2d671-a519-48cd-8c06-82f36cae1b31','a3ab9d5e-9461-40f9-8970-c0d8f04b7cdd','a431c2d0-f38b-4092-af24-849cf73017ef','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','53c3e435-6a06-4554-b483-1159f384979d.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:40:12.105 +00:00','2020-03-05 17:40:12.105 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_50ca8a13c4bc409aa1a45cf21dff1112$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (b2ec72b2-73c4-4a00-bd88-de2653ab7af3): COMMIT;
{ fileUUID: 'feb2d671-a519-48cd-8c06-82f36cae1b31',
  cnodeUserUUID: 'a3ab9d5e-9461-40f9-8970-c0d8f04b7cdd',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: '53c3e435-6a06-4554-b483-1159f384979d.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: 'a431c2d0-f38b-4092-af24-849cf73017ef',
  updatedAt: 2020-03-05T17:40:12.105Z,
  createdAt: 2020-03-05T17:40:12.105Z }




PROCESSING ROW #188: sourcefile: 058bc3c5-f4a3-46e0-96fd-aadc54536eb1.mp3, cnodeUserUUID: 2e171be8-d0c6-4a23-a7c5-848eda55b52a, trackUUID: fcb0a4a5-7076-4900-baa2-013b3b97e668, multihash: QmQLrYxWsyByEU6EeojyZDDTWWujAnTzQhmGUc4tYqMhBU, dstPath: /file_storage/QmQLrYxWsyByEU6EeojyZDDTWWujAnTzQhmGUc4tYqMhBU
writing to db1...
Executing (5b16fdae-fd53-4418-b645-2dba9c10c77b): START TRANSACTION;
Executing (5b16fdae-fd53-4418-b645-2dba9c10c77b): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '2e171be8-d0c6-4a23-a7c5-848eda55b52a' AND "File"."multihash" = 'QmQLrYxWsyByEU6EeojyZDDTWWujAnTzQhmGUc4tYqMhBU' AND "File"."sourceFile" = '058bc3c5-f4a3-46e0-96fd-aadc54536eb1.mp3' AND "File"."storagePath" = '/file_storage/QmQLrYxWsyByEU6EeojyZDDTWWujAnTzQhmGUc4tYqMhBU' AND "File"."type" = 'copy320' AND "File"."trackUUID" = 'fcb0a4a5-7076-4900-baa2-013b3b97e668' LIMIT 1;
Executing (5b16fdae-fd53-4418-b645-2dba9c10c77b): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_dab21b9ebeb14d7da783e3fb73ec2002$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('c3528394-875b-4ae8-896d-46dcef8e24fc','2e171be8-d0c6-4a23-a7c5-848eda55b52a','fcb0a4a5-7076-4900-baa2-013b3b97e668','QmQLrYxWsyByEU6EeojyZDDTWWujAnTzQhmGUc4tYqMhBU','058bc3c5-f4a3-46e0-96fd-aadc54536eb1.mp3','/file_storage/QmQLrYxWsyByEU6EeojyZDDTWWujAnTzQhmGUc4tYqMhBU','copy320','2020-03-05 17:40:12.507 +00:00','2020-03-05 17:40:12.507 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_dab21b9ebeb14d7da783e3fb73ec2002$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (5b16fdae-fd53-4418-b645-2dba9c10c77b): COMMIT;
{ fileUUID: 'c3528394-875b-4ae8-896d-46dcef8e24fc',
  cnodeUserUUID: '2e171be8-d0c6-4a23-a7c5-848eda55b52a',
  multihash: 'QmQLrYxWsyByEU6EeojyZDDTWWujAnTzQhmGUc4tYqMhBU',
  sourceFile: '058bc3c5-f4a3-46e0-96fd-aadc54536eb1.mp3',
  storagePath:
   '/file_storage/QmQLrYxWsyByEU6EeojyZDDTWWujAnTzQhmGUc4tYqMhBU',
  type: 'copy320',
  trackUUID: 'fcb0a4a5-7076-4900-baa2-013b3b97e668',
  updatedAt: 2020-03-05T17:40:12.507Z,
  createdAt: 2020-03-05T17:40:12.507Z }
writing to db2...
Executing (1d485fee-b242-4521-b304-df18cb537c8b): START TRANSACTION;
Executing (1d485fee-b242-4521-b304-df18cb537c8b): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '2e171be8-d0c6-4a23-a7c5-848eda55b52a' AND "File"."multihash" = 'QmQLrYxWsyByEU6EeojyZDDTWWujAnTzQhmGUc4tYqMhBU' AND "File"."sourceFile" = '058bc3c5-f4a3-46e0-96fd-aadc54536eb1.mp3' AND "File"."storagePath" = '/file_storage/QmQLrYxWsyByEU6EeojyZDDTWWujAnTzQhmGUc4tYqMhBU' AND "File"."type" = 'copy320' AND "File"."trackUUID" = 'fcb0a4a5-7076-4900-baa2-013b3b97e668' LIMIT 1;
Executing (1d485fee-b242-4521-b304-df18cb537c8b): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_ba408872248c4d68a56be756a1f97e79$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('4dd2b58c-0b53-40ff-b97d-610b5d3c86c3','2e171be8-d0c6-4a23-a7c5-848eda55b52a','fcb0a4a5-7076-4900-baa2-013b3b97e668','QmQLrYxWsyByEU6EeojyZDDTWWujAnTzQhmGUc4tYqMhBU','058bc3c5-f4a3-46e0-96fd-aadc54536eb1.mp3','/file_storage/QmQLrYxWsyByEU6EeojyZDDTWWujAnTzQhmGUc4tYqMhBU','copy320','2020-03-05 17:40:12.908 +00:00','2020-03-05 17:40:12.908 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_ba408872248c4d68a56be756a1f97e79$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (1d485fee-b242-4521-b304-df18cb537c8b): COMMIT;
{ fileUUID: '4dd2b58c-0b53-40ff-b97d-610b5d3c86c3',
  cnodeUserUUID: '2e171be8-d0c6-4a23-a7c5-848eda55b52a',
  multihash: 'QmQLrYxWsyByEU6EeojyZDDTWWujAnTzQhmGUc4tYqMhBU',
  sourceFile: '058bc3c5-f4a3-46e0-96fd-aadc54536eb1.mp3',
  storagePath:
   '/file_storage/QmQLrYxWsyByEU6EeojyZDDTWWujAnTzQhmGUc4tYqMhBU',
  type: 'copy320',
  trackUUID: 'fcb0a4a5-7076-4900-baa2-013b3b97e668',
  updatedAt: 2020-03-05T17:40:12.908Z,
  createdAt: 2020-03-05T17:40:12.908Z }
writing to db3...
Executing (5901c94e-64ed-4a90-a670-e9822c0a2bdd): START TRANSACTION;
Executing (5901c94e-64ed-4a90-a670-e9822c0a2bdd): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '2e171be8-d0c6-4a23-a7c5-848eda55b52a' AND "File"."multihash" = 'QmQLrYxWsyByEU6EeojyZDDTWWujAnTzQhmGUc4tYqMhBU' AND "File"."sourceFile" = '058bc3c5-f4a3-46e0-96fd-aadc54536eb1.mp3' AND "File"."storagePath" = '/file_storage/QmQLrYxWsyByEU6EeojyZDDTWWujAnTzQhmGUc4tYqMhBU' AND "File"."type" = 'copy320' AND "File"."trackUUID" = 'fcb0a4a5-7076-4900-baa2-013b3b97e668' LIMIT 1;
Executing (5901c94e-64ed-4a90-a670-e9822c0a2bdd): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_e9442f9673b4460eba73eddb55f27fd4$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('0fa446ac-2108-4751-90e2-4ab683b531e5','2e171be8-d0c6-4a23-a7c5-848eda55b52a','fcb0a4a5-7076-4900-baa2-013b3b97e668','QmQLrYxWsyByEU6EeojyZDDTWWujAnTzQhmGUc4tYqMhBU','058bc3c5-f4a3-46e0-96fd-aadc54536eb1.mp3','/file_storage/QmQLrYxWsyByEU6EeojyZDDTWWujAnTzQhmGUc4tYqMhBU','copy320','2020-03-05 17:40:13.306 +00:00','2020-03-05 17:40:13.306 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_e9442f9673b4460eba73eddb55f27fd4$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (5901c94e-64ed-4a90-a670-e9822c0a2bdd): COMMIT;
{ fileUUID: '0fa446ac-2108-4751-90e2-4ab683b531e5',
  cnodeUserUUID: '2e171be8-d0c6-4a23-a7c5-848eda55b52a',
  multihash: 'QmQLrYxWsyByEU6EeojyZDDTWWujAnTzQhmGUc4tYqMhBU',
  sourceFile: '058bc3c5-f4a3-46e0-96fd-aadc54536eb1.mp3',
  storagePath:
   '/file_storage/QmQLrYxWsyByEU6EeojyZDDTWWujAnTzQhmGUc4tYqMhBU',
  type: 'copy320',
  trackUUID: 'fcb0a4a5-7076-4900-baa2-013b3b97e668',
  updatedAt: 2020-03-05T17:40:13.306Z,
  createdAt: 2020-03-05T17:40:13.306Z }




PROCESSING ROW #189: sourcefile: 39c4b9e7-fa43-45a7-be7a-f2aa36b6d9cb.mp3, cnodeUserUUID: f3e3ccb3-f3d2-44b8-847d-a5c725c28f17, trackUUID: 3fb4427e-359a-4576-a6ae-400ee79f43bf, multihash: QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM, dstPath: /file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM
writing to db1...
Executing (b5ba0054-859e-45af-a1a9-f56ee571b723): START TRANSACTION;
Executing (b5ba0054-859e-45af-a1a9-f56ee571b723): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = 'f3e3ccb3-f3d2-44b8-847d-a5c725c28f17' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = '39c4b9e7-fa43-45a7-be7a-f2aa36b6d9cb.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '3fb4427e-359a-4576-a6ae-400ee79f43bf' LIMIT 1;
Executing (b5ba0054-859e-45af-a1a9-f56ee571b723): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_06b515c922b8432fab4df9e2ced9183e$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('7658d131-59c2-4f5a-87d6-5bc389b6232b','f3e3ccb3-f3d2-44b8-847d-a5c725c28f17','3fb4427e-359a-4576-a6ae-400ee79f43bf','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','39c4b9e7-fa43-45a7-be7a-f2aa36b6d9cb.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:40:13.684 +00:00','2020-03-05 17:40:13.684 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_06b515c922b8432fab4df9e2ced9183e$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (b5ba0054-859e-45af-a1a9-f56ee571b723): COMMIT;
{ fileUUID: '7658d131-59c2-4f5a-87d6-5bc389b6232b',
  cnodeUserUUID: 'f3e3ccb3-f3d2-44b8-847d-a5c725c28f17',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: '39c4b9e7-fa43-45a7-be7a-f2aa36b6d9cb.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: '3fb4427e-359a-4576-a6ae-400ee79f43bf',
  updatedAt: 2020-03-05T17:40:13.684Z,
  createdAt: 2020-03-05T17:40:13.684Z }
writing to db2...
Executing (9181ff3c-ce21-45fe-9313-9475f2ffac54): START TRANSACTION;
Executing (9181ff3c-ce21-45fe-9313-9475f2ffac54): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = 'f3e3ccb3-f3d2-44b8-847d-a5c725c28f17' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = '39c4b9e7-fa43-45a7-be7a-f2aa36b6d9cb.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '3fb4427e-359a-4576-a6ae-400ee79f43bf' LIMIT 1;
Executing (9181ff3c-ce21-45fe-9313-9475f2ffac54): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_77534b0929bf41b8a3bb1b838a0a5643$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('8d3e999a-8aad-4041-b43a-b44ed2454761','f3e3ccb3-f3d2-44b8-847d-a5c725c28f17','3fb4427e-359a-4576-a6ae-400ee79f43bf','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','39c4b9e7-fa43-45a7-be7a-f2aa36b6d9cb.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:40:14.079 +00:00','2020-03-05 17:40:14.079 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_77534b0929bf41b8a3bb1b838a0a5643$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (9181ff3c-ce21-45fe-9313-9475f2ffac54): COMMIT;
{ fileUUID: '8d3e999a-8aad-4041-b43a-b44ed2454761',
  cnodeUserUUID: 'f3e3ccb3-f3d2-44b8-847d-a5c725c28f17',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: '39c4b9e7-fa43-45a7-be7a-f2aa36b6d9cb.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: '3fb4427e-359a-4576-a6ae-400ee79f43bf',
  updatedAt: 2020-03-05T17:40:14.079Z,
  createdAt: 2020-03-05T17:40:14.079Z }
writing to db3...
Executing (883af1f5-6315-44ed-82a4-7285e54d2c5d): START TRANSACTION;
Executing (883af1f5-6315-44ed-82a4-7285e54d2c5d): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = 'f3e3ccb3-f3d2-44b8-847d-a5c725c28f17' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = '39c4b9e7-fa43-45a7-be7a-f2aa36b6d9cb.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '3fb4427e-359a-4576-a6ae-400ee79f43bf' LIMIT 1;
Executing (883af1f5-6315-44ed-82a4-7285e54d2c5d): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_aa5f3d7dcf4e47018997d7ca51fd11f1$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('76e6ae6f-1745-420b-b155-0228a8c883d3','f3e3ccb3-f3d2-44b8-847d-a5c725c28f17','3fb4427e-359a-4576-a6ae-400ee79f43bf','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','39c4b9e7-fa43-45a7-be7a-f2aa36b6d9cb.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:40:14.474 +00:00','2020-03-05 17:40:14.474 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_aa5f3d7dcf4e47018997d7ca51fd11f1$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (883af1f5-6315-44ed-82a4-7285e54d2c5d): COMMIT;
{ fileUUID: '76e6ae6f-1745-420b-b155-0228a8c883d3',
  cnodeUserUUID: 'f3e3ccb3-f3d2-44b8-847d-a5c725c28f17',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: '39c4b9e7-fa43-45a7-be7a-f2aa36b6d9cb.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: '3fb4427e-359a-4576-a6ae-400ee79f43bf',
  updatedAt: 2020-03-05T17:40:14.474Z,
  createdAt: 2020-03-05T17:40:14.474Z }




PROCESSING ROW #190: sourcefile: 92d43448-1cc9-437e-86ed-e241747de18b.mp3, cnodeUserUUID: 01e77160-500f-45aa-9179-6ea1d82d1b9a, trackUUID: 2a8a68dd-9409-4e1c-9966-5cfab4666309, multihash: QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM, dstPath: /file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM
writing to db1...
Executing (6aac6e36-7dd6-4b5e-b781-14e8e1ac5d78): START TRANSACTION;
Executing (6aac6e36-7dd6-4b5e-b781-14e8e1ac5d78): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '01e77160-500f-45aa-9179-6ea1d82d1b9a' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = '92d43448-1cc9-437e-86ed-e241747de18b.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '2a8a68dd-9409-4e1c-9966-5cfab4666309' LIMIT 1;
Executing (6aac6e36-7dd6-4b5e-b781-14e8e1ac5d78): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_9bf85738f92e4c4d813852b8ca06c034$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('3823e0c7-3b04-4ee6-add9-5236e19e44b9','01e77160-500f-45aa-9179-6ea1d82d1b9a','2a8a68dd-9409-4e1c-9966-5cfab4666309','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','92d43448-1cc9-437e-86ed-e241747de18b.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:40:14.878 +00:00','2020-03-05 17:40:14.878 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_9bf85738f92e4c4d813852b8ca06c034$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (6aac6e36-7dd6-4b5e-b781-14e8e1ac5d78): COMMIT;
{ fileUUID: '3823e0c7-3b04-4ee6-add9-5236e19e44b9',
  cnodeUserUUID: '01e77160-500f-45aa-9179-6ea1d82d1b9a',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: '92d43448-1cc9-437e-86ed-e241747de18b.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: '2a8a68dd-9409-4e1c-9966-5cfab4666309',
  updatedAt: 2020-03-05T17:40:14.878Z,
  createdAt: 2020-03-05T17:40:14.878Z }
writing to db2...
Executing (8645812c-af33-45c8-be5b-dfbb32d0758d): START TRANSACTION;
Executing (8645812c-af33-45c8-be5b-dfbb32d0758d): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '01e77160-500f-45aa-9179-6ea1d82d1b9a' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = '92d43448-1cc9-437e-86ed-e241747de18b.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '2a8a68dd-9409-4e1c-9966-5cfab4666309' LIMIT 1;
Executing (8645812c-af33-45c8-be5b-dfbb32d0758d): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_ab6d9d0f88e24517934b833182e471cb$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('1f5d339f-8699-4cae-a6e3-91bfac0f7f12','01e77160-500f-45aa-9179-6ea1d82d1b9a','2a8a68dd-9409-4e1c-9966-5cfab4666309','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','92d43448-1cc9-437e-86ed-e241747de18b.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:40:15.262 +00:00','2020-03-05 17:40:15.262 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_ab6d9d0f88e24517934b833182e471cb$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (8645812c-af33-45c8-be5b-dfbb32d0758d): COMMIT;
{ fileUUID: '1f5d339f-8699-4cae-a6e3-91bfac0f7f12',
  cnodeUserUUID: '01e77160-500f-45aa-9179-6ea1d82d1b9a',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: '92d43448-1cc9-437e-86ed-e241747de18b.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: '2a8a68dd-9409-4e1c-9966-5cfab4666309',
  updatedAt: 2020-03-05T17:40:15.262Z,
  createdAt: 2020-03-05T17:40:15.262Z }
writing to db3...
Executing (924ba071-10c9-4205-ad28-9ff825426ada): START TRANSACTION;
Executing (924ba071-10c9-4205-ad28-9ff825426ada): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '01e77160-500f-45aa-9179-6ea1d82d1b9a' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = '92d43448-1cc9-437e-86ed-e241747de18b.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '2a8a68dd-9409-4e1c-9966-5cfab4666309' LIMIT 1;
Executing (924ba071-10c9-4205-ad28-9ff825426ada): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_44e1c01ca0794f76814c2ee01f31f0cf$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('bc51ac78-6fa1-4cf1-9093-792ed9108192','01e77160-500f-45aa-9179-6ea1d82d1b9a','2a8a68dd-9409-4e1c-9966-5cfab4666309','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','92d43448-1cc9-437e-86ed-e241747de18b.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:40:15.650 +00:00','2020-03-05 17:40:15.650 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_44e1c01ca0794f76814c2ee01f31f0cf$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (924ba071-10c9-4205-ad28-9ff825426ada): COMMIT;
{ fileUUID: 'bc51ac78-6fa1-4cf1-9093-792ed9108192',
  cnodeUserUUID: '01e77160-500f-45aa-9179-6ea1d82d1b9a',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: '92d43448-1cc9-437e-86ed-e241747de18b.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: '2a8a68dd-9409-4e1c-9966-5cfab4666309',
  updatedAt: 2020-03-05T17:40:15.650Z,
  createdAt: 2020-03-05T17:40:15.650Z }




PROCESSING ROW #191: sourcefile: 822020fb-a210-493b-97d3-b8b625bcd97d.mp3, cnodeUserUUID: 5e84a713-5146-40a1-9c4d-b88f68759a3b, trackUUID: 65fa7645-797f-4da9-94e5-98f39efa1911, multihash: QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM, dstPath: /file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM
writing to db1...
Executing (0029d7ba-2d6e-47ff-880f-341ed906e3fd): START TRANSACTION;
Executing (0029d7ba-2d6e-47ff-880f-341ed906e3fd): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '5e84a713-5146-40a1-9c4d-b88f68759a3b' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = '822020fb-a210-493b-97d3-b8b625bcd97d.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '65fa7645-797f-4da9-94e5-98f39efa1911' LIMIT 1;
Executing (0029d7ba-2d6e-47ff-880f-341ed906e3fd): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_c7445ad428df42eb938f902d57e19fb2$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('8d405ef4-452e-48e3-bcdc-f0f1e7224ebe','5e84a713-5146-40a1-9c4d-b88f68759a3b','65fa7645-797f-4da9-94e5-98f39efa1911','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','822020fb-a210-493b-97d3-b8b625bcd97d.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:40:16.048 +00:00','2020-03-05 17:40:16.048 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_c7445ad428df42eb938f902d57e19fb2$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (0029d7ba-2d6e-47ff-880f-341ed906e3fd): COMMIT;
{ fileUUID: '8d405ef4-452e-48e3-bcdc-f0f1e7224ebe',
  cnodeUserUUID: '5e84a713-5146-40a1-9c4d-b88f68759a3b',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: '822020fb-a210-493b-97d3-b8b625bcd97d.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: '65fa7645-797f-4da9-94e5-98f39efa1911',
  updatedAt: 2020-03-05T17:40:16.048Z,
  createdAt: 2020-03-05T17:40:16.048Z }
writing to db2...
Executing (78937d83-ae24-478c-a369-7fc13598e8bc): START TRANSACTION;
Executing (78937d83-ae24-478c-a369-7fc13598e8bc): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '5e84a713-5146-40a1-9c4d-b88f68759a3b' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = '822020fb-a210-493b-97d3-b8b625bcd97d.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '65fa7645-797f-4da9-94e5-98f39efa1911' LIMIT 1;
Executing (78937d83-ae24-478c-a369-7fc13598e8bc): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_a8a5bafd34d440e583122dc533472c30$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('ee6737f2-c355-416e-b780-487d9e5a59e8','5e84a713-5146-40a1-9c4d-b88f68759a3b','65fa7645-797f-4da9-94e5-98f39efa1911','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','822020fb-a210-493b-97d3-b8b625bcd97d.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:40:16.458 +00:00','2020-03-05 17:40:16.458 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_a8a5bafd34d440e583122dc533472c30$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (78937d83-ae24-478c-a369-7fc13598e8bc): COMMIT;
{ fileUUID: 'ee6737f2-c355-416e-b780-487d9e5a59e8',
  cnodeUserUUID: '5e84a713-5146-40a1-9c4d-b88f68759a3b',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: '822020fb-a210-493b-97d3-b8b625bcd97d.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: '65fa7645-797f-4da9-94e5-98f39efa1911',
  updatedAt: 2020-03-05T17:40:16.458Z,
  createdAt: 2020-03-05T17:40:16.458Z }
writing to db3...
Executing (f54c999c-bd69-402d-9e38-598f47e9267d): START TRANSACTION;
Executing (f54c999c-bd69-402d-9e38-598f47e9267d): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '5e84a713-5146-40a1-9c4d-b88f68759a3b' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = '822020fb-a210-493b-97d3-b8b625bcd97d.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '65fa7645-797f-4da9-94e5-98f39efa1911' LIMIT 1;
Executing (f54c999c-bd69-402d-9e38-598f47e9267d): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_23d947c656184d0ba98151baa9f9816e$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('ad925ef8-afa0-4aad-b4c0-4451f1807b39','5e84a713-5146-40a1-9c4d-b88f68759a3b','65fa7645-797f-4da9-94e5-98f39efa1911','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','822020fb-a210-493b-97d3-b8b625bcd97d.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:40:16.838 +00:00','2020-03-05 17:40:16.838 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_23d947c656184d0ba98151baa9f9816e$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (f54c999c-bd69-402d-9e38-598f47e9267d): COMMIT;
{ fileUUID: 'ad925ef8-afa0-4aad-b4c0-4451f1807b39',
  cnodeUserUUID: '5e84a713-5146-40a1-9c4d-b88f68759a3b',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: '822020fb-a210-493b-97d3-b8b625bcd97d.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: '65fa7645-797f-4da9-94e5-98f39efa1911',
  updatedAt: 2020-03-05T17:40:16.838Z,
  createdAt: 2020-03-05T17:40:16.838Z }




PROCESSING ROW #192: sourcefile: 0806a0ff-f5e8-4e6d-8608-1ecdbd50c759.mp3, cnodeUserUUID: 51cc10bd-46af-41c8-b836-6542d326cd77, trackUUID: 3dfe95fb-486c-444d-b511-dc820f2e4366, multihash: QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM, dstPath: /file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM
writing to db1...
Executing (ad5ce190-d1f1-47b8-9aff-bf9ef42e9a69): START TRANSACTION;
Executing (ad5ce190-d1f1-47b8-9aff-bf9ef42e9a69): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '51cc10bd-46af-41c8-b836-6542d326cd77' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = '0806a0ff-f5e8-4e6d-8608-1ecdbd50c759.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '3dfe95fb-486c-444d-b511-dc820f2e4366' LIMIT 1;
Executing (ad5ce190-d1f1-47b8-9aff-bf9ef42e9a69): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_486ab3139085481a9d3932316cebda2a$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('45c5ef6d-a166-42b1-a974-a097d0359855','51cc10bd-46af-41c8-b836-6542d326cd77','3dfe95fb-486c-444d-b511-dc820f2e4366','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','0806a0ff-f5e8-4e6d-8608-1ecdbd50c759.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:40:17.258 +00:00','2020-03-05 17:40:17.258 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_486ab3139085481a9d3932316cebda2a$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (ad5ce190-d1f1-47b8-9aff-bf9ef42e9a69): COMMIT;
{ fileUUID: '45c5ef6d-a166-42b1-a974-a097d0359855',
  cnodeUserUUID: '51cc10bd-46af-41c8-b836-6542d326cd77',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: '0806a0ff-f5e8-4e6d-8608-1ecdbd50c759.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: '3dfe95fb-486c-444d-b511-dc820f2e4366',
  updatedAt: 2020-03-05T17:40:17.258Z,
  createdAt: 2020-03-05T17:40:17.258Z }
writing to db2...
Executing (9265ff60-327d-4f7c-a4c8-8e8d4d15588a): START TRANSACTION;
Executing (9265ff60-327d-4f7c-a4c8-8e8d4d15588a): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '51cc10bd-46af-41c8-b836-6542d326cd77' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = '0806a0ff-f5e8-4e6d-8608-1ecdbd50c759.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '3dfe95fb-486c-444d-b511-dc820f2e4366' LIMIT 1;
Executing (9265ff60-327d-4f7c-a4c8-8e8d4d15588a): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_fc9560bc85ff458d8ae03a27604298f4$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('87ad80cf-85c1-4380-9a95-462434b15e30','51cc10bd-46af-41c8-b836-6542d326cd77','3dfe95fb-486c-444d-b511-dc820f2e4366','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','0806a0ff-f5e8-4e6d-8608-1ecdbd50c759.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:40:17.647 +00:00','2020-03-05 17:40:17.647 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_fc9560bc85ff458d8ae03a27604298f4$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (9265ff60-327d-4f7c-a4c8-8e8d4d15588a): COMMIT;
{ fileUUID: '87ad80cf-85c1-4380-9a95-462434b15e30',
  cnodeUserUUID: '51cc10bd-46af-41c8-b836-6542d326cd77',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: '0806a0ff-f5e8-4e6d-8608-1ecdbd50c759.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: '3dfe95fb-486c-444d-b511-dc820f2e4366',
  updatedAt: 2020-03-05T17:40:17.647Z,
  createdAt: 2020-03-05T17:40:17.647Z }
writing to db3...
Executing (1dbb80b4-212b-4746-8f33-6df8ae39fe96): START TRANSACTION;
Executing (1dbb80b4-212b-4746-8f33-6df8ae39fe96): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '51cc10bd-46af-41c8-b836-6542d326cd77' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = '0806a0ff-f5e8-4e6d-8608-1ecdbd50c759.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '3dfe95fb-486c-444d-b511-dc820f2e4366' LIMIT 1;
Executing (1dbb80b4-212b-4746-8f33-6df8ae39fe96): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_b8de887329684caaa70bebbd02c3cf63$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('8758626d-91de-4ecd-b3a3-3dc787ebb9ba','51cc10bd-46af-41c8-b836-6542d326cd77','3dfe95fb-486c-444d-b511-dc820f2e4366','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','0806a0ff-f5e8-4e6d-8608-1ecdbd50c759.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:40:18.040 +00:00','2020-03-05 17:40:18.040 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_b8de887329684caaa70bebbd02c3cf63$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (1dbb80b4-212b-4746-8f33-6df8ae39fe96): COMMIT;
{ fileUUID: '8758626d-91de-4ecd-b3a3-3dc787ebb9ba',
  cnodeUserUUID: '51cc10bd-46af-41c8-b836-6542d326cd77',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: '0806a0ff-f5e8-4e6d-8608-1ecdbd50c759.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: '3dfe95fb-486c-444d-b511-dc820f2e4366',
  updatedAt: 2020-03-05T17:40:18.040Z,
  createdAt: 2020-03-05T17:40:18.040Z }




PROCESSING ROW #193: sourcefile: ccc8379d-ed3f-4bc8-9ccc-fe58024bfa93.mp3, cnodeUserUUID: 96cab11b-f743-4abb-ac58-697c1536a397, trackUUID: 2ccda3e7-5871-4588-ab83-5dc97f5c8735, multihash: QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM, dstPath: /file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM
writing to db1...
Executing (a8cbe4c2-5d7c-4970-9338-1b654fc1edcd): START TRANSACTION;
Executing (a8cbe4c2-5d7c-4970-9338-1b654fc1edcd): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '96cab11b-f743-4abb-ac58-697c1536a397' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = 'ccc8379d-ed3f-4bc8-9ccc-fe58024bfa93.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '2ccda3e7-5871-4588-ab83-5dc97f5c8735' LIMIT 1;
Executing (a8cbe4c2-5d7c-4970-9338-1b654fc1edcd): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_f8feb2b3c75e4f5d93d3d194f1b21ad6$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('b45f96b3-af79-49fb-9b3d-ab2ca0103662','96cab11b-f743-4abb-ac58-697c1536a397','2ccda3e7-5871-4588-ab83-5dc97f5c8735','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','ccc8379d-ed3f-4bc8-9ccc-fe58024bfa93.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:40:18.463 +00:00','2020-03-05 17:40:18.463 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_f8feb2b3c75e4f5d93d3d194f1b21ad6$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (a8cbe4c2-5d7c-4970-9338-1b654fc1edcd): COMMIT;
{ fileUUID: 'b45f96b3-af79-49fb-9b3d-ab2ca0103662',
  cnodeUserUUID: '96cab11b-f743-4abb-ac58-697c1536a397',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: 'ccc8379d-ed3f-4bc8-9ccc-fe58024bfa93.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: '2ccda3e7-5871-4588-ab83-5dc97f5c8735',
  updatedAt: 2020-03-05T17:40:18.463Z,
  createdAt: 2020-03-05T17:40:18.463Z }
writing to db2...
Executing (a595ad6c-4579-4601-9fad-eff76e42d58a): START TRANSACTION;
Executing (a595ad6c-4579-4601-9fad-eff76e42d58a): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '96cab11b-f743-4abb-ac58-697c1536a397' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = 'ccc8379d-ed3f-4bc8-9ccc-fe58024bfa93.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '2ccda3e7-5871-4588-ab83-5dc97f5c8735' LIMIT 1;
Executing (a595ad6c-4579-4601-9fad-eff76e42d58a): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_2585e94be27440768f78feee81919116$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('09f806ae-5fbb-49de-87fc-e1d1b8696bea','96cab11b-f743-4abb-ac58-697c1536a397','2ccda3e7-5871-4588-ab83-5dc97f5c8735','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','ccc8379d-ed3f-4bc8-9ccc-fe58024bfa93.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:40:18.855 +00:00','2020-03-05 17:40:18.855 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_2585e94be27440768f78feee81919116$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (a595ad6c-4579-4601-9fad-eff76e42d58a): COMMIT;
{ fileUUID: '09f806ae-5fbb-49de-87fc-e1d1b8696bea',
  cnodeUserUUID: '96cab11b-f743-4abb-ac58-697c1536a397',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: 'ccc8379d-ed3f-4bc8-9ccc-fe58024bfa93.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: '2ccda3e7-5871-4588-ab83-5dc97f5c8735',
  updatedAt: 2020-03-05T17:40:18.855Z,
  createdAt: 2020-03-05T17:40:18.855Z }
writing to db3...
Executing (be1d2327-1467-4a9e-b22d-cb4b18f768d2): START TRANSACTION;
Executing (be1d2327-1467-4a9e-b22d-cb4b18f768d2): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '96cab11b-f743-4abb-ac58-697c1536a397' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = 'ccc8379d-ed3f-4bc8-9ccc-fe58024bfa93.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '2ccda3e7-5871-4588-ab83-5dc97f5c8735' LIMIT 1;
Executing (be1d2327-1467-4a9e-b22d-cb4b18f768d2): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_add9194d191944d5a549caa57ec168ff$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('27d1b72a-7d4c-4237-bbe6-77d9625626d6','96cab11b-f743-4abb-ac58-697c1536a397','2ccda3e7-5871-4588-ab83-5dc97f5c8735','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','ccc8379d-ed3f-4bc8-9ccc-fe58024bfa93.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:40:19.252 +00:00','2020-03-05 17:40:19.252 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_add9194d191944d5a549caa57ec168ff$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (be1d2327-1467-4a9e-b22d-cb4b18f768d2): COMMIT;
{ fileUUID: '27d1b72a-7d4c-4237-bbe6-77d9625626d6',
  cnodeUserUUID: '96cab11b-f743-4abb-ac58-697c1536a397',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: 'ccc8379d-ed3f-4bc8-9ccc-fe58024bfa93.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: '2ccda3e7-5871-4588-ab83-5dc97f5c8735',
  updatedAt: 2020-03-05T17:40:19.252Z,
  createdAt: 2020-03-05T17:40:19.252Z }




PROCESSING ROW #194: sourcefile: dd38e297-d43c-40e3-89f8-af6ae84f3223.mp3, cnodeUserUUID: 846de485-02a3-41de-b7ed-7fc2352056bb, trackUUID: 939c8c61-1a12-4592-a158-a87b4351c215, multihash: QmShGmdf4MURrfcaJHKmUQ28Xt4jN245ezJ7nJTpQaKV3F, dstPath: /file_storage/QmShGmdf4MURrfcaJHKmUQ28Xt4jN245ezJ7nJTpQaKV3F
writing to db1...
Executing (d5791761-dc3c-433b-b2cf-1864a3fbb26e): START TRANSACTION;
Executing (d5791761-dc3c-433b-b2cf-1864a3fbb26e): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '846de485-02a3-41de-b7ed-7fc2352056bb' AND "File"."multihash" = 'QmShGmdf4MURrfcaJHKmUQ28Xt4jN245ezJ7nJTpQaKV3F' AND "File"."sourceFile" = 'dd38e297-d43c-40e3-89f8-af6ae84f3223.mp3' AND "File"."storagePath" = '/file_storage/QmShGmdf4MURrfcaJHKmUQ28Xt4jN245ezJ7nJTpQaKV3F' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '939c8c61-1a12-4592-a158-a87b4351c215' LIMIT 1;
Executing (d5791761-dc3c-433b-b2cf-1864a3fbb26e): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_d97aeb8dd9b04a7492be0e10bed6720a$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('0b466314-f970-4051-9333-0490d091eaf6','846de485-02a3-41de-b7ed-7fc2352056bb','939c8c61-1a12-4592-a158-a87b4351c215','QmShGmdf4MURrfcaJHKmUQ28Xt4jN245ezJ7nJTpQaKV3F','dd38e297-d43c-40e3-89f8-af6ae84f3223.mp3','/file_storage/QmShGmdf4MURrfcaJHKmUQ28Xt4jN245ezJ7nJTpQaKV3F','copy320','2020-03-05 17:40:19.638 +00:00','2020-03-05 17:40:19.638 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_d97aeb8dd9b04a7492be0e10bed6720a$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (d5791761-dc3c-433b-b2cf-1864a3fbb26e): COMMIT;
{ fileUUID: '0b466314-f970-4051-9333-0490d091eaf6',
  cnodeUserUUID: '846de485-02a3-41de-b7ed-7fc2352056bb',
  multihash: 'QmShGmdf4MURrfcaJHKmUQ28Xt4jN245ezJ7nJTpQaKV3F',
  sourceFile: 'dd38e297-d43c-40e3-89f8-af6ae84f3223.mp3',
  storagePath:
   '/file_storage/QmShGmdf4MURrfcaJHKmUQ28Xt4jN245ezJ7nJTpQaKV3F',
  type: 'copy320',
  trackUUID: '939c8c61-1a12-4592-a158-a87b4351c215',
  updatedAt: 2020-03-05T17:40:19.638Z,
  createdAt: 2020-03-05T17:40:19.638Z }
writing to db2...
Executing (6faa63ab-5212-459d-8211-0a1f1b51c856): START TRANSACTION;
Executing (6faa63ab-5212-459d-8211-0a1f1b51c856): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '846de485-02a3-41de-b7ed-7fc2352056bb' AND "File"."multihash" = 'QmShGmdf4MURrfcaJHKmUQ28Xt4jN245ezJ7nJTpQaKV3F' AND "File"."sourceFile" = 'dd38e297-d43c-40e3-89f8-af6ae84f3223.mp3' AND "File"."storagePath" = '/file_storage/QmShGmdf4MURrfcaJHKmUQ28Xt4jN245ezJ7nJTpQaKV3F' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '939c8c61-1a12-4592-a158-a87b4351c215' LIMIT 1;
Executing (6faa63ab-5212-459d-8211-0a1f1b51c856): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_dfdff6dcbfeb44bd8fbb2cfb1b041986$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('029a38b5-0eb9-4e18-a87d-ced167ca0d14','846de485-02a3-41de-b7ed-7fc2352056bb','939c8c61-1a12-4592-a158-a87b4351c215','QmShGmdf4MURrfcaJHKmUQ28Xt4jN245ezJ7nJTpQaKV3F','dd38e297-d43c-40e3-89f8-af6ae84f3223.mp3','/file_storage/QmShGmdf4MURrfcaJHKmUQ28Xt4jN245ezJ7nJTpQaKV3F','copy320','2020-03-05 17:40:20.011 +00:00','2020-03-05 17:40:20.011 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_dfdff6dcbfeb44bd8fbb2cfb1b041986$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (6faa63ab-5212-459d-8211-0a1f1b51c856): COMMIT;
{ fileUUID: '029a38b5-0eb9-4e18-a87d-ced167ca0d14',
  cnodeUserUUID: '846de485-02a3-41de-b7ed-7fc2352056bb',
  multihash: 'QmShGmdf4MURrfcaJHKmUQ28Xt4jN245ezJ7nJTpQaKV3F',
  sourceFile: 'dd38e297-d43c-40e3-89f8-af6ae84f3223.mp3',
  storagePath:
   '/file_storage/QmShGmdf4MURrfcaJHKmUQ28Xt4jN245ezJ7nJTpQaKV3F',
  type: 'copy320',
  trackUUID: '939c8c61-1a12-4592-a158-a87b4351c215',
  updatedAt: 2020-03-05T17:40:20.011Z,
  createdAt: 2020-03-05T17:40:20.011Z }
writing to db3...
Executing (92255176-1cb5-4da4-a09a-645215dd8e64): START TRANSACTION;
Executing (92255176-1cb5-4da4-a09a-645215dd8e64): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '846de485-02a3-41de-b7ed-7fc2352056bb' AND "File"."multihash" = 'QmShGmdf4MURrfcaJHKmUQ28Xt4jN245ezJ7nJTpQaKV3F' AND "File"."sourceFile" = 'dd38e297-d43c-40e3-89f8-af6ae84f3223.mp3' AND "File"."storagePath" = '/file_storage/QmShGmdf4MURrfcaJHKmUQ28Xt4jN245ezJ7nJTpQaKV3F' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '939c8c61-1a12-4592-a158-a87b4351c215' LIMIT 1;
Executing (92255176-1cb5-4da4-a09a-645215dd8e64): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_750658e4d8474dd1ab5fcd6587c4f40c$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('9d617f28-0d0e-413e-8351-82905a2f3558','846de485-02a3-41de-b7ed-7fc2352056bb','939c8c61-1a12-4592-a158-a87b4351c215','QmShGmdf4MURrfcaJHKmUQ28Xt4jN245ezJ7nJTpQaKV3F','dd38e297-d43c-40e3-89f8-af6ae84f3223.mp3','/file_storage/QmShGmdf4MURrfcaJHKmUQ28Xt4jN245ezJ7nJTpQaKV3F','copy320','2020-03-05 17:40:20.392 +00:00','2020-03-05 17:40:20.392 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_750658e4d8474dd1ab5fcd6587c4f40c$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (92255176-1cb5-4da4-a09a-645215dd8e64): COMMIT;
{ fileUUID: '9d617f28-0d0e-413e-8351-82905a2f3558',
  cnodeUserUUID: '846de485-02a3-41de-b7ed-7fc2352056bb',
  multihash: 'QmShGmdf4MURrfcaJHKmUQ28Xt4jN245ezJ7nJTpQaKV3F',
  sourceFile: 'dd38e297-d43c-40e3-89f8-af6ae84f3223.mp3',
  storagePath:
   '/file_storage/QmShGmdf4MURrfcaJHKmUQ28Xt4jN245ezJ7nJTpQaKV3F',
  type: 'copy320',
  trackUUID: '939c8c61-1a12-4592-a158-a87b4351c215',
  updatedAt: 2020-03-05T17:40:20.392Z,
  createdAt: 2020-03-05T17:40:20.392Z }




PROCESSING ROW #195: sourcefile: 3892f955-ba0e-49ff-8021-7a0f308b2974.mp3, cnodeUserUUID: 11c34897-1946-4dfc-b59c-f646a1fc69fe, trackUUID: bc2eb41c-b34e-4400-a8bd-b41090b5abfd, multihash: QmPiV7xqJBMyrzXevR87qfTbvxLhVpxqM3ojAP11p2P4Zs, dstPath: /file_storage/QmPiV7xqJBMyrzXevR87qfTbvxLhVpxqM3ojAP11p2P4Zs
writing to db1...
Executing (cc14c002-8c85-4414-88a1-70880aa81774): START TRANSACTION;
Executing (cc14c002-8c85-4414-88a1-70880aa81774): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '11c34897-1946-4dfc-b59c-f646a1fc69fe' AND "File"."multihash" = 'QmPiV7xqJBMyrzXevR87qfTbvxLhVpxqM3ojAP11p2P4Zs' AND "File"."sourceFile" = '3892f955-ba0e-49ff-8021-7a0f308b2974.mp3' AND "File"."storagePath" = '/file_storage/QmPiV7xqJBMyrzXevR87qfTbvxLhVpxqM3ojAP11p2P4Zs' AND "File"."type" = 'copy320' AND "File"."trackUUID" = 'bc2eb41c-b34e-4400-a8bd-b41090b5abfd' LIMIT 1;
Executing (cc14c002-8c85-4414-88a1-70880aa81774): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_34e3bbfbfdd24eb6874af0f90ad4d69a$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('c24081fa-b0a9-4ddf-b54b-886353a15210','11c34897-1946-4dfc-b59c-f646a1fc69fe','bc2eb41c-b34e-4400-a8bd-b41090b5abfd','QmPiV7xqJBMyrzXevR87qfTbvxLhVpxqM3ojAP11p2P4Zs','3892f955-ba0e-49ff-8021-7a0f308b2974.mp3','/file_storage/QmPiV7xqJBMyrzXevR87qfTbvxLhVpxqM3ojAP11p2P4Zs','copy320','2020-03-05 17:40:20.787 +00:00','2020-03-05 17:40:20.787 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_34e3bbfbfdd24eb6874af0f90ad4d69a$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (cc14c002-8c85-4414-88a1-70880aa81774): COMMIT;
{ fileUUID: 'c24081fa-b0a9-4ddf-b54b-886353a15210',
  cnodeUserUUID: '11c34897-1946-4dfc-b59c-f646a1fc69fe',
  multihash: 'QmPiV7xqJBMyrzXevR87qfTbvxLhVpxqM3ojAP11p2P4Zs',
  sourceFile: '3892f955-ba0e-49ff-8021-7a0f308b2974.mp3',
  storagePath:
   '/file_storage/QmPiV7xqJBMyrzXevR87qfTbvxLhVpxqM3ojAP11p2P4Zs',
  type: 'copy320',
  trackUUID: 'bc2eb41c-b34e-4400-a8bd-b41090b5abfd',
  updatedAt: 2020-03-05T17:40:20.787Z,
  createdAt: 2020-03-05T17:40:20.787Z }
writing to db2...
Executing (36d47fd0-c061-4068-b8e2-a425471cd88f): START TRANSACTION;
Executing (36d47fd0-c061-4068-b8e2-a425471cd88f): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '11c34897-1946-4dfc-b59c-f646a1fc69fe' AND "File"."multihash" = 'QmPiV7xqJBMyrzXevR87qfTbvxLhVpxqM3ojAP11p2P4Zs' AND "File"."sourceFile" = '3892f955-ba0e-49ff-8021-7a0f308b2974.mp3' AND "File"."storagePath" = '/file_storage/QmPiV7xqJBMyrzXevR87qfTbvxLhVpxqM3ojAP11p2P4Zs' AND "File"."type" = 'copy320' AND "File"."trackUUID" = 'bc2eb41c-b34e-4400-a8bd-b41090b5abfd' LIMIT 1;
Executing (36d47fd0-c061-4068-b8e2-a425471cd88f): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_4821b7350be24c97bd8895214f4830b2$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('b0e31123-c67e-4d2e-9acd-99034012682e','11c34897-1946-4dfc-b59c-f646a1fc69fe','bc2eb41c-b34e-4400-a8bd-b41090b5abfd','QmPiV7xqJBMyrzXevR87qfTbvxLhVpxqM3ojAP11p2P4Zs','3892f955-ba0e-49ff-8021-7a0f308b2974.mp3','/file_storage/QmPiV7xqJBMyrzXevR87qfTbvxLhVpxqM3ojAP11p2P4Zs','copy320','2020-03-05 17:40:21.178 +00:00','2020-03-05 17:40:21.178 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_4821b7350be24c97bd8895214f4830b2$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (36d47fd0-c061-4068-b8e2-a425471cd88f): COMMIT;
{ fileUUID: 'b0e31123-c67e-4d2e-9acd-99034012682e',
  cnodeUserUUID: '11c34897-1946-4dfc-b59c-f646a1fc69fe',
  multihash: 'QmPiV7xqJBMyrzXevR87qfTbvxLhVpxqM3ojAP11p2P4Zs',
  sourceFile: '3892f955-ba0e-49ff-8021-7a0f308b2974.mp3',
  storagePath:
   '/file_storage/QmPiV7xqJBMyrzXevR87qfTbvxLhVpxqM3ojAP11p2P4Zs',
  type: 'copy320',
  trackUUID: 'bc2eb41c-b34e-4400-a8bd-b41090b5abfd',
  updatedAt: 2020-03-05T17:40:21.178Z,
  createdAt: 2020-03-05T17:40:21.178Z }
writing to db3...
Executing (12fe9191-cafc-4dc0-8a9c-092afbf1bfdf): START TRANSACTION;
Executing (12fe9191-cafc-4dc0-8a9c-092afbf1bfdf): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '11c34897-1946-4dfc-b59c-f646a1fc69fe' AND "File"."multihash" = 'QmPiV7xqJBMyrzXevR87qfTbvxLhVpxqM3ojAP11p2P4Zs' AND "File"."sourceFile" = '3892f955-ba0e-49ff-8021-7a0f308b2974.mp3' AND "File"."storagePath" = '/file_storage/QmPiV7xqJBMyrzXevR87qfTbvxLhVpxqM3ojAP11p2P4Zs' AND "File"."type" = 'copy320' AND "File"."trackUUID" = 'bc2eb41c-b34e-4400-a8bd-b41090b5abfd' LIMIT 1;
Executing (12fe9191-cafc-4dc0-8a9c-092afbf1bfdf): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_4211f5ce81fa444c88ae51f21100f030$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('008640e4-4221-450e-a529-6e3e9b88de20','11c34897-1946-4dfc-b59c-f646a1fc69fe','bc2eb41c-b34e-4400-a8bd-b41090b5abfd','QmPiV7xqJBMyrzXevR87qfTbvxLhVpxqM3ojAP11p2P4Zs','3892f955-ba0e-49ff-8021-7a0f308b2974.mp3','/file_storage/QmPiV7xqJBMyrzXevR87qfTbvxLhVpxqM3ojAP11p2P4Zs','copy320','2020-03-05 17:40:21.566 +00:00','2020-03-05 17:40:21.566 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_4211f5ce81fa444c88ae51f21100f030$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (12fe9191-cafc-4dc0-8a9c-092afbf1bfdf): COMMIT;
{ fileUUID: '008640e4-4221-450e-a529-6e3e9b88de20',
  cnodeUserUUID: '11c34897-1946-4dfc-b59c-f646a1fc69fe',
  multihash: 'QmPiV7xqJBMyrzXevR87qfTbvxLhVpxqM3ojAP11p2P4Zs',
  sourceFile: '3892f955-ba0e-49ff-8021-7a0f308b2974.mp3',
  storagePath:
   '/file_storage/QmPiV7xqJBMyrzXevR87qfTbvxLhVpxqM3ojAP11p2P4Zs',
  type: 'copy320',
  trackUUID: 'bc2eb41c-b34e-4400-a8bd-b41090b5abfd',
  updatedAt: 2020-03-05T17:40:21.566Z,
  createdAt: 2020-03-05T17:40:21.566Z }




PROCESSING ROW #196: sourcefile: a5343c34-2293-4e70-871b-b2a53b1bd89f.mp3, cnodeUserUUID: ac46b8db-436c-4fdc-a646-f3f5c1f4e2ba, trackUUID: 2ed9e479-9985-49ef-9631-2fae55efb009, multihash: QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM, dstPath: /file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM
writing to db1...
Executing (904092fa-cee7-43d2-a535-73d5508efb0d): START TRANSACTION;
Executing (904092fa-cee7-43d2-a535-73d5508efb0d): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = 'ac46b8db-436c-4fdc-a646-f3f5c1f4e2ba' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = 'a5343c34-2293-4e70-871b-b2a53b1bd89f.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '2ed9e479-9985-49ef-9631-2fae55efb009' LIMIT 1;
Executing (904092fa-cee7-43d2-a535-73d5508efb0d): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_18388a5c3ce44602b5e606041e45b5e4$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('559e60a0-e35c-4984-be94-45aedd859798','ac46b8db-436c-4fdc-a646-f3f5c1f4e2ba','2ed9e479-9985-49ef-9631-2fae55efb009','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','a5343c34-2293-4e70-871b-b2a53b1bd89f.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:40:21.967 +00:00','2020-03-05 17:40:21.967 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_18388a5c3ce44602b5e606041e45b5e4$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (904092fa-cee7-43d2-a535-73d5508efb0d): COMMIT;
{ fileUUID: '559e60a0-e35c-4984-be94-45aedd859798',
  cnodeUserUUID: 'ac46b8db-436c-4fdc-a646-f3f5c1f4e2ba',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: 'a5343c34-2293-4e70-871b-b2a53b1bd89f.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: '2ed9e479-9985-49ef-9631-2fae55efb009',
  updatedAt: 2020-03-05T17:40:21.967Z,
  createdAt: 2020-03-05T17:40:21.967Z }
writing to db2...
Executing (be172711-8b3b-4c05-96e6-5541817bd0ff): START TRANSACTION;
Executing (be172711-8b3b-4c05-96e6-5541817bd0ff): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = 'ac46b8db-436c-4fdc-a646-f3f5c1f4e2ba' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = 'a5343c34-2293-4e70-871b-b2a53b1bd89f.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '2ed9e479-9985-49ef-9631-2fae55efb009' LIMIT 1;
Executing (be172711-8b3b-4c05-96e6-5541817bd0ff): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_c39a4272fa6a400383013797506c172b$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('4b234206-d738-455f-ba78-c65262027090','ac46b8db-436c-4fdc-a646-f3f5c1f4e2ba','2ed9e479-9985-49ef-9631-2fae55efb009','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','a5343c34-2293-4e70-871b-b2a53b1bd89f.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:40:22.342 +00:00','2020-03-05 17:40:22.342 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_c39a4272fa6a400383013797506c172b$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (be172711-8b3b-4c05-96e6-5541817bd0ff): COMMIT;
{ fileUUID: '4b234206-d738-455f-ba78-c65262027090',
  cnodeUserUUID: 'ac46b8db-436c-4fdc-a646-f3f5c1f4e2ba',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: 'a5343c34-2293-4e70-871b-b2a53b1bd89f.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: '2ed9e479-9985-49ef-9631-2fae55efb009',
  updatedAt: 2020-03-05T17:40:22.342Z,
  createdAt: 2020-03-05T17:40:22.342Z }
writing to db3...
Executing (b43ff183-2c49-4565-b5dd-21c5f97e7bf7): START TRANSACTION;
Executing (b43ff183-2c49-4565-b5dd-21c5f97e7bf7): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = 'ac46b8db-436c-4fdc-a646-f3f5c1f4e2ba' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = 'a5343c34-2293-4e70-871b-b2a53b1bd89f.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '2ed9e479-9985-49ef-9631-2fae55efb009' LIMIT 1;
Executing (b43ff183-2c49-4565-b5dd-21c5f97e7bf7): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_b3e2a7d9a7734a2ab19e8db87df3708b$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('f174f247-9adb-45ff-b49e-272b3430677d','ac46b8db-436c-4fdc-a646-f3f5c1f4e2ba','2ed9e479-9985-49ef-9631-2fae55efb009','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','a5343c34-2293-4e70-871b-b2a53b1bd89f.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:40:22.722 +00:00','2020-03-05 17:40:22.722 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_b3e2a7d9a7734a2ab19e8db87df3708b$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (b43ff183-2c49-4565-b5dd-21c5f97e7bf7): COMMIT;
{ fileUUID: 'f174f247-9adb-45ff-b49e-272b3430677d',
  cnodeUserUUID: 'ac46b8db-436c-4fdc-a646-f3f5c1f4e2ba',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: 'a5343c34-2293-4e70-871b-b2a53b1bd89f.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: '2ed9e479-9985-49ef-9631-2fae55efb009',
  updatedAt: 2020-03-05T17:40:22.722Z,
  createdAt: 2020-03-05T17:40:22.722Z }




PROCESSING ROW #197: sourcefile: 58cba95c-2777-4dfc-8143-8c87c944d6b7.mp3, cnodeUserUUID: bf7a2ab0-eefe-46ef-aec0-c9200deb8534, trackUUID: d34f9072-d489-4ace-b641-3e4761047d1d, multihash: QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM, dstPath: /file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM
writing to db1...
Executing (423b760a-6a21-4f8b-a983-f14463db23ad): START TRANSACTION;
Executing (423b760a-6a21-4f8b-a983-f14463db23ad): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = 'bf7a2ab0-eefe-46ef-aec0-c9200deb8534' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = '58cba95c-2777-4dfc-8143-8c87c944d6b7.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = 'd34f9072-d489-4ace-b641-3e4761047d1d' LIMIT 1;
Executing (423b760a-6a21-4f8b-a983-f14463db23ad): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_b276852782bd4a8e97fdc4f8eb2425a8$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('225008a6-ec3e-4859-9f0d-6abced4750c8','bf7a2ab0-eefe-46ef-aec0-c9200deb8534','d34f9072-d489-4ace-b641-3e4761047d1d','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','58cba95c-2777-4dfc-8143-8c87c944d6b7.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:40:23.099 +00:00','2020-03-05 17:40:23.099 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_b276852782bd4a8e97fdc4f8eb2425a8$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (423b760a-6a21-4f8b-a983-f14463db23ad): COMMIT;
{ fileUUID: '225008a6-ec3e-4859-9f0d-6abced4750c8',
  cnodeUserUUID: 'bf7a2ab0-eefe-46ef-aec0-c9200deb8534',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: '58cba95c-2777-4dfc-8143-8c87c944d6b7.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: 'd34f9072-d489-4ace-b641-3e4761047d1d',
  updatedAt: 2020-03-05T17:40:23.099Z,
  createdAt: 2020-03-05T17:40:23.099Z }
writing to db2...
Executing (4499ead1-ed66-46e0-89bd-204f7f2a1422): START TRANSACTION;
Executing (4499ead1-ed66-46e0-89bd-204f7f2a1422): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = 'bf7a2ab0-eefe-46ef-aec0-c9200deb8534' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = '58cba95c-2777-4dfc-8143-8c87c944d6b7.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = 'd34f9072-d489-4ace-b641-3e4761047d1d' LIMIT 1;
Executing (4499ead1-ed66-46e0-89bd-204f7f2a1422): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_a39cbe0deab1494ba771bdd4f7347b16$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('2699323a-62fa-4f27-9b31-de27f077124e','bf7a2ab0-eefe-46ef-aec0-c9200deb8534','d34f9072-d489-4ace-b641-3e4761047d1d','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','58cba95c-2777-4dfc-8143-8c87c944d6b7.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:40:23.492 +00:00','2020-03-05 17:40:23.492 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_a39cbe0deab1494ba771bdd4f7347b16$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (4499ead1-ed66-46e0-89bd-204f7f2a1422): COMMIT;
{ fileUUID: '2699323a-62fa-4f27-9b31-de27f077124e',
  cnodeUserUUID: 'bf7a2ab0-eefe-46ef-aec0-c9200deb8534',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: '58cba95c-2777-4dfc-8143-8c87c944d6b7.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: 'd34f9072-d489-4ace-b641-3e4761047d1d',
  updatedAt: 2020-03-05T17:40:23.492Z,
  createdAt: 2020-03-05T17:40:23.492Z }
writing to db3...
Executing (8988721d-fe7f-4ede-bf68-23e8b72e7d3f): START TRANSACTION;
Executing (8988721d-fe7f-4ede-bf68-23e8b72e7d3f): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = 'bf7a2ab0-eefe-46ef-aec0-c9200deb8534' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = '58cba95c-2777-4dfc-8143-8c87c944d6b7.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = 'd34f9072-d489-4ace-b641-3e4761047d1d' LIMIT 1;
Executing (8988721d-fe7f-4ede-bf68-23e8b72e7d3f): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_25bcd02db6b743d9b6cdb9ee133cc899$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('8ffa8891-3968-4cd5-bf21-bb70f2470dc7','bf7a2ab0-eefe-46ef-aec0-c9200deb8534','d34f9072-d489-4ace-b641-3e4761047d1d','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','58cba95c-2777-4dfc-8143-8c87c944d6b7.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:40:23.879 +00:00','2020-03-05 17:40:23.879 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_25bcd02db6b743d9b6cdb9ee133cc899$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (8988721d-fe7f-4ede-bf68-23e8b72e7d3f): COMMIT;
{ fileUUID: '8ffa8891-3968-4cd5-bf21-bb70f2470dc7',
  cnodeUserUUID: 'bf7a2ab0-eefe-46ef-aec0-c9200deb8534',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: '58cba95c-2777-4dfc-8143-8c87c944d6b7.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: 'd34f9072-d489-4ace-b641-3e4761047d1d',
  updatedAt: 2020-03-05T17:40:23.879Z,
  createdAt: 2020-03-05T17:40:23.879Z }




PROCESSING ROW #198: sourcefile: 61f9ce6f-79b9-4f0f-8581-3bcb2c3b9b32.mp3, cnodeUserUUID: c3d646a9-a910-475d-916a-5469e298bcc3, trackUUID: 88d37cfe-597c-4a7c-8a7f-2454c20965db, multihash: QmNgPjc1CKLTZoKCEtUq9iF8ibTFAizXDzhD4ECk4VgvEF, dstPath: /file_storage/QmNgPjc1CKLTZoKCEtUq9iF8ibTFAizXDzhD4ECk4VgvEF
writing to db1...
Executing (4f922dc4-e1c4-4ade-832a-036fa8cfd52e): START TRANSACTION;
Executing (4f922dc4-e1c4-4ade-832a-036fa8cfd52e): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = 'c3d646a9-a910-475d-916a-5469e298bcc3' AND "File"."multihash" = 'QmNgPjc1CKLTZoKCEtUq9iF8ibTFAizXDzhD4ECk4VgvEF' AND "File"."sourceFile" = '61f9ce6f-79b9-4f0f-8581-3bcb2c3b9b32.mp3' AND "File"."storagePath" = '/file_storage/QmNgPjc1CKLTZoKCEtUq9iF8ibTFAizXDzhD4ECk4VgvEF' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '88d37cfe-597c-4a7c-8a7f-2454c20965db' LIMIT 1;
Executing (4f922dc4-e1c4-4ade-832a-036fa8cfd52e): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_313a1b5ac188472bbbd07c5178f76c93$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('68749f1e-beb2-45c6-9463-699294df1fe1','c3d646a9-a910-475d-916a-5469e298bcc3','88d37cfe-597c-4a7c-8a7f-2454c20965db','QmNgPjc1CKLTZoKCEtUq9iF8ibTFAizXDzhD4ECk4VgvEF','61f9ce6f-79b9-4f0f-8581-3bcb2c3b9b32.mp3','/file_storage/QmNgPjc1CKLTZoKCEtUq9iF8ibTFAizXDzhD4ECk4VgvEF','copy320','2020-03-05 17:40:24.265 +00:00','2020-03-05 17:40:24.265 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_313a1b5ac188472bbbd07c5178f76c93$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (4f922dc4-e1c4-4ade-832a-036fa8cfd52e): COMMIT;
{ fileUUID: '68749f1e-beb2-45c6-9463-699294df1fe1',
  cnodeUserUUID: 'c3d646a9-a910-475d-916a-5469e298bcc3',
  multihash: 'QmNgPjc1CKLTZoKCEtUq9iF8ibTFAizXDzhD4ECk4VgvEF',
  sourceFile: '61f9ce6f-79b9-4f0f-8581-3bcb2c3b9b32.mp3',
  storagePath:
   '/file_storage/QmNgPjc1CKLTZoKCEtUq9iF8ibTFAizXDzhD4ECk4VgvEF',
  type: 'copy320',
  trackUUID: '88d37cfe-597c-4a7c-8a7f-2454c20965db',
  updatedAt: 2020-03-05T17:40:24.265Z,
  createdAt: 2020-03-05T17:40:24.265Z }
writing to db2...
Executing (989bdbe8-84f2-4e0a-bf01-93216582ca01): START TRANSACTION;
Executing (989bdbe8-84f2-4e0a-bf01-93216582ca01): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = 'c3d646a9-a910-475d-916a-5469e298bcc3' AND "File"."multihash" = 'QmNgPjc1CKLTZoKCEtUq9iF8ibTFAizXDzhD4ECk4VgvEF' AND "File"."sourceFile" = '61f9ce6f-79b9-4f0f-8581-3bcb2c3b9b32.mp3' AND "File"."storagePath" = '/file_storage/QmNgPjc1CKLTZoKCEtUq9iF8ibTFAizXDzhD4ECk4VgvEF' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '88d37cfe-597c-4a7c-8a7f-2454c20965db' LIMIT 1;
Executing (989bdbe8-84f2-4e0a-bf01-93216582ca01): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_df083ac7c1284ff8a1e4184092faaf96$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('61427e10-520b-473a-9a8d-7c748f91f229','c3d646a9-a910-475d-916a-5469e298bcc3','88d37cfe-597c-4a7c-8a7f-2454c20965db','QmNgPjc1CKLTZoKCEtUq9iF8ibTFAizXDzhD4ECk4VgvEF','61f9ce6f-79b9-4f0f-8581-3bcb2c3b9b32.mp3','/file_storage/QmNgPjc1CKLTZoKCEtUq9iF8ibTFAizXDzhD4ECk4VgvEF','copy320','2020-03-05 17:40:24.658 +00:00','2020-03-05 17:40:24.658 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_df083ac7c1284ff8a1e4184092faaf96$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (989bdbe8-84f2-4e0a-bf01-93216582ca01): COMMIT;
{ fileUUID: '61427e10-520b-473a-9a8d-7c748f91f229',
  cnodeUserUUID: 'c3d646a9-a910-475d-916a-5469e298bcc3',
  multihash: 'QmNgPjc1CKLTZoKCEtUq9iF8ibTFAizXDzhD4ECk4VgvEF',
  sourceFile: '61f9ce6f-79b9-4f0f-8581-3bcb2c3b9b32.mp3',
  storagePath:
   '/file_storage/QmNgPjc1CKLTZoKCEtUq9iF8ibTFAizXDzhD4ECk4VgvEF',
  type: 'copy320',
  trackUUID: '88d37cfe-597c-4a7c-8a7f-2454c20965db',
  updatedAt: 2020-03-05T17:40:24.658Z,
  createdAt: 2020-03-05T17:40:24.658Z }
writing to db3...
Executing (bd0d735e-0e42-4b5b-a6a6-3f6f20015c6f): START TRANSACTION;
Executing (bd0d735e-0e42-4b5b-a6a6-3f6f20015c6f): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = 'c3d646a9-a910-475d-916a-5469e298bcc3' AND "File"."multihash" = 'QmNgPjc1CKLTZoKCEtUq9iF8ibTFAizXDzhD4ECk4VgvEF' AND "File"."sourceFile" = '61f9ce6f-79b9-4f0f-8581-3bcb2c3b9b32.mp3' AND "File"."storagePath" = '/file_storage/QmNgPjc1CKLTZoKCEtUq9iF8ibTFAizXDzhD4ECk4VgvEF' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '88d37cfe-597c-4a7c-8a7f-2454c20965db' LIMIT 1;
Executing (bd0d735e-0e42-4b5b-a6a6-3f6f20015c6f): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_0a43ce64ede84a7f82e7862bd911fce1$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('252cab5f-3ac8-40bc-ade7-c0936b651564','c3d646a9-a910-475d-916a-5469e298bcc3','88d37cfe-597c-4a7c-8a7f-2454c20965db','QmNgPjc1CKLTZoKCEtUq9iF8ibTFAizXDzhD4ECk4VgvEF','61f9ce6f-79b9-4f0f-8581-3bcb2c3b9b32.mp3','/file_storage/QmNgPjc1CKLTZoKCEtUq9iF8ibTFAizXDzhD4ECk4VgvEF','copy320','2020-03-05 17:40:25.071 +00:00','2020-03-05 17:40:25.071 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_0a43ce64ede84a7f82e7862bd911fce1$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (bd0d735e-0e42-4b5b-a6a6-3f6f20015c6f): COMMIT;
{ fileUUID: '252cab5f-3ac8-40bc-ade7-c0936b651564',
  cnodeUserUUID: 'c3d646a9-a910-475d-916a-5469e298bcc3',
  multihash: 'QmNgPjc1CKLTZoKCEtUq9iF8ibTFAizXDzhD4ECk4VgvEF',
  sourceFile: '61f9ce6f-79b9-4f0f-8581-3bcb2c3b9b32.mp3',
  storagePath:
   '/file_storage/QmNgPjc1CKLTZoKCEtUq9iF8ibTFAizXDzhD4ECk4VgvEF',
  type: 'copy320',
  trackUUID: '88d37cfe-597c-4a7c-8a7f-2454c20965db',
  updatedAt: 2020-03-05T17:40:25.071Z,
  createdAt: 2020-03-05T17:40:25.071Z }




PROCESSING ROW #199: sourcefile: c993c9a2-9b76-4709-824d-275a528eef0b.mp3, cnodeUserUUID: 8a8e53cd-e052-443e-9676-f3e5023dfff6, trackUUID: 2afd51aa-b86f-4e0a-9fc4-bcbbd2aec478, multihash: QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM, dstPath: /file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM
writing to db1...
Executing (55170621-7295-4b37-8810-0aeb3e31d2bc): START TRANSACTION;
Executing (55170621-7295-4b37-8810-0aeb3e31d2bc): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '8a8e53cd-e052-443e-9676-f3e5023dfff6' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = 'c993c9a2-9b76-4709-824d-275a528eef0b.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '2afd51aa-b86f-4e0a-9fc4-bcbbd2aec478' LIMIT 1;
Executing (55170621-7295-4b37-8810-0aeb3e31d2bc): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_57e68b0f41dc4caca5654921692ec179$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('bfcc6ed4-871c-45b8-be01-dcd0ec9fc1da','8a8e53cd-e052-443e-9676-f3e5023dfff6','2afd51aa-b86f-4e0a-9fc4-bcbbd2aec478','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','c993c9a2-9b76-4709-824d-275a528eef0b.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:40:25.471 +00:00','2020-03-05 17:40:25.471 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_57e68b0f41dc4caca5654921692ec179$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (55170621-7295-4b37-8810-0aeb3e31d2bc): COMMIT;
{ fileUUID: 'bfcc6ed4-871c-45b8-be01-dcd0ec9fc1da',
  cnodeUserUUID: '8a8e53cd-e052-443e-9676-f3e5023dfff6',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: 'c993c9a2-9b76-4709-824d-275a528eef0b.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: '2afd51aa-b86f-4e0a-9fc4-bcbbd2aec478',
  updatedAt: 2020-03-05T17:40:25.471Z,
  createdAt: 2020-03-05T17:40:25.471Z }
writing to db2...
Executing (e6133dc5-e905-4842-a93e-c6a1370bbfbe): START TRANSACTION;
Executing (e6133dc5-e905-4842-a93e-c6a1370bbfbe): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '8a8e53cd-e052-443e-9676-f3e5023dfff6' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = 'c993c9a2-9b76-4709-824d-275a528eef0b.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '2afd51aa-b86f-4e0a-9fc4-bcbbd2aec478' LIMIT 1;
Executing (e6133dc5-e905-4842-a93e-c6a1370bbfbe): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_a23baa244a5a4d2fa6126b5e9b0e80a7$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('5492f427-d509-4ddd-b75c-8d4490ec3926','8a8e53cd-e052-443e-9676-f3e5023dfff6','2afd51aa-b86f-4e0a-9fc4-bcbbd2aec478','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','c993c9a2-9b76-4709-824d-275a528eef0b.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:40:25.843 +00:00','2020-03-05 17:40:25.843 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_a23baa244a5a4d2fa6126b5e9b0e80a7$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (e6133dc5-e905-4842-a93e-c6a1370bbfbe): COMMIT;
{ fileUUID: '5492f427-d509-4ddd-b75c-8d4490ec3926',
  cnodeUserUUID: '8a8e53cd-e052-443e-9676-f3e5023dfff6',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: 'c993c9a2-9b76-4709-824d-275a528eef0b.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: '2afd51aa-b86f-4e0a-9fc4-bcbbd2aec478',
  updatedAt: 2020-03-05T17:40:25.843Z,
  createdAt: 2020-03-05T17:40:25.843Z }
writing to db3...
Executing (abab1a87-0c01-4473-be63-18e37f21913f): START TRANSACTION;
Executing (abab1a87-0c01-4473-be63-18e37f21913f): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '8a8e53cd-e052-443e-9676-f3e5023dfff6' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = 'c993c9a2-9b76-4709-824d-275a528eef0b.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '2afd51aa-b86f-4e0a-9fc4-bcbbd2aec478' LIMIT 1;
Executing (abab1a87-0c01-4473-be63-18e37f21913f): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_abebca9bab0e4eec88e380f77d1d3f27$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('5842fd7d-730f-43d9-9b91-9c752a5985ff','8a8e53cd-e052-443e-9676-f3e5023dfff6','2afd51aa-b86f-4e0a-9fc4-bcbbd2aec478','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','c993c9a2-9b76-4709-824d-275a528eef0b.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:40:26.228 +00:00','2020-03-05 17:40:26.228 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_abebca9bab0e4eec88e380f77d1d3f27$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (abab1a87-0c01-4473-be63-18e37f21913f): COMMIT;
{ fileUUID: '5842fd7d-730f-43d9-9b91-9c752a5985ff',
  cnodeUserUUID: '8a8e53cd-e052-443e-9676-f3e5023dfff6',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: 'c993c9a2-9b76-4709-824d-275a528eef0b.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: '2afd51aa-b86f-4e0a-9fc4-bcbbd2aec478',
  updatedAt: 2020-03-05T17:40:26.228Z,
  createdAt: 2020-03-05T17:40:26.228Z }




PROCESSING ROW #200: sourcefile: 60aec50c-2cd7-4f01-8a71-33a96464042b.mp3, cnodeUserUUID: 5d20ebaf-872a-47f1-b068-0bfa6227f58f, trackUUID: a2ebc99f-cdf6-4cbb-86be-25ef1c671a27, multihash: QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM, dstPath: /file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM
writing to db1...
Executing (c172fb67-d9dd-4706-94b2-05b57f5adf47): START TRANSACTION;
Executing (c172fb67-d9dd-4706-94b2-05b57f5adf47): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '5d20ebaf-872a-47f1-b068-0bfa6227f58f' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = '60aec50c-2cd7-4f01-8a71-33a96464042b.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = 'a2ebc99f-cdf6-4cbb-86be-25ef1c671a27' LIMIT 1;
Executing (c172fb67-d9dd-4706-94b2-05b57f5adf47): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_c57418b2648543b4869592434743df74$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('6c6483b0-d2a0-43df-b159-ffcb51d20b0d','5d20ebaf-872a-47f1-b068-0bfa6227f58f','a2ebc99f-cdf6-4cbb-86be-25ef1c671a27','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','60aec50c-2cd7-4f01-8a71-33a96464042b.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:40:26.641 +00:00','2020-03-05 17:40:26.641 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_c57418b2648543b4869592434743df74$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (c172fb67-d9dd-4706-94b2-05b57f5adf47): COMMIT;
{ fileUUID: '6c6483b0-d2a0-43df-b159-ffcb51d20b0d',
  cnodeUserUUID: '5d20ebaf-872a-47f1-b068-0bfa6227f58f',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: '60aec50c-2cd7-4f01-8a71-33a96464042b.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: 'a2ebc99f-cdf6-4cbb-86be-25ef1c671a27',
  updatedAt: 2020-03-05T17:40:26.641Z,
  createdAt: 2020-03-05T17:40:26.641Z }
writing to db2...
Executing (2ffdecb1-0925-4c69-acd0-770dd0cf6ac4): START TRANSACTION;
Executing (2ffdecb1-0925-4c69-acd0-770dd0cf6ac4): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '5d20ebaf-872a-47f1-b068-0bfa6227f58f' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = '60aec50c-2cd7-4f01-8a71-33a96464042b.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = 'a2ebc99f-cdf6-4cbb-86be-25ef1c671a27' LIMIT 1;
Executing (2ffdecb1-0925-4c69-acd0-770dd0cf6ac4): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_1528266499944f35b4874ca73b35dcf4$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('1b9c0b96-381c-436f-87cd-c499f282bd67','5d20ebaf-872a-47f1-b068-0bfa6227f58f','a2ebc99f-cdf6-4cbb-86be-25ef1c671a27','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','60aec50c-2cd7-4f01-8a71-33a96464042b.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:40:27.027 +00:00','2020-03-05 17:40:27.027 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_1528266499944f35b4874ca73b35dcf4$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (2ffdecb1-0925-4c69-acd0-770dd0cf6ac4): COMMIT;
{ fileUUID: '1b9c0b96-381c-436f-87cd-c499f282bd67',
  cnodeUserUUID: '5d20ebaf-872a-47f1-b068-0bfa6227f58f',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: '60aec50c-2cd7-4f01-8a71-33a96464042b.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: 'a2ebc99f-cdf6-4cbb-86be-25ef1c671a27',
  updatedAt: 2020-03-05T17:40:27.027Z,
  createdAt: 2020-03-05T17:40:27.027Z }
writing to db3...
Executing (2305cc7c-e0ae-4170-9a20-e7f766bc56fa): START TRANSACTION;
Executing (2305cc7c-e0ae-4170-9a20-e7f766bc56fa): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '5d20ebaf-872a-47f1-b068-0bfa6227f58f' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = '60aec50c-2cd7-4f01-8a71-33a96464042b.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = 'a2ebc99f-cdf6-4cbb-86be-25ef1c671a27' LIMIT 1;
Executing (2305cc7c-e0ae-4170-9a20-e7f766bc56fa): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_5a0c480a340a46c89b10f4719e34dcc3$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('5baceadb-a06e-4400-8db7-60cb7156111d','5d20ebaf-872a-47f1-b068-0bfa6227f58f','a2ebc99f-cdf6-4cbb-86be-25ef1c671a27','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','60aec50c-2cd7-4f01-8a71-33a96464042b.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:40:27.421 +00:00','2020-03-05 17:40:27.421 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_5a0c480a340a46c89b10f4719e34dcc3$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (2305cc7c-e0ae-4170-9a20-e7f766bc56fa): COMMIT;
{ fileUUID: '5baceadb-a06e-4400-8db7-60cb7156111d',
  cnodeUserUUID: '5d20ebaf-872a-47f1-b068-0bfa6227f58f',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: '60aec50c-2cd7-4f01-8a71-33a96464042b.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: 'a2ebc99f-cdf6-4cbb-86be-25ef1c671a27',
  updatedAt: 2020-03-05T17:40:27.421Z,
  createdAt: 2020-03-05T17:40:27.421Z }




PROCESSING ROW #201: sourcefile: 595436c1-3f3b-4b77-bd2b-4b50f549ecd4.mp3, cnodeUserUUID: 6d2b9d50-6a0f-4f25-9d73-7150caa78516, trackUUID: cfba6b9f-c61b-4da7-8a48-f3dbd6a08e97, multihash: QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM, dstPath: /file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM
writing to db1...
Executing (a9a6391a-0b1a-4230-bb4d-a178f4ed1431): START TRANSACTION;
Executing (a9a6391a-0b1a-4230-bb4d-a178f4ed1431): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '6d2b9d50-6a0f-4f25-9d73-7150caa78516' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = '595436c1-3f3b-4b77-bd2b-4b50f549ecd4.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = 'cfba6b9f-c61b-4da7-8a48-f3dbd6a08e97' LIMIT 1;
Executing (a9a6391a-0b1a-4230-bb4d-a178f4ed1431): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_74eb31968b974f77b4452a531064ccd5$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('e9f5ca1d-237d-4eca-82e1-074b8e821c3a','6d2b9d50-6a0f-4f25-9d73-7150caa78516','cfba6b9f-c61b-4da7-8a48-f3dbd6a08e97','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','595436c1-3f3b-4b77-bd2b-4b50f549ecd4.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:40:27.802 +00:00','2020-03-05 17:40:27.802 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_74eb31968b974f77b4452a531064ccd5$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (a9a6391a-0b1a-4230-bb4d-a178f4ed1431): COMMIT;
{ fileUUID: 'e9f5ca1d-237d-4eca-82e1-074b8e821c3a',
  cnodeUserUUID: '6d2b9d50-6a0f-4f25-9d73-7150caa78516',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: '595436c1-3f3b-4b77-bd2b-4b50f549ecd4.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: 'cfba6b9f-c61b-4da7-8a48-f3dbd6a08e97',
  updatedAt: 2020-03-05T17:40:27.802Z,
  createdAt: 2020-03-05T17:40:27.802Z }
writing to db2...
Executing (06132244-e103-4e82-bab0-54532c5d62f1): START TRANSACTION;
Executing (06132244-e103-4e82-bab0-54532c5d62f1): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '6d2b9d50-6a0f-4f25-9d73-7150caa78516' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = '595436c1-3f3b-4b77-bd2b-4b50f549ecd4.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = 'cfba6b9f-c61b-4da7-8a48-f3dbd6a08e97' LIMIT 1;
Executing (06132244-e103-4e82-bab0-54532c5d62f1): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_1bd9450212a24975b4f041d10684945f$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('871b82e2-8d7c-4d9a-8b85-62810e1d2ea1','6d2b9d50-6a0f-4f25-9d73-7150caa78516','cfba6b9f-c61b-4da7-8a48-f3dbd6a08e97','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','595436c1-3f3b-4b77-bd2b-4b50f549ecd4.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:40:28.191 +00:00','2020-03-05 17:40:28.191 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_1bd9450212a24975b4f041d10684945f$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (06132244-e103-4e82-bab0-54532c5d62f1): COMMIT;
{ fileUUID: '871b82e2-8d7c-4d9a-8b85-62810e1d2ea1',
  cnodeUserUUID: '6d2b9d50-6a0f-4f25-9d73-7150caa78516',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: '595436c1-3f3b-4b77-bd2b-4b50f549ecd4.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: 'cfba6b9f-c61b-4da7-8a48-f3dbd6a08e97',
  updatedAt: 2020-03-05T17:40:28.191Z,
  createdAt: 2020-03-05T17:40:28.191Z }
writing to db3...
Executing (359ff1b9-aca0-4a85-8e34-8f7c50c43e32): START TRANSACTION;
Executing (359ff1b9-aca0-4a85-8e34-8f7c50c43e32): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '6d2b9d50-6a0f-4f25-9d73-7150caa78516' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = '595436c1-3f3b-4b77-bd2b-4b50f549ecd4.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = 'cfba6b9f-c61b-4da7-8a48-f3dbd6a08e97' LIMIT 1;
Executing (359ff1b9-aca0-4a85-8e34-8f7c50c43e32): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_b4c45aad54ed478188776d72a6f1ded6$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('7cc38cfe-67aa-456c-bc00-e188ad476f77','6d2b9d50-6a0f-4f25-9d73-7150caa78516','cfba6b9f-c61b-4da7-8a48-f3dbd6a08e97','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','595436c1-3f3b-4b77-bd2b-4b50f549ecd4.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:40:28.579 +00:00','2020-03-05 17:40:28.579 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_b4c45aad54ed478188776d72a6f1ded6$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (359ff1b9-aca0-4a85-8e34-8f7c50c43e32): COMMIT;
{ fileUUID: '7cc38cfe-67aa-456c-bc00-e188ad476f77',
  cnodeUserUUID: '6d2b9d50-6a0f-4f25-9d73-7150caa78516',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: '595436c1-3f3b-4b77-bd2b-4b50f549ecd4.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: 'cfba6b9f-c61b-4da7-8a48-f3dbd6a08e97',
  updatedAt: 2020-03-05T17:40:28.579Z,
  createdAt: 2020-03-05T17:40:28.579Z }




PROCESSING ROW #202: sourcefile: 67fb3d6d-f303-420e-a46f-11543068d459.mp3, cnodeUserUUID: 11c34897-1946-4dfc-b59c-f646a1fc69fe, trackUUID: e23db55d-36b4-4329-a6ad-ccf7142882a5, multihash: QmcwpdWFuSgAhddatUZXDsTQzKGDCRB1RDdKGdqKKwGxHB, dstPath: /file_storage/QmcwpdWFuSgAhddatUZXDsTQzKGDCRB1RDdKGdqKKwGxHB
writing to db1...
Executing (ebee4995-05d0-4569-aafd-a079b2d8fc38): START TRANSACTION;
Executing (ebee4995-05d0-4569-aafd-a079b2d8fc38): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '11c34897-1946-4dfc-b59c-f646a1fc69fe' AND "File"."multihash" = 'QmcwpdWFuSgAhddatUZXDsTQzKGDCRB1RDdKGdqKKwGxHB' AND "File"."sourceFile" = '67fb3d6d-f303-420e-a46f-11543068d459.mp3' AND "File"."storagePath" = '/file_storage/QmcwpdWFuSgAhddatUZXDsTQzKGDCRB1RDdKGdqKKwGxHB' AND "File"."type" = 'copy320' AND "File"."trackUUID" = 'e23db55d-36b4-4329-a6ad-ccf7142882a5' LIMIT 1;
Executing (ebee4995-05d0-4569-aafd-a079b2d8fc38): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_7176fe4a15e5437b91f0cf4f4a0be342$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('2f026fbf-aec5-4155-80ed-e7a5b8998d99','11c34897-1946-4dfc-b59c-f646a1fc69fe','e23db55d-36b4-4329-a6ad-ccf7142882a5','QmcwpdWFuSgAhddatUZXDsTQzKGDCRB1RDdKGdqKKwGxHB','67fb3d6d-f303-420e-a46f-11543068d459.mp3','/file_storage/QmcwpdWFuSgAhddatUZXDsTQzKGDCRB1RDdKGdqKKwGxHB','copy320','2020-03-05 17:40:28.965 +00:00','2020-03-05 17:40:28.965 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_7176fe4a15e5437b91f0cf4f4a0be342$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (ebee4995-05d0-4569-aafd-a079b2d8fc38): COMMIT;
{ fileUUID: '2f026fbf-aec5-4155-80ed-e7a5b8998d99',
  cnodeUserUUID: '11c34897-1946-4dfc-b59c-f646a1fc69fe',
  multihash: 'QmcwpdWFuSgAhddatUZXDsTQzKGDCRB1RDdKGdqKKwGxHB',
  sourceFile: '67fb3d6d-f303-420e-a46f-11543068d459.mp3',
  storagePath:
   '/file_storage/QmcwpdWFuSgAhddatUZXDsTQzKGDCRB1RDdKGdqKKwGxHB',
  type: 'copy320',
  trackUUID: 'e23db55d-36b4-4329-a6ad-ccf7142882a5',
  updatedAt: 2020-03-05T17:40:28.965Z,
  createdAt: 2020-03-05T17:40:28.965Z }
writing to db2...
Executing (aabbde0a-cbd3-4b38-89e1-adb9592d2cb7): START TRANSACTION;
Executing (aabbde0a-cbd3-4b38-89e1-adb9592d2cb7): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '11c34897-1946-4dfc-b59c-f646a1fc69fe' AND "File"."multihash" = 'QmcwpdWFuSgAhddatUZXDsTQzKGDCRB1RDdKGdqKKwGxHB' AND "File"."sourceFile" = '67fb3d6d-f303-420e-a46f-11543068d459.mp3' AND "File"."storagePath" = '/file_storage/QmcwpdWFuSgAhddatUZXDsTQzKGDCRB1RDdKGdqKKwGxHB' AND "File"."type" = 'copy320' AND "File"."trackUUID" = 'e23db55d-36b4-4329-a6ad-ccf7142882a5' LIMIT 1;
Executing (aabbde0a-cbd3-4b38-89e1-adb9592d2cb7): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_0dff086f58944235a89085b0e31db896$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('34f27c79-47f7-477f-88b6-de2932baab4a','11c34897-1946-4dfc-b59c-f646a1fc69fe','e23db55d-36b4-4329-a6ad-ccf7142882a5','QmcwpdWFuSgAhddatUZXDsTQzKGDCRB1RDdKGdqKKwGxHB','67fb3d6d-f303-420e-a46f-11543068d459.mp3','/file_storage/QmcwpdWFuSgAhddatUZXDsTQzKGDCRB1RDdKGdqKKwGxHB','copy320','2020-03-05 17:40:29.365 +00:00','2020-03-05 17:40:29.365 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_0dff086f58944235a89085b0e31db896$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (aabbde0a-cbd3-4b38-89e1-adb9592d2cb7): COMMIT;
{ fileUUID: '34f27c79-47f7-477f-88b6-de2932baab4a',
  cnodeUserUUID: '11c34897-1946-4dfc-b59c-f646a1fc69fe',
  multihash: 'QmcwpdWFuSgAhddatUZXDsTQzKGDCRB1RDdKGdqKKwGxHB',
  sourceFile: '67fb3d6d-f303-420e-a46f-11543068d459.mp3',
  storagePath:
   '/file_storage/QmcwpdWFuSgAhddatUZXDsTQzKGDCRB1RDdKGdqKKwGxHB',
  type: 'copy320',
  trackUUID: 'e23db55d-36b4-4329-a6ad-ccf7142882a5',
  updatedAt: 2020-03-05T17:40:29.365Z,
  createdAt: 2020-03-05T17:40:29.365Z }
writing to db3...
Executing (88911986-c2a6-4431-9559-2fef109dd342): START TRANSACTION;
Executing (88911986-c2a6-4431-9559-2fef109dd342): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '11c34897-1946-4dfc-b59c-f646a1fc69fe' AND "File"."multihash" = 'QmcwpdWFuSgAhddatUZXDsTQzKGDCRB1RDdKGdqKKwGxHB' AND "File"."sourceFile" = '67fb3d6d-f303-420e-a46f-11543068d459.mp3' AND "File"."storagePath" = '/file_storage/QmcwpdWFuSgAhddatUZXDsTQzKGDCRB1RDdKGdqKKwGxHB' AND "File"."type" = 'copy320' AND "File"."trackUUID" = 'e23db55d-36b4-4329-a6ad-ccf7142882a5' LIMIT 1;
Executing (88911986-c2a6-4431-9559-2fef109dd342): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_e9fe40522c7a4e59bca7e8adf1a6c94f$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('5084214a-7b98-4d50-a5eb-f9c246bd61d1','11c34897-1946-4dfc-b59c-f646a1fc69fe','e23db55d-36b4-4329-a6ad-ccf7142882a5','QmcwpdWFuSgAhddatUZXDsTQzKGDCRB1RDdKGdqKKwGxHB','67fb3d6d-f303-420e-a46f-11543068d459.mp3','/file_storage/QmcwpdWFuSgAhddatUZXDsTQzKGDCRB1RDdKGdqKKwGxHB','copy320','2020-03-05 17:40:29.760 +00:00','2020-03-05 17:40:29.760 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_e9fe40522c7a4e59bca7e8adf1a6c94f$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (88911986-c2a6-4431-9559-2fef109dd342): COMMIT;
{ fileUUID: '5084214a-7b98-4d50-a5eb-f9c246bd61d1',
  cnodeUserUUID: '11c34897-1946-4dfc-b59c-f646a1fc69fe',
  multihash: 'QmcwpdWFuSgAhddatUZXDsTQzKGDCRB1RDdKGdqKKwGxHB',
  sourceFile: '67fb3d6d-f303-420e-a46f-11543068d459.mp3',
  storagePath:
   '/file_storage/QmcwpdWFuSgAhddatUZXDsTQzKGDCRB1RDdKGdqKKwGxHB',
  type: 'copy320',
  trackUUID: 'e23db55d-36b4-4329-a6ad-ccf7142882a5',
  updatedAt: 2020-03-05T17:40:29.760Z,
  createdAt: 2020-03-05T17:40:29.760Z }




PROCESSING ROW #203: sourcefile: 92e0d5e3-920c-4e13-bca1-ab3dbf707ec7.mp3, cnodeUserUUID: c3d646a9-a910-475d-916a-5469e298bcc3, trackUUID: 51930d01-0f13-4a53-8e6c-94b085963f6e, multihash: QmWZKeiTZxfd6xHcoGWtkiPgY1gmsYrDhGJFz7w2y2qyLu, dstPath: /file_storage/QmWZKeiTZxfd6xHcoGWtkiPgY1gmsYrDhGJFz7w2y2qyLu
writing to db1...
Executing (e2ea4aab-5cdd-4a5b-9c2f-2be9b93b2de9): START TRANSACTION;
Executing (e2ea4aab-5cdd-4a5b-9c2f-2be9b93b2de9): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = 'c3d646a9-a910-475d-916a-5469e298bcc3' AND "File"."multihash" = 'QmWZKeiTZxfd6xHcoGWtkiPgY1gmsYrDhGJFz7w2y2qyLu' AND "File"."sourceFile" = '92e0d5e3-920c-4e13-bca1-ab3dbf707ec7.mp3' AND "File"."storagePath" = '/file_storage/QmWZKeiTZxfd6xHcoGWtkiPgY1gmsYrDhGJFz7w2y2qyLu' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '51930d01-0f13-4a53-8e6c-94b085963f6e' LIMIT 1;
Executing (e2ea4aab-5cdd-4a5b-9c2f-2be9b93b2de9): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_36673105f9db4eb99dacc794056d206e$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('921e2180-cab4-45f8-9dbc-b71e19889366','c3d646a9-a910-475d-916a-5469e298bcc3','51930d01-0f13-4a53-8e6c-94b085963f6e','QmWZKeiTZxfd6xHcoGWtkiPgY1gmsYrDhGJFz7w2y2qyLu','92e0d5e3-920c-4e13-bca1-ab3dbf707ec7.mp3','/file_storage/QmWZKeiTZxfd6xHcoGWtkiPgY1gmsYrDhGJFz7w2y2qyLu','copy320','2020-03-05 17:40:30.167 +00:00','2020-03-05 17:40:30.167 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_36673105f9db4eb99dacc794056d206e$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (e2ea4aab-5cdd-4a5b-9c2f-2be9b93b2de9): COMMIT;
{ fileUUID: '921e2180-cab4-45f8-9dbc-b71e19889366',
  cnodeUserUUID: 'c3d646a9-a910-475d-916a-5469e298bcc3',
  multihash: 'QmWZKeiTZxfd6xHcoGWtkiPgY1gmsYrDhGJFz7w2y2qyLu',
  sourceFile: '92e0d5e3-920c-4e13-bca1-ab3dbf707ec7.mp3',
  storagePath:
   '/file_storage/QmWZKeiTZxfd6xHcoGWtkiPgY1gmsYrDhGJFz7w2y2qyLu',
  type: 'copy320',
  trackUUID: '51930d01-0f13-4a53-8e6c-94b085963f6e',
  updatedAt: 2020-03-05T17:40:30.167Z,
  createdAt: 2020-03-05T17:40:30.167Z }
writing to db2...
Executing (e5ba8782-76ef-4120-a100-bf272965997d): START TRANSACTION;
Executing (e5ba8782-76ef-4120-a100-bf272965997d): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = 'c3d646a9-a910-475d-916a-5469e298bcc3' AND "File"."multihash" = 'QmWZKeiTZxfd6xHcoGWtkiPgY1gmsYrDhGJFz7w2y2qyLu' AND "File"."sourceFile" = '92e0d5e3-920c-4e13-bca1-ab3dbf707ec7.mp3' AND "File"."storagePath" = '/file_storage/QmWZKeiTZxfd6xHcoGWtkiPgY1gmsYrDhGJFz7w2y2qyLu' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '51930d01-0f13-4a53-8e6c-94b085963f6e' LIMIT 1;
Executing (e5ba8782-76ef-4120-a100-bf272965997d): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_31f4dc26c07044a486e48a6668459d98$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('c90603a7-7234-47f9-8d10-0ccae7418592','c3d646a9-a910-475d-916a-5469e298bcc3','51930d01-0f13-4a53-8e6c-94b085963f6e','QmWZKeiTZxfd6xHcoGWtkiPgY1gmsYrDhGJFz7w2y2qyLu','92e0d5e3-920c-4e13-bca1-ab3dbf707ec7.mp3','/file_storage/QmWZKeiTZxfd6xHcoGWtkiPgY1gmsYrDhGJFz7w2y2qyLu','copy320','2020-03-05 17:40:30.554 +00:00','2020-03-05 17:40:30.554 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_31f4dc26c07044a486e48a6668459d98$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (e5ba8782-76ef-4120-a100-bf272965997d): COMMIT;
{ fileUUID: 'c90603a7-7234-47f9-8d10-0ccae7418592',
  cnodeUserUUID: 'c3d646a9-a910-475d-916a-5469e298bcc3',
  multihash: 'QmWZKeiTZxfd6xHcoGWtkiPgY1gmsYrDhGJFz7w2y2qyLu',
  sourceFile: '92e0d5e3-920c-4e13-bca1-ab3dbf707ec7.mp3',
  storagePath:
   '/file_storage/QmWZKeiTZxfd6xHcoGWtkiPgY1gmsYrDhGJFz7w2y2qyLu',
  type: 'copy320',
  trackUUID: '51930d01-0f13-4a53-8e6c-94b085963f6e',
  updatedAt: 2020-03-05T17:40:30.554Z,
  createdAt: 2020-03-05T17:40:30.554Z }
writing to db3...
Executing (1b52a383-4b6d-4f0d-8c93-795b1b872374): START TRANSACTION;
Executing (1b52a383-4b6d-4f0d-8c93-795b1b872374): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = 'c3d646a9-a910-475d-916a-5469e298bcc3' AND "File"."multihash" = 'QmWZKeiTZxfd6xHcoGWtkiPgY1gmsYrDhGJFz7w2y2qyLu' AND "File"."sourceFile" = '92e0d5e3-920c-4e13-bca1-ab3dbf707ec7.mp3' AND "File"."storagePath" = '/file_storage/QmWZKeiTZxfd6xHcoGWtkiPgY1gmsYrDhGJFz7w2y2qyLu' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '51930d01-0f13-4a53-8e6c-94b085963f6e' LIMIT 1;
Executing (1b52a383-4b6d-4f0d-8c93-795b1b872374): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_1fad58b5b7a24319a0a1ceb1fd94b1b5$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('f8da5ea1-24c1-491f-b2c1-81d10d7e2dbd','c3d646a9-a910-475d-916a-5469e298bcc3','51930d01-0f13-4a53-8e6c-94b085963f6e','QmWZKeiTZxfd6xHcoGWtkiPgY1gmsYrDhGJFz7w2y2qyLu','92e0d5e3-920c-4e13-bca1-ab3dbf707ec7.mp3','/file_storage/QmWZKeiTZxfd6xHcoGWtkiPgY1gmsYrDhGJFz7w2y2qyLu','copy320','2020-03-05 17:40:30.956 +00:00','2020-03-05 17:40:30.956 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_1fad58b5b7a24319a0a1ceb1fd94b1b5$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (1b52a383-4b6d-4f0d-8c93-795b1b872374): COMMIT;
{ fileUUID: 'f8da5ea1-24c1-491f-b2c1-81d10d7e2dbd',
  cnodeUserUUID: 'c3d646a9-a910-475d-916a-5469e298bcc3',
  multihash: 'QmWZKeiTZxfd6xHcoGWtkiPgY1gmsYrDhGJFz7w2y2qyLu',
  sourceFile: '92e0d5e3-920c-4e13-bca1-ab3dbf707ec7.mp3',
  storagePath:
   '/file_storage/QmWZKeiTZxfd6xHcoGWtkiPgY1gmsYrDhGJFz7w2y2qyLu',
  type: 'copy320',
  trackUUID: '51930d01-0f13-4a53-8e6c-94b085963f6e',
  updatedAt: 2020-03-05T17:40:30.956Z,
  createdAt: 2020-03-05T17:40:30.956Z }




PROCESSING ROW #204: sourcefile: 308de533-e906-46f0-b0c8-d5a83dace94a.mp3, cnodeUserUUID: 84dd4052-bd59-4106-bcb4-87b6a765a0a7, trackUUID: 75c2fc7b-1e96-42e3-859a-f5d46f2a8b2f, multihash: QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM, dstPath: /file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM
writing to db1...
Executing (bbcd6788-4f34-4bd5-be07-dd818042a83a): START TRANSACTION;
Executing (bbcd6788-4f34-4bd5-be07-dd818042a83a): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '84dd4052-bd59-4106-bcb4-87b6a765a0a7' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = '308de533-e906-46f0-b0c8-d5a83dace94a.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '75c2fc7b-1e96-42e3-859a-f5d46f2a8b2f' LIMIT 1;
Executing (bbcd6788-4f34-4bd5-be07-dd818042a83a): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_39c2d578ce54412992c64682de732847$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('911eefb0-90b4-4282-a38b-1c8f71a1ff20','84dd4052-bd59-4106-bcb4-87b6a765a0a7','75c2fc7b-1e96-42e3-859a-f5d46f2a8b2f','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','308de533-e906-46f0-b0c8-d5a83dace94a.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:40:31.346 +00:00','2020-03-05 17:40:31.346 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_39c2d578ce54412992c64682de732847$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (bbcd6788-4f34-4bd5-be07-dd818042a83a): COMMIT;
{ fileUUID: '911eefb0-90b4-4282-a38b-1c8f71a1ff20',
  cnodeUserUUID: '84dd4052-bd59-4106-bcb4-87b6a765a0a7',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: '308de533-e906-46f0-b0c8-d5a83dace94a.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: '75c2fc7b-1e96-42e3-859a-f5d46f2a8b2f',
  updatedAt: 2020-03-05T17:40:31.346Z,
  createdAt: 2020-03-05T17:40:31.346Z }
writing to db2...
Executing (53871938-ccd0-4c3c-94b7-9db8608541b0): START TRANSACTION;
Executing (53871938-ccd0-4c3c-94b7-9db8608541b0): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '84dd4052-bd59-4106-bcb4-87b6a765a0a7' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = '308de533-e906-46f0-b0c8-d5a83dace94a.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '75c2fc7b-1e96-42e3-859a-f5d46f2a8b2f' LIMIT 1;
Executing (53871938-ccd0-4c3c-94b7-9db8608541b0): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_2af0082d680e4f008c226b7d0f6deaa3$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('2779332b-1dda-4152-8500-d2c12d35a337','84dd4052-bd59-4106-bcb4-87b6a765a0a7','75c2fc7b-1e96-42e3-859a-f5d46f2a8b2f','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','308de533-e906-46f0-b0c8-d5a83dace94a.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:40:31.733 +00:00','2020-03-05 17:40:31.733 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_2af0082d680e4f008c226b7d0f6deaa3$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (53871938-ccd0-4c3c-94b7-9db8608541b0): COMMIT;
{ fileUUID: '2779332b-1dda-4152-8500-d2c12d35a337',
  cnodeUserUUID: '84dd4052-bd59-4106-bcb4-87b6a765a0a7',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: '308de533-e906-46f0-b0c8-d5a83dace94a.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: '75c2fc7b-1e96-42e3-859a-f5d46f2a8b2f',
  updatedAt: 2020-03-05T17:40:31.733Z,
  createdAt: 2020-03-05T17:40:31.733Z }
writing to db3...
Executing (9c59387c-2dbb-4cec-bd62-9674fc976cf3): START TRANSACTION;
Executing (9c59387c-2dbb-4cec-bd62-9674fc976cf3): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '84dd4052-bd59-4106-bcb4-87b6a765a0a7' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = '308de533-e906-46f0-b0c8-d5a83dace94a.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '75c2fc7b-1e96-42e3-859a-f5d46f2a8b2f' LIMIT 1;
Executing (9c59387c-2dbb-4cec-bd62-9674fc976cf3): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_789737b282ae417a86da3fb2f2e97267$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('6dcfb96f-c856-42ba-ba08-13f99e2db63b','84dd4052-bd59-4106-bcb4-87b6a765a0a7','75c2fc7b-1e96-42e3-859a-f5d46f2a8b2f','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','308de533-e906-46f0-b0c8-d5a83dace94a.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:40:32.123 +00:00','2020-03-05 17:40:32.123 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_789737b282ae417a86da3fb2f2e97267$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (9c59387c-2dbb-4cec-bd62-9674fc976cf3): COMMIT;
{ fileUUID: '6dcfb96f-c856-42ba-ba08-13f99e2db63b',
  cnodeUserUUID: '84dd4052-bd59-4106-bcb4-87b6a765a0a7',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: '308de533-e906-46f0-b0c8-d5a83dace94a.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: '75c2fc7b-1e96-42e3-859a-f5d46f2a8b2f',
  updatedAt: 2020-03-05T17:40:32.123Z,
  createdAt: 2020-03-05T17:40:32.123Z }




PROCESSING ROW #205: sourcefile: 4e7a47b5-97c8-4aa9-967b-b6fb1797896b.mp3, cnodeUserUUID: 6953cafd-2efc-4c14-a8b8-49816f7d8a1b, trackUUID: fe8e2305-765f-4727-822c-3f3d239bb128, multihash: QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM, dstPath: /file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM
writing to db1...
Executing (903944fe-3b9b-43fe-b60f-f2cd00c0e62a): START TRANSACTION;
Executing (903944fe-3b9b-43fe-b60f-f2cd00c0e62a): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '6953cafd-2efc-4c14-a8b8-49816f7d8a1b' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = '4e7a47b5-97c8-4aa9-967b-b6fb1797896b.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = 'fe8e2305-765f-4727-822c-3f3d239bb128' LIMIT 1;
Executing (903944fe-3b9b-43fe-b60f-f2cd00c0e62a): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_1471ae54c45c4e6981a0da63cc36b29d$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('ff20b13c-18e2-430b-bb46-5d3976adf19f','6953cafd-2efc-4c14-a8b8-49816f7d8a1b','fe8e2305-765f-4727-822c-3f3d239bb128','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','4e7a47b5-97c8-4aa9-967b-b6fb1797896b.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:40:32.503 +00:00','2020-03-05 17:40:32.503 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_1471ae54c45c4e6981a0da63cc36b29d$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (903944fe-3b9b-43fe-b60f-f2cd00c0e62a): COMMIT;
{ fileUUID: 'ff20b13c-18e2-430b-bb46-5d3976adf19f',
  cnodeUserUUID: '6953cafd-2efc-4c14-a8b8-49816f7d8a1b',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: '4e7a47b5-97c8-4aa9-967b-b6fb1797896b.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: 'fe8e2305-765f-4727-822c-3f3d239bb128',
  updatedAt: 2020-03-05T17:40:32.503Z,
  createdAt: 2020-03-05T17:40:32.503Z }
writing to db2...
Executing (bb0e5144-4efd-4b91-9bee-bc5f0a5d989e): START TRANSACTION;
Executing (bb0e5144-4efd-4b91-9bee-bc5f0a5d989e): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '6953cafd-2efc-4c14-a8b8-49816f7d8a1b' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = '4e7a47b5-97c8-4aa9-967b-b6fb1797896b.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = 'fe8e2305-765f-4727-822c-3f3d239bb128' LIMIT 1;
Executing (bb0e5144-4efd-4b91-9bee-bc5f0a5d989e): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_803cd9f6166d408fb1fcb79d02efc6f2$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('bb854819-453d-47b3-9fbe-7acbd55931bf','6953cafd-2efc-4c14-a8b8-49816f7d8a1b','fe8e2305-765f-4727-822c-3f3d239bb128','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','4e7a47b5-97c8-4aa9-967b-b6fb1797896b.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:40:32.895 +00:00','2020-03-05 17:40:32.895 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_803cd9f6166d408fb1fcb79d02efc6f2$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (bb0e5144-4efd-4b91-9bee-bc5f0a5d989e): COMMIT;
{ fileUUID: 'bb854819-453d-47b3-9fbe-7acbd55931bf',
  cnodeUserUUID: '6953cafd-2efc-4c14-a8b8-49816f7d8a1b',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: '4e7a47b5-97c8-4aa9-967b-b6fb1797896b.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: 'fe8e2305-765f-4727-822c-3f3d239bb128',
  updatedAt: 2020-03-05T17:40:32.895Z,
  createdAt: 2020-03-05T17:40:32.895Z }
writing to db3...
Executing (fbaaa46c-0c23-4c48-acee-7eed65161f68): START TRANSACTION;
Executing (fbaaa46c-0c23-4c48-acee-7eed65161f68): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '6953cafd-2efc-4c14-a8b8-49816f7d8a1b' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = '4e7a47b5-97c8-4aa9-967b-b6fb1797896b.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = 'fe8e2305-765f-4727-822c-3f3d239bb128' LIMIT 1;
Executing (fbaaa46c-0c23-4c48-acee-7eed65161f68): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_39e609c321de466aa1eb0d8011810f72$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('fc26a027-0084-4539-b8f2-1cf4cc511bf9','6953cafd-2efc-4c14-a8b8-49816f7d8a1b','fe8e2305-765f-4727-822c-3f3d239bb128','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','4e7a47b5-97c8-4aa9-967b-b6fb1797896b.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:40:33.287 +00:00','2020-03-05 17:40:33.287 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_39e609c321de466aa1eb0d8011810f72$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (fbaaa46c-0c23-4c48-acee-7eed65161f68): COMMIT;
{ fileUUID: 'fc26a027-0084-4539-b8f2-1cf4cc511bf9',
  cnodeUserUUID: '6953cafd-2efc-4c14-a8b8-49816f7d8a1b',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: '4e7a47b5-97c8-4aa9-967b-b6fb1797896b.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: 'fe8e2305-765f-4727-822c-3f3d239bb128',
  updatedAt: 2020-03-05T17:40:33.287Z,
  createdAt: 2020-03-05T17:40:33.287Z }




PROCESSING ROW #206: sourcefile: 0cc1348c-3ba6-4cd7-a5cd-48b7f4cd7dfa.mp3, cnodeUserUUID: c85b8186-1dc6-45de-90aa-f972694fe66a, trackUUID: 00db1e17-5d30-4a4a-b8a5-d5ae0ba1277a, multihash: QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM, dstPath: /file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM
writing to db1...
Executing (86b3967e-955d-4700-bae4-af36d9d79198): START TRANSACTION;
Executing (86b3967e-955d-4700-bae4-af36d9d79198): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = 'c85b8186-1dc6-45de-90aa-f972694fe66a' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = '0cc1348c-3ba6-4cd7-a5cd-48b7f4cd7dfa.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '00db1e17-5d30-4a4a-b8a5-d5ae0ba1277a' LIMIT 1;
Executing (86b3967e-955d-4700-bae4-af36d9d79198): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_1644eb09a993435e89621c80ea0e04bd$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('82ef5667-6364-44d2-9934-ffd6d8f115f3','c85b8186-1dc6-45de-90aa-f972694fe66a','00db1e17-5d30-4a4a-b8a5-d5ae0ba1277a','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','0cc1348c-3ba6-4cd7-a5cd-48b7f4cd7dfa.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:40:33.676 +00:00','2020-03-05 17:40:33.676 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_1644eb09a993435e89621c80ea0e04bd$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (86b3967e-955d-4700-bae4-af36d9d79198): COMMIT;
{ fileUUID: '82ef5667-6364-44d2-9934-ffd6d8f115f3',
  cnodeUserUUID: 'c85b8186-1dc6-45de-90aa-f972694fe66a',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: '0cc1348c-3ba6-4cd7-a5cd-48b7f4cd7dfa.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: '00db1e17-5d30-4a4a-b8a5-d5ae0ba1277a',
  updatedAt: 2020-03-05T17:40:33.676Z,
  createdAt: 2020-03-05T17:40:33.676Z }
writing to db2...
Executing (cd1dc10f-abc0-4f52-a270-ecee494c256b): START TRANSACTION;
Executing (cd1dc10f-abc0-4f52-a270-ecee494c256b): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = 'c85b8186-1dc6-45de-90aa-f972694fe66a' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = '0cc1348c-3ba6-4cd7-a5cd-48b7f4cd7dfa.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '00db1e17-5d30-4a4a-b8a5-d5ae0ba1277a' LIMIT 1;
Executing (cd1dc10f-abc0-4f52-a270-ecee494c256b): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_5990a70897f94fddaae9ea5c8ebc005f$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('23f34939-7d50-4f70-9cb7-67fd7e0a67dd','c85b8186-1dc6-45de-90aa-f972694fe66a','00db1e17-5d30-4a4a-b8a5-d5ae0ba1277a','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','0cc1348c-3ba6-4cd7-a5cd-48b7f4cd7dfa.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:40:34.077 +00:00','2020-03-05 17:40:34.077 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_5990a70897f94fddaae9ea5c8ebc005f$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (cd1dc10f-abc0-4f52-a270-ecee494c256b): COMMIT;
{ fileUUID: '23f34939-7d50-4f70-9cb7-67fd7e0a67dd',
  cnodeUserUUID: 'c85b8186-1dc6-45de-90aa-f972694fe66a',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: '0cc1348c-3ba6-4cd7-a5cd-48b7f4cd7dfa.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: '00db1e17-5d30-4a4a-b8a5-d5ae0ba1277a',
  updatedAt: 2020-03-05T17:40:34.077Z,
  createdAt: 2020-03-05T17:40:34.077Z }
writing to db3...
Executing (9e765d4a-20de-4d79-b9f6-6913f4294b61): START TRANSACTION;
Executing (9e765d4a-20de-4d79-b9f6-6913f4294b61): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = 'c85b8186-1dc6-45de-90aa-f972694fe66a' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = '0cc1348c-3ba6-4cd7-a5cd-48b7f4cd7dfa.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '00db1e17-5d30-4a4a-b8a5-d5ae0ba1277a' LIMIT 1;
Executing (9e765d4a-20de-4d79-b9f6-6913f4294b61): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_3b230ce1129f4939832f28424aaaeef2$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('15c82308-bed8-4e91-aa53-b9aa8335d94f','c85b8186-1dc6-45de-90aa-f972694fe66a','00db1e17-5d30-4a4a-b8a5-d5ae0ba1277a','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','0cc1348c-3ba6-4cd7-a5cd-48b7f4cd7dfa.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:40:34.481 +00:00','2020-03-05 17:40:34.481 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_3b230ce1129f4939832f28424aaaeef2$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (9e765d4a-20de-4d79-b9f6-6913f4294b61): COMMIT;
{ fileUUID: '15c82308-bed8-4e91-aa53-b9aa8335d94f',
  cnodeUserUUID: 'c85b8186-1dc6-45de-90aa-f972694fe66a',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: '0cc1348c-3ba6-4cd7-a5cd-48b7f4cd7dfa.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: '00db1e17-5d30-4a4a-b8a5-d5ae0ba1277a',
  updatedAt: 2020-03-05T17:40:34.481Z,
  createdAt: 2020-03-05T17:40:34.481Z }




PROCESSING ROW #207: sourcefile: 37aa92c8-a242-4800-b177-c95c73449490.mp3, cnodeUserUUID: e66eca23-32a7-4bf1-b067-601064b79984, trackUUID: 24d8b79d-8372-4617-8971-23310eaf82e1, multihash: QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM, dstPath: /file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM
writing to db1...
Executing (82378cc6-5dec-4caa-87a7-ddd00d11baba): START TRANSACTION;
Executing (82378cc6-5dec-4caa-87a7-ddd00d11baba): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = 'e66eca23-32a7-4bf1-b067-601064b79984' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = '37aa92c8-a242-4800-b177-c95c73449490.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '24d8b79d-8372-4617-8971-23310eaf82e1' LIMIT 1;
Executing (82378cc6-5dec-4caa-87a7-ddd00d11baba): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_2b5bfde9162b468a9fd3dcf6896e8d65$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('a9ba9a7b-c53d-4d8c-91d7-9b6736dd140f','e66eca23-32a7-4bf1-b067-601064b79984','24d8b79d-8372-4617-8971-23310eaf82e1','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','37aa92c8-a242-4800-b177-c95c73449490.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:40:34.854 +00:00','2020-03-05 17:40:34.854 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_2b5bfde9162b468a9fd3dcf6896e8d65$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (82378cc6-5dec-4caa-87a7-ddd00d11baba): COMMIT;
{ fileUUID: 'a9ba9a7b-c53d-4d8c-91d7-9b6736dd140f',
  cnodeUserUUID: 'e66eca23-32a7-4bf1-b067-601064b79984',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: '37aa92c8-a242-4800-b177-c95c73449490.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: '24d8b79d-8372-4617-8971-23310eaf82e1',
  updatedAt: 2020-03-05T17:40:34.854Z,
  createdAt: 2020-03-05T17:40:34.854Z }
writing to db2...
Executing (0ae3e466-2519-4bea-9a5b-4504339bd3ef): START TRANSACTION;
Executing (0ae3e466-2519-4bea-9a5b-4504339bd3ef): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = 'e66eca23-32a7-4bf1-b067-601064b79984' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = '37aa92c8-a242-4800-b177-c95c73449490.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '24d8b79d-8372-4617-8971-23310eaf82e1' LIMIT 1;
Executing (0ae3e466-2519-4bea-9a5b-4504339bd3ef): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_e0b2f800da2a456bb563aa659815aa7f$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('63556192-25ae-446c-a4a5-283f6e50ee8d','e66eca23-32a7-4bf1-b067-601064b79984','24d8b79d-8372-4617-8971-23310eaf82e1','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','37aa92c8-a242-4800-b177-c95c73449490.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:40:35.254 +00:00','2020-03-05 17:40:35.254 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_e0b2f800da2a456bb563aa659815aa7f$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (0ae3e466-2519-4bea-9a5b-4504339bd3ef): COMMIT;
{ fileUUID: '63556192-25ae-446c-a4a5-283f6e50ee8d',
  cnodeUserUUID: 'e66eca23-32a7-4bf1-b067-601064b79984',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: '37aa92c8-a242-4800-b177-c95c73449490.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: '24d8b79d-8372-4617-8971-23310eaf82e1',
  updatedAt: 2020-03-05T17:40:35.254Z,
  createdAt: 2020-03-05T17:40:35.254Z }
writing to db3...
Executing (101b02b8-0149-4c7b-a0f9-38643b8f79eb): START TRANSACTION;
Executing (101b02b8-0149-4c7b-a0f9-38643b8f79eb): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = 'e66eca23-32a7-4bf1-b067-601064b79984' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = '37aa92c8-a242-4800-b177-c95c73449490.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '24d8b79d-8372-4617-8971-23310eaf82e1' LIMIT 1;
Executing (101b02b8-0149-4c7b-a0f9-38643b8f79eb): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_413e48acf8c844e8a602929fcd1416dc$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('275260a8-88b7-4255-bf7a-029c0ebc75dc','e66eca23-32a7-4bf1-b067-601064b79984','24d8b79d-8372-4617-8971-23310eaf82e1','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','37aa92c8-a242-4800-b177-c95c73449490.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:40:35.704 +00:00','2020-03-05 17:40:35.704 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_413e48acf8c844e8a602929fcd1416dc$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (101b02b8-0149-4c7b-a0f9-38643b8f79eb): COMMIT;
{ fileUUID: '275260a8-88b7-4255-bf7a-029c0ebc75dc',
  cnodeUserUUID: 'e66eca23-32a7-4bf1-b067-601064b79984',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: '37aa92c8-a242-4800-b177-c95c73449490.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: '24d8b79d-8372-4617-8971-23310eaf82e1',
  updatedAt: 2020-03-05T17:40:35.704Z,
  createdAt: 2020-03-05T17:40:35.704Z }




PROCESSING ROW #208: sourcefile: 0423b202-827f-4f03-b344-9caf3fe944f4.mp3, cnodeUserUUID: 5ace8efb-f7f6-4025-a05f-5547efae64ee, trackUUID: 076ffede-a30f-4953-ba36-b9493802f1f1, multihash: QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM, dstPath: /file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM
writing to db1...
Executing (ee15e833-8d3b-48d8-b606-e4805dfcd1e6): START TRANSACTION;
Executing (ee15e833-8d3b-48d8-b606-e4805dfcd1e6): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '5ace8efb-f7f6-4025-a05f-5547efae64ee' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = '0423b202-827f-4f03-b344-9caf3fe944f4.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '076ffede-a30f-4953-ba36-b9493802f1f1' LIMIT 1;
Executing (ee15e833-8d3b-48d8-b606-e4805dfcd1e6): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_e3e564f226ef4273a95a306570c2a611$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('bfce1946-b734-481c-9abd-66bb8d81ac8c','5ace8efb-f7f6-4025-a05f-5547efae64ee','076ffede-a30f-4953-ba36-b9493802f1f1','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','0423b202-827f-4f03-b344-9caf3fe944f4.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:40:36.098 +00:00','2020-03-05 17:40:36.098 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_e3e564f226ef4273a95a306570c2a611$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (ee15e833-8d3b-48d8-b606-e4805dfcd1e6): COMMIT;
{ fileUUID: 'bfce1946-b734-481c-9abd-66bb8d81ac8c',
  cnodeUserUUID: '5ace8efb-f7f6-4025-a05f-5547efae64ee',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: '0423b202-827f-4f03-b344-9caf3fe944f4.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: '076ffede-a30f-4953-ba36-b9493802f1f1',
  updatedAt: 2020-03-05T17:40:36.098Z,
  createdAt: 2020-03-05T17:40:36.098Z }
writing to db2...
Executing (9c6b6de3-2c22-4c5e-a35f-c44fe5c9734a): START TRANSACTION;
Executing (9c6b6de3-2c22-4c5e-a35f-c44fe5c9734a): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '5ace8efb-f7f6-4025-a05f-5547efae64ee' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = '0423b202-827f-4f03-b344-9caf3fe944f4.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '076ffede-a30f-4953-ba36-b9493802f1f1' LIMIT 1;
Executing (9c6b6de3-2c22-4c5e-a35f-c44fe5c9734a): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_f8614f59ed6d40619484a4f3bc816777$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('ed400018-6063-43a9-a2f1-c8163b01eed6','5ace8efb-f7f6-4025-a05f-5547efae64ee','076ffede-a30f-4953-ba36-b9493802f1f1','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','0423b202-827f-4f03-b344-9caf3fe944f4.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:40:36.523 +00:00','2020-03-05 17:40:36.523 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_f8614f59ed6d40619484a4f3bc816777$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (9c6b6de3-2c22-4c5e-a35f-c44fe5c9734a): COMMIT;
{ fileUUID: 'ed400018-6063-43a9-a2f1-c8163b01eed6',
  cnodeUserUUID: '5ace8efb-f7f6-4025-a05f-5547efae64ee',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: '0423b202-827f-4f03-b344-9caf3fe944f4.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: '076ffede-a30f-4953-ba36-b9493802f1f1',
  updatedAt: 2020-03-05T17:40:36.523Z,
  createdAt: 2020-03-05T17:40:36.523Z }
writing to db3...
Executing (97a65b3f-7124-4d25-927a-7d35623a7f11): START TRANSACTION;
Executing (97a65b3f-7124-4d25-927a-7d35623a7f11): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '5ace8efb-f7f6-4025-a05f-5547efae64ee' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = '0423b202-827f-4f03-b344-9caf3fe944f4.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '076ffede-a30f-4953-ba36-b9493802f1f1' LIMIT 1;
Executing (97a65b3f-7124-4d25-927a-7d35623a7f11): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_52f8b535ea844764ad0df7bf8d1ce2f6$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('9434b97c-225e-4334-b62b-cbbfe2f6d1fa','5ace8efb-f7f6-4025-a05f-5547efae64ee','076ffede-a30f-4953-ba36-b9493802f1f1','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','0423b202-827f-4f03-b344-9caf3fe944f4.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:40:36.916 +00:00','2020-03-05 17:40:36.916 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_52f8b535ea844764ad0df7bf8d1ce2f6$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (97a65b3f-7124-4d25-927a-7d35623a7f11): COMMIT;
{ fileUUID: '9434b97c-225e-4334-b62b-cbbfe2f6d1fa',
  cnodeUserUUID: '5ace8efb-f7f6-4025-a05f-5547efae64ee',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: '0423b202-827f-4f03-b344-9caf3fe944f4.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: '076ffede-a30f-4953-ba36-b9493802f1f1',
  updatedAt: 2020-03-05T17:40:36.916Z,
  createdAt: 2020-03-05T17:40:36.916Z }




PROCESSING ROW #209: sourcefile: e9799db2-9302-4696-99cf-f5a84bfd1515.mp3, cnodeUserUUID: 11c34897-1946-4dfc-b59c-f646a1fc69fe, trackUUID: b7690ab1-1c30-4ce7-89cc-def520924888, multihash: Qmby4dUsZ6tbB4vUrJNMx6g5j5Zx1x4PbvaDQb5p6DhqnT, dstPath: /file_storage/Qmby4dUsZ6tbB4vUrJNMx6g5j5Zx1x4PbvaDQb5p6DhqnT
writing to db1...
Executing (5d5790fa-c6c1-4084-9bc0-4ae121f4d09a): START TRANSACTION;
Executing (5d5790fa-c6c1-4084-9bc0-4ae121f4d09a): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '11c34897-1946-4dfc-b59c-f646a1fc69fe' AND "File"."multihash" = 'Qmby4dUsZ6tbB4vUrJNMx6g5j5Zx1x4PbvaDQb5p6DhqnT' AND "File"."sourceFile" = 'e9799db2-9302-4696-99cf-f5a84bfd1515.mp3' AND "File"."storagePath" = '/file_storage/Qmby4dUsZ6tbB4vUrJNMx6g5j5Zx1x4PbvaDQb5p6DhqnT' AND "File"."type" = 'copy320' AND "File"."trackUUID" = 'b7690ab1-1c30-4ce7-89cc-def520924888' LIMIT 1;
Executing (5d5790fa-c6c1-4084-9bc0-4ae121f4d09a): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_f89a55ac511243548c20308996052e3c$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('ac52ccdd-312a-4550-9b47-b96d66dab81e','11c34897-1946-4dfc-b59c-f646a1fc69fe','b7690ab1-1c30-4ce7-89cc-def520924888','Qmby4dUsZ6tbB4vUrJNMx6g5j5Zx1x4PbvaDQb5p6DhqnT','e9799db2-9302-4696-99cf-f5a84bfd1515.mp3','/file_storage/Qmby4dUsZ6tbB4vUrJNMx6g5j5Zx1x4PbvaDQb5p6DhqnT','copy320','2020-03-05 17:40:37.322 +00:00','2020-03-05 17:40:37.322 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_f89a55ac511243548c20308996052e3c$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (5d5790fa-c6c1-4084-9bc0-4ae121f4d09a): COMMIT;
{ fileUUID: 'ac52ccdd-312a-4550-9b47-b96d66dab81e',
  cnodeUserUUID: '11c34897-1946-4dfc-b59c-f646a1fc69fe',
  multihash: 'Qmby4dUsZ6tbB4vUrJNMx6g5j5Zx1x4PbvaDQb5p6DhqnT',
  sourceFile: 'e9799db2-9302-4696-99cf-f5a84bfd1515.mp3',
  storagePath:
   '/file_storage/Qmby4dUsZ6tbB4vUrJNMx6g5j5Zx1x4PbvaDQb5p6DhqnT',
  type: 'copy320',
  trackUUID: 'b7690ab1-1c30-4ce7-89cc-def520924888',
  updatedAt: 2020-03-05T17:40:37.322Z,
  createdAt: 2020-03-05T17:40:37.322Z }
writing to db2...
Executing (fafea293-62d3-4513-8b67-9ba8779435ec): START TRANSACTION;
Executing (fafea293-62d3-4513-8b67-9ba8779435ec): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '11c34897-1946-4dfc-b59c-f646a1fc69fe' AND "File"."multihash" = 'Qmby4dUsZ6tbB4vUrJNMx6g5j5Zx1x4PbvaDQb5p6DhqnT' AND "File"."sourceFile" = 'e9799db2-9302-4696-99cf-f5a84bfd1515.mp3' AND "File"."storagePath" = '/file_storage/Qmby4dUsZ6tbB4vUrJNMx6g5j5Zx1x4PbvaDQb5p6DhqnT' AND "File"."type" = 'copy320' AND "File"."trackUUID" = 'b7690ab1-1c30-4ce7-89cc-def520924888' LIMIT 1;
Executing (fafea293-62d3-4513-8b67-9ba8779435ec): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_1620f9d1f5524e619b92af8cc954f97f$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('11b0b840-64ec-4a97-9d1d-bddb81211f5e','11c34897-1946-4dfc-b59c-f646a1fc69fe','b7690ab1-1c30-4ce7-89cc-def520924888','Qmby4dUsZ6tbB4vUrJNMx6g5j5Zx1x4PbvaDQb5p6DhqnT','e9799db2-9302-4696-99cf-f5a84bfd1515.mp3','/file_storage/Qmby4dUsZ6tbB4vUrJNMx6g5j5Zx1x4PbvaDQb5p6DhqnT','copy320','2020-03-05 17:40:37.724 +00:00','2020-03-05 17:40:37.724 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_1620f9d1f5524e619b92af8cc954f97f$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (fafea293-62d3-4513-8b67-9ba8779435ec): COMMIT;
{ fileUUID: '11b0b840-64ec-4a97-9d1d-bddb81211f5e',
  cnodeUserUUID: '11c34897-1946-4dfc-b59c-f646a1fc69fe',
  multihash: 'Qmby4dUsZ6tbB4vUrJNMx6g5j5Zx1x4PbvaDQb5p6DhqnT',
  sourceFile: 'e9799db2-9302-4696-99cf-f5a84bfd1515.mp3',
  storagePath:
   '/file_storage/Qmby4dUsZ6tbB4vUrJNMx6g5j5Zx1x4PbvaDQb5p6DhqnT',
  type: 'copy320',
  trackUUID: 'b7690ab1-1c30-4ce7-89cc-def520924888',
  updatedAt: 2020-03-05T17:40:37.724Z,
  createdAt: 2020-03-05T17:40:37.724Z }
writing to db3...
Executing (7e118184-6e25-4a1f-a808-282f72037708): START TRANSACTION;
Executing (7e118184-6e25-4a1f-a808-282f72037708): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '11c34897-1946-4dfc-b59c-f646a1fc69fe' AND "File"."multihash" = 'Qmby4dUsZ6tbB4vUrJNMx6g5j5Zx1x4PbvaDQb5p6DhqnT' AND "File"."sourceFile" = 'e9799db2-9302-4696-99cf-f5a84bfd1515.mp3' AND "File"."storagePath" = '/file_storage/Qmby4dUsZ6tbB4vUrJNMx6g5j5Zx1x4PbvaDQb5p6DhqnT' AND "File"."type" = 'copy320' AND "File"."trackUUID" = 'b7690ab1-1c30-4ce7-89cc-def520924888' LIMIT 1;
Executing (7e118184-6e25-4a1f-a808-282f72037708): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_aaa67f620a9940d8a5c25040ac006a0e$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('76691a71-9900-4754-83bf-76bb4dc9c9a2','11c34897-1946-4dfc-b59c-f646a1fc69fe','b7690ab1-1c30-4ce7-89cc-def520924888','Qmby4dUsZ6tbB4vUrJNMx6g5j5Zx1x4PbvaDQb5p6DhqnT','e9799db2-9302-4696-99cf-f5a84bfd1515.mp3','/file_storage/Qmby4dUsZ6tbB4vUrJNMx6g5j5Zx1x4PbvaDQb5p6DhqnT','copy320','2020-03-05 17:40:38.121 +00:00','2020-03-05 17:40:38.121 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_aaa67f620a9940d8a5c25040ac006a0e$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (7e118184-6e25-4a1f-a808-282f72037708): COMMIT;
{ fileUUID: '76691a71-9900-4754-83bf-76bb4dc9c9a2',
  cnodeUserUUID: '11c34897-1946-4dfc-b59c-f646a1fc69fe',
  multihash: 'Qmby4dUsZ6tbB4vUrJNMx6g5j5Zx1x4PbvaDQb5p6DhqnT',
  sourceFile: 'e9799db2-9302-4696-99cf-f5a84bfd1515.mp3',
  storagePath:
   '/file_storage/Qmby4dUsZ6tbB4vUrJNMx6g5j5Zx1x4PbvaDQb5p6DhqnT',
  type: 'copy320',
  trackUUID: 'b7690ab1-1c30-4ce7-89cc-def520924888',
  updatedAt: 2020-03-05T17:40:38.121Z,
  createdAt: 2020-03-05T17:40:38.121Z }




PROCESSING ROW #210: sourcefile: 56baecad-4cde-42fd-88c2-3e1cb28878de.mp3, cnodeUserUUID: 846de485-02a3-41de-b7ed-7fc2352056bb, trackUUID: 80515df0-fb0f-4397-9efa-399cadc48042, multihash: QmaAAyRs9BUdGQ67dCYQP965VrHghDYsBnZnGxsA7xHCYE, dstPath: /file_storage/QmaAAyRs9BUdGQ67dCYQP965VrHghDYsBnZnGxsA7xHCYE
writing to db1...
Executing (8b7e555e-ead2-4ebe-99ae-453af842df86): START TRANSACTION;
Executing (8b7e555e-ead2-4ebe-99ae-453af842df86): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '846de485-02a3-41de-b7ed-7fc2352056bb' AND "File"."multihash" = 'QmaAAyRs9BUdGQ67dCYQP965VrHghDYsBnZnGxsA7xHCYE' AND "File"."sourceFile" = '56baecad-4cde-42fd-88c2-3e1cb28878de.mp3' AND "File"."storagePath" = '/file_storage/QmaAAyRs9BUdGQ67dCYQP965VrHghDYsBnZnGxsA7xHCYE' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '80515df0-fb0f-4397-9efa-399cadc48042' LIMIT 1;
Executing (8b7e555e-ead2-4ebe-99ae-453af842df86): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_ce2960d8abab4ce8acc58100258eb043$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('bc85d180-4505-4428-95c8-5b66008fedf2','846de485-02a3-41de-b7ed-7fc2352056bb','80515df0-fb0f-4397-9efa-399cadc48042','QmaAAyRs9BUdGQ67dCYQP965VrHghDYsBnZnGxsA7xHCYE','56baecad-4cde-42fd-88c2-3e1cb28878de.mp3','/file_storage/QmaAAyRs9BUdGQ67dCYQP965VrHghDYsBnZnGxsA7xHCYE','copy320','2020-03-05 17:40:38.515 +00:00','2020-03-05 17:40:38.515 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_ce2960d8abab4ce8acc58100258eb043$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (8b7e555e-ead2-4ebe-99ae-453af842df86): COMMIT;
{ fileUUID: 'bc85d180-4505-4428-95c8-5b66008fedf2',
  cnodeUserUUID: '846de485-02a3-41de-b7ed-7fc2352056bb',
  multihash: 'QmaAAyRs9BUdGQ67dCYQP965VrHghDYsBnZnGxsA7xHCYE',
  sourceFile: '56baecad-4cde-42fd-88c2-3e1cb28878de.mp3',
  storagePath:
   '/file_storage/QmaAAyRs9BUdGQ67dCYQP965VrHghDYsBnZnGxsA7xHCYE',
  type: 'copy320',
  trackUUID: '80515df0-fb0f-4397-9efa-399cadc48042',
  updatedAt: 2020-03-05T17:40:38.515Z,
  createdAt: 2020-03-05T17:40:38.515Z }
writing to db2...
Executing (3aafb48d-ed89-43a7-976c-563d51a40f30): START TRANSACTION;
Executing (3aafb48d-ed89-43a7-976c-563d51a40f30): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '846de485-02a3-41de-b7ed-7fc2352056bb' AND "File"."multihash" = 'QmaAAyRs9BUdGQ67dCYQP965VrHghDYsBnZnGxsA7xHCYE' AND "File"."sourceFile" = '56baecad-4cde-42fd-88c2-3e1cb28878de.mp3' AND "File"."storagePath" = '/file_storage/QmaAAyRs9BUdGQ67dCYQP965VrHghDYsBnZnGxsA7xHCYE' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '80515df0-fb0f-4397-9efa-399cadc48042' LIMIT 1;
Executing (3aafb48d-ed89-43a7-976c-563d51a40f30): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_0691d782f173454398d7431486dd051f$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('b38a6bf7-27ed-43b3-835b-4e3155e48cb1','846de485-02a3-41de-b7ed-7fc2352056bb','80515df0-fb0f-4397-9efa-399cadc48042','QmaAAyRs9BUdGQ67dCYQP965VrHghDYsBnZnGxsA7xHCYE','56baecad-4cde-42fd-88c2-3e1cb28878de.mp3','/file_storage/QmaAAyRs9BUdGQ67dCYQP965VrHghDYsBnZnGxsA7xHCYE','copy320','2020-03-05 17:40:38.917 +00:00','2020-03-05 17:40:38.917 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_0691d782f173454398d7431486dd051f$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (3aafb48d-ed89-43a7-976c-563d51a40f30): COMMIT;
{ fileUUID: 'b38a6bf7-27ed-43b3-835b-4e3155e48cb1',
  cnodeUserUUID: '846de485-02a3-41de-b7ed-7fc2352056bb',
  multihash: 'QmaAAyRs9BUdGQ67dCYQP965VrHghDYsBnZnGxsA7xHCYE',
  sourceFile: '56baecad-4cde-42fd-88c2-3e1cb28878de.mp3',
  storagePath:
   '/file_storage/QmaAAyRs9BUdGQ67dCYQP965VrHghDYsBnZnGxsA7xHCYE',
  type: 'copy320',
  trackUUID: '80515df0-fb0f-4397-9efa-399cadc48042',
  updatedAt: 2020-03-05T17:40:38.917Z,
  createdAt: 2020-03-05T17:40:38.917Z }
writing to db3...
Executing (cfca9d4b-9f19-4a4f-b0d1-b59a3564db48): START TRANSACTION;
Executing (cfca9d4b-9f19-4a4f-b0d1-b59a3564db48): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '846de485-02a3-41de-b7ed-7fc2352056bb' AND "File"."multihash" = 'QmaAAyRs9BUdGQ67dCYQP965VrHghDYsBnZnGxsA7xHCYE' AND "File"."sourceFile" = '56baecad-4cde-42fd-88c2-3e1cb28878de.mp3' AND "File"."storagePath" = '/file_storage/QmaAAyRs9BUdGQ67dCYQP965VrHghDYsBnZnGxsA7xHCYE' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '80515df0-fb0f-4397-9efa-399cadc48042' LIMIT 1;
Executing (cfca9d4b-9f19-4a4f-b0d1-b59a3564db48): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_bbcca44619ff4e7ba602158638d9a9a9$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('1421b57b-3811-45b0-b102-251871b1524a','846de485-02a3-41de-b7ed-7fc2352056bb','80515df0-fb0f-4397-9efa-399cadc48042','QmaAAyRs9BUdGQ67dCYQP965VrHghDYsBnZnGxsA7xHCYE','56baecad-4cde-42fd-88c2-3e1cb28878de.mp3','/file_storage/QmaAAyRs9BUdGQ67dCYQP965VrHghDYsBnZnGxsA7xHCYE','copy320','2020-03-05 17:40:39.310 +00:00','2020-03-05 17:40:39.310 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_bbcca44619ff4e7ba602158638d9a9a9$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (cfca9d4b-9f19-4a4f-b0d1-b59a3564db48): COMMIT;
{ fileUUID: '1421b57b-3811-45b0-b102-251871b1524a',
  cnodeUserUUID: '846de485-02a3-41de-b7ed-7fc2352056bb',
  multihash: 'QmaAAyRs9BUdGQ67dCYQP965VrHghDYsBnZnGxsA7xHCYE',
  sourceFile: '56baecad-4cde-42fd-88c2-3e1cb28878de.mp3',
  storagePath:
   '/file_storage/QmaAAyRs9BUdGQ67dCYQP965VrHghDYsBnZnGxsA7xHCYE',
  type: 'copy320',
  trackUUID: '80515df0-fb0f-4397-9efa-399cadc48042',
  updatedAt: 2020-03-05T17:40:39.310Z,
  createdAt: 2020-03-05T17:40:39.310Z }




PROCESSING ROW #211: sourcefile: 4b717188-a3c8-4543-b3d3-b6600e56bbdf.mp3, cnodeUserUUID: 2319b92a-7ae4-4d75-9106-071d195a62e6, trackUUID: 7eb0a13a-f96a-4582-9d1d-b4faac200a7d, multihash: QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM, dstPath: /file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM
writing to db1...
Executing (bdedece7-7320-4d5f-9a77-54b71f97c62a): START TRANSACTION;
Executing (bdedece7-7320-4d5f-9a77-54b71f97c62a): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '2319b92a-7ae4-4d75-9106-071d195a62e6' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = '4b717188-a3c8-4543-b3d3-b6600e56bbdf.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '7eb0a13a-f96a-4582-9d1d-b4faac200a7d' LIMIT 1;
Executing (bdedece7-7320-4d5f-9a77-54b71f97c62a): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_1d0ea931cf864a899d3dafa005618943$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('4c096024-eb00-42c9-834c-ec3b2d8a3a9a','2319b92a-7ae4-4d75-9106-071d195a62e6','7eb0a13a-f96a-4582-9d1d-b4faac200a7d','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','4b717188-a3c8-4543-b3d3-b6600e56bbdf.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:40:39.706 +00:00','2020-03-05 17:40:39.706 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_1d0ea931cf864a899d3dafa005618943$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (bdedece7-7320-4d5f-9a77-54b71f97c62a): COMMIT;
{ fileUUID: '4c096024-eb00-42c9-834c-ec3b2d8a3a9a',
  cnodeUserUUID: '2319b92a-7ae4-4d75-9106-071d195a62e6',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: '4b717188-a3c8-4543-b3d3-b6600e56bbdf.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: '7eb0a13a-f96a-4582-9d1d-b4faac200a7d',
  updatedAt: 2020-03-05T17:40:39.706Z,
  createdAt: 2020-03-05T17:40:39.706Z }
writing to db2...
Executing (984f4b23-3290-40c7-bb02-d57471cadecc): START TRANSACTION;
Executing (984f4b23-3290-40c7-bb02-d57471cadecc): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '2319b92a-7ae4-4d75-9106-071d195a62e6' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = '4b717188-a3c8-4543-b3d3-b6600e56bbdf.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '7eb0a13a-f96a-4582-9d1d-b4faac200a7d' LIMIT 1;
Executing (984f4b23-3290-40c7-bb02-d57471cadecc): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_28af00ee7ca5487a8db2af88ac4fa071$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('50358a6a-a8d3-43bb-9fc2-043af4bbf42c','2319b92a-7ae4-4d75-9106-071d195a62e6','7eb0a13a-f96a-4582-9d1d-b4faac200a7d','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','4b717188-a3c8-4543-b3d3-b6600e56bbdf.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:40:40.084 +00:00','2020-03-05 17:40:40.084 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_28af00ee7ca5487a8db2af88ac4fa071$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (984f4b23-3290-40c7-bb02-d57471cadecc): COMMIT;
{ fileUUID: '50358a6a-a8d3-43bb-9fc2-043af4bbf42c',
  cnodeUserUUID: '2319b92a-7ae4-4d75-9106-071d195a62e6',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: '4b717188-a3c8-4543-b3d3-b6600e56bbdf.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: '7eb0a13a-f96a-4582-9d1d-b4faac200a7d',
  updatedAt: 2020-03-05T17:40:40.084Z,
  createdAt: 2020-03-05T17:40:40.084Z }
writing to db3...
Executing (3cad7c8f-bae2-4227-833d-3e7fe80bb5b7): START TRANSACTION;
Executing (3cad7c8f-bae2-4227-833d-3e7fe80bb5b7): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '2319b92a-7ae4-4d75-9106-071d195a62e6' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = '4b717188-a3c8-4543-b3d3-b6600e56bbdf.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '7eb0a13a-f96a-4582-9d1d-b4faac200a7d' LIMIT 1;
Executing (3cad7c8f-bae2-4227-833d-3e7fe80bb5b7): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_7c24462d37cf4477ade0dd0a250c17ce$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('77ceac44-8c1d-4dac-ba02-b3df5f7f9d77','2319b92a-7ae4-4d75-9106-071d195a62e6','7eb0a13a-f96a-4582-9d1d-b4faac200a7d','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','4b717188-a3c8-4543-b3d3-b6600e56bbdf.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:40:40.475 +00:00','2020-03-05 17:40:40.475 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_7c24462d37cf4477ade0dd0a250c17ce$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (3cad7c8f-bae2-4227-833d-3e7fe80bb5b7): COMMIT;
{ fileUUID: '77ceac44-8c1d-4dac-ba02-b3df5f7f9d77',
  cnodeUserUUID: '2319b92a-7ae4-4d75-9106-071d195a62e6',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: '4b717188-a3c8-4543-b3d3-b6600e56bbdf.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: '7eb0a13a-f96a-4582-9d1d-b4faac200a7d',
  updatedAt: 2020-03-05T17:40:40.475Z,
  createdAt: 2020-03-05T17:40:40.475Z }




PROCESSING ROW #212: sourcefile: 480a47be-f219-4c4b-96ec-e753a6e228fd.mp3, cnodeUserUUID: eb6ef52e-ac0d-4db2-baa5-231120a67c6f, trackUUID: 86602387-e7c6-4ef3-8549-88e339881bcb, multihash: QmYCXxqmv4RvUBM6okkGJZqGBQwDefi6o7BAizGAvRRZ6V, dstPath: /file_storage/QmYCXxqmv4RvUBM6okkGJZqGBQwDefi6o7BAizGAvRRZ6V
writing to db1...
Executing (e5c05f87-be8b-4f76-958e-2f7cee1ea5e6): START TRANSACTION;
Executing (e5c05f87-be8b-4f76-958e-2f7cee1ea5e6): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = 'eb6ef52e-ac0d-4db2-baa5-231120a67c6f' AND "File"."multihash" = 'QmYCXxqmv4RvUBM6okkGJZqGBQwDefi6o7BAizGAvRRZ6V' AND "File"."sourceFile" = '480a47be-f219-4c4b-96ec-e753a6e228fd.mp3' AND "File"."storagePath" = '/file_storage/QmYCXxqmv4RvUBM6okkGJZqGBQwDefi6o7BAizGAvRRZ6V' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '86602387-e7c6-4ef3-8549-88e339881bcb' LIMIT 1;
Executing (e5c05f87-be8b-4f76-958e-2f7cee1ea5e6): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_d3ad26bb57de4585a7efae638c6f2bce$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('dea66d35-7de1-4631-8ce2-373015cda9c3','eb6ef52e-ac0d-4db2-baa5-231120a67c6f','86602387-e7c6-4ef3-8549-88e339881bcb','QmYCXxqmv4RvUBM6okkGJZqGBQwDefi6o7BAizGAvRRZ6V','480a47be-f219-4c4b-96ec-e753a6e228fd.mp3','/file_storage/QmYCXxqmv4RvUBM6okkGJZqGBQwDefi6o7BAizGAvRRZ6V','copy320','2020-03-05 17:40:40.887 +00:00','2020-03-05 17:40:40.887 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_d3ad26bb57de4585a7efae638c6f2bce$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (e5c05f87-be8b-4f76-958e-2f7cee1ea5e6): COMMIT;
{ SequelizeForeignKeyConstraintError: insert or update on table "Files" violates foreign key constraint "Files_trackUUID_fkey"
    at Query.formatError (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/sequelize/lib/dialects/postgres/query.js:296:16)
    at query.catch.err (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/sequelize/lib/dialects/postgres/query.js:86:18)
    at tryCatcher (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/bluebird/js/release/util.js:16:23)
    at Promise._settlePromiseFromHandler (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/bluebird/js/release/promise.js:517:31)
    at Promise._settlePromise (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/bluebird/js/release/promise.js:574:18)
    at Promise._settlePromise0 (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/bluebird/js/release/promise.js:619:10)
    at Promise._settlePromises (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/bluebird/js/release/promise.js:695:18)
    at _drainQueueStep (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/bluebird/js/release/async.js:138:12)
    at _drainQueue (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/bluebird/js/release/async.js:131:9)
    at Async._drainQueues (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/bluebird/js/release/async.js:147:5)
    at Immediate.Async.drainQueues [as _onImmediate] (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/bluebird/js/release/async.js:17:14)
    at runCallback (timers.js:705:18)
    at tryOnImmediate (timers.js:676:5)
    at processImmediate (timers.js:658:5)
  name: 'SequelizeForeignKeyConstraintError',
  parent:
   { error: insert or update on table "Files" violates foreign key constraint "Files_trackUUID_fkey"
       at Connection.parseE (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/pg/lib/connection.js:604:11)
       at Connection.parseMessage (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/pg/lib/connection.js:401:19)
       at Socket.<anonymous> (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/pg/lib/connection.js:121:22)
       at Socket.emit (events.js:198:13)
       at addChunk (_stream_readable.js:288:12)
       at readableAddChunk (_stream_readable.js:269:11)
       at Socket.Readable.push (_stream_readable.js:224:10)
       at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)
     name: 'error',
     length: 865,
     severity: 'ERROR',
     code: '23503',
     detail:
      'Key (trackUUID)=(86602387-e7c6-4ef3-8549-88e339881bcb) is not present in table "Tracks".',
     hint: undefined,
     position: undefined,
     internalPosition: undefined,
     internalQuery: undefined,
     where:
      'SQL statement "INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES (\'dea66d35-7de1-4631-8ce2-373015cda9c3\',\'eb6ef52e-ac0d-4db2-baa5-231120a67c6f\',\'86602387-e7c6-4ef3-8549-88e339881bcb\',\'QmYCXxqmv4RvUBM6okkGJZqGBQwDefi6o7BAizGAvRRZ6V\',\'480a47be-f219-4c4b-96ec-e753a6e228fd.mp3\',\'/file_storage/QmYCXxqmv4RvUBM6okkGJZqGBQwDefi6o7BAizGAvRRZ6V\',\'copy320\',\'2020-03-05 17:40:40.887 +00:00\',\'2020-03-05 17:40:40.887 +00:00\') RETURNING *"\nPL/pgSQL function pg_temp_15.testfunc() line 1 at SQL statement',
     schema: 'public',
     table: 'Files',
     column: undefined,
     dataType: undefined,
     constraint: 'Files_trackUUID_fkey',
     file: 'ri_triggers.c',
     line: '2783',
     routine: 'ri_ReportViolation',
     sql:
      'CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_d3ad26bb57de4585a7efae638c6f2bce$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES (\'dea66d35-7de1-4631-8ce2-373015cda9c3\',\'eb6ef52e-ac0d-4db2-baa5-231120a67c6f\',\'86602387-e7c6-4ef3-8549-88e339881bcb\',\'QmYCXxqmv4RvUBM6okkGJZqGBQwDefi6o7BAizGAvRRZ6V\',\'480a47be-f219-4c4b-96ec-e753a6e228fd.mp3\',\'/file_storage/QmYCXxqmv4RvUBM6okkGJZqGBQwDefi6o7BAizGAvRRZ6V\',\'copy320\',\'2020-03-05 17:40:40.887 +00:00\',\'2020-03-05 17:40:40.887 +00:00\') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_d3ad26bb57de4585a7efae638c6f2bce$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();' },
  original:
   { error: insert or update on table "Files" violates foreign key constraint "Files_trackUUID_fkey"
       at Connection.parseE (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/pg/lib/connection.js:604:11)
       at Connection.parseMessage (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/pg/lib/connection.js:401:19)
       at Socket.<anonymous> (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/pg/lib/connection.js:121:22)
       at Socket.emit (events.js:198:13)
       at addChunk (_stream_readable.js:288:12)
       at readableAddChunk (_stream_readable.js:269:11)
       at Socket.Readable.push (_stream_readable.js:224:10)
       at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)
     name: 'error',
     length: 865,
     severity: 'ERROR',
     code: '23503',
     detail:
      'Key (trackUUID)=(86602387-e7c6-4ef3-8549-88e339881bcb) is not present in table "Tracks".',
     hint: undefined,
     position: undefined,
     internalPosition: undefined,
     internalQuery: undefined,
     where:
      'SQL statement "INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES (\'dea66d35-7de1-4631-8ce2-373015cda9c3\',\'eb6ef52e-ac0d-4db2-baa5-231120a67c6f\',\'86602387-e7c6-4ef3-8549-88e339881bcb\',\'QmYCXxqmv4RvUBM6okkGJZqGBQwDefi6o7BAizGAvRRZ6V\',\'480a47be-f219-4c4b-96ec-e753a6e228fd.mp3\',\'/file_storage/QmYCXxqmv4RvUBM6okkGJZqGBQwDefi6o7BAizGAvRRZ6V\',\'copy320\',\'2020-03-05 17:40:40.887 +00:00\',\'2020-03-05 17:40:40.887 +00:00\') RETURNING *"\nPL/pgSQL function pg_temp_15.testfunc() line 1 at SQL statement',
     schema: 'public',
     table: 'Files',
     column: undefined,
     dataType: undefined,
     constraint: 'Files_trackUUID_fkey',
     file: 'ri_triggers.c',
     line: '2783',
     routine: 'ri_ReportViolation',
     sql:
      'CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_d3ad26bb57de4585a7efae638c6f2bce$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES (\'dea66d35-7de1-4631-8ce2-373015cda9c3\',\'eb6ef52e-ac0d-4db2-baa5-231120a67c6f\',\'86602387-e7c6-4ef3-8549-88e339881bcb\',\'QmYCXxqmv4RvUBM6okkGJZqGBQwDefi6o7BAizGAvRRZ6V\',\'480a47be-f219-4c4b-96ec-e753a6e228fd.mp3\',\'/file_storage/QmYCXxqmv4RvUBM6okkGJZqGBQwDefi6o7BAizGAvRRZ6V\',\'copy320\',\'2020-03-05 17:40:40.887 +00:00\',\'2020-03-05 17:40:40.887 +00:00\') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_d3ad26bb57de4585a7efae638c6f2bce$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();' },
  sql:
   'CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_d3ad26bb57de4585a7efae638c6f2bce$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES (\'dea66d35-7de1-4631-8ce2-373015cda9c3\',\'eb6ef52e-ac0d-4db2-baa5-231120a67c6f\',\'86602387-e7c6-4ef3-8549-88e339881bcb\',\'QmYCXxqmv4RvUBM6okkGJZqGBQwDefi6o7BAizGAvRRZ6V\',\'480a47be-f219-4c4b-96ec-e753a6e228fd.mp3\',\'/file_storage/QmYCXxqmv4RvUBM6okkGJZqGBQwDefi6o7BAizGAvRRZ6V\',\'copy320\',\'2020-03-05 17:40:40.887 +00:00\',\'2020-03-05 17:40:40.887 +00:00\') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_d3ad26bb57de4585a7efae638c6f2bce$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();',
  fields: null,
  table: 'Files',
  value: undefined,
  index: 'Files_trackUUID_fkey',
  reltype: undefined }
writing to db2...
Executing (cac3a2e3-c4ed-4a57-8adc-f912b3f3a82b): START TRANSACTION;
Executing (cac3a2e3-c4ed-4a57-8adc-f912b3f3a82b): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = 'eb6ef52e-ac0d-4db2-baa5-231120a67c6f' AND "File"."multihash" = 'QmYCXxqmv4RvUBM6okkGJZqGBQwDefi6o7BAizGAvRRZ6V' AND "File"."sourceFile" = '480a47be-f219-4c4b-96ec-e753a6e228fd.mp3' AND "File"."storagePath" = '/file_storage/QmYCXxqmv4RvUBM6okkGJZqGBQwDefi6o7BAizGAvRRZ6V' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '86602387-e7c6-4ef3-8549-88e339881bcb' LIMIT 1;
Executing (cac3a2e3-c4ed-4a57-8adc-f912b3f3a82b): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_594dae63b5944482b270b42306ab145a$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('16645046-3e18-431f-bfac-286952fdc5b4','eb6ef52e-ac0d-4db2-baa5-231120a67c6f','86602387-e7c6-4ef3-8549-88e339881bcb','QmYCXxqmv4RvUBM6okkGJZqGBQwDefi6o7BAizGAvRRZ6V','480a47be-f219-4c4b-96ec-e753a6e228fd.mp3','/file_storage/QmYCXxqmv4RvUBM6okkGJZqGBQwDefi6o7BAizGAvRRZ6V','copy320','2020-03-05 17:40:41.276 +00:00','2020-03-05 17:40:41.276 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_594dae63b5944482b270b42306ab145a$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (cac3a2e3-c4ed-4a57-8adc-f912b3f3a82b): COMMIT;
{ fileUUID: '16645046-3e18-431f-bfac-286952fdc5b4',
  cnodeUserUUID: 'eb6ef52e-ac0d-4db2-baa5-231120a67c6f',
  multihash: 'QmYCXxqmv4RvUBM6okkGJZqGBQwDefi6o7BAizGAvRRZ6V',
  sourceFile: '480a47be-f219-4c4b-96ec-e753a6e228fd.mp3',
  storagePath:
   '/file_storage/QmYCXxqmv4RvUBM6okkGJZqGBQwDefi6o7BAizGAvRRZ6V',
  type: 'copy320',
  trackUUID: '86602387-e7c6-4ef3-8549-88e339881bcb',
  updatedAt: 2020-03-05T17:40:41.276Z,
  createdAt: 2020-03-05T17:40:41.276Z }
writing to db3...
Executing (7bf9793f-656c-42e6-9b75-9ebf8662eb57): START TRANSACTION;
Executing (7bf9793f-656c-42e6-9b75-9ebf8662eb57): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = 'eb6ef52e-ac0d-4db2-baa5-231120a67c6f' AND "File"."multihash" = 'QmYCXxqmv4RvUBM6okkGJZqGBQwDefi6o7BAizGAvRRZ6V' AND "File"."sourceFile" = '480a47be-f219-4c4b-96ec-e753a6e228fd.mp3' AND "File"."storagePath" = '/file_storage/QmYCXxqmv4RvUBM6okkGJZqGBQwDefi6o7BAizGAvRRZ6V' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '86602387-e7c6-4ef3-8549-88e339881bcb' LIMIT 1;
Executing (7bf9793f-656c-42e6-9b75-9ebf8662eb57): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_0bee7c31d56843b889a5812919745898$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('c58ada38-c867-436f-bc14-351f4bfdac91','eb6ef52e-ac0d-4db2-baa5-231120a67c6f','86602387-e7c6-4ef3-8549-88e339881bcb','QmYCXxqmv4RvUBM6okkGJZqGBQwDefi6o7BAizGAvRRZ6V','480a47be-f219-4c4b-96ec-e753a6e228fd.mp3','/file_storage/QmYCXxqmv4RvUBM6okkGJZqGBQwDefi6o7BAizGAvRRZ6V','copy320','2020-03-05 17:40:41.676 +00:00','2020-03-05 17:40:41.676 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_0bee7c31d56843b889a5812919745898$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (7bf9793f-656c-42e6-9b75-9ebf8662eb57): COMMIT;
{ fileUUID: 'c58ada38-c867-436f-bc14-351f4bfdac91',
  cnodeUserUUID: 'eb6ef52e-ac0d-4db2-baa5-231120a67c6f',
  multihash: 'QmYCXxqmv4RvUBM6okkGJZqGBQwDefi6o7BAizGAvRRZ6V',
  sourceFile: '480a47be-f219-4c4b-96ec-e753a6e228fd.mp3',
  storagePath:
   '/file_storage/QmYCXxqmv4RvUBM6okkGJZqGBQwDefi6o7BAizGAvRRZ6V',
  type: 'copy320',
  trackUUID: '86602387-e7c6-4ef3-8549-88e339881bcb',
  updatedAt: 2020-03-05T17:40:41.676Z,
  createdAt: 2020-03-05T17:40:41.676Z }




PROCESSING ROW #213: sourcefile: f9a96452-6b4c-4418-9d69-f97a491f07a2.mp3, cnodeUserUUID: eb6ef52e-ac0d-4db2-baa5-231120a67c6f, trackUUID: 4b957f05-d1b4-4d24-8428-9291fcdbbbbc, multihash: QmT9qVu72q2B4n3Tp46gdoT1dtY88u6F8hsbXPmYKrF4ck, dstPath: /file_storage/QmT9qVu72q2B4n3Tp46gdoT1dtY88u6F8hsbXPmYKrF4ck
writing to db1...
Executing (1ffc0e6f-64dc-4379-91f0-29df68ba1001): START TRANSACTION;
Executing (1ffc0e6f-64dc-4379-91f0-29df68ba1001): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = 'eb6ef52e-ac0d-4db2-baa5-231120a67c6f' AND "File"."multihash" = 'QmT9qVu72q2B4n3Tp46gdoT1dtY88u6F8hsbXPmYKrF4ck' AND "File"."sourceFile" = 'f9a96452-6b4c-4418-9d69-f97a491f07a2.mp3' AND "File"."storagePath" = '/file_storage/QmT9qVu72q2B4n3Tp46gdoT1dtY88u6F8hsbXPmYKrF4ck' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '4b957f05-d1b4-4d24-8428-9291fcdbbbbc' LIMIT 1;
Executing (1ffc0e6f-64dc-4379-91f0-29df68ba1001): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_fcf962130ac84587a4fd861bb937397d$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('464b6e35-adda-4bc3-8f6a-7d8fa436d407','eb6ef52e-ac0d-4db2-baa5-231120a67c6f','4b957f05-d1b4-4d24-8428-9291fcdbbbbc','QmT9qVu72q2B4n3Tp46gdoT1dtY88u6F8hsbXPmYKrF4ck','f9a96452-6b4c-4418-9d69-f97a491f07a2.mp3','/file_storage/QmT9qVu72q2B4n3Tp46gdoT1dtY88u6F8hsbXPmYKrF4ck','copy320','2020-03-05 17:40:42.067 +00:00','2020-03-05 17:40:42.067 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_fcf962130ac84587a4fd861bb937397d$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (1ffc0e6f-64dc-4379-91f0-29df68ba1001): COMMIT;
{ SequelizeForeignKeyConstraintError: insert or update on table "Files" violates foreign key constraint "Files_trackUUID_fkey"
    at Query.formatError (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/sequelize/lib/dialects/postgres/query.js:296:16)
    at query.catch.err (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/sequelize/lib/dialects/postgres/query.js:86:18)
    at tryCatcher (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/bluebird/js/release/util.js:16:23)
    at Promise._settlePromiseFromHandler (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/bluebird/js/release/promise.js:517:31)
    at Promise._settlePromise (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/bluebird/js/release/promise.js:574:18)
    at Promise._settlePromise0 (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/bluebird/js/release/promise.js:619:10)
    at Promise._settlePromises (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/bluebird/js/release/promise.js:695:18)
    at _drainQueueStep (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/bluebird/js/release/async.js:138:12)
    at _drainQueue (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/bluebird/js/release/async.js:131:9)
    at Async._drainQueues (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/bluebird/js/release/async.js:147:5)
    at Immediate.Async.drainQueues [as _onImmediate] (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/bluebird/js/release/async.js:17:14)
    at runCallback (timers.js:705:18)
    at tryOnImmediate (timers.js:676:5)
    at processImmediate (timers.js:658:5)
  name: 'SequelizeForeignKeyConstraintError',
  parent:
   { error: insert or update on table "Files" violates foreign key constraint "Files_trackUUID_fkey"
       at Connection.parseE (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/pg/lib/connection.js:604:11)
       at Connection.parseMessage (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/pg/lib/connection.js:401:19)
       at Socket.<anonymous> (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/pg/lib/connection.js:121:22)
       at Socket.emit (events.js:198:13)
       at addChunk (_stream_readable.js:288:12)
       at readableAddChunk (_stream_readable.js:269:11)
       at Socket.Readable.push (_stream_readable.js:224:10)
       at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)
     name: 'error',
     length: 865,
     severity: 'ERROR',
     code: '23503',
     detail:
      'Key (trackUUID)=(4b957f05-d1b4-4d24-8428-9291fcdbbbbc) is not present in table "Tracks".',
     hint: undefined,
     position: undefined,
     internalPosition: undefined,
     internalQuery: undefined,
     where:
      'SQL statement "INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES (\'464b6e35-adda-4bc3-8f6a-7d8fa436d407\',\'eb6ef52e-ac0d-4db2-baa5-231120a67c6f\',\'4b957f05-d1b4-4d24-8428-9291fcdbbbbc\',\'QmT9qVu72q2B4n3Tp46gdoT1dtY88u6F8hsbXPmYKrF4ck\',\'f9a96452-6b4c-4418-9d69-f97a491f07a2.mp3\',\'/file_storage/QmT9qVu72q2B4n3Tp46gdoT1dtY88u6F8hsbXPmYKrF4ck\',\'copy320\',\'2020-03-05 17:40:42.067 +00:00\',\'2020-03-05 17:40:42.067 +00:00\') RETURNING *"\nPL/pgSQL function pg_temp_14.testfunc() line 1 at SQL statement',
     schema: 'public',
     table: 'Files',
     column: undefined,
     dataType: undefined,
     constraint: 'Files_trackUUID_fkey',
     file: 'ri_triggers.c',
     line: '2783',
     routine: 'ri_ReportViolation',
     sql:
      'CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_fcf962130ac84587a4fd861bb937397d$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES (\'464b6e35-adda-4bc3-8f6a-7d8fa436d407\',\'eb6ef52e-ac0d-4db2-baa5-231120a67c6f\',\'4b957f05-d1b4-4d24-8428-9291fcdbbbbc\',\'QmT9qVu72q2B4n3Tp46gdoT1dtY88u6F8hsbXPmYKrF4ck\',\'f9a96452-6b4c-4418-9d69-f97a491f07a2.mp3\',\'/file_storage/QmT9qVu72q2B4n3Tp46gdoT1dtY88u6F8hsbXPmYKrF4ck\',\'copy320\',\'2020-03-05 17:40:42.067 +00:00\',\'2020-03-05 17:40:42.067 +00:00\') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_fcf962130ac84587a4fd861bb937397d$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();' },
  original:
   { error: insert or update on table "Files" violates foreign key constraint "Files_trackUUID_fkey"
       at Connection.parseE (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/pg/lib/connection.js:604:11)
       at Connection.parseMessage (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/pg/lib/connection.js:401:19)
       at Socket.<anonymous> (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/pg/lib/connection.js:121:22)
       at Socket.emit (events.js:198:13)
       at addChunk (_stream_readable.js:288:12)
       at readableAddChunk (_stream_readable.js:269:11)
       at Socket.Readable.push (_stream_readable.js:224:10)
       at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)
     name: 'error',
     length: 865,
     severity: 'ERROR',
     code: '23503',
     detail:
      'Key (trackUUID)=(4b957f05-d1b4-4d24-8428-9291fcdbbbbc) is not present in table "Tracks".',
     hint: undefined,
     position: undefined,
     internalPosition: undefined,
     internalQuery: undefined,
     where:
      'SQL statement "INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES (\'464b6e35-adda-4bc3-8f6a-7d8fa436d407\',\'eb6ef52e-ac0d-4db2-baa5-231120a67c6f\',\'4b957f05-d1b4-4d24-8428-9291fcdbbbbc\',\'QmT9qVu72q2B4n3Tp46gdoT1dtY88u6F8hsbXPmYKrF4ck\',\'f9a96452-6b4c-4418-9d69-f97a491f07a2.mp3\',\'/file_storage/QmT9qVu72q2B4n3Tp46gdoT1dtY88u6F8hsbXPmYKrF4ck\',\'copy320\',\'2020-03-05 17:40:42.067 +00:00\',\'2020-03-05 17:40:42.067 +00:00\') RETURNING *"\nPL/pgSQL function pg_temp_14.testfunc() line 1 at SQL statement',
     schema: 'public',
     table: 'Files',
     column: undefined,
     dataType: undefined,
     constraint: 'Files_trackUUID_fkey',
     file: 'ri_triggers.c',
     line: '2783',
     routine: 'ri_ReportViolation',
     sql:
      'CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_fcf962130ac84587a4fd861bb937397d$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES (\'464b6e35-adda-4bc3-8f6a-7d8fa436d407\',\'eb6ef52e-ac0d-4db2-baa5-231120a67c6f\',\'4b957f05-d1b4-4d24-8428-9291fcdbbbbc\',\'QmT9qVu72q2B4n3Tp46gdoT1dtY88u6F8hsbXPmYKrF4ck\',\'f9a96452-6b4c-4418-9d69-f97a491f07a2.mp3\',\'/file_storage/QmT9qVu72q2B4n3Tp46gdoT1dtY88u6F8hsbXPmYKrF4ck\',\'copy320\',\'2020-03-05 17:40:42.067 +00:00\',\'2020-03-05 17:40:42.067 +00:00\') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_fcf962130ac84587a4fd861bb937397d$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();' },
  sql:
   'CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_fcf962130ac84587a4fd861bb937397d$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES (\'464b6e35-adda-4bc3-8f6a-7d8fa436d407\',\'eb6ef52e-ac0d-4db2-baa5-231120a67c6f\',\'4b957f05-d1b4-4d24-8428-9291fcdbbbbc\',\'QmT9qVu72q2B4n3Tp46gdoT1dtY88u6F8hsbXPmYKrF4ck\',\'f9a96452-6b4c-4418-9d69-f97a491f07a2.mp3\',\'/file_storage/QmT9qVu72q2B4n3Tp46gdoT1dtY88u6F8hsbXPmYKrF4ck\',\'copy320\',\'2020-03-05 17:40:42.067 +00:00\',\'2020-03-05 17:40:42.067 +00:00\') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_fcf962130ac84587a4fd861bb937397d$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();',
  fields: null,
  table: 'Files',
  value: undefined,
  index: 'Files_trackUUID_fkey',
  reltype: undefined }
writing to db2...
Executing (90d05c38-311a-4fd2-b0a5-d826553bc92e): START TRANSACTION;
Executing (90d05c38-311a-4fd2-b0a5-d826553bc92e): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = 'eb6ef52e-ac0d-4db2-baa5-231120a67c6f' AND "File"."multihash" = 'QmT9qVu72q2B4n3Tp46gdoT1dtY88u6F8hsbXPmYKrF4ck' AND "File"."sourceFile" = 'f9a96452-6b4c-4418-9d69-f97a491f07a2.mp3' AND "File"."storagePath" = '/file_storage/QmT9qVu72q2B4n3Tp46gdoT1dtY88u6F8hsbXPmYKrF4ck' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '4b957f05-d1b4-4d24-8428-9291fcdbbbbc' LIMIT 1;
Executing (90d05c38-311a-4fd2-b0a5-d826553bc92e): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_6a05cfe96a404caba1782e45bd440ef4$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('0f9bfbaa-1842-4838-8784-23bca44a8953','eb6ef52e-ac0d-4db2-baa5-231120a67c6f','4b957f05-d1b4-4d24-8428-9291fcdbbbbc','QmT9qVu72q2B4n3Tp46gdoT1dtY88u6F8hsbXPmYKrF4ck','f9a96452-6b4c-4418-9d69-f97a491f07a2.mp3','/file_storage/QmT9qVu72q2B4n3Tp46gdoT1dtY88u6F8hsbXPmYKrF4ck','copy320','2020-03-05 17:40:42.458 +00:00','2020-03-05 17:40:42.458 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_6a05cfe96a404caba1782e45bd440ef4$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (90d05c38-311a-4fd2-b0a5-d826553bc92e): COMMIT;
{ fileUUID: '0f9bfbaa-1842-4838-8784-23bca44a8953',
  cnodeUserUUID: 'eb6ef52e-ac0d-4db2-baa5-231120a67c6f',
  multihash: 'QmT9qVu72q2B4n3Tp46gdoT1dtY88u6F8hsbXPmYKrF4ck',
  sourceFile: 'f9a96452-6b4c-4418-9d69-f97a491f07a2.mp3',
  storagePath:
   '/file_storage/QmT9qVu72q2B4n3Tp46gdoT1dtY88u6F8hsbXPmYKrF4ck',
  type: 'copy320',
  trackUUID: '4b957f05-d1b4-4d24-8428-9291fcdbbbbc',
  updatedAt: 2020-03-05T17:40:42.458Z,
  createdAt: 2020-03-05T17:40:42.458Z }
writing to db3...
Executing (824e395c-dc8b-43a6-80e2-6509af183957): START TRANSACTION;
Executing (824e395c-dc8b-43a6-80e2-6509af183957): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = 'eb6ef52e-ac0d-4db2-baa5-231120a67c6f' AND "File"."multihash" = 'QmT9qVu72q2B4n3Tp46gdoT1dtY88u6F8hsbXPmYKrF4ck' AND "File"."sourceFile" = 'f9a96452-6b4c-4418-9d69-f97a491f07a2.mp3' AND "File"."storagePath" = '/file_storage/QmT9qVu72q2B4n3Tp46gdoT1dtY88u6F8hsbXPmYKrF4ck' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '4b957f05-d1b4-4d24-8428-9291fcdbbbbc' LIMIT 1;
Executing (824e395c-dc8b-43a6-80e2-6509af183957): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_093d0ffb01ce4969a9f685184e6b3f1f$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('b3b7e376-8d7b-4ee6-8ee7-d11e366571c0','eb6ef52e-ac0d-4db2-baa5-231120a67c6f','4b957f05-d1b4-4d24-8428-9291fcdbbbbc','QmT9qVu72q2B4n3Tp46gdoT1dtY88u6F8hsbXPmYKrF4ck','f9a96452-6b4c-4418-9d69-f97a491f07a2.mp3','/file_storage/QmT9qVu72q2B4n3Tp46gdoT1dtY88u6F8hsbXPmYKrF4ck','copy320','2020-03-05 17:40:42.846 +00:00','2020-03-05 17:40:42.846 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_093d0ffb01ce4969a9f685184e6b3f1f$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (824e395c-dc8b-43a6-80e2-6509af183957): COMMIT;
{ fileUUID: 'b3b7e376-8d7b-4ee6-8ee7-d11e366571c0',
  cnodeUserUUID: 'eb6ef52e-ac0d-4db2-baa5-231120a67c6f',
  multihash: 'QmT9qVu72q2B4n3Tp46gdoT1dtY88u6F8hsbXPmYKrF4ck',
  sourceFile: 'f9a96452-6b4c-4418-9d69-f97a491f07a2.mp3',
  storagePath:
   '/file_storage/QmT9qVu72q2B4n3Tp46gdoT1dtY88u6F8hsbXPmYKrF4ck',
  type: 'copy320',
  trackUUID: '4b957f05-d1b4-4d24-8428-9291fcdbbbbc',
  updatedAt: 2020-03-05T17:40:42.846Z,
  createdAt: 2020-03-05T17:40:42.846Z }




PROCESSING ROW #214: sourcefile: b9be7ca7-4098-4a7a-a3a4-29c863379598.mp3, cnodeUserUUID: 61375eee-111f-48df-b4ff-d8fec33921e2, trackUUID: e20d837a-7aa2-42d2-ba90-0e4a4ee46d9b, multihash: QmWsTEu8PeXxU8hMc2JbVsyNucFw24oocTwa4r5VGoRwK4, dstPath: /file_storage/QmWsTEu8PeXxU8hMc2JbVsyNucFw24oocTwa4r5VGoRwK4
writing to db1...
Executing (4cd93805-b3ba-4ab9-b43a-f52068d14244): START TRANSACTION;
Executing (4cd93805-b3ba-4ab9-b43a-f52068d14244): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '61375eee-111f-48df-b4ff-d8fec33921e2' AND "File"."multihash" = 'QmWsTEu8PeXxU8hMc2JbVsyNucFw24oocTwa4r5VGoRwK4' AND "File"."sourceFile" = 'b9be7ca7-4098-4a7a-a3a4-29c863379598.mp3' AND "File"."storagePath" = '/file_storage/QmWsTEu8PeXxU8hMc2JbVsyNucFw24oocTwa4r5VGoRwK4' AND "File"."type" = 'copy320' AND "File"."trackUUID" = 'e20d837a-7aa2-42d2-ba90-0e4a4ee46d9b' LIMIT 1;
Executing (4cd93805-b3ba-4ab9-b43a-f52068d14244): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_464853fed8134b0ab7295bf8c79ea032$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('7262d7f3-2d63-4514-995e-346ad2f60673','61375eee-111f-48df-b4ff-d8fec33921e2','e20d837a-7aa2-42d2-ba90-0e4a4ee46d9b','QmWsTEu8PeXxU8hMc2JbVsyNucFw24oocTwa4r5VGoRwK4','b9be7ca7-4098-4a7a-a3a4-29c863379598.mp3','/file_storage/QmWsTEu8PeXxU8hMc2JbVsyNucFw24oocTwa4r5VGoRwK4','copy320','2020-03-05 17:40:43.245 +00:00','2020-03-05 17:40:43.245 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_464853fed8134b0ab7295bf8c79ea032$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (4cd93805-b3ba-4ab9-b43a-f52068d14244): COMMIT;
{ SequelizeForeignKeyConstraintError: insert or update on table "Files" violates foreign key constraint "Files_cnodeUserUUID_fkey"
    at Query.formatError (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/sequelize/lib/dialects/postgres/query.js:296:16)
    at query.catch.err (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/sequelize/lib/dialects/postgres/query.js:86:18)
    at tryCatcher (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/bluebird/js/release/util.js:16:23)
    at Promise._settlePromiseFromHandler (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/bluebird/js/release/promise.js:517:31)
    at Promise._settlePromise (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/bluebird/js/release/promise.js:574:18)
    at Promise._settlePromise0 (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/bluebird/js/release/promise.js:619:10)
    at Promise._settlePromises (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/bluebird/js/release/promise.js:695:18)
    at _drainQueueStep (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/bluebird/js/release/async.js:138:12)
    at _drainQueue (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/bluebird/js/release/async.js:131:9)
    at Async._drainQueues (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/bluebird/js/release/async.js:147:5)
    at Immediate.Async.drainQueues [as _onImmediate] (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/bluebird/js/release/async.js:17:14)
    at runCallback (timers.js:705:18)
    at tryOnImmediate (timers.js:676:5)
    at processImmediate (timers.js:658:5)
  name: 'SequelizeForeignKeyConstraintError',
  parent:
   { error: insert or update on table "Files" violates foreign key constraint "Files_cnodeUserUUID_fkey"
       at Connection.parseE (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/pg/lib/connection.js:604:11)
       at Connection.parseMessage (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/pg/lib/connection.js:401:19)
       at Socket.<anonymous> (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/pg/lib/connection.js:121:22)
       at Socket.emit (events.js:198:13)
       at addChunk (_stream_readable.js:288:12)
       at readableAddChunk (_stream_readable.js:269:11)
       at Socket.Readable.push (_stream_readable.js:224:10)
       at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)
     name: 'error',
     length: 881,
     severity: 'ERROR',
     code: '23503',
     detail:
      'Key (cnodeUserUUID)=(61375eee-111f-48df-b4ff-d8fec33921e2) is not present in table "CNodeUsers".',
     hint: undefined,
     position: undefined,
     internalPosition: undefined,
     internalQuery: undefined,
     where:
      'SQL statement "INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES (\'7262d7f3-2d63-4514-995e-346ad2f60673\',\'61375eee-111f-48df-b4ff-d8fec33921e2\',\'e20d837a-7aa2-42d2-ba90-0e4a4ee46d9b\',\'QmWsTEu8PeXxU8hMc2JbVsyNucFw24oocTwa4r5VGoRwK4\',\'b9be7ca7-4098-4a7a-a3a4-29c863379598.mp3\',\'/file_storage/QmWsTEu8PeXxU8hMc2JbVsyNucFw24oocTwa4r5VGoRwK4\',\'copy320\',\'2020-03-05 17:40:43.245 +00:00\',\'2020-03-05 17:40:43.245 +00:00\') RETURNING *"\nPL/pgSQL function pg_temp_16.testfunc() line 1 at SQL statement',
     schema: 'public',
     table: 'Files',
     column: undefined,
     dataType: undefined,
     constraint: 'Files_cnodeUserUUID_fkey',
     file: 'ri_triggers.c',
     line: '2783',
     routine: 'ri_ReportViolation',
     sql:
      'CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_464853fed8134b0ab7295bf8c79ea032$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES (\'7262d7f3-2d63-4514-995e-346ad2f60673\',\'61375eee-111f-48df-b4ff-d8fec33921e2\',\'e20d837a-7aa2-42d2-ba90-0e4a4ee46d9b\',\'QmWsTEu8PeXxU8hMc2JbVsyNucFw24oocTwa4r5VGoRwK4\',\'b9be7ca7-4098-4a7a-a3a4-29c863379598.mp3\',\'/file_storage/QmWsTEu8PeXxU8hMc2JbVsyNucFw24oocTwa4r5VGoRwK4\',\'copy320\',\'2020-03-05 17:40:43.245 +00:00\',\'2020-03-05 17:40:43.245 +00:00\') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_464853fed8134b0ab7295bf8c79ea032$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();' },
  original:
   { error: insert or update on table "Files" violates foreign key constraint "Files_cnodeUserUUID_fkey"
       at Connection.parseE (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/pg/lib/connection.js:604:11)
       at Connection.parseMessage (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/pg/lib/connection.js:401:19)
       at Socket.<anonymous> (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/pg/lib/connection.js:121:22)
       at Socket.emit (events.js:198:13)
       at addChunk (_stream_readable.js:288:12)
       at readableAddChunk (_stream_readable.js:269:11)
       at Socket.Readable.push (_stream_readable.js:224:10)
       at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)
     name: 'error',
     length: 881,
     severity: 'ERROR',
     code: '23503',
     detail:
      'Key (cnodeUserUUID)=(61375eee-111f-48df-b4ff-d8fec33921e2) is not present in table "CNodeUsers".',
     hint: undefined,
     position: undefined,
     internalPosition: undefined,
     internalQuery: undefined,
     where:
      'SQL statement "INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES (\'7262d7f3-2d63-4514-995e-346ad2f60673\',\'61375eee-111f-48df-b4ff-d8fec33921e2\',\'e20d837a-7aa2-42d2-ba90-0e4a4ee46d9b\',\'QmWsTEu8PeXxU8hMc2JbVsyNucFw24oocTwa4r5VGoRwK4\',\'b9be7ca7-4098-4a7a-a3a4-29c863379598.mp3\',\'/file_storage/QmWsTEu8PeXxU8hMc2JbVsyNucFw24oocTwa4r5VGoRwK4\',\'copy320\',\'2020-03-05 17:40:43.245 +00:00\',\'2020-03-05 17:40:43.245 +00:00\') RETURNING *"\nPL/pgSQL function pg_temp_16.testfunc() line 1 at SQL statement',
     schema: 'public',
     table: 'Files',
     column: undefined,
     dataType: undefined,
     constraint: 'Files_cnodeUserUUID_fkey',
     file: 'ri_triggers.c',
     line: '2783',
     routine: 'ri_ReportViolation',
     sql:
      'CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_464853fed8134b0ab7295bf8c79ea032$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES (\'7262d7f3-2d63-4514-995e-346ad2f60673\',\'61375eee-111f-48df-b4ff-d8fec33921e2\',\'e20d837a-7aa2-42d2-ba90-0e4a4ee46d9b\',\'QmWsTEu8PeXxU8hMc2JbVsyNucFw24oocTwa4r5VGoRwK4\',\'b9be7ca7-4098-4a7a-a3a4-29c863379598.mp3\',\'/file_storage/QmWsTEu8PeXxU8hMc2JbVsyNucFw24oocTwa4r5VGoRwK4\',\'copy320\',\'2020-03-05 17:40:43.245 +00:00\',\'2020-03-05 17:40:43.245 +00:00\') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_464853fed8134b0ab7295bf8c79ea032$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();' },
  sql:
   'CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_464853fed8134b0ab7295bf8c79ea032$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES (\'7262d7f3-2d63-4514-995e-346ad2f60673\',\'61375eee-111f-48df-b4ff-d8fec33921e2\',\'e20d837a-7aa2-42d2-ba90-0e4a4ee46d9b\',\'QmWsTEu8PeXxU8hMc2JbVsyNucFw24oocTwa4r5VGoRwK4\',\'b9be7ca7-4098-4a7a-a3a4-29c863379598.mp3\',\'/file_storage/QmWsTEu8PeXxU8hMc2JbVsyNucFw24oocTwa4r5VGoRwK4\',\'copy320\',\'2020-03-05 17:40:43.245 +00:00\',\'2020-03-05 17:40:43.245 +00:00\') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_464853fed8134b0ab7295bf8c79ea032$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();',
  fields: null,
  table: 'Files',
  value: undefined,
  index: 'Files_cnodeUserUUID_fkey',
  reltype: undefined }
writing to db2...
Executing (62459b34-cdb6-4517-bba3-a1e25faac6b1): START TRANSACTION;
Executing (62459b34-cdb6-4517-bba3-a1e25faac6b1): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '61375eee-111f-48df-b4ff-d8fec33921e2' AND "File"."multihash" = 'QmWsTEu8PeXxU8hMc2JbVsyNucFw24oocTwa4r5VGoRwK4' AND "File"."sourceFile" = 'b9be7ca7-4098-4a7a-a3a4-29c863379598.mp3' AND "File"."storagePath" = '/file_storage/QmWsTEu8PeXxU8hMc2JbVsyNucFw24oocTwa4r5VGoRwK4' AND "File"."type" = 'copy320' AND "File"."trackUUID" = 'e20d837a-7aa2-42d2-ba90-0e4a4ee46d9b' LIMIT 1;
Executing (62459b34-cdb6-4517-bba3-a1e25faac6b1): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_84ab827a5ff341b9b738038ac56927dc$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('133f3cb0-8cfb-4b15-a81d-ff4c021da8f1','61375eee-111f-48df-b4ff-d8fec33921e2','e20d837a-7aa2-42d2-ba90-0e4a4ee46d9b','QmWsTEu8PeXxU8hMc2JbVsyNucFw24oocTwa4r5VGoRwK4','b9be7ca7-4098-4a7a-a3a4-29c863379598.mp3','/file_storage/QmWsTEu8PeXxU8hMc2JbVsyNucFw24oocTwa4r5VGoRwK4','copy320','2020-03-05 17:40:43.637 +00:00','2020-03-05 17:40:43.637 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_84ab827a5ff341b9b738038ac56927dc$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (62459b34-cdb6-4517-bba3-a1e25faac6b1): COMMIT;
{ fileUUID: '133f3cb0-8cfb-4b15-a81d-ff4c021da8f1',
  cnodeUserUUID: '61375eee-111f-48df-b4ff-d8fec33921e2',
  multihash: 'QmWsTEu8PeXxU8hMc2JbVsyNucFw24oocTwa4r5VGoRwK4',
  sourceFile: 'b9be7ca7-4098-4a7a-a3a4-29c863379598.mp3',
  storagePath:
   '/file_storage/QmWsTEu8PeXxU8hMc2JbVsyNucFw24oocTwa4r5VGoRwK4',
  type: 'copy320',
  trackUUID: 'e20d837a-7aa2-42d2-ba90-0e4a4ee46d9b',
  updatedAt: 2020-03-05T17:40:43.637Z,
  createdAt: 2020-03-05T17:40:43.637Z }
writing to db3...
Executing (4ff7a0ee-7473-4f78-88ef-06c89ee3dd93): START TRANSACTION;
Executing (4ff7a0ee-7473-4f78-88ef-06c89ee3dd93): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '61375eee-111f-48df-b4ff-d8fec33921e2' AND "File"."multihash" = 'QmWsTEu8PeXxU8hMc2JbVsyNucFw24oocTwa4r5VGoRwK4' AND "File"."sourceFile" = 'b9be7ca7-4098-4a7a-a3a4-29c863379598.mp3' AND "File"."storagePath" = '/file_storage/QmWsTEu8PeXxU8hMc2JbVsyNucFw24oocTwa4r5VGoRwK4' AND "File"."type" = 'copy320' AND "File"."trackUUID" = 'e20d837a-7aa2-42d2-ba90-0e4a4ee46d9b' LIMIT 1;
Executing (4ff7a0ee-7473-4f78-88ef-06c89ee3dd93): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_7c055df3e7b741aca2e7e8863996beac$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('bff37599-313b-4d18-b255-017cf396a979','61375eee-111f-48df-b4ff-d8fec33921e2','e20d837a-7aa2-42d2-ba90-0e4a4ee46d9b','QmWsTEu8PeXxU8hMc2JbVsyNucFw24oocTwa4r5VGoRwK4','b9be7ca7-4098-4a7a-a3a4-29c863379598.mp3','/file_storage/QmWsTEu8PeXxU8hMc2JbVsyNucFw24oocTwa4r5VGoRwK4','copy320','2020-03-05 17:40:44.025 +00:00','2020-03-05 17:40:44.025 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_7c055df3e7b741aca2e7e8863996beac$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (4ff7a0ee-7473-4f78-88ef-06c89ee3dd93): COMMIT;
{ fileUUID: 'bff37599-313b-4d18-b255-017cf396a979',
  cnodeUserUUID: '61375eee-111f-48df-b4ff-d8fec33921e2',
  multihash: 'QmWsTEu8PeXxU8hMc2JbVsyNucFw24oocTwa4r5VGoRwK4',
  sourceFile: 'b9be7ca7-4098-4a7a-a3a4-29c863379598.mp3',
  storagePath:
   '/file_storage/QmWsTEu8PeXxU8hMc2JbVsyNucFw24oocTwa4r5VGoRwK4',
  type: 'copy320',
  trackUUID: 'e20d837a-7aa2-42d2-ba90-0e4a4ee46d9b',
  updatedAt: 2020-03-05T17:40:44.025Z,
  createdAt: 2020-03-05T17:40:44.025Z }




PROCESSING ROW #215: sourcefile: 418ef6d9-03c6-4d35-b809-b7bf14a55a38.mp3, cnodeUserUUID: fc86b27c-d45d-4eac-9d34-984762ba44c2, trackUUID: 3f30d407-ea5d-4710-980d-dc59ca25cc3e, multihash: QmePKJNkw7RoEawMWL81aRgWncBtPi7CpuwLyU4eH32LqE, dstPath: /file_storage/QmePKJNkw7RoEawMWL81aRgWncBtPi7CpuwLyU4eH32LqE
writing to db1...
Executing (b22d96b2-8bce-47fc-84e3-74bece14b966): START TRANSACTION;
Executing (b22d96b2-8bce-47fc-84e3-74bece14b966): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = 'fc86b27c-d45d-4eac-9d34-984762ba44c2' AND "File"."multihash" = 'QmePKJNkw7RoEawMWL81aRgWncBtPi7CpuwLyU4eH32LqE' AND "File"."sourceFile" = '418ef6d9-03c6-4d35-b809-b7bf14a55a38.mp3' AND "File"."storagePath" = '/file_storage/QmePKJNkw7RoEawMWL81aRgWncBtPi7CpuwLyU4eH32LqE' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '3f30d407-ea5d-4710-980d-dc59ca25cc3e' LIMIT 1;
Executing (b22d96b2-8bce-47fc-84e3-74bece14b966): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_4367681ca5cc4b05aa3ea3a934c9240f$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('0b714430-cc98-44c9-a129-d2698b2a792c','fc86b27c-d45d-4eac-9d34-984762ba44c2','3f30d407-ea5d-4710-980d-dc59ca25cc3e','QmePKJNkw7RoEawMWL81aRgWncBtPi7CpuwLyU4eH32LqE','418ef6d9-03c6-4d35-b809-b7bf14a55a38.mp3','/file_storage/QmePKJNkw7RoEawMWL81aRgWncBtPi7CpuwLyU4eH32LqE','copy320','2020-03-05 17:40:44.407 +00:00','2020-03-05 17:40:44.407 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_4367681ca5cc4b05aa3ea3a934c9240f$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (b22d96b2-8bce-47fc-84e3-74bece14b966): COMMIT;
{ SequelizeForeignKeyConstraintError: insert or update on table "Files" violates foreign key constraint "Files_trackUUID_fkey"
    at Query.formatError (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/sequelize/lib/dialects/postgres/query.js:296:16)
    at query.catch.err (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/sequelize/lib/dialects/postgres/query.js:86:18)
    at tryCatcher (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/bluebird/js/release/util.js:16:23)
    at Promise._settlePromiseFromHandler (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/bluebird/js/release/promise.js:517:31)
    at Promise._settlePromise (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/bluebird/js/release/promise.js:574:18)
    at Promise._settlePromise0 (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/bluebird/js/release/promise.js:619:10)
    at Promise._settlePromises (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/bluebird/js/release/promise.js:695:18)
    at _drainQueueStep (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/bluebird/js/release/async.js:138:12)
    at _drainQueue (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/bluebird/js/release/async.js:131:9)
    at Async._drainQueues (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/bluebird/js/release/async.js:147:5)
    at Immediate.Async.drainQueues [as _onImmediate] (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/bluebird/js/release/async.js:17:14)
    at runCallback (timers.js:705:18)
    at tryOnImmediate (timers.js:676:5)
    at processImmediate (timers.js:658:5)
  name: 'SequelizeForeignKeyConstraintError',
  parent:
   { error: insert or update on table "Files" violates foreign key constraint "Files_trackUUID_fkey"
       at Connection.parseE (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/pg/lib/connection.js:604:11)
       at Connection.parseMessage (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/pg/lib/connection.js:401:19)
       at Socket.<anonymous> (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/pg/lib/connection.js:121:22)
       at Socket.emit (events.js:198:13)
       at addChunk (_stream_readable.js:288:12)
       at readableAddChunk (_stream_readable.js:269:11)
       at Socket.Readable.push (_stream_readable.js:224:10)
       at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)
     name: 'error',
     length: 865,
     severity: 'ERROR',
     code: '23503',
     detail:
      'Key (trackUUID)=(3f30d407-ea5d-4710-980d-dc59ca25cc3e) is not present in table "Tracks".',
     hint: undefined,
     position: undefined,
     internalPosition: undefined,
     internalQuery: undefined,
     where:
      'SQL statement "INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES (\'0b714430-cc98-44c9-a129-d2698b2a792c\',\'fc86b27c-d45d-4eac-9d34-984762ba44c2\',\'3f30d407-ea5d-4710-980d-dc59ca25cc3e\',\'QmePKJNkw7RoEawMWL81aRgWncBtPi7CpuwLyU4eH32LqE\',\'418ef6d9-03c6-4d35-b809-b7bf14a55a38.mp3\',\'/file_storage/QmePKJNkw7RoEawMWL81aRgWncBtPi7CpuwLyU4eH32LqE\',\'copy320\',\'2020-03-05 17:40:44.407 +00:00\',\'2020-03-05 17:40:44.407 +00:00\') RETURNING *"\nPL/pgSQL function pg_temp_13.testfunc() line 1 at SQL statement',
     schema: 'public',
     table: 'Files',
     column: undefined,
     dataType: undefined,
     constraint: 'Files_trackUUID_fkey',
     file: 'ri_triggers.c',
     line: '2783',
     routine: 'ri_ReportViolation',
     sql:
      'CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_4367681ca5cc4b05aa3ea3a934c9240f$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES (\'0b714430-cc98-44c9-a129-d2698b2a792c\',\'fc86b27c-d45d-4eac-9d34-984762ba44c2\',\'3f30d407-ea5d-4710-980d-dc59ca25cc3e\',\'QmePKJNkw7RoEawMWL81aRgWncBtPi7CpuwLyU4eH32LqE\',\'418ef6d9-03c6-4d35-b809-b7bf14a55a38.mp3\',\'/file_storage/QmePKJNkw7RoEawMWL81aRgWncBtPi7CpuwLyU4eH32LqE\',\'copy320\',\'2020-03-05 17:40:44.407 +00:00\',\'2020-03-05 17:40:44.407 +00:00\') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_4367681ca5cc4b05aa3ea3a934c9240f$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();' },
  original:
   { error: insert or update on table "Files" violates foreign key constraint "Files_trackUUID_fkey"
       at Connection.parseE (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/pg/lib/connection.js:604:11)
       at Connection.parseMessage (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/pg/lib/connection.js:401:19)
       at Socket.<anonymous> (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/pg/lib/connection.js:121:22)
       at Socket.emit (events.js:198:13)
       at addChunk (_stream_readable.js:288:12)
       at readableAddChunk (_stream_readable.js:269:11)
       at Socket.Readable.push (_stream_readable.js:224:10)
       at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)
     name: 'error',
     length: 865,
     severity: 'ERROR',
     code: '23503',
     detail:
      'Key (trackUUID)=(3f30d407-ea5d-4710-980d-dc59ca25cc3e) is not present in table "Tracks".',
     hint: undefined,
     position: undefined,
     internalPosition: undefined,
     internalQuery: undefined,
     where:
      'SQL statement "INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES (\'0b714430-cc98-44c9-a129-d2698b2a792c\',\'fc86b27c-d45d-4eac-9d34-984762ba44c2\',\'3f30d407-ea5d-4710-980d-dc59ca25cc3e\',\'QmePKJNkw7RoEawMWL81aRgWncBtPi7CpuwLyU4eH32LqE\',\'418ef6d9-03c6-4d35-b809-b7bf14a55a38.mp3\',\'/file_storage/QmePKJNkw7RoEawMWL81aRgWncBtPi7CpuwLyU4eH32LqE\',\'copy320\',\'2020-03-05 17:40:44.407 +00:00\',\'2020-03-05 17:40:44.407 +00:00\') RETURNING *"\nPL/pgSQL function pg_temp_13.testfunc() line 1 at SQL statement',
     schema: 'public',
     table: 'Files',
     column: undefined,
     dataType: undefined,
     constraint: 'Files_trackUUID_fkey',
     file: 'ri_triggers.c',
     line: '2783',
     routine: 'ri_ReportViolation',
     sql:
      'CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_4367681ca5cc4b05aa3ea3a934c9240f$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES (\'0b714430-cc98-44c9-a129-d2698b2a792c\',\'fc86b27c-d45d-4eac-9d34-984762ba44c2\',\'3f30d407-ea5d-4710-980d-dc59ca25cc3e\',\'QmePKJNkw7RoEawMWL81aRgWncBtPi7CpuwLyU4eH32LqE\',\'418ef6d9-03c6-4d35-b809-b7bf14a55a38.mp3\',\'/file_storage/QmePKJNkw7RoEawMWL81aRgWncBtPi7CpuwLyU4eH32LqE\',\'copy320\',\'2020-03-05 17:40:44.407 +00:00\',\'2020-03-05 17:40:44.407 +00:00\') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_4367681ca5cc4b05aa3ea3a934c9240f$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();' },
  sql:
   'CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_4367681ca5cc4b05aa3ea3a934c9240f$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES (\'0b714430-cc98-44c9-a129-d2698b2a792c\',\'fc86b27c-d45d-4eac-9d34-984762ba44c2\',\'3f30d407-ea5d-4710-980d-dc59ca25cc3e\',\'QmePKJNkw7RoEawMWL81aRgWncBtPi7CpuwLyU4eH32LqE\',\'418ef6d9-03c6-4d35-b809-b7bf14a55a38.mp3\',\'/file_storage/QmePKJNkw7RoEawMWL81aRgWncBtPi7CpuwLyU4eH32LqE\',\'copy320\',\'2020-03-05 17:40:44.407 +00:00\',\'2020-03-05 17:40:44.407 +00:00\') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_4367681ca5cc4b05aa3ea3a934c9240f$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();',
  fields: null,
  table: 'Files',
  value: undefined,
  index: 'Files_trackUUID_fkey',
  reltype: undefined }
writing to db2...
Executing (db9543ed-a244-485a-b021-f90d2e2fd319): START TRANSACTION;
Executing (db9543ed-a244-485a-b021-f90d2e2fd319): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = 'fc86b27c-d45d-4eac-9d34-984762ba44c2' AND "File"."multihash" = 'QmePKJNkw7RoEawMWL81aRgWncBtPi7CpuwLyU4eH32LqE' AND "File"."sourceFile" = '418ef6d9-03c6-4d35-b809-b7bf14a55a38.mp3' AND "File"."storagePath" = '/file_storage/QmePKJNkw7RoEawMWL81aRgWncBtPi7CpuwLyU4eH32LqE' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '3f30d407-ea5d-4710-980d-dc59ca25cc3e' LIMIT 1;
Executing (db9543ed-a244-485a-b021-f90d2e2fd319): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_8615a22fecf0422c8b3efc3b1f505f7f$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('5cf08670-3f29-4756-ba9f-e9e9a5818a54','fc86b27c-d45d-4eac-9d34-984762ba44c2','3f30d407-ea5d-4710-980d-dc59ca25cc3e','QmePKJNkw7RoEawMWL81aRgWncBtPi7CpuwLyU4eH32LqE','418ef6d9-03c6-4d35-b809-b7bf14a55a38.mp3','/file_storage/QmePKJNkw7RoEawMWL81aRgWncBtPi7CpuwLyU4eH32LqE','copy320','2020-03-05 17:40:44.791 +00:00','2020-03-05 17:40:44.791 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_8615a22fecf0422c8b3efc3b1f505f7f$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (db9543ed-a244-485a-b021-f90d2e2fd319): COMMIT;
{ fileUUID: '5cf08670-3f29-4756-ba9f-e9e9a5818a54',
  cnodeUserUUID: 'fc86b27c-d45d-4eac-9d34-984762ba44c2',
  multihash: 'QmePKJNkw7RoEawMWL81aRgWncBtPi7CpuwLyU4eH32LqE',
  sourceFile: '418ef6d9-03c6-4d35-b809-b7bf14a55a38.mp3',
  storagePath:
   '/file_storage/QmePKJNkw7RoEawMWL81aRgWncBtPi7CpuwLyU4eH32LqE',
  type: 'copy320',
  trackUUID: '3f30d407-ea5d-4710-980d-dc59ca25cc3e',
  updatedAt: 2020-03-05T17:40:44.791Z,
  createdAt: 2020-03-05T17:40:44.791Z }
writing to db3...
Executing (33902fdb-7f18-4d53-bffd-b3f05f336ed5): START TRANSACTION;
Executing (33902fdb-7f18-4d53-bffd-b3f05f336ed5): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = 'fc86b27c-d45d-4eac-9d34-984762ba44c2' AND "File"."multihash" = 'QmePKJNkw7RoEawMWL81aRgWncBtPi7CpuwLyU4eH32LqE' AND "File"."sourceFile" = '418ef6d9-03c6-4d35-b809-b7bf14a55a38.mp3' AND "File"."storagePath" = '/file_storage/QmePKJNkw7RoEawMWL81aRgWncBtPi7CpuwLyU4eH32LqE' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '3f30d407-ea5d-4710-980d-dc59ca25cc3e' LIMIT 1;
Executing (33902fdb-7f18-4d53-bffd-b3f05f336ed5): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_524c02a9ea8b4b6bbff4b6f6bbd2cb0f$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('271b0bff-222c-41e5-a0a7-5fe864a5a12d','fc86b27c-d45d-4eac-9d34-984762ba44c2','3f30d407-ea5d-4710-980d-dc59ca25cc3e','QmePKJNkw7RoEawMWL81aRgWncBtPi7CpuwLyU4eH32LqE','418ef6d9-03c6-4d35-b809-b7bf14a55a38.mp3','/file_storage/QmePKJNkw7RoEawMWL81aRgWncBtPi7CpuwLyU4eH32LqE','copy320','2020-03-05 17:40:45.178 +00:00','2020-03-05 17:40:45.178 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_524c02a9ea8b4b6bbff4b6f6bbd2cb0f$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (33902fdb-7f18-4d53-bffd-b3f05f336ed5): COMMIT;
{ fileUUID: '271b0bff-222c-41e5-a0a7-5fe864a5a12d',
  cnodeUserUUID: 'fc86b27c-d45d-4eac-9d34-984762ba44c2',
  multihash: 'QmePKJNkw7RoEawMWL81aRgWncBtPi7CpuwLyU4eH32LqE',
  sourceFile: '418ef6d9-03c6-4d35-b809-b7bf14a55a38.mp3',
  storagePath:
   '/file_storage/QmePKJNkw7RoEawMWL81aRgWncBtPi7CpuwLyU4eH32LqE',
  type: 'copy320',
  trackUUID: '3f30d407-ea5d-4710-980d-dc59ca25cc3e',
  updatedAt: 2020-03-05T17:40:45.178Z,
  createdAt: 2020-03-05T17:40:45.178Z }




PROCESSING ROW #216: sourcefile: d9b7c130-cc0e-42c8-9d63-9f3bf91ab63d.mp3, cnodeUserUUID: 61375eee-111f-48df-b4ff-d8fec33921e2, trackUUID: c77c6a3f-4e6c-4f84-ae78-41c8d7b83f44, multihash: QmPgkYe8tSsP9Ygv9JQpuppjCCZesz3PzGsYXb2CvaX66L, dstPath: /file_storage/QmPgkYe8tSsP9Ygv9JQpuppjCCZesz3PzGsYXb2CvaX66L
writing to db1...
Executing (bf0fe4ac-8976-4540-a401-1ce7103c85e1): START TRANSACTION;
Executing (bf0fe4ac-8976-4540-a401-1ce7103c85e1): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '61375eee-111f-48df-b4ff-d8fec33921e2' AND "File"."multihash" = 'QmPgkYe8tSsP9Ygv9JQpuppjCCZesz3PzGsYXb2CvaX66L' AND "File"."sourceFile" = 'd9b7c130-cc0e-42c8-9d63-9f3bf91ab63d.mp3' AND "File"."storagePath" = '/file_storage/QmPgkYe8tSsP9Ygv9JQpuppjCCZesz3PzGsYXb2CvaX66L' AND "File"."type" = 'copy320' AND "File"."trackUUID" = 'c77c6a3f-4e6c-4f84-ae78-41c8d7b83f44' LIMIT 1;
Executing (bf0fe4ac-8976-4540-a401-1ce7103c85e1): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_67b130a82fae4a928b568b80b2951d33$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('9478b336-fb7c-49ae-ad5d-e2dc11007f82','61375eee-111f-48df-b4ff-d8fec33921e2','c77c6a3f-4e6c-4f84-ae78-41c8d7b83f44','QmPgkYe8tSsP9Ygv9JQpuppjCCZesz3PzGsYXb2CvaX66L','d9b7c130-cc0e-42c8-9d63-9f3bf91ab63d.mp3','/file_storage/QmPgkYe8tSsP9Ygv9JQpuppjCCZesz3PzGsYXb2CvaX66L','copy320','2020-03-05 17:40:45.579 +00:00','2020-03-05 17:40:45.579 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_67b130a82fae4a928b568b80b2951d33$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (bf0fe4ac-8976-4540-a401-1ce7103c85e1): COMMIT;
{ SequelizeForeignKeyConstraintError: insert or update on table "Files" violates foreign key constraint "Files_cnodeUserUUID_fkey"
    at Query.formatError (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/sequelize/lib/dialects/postgres/query.js:296:16)
    at query.catch.err (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/sequelize/lib/dialects/postgres/query.js:86:18)
    at tryCatcher (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/bluebird/js/release/util.js:16:23)
    at Promise._settlePromiseFromHandler (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/bluebird/js/release/promise.js:517:31)
    at Promise._settlePromise (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/bluebird/js/release/promise.js:574:18)
    at Promise._settlePromise0 (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/bluebird/js/release/promise.js:619:10)
    at Promise._settlePromises (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/bluebird/js/release/promise.js:695:18)
    at _drainQueueStep (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/bluebird/js/release/async.js:138:12)
    at _drainQueue (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/bluebird/js/release/async.js:131:9)
    at Async._drainQueues (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/bluebird/js/release/async.js:147:5)
    at Immediate.Async.drainQueues [as _onImmediate] (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/bluebird/js/release/async.js:17:14)
    at runCallback (timers.js:705:18)
    at tryOnImmediate (timers.js:676:5)
    at processImmediate (timers.js:658:5)
  name: 'SequelizeForeignKeyConstraintError',
  parent:
   { error: insert or update on table "Files" violates foreign key constraint "Files_cnodeUserUUID_fkey"
       at Connection.parseE (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/pg/lib/connection.js:604:11)
       at Connection.parseMessage (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/pg/lib/connection.js:401:19)
       at Socket.<anonymous> (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/pg/lib/connection.js:121:22)
       at Socket.emit (events.js:198:13)
       at addChunk (_stream_readable.js:288:12)
       at readableAddChunk (_stream_readable.js:269:11)
       at Socket.Readable.push (_stream_readable.js:224:10)
       at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)
     name: 'error',
     length: 881,
     severity: 'ERROR',
     code: '23503',
     detail:
      'Key (cnodeUserUUID)=(61375eee-111f-48df-b4ff-d8fec33921e2) is not present in table "CNodeUsers".',
     hint: undefined,
     position: undefined,
     internalPosition: undefined,
     internalQuery: undefined,
     where:
      'SQL statement "INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES (\'9478b336-fb7c-49ae-ad5d-e2dc11007f82\',\'61375eee-111f-48df-b4ff-d8fec33921e2\',\'c77c6a3f-4e6c-4f84-ae78-41c8d7b83f44\',\'QmPgkYe8tSsP9Ygv9JQpuppjCCZesz3PzGsYXb2CvaX66L\',\'d9b7c130-cc0e-42c8-9d63-9f3bf91ab63d.mp3\',\'/file_storage/QmPgkYe8tSsP9Ygv9JQpuppjCCZesz3PzGsYXb2CvaX66L\',\'copy320\',\'2020-03-05 17:40:45.579 +00:00\',\'2020-03-05 17:40:45.579 +00:00\') RETURNING *"\nPL/pgSQL function pg_temp_12.testfunc() line 1 at SQL statement',
     schema: 'public',
     table: 'Files',
     column: undefined,
     dataType: undefined,
     constraint: 'Files_cnodeUserUUID_fkey',
     file: 'ri_triggers.c',
     line: '2783',
     routine: 'ri_ReportViolation',
     sql:
      'CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_67b130a82fae4a928b568b80b2951d33$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES (\'9478b336-fb7c-49ae-ad5d-e2dc11007f82\',\'61375eee-111f-48df-b4ff-d8fec33921e2\',\'c77c6a3f-4e6c-4f84-ae78-41c8d7b83f44\',\'QmPgkYe8tSsP9Ygv9JQpuppjCCZesz3PzGsYXb2CvaX66L\',\'d9b7c130-cc0e-42c8-9d63-9f3bf91ab63d.mp3\',\'/file_storage/QmPgkYe8tSsP9Ygv9JQpuppjCCZesz3PzGsYXb2CvaX66L\',\'copy320\',\'2020-03-05 17:40:45.579 +00:00\',\'2020-03-05 17:40:45.579 +00:00\') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_67b130a82fae4a928b568b80b2951d33$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();' },
  original:
   { error: insert or update on table "Files" violates foreign key constraint "Files_cnodeUserUUID_fkey"
       at Connection.parseE (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/pg/lib/connection.js:604:11)
       at Connection.parseMessage (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/pg/lib/connection.js:401:19)
       at Socket.<anonymous> (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/pg/lib/connection.js:121:22)
       at Socket.emit (events.js:198:13)
       at addChunk (_stream_readable.js:288:12)
       at readableAddChunk (_stream_readable.js:269:11)
       at Socket.Readable.push (_stream_readable.js:224:10)
       at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)
     name: 'error',
     length: 881,
     severity: 'ERROR',
     code: '23503',
     detail:
      'Key (cnodeUserUUID)=(61375eee-111f-48df-b4ff-d8fec33921e2) is not present in table "CNodeUsers".',
     hint: undefined,
     position: undefined,
     internalPosition: undefined,
     internalQuery: undefined,
     where:
      'SQL statement "INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES (\'9478b336-fb7c-49ae-ad5d-e2dc11007f82\',\'61375eee-111f-48df-b4ff-d8fec33921e2\',\'c77c6a3f-4e6c-4f84-ae78-41c8d7b83f44\',\'QmPgkYe8tSsP9Ygv9JQpuppjCCZesz3PzGsYXb2CvaX66L\',\'d9b7c130-cc0e-42c8-9d63-9f3bf91ab63d.mp3\',\'/file_storage/QmPgkYe8tSsP9Ygv9JQpuppjCCZesz3PzGsYXb2CvaX66L\',\'copy320\',\'2020-03-05 17:40:45.579 +00:00\',\'2020-03-05 17:40:45.579 +00:00\') RETURNING *"\nPL/pgSQL function pg_temp_12.testfunc() line 1 at SQL statement',
     schema: 'public',
     table: 'Files',
     column: undefined,
     dataType: undefined,
     constraint: 'Files_cnodeUserUUID_fkey',
     file: 'ri_triggers.c',
     line: '2783',
     routine: 'ri_ReportViolation',
     sql:
      'CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_67b130a82fae4a928b568b80b2951d33$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES (\'9478b336-fb7c-49ae-ad5d-e2dc11007f82\',\'61375eee-111f-48df-b4ff-d8fec33921e2\',\'c77c6a3f-4e6c-4f84-ae78-41c8d7b83f44\',\'QmPgkYe8tSsP9Ygv9JQpuppjCCZesz3PzGsYXb2CvaX66L\',\'d9b7c130-cc0e-42c8-9d63-9f3bf91ab63d.mp3\',\'/file_storage/QmPgkYe8tSsP9Ygv9JQpuppjCCZesz3PzGsYXb2CvaX66L\',\'copy320\',\'2020-03-05 17:40:45.579 +00:00\',\'2020-03-05 17:40:45.579 +00:00\') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_67b130a82fae4a928b568b80b2951d33$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();' },
  sql:
   'CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_67b130a82fae4a928b568b80b2951d33$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES (\'9478b336-fb7c-49ae-ad5d-e2dc11007f82\',\'61375eee-111f-48df-b4ff-d8fec33921e2\',\'c77c6a3f-4e6c-4f84-ae78-41c8d7b83f44\',\'QmPgkYe8tSsP9Ygv9JQpuppjCCZesz3PzGsYXb2CvaX66L\',\'d9b7c130-cc0e-42c8-9d63-9f3bf91ab63d.mp3\',\'/file_storage/QmPgkYe8tSsP9Ygv9JQpuppjCCZesz3PzGsYXb2CvaX66L\',\'copy320\',\'2020-03-05 17:40:45.579 +00:00\',\'2020-03-05 17:40:45.579 +00:00\') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_67b130a82fae4a928b568b80b2951d33$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();',
  fields: null,
  table: 'Files',
  value: undefined,
  index: 'Files_cnodeUserUUID_fkey',
  reltype: undefined }
writing to db2...
Executing (d46fbd1a-cf4b-4482-9159-709769507728): START TRANSACTION;
Executing (d46fbd1a-cf4b-4482-9159-709769507728): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '61375eee-111f-48df-b4ff-d8fec33921e2' AND "File"."multihash" = 'QmPgkYe8tSsP9Ygv9JQpuppjCCZesz3PzGsYXb2CvaX66L' AND "File"."sourceFile" = 'd9b7c130-cc0e-42c8-9d63-9f3bf91ab63d.mp3' AND "File"."storagePath" = '/file_storage/QmPgkYe8tSsP9Ygv9JQpuppjCCZesz3PzGsYXb2CvaX66L' AND "File"."type" = 'copy320' AND "File"."trackUUID" = 'c77c6a3f-4e6c-4f84-ae78-41c8d7b83f44' LIMIT 1;
Executing (d46fbd1a-cf4b-4482-9159-709769507728): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_07cfd9a82b544de0bb5ad3f1a129355f$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('ce64715f-2581-4575-845f-641aa9e8bee0','61375eee-111f-48df-b4ff-d8fec33921e2','c77c6a3f-4e6c-4f84-ae78-41c8d7b83f44','QmPgkYe8tSsP9Ygv9JQpuppjCCZesz3PzGsYXb2CvaX66L','d9b7c130-cc0e-42c8-9d63-9f3bf91ab63d.mp3','/file_storage/QmPgkYe8tSsP9Ygv9JQpuppjCCZesz3PzGsYXb2CvaX66L','copy320','2020-03-05 17:40:45.975 +00:00','2020-03-05 17:40:45.975 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_07cfd9a82b544de0bb5ad3f1a129355f$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (d46fbd1a-cf4b-4482-9159-709769507728): COMMIT;
{ fileUUID: 'ce64715f-2581-4575-845f-641aa9e8bee0',
  cnodeUserUUID: '61375eee-111f-48df-b4ff-d8fec33921e2',
  multihash: 'QmPgkYe8tSsP9Ygv9JQpuppjCCZesz3PzGsYXb2CvaX66L',
  sourceFile: 'd9b7c130-cc0e-42c8-9d63-9f3bf91ab63d.mp3',
  storagePath:
   '/file_storage/QmPgkYe8tSsP9Ygv9JQpuppjCCZesz3PzGsYXb2CvaX66L',
  type: 'copy320',
  trackUUID: 'c77c6a3f-4e6c-4f84-ae78-41c8d7b83f44',
  updatedAt: 2020-03-05T17:40:45.975Z,
  createdAt: 2020-03-05T17:40:45.975Z }
writing to db3...
Executing (4f6627a8-c42e-4103-b033-34471d80845f): START TRANSACTION;
Executing (4f6627a8-c42e-4103-b033-34471d80845f): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '61375eee-111f-48df-b4ff-d8fec33921e2' AND "File"."multihash" = 'QmPgkYe8tSsP9Ygv9JQpuppjCCZesz3PzGsYXb2CvaX66L' AND "File"."sourceFile" = 'd9b7c130-cc0e-42c8-9d63-9f3bf91ab63d.mp3' AND "File"."storagePath" = '/file_storage/QmPgkYe8tSsP9Ygv9JQpuppjCCZesz3PzGsYXb2CvaX66L' AND "File"."type" = 'copy320' AND "File"."trackUUID" = 'c77c6a3f-4e6c-4f84-ae78-41c8d7b83f44' LIMIT 1;
Executing (4f6627a8-c42e-4103-b033-34471d80845f): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_d513ba4c29794ee0b7e7c6fb2c4f33ab$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('009b4492-2b27-43a8-89e7-c45c4240cd5f','61375eee-111f-48df-b4ff-d8fec33921e2','c77c6a3f-4e6c-4f84-ae78-41c8d7b83f44','QmPgkYe8tSsP9Ygv9JQpuppjCCZesz3PzGsYXb2CvaX66L','d9b7c130-cc0e-42c8-9d63-9f3bf91ab63d.mp3','/file_storage/QmPgkYe8tSsP9Ygv9JQpuppjCCZesz3PzGsYXb2CvaX66L','copy320','2020-03-05 17:40:46.370 +00:00','2020-03-05 17:40:46.370 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_d513ba4c29794ee0b7e7c6fb2c4f33ab$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (4f6627a8-c42e-4103-b033-34471d80845f): COMMIT;
{ fileUUID: '009b4492-2b27-43a8-89e7-c45c4240cd5f',
  cnodeUserUUID: '61375eee-111f-48df-b4ff-d8fec33921e2',
  multihash: 'QmPgkYe8tSsP9Ygv9JQpuppjCCZesz3PzGsYXb2CvaX66L',
  sourceFile: 'd9b7c130-cc0e-42c8-9d63-9f3bf91ab63d.mp3',
  storagePath:
   '/file_storage/QmPgkYe8tSsP9Ygv9JQpuppjCCZesz3PzGsYXb2CvaX66L',
  type: 'copy320',
  trackUUID: 'c77c6a3f-4e6c-4f84-ae78-41c8d7b83f44',
  updatedAt: 2020-03-05T17:40:46.370Z,
  createdAt: 2020-03-05T17:40:46.370Z }




PROCESSING ROW #217: sourcefile: 978dfb69-8cb9-46c4-a34e-0742f8e77a3a.mp3, cnodeUserUUID: 59ed7980-7e92-4a84-a1e4-17f5f7aabc44, trackUUID: fd911206-9e53-42e4-b3d1-a0b41073be04, multihash: QmVE68yfD9EV15m5eSbHBu7uCPA4bxFJrsrbAbcYahwnky, dstPath: /file_storage/QmVE68yfD9EV15m5eSbHBu7uCPA4bxFJrsrbAbcYahwnky
writing to db1...
Executing (bcfc12f8-8dea-4130-9749-87f4a161a5a3): START TRANSACTION;
Executing (bcfc12f8-8dea-4130-9749-87f4a161a5a3): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '59ed7980-7e92-4a84-a1e4-17f5f7aabc44' AND "File"."multihash" = 'QmVE68yfD9EV15m5eSbHBu7uCPA4bxFJrsrbAbcYahwnky' AND "File"."sourceFile" = '978dfb69-8cb9-46c4-a34e-0742f8e77a3a.mp3' AND "File"."storagePath" = '/file_storage/QmVE68yfD9EV15m5eSbHBu7uCPA4bxFJrsrbAbcYahwnky' AND "File"."type" = 'copy320' AND "File"."trackUUID" = 'fd911206-9e53-42e4-b3d1-a0b41073be04' LIMIT 1;
Executing (bcfc12f8-8dea-4130-9749-87f4a161a5a3): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_3f4e77b627d64879bf749d5bc1d68d2a$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('17c698c9-8b2d-4a62-b3f3-e71c7797d629','59ed7980-7e92-4a84-a1e4-17f5f7aabc44','fd911206-9e53-42e4-b3d1-a0b41073be04','QmVE68yfD9EV15m5eSbHBu7uCPA4bxFJrsrbAbcYahwnky','978dfb69-8cb9-46c4-a34e-0742f8e77a3a.mp3','/file_storage/QmVE68yfD9EV15m5eSbHBu7uCPA4bxFJrsrbAbcYahwnky','copy320','2020-03-05 17:40:46.772 +00:00','2020-03-05 17:40:46.772 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_3f4e77b627d64879bf749d5bc1d68d2a$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (bcfc12f8-8dea-4130-9749-87f4a161a5a3): COMMIT;
{ SequelizeForeignKeyConstraintError: insert or update on table "Files" violates foreign key constraint "Files_cnodeUserUUID_fkey"
    at Query.formatError (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/sequelize/lib/dialects/postgres/query.js:296:16)
    at query.catch.err (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/sequelize/lib/dialects/postgres/query.js:86:18)
    at tryCatcher (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/bluebird/js/release/util.js:16:23)
    at Promise._settlePromiseFromHandler (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/bluebird/js/release/promise.js:517:31)
    at Promise._settlePromise (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/bluebird/js/release/promise.js:574:18)
    at Promise._settlePromise0 (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/bluebird/js/release/promise.js:619:10)
    at Promise._settlePromises (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/bluebird/js/release/promise.js:695:18)
    at _drainQueueStep (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/bluebird/js/release/async.js:138:12)
    at _drainQueue (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/bluebird/js/release/async.js:131:9)
    at Async._drainQueues (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/bluebird/js/release/async.js:147:5)
    at Immediate.Async.drainQueues [as _onImmediate] (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/bluebird/js/release/async.js:17:14)
    at runCallback (timers.js:705:18)
    at tryOnImmediate (timers.js:676:5)
    at processImmediate (timers.js:658:5)
  name: 'SequelizeForeignKeyConstraintError',
  parent:
   { error: insert or update on table "Files" violates foreign key constraint "Files_cnodeUserUUID_fkey"
       at Connection.parseE (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/pg/lib/connection.js:604:11)
       at Connection.parseMessage (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/pg/lib/connection.js:401:19)
       at Socket.<anonymous> (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/pg/lib/connection.js:121:22)
       at Socket.emit (events.js:198:13)
       at addChunk (_stream_readable.js:288:12)
       at readableAddChunk (_stream_readable.js:269:11)
       at Socket.Readable.push (_stream_readable.js:224:10)
       at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)
     name: 'error',
     length: 881,
     severity: 'ERROR',
     code: '23503',
     detail:
      'Key (cnodeUserUUID)=(59ed7980-7e92-4a84-a1e4-17f5f7aabc44) is not present in table "CNodeUsers".',
     hint: undefined,
     position: undefined,
     internalPosition: undefined,
     internalQuery: undefined,
     where:
      'SQL statement "INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES (\'17c698c9-8b2d-4a62-b3f3-e71c7797d629\',\'59ed7980-7e92-4a84-a1e4-17f5f7aabc44\',\'fd911206-9e53-42e4-b3d1-a0b41073be04\',\'QmVE68yfD9EV15m5eSbHBu7uCPA4bxFJrsrbAbcYahwnky\',\'978dfb69-8cb9-46c4-a34e-0742f8e77a3a.mp3\',\'/file_storage/QmVE68yfD9EV15m5eSbHBu7uCPA4bxFJrsrbAbcYahwnky\',\'copy320\',\'2020-03-05 17:40:46.772 +00:00\',\'2020-03-05 17:40:46.772 +00:00\') RETURNING *"\nPL/pgSQL function pg_temp_15.testfunc() line 1 at SQL statement',
     schema: 'public',
     table: 'Files',
     column: undefined,
     dataType: undefined,
     constraint: 'Files_cnodeUserUUID_fkey',
     file: 'ri_triggers.c',
     line: '2783',
     routine: 'ri_ReportViolation',
     sql:
      'CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_3f4e77b627d64879bf749d5bc1d68d2a$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES (\'17c698c9-8b2d-4a62-b3f3-e71c7797d629\',\'59ed7980-7e92-4a84-a1e4-17f5f7aabc44\',\'fd911206-9e53-42e4-b3d1-a0b41073be04\',\'QmVE68yfD9EV15m5eSbHBu7uCPA4bxFJrsrbAbcYahwnky\',\'978dfb69-8cb9-46c4-a34e-0742f8e77a3a.mp3\',\'/file_storage/QmVE68yfD9EV15m5eSbHBu7uCPA4bxFJrsrbAbcYahwnky\',\'copy320\',\'2020-03-05 17:40:46.772 +00:00\',\'2020-03-05 17:40:46.772 +00:00\') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_3f4e77b627d64879bf749d5bc1d68d2a$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();' },
  original:
   { error: insert or update on table "Files" violates foreign key constraint "Files_cnodeUserUUID_fkey"
       at Connection.parseE (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/pg/lib/connection.js:604:11)
       at Connection.parseMessage (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/pg/lib/connection.js:401:19)
       at Socket.<anonymous> (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/pg/lib/connection.js:121:22)
       at Socket.emit (events.js:198:13)
       at addChunk (_stream_readable.js:288:12)
       at readableAddChunk (_stream_readable.js:269:11)
       at Socket.Readable.push (_stream_readable.js:224:10)
       at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)
     name: 'error',
     length: 881,
     severity: 'ERROR',
     code: '23503',
     detail:
      'Key (cnodeUserUUID)=(59ed7980-7e92-4a84-a1e4-17f5f7aabc44) is not present in table "CNodeUsers".',
     hint: undefined,
     position: undefined,
     internalPosition: undefined,
     internalQuery: undefined,
     where:
      'SQL statement "INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES (\'17c698c9-8b2d-4a62-b3f3-e71c7797d629\',\'59ed7980-7e92-4a84-a1e4-17f5f7aabc44\',\'fd911206-9e53-42e4-b3d1-a0b41073be04\',\'QmVE68yfD9EV15m5eSbHBu7uCPA4bxFJrsrbAbcYahwnky\',\'978dfb69-8cb9-46c4-a34e-0742f8e77a3a.mp3\',\'/file_storage/QmVE68yfD9EV15m5eSbHBu7uCPA4bxFJrsrbAbcYahwnky\',\'copy320\',\'2020-03-05 17:40:46.772 +00:00\',\'2020-03-05 17:40:46.772 +00:00\') RETURNING *"\nPL/pgSQL function pg_temp_15.testfunc() line 1 at SQL statement',
     schema: 'public',
     table: 'Files',
     column: undefined,
     dataType: undefined,
     constraint: 'Files_cnodeUserUUID_fkey',
     file: 'ri_triggers.c',
     line: '2783',
     routine: 'ri_ReportViolation',
     sql:
      'CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_3f4e77b627d64879bf749d5bc1d68d2a$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES (\'17c698c9-8b2d-4a62-b3f3-e71c7797d629\',\'59ed7980-7e92-4a84-a1e4-17f5f7aabc44\',\'fd911206-9e53-42e4-b3d1-a0b41073be04\',\'QmVE68yfD9EV15m5eSbHBu7uCPA4bxFJrsrbAbcYahwnky\',\'978dfb69-8cb9-46c4-a34e-0742f8e77a3a.mp3\',\'/file_storage/QmVE68yfD9EV15m5eSbHBu7uCPA4bxFJrsrbAbcYahwnky\',\'copy320\',\'2020-03-05 17:40:46.772 +00:00\',\'2020-03-05 17:40:46.772 +00:00\') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_3f4e77b627d64879bf749d5bc1d68d2a$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();' },
  sql:
   'CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_3f4e77b627d64879bf749d5bc1d68d2a$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES (\'17c698c9-8b2d-4a62-b3f3-e71c7797d629\',\'59ed7980-7e92-4a84-a1e4-17f5f7aabc44\',\'fd911206-9e53-42e4-b3d1-a0b41073be04\',\'QmVE68yfD9EV15m5eSbHBu7uCPA4bxFJrsrbAbcYahwnky\',\'978dfb69-8cb9-46c4-a34e-0742f8e77a3a.mp3\',\'/file_storage/QmVE68yfD9EV15m5eSbHBu7uCPA4bxFJrsrbAbcYahwnky\',\'copy320\',\'2020-03-05 17:40:46.772 +00:00\',\'2020-03-05 17:40:46.772 +00:00\') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_3f4e77b627d64879bf749d5bc1d68d2a$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();',
  fields: null,
  table: 'Files',
  value: undefined,
  index: 'Files_cnodeUserUUID_fkey',
  reltype: undefined }
writing to db2...
Executing (95fd8c61-d618-4cbf-acbc-de55fb6fdd75): START TRANSACTION;
Executing (95fd8c61-d618-4cbf-acbc-de55fb6fdd75): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '59ed7980-7e92-4a84-a1e4-17f5f7aabc44' AND "File"."multihash" = 'QmVE68yfD9EV15m5eSbHBu7uCPA4bxFJrsrbAbcYahwnky' AND "File"."sourceFile" = '978dfb69-8cb9-46c4-a34e-0742f8e77a3a.mp3' AND "File"."storagePath" = '/file_storage/QmVE68yfD9EV15m5eSbHBu7uCPA4bxFJrsrbAbcYahwnky' AND "File"."type" = 'copy320' AND "File"."trackUUID" = 'fd911206-9e53-42e4-b3d1-a0b41073be04' LIMIT 1;
Executing (95fd8c61-d618-4cbf-acbc-de55fb6fdd75): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_e0fbe2b3a2d544ca8068a776ea7efd1d$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('f5c2bee8-217e-47fd-a36c-b0733543d821','59ed7980-7e92-4a84-a1e4-17f5f7aabc44','fd911206-9e53-42e4-b3d1-a0b41073be04','QmVE68yfD9EV15m5eSbHBu7uCPA4bxFJrsrbAbcYahwnky','978dfb69-8cb9-46c4-a34e-0742f8e77a3a.mp3','/file_storage/QmVE68yfD9EV15m5eSbHBu7uCPA4bxFJrsrbAbcYahwnky','copy320','2020-03-05 17:40:47.161 +00:00','2020-03-05 17:40:47.161 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_e0fbe2b3a2d544ca8068a776ea7efd1d$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (95fd8c61-d618-4cbf-acbc-de55fb6fdd75): COMMIT;
{ fileUUID: 'f5c2bee8-217e-47fd-a36c-b0733543d821',
  cnodeUserUUID: '59ed7980-7e92-4a84-a1e4-17f5f7aabc44',
  multihash: 'QmVE68yfD9EV15m5eSbHBu7uCPA4bxFJrsrbAbcYahwnky',
  sourceFile: '978dfb69-8cb9-46c4-a34e-0742f8e77a3a.mp3',
  storagePath:
   '/file_storage/QmVE68yfD9EV15m5eSbHBu7uCPA4bxFJrsrbAbcYahwnky',
  type: 'copy320',
  trackUUID: 'fd911206-9e53-42e4-b3d1-a0b41073be04',
  updatedAt: 2020-03-05T17:40:47.161Z,
  createdAt: 2020-03-05T17:40:47.161Z }
writing to db3...
Executing (906a9bf5-36cb-4c9b-a58a-636be29fcdf5): START TRANSACTION;
Executing (906a9bf5-36cb-4c9b-a58a-636be29fcdf5): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '59ed7980-7e92-4a84-a1e4-17f5f7aabc44' AND "File"."multihash" = 'QmVE68yfD9EV15m5eSbHBu7uCPA4bxFJrsrbAbcYahwnky' AND "File"."sourceFile" = '978dfb69-8cb9-46c4-a34e-0742f8e77a3a.mp3' AND "File"."storagePath" = '/file_storage/QmVE68yfD9EV15m5eSbHBu7uCPA4bxFJrsrbAbcYahwnky' AND "File"."type" = 'copy320' AND "File"."trackUUID" = 'fd911206-9e53-42e4-b3d1-a0b41073be04' LIMIT 1;
Executing (906a9bf5-36cb-4c9b-a58a-636be29fcdf5): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_aa9da6f0b3dc49779fcdaa82b8b02fa1$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('fae7e987-37f9-47a6-85ca-20b340e451d6','59ed7980-7e92-4a84-a1e4-17f5f7aabc44','fd911206-9e53-42e4-b3d1-a0b41073be04','QmVE68yfD9EV15m5eSbHBu7uCPA4bxFJrsrbAbcYahwnky','978dfb69-8cb9-46c4-a34e-0742f8e77a3a.mp3','/file_storage/QmVE68yfD9EV15m5eSbHBu7uCPA4bxFJrsrbAbcYahwnky','copy320','2020-03-05 17:40:47.554 +00:00','2020-03-05 17:40:47.554 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_aa9da6f0b3dc49779fcdaa82b8b02fa1$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (906a9bf5-36cb-4c9b-a58a-636be29fcdf5): COMMIT;
{ SequelizeForeignKeyConstraintError: insert or update on table "Files" violates foreign key constraint "Files_cnodeUserUUID_fkey"
    at Query.formatError (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/sequelize/lib/dialects/postgres/query.js:296:16)
    at query.catch.err (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/sequelize/lib/dialects/postgres/query.js:86:18)
    at tryCatcher (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/bluebird/js/release/util.js:16:23)
    at Promise._settlePromiseFromHandler (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/bluebird/js/release/promise.js:517:31)
    at Promise._settlePromise (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/bluebird/js/release/promise.js:574:18)
    at Promise._settlePromise0 (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/bluebird/js/release/promise.js:619:10)
    at Promise._settlePromises (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/bluebird/js/release/promise.js:695:18)
    at _drainQueueStep (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/bluebird/js/release/async.js:138:12)
    at _drainQueue (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/bluebird/js/release/async.js:131:9)
    at Async._drainQueues (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/bluebird/js/release/async.js:147:5)
    at Immediate.Async.drainQueues [as _onImmediate] (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/bluebird/js/release/async.js:17:14)
    at runCallback (timers.js:705:18)
    at tryOnImmediate (timers.js:676:5)
    at processImmediate (timers.js:658:5)
  name: 'SequelizeForeignKeyConstraintError',
  parent:
   { error: insert or update on table "Files" violates foreign key constraint "Files_cnodeUserUUID_fkey"
       at Connection.parseE (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/pg/lib/connection.js:604:11)
       at Connection.parseMessage (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/pg/lib/connection.js:401:19)
       at Socket.<anonymous> (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/pg/lib/connection.js:121:22)
       at Socket.emit (events.js:198:13)
       at addChunk (_stream_readable.js:288:12)
       at readableAddChunk (_stream_readable.js:269:11)
       at Socket.Readable.push (_stream_readable.js:224:10)
       at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)
     name: 'error',
     length: 881,
     severity: 'ERROR',
     code: '23503',
     detail:
      'Key (cnodeUserUUID)=(59ed7980-7e92-4a84-a1e4-17f5f7aabc44) is not present in table "CNodeUsers".',
     hint: undefined,
     position: undefined,
     internalPosition: undefined,
     internalQuery: undefined,
     where:
      'SQL statement "INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES (\'fae7e987-37f9-47a6-85ca-20b340e451d6\',\'59ed7980-7e92-4a84-a1e4-17f5f7aabc44\',\'fd911206-9e53-42e4-b3d1-a0b41073be04\',\'QmVE68yfD9EV15m5eSbHBu7uCPA4bxFJrsrbAbcYahwnky\',\'978dfb69-8cb9-46c4-a34e-0742f8e77a3a.mp3\',\'/file_storage/QmVE68yfD9EV15m5eSbHBu7uCPA4bxFJrsrbAbcYahwnky\',\'copy320\',\'2020-03-05 17:40:47.554 +00:00\',\'2020-03-05 17:40:47.554 +00:00\') RETURNING *"\nPL/pgSQL function pg_temp_68.testfunc() line 1 at SQL statement',
     schema: 'public',
     table: 'Files',
     column: undefined,
     dataType: undefined,
     constraint: 'Files_cnodeUserUUID_fkey',
     file: 'ri_triggers.c',
     line: '2783',
     routine: 'ri_ReportViolation',
     sql:
      'CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_aa9da6f0b3dc49779fcdaa82b8b02fa1$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES (\'fae7e987-37f9-47a6-85ca-20b340e451d6\',\'59ed7980-7e92-4a84-a1e4-17f5f7aabc44\',\'fd911206-9e53-42e4-b3d1-a0b41073be04\',\'QmVE68yfD9EV15m5eSbHBu7uCPA4bxFJrsrbAbcYahwnky\',\'978dfb69-8cb9-46c4-a34e-0742f8e77a3a.mp3\',\'/file_storage/QmVE68yfD9EV15m5eSbHBu7uCPA4bxFJrsrbAbcYahwnky\',\'copy320\',\'2020-03-05 17:40:47.554 +00:00\',\'2020-03-05 17:40:47.554 +00:00\') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_aa9da6f0b3dc49779fcdaa82b8b02fa1$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();' },
  original:
   { error: insert or update on table "Files" violates foreign key constraint "Files_cnodeUserUUID_fkey"
       at Connection.parseE (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/pg/lib/connection.js:604:11)
       at Connection.parseMessage (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/pg/lib/connection.js:401:19)
       at Socket.<anonymous> (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/pg/lib/connection.js:121:22)
       at Socket.emit (events.js:198:13)
       at addChunk (_stream_readable.js:288:12)
       at readableAddChunk (_stream_readable.js:269:11)
       at Socket.Readable.push (_stream_readable.js:224:10)
       at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)
     name: 'error',
     length: 881,
     severity: 'ERROR',
     code: '23503',
     detail:
      'Key (cnodeUserUUID)=(59ed7980-7e92-4a84-a1e4-17f5f7aabc44) is not present in table "CNodeUsers".',
     hint: undefined,
     position: undefined,
     internalPosition: undefined,
     internalQuery: undefined,
     where:
      'SQL statement "INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES (\'fae7e987-37f9-47a6-85ca-20b340e451d6\',\'59ed7980-7e92-4a84-a1e4-17f5f7aabc44\',\'fd911206-9e53-42e4-b3d1-a0b41073be04\',\'QmVE68yfD9EV15m5eSbHBu7uCPA4bxFJrsrbAbcYahwnky\',\'978dfb69-8cb9-46c4-a34e-0742f8e77a3a.mp3\',\'/file_storage/QmVE68yfD9EV15m5eSbHBu7uCPA4bxFJrsrbAbcYahwnky\',\'copy320\',\'2020-03-05 17:40:47.554 +00:00\',\'2020-03-05 17:40:47.554 +00:00\') RETURNING *"\nPL/pgSQL function pg_temp_68.testfunc() line 1 at SQL statement',
     schema: 'public',
     table: 'Files',
     column: undefined,
     dataType: undefined,
     constraint: 'Files_cnodeUserUUID_fkey',
     file: 'ri_triggers.c',
     line: '2783',
     routine: 'ri_ReportViolation',
     sql:
      'CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_aa9da6f0b3dc49779fcdaa82b8b02fa1$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES (\'fae7e987-37f9-47a6-85ca-20b340e451d6\',\'59ed7980-7e92-4a84-a1e4-17f5f7aabc44\',\'fd911206-9e53-42e4-b3d1-a0b41073be04\',\'QmVE68yfD9EV15m5eSbHBu7uCPA4bxFJrsrbAbcYahwnky\',\'978dfb69-8cb9-46c4-a34e-0742f8e77a3a.mp3\',\'/file_storage/QmVE68yfD9EV15m5eSbHBu7uCPA4bxFJrsrbAbcYahwnky\',\'copy320\',\'2020-03-05 17:40:47.554 +00:00\',\'2020-03-05 17:40:47.554 +00:00\') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_aa9da6f0b3dc49779fcdaa82b8b02fa1$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();' },
  sql:
   'CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_aa9da6f0b3dc49779fcdaa82b8b02fa1$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES (\'fae7e987-37f9-47a6-85ca-20b340e451d6\',\'59ed7980-7e92-4a84-a1e4-17f5f7aabc44\',\'fd911206-9e53-42e4-b3d1-a0b41073be04\',\'QmVE68yfD9EV15m5eSbHBu7uCPA4bxFJrsrbAbcYahwnky\',\'978dfb69-8cb9-46c4-a34e-0742f8e77a3a.mp3\',\'/file_storage/QmVE68yfD9EV15m5eSbHBu7uCPA4bxFJrsrbAbcYahwnky\',\'copy320\',\'2020-03-05 17:40:47.554 +00:00\',\'2020-03-05 17:40:47.554 +00:00\') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_aa9da6f0b3dc49779fcdaa82b8b02fa1$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();',
  fields: null,
  table: 'Files',
  value: undefined,
  index: 'Files_cnodeUserUUID_fkey',
  reltype: undefined }




PROCESSING ROW #218: sourcefile: a1871f93-7b7c-4a23-9200-ab0ccba3b947.mp3, cnodeUserUUID: fc86b27c-d45d-4eac-9d34-984762ba44c2, trackUUID: 4ac1426e-ccc5-4a44-8851-db42c5ce281f, multihash: QmVUvkVVj7k7reHHPAjFui44eKFuSvfUvYRTdgzjkrRgku, dstPath: /file_storage/QmVUvkVVj7k7reHHPAjFui44eKFuSvfUvYRTdgzjkrRgku
writing to db1...
Executing (af35509d-9dc2-4c2c-a3a1-7e692a9aed33): START TRANSACTION;
Executing (af35509d-9dc2-4c2c-a3a1-7e692a9aed33): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = 'fc86b27c-d45d-4eac-9d34-984762ba44c2' AND "File"."multihash" = 'QmVUvkVVj7k7reHHPAjFui44eKFuSvfUvYRTdgzjkrRgku' AND "File"."sourceFile" = 'a1871f93-7b7c-4a23-9200-ab0ccba3b947.mp3' AND "File"."storagePath" = '/file_storage/QmVUvkVVj7k7reHHPAjFui44eKFuSvfUvYRTdgzjkrRgku' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '4ac1426e-ccc5-4a44-8851-db42c5ce281f' LIMIT 1;
Executing (af35509d-9dc2-4c2c-a3a1-7e692a9aed33): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_d47188dc728f40419a891a3cf9f1fc09$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('70c5b5ee-48c6-4451-b52d-b3b6f7c3dd3e','fc86b27c-d45d-4eac-9d34-984762ba44c2','4ac1426e-ccc5-4a44-8851-db42c5ce281f','QmVUvkVVj7k7reHHPAjFui44eKFuSvfUvYRTdgzjkrRgku','a1871f93-7b7c-4a23-9200-ab0ccba3b947.mp3','/file_storage/QmVUvkVVj7k7reHHPAjFui44eKFuSvfUvYRTdgzjkrRgku','copy320','2020-03-05 17:40:47.950 +00:00','2020-03-05 17:40:47.950 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_d47188dc728f40419a891a3cf9f1fc09$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (af35509d-9dc2-4c2c-a3a1-7e692a9aed33): COMMIT;
{ SequelizeForeignKeyConstraintError: insert or update on table "Files" violates foreign key constraint "Files_trackUUID_fkey"
    at Query.formatError (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/sequelize/lib/dialects/postgres/query.js:296:16)
    at query.catch.err (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/sequelize/lib/dialects/postgres/query.js:86:18)
    at tryCatcher (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/bluebird/js/release/util.js:16:23)
    at Promise._settlePromiseFromHandler (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/bluebird/js/release/promise.js:517:31)
    at Promise._settlePromise (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/bluebird/js/release/promise.js:574:18)
    at Promise._settlePromise0 (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/bluebird/js/release/promise.js:619:10)
    at Promise._settlePromises (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/bluebird/js/release/promise.js:695:18)
    at _drainQueueStep (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/bluebird/js/release/async.js:138:12)
    at _drainQueue (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/bluebird/js/release/async.js:131:9)
    at Async._drainQueues (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/bluebird/js/release/async.js:147:5)
    at Immediate.Async.drainQueues [as _onImmediate] (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/bluebird/js/release/async.js:17:14)
    at runCallback (timers.js:705:18)
    at tryOnImmediate (timers.js:676:5)
    at processImmediate (timers.js:658:5)
  name: 'SequelizeForeignKeyConstraintError',
  parent:
   { error: insert or update on table "Files" violates foreign key constraint "Files_trackUUID_fkey"
       at Connection.parseE (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/pg/lib/connection.js:604:11)
       at Connection.parseMessage (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/pg/lib/connection.js:401:19)
       at Socket.<anonymous> (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/pg/lib/connection.js:121:22)
       at Socket.emit (events.js:198:13)
       at addChunk (_stream_readable.js:288:12)
       at readableAddChunk (_stream_readable.js:269:11)
       at Socket.Readable.push (_stream_readable.js:224:10)
       at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)
     name: 'error',
     length: 865,
     severity: 'ERROR',
     code: '23503',
     detail:
      'Key (trackUUID)=(4ac1426e-ccc5-4a44-8851-db42c5ce281f) is not present in table "Tracks".',
     hint: undefined,
     position: undefined,
     internalPosition: undefined,
     internalQuery: undefined,
     where:
      'SQL statement "INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES (\'70c5b5ee-48c6-4451-b52d-b3b6f7c3dd3e\',\'fc86b27c-d45d-4eac-9d34-984762ba44c2\',\'4ac1426e-ccc5-4a44-8851-db42c5ce281f\',\'QmVUvkVVj7k7reHHPAjFui44eKFuSvfUvYRTdgzjkrRgku\',\'a1871f93-7b7c-4a23-9200-ab0ccba3b947.mp3\',\'/file_storage/QmVUvkVVj7k7reHHPAjFui44eKFuSvfUvYRTdgzjkrRgku\',\'copy320\',\'2020-03-05 17:40:47.950 +00:00\',\'2020-03-05 17:40:47.950 +00:00\') RETURNING *"\nPL/pgSQL function pg_temp_14.testfunc() line 1 at SQL statement',
     schema: 'public',
     table: 'Files',
     column: undefined,
     dataType: undefined,
     constraint: 'Files_trackUUID_fkey',
     file: 'ri_triggers.c',
     line: '2783',
     routine: 'ri_ReportViolation',
     sql:
      'CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_d47188dc728f40419a891a3cf9f1fc09$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES (\'70c5b5ee-48c6-4451-b52d-b3b6f7c3dd3e\',\'fc86b27c-d45d-4eac-9d34-984762ba44c2\',\'4ac1426e-ccc5-4a44-8851-db42c5ce281f\',\'QmVUvkVVj7k7reHHPAjFui44eKFuSvfUvYRTdgzjkrRgku\',\'a1871f93-7b7c-4a23-9200-ab0ccba3b947.mp3\',\'/file_storage/QmVUvkVVj7k7reHHPAjFui44eKFuSvfUvYRTdgzjkrRgku\',\'copy320\',\'2020-03-05 17:40:47.950 +00:00\',\'2020-03-05 17:40:47.950 +00:00\') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_d47188dc728f40419a891a3cf9f1fc09$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();' },
  original:
   { error: insert or update on table "Files" violates foreign key constraint "Files_trackUUID_fkey"
       at Connection.parseE (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/pg/lib/connection.js:604:11)
       at Connection.parseMessage (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/pg/lib/connection.js:401:19)
       at Socket.<anonymous> (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/pg/lib/connection.js:121:22)
       at Socket.emit (events.js:198:13)
       at addChunk (_stream_readable.js:288:12)
       at readableAddChunk (_stream_readable.js:269:11)
       at Socket.Readable.push (_stream_readable.js:224:10)
       at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)
     name: 'error',
     length: 865,
     severity: 'ERROR',
     code: '23503',
     detail:
      'Key (trackUUID)=(4ac1426e-ccc5-4a44-8851-db42c5ce281f) is not present in table "Tracks".',
     hint: undefined,
     position: undefined,
     internalPosition: undefined,
     internalQuery: undefined,
     where:
      'SQL statement "INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES (\'70c5b5ee-48c6-4451-b52d-b3b6f7c3dd3e\',\'fc86b27c-d45d-4eac-9d34-984762ba44c2\',\'4ac1426e-ccc5-4a44-8851-db42c5ce281f\',\'QmVUvkVVj7k7reHHPAjFui44eKFuSvfUvYRTdgzjkrRgku\',\'a1871f93-7b7c-4a23-9200-ab0ccba3b947.mp3\',\'/file_storage/QmVUvkVVj7k7reHHPAjFui44eKFuSvfUvYRTdgzjkrRgku\',\'copy320\',\'2020-03-05 17:40:47.950 +00:00\',\'2020-03-05 17:40:47.950 +00:00\') RETURNING *"\nPL/pgSQL function pg_temp_14.testfunc() line 1 at SQL statement',
     schema: 'public',
     table: 'Files',
     column: undefined,
     dataType: undefined,
     constraint: 'Files_trackUUID_fkey',
     file: 'ri_triggers.c',
     line: '2783',
     routine: 'ri_ReportViolation',
     sql:
      'CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_d47188dc728f40419a891a3cf9f1fc09$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES (\'70c5b5ee-48c6-4451-b52d-b3b6f7c3dd3e\',\'fc86b27c-d45d-4eac-9d34-984762ba44c2\',\'4ac1426e-ccc5-4a44-8851-db42c5ce281f\',\'QmVUvkVVj7k7reHHPAjFui44eKFuSvfUvYRTdgzjkrRgku\',\'a1871f93-7b7c-4a23-9200-ab0ccba3b947.mp3\',\'/file_storage/QmVUvkVVj7k7reHHPAjFui44eKFuSvfUvYRTdgzjkrRgku\',\'copy320\',\'2020-03-05 17:40:47.950 +00:00\',\'2020-03-05 17:40:47.950 +00:00\') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_d47188dc728f40419a891a3cf9f1fc09$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();' },
  sql:
   'CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_d47188dc728f40419a891a3cf9f1fc09$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES (\'70c5b5ee-48c6-4451-b52d-b3b6f7c3dd3e\',\'fc86b27c-d45d-4eac-9d34-984762ba44c2\',\'4ac1426e-ccc5-4a44-8851-db42c5ce281f\',\'QmVUvkVVj7k7reHHPAjFui44eKFuSvfUvYRTdgzjkrRgku\',\'a1871f93-7b7c-4a23-9200-ab0ccba3b947.mp3\',\'/file_storage/QmVUvkVVj7k7reHHPAjFui44eKFuSvfUvYRTdgzjkrRgku\',\'copy320\',\'2020-03-05 17:40:47.950 +00:00\',\'2020-03-05 17:40:47.950 +00:00\') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_d47188dc728f40419a891a3cf9f1fc09$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();',
  fields: null,
  table: 'Files',
  value: undefined,
  index: 'Files_trackUUID_fkey',
  reltype: undefined }
writing to db2...
Executing (6cb50dbc-dcb3-4c2c-bc48-7a495952a2f7): START TRANSACTION;
Executing (6cb50dbc-dcb3-4c2c-bc48-7a495952a2f7): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = 'fc86b27c-d45d-4eac-9d34-984762ba44c2' AND "File"."multihash" = 'QmVUvkVVj7k7reHHPAjFui44eKFuSvfUvYRTdgzjkrRgku' AND "File"."sourceFile" = 'a1871f93-7b7c-4a23-9200-ab0ccba3b947.mp3' AND "File"."storagePath" = '/file_storage/QmVUvkVVj7k7reHHPAjFui44eKFuSvfUvYRTdgzjkrRgku' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '4ac1426e-ccc5-4a44-8851-db42c5ce281f' LIMIT 1;
Executing (6cb50dbc-dcb3-4c2c-bc48-7a495952a2f7): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_c851a54cfd7b4ac4ab18daabc3072f97$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('f9db48aa-949b-4f9e-8bae-ca47e85b8b86','fc86b27c-d45d-4eac-9d34-984762ba44c2','4ac1426e-ccc5-4a44-8851-db42c5ce281f','QmVUvkVVj7k7reHHPAjFui44eKFuSvfUvYRTdgzjkrRgku','a1871f93-7b7c-4a23-9200-ab0ccba3b947.mp3','/file_storage/QmVUvkVVj7k7reHHPAjFui44eKFuSvfUvYRTdgzjkrRgku','copy320','2020-03-05 17:40:48.359 +00:00','2020-03-05 17:40:48.359 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_c851a54cfd7b4ac4ab18daabc3072f97$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (6cb50dbc-dcb3-4c2c-bc48-7a495952a2f7): COMMIT;
{ fileUUID: 'f9db48aa-949b-4f9e-8bae-ca47e85b8b86',
  cnodeUserUUID: 'fc86b27c-d45d-4eac-9d34-984762ba44c2',
  multihash: 'QmVUvkVVj7k7reHHPAjFui44eKFuSvfUvYRTdgzjkrRgku',
  sourceFile: 'a1871f93-7b7c-4a23-9200-ab0ccba3b947.mp3',
  storagePath:
   '/file_storage/QmVUvkVVj7k7reHHPAjFui44eKFuSvfUvYRTdgzjkrRgku',
  type: 'copy320',
  trackUUID: '4ac1426e-ccc5-4a44-8851-db42c5ce281f',
  updatedAt: 2020-03-05T17:40:48.359Z,
  createdAt: 2020-03-05T17:40:48.359Z }
writing to db3...
Executing (bfb40c4e-8a9f-4152-834f-cbfc5bf95763): START TRANSACTION;
Executing (bfb40c4e-8a9f-4152-834f-cbfc5bf95763): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = 'fc86b27c-d45d-4eac-9d34-984762ba44c2' AND "File"."multihash" = 'QmVUvkVVj7k7reHHPAjFui44eKFuSvfUvYRTdgzjkrRgku' AND "File"."sourceFile" = 'a1871f93-7b7c-4a23-9200-ab0ccba3b947.mp3' AND "File"."storagePath" = '/file_storage/QmVUvkVVj7k7reHHPAjFui44eKFuSvfUvYRTdgzjkrRgku' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '4ac1426e-ccc5-4a44-8851-db42c5ce281f' LIMIT 1;
Executing (bfb40c4e-8a9f-4152-834f-cbfc5bf95763): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_1a48a1f4ead0425ba33b18a49e373622$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('4d8279be-1902-4c7c-8728-53a12b112ab8','fc86b27c-d45d-4eac-9d34-984762ba44c2','4ac1426e-ccc5-4a44-8851-db42c5ce281f','QmVUvkVVj7k7reHHPAjFui44eKFuSvfUvYRTdgzjkrRgku','a1871f93-7b7c-4a23-9200-ab0ccba3b947.mp3','/file_storage/QmVUvkVVj7k7reHHPAjFui44eKFuSvfUvYRTdgzjkrRgku','copy320','2020-03-05 17:40:48.747 +00:00','2020-03-05 17:40:48.747 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_1a48a1f4ead0425ba33b18a49e373622$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (bfb40c4e-8a9f-4152-834f-cbfc5bf95763): COMMIT;
{ fileUUID: '4d8279be-1902-4c7c-8728-53a12b112ab8',
  cnodeUserUUID: 'fc86b27c-d45d-4eac-9d34-984762ba44c2',
  multihash: 'QmVUvkVVj7k7reHHPAjFui44eKFuSvfUvYRTdgzjkrRgku',
  sourceFile: 'a1871f93-7b7c-4a23-9200-ab0ccba3b947.mp3',
  storagePath:
   '/file_storage/QmVUvkVVj7k7reHHPAjFui44eKFuSvfUvYRTdgzjkrRgku',
  type: 'copy320',
  trackUUID: '4ac1426e-ccc5-4a44-8851-db42c5ce281f',
  updatedAt: 2020-03-05T17:40:48.747Z,
  createdAt: 2020-03-05T17:40:48.747Z }




PROCESSING ROW #219: sourcefile: b48813e3-46b3-4200-b27d-039334b2a6d5.mp3, cnodeUserUUID: 61375eee-111f-48df-b4ff-d8fec33921e2, trackUUID: bf33a249-7094-4d1e-ba51-cb6737ff3d45, multihash: QmPunuTbU4WtrGGBbVLtbCPWMD17huULmAqyHHgq7vK3jj, dstPath: /file_storage/QmPunuTbU4WtrGGBbVLtbCPWMD17huULmAqyHHgq7vK3jj
writing to db1...
Executing (fbd7e65a-bd04-4097-b60c-c4848ce74d05): START TRANSACTION;
Executing (fbd7e65a-bd04-4097-b60c-c4848ce74d05): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '61375eee-111f-48df-b4ff-d8fec33921e2' AND "File"."multihash" = 'QmPunuTbU4WtrGGBbVLtbCPWMD17huULmAqyHHgq7vK3jj' AND "File"."sourceFile" = 'b48813e3-46b3-4200-b27d-039334b2a6d5.mp3' AND "File"."storagePath" = '/file_storage/QmPunuTbU4WtrGGBbVLtbCPWMD17huULmAqyHHgq7vK3jj' AND "File"."type" = 'copy320' AND "File"."trackUUID" = 'bf33a249-7094-4d1e-ba51-cb6737ff3d45' LIMIT 1;
Executing (fbd7e65a-bd04-4097-b60c-c4848ce74d05): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_9bd16c737ee6458984a269077efda557$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('9aed4dff-03ae-4aa9-8a6f-3bc0bc843996','61375eee-111f-48df-b4ff-d8fec33921e2','bf33a249-7094-4d1e-ba51-cb6737ff3d45','QmPunuTbU4WtrGGBbVLtbCPWMD17huULmAqyHHgq7vK3jj','b48813e3-46b3-4200-b27d-039334b2a6d5.mp3','/file_storage/QmPunuTbU4WtrGGBbVLtbCPWMD17huULmAqyHHgq7vK3jj','copy320','2020-03-05 17:40:49.136 +00:00','2020-03-05 17:40:49.136 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_9bd16c737ee6458984a269077efda557$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (fbd7e65a-bd04-4097-b60c-c4848ce74d05): COMMIT;
{ SequelizeForeignKeyConstraintError: insert or update on table "Files" violates foreign key constraint "Files_cnodeUserUUID_fkey"
    at Query.formatError (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/sequelize/lib/dialects/postgres/query.js:296:16)
    at query.catch.err (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/sequelize/lib/dialects/postgres/query.js:86:18)
    at tryCatcher (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/bluebird/js/release/util.js:16:23)
    at Promise._settlePromiseFromHandler (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/bluebird/js/release/promise.js:517:31)
    at Promise._settlePromise (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/bluebird/js/release/promise.js:574:18)
    at Promise._settlePromise0 (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/bluebird/js/release/promise.js:619:10)
    at Promise._settlePromises (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/bluebird/js/release/promise.js:695:18)
    at _drainQueueStep (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/bluebird/js/release/async.js:138:12)
    at _drainQueue (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/bluebird/js/release/async.js:131:9)
    at Async._drainQueues (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/bluebird/js/release/async.js:147:5)
    at Immediate.Async.drainQueues [as _onImmediate] (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/bluebird/js/release/async.js:17:14)
    at runCallback (timers.js:705:18)
    at tryOnImmediate (timers.js:676:5)
    at processImmediate (timers.js:658:5)
  name: 'SequelizeForeignKeyConstraintError',
  parent:
   { error: insert or update on table "Files" violates foreign key constraint "Files_cnodeUserUUID_fkey"
       at Connection.parseE (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/pg/lib/connection.js:604:11)
       at Connection.parseMessage (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/pg/lib/connection.js:401:19)
       at Socket.<anonymous> (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/pg/lib/connection.js:121:22)
       at Socket.emit (events.js:198:13)
       at addChunk (_stream_readable.js:288:12)
       at readableAddChunk (_stream_readable.js:269:11)
       at Socket.Readable.push (_stream_readable.js:224:10)
       at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)
     name: 'error',
     length: 881,
     severity: 'ERROR',
     code: '23503',
     detail:
      'Key (cnodeUserUUID)=(61375eee-111f-48df-b4ff-d8fec33921e2) is not present in table "CNodeUsers".',
     hint: undefined,
     position: undefined,
     internalPosition: undefined,
     internalQuery: undefined,
     where:
      'SQL statement "INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES (\'9aed4dff-03ae-4aa9-8a6f-3bc0bc843996\',\'61375eee-111f-48df-b4ff-d8fec33921e2\',\'bf33a249-7094-4d1e-ba51-cb6737ff3d45\',\'QmPunuTbU4WtrGGBbVLtbCPWMD17huULmAqyHHgq7vK3jj\',\'b48813e3-46b3-4200-b27d-039334b2a6d5.mp3\',\'/file_storage/QmPunuTbU4WtrGGBbVLtbCPWMD17huULmAqyHHgq7vK3jj\',\'copy320\',\'2020-03-05 17:40:49.136 +00:00\',\'2020-03-05 17:40:49.136 +00:00\') RETURNING *"\nPL/pgSQL function pg_temp_16.testfunc() line 1 at SQL statement',
     schema: 'public',
     table: 'Files',
     column: undefined,
     dataType: undefined,
     constraint: 'Files_cnodeUserUUID_fkey',
     file: 'ri_triggers.c',
     line: '2783',
     routine: 'ri_ReportViolation',
     sql:
      'CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_9bd16c737ee6458984a269077efda557$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES (\'9aed4dff-03ae-4aa9-8a6f-3bc0bc843996\',\'61375eee-111f-48df-b4ff-d8fec33921e2\',\'bf33a249-7094-4d1e-ba51-cb6737ff3d45\',\'QmPunuTbU4WtrGGBbVLtbCPWMD17huULmAqyHHgq7vK3jj\',\'b48813e3-46b3-4200-b27d-039334b2a6d5.mp3\',\'/file_storage/QmPunuTbU4WtrGGBbVLtbCPWMD17huULmAqyHHgq7vK3jj\',\'copy320\',\'2020-03-05 17:40:49.136 +00:00\',\'2020-03-05 17:40:49.136 +00:00\') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_9bd16c737ee6458984a269077efda557$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();' },
  original:
   { error: insert or update on table "Files" violates foreign key constraint "Files_cnodeUserUUID_fkey"
       at Connection.parseE (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/pg/lib/connection.js:604:11)
       at Connection.parseMessage (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/pg/lib/connection.js:401:19)
       at Socket.<anonymous> (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/pg/lib/connection.js:121:22)
       at Socket.emit (events.js:198:13)
       at addChunk (_stream_readable.js:288:12)
       at readableAddChunk (_stream_readable.js:269:11)
       at Socket.Readable.push (_stream_readable.js:224:10)
       at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)
     name: 'error',
     length: 881,
     severity: 'ERROR',
     code: '23503',
     detail:
      'Key (cnodeUserUUID)=(61375eee-111f-48df-b4ff-d8fec33921e2) is not present in table "CNodeUsers".',
     hint: undefined,
     position: undefined,
     internalPosition: undefined,
     internalQuery: undefined,
     where:
      'SQL statement "INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES (\'9aed4dff-03ae-4aa9-8a6f-3bc0bc843996\',\'61375eee-111f-48df-b4ff-d8fec33921e2\',\'bf33a249-7094-4d1e-ba51-cb6737ff3d45\',\'QmPunuTbU4WtrGGBbVLtbCPWMD17huULmAqyHHgq7vK3jj\',\'b48813e3-46b3-4200-b27d-039334b2a6d5.mp3\',\'/file_storage/QmPunuTbU4WtrGGBbVLtbCPWMD17huULmAqyHHgq7vK3jj\',\'copy320\',\'2020-03-05 17:40:49.136 +00:00\',\'2020-03-05 17:40:49.136 +00:00\') RETURNING *"\nPL/pgSQL function pg_temp_16.testfunc() line 1 at SQL statement',
     schema: 'public',
     table: 'Files',
     column: undefined,
     dataType: undefined,
     constraint: 'Files_cnodeUserUUID_fkey',
     file: 'ri_triggers.c',
     line: '2783',
     routine: 'ri_ReportViolation',
     sql:
      'CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_9bd16c737ee6458984a269077efda557$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES (\'9aed4dff-03ae-4aa9-8a6f-3bc0bc843996\',\'61375eee-111f-48df-b4ff-d8fec33921e2\',\'bf33a249-7094-4d1e-ba51-cb6737ff3d45\',\'QmPunuTbU4WtrGGBbVLtbCPWMD17huULmAqyHHgq7vK3jj\',\'b48813e3-46b3-4200-b27d-039334b2a6d5.mp3\',\'/file_storage/QmPunuTbU4WtrGGBbVLtbCPWMD17huULmAqyHHgq7vK3jj\',\'copy320\',\'2020-03-05 17:40:49.136 +00:00\',\'2020-03-05 17:40:49.136 +00:00\') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_9bd16c737ee6458984a269077efda557$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();' },
  sql:
   'CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_9bd16c737ee6458984a269077efda557$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES (\'9aed4dff-03ae-4aa9-8a6f-3bc0bc843996\',\'61375eee-111f-48df-b4ff-d8fec33921e2\',\'bf33a249-7094-4d1e-ba51-cb6737ff3d45\',\'QmPunuTbU4WtrGGBbVLtbCPWMD17huULmAqyHHgq7vK3jj\',\'b48813e3-46b3-4200-b27d-039334b2a6d5.mp3\',\'/file_storage/QmPunuTbU4WtrGGBbVLtbCPWMD17huULmAqyHHgq7vK3jj\',\'copy320\',\'2020-03-05 17:40:49.136 +00:00\',\'2020-03-05 17:40:49.136 +00:00\') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_9bd16c737ee6458984a269077efda557$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();',
  fields: null,
  table: 'Files',
  value: undefined,
  index: 'Files_cnodeUserUUID_fkey',
  reltype: undefined }
writing to db2...
Executing (662fc819-7248-4df0-83fe-6232c769584c): START TRANSACTION;
Executing (662fc819-7248-4df0-83fe-6232c769584c): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '61375eee-111f-48df-b4ff-d8fec33921e2' AND "File"."multihash" = 'QmPunuTbU4WtrGGBbVLtbCPWMD17huULmAqyHHgq7vK3jj' AND "File"."sourceFile" = 'b48813e3-46b3-4200-b27d-039334b2a6d5.mp3' AND "File"."storagePath" = '/file_storage/QmPunuTbU4WtrGGBbVLtbCPWMD17huULmAqyHHgq7vK3jj' AND "File"."type" = 'copy320' AND "File"."trackUUID" = 'bf33a249-7094-4d1e-ba51-cb6737ff3d45' LIMIT 1;
Executing (662fc819-7248-4df0-83fe-6232c769584c): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_86fdbe84d5e143d58c1a6e81a658d718$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('465fac56-a52e-4b3c-8b56-8315fff618d4','61375eee-111f-48df-b4ff-d8fec33921e2','bf33a249-7094-4d1e-ba51-cb6737ff3d45','QmPunuTbU4WtrGGBbVLtbCPWMD17huULmAqyHHgq7vK3jj','b48813e3-46b3-4200-b27d-039334b2a6d5.mp3','/file_storage/QmPunuTbU4WtrGGBbVLtbCPWMD17huULmAqyHHgq7vK3jj','copy320','2020-03-05 17:40:49.531 +00:00','2020-03-05 17:40:49.531 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_86fdbe84d5e143d58c1a6e81a658d718$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (662fc819-7248-4df0-83fe-6232c769584c): COMMIT;
{ fileUUID: '465fac56-a52e-4b3c-8b56-8315fff618d4',
  cnodeUserUUID: '61375eee-111f-48df-b4ff-d8fec33921e2',
  multihash: 'QmPunuTbU4WtrGGBbVLtbCPWMD17huULmAqyHHgq7vK3jj',
  sourceFile: 'b48813e3-46b3-4200-b27d-039334b2a6d5.mp3',
  storagePath:
   '/file_storage/QmPunuTbU4WtrGGBbVLtbCPWMD17huULmAqyHHgq7vK3jj',
  type: 'copy320',
  trackUUID: 'bf33a249-7094-4d1e-ba51-cb6737ff3d45',
  updatedAt: 2020-03-05T17:40:49.531Z,
  createdAt: 2020-03-05T17:40:49.531Z }
writing to db3...
Executing (ca4350e7-fd5a-4323-acfa-e23c53ce4335): START TRANSACTION;
Executing (ca4350e7-fd5a-4323-acfa-e23c53ce4335): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '61375eee-111f-48df-b4ff-d8fec33921e2' AND "File"."multihash" = 'QmPunuTbU4WtrGGBbVLtbCPWMD17huULmAqyHHgq7vK3jj' AND "File"."sourceFile" = 'b48813e3-46b3-4200-b27d-039334b2a6d5.mp3' AND "File"."storagePath" = '/file_storage/QmPunuTbU4WtrGGBbVLtbCPWMD17huULmAqyHHgq7vK3jj' AND "File"."type" = 'copy320' AND "File"."trackUUID" = 'bf33a249-7094-4d1e-ba51-cb6737ff3d45' LIMIT 1;
Executing (ca4350e7-fd5a-4323-acfa-e23c53ce4335): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_3f6278e04fba4bc5b4d8c83bd4a766ca$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('e920fb51-439c-4fdb-8262-893677f3d9d3','61375eee-111f-48df-b4ff-d8fec33921e2','bf33a249-7094-4d1e-ba51-cb6737ff3d45','QmPunuTbU4WtrGGBbVLtbCPWMD17huULmAqyHHgq7vK3jj','b48813e3-46b3-4200-b27d-039334b2a6d5.mp3','/file_storage/QmPunuTbU4WtrGGBbVLtbCPWMD17huULmAqyHHgq7vK3jj','copy320','2020-03-05 17:40:49.917 +00:00','2020-03-05 17:40:49.917 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_3f6278e04fba4bc5b4d8c83bd4a766ca$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (ca4350e7-fd5a-4323-acfa-e23c53ce4335): COMMIT;
{ fileUUID: 'e920fb51-439c-4fdb-8262-893677f3d9d3',
  cnodeUserUUID: '61375eee-111f-48df-b4ff-d8fec33921e2',
  multihash: 'QmPunuTbU4WtrGGBbVLtbCPWMD17huULmAqyHHgq7vK3jj',
  sourceFile: 'b48813e3-46b3-4200-b27d-039334b2a6d5.mp3',
  storagePath:
   '/file_storage/QmPunuTbU4WtrGGBbVLtbCPWMD17huULmAqyHHgq7vK3jj',
  type: 'copy320',
  trackUUID: 'bf33a249-7094-4d1e-ba51-cb6737ff3d45',
  updatedAt: 2020-03-05T17:40:49.917Z,
  createdAt: 2020-03-05T17:40:49.917Z }




PROCESSING ROW #220: sourcefile: 41219572-4ce7-442d-8284-323e80a4c817.mp3, cnodeUserUUID: 61375eee-111f-48df-b4ff-d8fec33921e2, trackUUID: 6de002e2-4f74-49a5-8e5f-fc032e281cdf, multihash: QmRZJsuFkHUTMv7bK4aJRth5GZffwHcM56Z7Hh3zP9iaJ1, dstPath: /file_storage/QmRZJsuFkHUTMv7bK4aJRth5GZffwHcM56Z7Hh3zP9iaJ1
writing to db1...
Executing (7228100f-06ec-492a-bd34-2278b9fa78a2): START TRANSACTION;
Executing (7228100f-06ec-492a-bd34-2278b9fa78a2): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '61375eee-111f-48df-b4ff-d8fec33921e2' AND "File"."multihash" = 'QmRZJsuFkHUTMv7bK4aJRth5GZffwHcM56Z7Hh3zP9iaJ1' AND "File"."sourceFile" = '41219572-4ce7-442d-8284-323e80a4c817.mp3' AND "File"."storagePath" = '/file_storage/QmRZJsuFkHUTMv7bK4aJRth5GZffwHcM56Z7Hh3zP9iaJ1' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '6de002e2-4f74-49a5-8e5f-fc032e281cdf' LIMIT 1;
Executing (7228100f-06ec-492a-bd34-2278b9fa78a2): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_13fc1f89e4014c0eb553ae46ce1f0516$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('dde8d97e-c1ab-4ee5-b001-8c924b916235','61375eee-111f-48df-b4ff-d8fec33921e2','6de002e2-4f74-49a5-8e5f-fc032e281cdf','QmRZJsuFkHUTMv7bK4aJRth5GZffwHcM56Z7Hh3zP9iaJ1','41219572-4ce7-442d-8284-323e80a4c817.mp3','/file_storage/QmRZJsuFkHUTMv7bK4aJRth5GZffwHcM56Z7Hh3zP9iaJ1','copy320','2020-03-05 17:40:50.294 +00:00','2020-03-05 17:40:50.294 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_13fc1f89e4014c0eb553ae46ce1f0516$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (7228100f-06ec-492a-bd34-2278b9fa78a2): COMMIT;
{ SequelizeForeignKeyConstraintError: insert or update on table "Files" violates foreign key constraint "Files_cnodeUserUUID_fkey"
    at Query.formatError (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/sequelize/lib/dialects/postgres/query.js:296:16)
    at query.catch.err (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/sequelize/lib/dialects/postgres/query.js:86:18)
    at tryCatcher (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/bluebird/js/release/util.js:16:23)
    at Promise._settlePromiseFromHandler (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/bluebird/js/release/promise.js:517:31)
    at Promise._settlePromise (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/bluebird/js/release/promise.js:574:18)
    at Promise._settlePromise0 (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/bluebird/js/release/promise.js:619:10)
    at Promise._settlePromises (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/bluebird/js/release/promise.js:695:18)
    at _drainQueueStep (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/bluebird/js/release/async.js:138:12)
    at _drainQueue (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/bluebird/js/release/async.js:131:9)
    at Async._drainQueues (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/bluebird/js/release/async.js:147:5)
    at Immediate.Async.drainQueues [as _onImmediate] (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/bluebird/js/release/async.js:17:14)
    at runCallback (timers.js:705:18)
    at tryOnImmediate (timers.js:676:5)
    at processImmediate (timers.js:658:5)
  name: 'SequelizeForeignKeyConstraintError',
  parent:
   { error: insert or update on table "Files" violates foreign key constraint "Files_cnodeUserUUID_fkey"
       at Connection.parseE (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/pg/lib/connection.js:604:11)
       at Connection.parseMessage (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/pg/lib/connection.js:401:19)
       at Socket.<anonymous> (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/pg/lib/connection.js:121:22)
       at Socket.emit (events.js:198:13)
       at addChunk (_stream_readable.js:288:12)
       at readableAddChunk (_stream_readable.js:269:11)
       at Socket.Readable.push (_stream_readable.js:224:10)
       at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)
     name: 'error',
     length: 881,
     severity: 'ERROR',
     code: '23503',
     detail:
      'Key (cnodeUserUUID)=(61375eee-111f-48df-b4ff-d8fec33921e2) is not present in table "CNodeUsers".',
     hint: undefined,
     position: undefined,
     internalPosition: undefined,
     internalQuery: undefined,
     where:
      'SQL statement "INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES (\'dde8d97e-c1ab-4ee5-b001-8c924b916235\',\'61375eee-111f-48df-b4ff-d8fec33921e2\',\'6de002e2-4f74-49a5-8e5f-fc032e281cdf\',\'QmRZJsuFkHUTMv7bK4aJRth5GZffwHcM56Z7Hh3zP9iaJ1\',\'41219572-4ce7-442d-8284-323e80a4c817.mp3\',\'/file_storage/QmRZJsuFkHUTMv7bK4aJRth5GZffwHcM56Z7Hh3zP9iaJ1\',\'copy320\',\'2020-03-05 17:40:50.294 +00:00\',\'2020-03-05 17:40:50.294 +00:00\') RETURNING *"\nPL/pgSQL function pg_temp_13.testfunc() line 1 at SQL statement',
     schema: 'public',
     table: 'Files',
     column: undefined,
     dataType: undefined,
     constraint: 'Files_cnodeUserUUID_fkey',
     file: 'ri_triggers.c',
     line: '2783',
     routine: 'ri_ReportViolation',
     sql:
      'CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_13fc1f89e4014c0eb553ae46ce1f0516$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES (\'dde8d97e-c1ab-4ee5-b001-8c924b916235\',\'61375eee-111f-48df-b4ff-d8fec33921e2\',\'6de002e2-4f74-49a5-8e5f-fc032e281cdf\',\'QmRZJsuFkHUTMv7bK4aJRth5GZffwHcM56Z7Hh3zP9iaJ1\',\'41219572-4ce7-442d-8284-323e80a4c817.mp3\',\'/file_storage/QmRZJsuFkHUTMv7bK4aJRth5GZffwHcM56Z7Hh3zP9iaJ1\',\'copy320\',\'2020-03-05 17:40:50.294 +00:00\',\'2020-03-05 17:40:50.294 +00:00\') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_13fc1f89e4014c0eb553ae46ce1f0516$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();' },
  original:
   { error: insert or update on table "Files" violates foreign key constraint "Files_cnodeUserUUID_fkey"
       at Connection.parseE (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/pg/lib/connection.js:604:11)
       at Connection.parseMessage (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/pg/lib/connection.js:401:19)
       at Socket.<anonymous> (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/pg/lib/connection.js:121:22)
       at Socket.emit (events.js:198:13)
       at addChunk (_stream_readable.js:288:12)
       at readableAddChunk (_stream_readable.js:269:11)
       at Socket.Readable.push (_stream_readable.js:224:10)
       at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)
     name: 'error',
     length: 881,
     severity: 'ERROR',
     code: '23503',
     detail:
      'Key (cnodeUserUUID)=(61375eee-111f-48df-b4ff-d8fec33921e2) is not present in table "CNodeUsers".',
     hint: undefined,
     position: undefined,
     internalPosition: undefined,
     internalQuery: undefined,
     where:
      'SQL statement "INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES (\'dde8d97e-c1ab-4ee5-b001-8c924b916235\',\'61375eee-111f-48df-b4ff-d8fec33921e2\',\'6de002e2-4f74-49a5-8e5f-fc032e281cdf\',\'QmRZJsuFkHUTMv7bK4aJRth5GZffwHcM56Z7Hh3zP9iaJ1\',\'41219572-4ce7-442d-8284-323e80a4c817.mp3\',\'/file_storage/QmRZJsuFkHUTMv7bK4aJRth5GZffwHcM56Z7Hh3zP9iaJ1\',\'copy320\',\'2020-03-05 17:40:50.294 +00:00\',\'2020-03-05 17:40:50.294 +00:00\') RETURNING *"\nPL/pgSQL function pg_temp_13.testfunc() line 1 at SQL statement',
     schema: 'public',
     table: 'Files',
     column: undefined,
     dataType: undefined,
     constraint: 'Files_cnodeUserUUID_fkey',
     file: 'ri_triggers.c',
     line: '2783',
     routine: 'ri_ReportViolation',
     sql:
      'CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_13fc1f89e4014c0eb553ae46ce1f0516$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES (\'dde8d97e-c1ab-4ee5-b001-8c924b916235\',\'61375eee-111f-48df-b4ff-d8fec33921e2\',\'6de002e2-4f74-49a5-8e5f-fc032e281cdf\',\'QmRZJsuFkHUTMv7bK4aJRth5GZffwHcM56Z7Hh3zP9iaJ1\',\'41219572-4ce7-442d-8284-323e80a4c817.mp3\',\'/file_storage/QmRZJsuFkHUTMv7bK4aJRth5GZffwHcM56Z7Hh3zP9iaJ1\',\'copy320\',\'2020-03-05 17:40:50.294 +00:00\',\'2020-03-05 17:40:50.294 +00:00\') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_13fc1f89e4014c0eb553ae46ce1f0516$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();' },
  sql:
   'CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_13fc1f89e4014c0eb553ae46ce1f0516$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES (\'dde8d97e-c1ab-4ee5-b001-8c924b916235\',\'61375eee-111f-48df-b4ff-d8fec33921e2\',\'6de002e2-4f74-49a5-8e5f-fc032e281cdf\',\'QmRZJsuFkHUTMv7bK4aJRth5GZffwHcM56Z7Hh3zP9iaJ1\',\'41219572-4ce7-442d-8284-323e80a4c817.mp3\',\'/file_storage/QmRZJsuFkHUTMv7bK4aJRth5GZffwHcM56Z7Hh3zP9iaJ1\',\'copy320\',\'2020-03-05 17:40:50.294 +00:00\',\'2020-03-05 17:40:50.294 +00:00\') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_13fc1f89e4014c0eb553ae46ce1f0516$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();',
  fields: null,
  table: 'Files',
  value: undefined,
  index: 'Files_cnodeUserUUID_fkey',
  reltype: undefined }
writing to db2...
Executing (d8bfcd44-2672-407d-bd7c-f7acce4b6b50): START TRANSACTION;
Executing (d8bfcd44-2672-407d-bd7c-f7acce4b6b50): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '61375eee-111f-48df-b4ff-d8fec33921e2' AND "File"."multihash" = 'QmRZJsuFkHUTMv7bK4aJRth5GZffwHcM56Z7Hh3zP9iaJ1' AND "File"."sourceFile" = '41219572-4ce7-442d-8284-323e80a4c817.mp3' AND "File"."storagePath" = '/file_storage/QmRZJsuFkHUTMv7bK4aJRth5GZffwHcM56Z7Hh3zP9iaJ1' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '6de002e2-4f74-49a5-8e5f-fc032e281cdf' LIMIT 1;
Executing (d8bfcd44-2672-407d-bd7c-f7acce4b6b50): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_c03f14bd218a46d9b13b5165f9b437c0$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('9f877bd4-a958-4123-9f3d-206fa6c0d4cd','61375eee-111f-48df-b4ff-d8fec33921e2','6de002e2-4f74-49a5-8e5f-fc032e281cdf','QmRZJsuFkHUTMv7bK4aJRth5GZffwHcM56Z7Hh3zP9iaJ1','41219572-4ce7-442d-8284-323e80a4c817.mp3','/file_storage/QmRZJsuFkHUTMv7bK4aJRth5GZffwHcM56Z7Hh3zP9iaJ1','copy320','2020-03-05 17:40:50.675 +00:00','2020-03-05 17:40:50.675 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_c03f14bd218a46d9b13b5165f9b437c0$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (d8bfcd44-2672-407d-bd7c-f7acce4b6b50): COMMIT;
{ fileUUID: '9f877bd4-a958-4123-9f3d-206fa6c0d4cd',
  cnodeUserUUID: '61375eee-111f-48df-b4ff-d8fec33921e2',
  multihash: 'QmRZJsuFkHUTMv7bK4aJRth5GZffwHcM56Z7Hh3zP9iaJ1',
  sourceFile: '41219572-4ce7-442d-8284-323e80a4c817.mp3',
  storagePath:
   '/file_storage/QmRZJsuFkHUTMv7bK4aJRth5GZffwHcM56Z7Hh3zP9iaJ1',
  type: 'copy320',
  trackUUID: '6de002e2-4f74-49a5-8e5f-fc032e281cdf',
  updatedAt: 2020-03-05T17:40:50.675Z,
  createdAt: 2020-03-05T17:40:50.675Z }
writing to db3...
Executing (8b8b7123-5f83-4de1-a769-17bf3d80850a): START TRANSACTION;
Executing (8b8b7123-5f83-4de1-a769-17bf3d80850a): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '61375eee-111f-48df-b4ff-d8fec33921e2' AND "File"."multihash" = 'QmRZJsuFkHUTMv7bK4aJRth5GZffwHcM56Z7Hh3zP9iaJ1' AND "File"."sourceFile" = '41219572-4ce7-442d-8284-323e80a4c817.mp3' AND "File"."storagePath" = '/file_storage/QmRZJsuFkHUTMv7bK4aJRth5GZffwHcM56Z7Hh3zP9iaJ1' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '6de002e2-4f74-49a5-8e5f-fc032e281cdf' LIMIT 1;
Executing (8b8b7123-5f83-4de1-a769-17bf3d80850a): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_4b359ddb96d74fd1bf51987ab3ed600b$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('7e1864dd-9f97-41df-b490-3903ab53e8f7','61375eee-111f-48df-b4ff-d8fec33921e2','6de002e2-4f74-49a5-8e5f-fc032e281cdf','QmRZJsuFkHUTMv7bK4aJRth5GZffwHcM56Z7Hh3zP9iaJ1','41219572-4ce7-442d-8284-323e80a4c817.mp3','/file_storage/QmRZJsuFkHUTMv7bK4aJRth5GZffwHcM56Z7Hh3zP9iaJ1','copy320','2020-03-05 17:40:51.048 +00:00','2020-03-05 17:40:51.048 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_4b359ddb96d74fd1bf51987ab3ed600b$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (8b8b7123-5f83-4de1-a769-17bf3d80850a): COMMIT;
{ fileUUID: '7e1864dd-9f97-41df-b490-3903ab53e8f7',
  cnodeUserUUID: '61375eee-111f-48df-b4ff-d8fec33921e2',
  multihash: 'QmRZJsuFkHUTMv7bK4aJRth5GZffwHcM56Z7Hh3zP9iaJ1',
  sourceFile: '41219572-4ce7-442d-8284-323e80a4c817.mp3',
  storagePath:
   '/file_storage/QmRZJsuFkHUTMv7bK4aJRth5GZffwHcM56Z7Hh3zP9iaJ1',
  type: 'copy320',
  trackUUID: '6de002e2-4f74-49a5-8e5f-fc032e281cdf',
  updatedAt: 2020-03-05T17:40:51.048Z,
  createdAt: 2020-03-05T17:40:51.048Z }




PROCESSING ROW #221: sourcefile: 8aadb627-0b4d-4787-9574-4bf901374daf.mp3, cnodeUserUUID: 61375eee-111f-48df-b4ff-d8fec33921e2, trackUUID: d092cdab-e7f2-40fa-a070-c391eb966d44, multihash: QmWeNunT7A77pEch6rk3tiySGnt8c31FU3dfLkX1xjKyr2, dstPath: /file_storage/QmWeNunT7A77pEch6rk3tiySGnt8c31FU3dfLkX1xjKyr2
writing to db1...
Executing (87ed2f5d-608d-4f95-b609-a5e7ddc15d21): START TRANSACTION;
Executing (87ed2f5d-608d-4f95-b609-a5e7ddc15d21): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '61375eee-111f-48df-b4ff-d8fec33921e2' AND "File"."multihash" = 'QmWeNunT7A77pEch6rk3tiySGnt8c31FU3dfLkX1xjKyr2' AND "File"."sourceFile" = '8aadb627-0b4d-4787-9574-4bf901374daf.mp3' AND "File"."storagePath" = '/file_storage/QmWeNunT7A77pEch6rk3tiySGnt8c31FU3dfLkX1xjKyr2' AND "File"."type" = 'copy320' AND "File"."trackUUID" = 'd092cdab-e7f2-40fa-a070-c391eb966d44' LIMIT 1;
Executing (87ed2f5d-608d-4f95-b609-a5e7ddc15d21): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_92fd04547ae84e5daac44463dd49358d$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('96ebb61c-57f0-4abe-adeb-44bb954b3629','61375eee-111f-48df-b4ff-d8fec33921e2','d092cdab-e7f2-40fa-a070-c391eb966d44','QmWeNunT7A77pEch6rk3tiySGnt8c31FU3dfLkX1xjKyr2','8aadb627-0b4d-4787-9574-4bf901374daf.mp3','/file_storage/QmWeNunT7A77pEch6rk3tiySGnt8c31FU3dfLkX1xjKyr2','copy320','2020-03-05 17:40:51.434 +00:00','2020-03-05 17:40:51.434 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_92fd04547ae84e5daac44463dd49358d$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (87ed2f5d-608d-4f95-b609-a5e7ddc15d21): COMMIT;
{ SequelizeForeignKeyConstraintError: insert or update on table "Files" violates foreign key constraint "Files_cnodeUserUUID_fkey"
    at Query.formatError (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/sequelize/lib/dialects/postgres/query.js:296:16)
    at query.catch.err (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/sequelize/lib/dialects/postgres/query.js:86:18)
    at tryCatcher (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/bluebird/js/release/util.js:16:23)
    at Promise._settlePromiseFromHandler (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/bluebird/js/release/promise.js:517:31)
    at Promise._settlePromise (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/bluebird/js/release/promise.js:574:18)
    at Promise._settlePromise0 (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/bluebird/js/release/promise.js:619:10)
    at Promise._settlePromises (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/bluebird/js/release/promise.js:695:18)
    at _drainQueueStep (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/bluebird/js/release/async.js:138:12)
    at _drainQueue (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/bluebird/js/release/async.js:131:9)
    at Async._drainQueues (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/bluebird/js/release/async.js:147:5)
    at Immediate.Async.drainQueues [as _onImmediate] (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/bluebird/js/release/async.js:17:14)
    at runCallback (timers.js:705:18)
    at tryOnImmediate (timers.js:676:5)
    at processImmediate (timers.js:658:5)
  name: 'SequelizeForeignKeyConstraintError',
  parent:
   { error: insert or update on table "Files" violates foreign key constraint "Files_cnodeUserUUID_fkey"
       at Connection.parseE (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/pg/lib/connection.js:604:11)
       at Connection.parseMessage (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/pg/lib/connection.js:401:19)
       at Socket.<anonymous> (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/pg/lib/connection.js:121:22)
       at Socket.emit (events.js:198:13)
       at addChunk (_stream_readable.js:288:12)
       at readableAddChunk (_stream_readable.js:269:11)
       at Socket.Readable.push (_stream_readable.js:224:10)
       at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)
     name: 'error',
     length: 881,
     severity: 'ERROR',
     code: '23503',
     detail:
      'Key (cnodeUserUUID)=(61375eee-111f-48df-b4ff-d8fec33921e2) is not present in table "CNodeUsers".',
     hint: undefined,
     position: undefined,
     internalPosition: undefined,
     internalQuery: undefined,
     where:
      'SQL statement "INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES (\'96ebb61c-57f0-4abe-adeb-44bb954b3629\',\'61375eee-111f-48df-b4ff-d8fec33921e2\',\'d092cdab-e7f2-40fa-a070-c391eb966d44\',\'QmWeNunT7A77pEch6rk3tiySGnt8c31FU3dfLkX1xjKyr2\',\'8aadb627-0b4d-4787-9574-4bf901374daf.mp3\',\'/file_storage/QmWeNunT7A77pEch6rk3tiySGnt8c31FU3dfLkX1xjKyr2\',\'copy320\',\'2020-03-05 17:40:51.434 +00:00\',\'2020-03-05 17:40:51.434 +00:00\') RETURNING *"\nPL/pgSQL function pg_temp_12.testfunc() line 1 at SQL statement',
     schema: 'public',
     table: 'Files',
     column: undefined,
     dataType: undefined,
     constraint: 'Files_cnodeUserUUID_fkey',
     file: 'ri_triggers.c',
     line: '2783',
     routine: 'ri_ReportViolation',
     sql:
      'CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_92fd04547ae84e5daac44463dd49358d$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES (\'96ebb61c-57f0-4abe-adeb-44bb954b3629\',\'61375eee-111f-48df-b4ff-d8fec33921e2\',\'d092cdab-e7f2-40fa-a070-c391eb966d44\',\'QmWeNunT7A77pEch6rk3tiySGnt8c31FU3dfLkX1xjKyr2\',\'8aadb627-0b4d-4787-9574-4bf901374daf.mp3\',\'/file_storage/QmWeNunT7A77pEch6rk3tiySGnt8c31FU3dfLkX1xjKyr2\',\'copy320\',\'2020-03-05 17:40:51.434 +00:00\',\'2020-03-05 17:40:51.434 +00:00\') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_92fd04547ae84e5daac44463dd49358d$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();' },
  original:
   { error: insert or update on table "Files" violates foreign key constraint "Files_cnodeUserUUID_fkey"
       at Connection.parseE (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/pg/lib/connection.js:604:11)
       at Connection.parseMessage (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/pg/lib/connection.js:401:19)
       at Socket.<anonymous> (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/pg/lib/connection.js:121:22)
       at Socket.emit (events.js:198:13)
       at addChunk (_stream_readable.js:288:12)
       at readableAddChunk (_stream_readable.js:269:11)
       at Socket.Readable.push (_stream_readable.js:224:10)
       at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)
     name: 'error',
     length: 881,
     severity: 'ERROR',
     code: '23503',
     detail:
      'Key (cnodeUserUUID)=(61375eee-111f-48df-b4ff-d8fec33921e2) is not present in table "CNodeUsers".',
     hint: undefined,
     position: undefined,
     internalPosition: undefined,
     internalQuery: undefined,
     where:
      'SQL statement "INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES (\'96ebb61c-57f0-4abe-adeb-44bb954b3629\',\'61375eee-111f-48df-b4ff-d8fec33921e2\',\'d092cdab-e7f2-40fa-a070-c391eb966d44\',\'QmWeNunT7A77pEch6rk3tiySGnt8c31FU3dfLkX1xjKyr2\',\'8aadb627-0b4d-4787-9574-4bf901374daf.mp3\',\'/file_storage/QmWeNunT7A77pEch6rk3tiySGnt8c31FU3dfLkX1xjKyr2\',\'copy320\',\'2020-03-05 17:40:51.434 +00:00\',\'2020-03-05 17:40:51.434 +00:00\') RETURNING *"\nPL/pgSQL function pg_temp_12.testfunc() line 1 at SQL statement',
     schema: 'public',
     table: 'Files',
     column: undefined,
     dataType: undefined,
     constraint: 'Files_cnodeUserUUID_fkey',
     file: 'ri_triggers.c',
     line: '2783',
     routine: 'ri_ReportViolation',
     sql:
      'CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_92fd04547ae84e5daac44463dd49358d$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES (\'96ebb61c-57f0-4abe-adeb-44bb954b3629\',\'61375eee-111f-48df-b4ff-d8fec33921e2\',\'d092cdab-e7f2-40fa-a070-c391eb966d44\',\'QmWeNunT7A77pEch6rk3tiySGnt8c31FU3dfLkX1xjKyr2\',\'8aadb627-0b4d-4787-9574-4bf901374daf.mp3\',\'/file_storage/QmWeNunT7A77pEch6rk3tiySGnt8c31FU3dfLkX1xjKyr2\',\'copy320\',\'2020-03-05 17:40:51.434 +00:00\',\'2020-03-05 17:40:51.434 +00:00\') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_92fd04547ae84e5daac44463dd49358d$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();' },
  sql:
   'CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_92fd04547ae84e5daac44463dd49358d$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES (\'96ebb61c-57f0-4abe-adeb-44bb954b3629\',\'61375eee-111f-48df-b4ff-d8fec33921e2\',\'d092cdab-e7f2-40fa-a070-c391eb966d44\',\'QmWeNunT7A77pEch6rk3tiySGnt8c31FU3dfLkX1xjKyr2\',\'8aadb627-0b4d-4787-9574-4bf901374daf.mp3\',\'/file_storage/QmWeNunT7A77pEch6rk3tiySGnt8c31FU3dfLkX1xjKyr2\',\'copy320\',\'2020-03-05 17:40:51.434 +00:00\',\'2020-03-05 17:40:51.434 +00:00\') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_92fd04547ae84e5daac44463dd49358d$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();',
  fields: null,
  table: 'Files',
  value: undefined,
  index: 'Files_cnodeUserUUID_fkey',
  reltype: undefined }
writing to db2...
Executing (821269e8-6d9b-499c-83d6-46ad174989d9): START TRANSACTION;
Executing (821269e8-6d9b-499c-83d6-46ad174989d9): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '61375eee-111f-48df-b4ff-d8fec33921e2' AND "File"."multihash" = 'QmWeNunT7A77pEch6rk3tiySGnt8c31FU3dfLkX1xjKyr2' AND "File"."sourceFile" = '8aadb627-0b4d-4787-9574-4bf901374daf.mp3' AND "File"."storagePath" = '/file_storage/QmWeNunT7A77pEch6rk3tiySGnt8c31FU3dfLkX1xjKyr2' AND "File"."type" = 'copy320' AND "File"."trackUUID" = 'd092cdab-e7f2-40fa-a070-c391eb966d44' LIMIT 1;
Executing (821269e8-6d9b-499c-83d6-46ad174989d9): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_245c83406aa2452da6e799a1010908d2$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('d6e28412-f1f5-4ec3-9a1e-b668ac23b47e','61375eee-111f-48df-b4ff-d8fec33921e2','d092cdab-e7f2-40fa-a070-c391eb966d44','QmWeNunT7A77pEch6rk3tiySGnt8c31FU3dfLkX1xjKyr2','8aadb627-0b4d-4787-9574-4bf901374daf.mp3','/file_storage/QmWeNunT7A77pEch6rk3tiySGnt8c31FU3dfLkX1xjKyr2','copy320','2020-03-05 17:40:51.808 +00:00','2020-03-05 17:40:51.808 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_245c83406aa2452da6e799a1010908d2$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (821269e8-6d9b-499c-83d6-46ad174989d9): COMMIT;
{ fileUUID: 'd6e28412-f1f5-4ec3-9a1e-b668ac23b47e',
  cnodeUserUUID: '61375eee-111f-48df-b4ff-d8fec33921e2',
  multihash: 'QmWeNunT7A77pEch6rk3tiySGnt8c31FU3dfLkX1xjKyr2',
  sourceFile: '8aadb627-0b4d-4787-9574-4bf901374daf.mp3',
  storagePath:
   '/file_storage/QmWeNunT7A77pEch6rk3tiySGnt8c31FU3dfLkX1xjKyr2',
  type: 'copy320',
  trackUUID: 'd092cdab-e7f2-40fa-a070-c391eb966d44',
  updatedAt: 2020-03-05T17:40:51.808Z,
  createdAt: 2020-03-05T17:40:51.808Z }
writing to db3...
Executing (d4806730-d139-4807-aa95-f5e7b659261c): START TRANSACTION;
Executing (d4806730-d139-4807-aa95-f5e7b659261c): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '61375eee-111f-48df-b4ff-d8fec33921e2' AND "File"."multihash" = 'QmWeNunT7A77pEch6rk3tiySGnt8c31FU3dfLkX1xjKyr2' AND "File"."sourceFile" = '8aadb627-0b4d-4787-9574-4bf901374daf.mp3' AND "File"."storagePath" = '/file_storage/QmWeNunT7A77pEch6rk3tiySGnt8c31FU3dfLkX1xjKyr2' AND "File"."type" = 'copy320' AND "File"."trackUUID" = 'd092cdab-e7f2-40fa-a070-c391eb966d44' LIMIT 1;
Executing (d4806730-d139-4807-aa95-f5e7b659261c): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_c99a209ec0f745128b1e85251d9eee27$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('81c00396-6c04-498c-a555-3ae202ffed8f','61375eee-111f-48df-b4ff-d8fec33921e2','d092cdab-e7f2-40fa-a070-c391eb966d44','QmWeNunT7A77pEch6rk3tiySGnt8c31FU3dfLkX1xjKyr2','8aadb627-0b4d-4787-9574-4bf901374daf.mp3','/file_storage/QmWeNunT7A77pEch6rk3tiySGnt8c31FU3dfLkX1xjKyr2','copy320','2020-03-05 17:40:52.214 +00:00','2020-03-05 17:40:52.214 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_c99a209ec0f745128b1e85251d9eee27$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (d4806730-d139-4807-aa95-f5e7b659261c): COMMIT;
{ fileUUID: '81c00396-6c04-498c-a555-3ae202ffed8f',
  cnodeUserUUID: '61375eee-111f-48df-b4ff-d8fec33921e2',
  multihash: 'QmWeNunT7A77pEch6rk3tiySGnt8c31FU3dfLkX1xjKyr2',
  sourceFile: '8aadb627-0b4d-4787-9574-4bf901374daf.mp3',
  storagePath:
   '/file_storage/QmWeNunT7A77pEch6rk3tiySGnt8c31FU3dfLkX1xjKyr2',
  type: 'copy320',
  trackUUID: 'd092cdab-e7f2-40fa-a070-c391eb966d44',
  updatedAt: 2020-03-05T17:40:52.214Z,
  createdAt: 2020-03-05T17:40:52.214Z }




PROCESSING ROW #222: sourcefile: 5222a937-185c-4989-b9da-51db2caa06d3.mp3, cnodeUserUUID: 59ed7980-7e92-4a84-a1e4-17f5f7aabc44, trackUUID: 3d1415d3-7801-4226-93be-70d937e09cdc, multihash: QmfZrhqGLTNHxY1K3YJZABs5cHEqXGQsC2UbXEsuynanRr, dstPath: /file_storage/QmfZrhqGLTNHxY1K3YJZABs5cHEqXGQsC2UbXEsuynanRr
writing to db1...
Executing (2ce7949f-13e7-46ec-9540-93ec3dfb638a): START TRANSACTION;
Executing (2ce7949f-13e7-46ec-9540-93ec3dfb638a): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '59ed7980-7e92-4a84-a1e4-17f5f7aabc44' AND "File"."multihash" = 'QmfZrhqGLTNHxY1K3YJZABs5cHEqXGQsC2UbXEsuynanRr' AND "File"."sourceFile" = '5222a937-185c-4989-b9da-51db2caa06d3.mp3' AND "File"."storagePath" = '/file_storage/QmfZrhqGLTNHxY1K3YJZABs5cHEqXGQsC2UbXEsuynanRr' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '3d1415d3-7801-4226-93be-70d937e09cdc' LIMIT 1;
Executing (2ce7949f-13e7-46ec-9540-93ec3dfb638a): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_4b4b2f86f88d4a97ba116cb242f9b109$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('0d34e155-bee9-4ffa-a2f8-babc9bc43b0f','59ed7980-7e92-4a84-a1e4-17f5f7aabc44','3d1415d3-7801-4226-93be-70d937e09cdc','QmfZrhqGLTNHxY1K3YJZABs5cHEqXGQsC2UbXEsuynanRr','5222a937-185c-4989-b9da-51db2caa06d3.mp3','/file_storage/QmfZrhqGLTNHxY1K3YJZABs5cHEqXGQsC2UbXEsuynanRr','copy320','2020-03-05 17:40:52.621 +00:00','2020-03-05 17:40:52.621 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_4b4b2f86f88d4a97ba116cb242f9b109$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (2ce7949f-13e7-46ec-9540-93ec3dfb638a): COMMIT;
{ SequelizeForeignKeyConstraintError: insert or update on table "Files" violates foreign key constraint "Files_cnodeUserUUID_fkey"
    at Query.formatError (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/sequelize/lib/dialects/postgres/query.js:296:16)
    at query.catch.err (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/sequelize/lib/dialects/postgres/query.js:86:18)
    at tryCatcher (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/bluebird/js/release/util.js:16:23)
    at Promise._settlePromiseFromHandler (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/bluebird/js/release/promise.js:517:31)
    at Promise._settlePromise (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/bluebird/js/release/promise.js:574:18)
    at Promise._settlePromise0 (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/bluebird/js/release/promise.js:619:10)
    at Promise._settlePromises (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/bluebird/js/release/promise.js:695:18)
    at _drainQueueStep (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/bluebird/js/release/async.js:138:12)
    at _drainQueue (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/bluebird/js/release/async.js:131:9)
    at Async._drainQueues (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/bluebird/js/release/async.js:147:5)
    at Immediate.Async.drainQueues [as _onImmediate] (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/bluebird/js/release/async.js:17:14)
    at runCallback (timers.js:705:18)
    at tryOnImmediate (timers.js:676:5)
    at processImmediate (timers.js:658:5)
  name: 'SequelizeForeignKeyConstraintError',
  parent:
   { error: insert or update on table "Files" violates foreign key constraint "Files_cnodeUserUUID_fkey"
       at Connection.parseE (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/pg/lib/connection.js:604:11)
       at Connection.parseMessage (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/pg/lib/connection.js:401:19)
       at Socket.<anonymous> (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/pg/lib/connection.js:121:22)
       at Socket.emit (events.js:198:13)
       at addChunk (_stream_readable.js:288:12)
       at readableAddChunk (_stream_readable.js:269:11)
       at Socket.Readable.push (_stream_readable.js:224:10)
       at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)
     name: 'error',
     length: 881,
     severity: 'ERROR',
     code: '23503',
     detail:
      'Key (cnodeUserUUID)=(59ed7980-7e92-4a84-a1e4-17f5f7aabc44) is not present in table "CNodeUsers".',
     hint: undefined,
     position: undefined,
     internalPosition: undefined,
     internalQuery: undefined,
     where:
      'SQL statement "INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES (\'0d34e155-bee9-4ffa-a2f8-babc9bc43b0f\',\'59ed7980-7e92-4a84-a1e4-17f5f7aabc44\',\'3d1415d3-7801-4226-93be-70d937e09cdc\',\'QmfZrhqGLTNHxY1K3YJZABs5cHEqXGQsC2UbXEsuynanRr\',\'5222a937-185c-4989-b9da-51db2caa06d3.mp3\',\'/file_storage/QmfZrhqGLTNHxY1K3YJZABs5cHEqXGQsC2UbXEsuynanRr\',\'copy320\',\'2020-03-05 17:40:52.621 +00:00\',\'2020-03-05 17:40:52.621 +00:00\') RETURNING *"\nPL/pgSQL function pg_temp_15.testfunc() line 1 at SQL statement',
     schema: 'public',
     table: 'Files',
     column: undefined,
     dataType: undefined,
     constraint: 'Files_cnodeUserUUID_fkey',
     file: 'ri_triggers.c',
     line: '2783',
     routine: 'ri_ReportViolation',
     sql:
      'CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_4b4b2f86f88d4a97ba116cb242f9b109$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES (\'0d34e155-bee9-4ffa-a2f8-babc9bc43b0f\',\'59ed7980-7e92-4a84-a1e4-17f5f7aabc44\',\'3d1415d3-7801-4226-93be-70d937e09cdc\',\'QmfZrhqGLTNHxY1K3YJZABs5cHEqXGQsC2UbXEsuynanRr\',\'5222a937-185c-4989-b9da-51db2caa06d3.mp3\',\'/file_storage/QmfZrhqGLTNHxY1K3YJZABs5cHEqXGQsC2UbXEsuynanRr\',\'copy320\',\'2020-03-05 17:40:52.621 +00:00\',\'2020-03-05 17:40:52.621 +00:00\') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_4b4b2f86f88d4a97ba116cb242f9b109$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();' },
  original:
   { error: insert or update on table "Files" violates foreign key constraint "Files_cnodeUserUUID_fkey"
       at Connection.parseE (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/pg/lib/connection.js:604:11)
       at Connection.parseMessage (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/pg/lib/connection.js:401:19)
       at Socket.<anonymous> (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/pg/lib/connection.js:121:22)
       at Socket.emit (events.js:198:13)
       at addChunk (_stream_readable.js:288:12)
       at readableAddChunk (_stream_readable.js:269:11)
       at Socket.Readable.push (_stream_readable.js:224:10)
       at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)
     name: 'error',
     length: 881,
     severity: 'ERROR',
     code: '23503',
     detail:
      'Key (cnodeUserUUID)=(59ed7980-7e92-4a84-a1e4-17f5f7aabc44) is not present in table "CNodeUsers".',
     hint: undefined,
     position: undefined,
     internalPosition: undefined,
     internalQuery: undefined,
     where:
      'SQL statement "INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES (\'0d34e155-bee9-4ffa-a2f8-babc9bc43b0f\',\'59ed7980-7e92-4a84-a1e4-17f5f7aabc44\',\'3d1415d3-7801-4226-93be-70d937e09cdc\',\'QmfZrhqGLTNHxY1K3YJZABs5cHEqXGQsC2UbXEsuynanRr\',\'5222a937-185c-4989-b9da-51db2caa06d3.mp3\',\'/file_storage/QmfZrhqGLTNHxY1K3YJZABs5cHEqXGQsC2UbXEsuynanRr\',\'copy320\',\'2020-03-05 17:40:52.621 +00:00\',\'2020-03-05 17:40:52.621 +00:00\') RETURNING *"\nPL/pgSQL function pg_temp_15.testfunc() line 1 at SQL statement',
     schema: 'public',
     table: 'Files',
     column: undefined,
     dataType: undefined,
     constraint: 'Files_cnodeUserUUID_fkey',
     file: 'ri_triggers.c',
     line: '2783',
     routine: 'ri_ReportViolation',
     sql:
      'CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_4b4b2f86f88d4a97ba116cb242f9b109$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES (\'0d34e155-bee9-4ffa-a2f8-babc9bc43b0f\',\'59ed7980-7e92-4a84-a1e4-17f5f7aabc44\',\'3d1415d3-7801-4226-93be-70d937e09cdc\',\'QmfZrhqGLTNHxY1K3YJZABs5cHEqXGQsC2UbXEsuynanRr\',\'5222a937-185c-4989-b9da-51db2caa06d3.mp3\',\'/file_storage/QmfZrhqGLTNHxY1K3YJZABs5cHEqXGQsC2UbXEsuynanRr\',\'copy320\',\'2020-03-05 17:40:52.621 +00:00\',\'2020-03-05 17:40:52.621 +00:00\') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_4b4b2f86f88d4a97ba116cb242f9b109$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();' },
  sql:
   'CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_4b4b2f86f88d4a97ba116cb242f9b109$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES (\'0d34e155-bee9-4ffa-a2f8-babc9bc43b0f\',\'59ed7980-7e92-4a84-a1e4-17f5f7aabc44\',\'3d1415d3-7801-4226-93be-70d937e09cdc\',\'QmfZrhqGLTNHxY1K3YJZABs5cHEqXGQsC2UbXEsuynanRr\',\'5222a937-185c-4989-b9da-51db2caa06d3.mp3\',\'/file_storage/QmfZrhqGLTNHxY1K3YJZABs5cHEqXGQsC2UbXEsuynanRr\',\'copy320\',\'2020-03-05 17:40:52.621 +00:00\',\'2020-03-05 17:40:52.621 +00:00\') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_4b4b2f86f88d4a97ba116cb242f9b109$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();',
  fields: null,
  table: 'Files',
  value: undefined,
  index: 'Files_cnodeUserUUID_fkey',
  reltype: undefined }
writing to db2...
Executing (f5d466e6-7315-400e-b9b6-7d0c858f88a6): START TRANSACTION;
Executing (f5d466e6-7315-400e-b9b6-7d0c858f88a6): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '59ed7980-7e92-4a84-a1e4-17f5f7aabc44' AND "File"."multihash" = 'QmfZrhqGLTNHxY1K3YJZABs5cHEqXGQsC2UbXEsuynanRr' AND "File"."sourceFile" = '5222a937-185c-4989-b9da-51db2caa06d3.mp3' AND "File"."storagePath" = '/file_storage/QmfZrhqGLTNHxY1K3YJZABs5cHEqXGQsC2UbXEsuynanRr' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '3d1415d3-7801-4226-93be-70d937e09cdc' LIMIT 1;
Executing (f5d466e6-7315-400e-b9b6-7d0c858f88a6): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_78ef8ac680904939a7274b51c5e02857$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('39d5f909-31db-411a-9401-294db465e84b','59ed7980-7e92-4a84-a1e4-17f5f7aabc44','3d1415d3-7801-4226-93be-70d937e09cdc','QmfZrhqGLTNHxY1K3YJZABs5cHEqXGQsC2UbXEsuynanRr','5222a937-185c-4989-b9da-51db2caa06d3.mp3','/file_storage/QmfZrhqGLTNHxY1K3YJZABs5cHEqXGQsC2UbXEsuynanRr','copy320','2020-03-05 17:40:53.014 +00:00','2020-03-05 17:40:53.014 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_78ef8ac680904939a7274b51c5e02857$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (f5d466e6-7315-400e-b9b6-7d0c858f88a6): COMMIT;
{ fileUUID: '39d5f909-31db-411a-9401-294db465e84b',
  cnodeUserUUID: '59ed7980-7e92-4a84-a1e4-17f5f7aabc44',
  multihash: 'QmfZrhqGLTNHxY1K3YJZABs5cHEqXGQsC2UbXEsuynanRr',
  sourceFile: '5222a937-185c-4989-b9da-51db2caa06d3.mp3',
  storagePath:
   '/file_storage/QmfZrhqGLTNHxY1K3YJZABs5cHEqXGQsC2UbXEsuynanRr',
  type: 'copy320',
  trackUUID: '3d1415d3-7801-4226-93be-70d937e09cdc',
  updatedAt: 2020-03-05T17:40:53.014Z,
  createdAt: 2020-03-05T17:40:53.014Z }
writing to db3...
Executing (d3e774c1-70e4-4f9a-b67d-e52175d365f6): START TRANSACTION;
Executing (d3e774c1-70e4-4f9a-b67d-e52175d365f6): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '59ed7980-7e92-4a84-a1e4-17f5f7aabc44' AND "File"."multihash" = 'QmfZrhqGLTNHxY1K3YJZABs5cHEqXGQsC2UbXEsuynanRr' AND "File"."sourceFile" = '5222a937-185c-4989-b9da-51db2caa06d3.mp3' AND "File"."storagePath" = '/file_storage/QmfZrhqGLTNHxY1K3YJZABs5cHEqXGQsC2UbXEsuynanRr' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '3d1415d3-7801-4226-93be-70d937e09cdc' LIMIT 1;
Executing (d3e774c1-70e4-4f9a-b67d-e52175d365f6): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_ca309d03ca4f49228ee5cb0d577b9323$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('c30e61a2-b25f-4603-aff1-f7f347a77b5b','59ed7980-7e92-4a84-a1e4-17f5f7aabc44','3d1415d3-7801-4226-93be-70d937e09cdc','QmfZrhqGLTNHxY1K3YJZABs5cHEqXGQsC2UbXEsuynanRr','5222a937-185c-4989-b9da-51db2caa06d3.mp3','/file_storage/QmfZrhqGLTNHxY1K3YJZABs5cHEqXGQsC2UbXEsuynanRr','copy320','2020-03-05 17:40:53.413 +00:00','2020-03-05 17:40:53.413 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_ca309d03ca4f49228ee5cb0d577b9323$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (d3e774c1-70e4-4f9a-b67d-e52175d365f6): COMMIT;
{ SequelizeForeignKeyConstraintError: insert or update on table "Files" violates foreign key constraint "Files_cnodeUserUUID_fkey"
    at Query.formatError (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/sequelize/lib/dialects/postgres/query.js:296:16)
    at query.catch.err (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/sequelize/lib/dialects/postgres/query.js:86:18)
    at tryCatcher (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/bluebird/js/release/util.js:16:23)
    at Promise._settlePromiseFromHandler (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/bluebird/js/release/promise.js:517:31)
    at Promise._settlePromise (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/bluebird/js/release/promise.js:574:18)
    at Promise._settlePromise0 (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/bluebird/js/release/promise.js:619:10)
    at Promise._settlePromises (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/bluebird/js/release/promise.js:695:18)
    at _drainQueueStep (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/bluebird/js/release/async.js:138:12)
    at _drainQueue (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/bluebird/js/release/async.js:131:9)
    at Async._drainQueues (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/bluebird/js/release/async.js:147:5)
    at Immediate.Async.drainQueues [as _onImmediate] (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/bluebird/js/release/async.js:17:14)
    at runCallback (timers.js:705:18)
    at tryOnImmediate (timers.js:676:5)
    at processImmediate (timers.js:658:5)
  name: 'SequelizeForeignKeyConstraintError',
  parent:
   { error: insert or update on table "Files" violates foreign key constraint "Files_cnodeUserUUID_fkey"
       at Connection.parseE (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/pg/lib/connection.js:604:11)
       at Connection.parseMessage (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/pg/lib/connection.js:401:19)
       at Socket.<anonymous> (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/pg/lib/connection.js:121:22)
       at Socket.emit (events.js:198:13)
       at addChunk (_stream_readable.js:288:12)
       at readableAddChunk (_stream_readable.js:269:11)
       at Socket.Readable.push (_stream_readable.js:224:10)
       at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)
     name: 'error',
     length: 881,
     severity: 'ERROR',
     code: '23503',
     detail:
      'Key (cnodeUserUUID)=(59ed7980-7e92-4a84-a1e4-17f5f7aabc44) is not present in table "CNodeUsers".',
     hint: undefined,
     position: undefined,
     internalPosition: undefined,
     internalQuery: undefined,
     where:
      'SQL statement "INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES (\'c30e61a2-b25f-4603-aff1-f7f347a77b5b\',\'59ed7980-7e92-4a84-a1e4-17f5f7aabc44\',\'3d1415d3-7801-4226-93be-70d937e09cdc\',\'QmfZrhqGLTNHxY1K3YJZABs5cHEqXGQsC2UbXEsuynanRr\',\'5222a937-185c-4989-b9da-51db2caa06d3.mp3\',\'/file_storage/QmfZrhqGLTNHxY1K3YJZABs5cHEqXGQsC2UbXEsuynanRr\',\'copy320\',\'2020-03-05 17:40:53.413 +00:00\',\'2020-03-05 17:40:53.413 +00:00\') RETURNING *"\nPL/pgSQL function pg_temp_68.testfunc() line 1 at SQL statement',
     schema: 'public',
     table: 'Files',
     column: undefined,
     dataType: undefined,
     constraint: 'Files_cnodeUserUUID_fkey',
     file: 'ri_triggers.c',
     line: '2783',
     routine: 'ri_ReportViolation',
     sql:
      'CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_ca309d03ca4f49228ee5cb0d577b9323$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES (\'c30e61a2-b25f-4603-aff1-f7f347a77b5b\',\'59ed7980-7e92-4a84-a1e4-17f5f7aabc44\',\'3d1415d3-7801-4226-93be-70d937e09cdc\',\'QmfZrhqGLTNHxY1K3YJZABs5cHEqXGQsC2UbXEsuynanRr\',\'5222a937-185c-4989-b9da-51db2caa06d3.mp3\',\'/file_storage/QmfZrhqGLTNHxY1K3YJZABs5cHEqXGQsC2UbXEsuynanRr\',\'copy320\',\'2020-03-05 17:40:53.413 +00:00\',\'2020-03-05 17:40:53.413 +00:00\') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_ca309d03ca4f49228ee5cb0d577b9323$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();' },
  original:
   { error: insert or update on table "Files" violates foreign key constraint "Files_cnodeUserUUID_fkey"
       at Connection.parseE (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/pg/lib/connection.js:604:11)
       at Connection.parseMessage (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/pg/lib/connection.js:401:19)
       at Socket.<anonymous> (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/pg/lib/connection.js:121:22)
       at Socket.emit (events.js:198:13)
       at addChunk (_stream_readable.js:288:12)
       at readableAddChunk (_stream_readable.js:269:11)
       at Socket.Readable.push (_stream_readable.js:224:10)
       at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)
     name: 'error',
     length: 881,
     severity: 'ERROR',
     code: '23503',
     detail:
      'Key (cnodeUserUUID)=(59ed7980-7e92-4a84-a1e4-17f5f7aabc44) is not present in table "CNodeUsers".',
     hint: undefined,
     position: undefined,
     internalPosition: undefined,
     internalQuery: undefined,
     where:
      'SQL statement "INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES (\'c30e61a2-b25f-4603-aff1-f7f347a77b5b\',\'59ed7980-7e92-4a84-a1e4-17f5f7aabc44\',\'3d1415d3-7801-4226-93be-70d937e09cdc\',\'QmfZrhqGLTNHxY1K3YJZABs5cHEqXGQsC2UbXEsuynanRr\',\'5222a937-185c-4989-b9da-51db2caa06d3.mp3\',\'/file_storage/QmfZrhqGLTNHxY1K3YJZABs5cHEqXGQsC2UbXEsuynanRr\',\'copy320\',\'2020-03-05 17:40:53.413 +00:00\',\'2020-03-05 17:40:53.413 +00:00\') RETURNING *"\nPL/pgSQL function pg_temp_68.testfunc() line 1 at SQL statement',
     schema: 'public',
     table: 'Files',
     column: undefined,
     dataType: undefined,
     constraint: 'Files_cnodeUserUUID_fkey',
     file: 'ri_triggers.c',
     line: '2783',
     routine: 'ri_ReportViolation',
     sql:
      'CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_ca309d03ca4f49228ee5cb0d577b9323$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES (\'c30e61a2-b25f-4603-aff1-f7f347a77b5b\',\'59ed7980-7e92-4a84-a1e4-17f5f7aabc44\',\'3d1415d3-7801-4226-93be-70d937e09cdc\',\'QmfZrhqGLTNHxY1K3YJZABs5cHEqXGQsC2UbXEsuynanRr\',\'5222a937-185c-4989-b9da-51db2caa06d3.mp3\',\'/file_storage/QmfZrhqGLTNHxY1K3YJZABs5cHEqXGQsC2UbXEsuynanRr\',\'copy320\',\'2020-03-05 17:40:53.413 +00:00\',\'2020-03-05 17:40:53.413 +00:00\') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_ca309d03ca4f49228ee5cb0d577b9323$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();' },
  sql:
   'CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_ca309d03ca4f49228ee5cb0d577b9323$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES (\'c30e61a2-b25f-4603-aff1-f7f347a77b5b\',\'59ed7980-7e92-4a84-a1e4-17f5f7aabc44\',\'3d1415d3-7801-4226-93be-70d937e09cdc\',\'QmfZrhqGLTNHxY1K3YJZABs5cHEqXGQsC2UbXEsuynanRr\',\'5222a937-185c-4989-b9da-51db2caa06d3.mp3\',\'/file_storage/QmfZrhqGLTNHxY1K3YJZABs5cHEqXGQsC2UbXEsuynanRr\',\'copy320\',\'2020-03-05 17:40:53.413 +00:00\',\'2020-03-05 17:40:53.413 +00:00\') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_ca309d03ca4f49228ee5cb0d577b9323$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();',
  fields: null,
  table: 'Files',
  value: undefined,
  index: 'Files_cnodeUserUUID_fkey',
  reltype: undefined }




PROCESSING ROW #223: sourcefile: 824d6913-e9de-4c5f-a8e8-36a6ea043db2.mp3, cnodeUserUUID: 61375eee-111f-48df-b4ff-d8fec33921e2, trackUUID: b384dad2-d2b7-41dd-b9e2-830a5d211cd9, multihash: QmbpFY9tgVfQbv94ea8f4SrfmUeQzdkUZ8wpF2tdvtFpSV, dstPath: /file_storage/QmbpFY9tgVfQbv94ea8f4SrfmUeQzdkUZ8wpF2tdvtFpSV
writing to db1...
Executing (14533ad4-f7cb-448f-befc-77721b32ddc7): START TRANSACTION;
Executing (14533ad4-f7cb-448f-befc-77721b32ddc7): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '61375eee-111f-48df-b4ff-d8fec33921e2' AND "File"."multihash" = 'QmbpFY9tgVfQbv94ea8f4SrfmUeQzdkUZ8wpF2tdvtFpSV' AND "File"."sourceFile" = '824d6913-e9de-4c5f-a8e8-36a6ea043db2.mp3' AND "File"."storagePath" = '/file_storage/QmbpFY9tgVfQbv94ea8f4SrfmUeQzdkUZ8wpF2tdvtFpSV' AND "File"."type" = 'copy320' AND "File"."trackUUID" = 'b384dad2-d2b7-41dd-b9e2-830a5d211cd9' LIMIT 1;
Executing (14533ad4-f7cb-448f-befc-77721b32ddc7): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_8bf73e132c31441989a6b3fac3d9b20b$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('423581fc-a9e6-4573-8cc5-b5e5f24c4ab7','61375eee-111f-48df-b4ff-d8fec33921e2','b384dad2-d2b7-41dd-b9e2-830a5d211cd9','QmbpFY9tgVfQbv94ea8f4SrfmUeQzdkUZ8wpF2tdvtFpSV','824d6913-e9de-4c5f-a8e8-36a6ea043db2.mp3','/file_storage/QmbpFY9tgVfQbv94ea8f4SrfmUeQzdkUZ8wpF2tdvtFpSV','copy320','2020-03-05 17:40:53.802 +00:00','2020-03-05 17:40:53.802 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_8bf73e132c31441989a6b3fac3d9b20b$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (14533ad4-f7cb-448f-befc-77721b32ddc7): COMMIT;
{ SequelizeForeignKeyConstraintError: insert or update on table "Files" violates foreign key constraint "Files_cnodeUserUUID_fkey"
    at Query.formatError (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/sequelize/lib/dialects/postgres/query.js:296:16)
    at query.catch.err (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/sequelize/lib/dialects/postgres/query.js:86:18)
    at tryCatcher (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/bluebird/js/release/util.js:16:23)
    at Promise._settlePromiseFromHandler (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/bluebird/js/release/promise.js:517:31)
    at Promise._settlePromise (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/bluebird/js/release/promise.js:574:18)
    at Promise._settlePromise0 (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/bluebird/js/release/promise.js:619:10)
    at Promise._settlePromises (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/bluebird/js/release/promise.js:695:18)
    at _drainQueueStep (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/bluebird/js/release/async.js:138:12)
    at _drainQueue (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/bluebird/js/release/async.js:131:9)
    at Async._drainQueues (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/bluebird/js/release/async.js:147:5)
    at Immediate.Async.drainQueues [as _onImmediate] (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/bluebird/js/release/async.js:17:14)
    at runCallback (timers.js:705:18)
    at tryOnImmediate (timers.js:676:5)
    at processImmediate (timers.js:658:5)
  name: 'SequelizeForeignKeyConstraintError',
  parent:
   { error: insert or update on table "Files" violates foreign key constraint "Files_cnodeUserUUID_fkey"
       at Connection.parseE (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/pg/lib/connection.js:604:11)
       at Connection.parseMessage (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/pg/lib/connection.js:401:19)
       at Socket.<anonymous> (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/pg/lib/connection.js:121:22)
       at Socket.emit (events.js:198:13)
       at addChunk (_stream_readable.js:288:12)
       at readableAddChunk (_stream_readable.js:269:11)
       at Socket.Readable.push (_stream_readable.js:224:10)
       at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)
     name: 'error',
     length: 881,
     severity: 'ERROR',
     code: '23503',
     detail:
      'Key (cnodeUserUUID)=(61375eee-111f-48df-b4ff-d8fec33921e2) is not present in table "CNodeUsers".',
     hint: undefined,
     position: undefined,
     internalPosition: undefined,
     internalQuery: undefined,
     where:
      'SQL statement "INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES (\'423581fc-a9e6-4573-8cc5-b5e5f24c4ab7\',\'61375eee-111f-48df-b4ff-d8fec33921e2\',\'b384dad2-d2b7-41dd-b9e2-830a5d211cd9\',\'QmbpFY9tgVfQbv94ea8f4SrfmUeQzdkUZ8wpF2tdvtFpSV\',\'824d6913-e9de-4c5f-a8e8-36a6ea043db2.mp3\',\'/file_storage/QmbpFY9tgVfQbv94ea8f4SrfmUeQzdkUZ8wpF2tdvtFpSV\',\'copy320\',\'2020-03-05 17:40:53.802 +00:00\',\'2020-03-05 17:40:53.802 +00:00\') RETURNING *"\nPL/pgSQL function pg_temp_14.testfunc() line 1 at SQL statement',
     schema: 'public',
     table: 'Files',
     column: undefined,
     dataType: undefined,
     constraint: 'Files_cnodeUserUUID_fkey',
     file: 'ri_triggers.c',
     line: '2783',
     routine: 'ri_ReportViolation',
     sql:
      'CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_8bf73e132c31441989a6b3fac3d9b20b$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES (\'423581fc-a9e6-4573-8cc5-b5e5f24c4ab7\',\'61375eee-111f-48df-b4ff-d8fec33921e2\',\'b384dad2-d2b7-41dd-b9e2-830a5d211cd9\',\'QmbpFY9tgVfQbv94ea8f4SrfmUeQzdkUZ8wpF2tdvtFpSV\',\'824d6913-e9de-4c5f-a8e8-36a6ea043db2.mp3\',\'/file_storage/QmbpFY9tgVfQbv94ea8f4SrfmUeQzdkUZ8wpF2tdvtFpSV\',\'copy320\',\'2020-03-05 17:40:53.802 +00:00\',\'2020-03-05 17:40:53.802 +00:00\') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_8bf73e132c31441989a6b3fac3d9b20b$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();' },
  original:
   { error: insert or update on table "Files" violates foreign key constraint "Files_cnodeUserUUID_fkey"
       at Connection.parseE (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/pg/lib/connection.js:604:11)
       at Connection.parseMessage (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/pg/lib/connection.js:401:19)
       at Socket.<anonymous> (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/pg/lib/connection.js:121:22)
       at Socket.emit (events.js:198:13)
       at addChunk (_stream_readable.js:288:12)
       at readableAddChunk (_stream_readable.js:269:11)
       at Socket.Readable.push (_stream_readable.js:224:10)
       at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)
     name: 'error',
     length: 881,
     severity: 'ERROR',
     code: '23503',
     detail:
      'Key (cnodeUserUUID)=(61375eee-111f-48df-b4ff-d8fec33921e2) is not present in table "CNodeUsers".',
     hint: undefined,
     position: undefined,
     internalPosition: undefined,
     internalQuery: undefined,
     where:
      'SQL statement "INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES (\'423581fc-a9e6-4573-8cc5-b5e5f24c4ab7\',\'61375eee-111f-48df-b4ff-d8fec33921e2\',\'b384dad2-d2b7-41dd-b9e2-830a5d211cd9\',\'QmbpFY9tgVfQbv94ea8f4SrfmUeQzdkUZ8wpF2tdvtFpSV\',\'824d6913-e9de-4c5f-a8e8-36a6ea043db2.mp3\',\'/file_storage/QmbpFY9tgVfQbv94ea8f4SrfmUeQzdkUZ8wpF2tdvtFpSV\',\'copy320\',\'2020-03-05 17:40:53.802 +00:00\',\'2020-03-05 17:40:53.802 +00:00\') RETURNING *"\nPL/pgSQL function pg_temp_14.testfunc() line 1 at SQL statement',
     schema: 'public',
     table: 'Files',
     column: undefined,
     dataType: undefined,
     constraint: 'Files_cnodeUserUUID_fkey',
     file: 'ri_triggers.c',
     line: '2783',
     routine: 'ri_ReportViolation',
     sql:
      'CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_8bf73e132c31441989a6b3fac3d9b20b$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES (\'423581fc-a9e6-4573-8cc5-b5e5f24c4ab7\',\'61375eee-111f-48df-b4ff-d8fec33921e2\',\'b384dad2-d2b7-41dd-b9e2-830a5d211cd9\',\'QmbpFY9tgVfQbv94ea8f4SrfmUeQzdkUZ8wpF2tdvtFpSV\',\'824d6913-e9de-4c5f-a8e8-36a6ea043db2.mp3\',\'/file_storage/QmbpFY9tgVfQbv94ea8f4SrfmUeQzdkUZ8wpF2tdvtFpSV\',\'copy320\',\'2020-03-05 17:40:53.802 +00:00\',\'2020-03-05 17:40:53.802 +00:00\') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_8bf73e132c31441989a6b3fac3d9b20b$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();' },
  sql:
   'CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_8bf73e132c31441989a6b3fac3d9b20b$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES (\'423581fc-a9e6-4573-8cc5-b5e5f24c4ab7\',\'61375eee-111f-48df-b4ff-d8fec33921e2\',\'b384dad2-d2b7-41dd-b9e2-830a5d211cd9\',\'QmbpFY9tgVfQbv94ea8f4SrfmUeQzdkUZ8wpF2tdvtFpSV\',\'824d6913-e9de-4c5f-a8e8-36a6ea043db2.mp3\',\'/file_storage/QmbpFY9tgVfQbv94ea8f4SrfmUeQzdkUZ8wpF2tdvtFpSV\',\'copy320\',\'2020-03-05 17:40:53.802 +00:00\',\'2020-03-05 17:40:53.802 +00:00\') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_8bf73e132c31441989a6b3fac3d9b20b$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();',
  fields: null,
  table: 'Files',
  value: undefined,
  index: 'Files_cnodeUserUUID_fkey',
  reltype: undefined }
writing to db2...
Executing (506bb324-a57b-4ca4-b7fa-6601e171e517): START TRANSACTION;
Executing (506bb324-a57b-4ca4-b7fa-6601e171e517): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '61375eee-111f-48df-b4ff-d8fec33921e2' AND "File"."multihash" = 'QmbpFY9tgVfQbv94ea8f4SrfmUeQzdkUZ8wpF2tdvtFpSV' AND "File"."sourceFile" = '824d6913-e9de-4c5f-a8e8-36a6ea043db2.mp3' AND "File"."storagePath" = '/file_storage/QmbpFY9tgVfQbv94ea8f4SrfmUeQzdkUZ8wpF2tdvtFpSV' AND "File"."type" = 'copy320' AND "File"."trackUUID" = 'b384dad2-d2b7-41dd-b9e2-830a5d211cd9' LIMIT 1;
Executing (506bb324-a57b-4ca4-b7fa-6601e171e517): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_a138268ddb934c8cad57d3e31b0bfb12$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('b32d0334-262b-4185-92eb-7702fd606ac2','61375eee-111f-48df-b4ff-d8fec33921e2','b384dad2-d2b7-41dd-b9e2-830a5d211cd9','QmbpFY9tgVfQbv94ea8f4SrfmUeQzdkUZ8wpF2tdvtFpSV','824d6913-e9de-4c5f-a8e8-36a6ea043db2.mp3','/file_storage/QmbpFY9tgVfQbv94ea8f4SrfmUeQzdkUZ8wpF2tdvtFpSV','copy320','2020-03-05 17:40:54.197 +00:00','2020-03-05 17:40:54.197 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_a138268ddb934c8cad57d3e31b0bfb12$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (506bb324-a57b-4ca4-b7fa-6601e171e517): COMMIT;
{ fileUUID: 'b32d0334-262b-4185-92eb-7702fd606ac2',
  cnodeUserUUID: '61375eee-111f-48df-b4ff-d8fec33921e2',
  multihash: 'QmbpFY9tgVfQbv94ea8f4SrfmUeQzdkUZ8wpF2tdvtFpSV',
  sourceFile: '824d6913-e9de-4c5f-a8e8-36a6ea043db2.mp3',
  storagePath:
   '/file_storage/QmbpFY9tgVfQbv94ea8f4SrfmUeQzdkUZ8wpF2tdvtFpSV',
  type: 'copy320',
  trackUUID: 'b384dad2-d2b7-41dd-b9e2-830a5d211cd9',
  updatedAt: 2020-03-05T17:40:54.197Z,
  createdAt: 2020-03-05T17:40:54.197Z }
writing to db3...
Executing (3fb969f9-b4eb-49e0-8e74-fd693241f1ee): START TRANSACTION;
Executing (3fb969f9-b4eb-49e0-8e74-fd693241f1ee): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '61375eee-111f-48df-b4ff-d8fec33921e2' AND "File"."multihash" = 'QmbpFY9tgVfQbv94ea8f4SrfmUeQzdkUZ8wpF2tdvtFpSV' AND "File"."sourceFile" = '824d6913-e9de-4c5f-a8e8-36a6ea043db2.mp3' AND "File"."storagePath" = '/file_storage/QmbpFY9tgVfQbv94ea8f4SrfmUeQzdkUZ8wpF2tdvtFpSV' AND "File"."type" = 'copy320' AND "File"."trackUUID" = 'b384dad2-d2b7-41dd-b9e2-830a5d211cd9' LIMIT 1;
Executing (3fb969f9-b4eb-49e0-8e74-fd693241f1ee): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_abcb96dafb134ec19fb24d3d3d981aad$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('e1b71e5d-2893-41ed-9efc-1978f5e6ab9d','61375eee-111f-48df-b4ff-d8fec33921e2','b384dad2-d2b7-41dd-b9e2-830a5d211cd9','QmbpFY9tgVfQbv94ea8f4SrfmUeQzdkUZ8wpF2tdvtFpSV','824d6913-e9de-4c5f-a8e8-36a6ea043db2.mp3','/file_storage/QmbpFY9tgVfQbv94ea8f4SrfmUeQzdkUZ8wpF2tdvtFpSV','copy320','2020-03-05 17:40:54.615 +00:00','2020-03-05 17:40:54.615 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_abcb96dafb134ec19fb24d3d3d981aad$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (3fb969f9-b4eb-49e0-8e74-fd693241f1ee): COMMIT;
{ fileUUID: 'e1b71e5d-2893-41ed-9efc-1978f5e6ab9d',
  cnodeUserUUID: '61375eee-111f-48df-b4ff-d8fec33921e2',
  multihash: 'QmbpFY9tgVfQbv94ea8f4SrfmUeQzdkUZ8wpF2tdvtFpSV',
  sourceFile: '824d6913-e9de-4c5f-a8e8-36a6ea043db2.mp3',
  storagePath:
   '/file_storage/QmbpFY9tgVfQbv94ea8f4SrfmUeQzdkUZ8wpF2tdvtFpSV',
  type: 'copy320',
  trackUUID: 'b384dad2-d2b7-41dd-b9e2-830a5d211cd9',
  updatedAt: 2020-03-05T17:40:54.615Z,
  createdAt: 2020-03-05T17:40:54.615Z }




PROCESSING ROW #224: sourcefile: 66ac2d0f-4e20-44aa-a6fb-8e9f4bb6e414.mp3, cnodeUserUUID: 0e505165-4955-4bbc-a6e4-9873daf48d68, trackUUID: d3be92a2-3935-4a10-96ae-32b8985ddb47, multihash: Qmckbd4YBBQnhxiRFYRbTENSBDhJAojeNKrX3bP267A9Q3, dstPath: /file_storage/Qmckbd4YBBQnhxiRFYRbTENSBDhJAojeNKrX3bP267A9Q3
writing to db1...
Executing (8519e173-06b6-4845-9892-71fac19e60ca): START TRANSACTION;
Executing (8519e173-06b6-4845-9892-71fac19e60ca): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '0e505165-4955-4bbc-a6e4-9873daf48d68' AND "File"."multihash" = 'Qmckbd4YBBQnhxiRFYRbTENSBDhJAojeNKrX3bP267A9Q3' AND "File"."sourceFile" = '66ac2d0f-4e20-44aa-a6fb-8e9f4bb6e414.mp3' AND "File"."storagePath" = '/file_storage/Qmckbd4YBBQnhxiRFYRbTENSBDhJAojeNKrX3bP267A9Q3' AND "File"."type" = 'copy320' AND "File"."trackUUID" = 'd3be92a2-3935-4a10-96ae-32b8985ddb47' LIMIT 1;
Executing (8519e173-06b6-4845-9892-71fac19e60ca): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_0ca130316bce44f89856528a86b43617$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('5cbe0fc0-9662-41cf-a31b-7f0fa768ab35','0e505165-4955-4bbc-a6e4-9873daf48d68','d3be92a2-3935-4a10-96ae-32b8985ddb47','Qmckbd4YBBQnhxiRFYRbTENSBDhJAojeNKrX3bP267A9Q3','66ac2d0f-4e20-44aa-a6fb-8e9f4bb6e414.mp3','/file_storage/Qmckbd4YBBQnhxiRFYRbTENSBDhJAojeNKrX3bP267A9Q3','copy320','2020-03-05 17:40:55.022 +00:00','2020-03-05 17:40:55.022 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_0ca130316bce44f89856528a86b43617$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (8519e173-06b6-4845-9892-71fac19e60ca): COMMIT;
{ SequelizeForeignKeyConstraintError: insert or update on table "Files" violates foreign key constraint "Files_cnodeUserUUID_fkey"
    at Query.formatError (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/sequelize/lib/dialects/postgres/query.js:296:16)
    at query.catch.err (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/sequelize/lib/dialects/postgres/query.js:86:18)
    at tryCatcher (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/bluebird/js/release/util.js:16:23)
    at Promise._settlePromiseFromHandler (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/bluebird/js/release/promise.js:517:31)
    at Promise._settlePromise (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/bluebird/js/release/promise.js:574:18)
    at Promise._settlePromise0 (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/bluebird/js/release/promise.js:619:10)
    at Promise._settlePromises (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/bluebird/js/release/promise.js:695:18)
    at _drainQueueStep (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/bluebird/js/release/async.js:138:12)
    at _drainQueue (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/bluebird/js/release/async.js:131:9)
    at Async._drainQueues (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/bluebird/js/release/async.js:147:5)
    at Immediate.Async.drainQueues [as _onImmediate] (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/bluebird/js/release/async.js:17:14)
    at runCallback (timers.js:705:18)
    at tryOnImmediate (timers.js:676:5)
    at processImmediate (timers.js:658:5)
  name: 'SequelizeForeignKeyConstraintError',
  parent:
   { error: insert or update on table "Files" violates foreign key constraint "Files_cnodeUserUUID_fkey"
       at Connection.parseE (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/pg/lib/connection.js:604:11)
       at Connection.parseMessage (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/pg/lib/connection.js:401:19)
       at Socket.<anonymous> (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/pg/lib/connection.js:121:22)
       at Socket.emit (events.js:198:13)
       at addChunk (_stream_readable.js:288:12)
       at readableAddChunk (_stream_readable.js:269:11)
       at Socket.Readable.push (_stream_readable.js:224:10)
       at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)
     name: 'error',
     length: 881,
     severity: 'ERROR',
     code: '23503',
     detail:
      'Key (cnodeUserUUID)=(0e505165-4955-4bbc-a6e4-9873daf48d68) is not present in table "CNodeUsers".',
     hint: undefined,
     position: undefined,
     internalPosition: undefined,
     internalQuery: undefined,
     where:
      'SQL statement "INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES (\'5cbe0fc0-9662-41cf-a31b-7f0fa768ab35\',\'0e505165-4955-4bbc-a6e4-9873daf48d68\',\'d3be92a2-3935-4a10-96ae-32b8985ddb47\',\'Qmckbd4YBBQnhxiRFYRbTENSBDhJAojeNKrX3bP267A9Q3\',\'66ac2d0f-4e20-44aa-a6fb-8e9f4bb6e414.mp3\',\'/file_storage/Qmckbd4YBBQnhxiRFYRbTENSBDhJAojeNKrX3bP267A9Q3\',\'copy320\',\'2020-03-05 17:40:55.022 +00:00\',\'2020-03-05 17:40:55.022 +00:00\') RETURNING *"\nPL/pgSQL function pg_temp_16.testfunc() line 1 at SQL statement',
     schema: 'public',
     table: 'Files',
     column: undefined,
     dataType: undefined,
     constraint: 'Files_cnodeUserUUID_fkey',
     file: 'ri_triggers.c',
     line: '2783',
     routine: 'ri_ReportViolation',
     sql:
      'CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_0ca130316bce44f89856528a86b43617$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES (\'5cbe0fc0-9662-41cf-a31b-7f0fa768ab35\',\'0e505165-4955-4bbc-a6e4-9873daf48d68\',\'d3be92a2-3935-4a10-96ae-32b8985ddb47\',\'Qmckbd4YBBQnhxiRFYRbTENSBDhJAojeNKrX3bP267A9Q3\',\'66ac2d0f-4e20-44aa-a6fb-8e9f4bb6e414.mp3\',\'/file_storage/Qmckbd4YBBQnhxiRFYRbTENSBDhJAojeNKrX3bP267A9Q3\',\'copy320\',\'2020-03-05 17:40:55.022 +00:00\',\'2020-03-05 17:40:55.022 +00:00\') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_0ca130316bce44f89856528a86b43617$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();' },
  original:
   { error: insert or update on table "Files" violates foreign key constraint "Files_cnodeUserUUID_fkey"
       at Connection.parseE (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/pg/lib/connection.js:604:11)
       at Connection.parseMessage (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/pg/lib/connection.js:401:19)
       at Socket.<anonymous> (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/pg/lib/connection.js:121:22)
       at Socket.emit (events.js:198:13)
       at addChunk (_stream_readable.js:288:12)
       at readableAddChunk (_stream_readable.js:269:11)
       at Socket.Readable.push (_stream_readable.js:224:10)
       at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)
     name: 'error',
     length: 881,
     severity: 'ERROR',
     code: '23503',
     detail:
      'Key (cnodeUserUUID)=(0e505165-4955-4bbc-a6e4-9873daf48d68) is not present in table "CNodeUsers".',
     hint: undefined,
     position: undefined,
     internalPosition: undefined,
     internalQuery: undefined,
     where:
      'SQL statement "INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES (\'5cbe0fc0-9662-41cf-a31b-7f0fa768ab35\',\'0e505165-4955-4bbc-a6e4-9873daf48d68\',\'d3be92a2-3935-4a10-96ae-32b8985ddb47\',\'Qmckbd4YBBQnhxiRFYRbTENSBDhJAojeNKrX3bP267A9Q3\',\'66ac2d0f-4e20-44aa-a6fb-8e9f4bb6e414.mp3\',\'/file_storage/Qmckbd4YBBQnhxiRFYRbTENSBDhJAojeNKrX3bP267A9Q3\',\'copy320\',\'2020-03-05 17:40:55.022 +00:00\',\'2020-03-05 17:40:55.022 +00:00\') RETURNING *"\nPL/pgSQL function pg_temp_16.testfunc() line 1 at SQL statement',
     schema: 'public',
     table: 'Files',
     column: undefined,
     dataType: undefined,
     constraint: 'Files_cnodeUserUUID_fkey',
     file: 'ri_triggers.c',
     line: '2783',
     routine: 'ri_ReportViolation',
     sql:
      'CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_0ca130316bce44f89856528a86b43617$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES (\'5cbe0fc0-9662-41cf-a31b-7f0fa768ab35\',\'0e505165-4955-4bbc-a6e4-9873daf48d68\',\'d3be92a2-3935-4a10-96ae-32b8985ddb47\',\'Qmckbd4YBBQnhxiRFYRbTENSBDhJAojeNKrX3bP267A9Q3\',\'66ac2d0f-4e20-44aa-a6fb-8e9f4bb6e414.mp3\',\'/file_storage/Qmckbd4YBBQnhxiRFYRbTENSBDhJAojeNKrX3bP267A9Q3\',\'copy320\',\'2020-03-05 17:40:55.022 +00:00\',\'2020-03-05 17:40:55.022 +00:00\') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_0ca130316bce44f89856528a86b43617$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();' },
  sql:
   'CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_0ca130316bce44f89856528a86b43617$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES (\'5cbe0fc0-9662-41cf-a31b-7f0fa768ab35\',\'0e505165-4955-4bbc-a6e4-9873daf48d68\',\'d3be92a2-3935-4a10-96ae-32b8985ddb47\',\'Qmckbd4YBBQnhxiRFYRbTENSBDhJAojeNKrX3bP267A9Q3\',\'66ac2d0f-4e20-44aa-a6fb-8e9f4bb6e414.mp3\',\'/file_storage/Qmckbd4YBBQnhxiRFYRbTENSBDhJAojeNKrX3bP267A9Q3\',\'copy320\',\'2020-03-05 17:40:55.022 +00:00\',\'2020-03-05 17:40:55.022 +00:00\') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_0ca130316bce44f89856528a86b43617$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();',
  fields: null,
  table: 'Files',
  value: undefined,
  index: 'Files_cnodeUserUUID_fkey',
  reltype: undefined }
writing to db2...
Executing (081640a7-d647-4b0d-a355-4d4736ae00e0): START TRANSACTION;
Executing (081640a7-d647-4b0d-a355-4d4736ae00e0): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '0e505165-4955-4bbc-a6e4-9873daf48d68' AND "File"."multihash" = 'Qmckbd4YBBQnhxiRFYRbTENSBDhJAojeNKrX3bP267A9Q3' AND "File"."sourceFile" = '66ac2d0f-4e20-44aa-a6fb-8e9f4bb6e414.mp3' AND "File"."storagePath" = '/file_storage/Qmckbd4YBBQnhxiRFYRbTENSBDhJAojeNKrX3bP267A9Q3' AND "File"."type" = 'copy320' AND "File"."trackUUID" = 'd3be92a2-3935-4a10-96ae-32b8985ddb47' LIMIT 1;
Executing (081640a7-d647-4b0d-a355-4d4736ae00e0): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_9fffa9f397b3463f94b8bf5e021dc9bd$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('4f5bfae8-4302-4355-86f2-d5c39e2b10b1','0e505165-4955-4bbc-a6e4-9873daf48d68','d3be92a2-3935-4a10-96ae-32b8985ddb47','Qmckbd4YBBQnhxiRFYRbTENSBDhJAojeNKrX3bP267A9Q3','66ac2d0f-4e20-44aa-a6fb-8e9f4bb6e414.mp3','/file_storage/Qmckbd4YBBQnhxiRFYRbTENSBDhJAojeNKrX3bP267A9Q3','copy320','2020-03-05 17:40:55.425 +00:00','2020-03-05 17:40:55.425 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_9fffa9f397b3463f94b8bf5e021dc9bd$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (081640a7-d647-4b0d-a355-4d4736ae00e0): COMMIT;
{ fileUUID: '4f5bfae8-4302-4355-86f2-d5c39e2b10b1',
  cnodeUserUUID: '0e505165-4955-4bbc-a6e4-9873daf48d68',
  multihash: 'Qmckbd4YBBQnhxiRFYRbTENSBDhJAojeNKrX3bP267A9Q3',
  sourceFile: '66ac2d0f-4e20-44aa-a6fb-8e9f4bb6e414.mp3',
  storagePath:
   '/file_storage/Qmckbd4YBBQnhxiRFYRbTENSBDhJAojeNKrX3bP267A9Q3',
  type: 'copy320',
  trackUUID: 'd3be92a2-3935-4a10-96ae-32b8985ddb47',
  updatedAt: 2020-03-05T17:40:55.425Z,
  createdAt: 2020-03-05T17:40:55.425Z }
writing to db3...
Executing (7430f606-941f-4c7b-936a-b0f5426856d7): START TRANSACTION;
Executing (7430f606-941f-4c7b-936a-b0f5426856d7): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '0e505165-4955-4bbc-a6e4-9873daf48d68' AND "File"."multihash" = 'Qmckbd4YBBQnhxiRFYRbTENSBDhJAojeNKrX3bP267A9Q3' AND "File"."sourceFile" = '66ac2d0f-4e20-44aa-a6fb-8e9f4bb6e414.mp3' AND "File"."storagePath" = '/file_storage/Qmckbd4YBBQnhxiRFYRbTENSBDhJAojeNKrX3bP267A9Q3' AND "File"."type" = 'copy320' AND "File"."trackUUID" = 'd3be92a2-3935-4a10-96ae-32b8985ddb47' LIMIT 1;
Executing (7430f606-941f-4c7b-936a-b0f5426856d7): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_1e06dc157ed1448da64e8588573c7ea7$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('e38d7f78-4f3c-4add-a78d-0f655424184c','0e505165-4955-4bbc-a6e4-9873daf48d68','d3be92a2-3935-4a10-96ae-32b8985ddb47','Qmckbd4YBBQnhxiRFYRbTENSBDhJAojeNKrX3bP267A9Q3','66ac2d0f-4e20-44aa-a6fb-8e9f4bb6e414.mp3','/file_storage/Qmckbd4YBBQnhxiRFYRbTENSBDhJAojeNKrX3bP267A9Q3','copy320','2020-03-05 17:40:55.831 +00:00','2020-03-05 17:40:55.831 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_1e06dc157ed1448da64e8588573c7ea7$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (7430f606-941f-4c7b-936a-b0f5426856d7): COMMIT;
{ SequelizeForeignKeyConstraintError: insert or update on table "Files" violates foreign key constraint "Files_cnodeUserUUID_fkey"
    at Query.formatError (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/sequelize/lib/dialects/postgres/query.js:296:16)
    at query.catch.err (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/sequelize/lib/dialects/postgres/query.js:86:18)
    at tryCatcher (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/bluebird/js/release/util.js:16:23)
    at Promise._settlePromiseFromHandler (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/bluebird/js/release/promise.js:517:31)
    at Promise._settlePromise (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/bluebird/js/release/promise.js:574:18)
    at Promise._settlePromise0 (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/bluebird/js/release/promise.js:619:10)
    at Promise._settlePromises (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/bluebird/js/release/promise.js:695:18)
    at _drainQueueStep (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/bluebird/js/release/async.js:138:12)
    at _drainQueue (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/bluebird/js/release/async.js:131:9)
    at Async._drainQueues (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/bluebird/js/release/async.js:147:5)
    at Immediate.Async.drainQueues [as _onImmediate] (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/bluebird/js/release/async.js:17:14)
    at runCallback (timers.js:705:18)
    at tryOnImmediate (timers.js:676:5)
    at processImmediate (timers.js:658:5)
  name: 'SequelizeForeignKeyConstraintError',
  parent:
   { error: insert or update on table "Files" violates foreign key constraint "Files_cnodeUserUUID_fkey"
       at Connection.parseE (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/pg/lib/connection.js:604:11)
       at Connection.parseMessage (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/pg/lib/connection.js:401:19)
       at Socket.<anonymous> (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/pg/lib/connection.js:121:22)
       at Socket.emit (events.js:198:13)
       at addChunk (_stream_readable.js:288:12)
       at readableAddChunk (_stream_readable.js:269:11)
       at Socket.Readable.push (_stream_readable.js:224:10)
       at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)
     name: 'error',
     length: 881,
     severity: 'ERROR',
     code: '23503',
     detail:
      'Key (cnodeUserUUID)=(0e505165-4955-4bbc-a6e4-9873daf48d68) is not present in table "CNodeUsers".',
     hint: undefined,
     position: undefined,
     internalPosition: undefined,
     internalQuery: undefined,
     where:
      'SQL statement "INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES (\'e38d7f78-4f3c-4add-a78d-0f655424184c\',\'0e505165-4955-4bbc-a6e4-9873daf48d68\',\'d3be92a2-3935-4a10-96ae-32b8985ddb47\',\'Qmckbd4YBBQnhxiRFYRbTENSBDhJAojeNKrX3bP267A9Q3\',\'66ac2d0f-4e20-44aa-a6fb-8e9f4bb6e414.mp3\',\'/file_storage/Qmckbd4YBBQnhxiRFYRbTENSBDhJAojeNKrX3bP267A9Q3\',\'copy320\',\'2020-03-05 17:40:55.831 +00:00\',\'2020-03-05 17:40:55.831 +00:00\') RETURNING *"\nPL/pgSQL function pg_temp_65.testfunc() line 1 at SQL statement',
     schema: 'public',
     table: 'Files',
     column: undefined,
     dataType: undefined,
     constraint: 'Files_cnodeUserUUID_fkey',
     file: 'ri_triggers.c',
     line: '2783',
     routine: 'ri_ReportViolation',
     sql:
      'CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_1e06dc157ed1448da64e8588573c7ea7$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES (\'e38d7f78-4f3c-4add-a78d-0f655424184c\',\'0e505165-4955-4bbc-a6e4-9873daf48d68\',\'d3be92a2-3935-4a10-96ae-32b8985ddb47\',\'Qmckbd4YBBQnhxiRFYRbTENSBDhJAojeNKrX3bP267A9Q3\',\'66ac2d0f-4e20-44aa-a6fb-8e9f4bb6e414.mp3\',\'/file_storage/Qmckbd4YBBQnhxiRFYRbTENSBDhJAojeNKrX3bP267A9Q3\',\'copy320\',\'2020-03-05 17:40:55.831 +00:00\',\'2020-03-05 17:40:55.831 +00:00\') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_1e06dc157ed1448da64e8588573c7ea7$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();' },
  original:
   { error: insert or update on table "Files" violates foreign key constraint "Files_cnodeUserUUID_fkey"
       at Connection.parseE (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/pg/lib/connection.js:604:11)
       at Connection.parseMessage (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/pg/lib/connection.js:401:19)
       at Socket.<anonymous> (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/pg/lib/connection.js:121:22)
       at Socket.emit (events.js:198:13)
       at addChunk (_stream_readable.js:288:12)
       at readableAddChunk (_stream_readable.js:269:11)
       at Socket.Readable.push (_stream_readable.js:224:10)
       at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)
     name: 'error',
     length: 881,
     severity: 'ERROR',
     code: '23503',
     detail:
      'Key (cnodeUserUUID)=(0e505165-4955-4bbc-a6e4-9873daf48d68) is not present in table "CNodeUsers".',
     hint: undefined,
     position: undefined,
     internalPosition: undefined,
     internalQuery: undefined,
     where:
      'SQL statement "INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES (\'e38d7f78-4f3c-4add-a78d-0f655424184c\',\'0e505165-4955-4bbc-a6e4-9873daf48d68\',\'d3be92a2-3935-4a10-96ae-32b8985ddb47\',\'Qmckbd4YBBQnhxiRFYRbTENSBDhJAojeNKrX3bP267A9Q3\',\'66ac2d0f-4e20-44aa-a6fb-8e9f4bb6e414.mp3\',\'/file_storage/Qmckbd4YBBQnhxiRFYRbTENSBDhJAojeNKrX3bP267A9Q3\',\'copy320\',\'2020-03-05 17:40:55.831 +00:00\',\'2020-03-05 17:40:55.831 +00:00\') RETURNING *"\nPL/pgSQL function pg_temp_65.testfunc() line 1 at SQL statement',
     schema: 'public',
     table: 'Files',
     column: undefined,
     dataType: undefined,
     constraint: 'Files_cnodeUserUUID_fkey',
     file: 'ri_triggers.c',
     line: '2783',
     routine: 'ri_ReportViolation',
     sql:
      'CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_1e06dc157ed1448da64e8588573c7ea7$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES (\'e38d7f78-4f3c-4add-a78d-0f655424184c\',\'0e505165-4955-4bbc-a6e4-9873daf48d68\',\'d3be92a2-3935-4a10-96ae-32b8985ddb47\',\'Qmckbd4YBBQnhxiRFYRbTENSBDhJAojeNKrX3bP267A9Q3\',\'66ac2d0f-4e20-44aa-a6fb-8e9f4bb6e414.mp3\',\'/file_storage/Qmckbd4YBBQnhxiRFYRbTENSBDhJAojeNKrX3bP267A9Q3\',\'copy320\',\'2020-03-05 17:40:55.831 +00:00\',\'2020-03-05 17:40:55.831 +00:00\') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_1e06dc157ed1448da64e8588573c7ea7$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();' },
  sql:
   'CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_1e06dc157ed1448da64e8588573c7ea7$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES (\'e38d7f78-4f3c-4add-a78d-0f655424184c\',\'0e505165-4955-4bbc-a6e4-9873daf48d68\',\'d3be92a2-3935-4a10-96ae-32b8985ddb47\',\'Qmckbd4YBBQnhxiRFYRbTENSBDhJAojeNKrX3bP267A9Q3\',\'66ac2d0f-4e20-44aa-a6fb-8e9f4bb6e414.mp3\',\'/file_storage/Qmckbd4YBBQnhxiRFYRbTENSBDhJAojeNKrX3bP267A9Q3\',\'copy320\',\'2020-03-05 17:40:55.831 +00:00\',\'2020-03-05 17:40:55.831 +00:00\') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_1e06dc157ed1448da64e8588573c7ea7$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();',
  fields: null,
  table: 'Files',
  value: undefined,
  index: 'Files_cnodeUserUUID_fkey',
  reltype: undefined }




PROCESSING ROW #225: sourcefile: e2b51d3f-546f-4348-8da0-515deb6693bc.mp3, cnodeUserUUID: 79649df0-ffc1-463c-9196-95d156d6b915, trackUUID: 5c9ec8f4-e60f-4f4d-875b-e5c1145b1e94, multihash: QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM, dstPath: /file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM
writing to db1...
Executing (de18882d-f4ad-474e-8ee8-5c0c196a275f): START TRANSACTION;
Executing (de18882d-f4ad-474e-8ee8-5c0c196a275f): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '79649df0-ffc1-463c-9196-95d156d6b915' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = 'e2b51d3f-546f-4348-8da0-515deb6693bc.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '5c9ec8f4-e60f-4f4d-875b-e5c1145b1e94' LIMIT 1;
Executing (de18882d-f4ad-474e-8ee8-5c0c196a275f): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_e0b21257ce884ec0ac5758eb5966849e$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('6cf47778-d11a-4b21-be01-6994d2a7e0b9','79649df0-ffc1-463c-9196-95d156d6b915','5c9ec8f4-e60f-4f4d-875b-e5c1145b1e94','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','e2b51d3f-546f-4348-8da0-515deb6693bc.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:40:56.225 +00:00','2020-03-05 17:40:56.225 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_e0b21257ce884ec0ac5758eb5966849e$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (de18882d-f4ad-474e-8ee8-5c0c196a275f): COMMIT;
{ SequelizeForeignKeyConstraintError: insert or update on table "Files" violates foreign key constraint "Files_cnodeUserUUID_fkey"
    at Query.formatError (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/sequelize/lib/dialects/postgres/query.js:296:16)
    at query.catch.err (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/sequelize/lib/dialects/postgres/query.js:86:18)
    at tryCatcher (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/bluebird/js/release/util.js:16:23)
    at Promise._settlePromiseFromHandler (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/bluebird/js/release/promise.js:517:31)
    at Promise._settlePromise (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/bluebird/js/release/promise.js:574:18)
    at Promise._settlePromise0 (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/bluebird/js/release/promise.js:619:10)
    at Promise._settlePromises (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/bluebird/js/release/promise.js:695:18)
    at _drainQueueStep (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/bluebird/js/release/async.js:138:12)
    at _drainQueue (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/bluebird/js/release/async.js:131:9)
    at Async._drainQueues (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/bluebird/js/release/async.js:147:5)
    at Immediate.Async.drainQueues [as _onImmediate] (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/bluebird/js/release/async.js:17:14)
    at runCallback (timers.js:705:18)
    at tryOnImmediate (timers.js:676:5)
    at processImmediate (timers.js:658:5)
  name: 'SequelizeForeignKeyConstraintError',
  parent:
   { error: insert or update on table "Files" violates foreign key constraint "Files_cnodeUserUUID_fkey"
       at Connection.parseE (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/pg/lib/connection.js:604:11)
       at Connection.parseMessage (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/pg/lib/connection.js:401:19)
       at Socket.<anonymous> (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/pg/lib/connection.js:121:22)
       at Socket.emit (events.js:198:13)
       at addChunk (_stream_readable.js:288:12)
       at readableAddChunk (_stream_readable.js:269:11)
       at Socket.Readable.push (_stream_readable.js:224:10)
       at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)
     name: 'error',
     length: 881,
     severity: 'ERROR',
     code: '23503',
     detail:
      'Key (cnodeUserUUID)=(79649df0-ffc1-463c-9196-95d156d6b915) is not present in table "CNodeUsers".',
     hint: undefined,
     position: undefined,
     internalPosition: undefined,
     internalQuery: undefined,
     where:
      'SQL statement "INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES (\'6cf47778-d11a-4b21-be01-6994d2a7e0b9\',\'79649df0-ffc1-463c-9196-95d156d6b915\',\'5c9ec8f4-e60f-4f4d-875b-e5c1145b1e94\',\'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM\',\'e2b51d3f-546f-4348-8da0-515deb6693bc.mp3\',\'/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM\',\'copy320\',\'2020-03-05 17:40:56.225 +00:00\',\'2020-03-05 17:40:56.225 +00:00\') RETURNING *"\nPL/pgSQL function pg_temp_13.testfunc() line 1 at SQL statement',
     schema: 'public',
     table: 'Files',
     column: undefined,
     dataType: undefined,
     constraint: 'Files_cnodeUserUUID_fkey',
     file: 'ri_triggers.c',
     line: '2783',
     routine: 'ri_ReportViolation',
     sql:
      'CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_e0b21257ce884ec0ac5758eb5966849e$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES (\'6cf47778-d11a-4b21-be01-6994d2a7e0b9\',\'79649df0-ffc1-463c-9196-95d156d6b915\',\'5c9ec8f4-e60f-4f4d-875b-e5c1145b1e94\',\'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM\',\'e2b51d3f-546f-4348-8da0-515deb6693bc.mp3\',\'/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM\',\'copy320\',\'2020-03-05 17:40:56.225 +00:00\',\'2020-03-05 17:40:56.225 +00:00\') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_e0b21257ce884ec0ac5758eb5966849e$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();' },
  original:
   { error: insert or update on table "Files" violates foreign key constraint "Files_cnodeUserUUID_fkey"
       at Connection.parseE (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/pg/lib/connection.js:604:11)
       at Connection.parseMessage (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/pg/lib/connection.js:401:19)
       at Socket.<anonymous> (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/pg/lib/connection.js:121:22)
       at Socket.emit (events.js:198:13)
       at addChunk (_stream_readable.js:288:12)
       at readableAddChunk (_stream_readable.js:269:11)
       at Socket.Readable.push (_stream_readable.js:224:10)
       at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)
     name: 'error',
     length: 881,
     severity: 'ERROR',
     code: '23503',
     detail:
      'Key (cnodeUserUUID)=(79649df0-ffc1-463c-9196-95d156d6b915) is not present in table "CNodeUsers".',
     hint: undefined,
     position: undefined,
     internalPosition: undefined,
     internalQuery: undefined,
     where:
      'SQL statement "INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES (\'6cf47778-d11a-4b21-be01-6994d2a7e0b9\',\'79649df0-ffc1-463c-9196-95d156d6b915\',\'5c9ec8f4-e60f-4f4d-875b-e5c1145b1e94\',\'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM\',\'e2b51d3f-546f-4348-8da0-515deb6693bc.mp3\',\'/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM\',\'copy320\',\'2020-03-05 17:40:56.225 +00:00\',\'2020-03-05 17:40:56.225 +00:00\') RETURNING *"\nPL/pgSQL function pg_temp_13.testfunc() line 1 at SQL statement',
     schema: 'public',
     table: 'Files',
     column: undefined,
     dataType: undefined,
     constraint: 'Files_cnodeUserUUID_fkey',
     file: 'ri_triggers.c',
     line: '2783',
     routine: 'ri_ReportViolation',
     sql:
      'CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_e0b21257ce884ec0ac5758eb5966849e$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES (\'6cf47778-d11a-4b21-be01-6994d2a7e0b9\',\'79649df0-ffc1-463c-9196-95d156d6b915\',\'5c9ec8f4-e60f-4f4d-875b-e5c1145b1e94\',\'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM\',\'e2b51d3f-546f-4348-8da0-515deb6693bc.mp3\',\'/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM\',\'copy320\',\'2020-03-05 17:40:56.225 +00:00\',\'2020-03-05 17:40:56.225 +00:00\') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_e0b21257ce884ec0ac5758eb5966849e$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();' },
  sql:
   'CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_e0b21257ce884ec0ac5758eb5966849e$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES (\'6cf47778-d11a-4b21-be01-6994d2a7e0b9\',\'79649df0-ffc1-463c-9196-95d156d6b915\',\'5c9ec8f4-e60f-4f4d-875b-e5c1145b1e94\',\'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM\',\'e2b51d3f-546f-4348-8da0-515deb6693bc.mp3\',\'/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM\',\'copy320\',\'2020-03-05 17:40:56.225 +00:00\',\'2020-03-05 17:40:56.225 +00:00\') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_e0b21257ce884ec0ac5758eb5966849e$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();',
  fields: null,
  table: 'Files',
  value: undefined,
  index: 'Files_cnodeUserUUID_fkey',
  reltype: undefined }
writing to db2...
Executing (a9ceb2a1-488b-422c-8e75-0f6b6f4fd7de): START TRANSACTION;
Executing (a9ceb2a1-488b-422c-8e75-0f6b6f4fd7de): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '79649df0-ffc1-463c-9196-95d156d6b915' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = 'e2b51d3f-546f-4348-8da0-515deb6693bc.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '5c9ec8f4-e60f-4f4d-875b-e5c1145b1e94' LIMIT 1;
Executing (a9ceb2a1-488b-422c-8e75-0f6b6f4fd7de): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_5b785929b0974f05bcaa7d091cfb0b9e$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('d8d5e34e-3bbb-46cb-84ae-6d4a413f8561','79649df0-ffc1-463c-9196-95d156d6b915','5c9ec8f4-e60f-4f4d-875b-e5c1145b1e94','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','e2b51d3f-546f-4348-8da0-515deb6693bc.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:40:56.623 +00:00','2020-03-05 17:40:56.623 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_5b785929b0974f05bcaa7d091cfb0b9e$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (a9ceb2a1-488b-422c-8e75-0f6b6f4fd7de): COMMIT;
{ fileUUID: 'd8d5e34e-3bbb-46cb-84ae-6d4a413f8561',
  cnodeUserUUID: '79649df0-ffc1-463c-9196-95d156d6b915',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: 'e2b51d3f-546f-4348-8da0-515deb6693bc.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: '5c9ec8f4-e60f-4f4d-875b-e5c1145b1e94',
  updatedAt: 2020-03-05T17:40:56.623Z,
  createdAt: 2020-03-05T17:40:56.623Z }
writing to db3...
Executing (d42c771d-66d9-464f-8265-f1b9940c10fa): START TRANSACTION;
Executing (d42c771d-66d9-464f-8265-f1b9940c10fa): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '79649df0-ffc1-463c-9196-95d156d6b915' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = 'e2b51d3f-546f-4348-8da0-515deb6693bc.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '5c9ec8f4-e60f-4f4d-875b-e5c1145b1e94' LIMIT 1;
Executing (d42c771d-66d9-464f-8265-f1b9940c10fa): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_9da01e84e0cc4e05b0b7cdffc6a05d2c$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('94b2067f-b1dc-4761-a2e0-52a82ffdd046','79649df0-ffc1-463c-9196-95d156d6b915','5c9ec8f4-e60f-4f4d-875b-e5c1145b1e94','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','e2b51d3f-546f-4348-8da0-515deb6693bc.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:40:57.018 +00:00','2020-03-05 17:40:57.018 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_9da01e84e0cc4e05b0b7cdffc6a05d2c$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (d42c771d-66d9-464f-8265-f1b9940c10fa): COMMIT;
{ SequelizeForeignKeyConstraintError: insert or update on table "Files" violates foreign key constraint "Files_cnodeUserUUID_fkey"
    at Query.formatError (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/sequelize/lib/dialects/postgres/query.js:296:16)
    at query.catch.err (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/sequelize/lib/dialects/postgres/query.js:86:18)
    at tryCatcher (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/bluebird/js/release/util.js:16:23)
    at Promise._settlePromiseFromHandler (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/bluebird/js/release/promise.js:517:31)
    at Promise._settlePromise (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/bluebird/js/release/promise.js:574:18)
    at Promise._settlePromise0 (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/bluebird/js/release/promise.js:619:10)
    at Promise._settlePromises (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/bluebird/js/release/promise.js:695:18)
    at _drainQueueStep (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/bluebird/js/release/async.js:138:12)
    at _drainQueue (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/bluebird/js/release/async.js:131:9)
    at Async._drainQueues (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/bluebird/js/release/async.js:147:5)
    at Immediate.Async.drainQueues [as _onImmediate] (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/bluebird/js/release/async.js:17:14)
    at runCallback (timers.js:705:18)
    at tryOnImmediate (timers.js:676:5)
    at processImmediate (timers.js:658:5)
  name: 'SequelizeForeignKeyConstraintError',
  parent:
   { error: insert or update on table "Files" violates foreign key constraint "Files_cnodeUserUUID_fkey"
       at Connection.parseE (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/pg/lib/connection.js:604:11)
       at Connection.parseMessage (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/pg/lib/connection.js:401:19)
       at Socket.<anonymous> (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/pg/lib/connection.js:121:22)
       at Socket.emit (events.js:198:13)
       at addChunk (_stream_readable.js:288:12)
       at readableAddChunk (_stream_readable.js:269:11)
       at Socket.Readable.push (_stream_readable.js:224:10)
       at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)
     name: 'error',
     length: 881,
     severity: 'ERROR',
     code: '23503',
     detail:
      'Key (cnodeUserUUID)=(79649df0-ffc1-463c-9196-95d156d6b915) is not present in table "CNodeUsers".',
     hint: undefined,
     position: undefined,
     internalPosition: undefined,
     internalQuery: undefined,
     where:
      'SQL statement "INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES (\'94b2067f-b1dc-4761-a2e0-52a82ffdd046\',\'79649df0-ffc1-463c-9196-95d156d6b915\',\'5c9ec8f4-e60f-4f4d-875b-e5c1145b1e94\',\'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM\',\'e2b51d3f-546f-4348-8da0-515deb6693bc.mp3\',\'/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM\',\'copy320\',\'2020-03-05 17:40:57.018 +00:00\',\'2020-03-05 17:40:57.018 +00:00\') RETURNING *"\nPL/pgSQL function pg_temp_10.testfunc() line 1 at SQL statement',
     schema: 'public',
     table: 'Files',
     column: undefined,
     dataType: undefined,
     constraint: 'Files_cnodeUserUUID_fkey',
     file: 'ri_triggers.c',
     line: '2783',
     routine: 'ri_ReportViolation',
     sql:
      'CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_9da01e84e0cc4e05b0b7cdffc6a05d2c$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES (\'94b2067f-b1dc-4761-a2e0-52a82ffdd046\',\'79649df0-ffc1-463c-9196-95d156d6b915\',\'5c9ec8f4-e60f-4f4d-875b-e5c1145b1e94\',\'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM\',\'e2b51d3f-546f-4348-8da0-515deb6693bc.mp3\',\'/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM\',\'copy320\',\'2020-03-05 17:40:57.018 +00:00\',\'2020-03-05 17:40:57.018 +00:00\') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_9da01e84e0cc4e05b0b7cdffc6a05d2c$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();' },
  original:
   { error: insert or update on table "Files" violates foreign key constraint "Files_cnodeUserUUID_fkey"
       at Connection.parseE (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/pg/lib/connection.js:604:11)
       at Connection.parseMessage (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/pg/lib/connection.js:401:19)
       at Socket.<anonymous> (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/pg/lib/connection.js:121:22)
       at Socket.emit (events.js:198:13)
       at addChunk (_stream_readable.js:288:12)
       at readableAddChunk (_stream_readable.js:269:11)
       at Socket.Readable.push (_stream_readable.js:224:10)
       at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)
     name: 'error',
     length: 881,
     severity: 'ERROR',
     code: '23503',
     detail:
      'Key (cnodeUserUUID)=(79649df0-ffc1-463c-9196-95d156d6b915) is not present in table "CNodeUsers".',
     hint: undefined,
     position: undefined,
     internalPosition: undefined,
     internalQuery: undefined,
     where:
      'SQL statement "INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES (\'94b2067f-b1dc-4761-a2e0-52a82ffdd046\',\'79649df0-ffc1-463c-9196-95d156d6b915\',\'5c9ec8f4-e60f-4f4d-875b-e5c1145b1e94\',\'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM\',\'e2b51d3f-546f-4348-8da0-515deb6693bc.mp3\',\'/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM\',\'copy320\',\'2020-03-05 17:40:57.018 +00:00\',\'2020-03-05 17:40:57.018 +00:00\') RETURNING *"\nPL/pgSQL function pg_temp_10.testfunc() line 1 at SQL statement',
     schema: 'public',
     table: 'Files',
     column: undefined,
     dataType: undefined,
     constraint: 'Files_cnodeUserUUID_fkey',
     file: 'ri_triggers.c',
     line: '2783',
     routine: 'ri_ReportViolation',
     sql:
      'CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_9da01e84e0cc4e05b0b7cdffc6a05d2c$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES (\'94b2067f-b1dc-4761-a2e0-52a82ffdd046\',\'79649df0-ffc1-463c-9196-95d156d6b915\',\'5c9ec8f4-e60f-4f4d-875b-e5c1145b1e94\',\'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM\',\'e2b51d3f-546f-4348-8da0-515deb6693bc.mp3\',\'/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM\',\'copy320\',\'2020-03-05 17:40:57.018 +00:00\',\'2020-03-05 17:40:57.018 +00:00\') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_9da01e84e0cc4e05b0b7cdffc6a05d2c$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();' },
  sql:
   'CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_9da01e84e0cc4e05b0b7cdffc6a05d2c$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES (\'94b2067f-b1dc-4761-a2e0-52a82ffdd046\',\'79649df0-ffc1-463c-9196-95d156d6b915\',\'5c9ec8f4-e60f-4f4d-875b-e5c1145b1e94\',\'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM\',\'e2b51d3f-546f-4348-8da0-515deb6693bc.mp3\',\'/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM\',\'copy320\',\'2020-03-05 17:40:57.018 +00:00\',\'2020-03-05 17:40:57.018 +00:00\') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_9da01e84e0cc4e05b0b7cdffc6a05d2c$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();',
  fields: null,
  table: 'Files',
  value: undefined,
  index: 'Files_cnodeUserUUID_fkey',
  reltype: undefined }




PROCESSING ROW #226: sourcefile: c94e1cb8-1f17-45d4-8f3f-b20320d06474.mp3, cnodeUserUUID: 30f0f30b-9094-4c79-bca8-199ba095fbca, trackUUID: f1271e61-82dc-4795-b60f-c60a02c72ef7, multihash: QmcAD35vXY3h9iXGDF2sLTMTZ4QER63yKVoFrJQUpps6bq, dstPath: /file_storage/QmcAD35vXY3h9iXGDF2sLTMTZ4QER63yKVoFrJQUpps6bq
writing to db1...
Executing (d32946e2-91a4-4627-8132-e60d0f1f2463): START TRANSACTION;
Executing (d32946e2-91a4-4627-8132-e60d0f1f2463): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '30f0f30b-9094-4c79-bca8-199ba095fbca' AND "File"."multihash" = 'QmcAD35vXY3h9iXGDF2sLTMTZ4QER63yKVoFrJQUpps6bq' AND "File"."sourceFile" = 'c94e1cb8-1f17-45d4-8f3f-b20320d06474.mp3' AND "File"."storagePath" = '/file_storage/QmcAD35vXY3h9iXGDF2sLTMTZ4QER63yKVoFrJQUpps6bq' AND "File"."type" = 'copy320' AND "File"."trackUUID" = 'f1271e61-82dc-4795-b60f-c60a02c72ef7' LIMIT 1;
Executing (d32946e2-91a4-4627-8132-e60d0f1f2463): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_0200265905ca40778bcb4a4b8dad2289$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('55593f8b-a901-4463-a428-b9dc630abf62','30f0f30b-9094-4c79-bca8-199ba095fbca','f1271e61-82dc-4795-b60f-c60a02c72ef7','QmcAD35vXY3h9iXGDF2sLTMTZ4QER63yKVoFrJQUpps6bq','c94e1cb8-1f17-45d4-8f3f-b20320d06474.mp3','/file_storage/QmcAD35vXY3h9iXGDF2sLTMTZ4QER63yKVoFrJQUpps6bq','copy320','2020-03-05 17:40:57.393 +00:00','2020-03-05 17:40:57.393 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_0200265905ca40778bcb4a4b8dad2289$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (d32946e2-91a4-4627-8132-e60d0f1f2463): COMMIT;
{ SequelizeForeignKeyConstraintError: insert or update on table "Files" violates foreign key constraint "Files_cnodeUserUUID_fkey"
    at Query.formatError (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/sequelize/lib/dialects/postgres/query.js:296:16)
    at query.catch.err (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/sequelize/lib/dialects/postgres/query.js:86:18)
    at tryCatcher (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/bluebird/js/release/util.js:16:23)
    at Promise._settlePromiseFromHandler (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/bluebird/js/release/promise.js:517:31)
    at Promise._settlePromise (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/bluebird/js/release/promise.js:574:18)
    at Promise._settlePromise0 (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/bluebird/js/release/promise.js:619:10)
    at Promise._settlePromises (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/bluebird/js/release/promise.js:695:18)
    at _drainQueueStep (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/bluebird/js/release/async.js:138:12)
    at _drainQueue (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/bluebird/js/release/async.js:131:9)
    at Async._drainQueues (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/bluebird/js/release/async.js:147:5)
    at Immediate.Async.drainQueues [as _onImmediate] (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/bluebird/js/release/async.js:17:14)
    at runCallback (timers.js:705:18)
    at tryOnImmediate (timers.js:676:5)
    at processImmediate (timers.js:658:5)
  name: 'SequelizeForeignKeyConstraintError',
  parent:
   { error: insert or update on table "Files" violates foreign key constraint "Files_cnodeUserUUID_fkey"
       at Connection.parseE (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/pg/lib/connection.js:604:11)
       at Connection.parseMessage (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/pg/lib/connection.js:401:19)
       at Socket.<anonymous> (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/pg/lib/connection.js:121:22)
       at Socket.emit (events.js:198:13)
       at addChunk (_stream_readable.js:288:12)
       at readableAddChunk (_stream_readable.js:269:11)
       at Socket.Readable.push (_stream_readable.js:224:10)
       at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)
     name: 'error',
     length: 881,
     severity: 'ERROR',
     code: '23503',
     detail:
      'Key (cnodeUserUUID)=(30f0f30b-9094-4c79-bca8-199ba095fbca) is not present in table "CNodeUsers".',
     hint: undefined,
     position: undefined,
     internalPosition: undefined,
     internalQuery: undefined,
     where:
      'SQL statement "INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES (\'55593f8b-a901-4463-a428-b9dc630abf62\',\'30f0f30b-9094-4c79-bca8-199ba095fbca\',\'f1271e61-82dc-4795-b60f-c60a02c72ef7\',\'QmcAD35vXY3h9iXGDF2sLTMTZ4QER63yKVoFrJQUpps6bq\',\'c94e1cb8-1f17-45d4-8f3f-b20320d06474.mp3\',\'/file_storage/QmcAD35vXY3h9iXGDF2sLTMTZ4QER63yKVoFrJQUpps6bq\',\'copy320\',\'2020-03-05 17:40:57.393 +00:00\',\'2020-03-05 17:40:57.393 +00:00\') RETURNING *"\nPL/pgSQL function pg_temp_12.testfunc() line 1 at SQL statement',
     schema: 'public',
     table: 'Files',
     column: undefined,
     dataType: undefined,
     constraint: 'Files_cnodeUserUUID_fkey',
     file: 'ri_triggers.c',
     line: '2783',
     routine: 'ri_ReportViolation',
     sql:
      'CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_0200265905ca40778bcb4a4b8dad2289$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES (\'55593f8b-a901-4463-a428-b9dc630abf62\',\'30f0f30b-9094-4c79-bca8-199ba095fbca\',\'f1271e61-82dc-4795-b60f-c60a02c72ef7\',\'QmcAD35vXY3h9iXGDF2sLTMTZ4QER63yKVoFrJQUpps6bq\',\'c94e1cb8-1f17-45d4-8f3f-b20320d06474.mp3\',\'/file_storage/QmcAD35vXY3h9iXGDF2sLTMTZ4QER63yKVoFrJQUpps6bq\',\'copy320\',\'2020-03-05 17:40:57.393 +00:00\',\'2020-03-05 17:40:57.393 +00:00\') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_0200265905ca40778bcb4a4b8dad2289$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();' },
  original:
   { error: insert or update on table "Files" violates foreign key constraint "Files_cnodeUserUUID_fkey"
       at Connection.parseE (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/pg/lib/connection.js:604:11)
       at Connection.parseMessage (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/pg/lib/connection.js:401:19)
       at Socket.<anonymous> (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/pg/lib/connection.js:121:22)
       at Socket.emit (events.js:198:13)
       at addChunk (_stream_readable.js:288:12)
       at readableAddChunk (_stream_readable.js:269:11)
       at Socket.Readable.push (_stream_readable.js:224:10)
       at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)
     name: 'error',
     length: 881,
     severity: 'ERROR',
     code: '23503',
     detail:
      'Key (cnodeUserUUID)=(30f0f30b-9094-4c79-bca8-199ba095fbca) is not present in table "CNodeUsers".',
     hint: undefined,
     position: undefined,
     internalPosition: undefined,
     internalQuery: undefined,
     where:
      'SQL statement "INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES (\'55593f8b-a901-4463-a428-b9dc630abf62\',\'30f0f30b-9094-4c79-bca8-199ba095fbca\',\'f1271e61-82dc-4795-b60f-c60a02c72ef7\',\'QmcAD35vXY3h9iXGDF2sLTMTZ4QER63yKVoFrJQUpps6bq\',\'c94e1cb8-1f17-45d4-8f3f-b20320d06474.mp3\',\'/file_storage/QmcAD35vXY3h9iXGDF2sLTMTZ4QER63yKVoFrJQUpps6bq\',\'copy320\',\'2020-03-05 17:40:57.393 +00:00\',\'2020-03-05 17:40:57.393 +00:00\') RETURNING *"\nPL/pgSQL function pg_temp_12.testfunc() line 1 at SQL statement',
     schema: 'public',
     table: 'Files',
     column: undefined,
     dataType: undefined,
     constraint: 'Files_cnodeUserUUID_fkey',
     file: 'ri_triggers.c',
     line: '2783',
     routine: 'ri_ReportViolation',
     sql:
      'CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_0200265905ca40778bcb4a4b8dad2289$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES (\'55593f8b-a901-4463-a428-b9dc630abf62\',\'30f0f30b-9094-4c79-bca8-199ba095fbca\',\'f1271e61-82dc-4795-b60f-c60a02c72ef7\',\'QmcAD35vXY3h9iXGDF2sLTMTZ4QER63yKVoFrJQUpps6bq\',\'c94e1cb8-1f17-45d4-8f3f-b20320d06474.mp3\',\'/file_storage/QmcAD35vXY3h9iXGDF2sLTMTZ4QER63yKVoFrJQUpps6bq\',\'copy320\',\'2020-03-05 17:40:57.393 +00:00\',\'2020-03-05 17:40:57.393 +00:00\') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_0200265905ca40778bcb4a4b8dad2289$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();' },
  sql:
   'CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_0200265905ca40778bcb4a4b8dad2289$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES (\'55593f8b-a901-4463-a428-b9dc630abf62\',\'30f0f30b-9094-4c79-bca8-199ba095fbca\',\'f1271e61-82dc-4795-b60f-c60a02c72ef7\',\'QmcAD35vXY3h9iXGDF2sLTMTZ4QER63yKVoFrJQUpps6bq\',\'c94e1cb8-1f17-45d4-8f3f-b20320d06474.mp3\',\'/file_storage/QmcAD35vXY3h9iXGDF2sLTMTZ4QER63yKVoFrJQUpps6bq\',\'copy320\',\'2020-03-05 17:40:57.393 +00:00\',\'2020-03-05 17:40:57.393 +00:00\') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_0200265905ca40778bcb4a4b8dad2289$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();',
  fields: null,
  table: 'Files',
  value: undefined,
  index: 'Files_cnodeUserUUID_fkey',
  reltype: undefined }
writing to db2...
Executing (df78f6e0-dcf1-4543-8ac1-ea461484aab0): START TRANSACTION;
Executing (df78f6e0-dcf1-4543-8ac1-ea461484aab0): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '30f0f30b-9094-4c79-bca8-199ba095fbca' AND "File"."multihash" = 'QmcAD35vXY3h9iXGDF2sLTMTZ4QER63yKVoFrJQUpps6bq' AND "File"."sourceFile" = 'c94e1cb8-1f17-45d4-8f3f-b20320d06474.mp3' AND "File"."storagePath" = '/file_storage/QmcAD35vXY3h9iXGDF2sLTMTZ4QER63yKVoFrJQUpps6bq' AND "File"."type" = 'copy320' AND "File"."trackUUID" = 'f1271e61-82dc-4795-b60f-c60a02c72ef7' LIMIT 1;
Executing (df78f6e0-dcf1-4543-8ac1-ea461484aab0): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_dd54008ccfb546b8946c74dc825c30fb$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('fb0e0c95-73f0-4346-a412-a6ac2d004de3','30f0f30b-9094-4c79-bca8-199ba095fbca','f1271e61-82dc-4795-b60f-c60a02c72ef7','QmcAD35vXY3h9iXGDF2sLTMTZ4QER63yKVoFrJQUpps6bq','c94e1cb8-1f17-45d4-8f3f-b20320d06474.mp3','/file_storage/QmcAD35vXY3h9iXGDF2sLTMTZ4QER63yKVoFrJQUpps6bq','copy320','2020-03-05 17:40:57.775 +00:00','2020-03-05 17:40:57.775 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_dd54008ccfb546b8946c74dc825c30fb$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (df78f6e0-dcf1-4543-8ac1-ea461484aab0): COMMIT;
{ fileUUID: 'fb0e0c95-73f0-4346-a412-a6ac2d004de3',
  cnodeUserUUID: '30f0f30b-9094-4c79-bca8-199ba095fbca',
  multihash: 'QmcAD35vXY3h9iXGDF2sLTMTZ4QER63yKVoFrJQUpps6bq',
  sourceFile: 'c94e1cb8-1f17-45d4-8f3f-b20320d06474.mp3',
  storagePath:
   '/file_storage/QmcAD35vXY3h9iXGDF2sLTMTZ4QER63yKVoFrJQUpps6bq',
  type: 'copy320',
  trackUUID: 'f1271e61-82dc-4795-b60f-c60a02c72ef7',
  updatedAt: 2020-03-05T17:40:57.775Z,
  createdAt: 2020-03-05T17:40:57.775Z }
writing to db3...
Executing (64bf5147-125d-4f07-a998-ef3f1faf675a): START TRANSACTION;
Executing (64bf5147-125d-4f07-a998-ef3f1faf675a): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '30f0f30b-9094-4c79-bca8-199ba095fbca' AND "File"."multihash" = 'QmcAD35vXY3h9iXGDF2sLTMTZ4QER63yKVoFrJQUpps6bq' AND "File"."sourceFile" = 'c94e1cb8-1f17-45d4-8f3f-b20320d06474.mp3' AND "File"."storagePath" = '/file_storage/QmcAD35vXY3h9iXGDF2sLTMTZ4QER63yKVoFrJQUpps6bq' AND "File"."type" = 'copy320' AND "File"."trackUUID" = 'f1271e61-82dc-4795-b60f-c60a02c72ef7' LIMIT 1;
Executing (64bf5147-125d-4f07-a998-ef3f1faf675a): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_9969d5de87af496d8f18c171bc687b76$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('aa78952e-c87b-4620-9cda-7a9159343a6b','30f0f30b-9094-4c79-bca8-199ba095fbca','f1271e61-82dc-4795-b60f-c60a02c72ef7','QmcAD35vXY3h9iXGDF2sLTMTZ4QER63yKVoFrJQUpps6bq','c94e1cb8-1f17-45d4-8f3f-b20320d06474.mp3','/file_storage/QmcAD35vXY3h9iXGDF2sLTMTZ4QER63yKVoFrJQUpps6bq','copy320','2020-03-05 17:40:58.161 +00:00','2020-03-05 17:40:58.161 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_9969d5de87af496d8f18c171bc687b76$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (64bf5147-125d-4f07-a998-ef3f1faf675a): COMMIT;
{ SequelizeForeignKeyConstraintError: insert or update on table "Files" violates foreign key constraint "Files_cnodeUserUUID_fkey"
    at Query.formatError (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/sequelize/lib/dialects/postgres/query.js:296:16)
    at query.catch.err (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/sequelize/lib/dialects/postgres/query.js:86:18)
    at tryCatcher (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/bluebird/js/release/util.js:16:23)
    at Promise._settlePromiseFromHandler (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/bluebird/js/release/promise.js:517:31)
    at Promise._settlePromise (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/bluebird/js/release/promise.js:574:18)
    at Promise._settlePromise0 (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/bluebird/js/release/promise.js:619:10)
    at Promise._settlePromises (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/bluebird/js/release/promise.js:695:18)
    at _drainQueueStep (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/bluebird/js/release/async.js:138:12)
    at _drainQueue (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/bluebird/js/release/async.js:131:9)
    at Async._drainQueues (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/bluebird/js/release/async.js:147:5)
    at Immediate.Async.drainQueues [as _onImmediate] (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/bluebird/js/release/async.js:17:14)
    at runCallback (timers.js:705:18)
    at tryOnImmediate (timers.js:676:5)
    at processImmediate (timers.js:658:5)
  name: 'SequelizeForeignKeyConstraintError',
  parent:
   { error: insert or update on table "Files" violates foreign key constraint "Files_cnodeUserUUID_fkey"
       at Connection.parseE (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/pg/lib/connection.js:604:11)
       at Connection.parseMessage (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/pg/lib/connection.js:401:19)
       at Socket.<anonymous> (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/pg/lib/connection.js:121:22)
       at Socket.emit (events.js:198:13)
       at addChunk (_stream_readable.js:288:12)
       at readableAddChunk (_stream_readable.js:269:11)
       at Socket.Readable.push (_stream_readable.js:224:10)
       at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)
     name: 'error',
     length: 881,
     severity: 'ERROR',
     code: '23503',
     detail:
      'Key (cnodeUserUUID)=(30f0f30b-9094-4c79-bca8-199ba095fbca) is not present in table "CNodeUsers".',
     hint: undefined,
     position: undefined,
     internalPosition: undefined,
     internalQuery: undefined,
     where:
      'SQL statement "INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES (\'aa78952e-c87b-4620-9cda-7a9159343a6b\',\'30f0f30b-9094-4c79-bca8-199ba095fbca\',\'f1271e61-82dc-4795-b60f-c60a02c72ef7\',\'QmcAD35vXY3h9iXGDF2sLTMTZ4QER63yKVoFrJQUpps6bq\',\'c94e1cb8-1f17-45d4-8f3f-b20320d06474.mp3\',\'/file_storage/QmcAD35vXY3h9iXGDF2sLTMTZ4QER63yKVoFrJQUpps6bq\',\'copy320\',\'2020-03-05 17:40:58.161 +00:00\',\'2020-03-05 17:40:58.161 +00:00\') RETURNING *"\nPL/pgSQL function pg_temp_67.testfunc() line 1 at SQL statement',
     schema: 'public',
     table: 'Files',
     column: undefined,
     dataType: undefined,
     constraint: 'Files_cnodeUserUUID_fkey',
     file: 'ri_triggers.c',
     line: '2783',
     routine: 'ri_ReportViolation',
     sql:
      'CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_9969d5de87af496d8f18c171bc687b76$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES (\'aa78952e-c87b-4620-9cda-7a9159343a6b\',\'30f0f30b-9094-4c79-bca8-199ba095fbca\',\'f1271e61-82dc-4795-b60f-c60a02c72ef7\',\'QmcAD35vXY3h9iXGDF2sLTMTZ4QER63yKVoFrJQUpps6bq\',\'c94e1cb8-1f17-45d4-8f3f-b20320d06474.mp3\',\'/file_storage/QmcAD35vXY3h9iXGDF2sLTMTZ4QER63yKVoFrJQUpps6bq\',\'copy320\',\'2020-03-05 17:40:58.161 +00:00\',\'2020-03-05 17:40:58.161 +00:00\') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_9969d5de87af496d8f18c171bc687b76$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();' },
  original:
   { error: insert or update on table "Files" violates foreign key constraint "Files_cnodeUserUUID_fkey"
       at Connection.parseE (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/pg/lib/connection.js:604:11)
       at Connection.parseMessage (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/pg/lib/connection.js:401:19)
       at Socket.<anonymous> (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/pg/lib/connection.js:121:22)
       at Socket.emit (events.js:198:13)
       at addChunk (_stream_readable.js:288:12)
       at readableAddChunk (_stream_readable.js:269:11)
       at Socket.Readable.push (_stream_readable.js:224:10)
       at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)
     name: 'error',
     length: 881,
     severity: 'ERROR',
     code: '23503',
     detail:
      'Key (cnodeUserUUID)=(30f0f30b-9094-4c79-bca8-199ba095fbca) is not present in table "CNodeUsers".',
     hint: undefined,
     position: undefined,
     internalPosition: undefined,
     internalQuery: undefined,
     where:
      'SQL statement "INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES (\'aa78952e-c87b-4620-9cda-7a9159343a6b\',\'30f0f30b-9094-4c79-bca8-199ba095fbca\',\'f1271e61-82dc-4795-b60f-c60a02c72ef7\',\'QmcAD35vXY3h9iXGDF2sLTMTZ4QER63yKVoFrJQUpps6bq\',\'c94e1cb8-1f17-45d4-8f3f-b20320d06474.mp3\',\'/file_storage/QmcAD35vXY3h9iXGDF2sLTMTZ4QER63yKVoFrJQUpps6bq\',\'copy320\',\'2020-03-05 17:40:58.161 +00:00\',\'2020-03-05 17:40:58.161 +00:00\') RETURNING *"\nPL/pgSQL function pg_temp_67.testfunc() line 1 at SQL statement',
     schema: 'public',
     table: 'Files',
     column: undefined,
     dataType: undefined,
     constraint: 'Files_cnodeUserUUID_fkey',
     file: 'ri_triggers.c',
     line: '2783',
     routine: 'ri_ReportViolation',
     sql:
      'CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_9969d5de87af496d8f18c171bc687b76$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES (\'aa78952e-c87b-4620-9cda-7a9159343a6b\',\'30f0f30b-9094-4c79-bca8-199ba095fbca\',\'f1271e61-82dc-4795-b60f-c60a02c72ef7\',\'QmcAD35vXY3h9iXGDF2sLTMTZ4QER63yKVoFrJQUpps6bq\',\'c94e1cb8-1f17-45d4-8f3f-b20320d06474.mp3\',\'/file_storage/QmcAD35vXY3h9iXGDF2sLTMTZ4QER63yKVoFrJQUpps6bq\',\'copy320\',\'2020-03-05 17:40:58.161 +00:00\',\'2020-03-05 17:40:58.161 +00:00\') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_9969d5de87af496d8f18c171bc687b76$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();' },
  sql:
   'CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_9969d5de87af496d8f18c171bc687b76$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES (\'aa78952e-c87b-4620-9cda-7a9159343a6b\',\'30f0f30b-9094-4c79-bca8-199ba095fbca\',\'f1271e61-82dc-4795-b60f-c60a02c72ef7\',\'QmcAD35vXY3h9iXGDF2sLTMTZ4QER63yKVoFrJQUpps6bq\',\'c94e1cb8-1f17-45d4-8f3f-b20320d06474.mp3\',\'/file_storage/QmcAD35vXY3h9iXGDF2sLTMTZ4QER63yKVoFrJQUpps6bq\',\'copy320\',\'2020-03-05 17:40:58.161 +00:00\',\'2020-03-05 17:40:58.161 +00:00\') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_9969d5de87af496d8f18c171bc687b76$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();',
  fields: null,
  table: 'Files',
  value: undefined,
  index: 'Files_cnodeUserUUID_fkey',
  reltype: undefined }




PROCESSING ROW #227: sourcefile: ca28022b-6655-41f0-8407-527607162bbf.mp3, cnodeUserUUID: 0e505165-4955-4bbc-a6e4-9873daf48d68, trackUUID: 39dfa10b-d514-4567-98b7-722638c16e62, multihash: QmSUNqmVaSRegYPd4SSguA9PqTRRyaNTb89z8K2kv7hw9G, dstPath: /file_storage/QmSUNqmVaSRegYPd4SSguA9PqTRRyaNTb89z8K2kv7hw9G
writing to db1...
Executing (e99ddc7d-8e5c-4c68-9ffd-3decad1efe51): START TRANSACTION;
Executing (e99ddc7d-8e5c-4c68-9ffd-3decad1efe51): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '0e505165-4955-4bbc-a6e4-9873daf48d68' AND "File"."multihash" = 'QmSUNqmVaSRegYPd4SSguA9PqTRRyaNTb89z8K2kv7hw9G' AND "File"."sourceFile" = 'ca28022b-6655-41f0-8407-527607162bbf.mp3' AND "File"."storagePath" = '/file_storage/QmSUNqmVaSRegYPd4SSguA9PqTRRyaNTb89z8K2kv7hw9G' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '39dfa10b-d514-4567-98b7-722638c16e62' LIMIT 1;
Executing (e99ddc7d-8e5c-4c68-9ffd-3decad1efe51): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_19e2ef5add7b4ac09f16c339c4c0c9fe$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('d93e7a2d-fdf9-464f-ab4d-8374ab3f5812','0e505165-4955-4bbc-a6e4-9873daf48d68','39dfa10b-d514-4567-98b7-722638c16e62','QmSUNqmVaSRegYPd4SSguA9PqTRRyaNTb89z8K2kv7hw9G','ca28022b-6655-41f0-8407-527607162bbf.mp3','/file_storage/QmSUNqmVaSRegYPd4SSguA9PqTRRyaNTb89z8K2kv7hw9G','copy320','2020-03-05 17:40:58.551 +00:00','2020-03-05 17:40:58.551 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_19e2ef5add7b4ac09f16c339c4c0c9fe$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (e99ddc7d-8e5c-4c68-9ffd-3decad1efe51): COMMIT;
{ SequelizeForeignKeyConstraintError: insert or update on table "Files" violates foreign key constraint "Files_cnodeUserUUID_fkey"
    at Query.formatError (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/sequelize/lib/dialects/postgres/query.js:296:16)
    at query.catch.err (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/sequelize/lib/dialects/postgres/query.js:86:18)
    at tryCatcher (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/bluebird/js/release/util.js:16:23)
    at Promise._settlePromiseFromHandler (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/bluebird/js/release/promise.js:517:31)
    at Promise._settlePromise (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/bluebird/js/release/promise.js:574:18)
    at Promise._settlePromise0 (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/bluebird/js/release/promise.js:619:10)
    at Promise._settlePromises (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/bluebird/js/release/promise.js:695:18)
    at _drainQueueStep (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/bluebird/js/release/async.js:138:12)
    at _drainQueue (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/bluebird/js/release/async.js:131:9)
    at Async._drainQueues (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/bluebird/js/release/async.js:147:5)
    at Immediate.Async.drainQueues [as _onImmediate] (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/bluebird/js/release/async.js:17:14)
    at runCallback (timers.js:705:18)
    at tryOnImmediate (timers.js:676:5)
    at processImmediate (timers.js:658:5)
  name: 'SequelizeForeignKeyConstraintError',
  parent:
   { error: insert or update on table "Files" violates foreign key constraint "Files_cnodeUserUUID_fkey"
       at Connection.parseE (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/pg/lib/connection.js:604:11)
       at Connection.parseMessage (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/pg/lib/connection.js:401:19)
       at Socket.<anonymous> (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/pg/lib/connection.js:121:22)
       at Socket.emit (events.js:198:13)
       at addChunk (_stream_readable.js:288:12)
       at readableAddChunk (_stream_readable.js:269:11)
       at Socket.Readable.push (_stream_readable.js:224:10)
       at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)
     name: 'error',
     length: 881,
     severity: 'ERROR',
     code: '23503',
     detail:
      'Key (cnodeUserUUID)=(0e505165-4955-4bbc-a6e4-9873daf48d68) is not present in table "CNodeUsers".',
     hint: undefined,
     position: undefined,
     internalPosition: undefined,
     internalQuery: undefined,
     where:
      'SQL statement "INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES (\'d93e7a2d-fdf9-464f-ab4d-8374ab3f5812\',\'0e505165-4955-4bbc-a6e4-9873daf48d68\',\'39dfa10b-d514-4567-98b7-722638c16e62\',\'QmSUNqmVaSRegYPd4SSguA9PqTRRyaNTb89z8K2kv7hw9G\',\'ca28022b-6655-41f0-8407-527607162bbf.mp3\',\'/file_storage/QmSUNqmVaSRegYPd4SSguA9PqTRRyaNTb89z8K2kv7hw9G\',\'copy320\',\'2020-03-05 17:40:58.551 +00:00\',\'2020-03-05 17:40:58.551 +00:00\') RETURNING *"\nPL/pgSQL function pg_temp_15.testfunc() line 1 at SQL statement',
     schema: 'public',
     table: 'Files',
     column: undefined,
     dataType: undefined,
     constraint: 'Files_cnodeUserUUID_fkey',
     file: 'ri_triggers.c',
     line: '2783',
     routine: 'ri_ReportViolation',
     sql:
      'CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_19e2ef5add7b4ac09f16c339c4c0c9fe$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES (\'d93e7a2d-fdf9-464f-ab4d-8374ab3f5812\',\'0e505165-4955-4bbc-a6e4-9873daf48d68\',\'39dfa10b-d514-4567-98b7-722638c16e62\',\'QmSUNqmVaSRegYPd4SSguA9PqTRRyaNTb89z8K2kv7hw9G\',\'ca28022b-6655-41f0-8407-527607162bbf.mp3\',\'/file_storage/QmSUNqmVaSRegYPd4SSguA9PqTRRyaNTb89z8K2kv7hw9G\',\'copy320\',\'2020-03-05 17:40:58.551 +00:00\',\'2020-03-05 17:40:58.551 +00:00\') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_19e2ef5add7b4ac09f16c339c4c0c9fe$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();' },
  original:
   { error: insert or update on table "Files" violates foreign key constraint "Files_cnodeUserUUID_fkey"
       at Connection.parseE (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/pg/lib/connection.js:604:11)
       at Connection.parseMessage (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/pg/lib/connection.js:401:19)
       at Socket.<anonymous> (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/pg/lib/connection.js:121:22)
       at Socket.emit (events.js:198:13)
       at addChunk (_stream_readable.js:288:12)
       at readableAddChunk (_stream_readable.js:269:11)
       at Socket.Readable.push (_stream_readable.js:224:10)
       at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)
     name: 'error',
     length: 881,
     severity: 'ERROR',
     code: '23503',
     detail:
      'Key (cnodeUserUUID)=(0e505165-4955-4bbc-a6e4-9873daf48d68) is not present in table "CNodeUsers".',
     hint: undefined,
     position: undefined,
     internalPosition: undefined,
     internalQuery: undefined,
     where:
      'SQL statement "INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES (\'d93e7a2d-fdf9-464f-ab4d-8374ab3f5812\',\'0e505165-4955-4bbc-a6e4-9873daf48d68\',\'39dfa10b-d514-4567-98b7-722638c16e62\',\'QmSUNqmVaSRegYPd4SSguA9PqTRRyaNTb89z8K2kv7hw9G\',\'ca28022b-6655-41f0-8407-527607162bbf.mp3\',\'/file_storage/QmSUNqmVaSRegYPd4SSguA9PqTRRyaNTb89z8K2kv7hw9G\',\'copy320\',\'2020-03-05 17:40:58.551 +00:00\',\'2020-03-05 17:40:58.551 +00:00\') RETURNING *"\nPL/pgSQL function pg_temp_15.testfunc() line 1 at SQL statement',
     schema: 'public',
     table: 'Files',
     column: undefined,
     dataType: undefined,
     constraint: 'Files_cnodeUserUUID_fkey',
     file: 'ri_triggers.c',
     line: '2783',
     routine: 'ri_ReportViolation',
     sql:
      'CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_19e2ef5add7b4ac09f16c339c4c0c9fe$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES (\'d93e7a2d-fdf9-464f-ab4d-8374ab3f5812\',\'0e505165-4955-4bbc-a6e4-9873daf48d68\',\'39dfa10b-d514-4567-98b7-722638c16e62\',\'QmSUNqmVaSRegYPd4SSguA9PqTRRyaNTb89z8K2kv7hw9G\',\'ca28022b-6655-41f0-8407-527607162bbf.mp3\',\'/file_storage/QmSUNqmVaSRegYPd4SSguA9PqTRRyaNTb89z8K2kv7hw9G\',\'copy320\',\'2020-03-05 17:40:58.551 +00:00\',\'2020-03-05 17:40:58.551 +00:00\') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_19e2ef5add7b4ac09f16c339c4c0c9fe$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();' },
  sql:
   'CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_19e2ef5add7b4ac09f16c339c4c0c9fe$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES (\'d93e7a2d-fdf9-464f-ab4d-8374ab3f5812\',\'0e505165-4955-4bbc-a6e4-9873daf48d68\',\'39dfa10b-d514-4567-98b7-722638c16e62\',\'QmSUNqmVaSRegYPd4SSguA9PqTRRyaNTb89z8K2kv7hw9G\',\'ca28022b-6655-41f0-8407-527607162bbf.mp3\',\'/file_storage/QmSUNqmVaSRegYPd4SSguA9PqTRRyaNTb89z8K2kv7hw9G\',\'copy320\',\'2020-03-05 17:40:58.551 +00:00\',\'2020-03-05 17:40:58.551 +00:00\') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_19e2ef5add7b4ac09f16c339c4c0c9fe$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();',
  fields: null,
  table: 'Files',
  value: undefined,
  index: 'Files_cnodeUserUUID_fkey',
  reltype: undefined }
writing to db2...
Executing (f0926528-ce5c-4314-938e-e3dc29ef3702): START TRANSACTION;
Executing (f0926528-ce5c-4314-938e-e3dc29ef3702): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '0e505165-4955-4bbc-a6e4-9873daf48d68' AND "File"."multihash" = 'QmSUNqmVaSRegYPd4SSguA9PqTRRyaNTb89z8K2kv7hw9G' AND "File"."sourceFile" = 'ca28022b-6655-41f0-8407-527607162bbf.mp3' AND "File"."storagePath" = '/file_storage/QmSUNqmVaSRegYPd4SSguA9PqTRRyaNTb89z8K2kv7hw9G' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '39dfa10b-d514-4567-98b7-722638c16e62' LIMIT 1;
Executing (f0926528-ce5c-4314-938e-e3dc29ef3702): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_13ae33bd2b9c404181b6106b316f10ec$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('b68cc159-7b3c-4269-a427-dacc55e7e09c','0e505165-4955-4bbc-a6e4-9873daf48d68','39dfa10b-d514-4567-98b7-722638c16e62','QmSUNqmVaSRegYPd4SSguA9PqTRRyaNTb89z8K2kv7hw9G','ca28022b-6655-41f0-8407-527607162bbf.mp3','/file_storage/QmSUNqmVaSRegYPd4SSguA9PqTRRyaNTb89z8K2kv7hw9G','copy320','2020-03-05 17:40:58.941 +00:00','2020-03-05 17:40:58.941 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_13ae33bd2b9c404181b6106b316f10ec$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (f0926528-ce5c-4314-938e-e3dc29ef3702): COMMIT;
{ fileUUID: 'b68cc159-7b3c-4269-a427-dacc55e7e09c',
  cnodeUserUUID: '0e505165-4955-4bbc-a6e4-9873daf48d68',
  multihash: 'QmSUNqmVaSRegYPd4SSguA9PqTRRyaNTb89z8K2kv7hw9G',
  sourceFile: 'ca28022b-6655-41f0-8407-527607162bbf.mp3',
  storagePath:
   '/file_storage/QmSUNqmVaSRegYPd4SSguA9PqTRRyaNTb89z8K2kv7hw9G',
  type: 'copy320',
  trackUUID: '39dfa10b-d514-4567-98b7-722638c16e62',
  updatedAt: 2020-03-05T17:40:58.941Z,
  createdAt: 2020-03-05T17:40:58.941Z }
writing to db3...
Executing (0a3642d8-62d6-4b91-a0c3-be4064d36b56): START TRANSACTION;
Executing (0a3642d8-62d6-4b91-a0c3-be4064d36b56): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '0e505165-4955-4bbc-a6e4-9873daf48d68' AND "File"."multihash" = 'QmSUNqmVaSRegYPd4SSguA9PqTRRyaNTb89z8K2kv7hw9G' AND "File"."sourceFile" = 'ca28022b-6655-41f0-8407-527607162bbf.mp3' AND "File"."storagePath" = '/file_storage/QmSUNqmVaSRegYPd4SSguA9PqTRRyaNTb89z8K2kv7hw9G' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '39dfa10b-d514-4567-98b7-722638c16e62' LIMIT 1;
Executing (0a3642d8-62d6-4b91-a0c3-be4064d36b56): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_6200433c57134678a087e15038870c18$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('155a0e92-6fd7-4565-b85d-ae30da8bda1c','0e505165-4955-4bbc-a6e4-9873daf48d68','39dfa10b-d514-4567-98b7-722638c16e62','QmSUNqmVaSRegYPd4SSguA9PqTRRyaNTb89z8K2kv7hw9G','ca28022b-6655-41f0-8407-527607162bbf.mp3','/file_storage/QmSUNqmVaSRegYPd4SSguA9PqTRRyaNTb89z8K2kv7hw9G','copy320','2020-03-05 17:40:59.331 +00:00','2020-03-05 17:40:59.331 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_6200433c57134678a087e15038870c18$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (0a3642d8-62d6-4b91-a0c3-be4064d36b56): COMMIT;
{ SequelizeForeignKeyConstraintError: insert or update on table "Files" violates foreign key constraint "Files_cnodeUserUUID_fkey"
    at Query.formatError (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/sequelize/lib/dialects/postgres/query.js:296:16)
    at query.catch.err (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/sequelize/lib/dialects/postgres/query.js:86:18)
    at tryCatcher (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/bluebird/js/release/util.js:16:23)
    at Promise._settlePromiseFromHandler (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/bluebird/js/release/promise.js:517:31)
    at Promise._settlePromise (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/bluebird/js/release/promise.js:574:18)
    at Promise._settlePromise0 (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/bluebird/js/release/promise.js:619:10)
    at Promise._settlePromises (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/bluebird/js/release/promise.js:695:18)
    at _drainQueueStep (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/bluebird/js/release/async.js:138:12)
    at _drainQueue (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/bluebird/js/release/async.js:131:9)
    at Async._drainQueues (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/bluebird/js/release/async.js:147:5)
    at Immediate.Async.drainQueues [as _onImmediate] (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/bluebird/js/release/async.js:17:14)
    at runCallback (timers.js:705:18)
    at tryOnImmediate (timers.js:676:5)
    at processImmediate (timers.js:658:5)
  name: 'SequelizeForeignKeyConstraintError',
  parent:
   { error: insert or update on table "Files" violates foreign key constraint "Files_cnodeUserUUID_fkey"
       at Connection.parseE (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/pg/lib/connection.js:604:11)
       at Connection.parseMessage (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/pg/lib/connection.js:401:19)
       at Socket.<anonymous> (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/pg/lib/connection.js:121:22)
       at Socket.emit (events.js:198:13)
       at addChunk (_stream_readable.js:288:12)
       at readableAddChunk (_stream_readable.js:269:11)
       at Socket.Readable.push (_stream_readable.js:224:10)
       at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)
     name: 'error',
     length: 881,
     severity: 'ERROR',
     code: '23503',
     detail:
      'Key (cnodeUserUUID)=(0e505165-4955-4bbc-a6e4-9873daf48d68) is not present in table "CNodeUsers".',
     hint: undefined,
     position: undefined,
     internalPosition: undefined,
     internalQuery: undefined,
     where:
      'SQL statement "INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES (\'155a0e92-6fd7-4565-b85d-ae30da8bda1c\',\'0e505165-4955-4bbc-a6e4-9873daf48d68\',\'39dfa10b-d514-4567-98b7-722638c16e62\',\'QmSUNqmVaSRegYPd4SSguA9PqTRRyaNTb89z8K2kv7hw9G\',\'ca28022b-6655-41f0-8407-527607162bbf.mp3\',\'/file_storage/QmSUNqmVaSRegYPd4SSguA9PqTRRyaNTb89z8K2kv7hw9G\',\'copy320\',\'2020-03-05 17:40:59.331 +00:00\',\'2020-03-05 17:40:59.331 +00:00\') RETURNING *"\nPL/pgSQL function pg_temp_68.testfunc() line 1 at SQL statement',
     schema: 'public',
     table: 'Files',
     column: undefined,
     dataType: undefined,
     constraint: 'Files_cnodeUserUUID_fkey',
     file: 'ri_triggers.c',
     line: '2783',
     routine: 'ri_ReportViolation',
     sql:
      'CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_6200433c57134678a087e15038870c18$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES (\'155a0e92-6fd7-4565-b85d-ae30da8bda1c\',\'0e505165-4955-4bbc-a6e4-9873daf48d68\',\'39dfa10b-d514-4567-98b7-722638c16e62\',\'QmSUNqmVaSRegYPd4SSguA9PqTRRyaNTb89z8K2kv7hw9G\',\'ca28022b-6655-41f0-8407-527607162bbf.mp3\',\'/file_storage/QmSUNqmVaSRegYPd4SSguA9PqTRRyaNTb89z8K2kv7hw9G\',\'copy320\',\'2020-03-05 17:40:59.331 +00:00\',\'2020-03-05 17:40:59.331 +00:00\') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_6200433c57134678a087e15038870c18$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();' },
  original:
   { error: insert or update on table "Files" violates foreign key constraint "Files_cnodeUserUUID_fkey"
       at Connection.parseE (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/pg/lib/connection.js:604:11)
       at Connection.parseMessage (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/pg/lib/connection.js:401:19)
       at Socket.<anonymous> (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/pg/lib/connection.js:121:22)
       at Socket.emit (events.js:198:13)
       at addChunk (_stream_readable.js:288:12)
       at readableAddChunk (_stream_readable.js:269:11)
       at Socket.Readable.push (_stream_readable.js:224:10)
       at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)
     name: 'error',
     length: 881,
     severity: 'ERROR',
     code: '23503',
     detail:
      'Key (cnodeUserUUID)=(0e505165-4955-4bbc-a6e4-9873daf48d68) is not present in table "CNodeUsers".',
     hint: undefined,
     position: undefined,
     internalPosition: undefined,
     internalQuery: undefined,
     where:
      'SQL statement "INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES (\'155a0e92-6fd7-4565-b85d-ae30da8bda1c\',\'0e505165-4955-4bbc-a6e4-9873daf48d68\',\'39dfa10b-d514-4567-98b7-722638c16e62\',\'QmSUNqmVaSRegYPd4SSguA9PqTRRyaNTb89z8K2kv7hw9G\',\'ca28022b-6655-41f0-8407-527607162bbf.mp3\',\'/file_storage/QmSUNqmVaSRegYPd4SSguA9PqTRRyaNTb89z8K2kv7hw9G\',\'copy320\',\'2020-03-05 17:40:59.331 +00:00\',\'2020-03-05 17:40:59.331 +00:00\') RETURNING *"\nPL/pgSQL function pg_temp_68.testfunc() line 1 at SQL statement',
     schema: 'public',
     table: 'Files',
     column: undefined,
     dataType: undefined,
     constraint: 'Files_cnodeUserUUID_fkey',
     file: 'ri_triggers.c',
     line: '2783',
     routine: 'ri_ReportViolation',
     sql:
      'CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_6200433c57134678a087e15038870c18$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES (\'155a0e92-6fd7-4565-b85d-ae30da8bda1c\',\'0e505165-4955-4bbc-a6e4-9873daf48d68\',\'39dfa10b-d514-4567-98b7-722638c16e62\',\'QmSUNqmVaSRegYPd4SSguA9PqTRRyaNTb89z8K2kv7hw9G\',\'ca28022b-6655-41f0-8407-527607162bbf.mp3\',\'/file_storage/QmSUNqmVaSRegYPd4SSguA9PqTRRyaNTb89z8K2kv7hw9G\',\'copy320\',\'2020-03-05 17:40:59.331 +00:00\',\'2020-03-05 17:40:59.331 +00:00\') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_6200433c57134678a087e15038870c18$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();' },
  sql:
   'CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_6200433c57134678a087e15038870c18$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES (\'155a0e92-6fd7-4565-b85d-ae30da8bda1c\',\'0e505165-4955-4bbc-a6e4-9873daf48d68\',\'39dfa10b-d514-4567-98b7-722638c16e62\',\'QmSUNqmVaSRegYPd4SSguA9PqTRRyaNTb89z8K2kv7hw9G\',\'ca28022b-6655-41f0-8407-527607162bbf.mp3\',\'/file_storage/QmSUNqmVaSRegYPd4SSguA9PqTRRyaNTb89z8K2kv7hw9G\',\'copy320\',\'2020-03-05 17:40:59.331 +00:00\',\'2020-03-05 17:40:59.331 +00:00\') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_6200433c57134678a087e15038870c18$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();',
  fields: null,
  table: 'Files',
  value: undefined,
  index: 'Files_cnodeUserUUID_fkey',
  reltype: undefined }




PROCESSING ROW #228: sourcefile: 3cbba81f-e471-4d17-9b75-279308085898.mp3, cnodeUserUUID: 61375eee-111f-48df-b4ff-d8fec33921e2, trackUUID: 7e403eee-b7a2-435e-888b-b40c4d75cf50, multihash: QmeD3mVkUA6tBzCgTP3BniC6bLAXjDWQwbPa1oX3KxtV34, dstPath: /file_storage/QmeD3mVkUA6tBzCgTP3BniC6bLAXjDWQwbPa1oX3KxtV34
writing to db1...
Executing (41a77fa6-2b1d-4fd4-a8c5-cdad8e6cbd45): START TRANSACTION;
Executing (41a77fa6-2b1d-4fd4-a8c5-cdad8e6cbd45): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '61375eee-111f-48df-b4ff-d8fec33921e2' AND "File"."multihash" = 'QmeD3mVkUA6tBzCgTP3BniC6bLAXjDWQwbPa1oX3KxtV34' AND "File"."sourceFile" = '3cbba81f-e471-4d17-9b75-279308085898.mp3' AND "File"."storagePath" = '/file_storage/QmeD3mVkUA6tBzCgTP3BniC6bLAXjDWQwbPa1oX3KxtV34' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '7e403eee-b7a2-435e-888b-b40c4d75cf50' LIMIT 1;
Executing (41a77fa6-2b1d-4fd4-a8c5-cdad8e6cbd45): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_867ffe2903bc45afbd102c245c81cd57$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('63165721-51f9-41ce-98b7-1569ba44bd1f','61375eee-111f-48df-b4ff-d8fec33921e2','7e403eee-b7a2-435e-888b-b40c4d75cf50','QmeD3mVkUA6tBzCgTP3BniC6bLAXjDWQwbPa1oX3KxtV34','3cbba81f-e471-4d17-9b75-279308085898.mp3','/file_storage/QmeD3mVkUA6tBzCgTP3BniC6bLAXjDWQwbPa1oX3KxtV34','copy320','2020-03-05 17:40:59.718 +00:00','2020-03-05 17:40:59.718 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_867ffe2903bc45afbd102c245c81cd57$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (41a77fa6-2b1d-4fd4-a8c5-cdad8e6cbd45): COMMIT;
{ SequelizeForeignKeyConstraintError: insert or update on table "Files" violates foreign key constraint "Files_cnodeUserUUID_fkey"
    at Query.formatError (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/sequelize/lib/dialects/postgres/query.js:296:16)
    at query.catch.err (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/sequelize/lib/dialects/postgres/query.js:86:18)
    at tryCatcher (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/bluebird/js/release/util.js:16:23)
    at Promise._settlePromiseFromHandler (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/bluebird/js/release/promise.js:517:31)
    at Promise._settlePromise (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/bluebird/js/release/promise.js:574:18)
    at Promise._settlePromise0 (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/bluebird/js/release/promise.js:619:10)
    at Promise._settlePromises (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/bluebird/js/release/promise.js:695:18)
    at _drainQueueStep (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/bluebird/js/release/async.js:138:12)
    at _drainQueue (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/bluebird/js/release/async.js:131:9)
    at Async._drainQueues (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/bluebird/js/release/async.js:147:5)
    at Immediate.Async.drainQueues [as _onImmediate] (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/bluebird/js/release/async.js:17:14)
    at runCallback (timers.js:705:18)
    at tryOnImmediate (timers.js:676:5)
    at processImmediate (timers.js:658:5)
  name: 'SequelizeForeignKeyConstraintError',
  parent:
   { error: insert or update on table "Files" violates foreign key constraint "Files_cnodeUserUUID_fkey"
       at Connection.parseE (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/pg/lib/connection.js:604:11)
       at Connection.parseMessage (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/pg/lib/connection.js:401:19)
       at Socket.<anonymous> (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/pg/lib/connection.js:121:22)
       at Socket.emit (events.js:198:13)
       at addChunk (_stream_readable.js:288:12)
       at readableAddChunk (_stream_readable.js:269:11)
       at Socket.Readable.push (_stream_readable.js:224:10)
       at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)
     name: 'error',
     length: 881,
     severity: 'ERROR',
     code: '23503',
     detail:
      'Key (cnodeUserUUID)=(61375eee-111f-48df-b4ff-d8fec33921e2) is not present in table "CNodeUsers".',
     hint: undefined,
     position: undefined,
     internalPosition: undefined,
     internalQuery: undefined,
     where:
      'SQL statement "INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES (\'63165721-51f9-41ce-98b7-1569ba44bd1f\',\'61375eee-111f-48df-b4ff-d8fec33921e2\',\'7e403eee-b7a2-435e-888b-b40c4d75cf50\',\'QmeD3mVkUA6tBzCgTP3BniC6bLAXjDWQwbPa1oX3KxtV34\',\'3cbba81f-e471-4d17-9b75-279308085898.mp3\',\'/file_storage/QmeD3mVkUA6tBzCgTP3BniC6bLAXjDWQwbPa1oX3KxtV34\',\'copy320\',\'2020-03-05 17:40:59.718 +00:00\',\'2020-03-05 17:40:59.718 +00:00\') RETURNING *"\nPL/pgSQL function pg_temp_14.testfunc() line 1 at SQL statement',
     schema: 'public',
     table: 'Files',
     column: undefined,
     dataType: undefined,
     constraint: 'Files_cnodeUserUUID_fkey',
     file: 'ri_triggers.c',
     line: '2783',
     routine: 'ri_ReportViolation',
     sql:
      'CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_867ffe2903bc45afbd102c245c81cd57$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES (\'63165721-51f9-41ce-98b7-1569ba44bd1f\',\'61375eee-111f-48df-b4ff-d8fec33921e2\',\'7e403eee-b7a2-435e-888b-b40c4d75cf50\',\'QmeD3mVkUA6tBzCgTP3BniC6bLAXjDWQwbPa1oX3KxtV34\',\'3cbba81f-e471-4d17-9b75-279308085898.mp3\',\'/file_storage/QmeD3mVkUA6tBzCgTP3BniC6bLAXjDWQwbPa1oX3KxtV34\',\'copy320\',\'2020-03-05 17:40:59.718 +00:00\',\'2020-03-05 17:40:59.718 +00:00\') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_867ffe2903bc45afbd102c245c81cd57$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();' },
  original:
   { error: insert or update on table "Files" violates foreign key constraint "Files_cnodeUserUUID_fkey"
       at Connection.parseE (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/pg/lib/connection.js:604:11)
       at Connection.parseMessage (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/pg/lib/connection.js:401:19)
       at Socket.<anonymous> (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/pg/lib/connection.js:121:22)
       at Socket.emit (events.js:198:13)
       at addChunk (_stream_readable.js:288:12)
       at readableAddChunk (_stream_readable.js:269:11)
       at Socket.Readable.push (_stream_readable.js:224:10)
       at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)
     name: 'error',
     length: 881,
     severity: 'ERROR',
     code: '23503',
     detail:
      'Key (cnodeUserUUID)=(61375eee-111f-48df-b4ff-d8fec33921e2) is not present in table "CNodeUsers".',
     hint: undefined,
     position: undefined,
     internalPosition: undefined,
     internalQuery: undefined,
     where:
      'SQL statement "INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES (\'63165721-51f9-41ce-98b7-1569ba44bd1f\',\'61375eee-111f-48df-b4ff-d8fec33921e2\',\'7e403eee-b7a2-435e-888b-b40c4d75cf50\',\'QmeD3mVkUA6tBzCgTP3BniC6bLAXjDWQwbPa1oX3KxtV34\',\'3cbba81f-e471-4d17-9b75-279308085898.mp3\',\'/file_storage/QmeD3mVkUA6tBzCgTP3BniC6bLAXjDWQwbPa1oX3KxtV34\',\'copy320\',\'2020-03-05 17:40:59.718 +00:00\',\'2020-03-05 17:40:59.718 +00:00\') RETURNING *"\nPL/pgSQL function pg_temp_14.testfunc() line 1 at SQL statement',
     schema: 'public',
     table: 'Files',
     column: undefined,
     dataType: undefined,
     constraint: 'Files_cnodeUserUUID_fkey',
     file: 'ri_triggers.c',
     line: '2783',
     routine: 'ri_ReportViolation',
     sql:
      'CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_867ffe2903bc45afbd102c245c81cd57$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES (\'63165721-51f9-41ce-98b7-1569ba44bd1f\',\'61375eee-111f-48df-b4ff-d8fec33921e2\',\'7e403eee-b7a2-435e-888b-b40c4d75cf50\',\'QmeD3mVkUA6tBzCgTP3BniC6bLAXjDWQwbPa1oX3KxtV34\',\'3cbba81f-e471-4d17-9b75-279308085898.mp3\',\'/file_storage/QmeD3mVkUA6tBzCgTP3BniC6bLAXjDWQwbPa1oX3KxtV34\',\'copy320\',\'2020-03-05 17:40:59.718 +00:00\',\'2020-03-05 17:40:59.718 +00:00\') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_867ffe2903bc45afbd102c245c81cd57$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();' },
  sql:
   'CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_867ffe2903bc45afbd102c245c81cd57$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES (\'63165721-51f9-41ce-98b7-1569ba44bd1f\',\'61375eee-111f-48df-b4ff-d8fec33921e2\',\'7e403eee-b7a2-435e-888b-b40c4d75cf50\',\'QmeD3mVkUA6tBzCgTP3BniC6bLAXjDWQwbPa1oX3KxtV34\',\'3cbba81f-e471-4d17-9b75-279308085898.mp3\',\'/file_storage/QmeD3mVkUA6tBzCgTP3BniC6bLAXjDWQwbPa1oX3KxtV34\',\'copy320\',\'2020-03-05 17:40:59.718 +00:00\',\'2020-03-05 17:40:59.718 +00:00\') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_867ffe2903bc45afbd102c245c81cd57$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();',
  fields: null,
  table: 'Files',
  value: undefined,
  index: 'Files_cnodeUserUUID_fkey',
  reltype: undefined }
writing to db2...
Executing (6a010272-0ea4-4a27-acd9-e9bbb9cd6ed7): START TRANSACTION;
Executing (6a010272-0ea4-4a27-acd9-e9bbb9cd6ed7): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '61375eee-111f-48df-b4ff-d8fec33921e2' AND "File"."multihash" = 'QmeD3mVkUA6tBzCgTP3BniC6bLAXjDWQwbPa1oX3KxtV34' AND "File"."sourceFile" = '3cbba81f-e471-4d17-9b75-279308085898.mp3' AND "File"."storagePath" = '/file_storage/QmeD3mVkUA6tBzCgTP3BniC6bLAXjDWQwbPa1oX3KxtV34' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '7e403eee-b7a2-435e-888b-b40c4d75cf50' LIMIT 1;
Executing (6a010272-0ea4-4a27-acd9-e9bbb9cd6ed7): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_23dca91163534526b0edda6e9a32d04a$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('36ce90f7-c3be-44c1-86bf-f5408b08d3c2','61375eee-111f-48df-b4ff-d8fec33921e2','7e403eee-b7a2-435e-888b-b40c4d75cf50','QmeD3mVkUA6tBzCgTP3BniC6bLAXjDWQwbPa1oX3KxtV34','3cbba81f-e471-4d17-9b75-279308085898.mp3','/file_storage/QmeD3mVkUA6tBzCgTP3BniC6bLAXjDWQwbPa1oX3KxtV34','copy320','2020-03-05 17:41:00.124 +00:00','2020-03-05 17:41:00.124 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_23dca91163534526b0edda6e9a32d04a$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (6a010272-0ea4-4a27-acd9-e9bbb9cd6ed7): COMMIT;
{ fileUUID: '36ce90f7-c3be-44c1-86bf-f5408b08d3c2',
  cnodeUserUUID: '61375eee-111f-48df-b4ff-d8fec33921e2',
  multihash: 'QmeD3mVkUA6tBzCgTP3BniC6bLAXjDWQwbPa1oX3KxtV34',
  sourceFile: '3cbba81f-e471-4d17-9b75-279308085898.mp3',
  storagePath:
   '/file_storage/QmeD3mVkUA6tBzCgTP3BniC6bLAXjDWQwbPa1oX3KxtV34',
  type: 'copy320',
  trackUUID: '7e403eee-b7a2-435e-888b-b40c4d75cf50',
  updatedAt: 2020-03-05T17:41:00.124Z,
  createdAt: 2020-03-05T17:41:00.124Z }
writing to db3...
Executing (995d47df-718b-4afa-ac46-dc68845b2d4a): START TRANSACTION;
Executing (995d47df-718b-4afa-ac46-dc68845b2d4a): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '61375eee-111f-48df-b4ff-d8fec33921e2' AND "File"."multihash" = 'QmeD3mVkUA6tBzCgTP3BniC6bLAXjDWQwbPa1oX3KxtV34' AND "File"."sourceFile" = '3cbba81f-e471-4d17-9b75-279308085898.mp3' AND "File"."storagePath" = '/file_storage/QmeD3mVkUA6tBzCgTP3BniC6bLAXjDWQwbPa1oX3KxtV34' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '7e403eee-b7a2-435e-888b-b40c4d75cf50' LIMIT 1;
Executing (995d47df-718b-4afa-ac46-dc68845b2d4a): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_4eb4a238f4794bca806fc24514306d74$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('36dffabc-c429-4796-ba10-f4518b7e16f4','61375eee-111f-48df-b4ff-d8fec33921e2','7e403eee-b7a2-435e-888b-b40c4d75cf50','QmeD3mVkUA6tBzCgTP3BniC6bLAXjDWQwbPa1oX3KxtV34','3cbba81f-e471-4d17-9b75-279308085898.mp3','/file_storage/QmeD3mVkUA6tBzCgTP3BniC6bLAXjDWQwbPa1oX3KxtV34','copy320','2020-03-05 17:41:00.518 +00:00','2020-03-05 17:41:00.518 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_4eb4a238f4794bca806fc24514306d74$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (995d47df-718b-4afa-ac46-dc68845b2d4a): COMMIT;
{ fileUUID: '36dffabc-c429-4796-ba10-f4518b7e16f4',
  cnodeUserUUID: '61375eee-111f-48df-b4ff-d8fec33921e2',
  multihash: 'QmeD3mVkUA6tBzCgTP3BniC6bLAXjDWQwbPa1oX3KxtV34',
  sourceFile: '3cbba81f-e471-4d17-9b75-279308085898.mp3',
  storagePath:
   '/file_storage/QmeD3mVkUA6tBzCgTP3BniC6bLAXjDWQwbPa1oX3KxtV34',
  type: 'copy320',
  trackUUID: '7e403eee-b7a2-435e-888b-b40c4d75cf50',
  updatedAt: 2020-03-05T17:41:00.518Z,
  createdAt: 2020-03-05T17:41:00.518Z }




PROCESSING ROW #229: sourcefile: 6fe0483e-0854-4d1f-9c01-dfaa5ee75d79.mp3, cnodeUserUUID: 61375eee-111f-48df-b4ff-d8fec33921e2, trackUUID: da3d3377-b685-463c-aa97-4d30921627b0, multihash: QmSRhV8Jb478mEqnTkv4sT4HyK2aE3MzhGAfL5jRSqcMVk, dstPath: /file_storage/QmSRhV8Jb478mEqnTkv4sT4HyK2aE3MzhGAfL5jRSqcMVk
writing to db1...
Executing (c4b13cdf-c249-487d-ae75-925ffc5d7bbe): START TRANSACTION;
Executing (c4b13cdf-c249-487d-ae75-925ffc5d7bbe): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '61375eee-111f-48df-b4ff-d8fec33921e2' AND "File"."multihash" = 'QmSRhV8Jb478mEqnTkv4sT4HyK2aE3MzhGAfL5jRSqcMVk' AND "File"."sourceFile" = '6fe0483e-0854-4d1f-9c01-dfaa5ee75d79.mp3' AND "File"."storagePath" = '/file_storage/QmSRhV8Jb478mEqnTkv4sT4HyK2aE3MzhGAfL5jRSqcMVk' AND "File"."type" = 'copy320' AND "File"."trackUUID" = 'da3d3377-b685-463c-aa97-4d30921627b0' LIMIT 1;
Executing (c4b13cdf-c249-487d-ae75-925ffc5d7bbe): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_68f2858938a04d68879ba09e3d15f0b1$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('3b49785d-c6f7-41dd-ad2d-a1c8a80f8798','61375eee-111f-48df-b4ff-d8fec33921e2','da3d3377-b685-463c-aa97-4d30921627b0','QmSRhV8Jb478mEqnTkv4sT4HyK2aE3MzhGAfL5jRSqcMVk','6fe0483e-0854-4d1f-9c01-dfaa5ee75d79.mp3','/file_storage/QmSRhV8Jb478mEqnTkv4sT4HyK2aE3MzhGAfL5jRSqcMVk','copy320','2020-03-05 17:41:00.928 +00:00','2020-03-05 17:41:00.928 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_68f2858938a04d68879ba09e3d15f0b1$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (c4b13cdf-c249-487d-ae75-925ffc5d7bbe): COMMIT;
{ SequelizeForeignKeyConstraintError: insert or update on table "Files" violates foreign key constraint "Files_cnodeUserUUID_fkey"
    at Query.formatError (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/sequelize/lib/dialects/postgres/query.js:296:16)
    at query.catch.err (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/sequelize/lib/dialects/postgres/query.js:86:18)
    at tryCatcher (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/bluebird/js/release/util.js:16:23)
    at Promise._settlePromiseFromHandler (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/bluebird/js/release/promise.js:517:31)
    at Promise._settlePromise (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/bluebird/js/release/promise.js:574:18)
    at Promise._settlePromise0 (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/bluebird/js/release/promise.js:619:10)
    at Promise._settlePromises (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/bluebird/js/release/promise.js:695:18)
    at _drainQueueStep (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/bluebird/js/release/async.js:138:12)
    at _drainQueue (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/bluebird/js/release/async.js:131:9)
    at Async._drainQueues (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/bluebird/js/release/async.js:147:5)
    at Immediate.Async.drainQueues [as _onImmediate] (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/bluebird/js/release/async.js:17:14)
    at runCallback (timers.js:705:18)
    at tryOnImmediate (timers.js:676:5)
    at processImmediate (timers.js:658:5)
  name: 'SequelizeForeignKeyConstraintError',
  parent:
   { error: insert or update on table "Files" violates foreign key constraint "Files_cnodeUserUUID_fkey"
       at Connection.parseE (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/pg/lib/connection.js:604:11)
       at Connection.parseMessage (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/pg/lib/connection.js:401:19)
       at Socket.<anonymous> (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/pg/lib/connection.js:121:22)
       at Socket.emit (events.js:198:13)
       at addChunk (_stream_readable.js:288:12)
       at readableAddChunk (_stream_readable.js:269:11)
       at Socket.Readable.push (_stream_readable.js:224:10)
       at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)
     name: 'error',
     length: 881,
     severity: 'ERROR',
     code: '23503',
     detail:
      'Key (cnodeUserUUID)=(61375eee-111f-48df-b4ff-d8fec33921e2) is not present in table "CNodeUsers".',
     hint: undefined,
     position: undefined,
     internalPosition: undefined,
     internalQuery: undefined,
     where:
      'SQL statement "INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES (\'3b49785d-c6f7-41dd-ad2d-a1c8a80f8798\',\'61375eee-111f-48df-b4ff-d8fec33921e2\',\'da3d3377-b685-463c-aa97-4d30921627b0\',\'QmSRhV8Jb478mEqnTkv4sT4HyK2aE3MzhGAfL5jRSqcMVk\',\'6fe0483e-0854-4d1f-9c01-dfaa5ee75d79.mp3\',\'/file_storage/QmSRhV8Jb478mEqnTkv4sT4HyK2aE3MzhGAfL5jRSqcMVk\',\'copy320\',\'2020-03-05 17:41:00.928 +00:00\',\'2020-03-05 17:41:00.928 +00:00\') RETURNING *"\nPL/pgSQL function pg_temp_16.testfunc() line 1 at SQL statement',
     schema: 'public',
     table: 'Files',
     column: undefined,
     dataType: undefined,
     constraint: 'Files_cnodeUserUUID_fkey',
     file: 'ri_triggers.c',
     line: '2783',
     routine: 'ri_ReportViolation',
     sql:
      'CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_68f2858938a04d68879ba09e3d15f0b1$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES (\'3b49785d-c6f7-41dd-ad2d-a1c8a80f8798\',\'61375eee-111f-48df-b4ff-d8fec33921e2\',\'da3d3377-b685-463c-aa97-4d30921627b0\',\'QmSRhV8Jb478mEqnTkv4sT4HyK2aE3MzhGAfL5jRSqcMVk\',\'6fe0483e-0854-4d1f-9c01-dfaa5ee75d79.mp3\',\'/file_storage/QmSRhV8Jb478mEqnTkv4sT4HyK2aE3MzhGAfL5jRSqcMVk\',\'copy320\',\'2020-03-05 17:41:00.928 +00:00\',\'2020-03-05 17:41:00.928 +00:00\') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_68f2858938a04d68879ba09e3d15f0b1$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();' },
  original:
   { error: insert or update on table "Files" violates foreign key constraint "Files_cnodeUserUUID_fkey"
       at Connection.parseE (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/pg/lib/connection.js:604:11)
       at Connection.parseMessage (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/pg/lib/connection.js:401:19)
       at Socket.<anonymous> (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/pg/lib/connection.js:121:22)
       at Socket.emit (events.js:198:13)
       at addChunk (_stream_readable.js:288:12)
       at readableAddChunk (_stream_readable.js:269:11)
       at Socket.Readable.push (_stream_readable.js:224:10)
       at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)
     name: 'error',
     length: 881,
     severity: 'ERROR',
     code: '23503',
     detail:
      'Key (cnodeUserUUID)=(61375eee-111f-48df-b4ff-d8fec33921e2) is not present in table "CNodeUsers".',
     hint: undefined,
     position: undefined,
     internalPosition: undefined,
     internalQuery: undefined,
     where:
      'SQL statement "INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES (\'3b49785d-c6f7-41dd-ad2d-a1c8a80f8798\',\'61375eee-111f-48df-b4ff-d8fec33921e2\',\'da3d3377-b685-463c-aa97-4d30921627b0\',\'QmSRhV8Jb478mEqnTkv4sT4HyK2aE3MzhGAfL5jRSqcMVk\',\'6fe0483e-0854-4d1f-9c01-dfaa5ee75d79.mp3\',\'/file_storage/QmSRhV8Jb478mEqnTkv4sT4HyK2aE3MzhGAfL5jRSqcMVk\',\'copy320\',\'2020-03-05 17:41:00.928 +00:00\',\'2020-03-05 17:41:00.928 +00:00\') RETURNING *"\nPL/pgSQL function pg_temp_16.testfunc() line 1 at SQL statement',
     schema: 'public',
     table: 'Files',
     column: undefined,
     dataType: undefined,
     constraint: 'Files_cnodeUserUUID_fkey',
     file: 'ri_triggers.c',
     line: '2783',
     routine: 'ri_ReportViolation',
     sql:
      'CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_68f2858938a04d68879ba09e3d15f0b1$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES (\'3b49785d-c6f7-41dd-ad2d-a1c8a80f8798\',\'61375eee-111f-48df-b4ff-d8fec33921e2\',\'da3d3377-b685-463c-aa97-4d30921627b0\',\'QmSRhV8Jb478mEqnTkv4sT4HyK2aE3MzhGAfL5jRSqcMVk\',\'6fe0483e-0854-4d1f-9c01-dfaa5ee75d79.mp3\',\'/file_storage/QmSRhV8Jb478mEqnTkv4sT4HyK2aE3MzhGAfL5jRSqcMVk\',\'copy320\',\'2020-03-05 17:41:00.928 +00:00\',\'2020-03-05 17:41:00.928 +00:00\') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_68f2858938a04d68879ba09e3d15f0b1$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();' },
  sql:
   'CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_68f2858938a04d68879ba09e3d15f0b1$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES (\'3b49785d-c6f7-41dd-ad2d-a1c8a80f8798\',\'61375eee-111f-48df-b4ff-d8fec33921e2\',\'da3d3377-b685-463c-aa97-4d30921627b0\',\'QmSRhV8Jb478mEqnTkv4sT4HyK2aE3MzhGAfL5jRSqcMVk\',\'6fe0483e-0854-4d1f-9c01-dfaa5ee75d79.mp3\',\'/file_storage/QmSRhV8Jb478mEqnTkv4sT4HyK2aE3MzhGAfL5jRSqcMVk\',\'copy320\',\'2020-03-05 17:41:00.928 +00:00\',\'2020-03-05 17:41:00.928 +00:00\') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_68f2858938a04d68879ba09e3d15f0b1$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();',
  fields: null,
  table: 'Files',
  value: undefined,
  index: 'Files_cnodeUserUUID_fkey',
  reltype: undefined }
writing to db2...
Executing (d7f0ced9-f8d5-4027-86a6-e24d0d2f78a0): START TRANSACTION;
Executing (d7f0ced9-f8d5-4027-86a6-e24d0d2f78a0): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '61375eee-111f-48df-b4ff-d8fec33921e2' AND "File"."multihash" = 'QmSRhV8Jb478mEqnTkv4sT4HyK2aE3MzhGAfL5jRSqcMVk' AND "File"."sourceFile" = '6fe0483e-0854-4d1f-9c01-dfaa5ee75d79.mp3' AND "File"."storagePath" = '/file_storage/QmSRhV8Jb478mEqnTkv4sT4HyK2aE3MzhGAfL5jRSqcMVk' AND "File"."type" = 'copy320' AND "File"."trackUUID" = 'da3d3377-b685-463c-aa97-4d30921627b0' LIMIT 1;
Executing (d7f0ced9-f8d5-4027-86a6-e24d0d2f78a0): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_b7c98e2b8e3040919fc0d35e4e16b1e7$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('b6711eb1-6423-416e-b8f2-c746fd2cf05a','61375eee-111f-48df-b4ff-d8fec33921e2','da3d3377-b685-463c-aa97-4d30921627b0','QmSRhV8Jb478mEqnTkv4sT4HyK2aE3MzhGAfL5jRSqcMVk','6fe0483e-0854-4d1f-9c01-dfaa5ee75d79.mp3','/file_storage/QmSRhV8Jb478mEqnTkv4sT4HyK2aE3MzhGAfL5jRSqcMVk','copy320','2020-03-05 17:41:01.321 +00:00','2020-03-05 17:41:01.321 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_b7c98e2b8e3040919fc0d35e4e16b1e7$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (d7f0ced9-f8d5-4027-86a6-e24d0d2f78a0): COMMIT;
{ fileUUID: 'b6711eb1-6423-416e-b8f2-c746fd2cf05a',
  cnodeUserUUID: '61375eee-111f-48df-b4ff-d8fec33921e2',
  multihash: 'QmSRhV8Jb478mEqnTkv4sT4HyK2aE3MzhGAfL5jRSqcMVk',
  sourceFile: '6fe0483e-0854-4d1f-9c01-dfaa5ee75d79.mp3',
  storagePath:
   '/file_storage/QmSRhV8Jb478mEqnTkv4sT4HyK2aE3MzhGAfL5jRSqcMVk',
  type: 'copy320',
  trackUUID: 'da3d3377-b685-463c-aa97-4d30921627b0',
  updatedAt: 2020-03-05T17:41:01.321Z,
  createdAt: 2020-03-05T17:41:01.321Z }
writing to db3...
Executing (e4b2a837-b19d-4278-886a-14e369614b93): START TRANSACTION;
Executing (e4b2a837-b19d-4278-886a-14e369614b93): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '61375eee-111f-48df-b4ff-d8fec33921e2' AND "File"."multihash" = 'QmSRhV8Jb478mEqnTkv4sT4HyK2aE3MzhGAfL5jRSqcMVk' AND "File"."sourceFile" = '6fe0483e-0854-4d1f-9c01-dfaa5ee75d79.mp3' AND "File"."storagePath" = '/file_storage/QmSRhV8Jb478mEqnTkv4sT4HyK2aE3MzhGAfL5jRSqcMVk' AND "File"."type" = 'copy320' AND "File"."trackUUID" = 'da3d3377-b685-463c-aa97-4d30921627b0' LIMIT 1;
Executing (e4b2a837-b19d-4278-886a-14e369614b93): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_97d981165fe44edd9c565e3aed73d2e6$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('4b07859a-c4d1-4631-a0cd-ab881e256274','61375eee-111f-48df-b4ff-d8fec33921e2','da3d3377-b685-463c-aa97-4d30921627b0','QmSRhV8Jb478mEqnTkv4sT4HyK2aE3MzhGAfL5jRSqcMVk','6fe0483e-0854-4d1f-9c01-dfaa5ee75d79.mp3','/file_storage/QmSRhV8Jb478mEqnTkv4sT4HyK2aE3MzhGAfL5jRSqcMVk','copy320','2020-03-05 17:41:01.710 +00:00','2020-03-05 17:41:01.710 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_97d981165fe44edd9c565e3aed73d2e6$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (e4b2a837-b19d-4278-886a-14e369614b93): COMMIT;
{ fileUUID: '4b07859a-c4d1-4631-a0cd-ab881e256274',
  cnodeUserUUID: '61375eee-111f-48df-b4ff-d8fec33921e2',
  multihash: 'QmSRhV8Jb478mEqnTkv4sT4HyK2aE3MzhGAfL5jRSqcMVk',
  sourceFile: '6fe0483e-0854-4d1f-9c01-dfaa5ee75d79.mp3',
  storagePath:
   '/file_storage/QmSRhV8Jb478mEqnTkv4sT4HyK2aE3MzhGAfL5jRSqcMVk',
  type: 'copy320',
  trackUUID: 'da3d3377-b685-463c-aa97-4d30921627b0',
  updatedAt: 2020-03-05T17:41:01.710Z,
  createdAt: 2020-03-05T17:41:01.710Z }




PROCESSING ROW #230: sourcefile: 1742d29e-fce7-455d-b751-fc5dac3718a3.mp3, cnodeUserUUID: 7017224e-9432-4ccd-9e78-93f606a9e15d, trackUUID: 696a7ec6-d851-46ef-9f2f-2a70f3fbde86, multihash: QmVUvkVVj7k7reHHPAjFui44eKFuSvfUvYRTdgzjkrRgku, dstPath: /file_storage/QmVUvkVVj7k7reHHPAjFui44eKFuSvfUvYRTdgzjkrRgku
writing to db1...
Executing (f7b02213-22cb-44cc-a4fe-bbbf7807a8b9): START TRANSACTION;
Executing (f7b02213-22cb-44cc-a4fe-bbbf7807a8b9): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '7017224e-9432-4ccd-9e78-93f606a9e15d' AND "File"."multihash" = 'QmVUvkVVj7k7reHHPAjFui44eKFuSvfUvYRTdgzjkrRgku' AND "File"."sourceFile" = '1742d29e-fce7-455d-b751-fc5dac3718a3.mp3' AND "File"."storagePath" = '/file_storage/QmVUvkVVj7k7reHHPAjFui44eKFuSvfUvYRTdgzjkrRgku' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '696a7ec6-d851-46ef-9f2f-2a70f3fbde86' LIMIT 1;
Executing (f7b02213-22cb-44cc-a4fe-bbbf7807a8b9): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_0f5c87098e10491b98e4b4c91ecd4d31$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('e6fcb0cb-7a9d-4efa-a37b-16f5a95f055a','7017224e-9432-4ccd-9e78-93f606a9e15d','696a7ec6-d851-46ef-9f2f-2a70f3fbde86','QmVUvkVVj7k7reHHPAjFui44eKFuSvfUvYRTdgzjkrRgku','1742d29e-fce7-455d-b751-fc5dac3718a3.mp3','/file_storage/QmVUvkVVj7k7reHHPAjFui44eKFuSvfUvYRTdgzjkrRgku','copy320','2020-03-05 17:41:02.105 +00:00','2020-03-05 17:41:02.105 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_0f5c87098e10491b98e4b4c91ecd4d31$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (f7b02213-22cb-44cc-a4fe-bbbf7807a8b9): COMMIT;
{ SequelizeForeignKeyConstraintError: insert or update on table "Files" violates foreign key constraint "Files_trackUUID_fkey"
    at Query.formatError (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/sequelize/lib/dialects/postgres/query.js:296:16)
    at query.catch.err (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/sequelize/lib/dialects/postgres/query.js:86:18)
    at tryCatcher (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/bluebird/js/release/util.js:16:23)
    at Promise._settlePromiseFromHandler (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/bluebird/js/release/promise.js:517:31)
    at Promise._settlePromise (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/bluebird/js/release/promise.js:574:18)
    at Promise._settlePromise0 (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/bluebird/js/release/promise.js:619:10)
    at Promise._settlePromises (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/bluebird/js/release/promise.js:695:18)
    at _drainQueueStep (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/bluebird/js/release/async.js:138:12)
    at _drainQueue (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/bluebird/js/release/async.js:131:9)
    at Async._drainQueues (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/bluebird/js/release/async.js:147:5)
    at Immediate.Async.drainQueues [as _onImmediate] (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/bluebird/js/release/async.js:17:14)
    at runCallback (timers.js:705:18)
    at tryOnImmediate (timers.js:676:5)
    at processImmediate (timers.js:658:5)
  name: 'SequelizeForeignKeyConstraintError',
  parent:
   { error: insert or update on table "Files" violates foreign key constraint "Files_trackUUID_fkey"
       at Connection.parseE (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/pg/lib/connection.js:604:11)
       at Connection.parseMessage (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/pg/lib/connection.js:401:19)
       at Socket.<anonymous> (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/pg/lib/connection.js:121:22)
       at Socket.emit (events.js:198:13)
       at addChunk (_stream_readable.js:288:12)
       at readableAddChunk (_stream_readable.js:269:11)
       at Socket.Readable.push (_stream_readable.js:224:10)
       at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)
     name: 'error',
     length: 865,
     severity: 'ERROR',
     code: '23503',
     detail:
      'Key (trackUUID)=(696a7ec6-d851-46ef-9f2f-2a70f3fbde86) is not present in table "Tracks".',
     hint: undefined,
     position: undefined,
     internalPosition: undefined,
     internalQuery: undefined,
     where:
      'SQL statement "INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES (\'e6fcb0cb-7a9d-4efa-a37b-16f5a95f055a\',\'7017224e-9432-4ccd-9e78-93f606a9e15d\',\'696a7ec6-d851-46ef-9f2f-2a70f3fbde86\',\'QmVUvkVVj7k7reHHPAjFui44eKFuSvfUvYRTdgzjkrRgku\',\'1742d29e-fce7-455d-b751-fc5dac3718a3.mp3\',\'/file_storage/QmVUvkVVj7k7reHHPAjFui44eKFuSvfUvYRTdgzjkrRgku\',\'copy320\',\'2020-03-05 17:41:02.105 +00:00\',\'2020-03-05 17:41:02.105 +00:00\') RETURNING *"\nPL/pgSQL function pg_temp_13.testfunc() line 1 at SQL statement',
     schema: 'public',
     table: 'Files',
     column: undefined,
     dataType: undefined,
     constraint: 'Files_trackUUID_fkey',
     file: 'ri_triggers.c',
     line: '2783',
     routine: 'ri_ReportViolation',
     sql:
      'CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_0f5c87098e10491b98e4b4c91ecd4d31$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES (\'e6fcb0cb-7a9d-4efa-a37b-16f5a95f055a\',\'7017224e-9432-4ccd-9e78-93f606a9e15d\',\'696a7ec6-d851-46ef-9f2f-2a70f3fbde86\',\'QmVUvkVVj7k7reHHPAjFui44eKFuSvfUvYRTdgzjkrRgku\',\'1742d29e-fce7-455d-b751-fc5dac3718a3.mp3\',\'/file_storage/QmVUvkVVj7k7reHHPAjFui44eKFuSvfUvYRTdgzjkrRgku\',\'copy320\',\'2020-03-05 17:41:02.105 +00:00\',\'2020-03-05 17:41:02.105 +00:00\') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_0f5c87098e10491b98e4b4c91ecd4d31$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();' },
  original:
   { error: insert or update on table "Files" violates foreign key constraint "Files_trackUUID_fkey"
       at Connection.parseE (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/pg/lib/connection.js:604:11)
       at Connection.parseMessage (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/pg/lib/connection.js:401:19)
       at Socket.<anonymous> (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/pg/lib/connection.js:121:22)
       at Socket.emit (events.js:198:13)
       at addChunk (_stream_readable.js:288:12)
       at readableAddChunk (_stream_readable.js:269:11)
       at Socket.Readable.push (_stream_readable.js:224:10)
       at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)
     name: 'error',
     length: 865,
     severity: 'ERROR',
     code: '23503',
     detail:
      'Key (trackUUID)=(696a7ec6-d851-46ef-9f2f-2a70f3fbde86) is not present in table "Tracks".',
     hint: undefined,
     position: undefined,
     internalPosition: undefined,
     internalQuery: undefined,
     where:
      'SQL statement "INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES (\'e6fcb0cb-7a9d-4efa-a37b-16f5a95f055a\',\'7017224e-9432-4ccd-9e78-93f606a9e15d\',\'696a7ec6-d851-46ef-9f2f-2a70f3fbde86\',\'QmVUvkVVj7k7reHHPAjFui44eKFuSvfUvYRTdgzjkrRgku\',\'1742d29e-fce7-455d-b751-fc5dac3718a3.mp3\',\'/file_storage/QmVUvkVVj7k7reHHPAjFui44eKFuSvfUvYRTdgzjkrRgku\',\'copy320\',\'2020-03-05 17:41:02.105 +00:00\',\'2020-03-05 17:41:02.105 +00:00\') RETURNING *"\nPL/pgSQL function pg_temp_13.testfunc() line 1 at SQL statement',
     schema: 'public',
     table: 'Files',
     column: undefined,
     dataType: undefined,
     constraint: 'Files_trackUUID_fkey',
     file: 'ri_triggers.c',
     line: '2783',
     routine: 'ri_ReportViolation',
     sql:
      'CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_0f5c87098e10491b98e4b4c91ecd4d31$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES (\'e6fcb0cb-7a9d-4efa-a37b-16f5a95f055a\',\'7017224e-9432-4ccd-9e78-93f606a9e15d\',\'696a7ec6-d851-46ef-9f2f-2a70f3fbde86\',\'QmVUvkVVj7k7reHHPAjFui44eKFuSvfUvYRTdgzjkrRgku\',\'1742d29e-fce7-455d-b751-fc5dac3718a3.mp3\',\'/file_storage/QmVUvkVVj7k7reHHPAjFui44eKFuSvfUvYRTdgzjkrRgku\',\'copy320\',\'2020-03-05 17:41:02.105 +00:00\',\'2020-03-05 17:41:02.105 +00:00\') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_0f5c87098e10491b98e4b4c91ecd4d31$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();' },
  sql:
   'CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_0f5c87098e10491b98e4b4c91ecd4d31$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES (\'e6fcb0cb-7a9d-4efa-a37b-16f5a95f055a\',\'7017224e-9432-4ccd-9e78-93f606a9e15d\',\'696a7ec6-d851-46ef-9f2f-2a70f3fbde86\',\'QmVUvkVVj7k7reHHPAjFui44eKFuSvfUvYRTdgzjkrRgku\',\'1742d29e-fce7-455d-b751-fc5dac3718a3.mp3\',\'/file_storage/QmVUvkVVj7k7reHHPAjFui44eKFuSvfUvYRTdgzjkrRgku\',\'copy320\',\'2020-03-05 17:41:02.105 +00:00\',\'2020-03-05 17:41:02.105 +00:00\') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_0f5c87098e10491b98e4b4c91ecd4d31$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();',
  fields: null,
  table: 'Files',
  value: undefined,
  index: 'Files_trackUUID_fkey',
  reltype: undefined }
writing to db2...
Executing (994d61d6-a8aa-4568-a652-c0a4277cacc4): START TRANSACTION;
Executing (994d61d6-a8aa-4568-a652-c0a4277cacc4): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '7017224e-9432-4ccd-9e78-93f606a9e15d' AND "File"."multihash" = 'QmVUvkVVj7k7reHHPAjFui44eKFuSvfUvYRTdgzjkrRgku' AND "File"."sourceFile" = '1742d29e-fce7-455d-b751-fc5dac3718a3.mp3' AND "File"."storagePath" = '/file_storage/QmVUvkVVj7k7reHHPAjFui44eKFuSvfUvYRTdgzjkrRgku' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '696a7ec6-d851-46ef-9f2f-2a70f3fbde86' LIMIT 1;
Executing (994d61d6-a8aa-4568-a652-c0a4277cacc4): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_6d49c0c4b4a94fff812b00c1ea5226fe$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('79795020-a2b7-4e88-9bb7-e82bc572b06c','7017224e-9432-4ccd-9e78-93f606a9e15d','696a7ec6-d851-46ef-9f2f-2a70f3fbde86','QmVUvkVVj7k7reHHPAjFui44eKFuSvfUvYRTdgzjkrRgku','1742d29e-fce7-455d-b751-fc5dac3718a3.mp3','/file_storage/QmVUvkVVj7k7reHHPAjFui44eKFuSvfUvYRTdgzjkrRgku','copy320','2020-03-05 17:41:02.491 +00:00','2020-03-05 17:41:02.491 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_6d49c0c4b4a94fff812b00c1ea5226fe$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (994d61d6-a8aa-4568-a652-c0a4277cacc4): COMMIT;
{ fileUUID: '79795020-a2b7-4e88-9bb7-e82bc572b06c',
  cnodeUserUUID: '7017224e-9432-4ccd-9e78-93f606a9e15d',
  multihash: 'QmVUvkVVj7k7reHHPAjFui44eKFuSvfUvYRTdgzjkrRgku',
  sourceFile: '1742d29e-fce7-455d-b751-fc5dac3718a3.mp3',
  storagePath:
   '/file_storage/QmVUvkVVj7k7reHHPAjFui44eKFuSvfUvYRTdgzjkrRgku',
  type: 'copy320',
  trackUUID: '696a7ec6-d851-46ef-9f2f-2a70f3fbde86',
  updatedAt: 2020-03-05T17:41:02.491Z,
  createdAt: 2020-03-05T17:41:02.491Z }
writing to db3...
Executing (671fc2e0-5303-433a-ba54-a0a1bf9143c0): START TRANSACTION;
Executing (671fc2e0-5303-433a-ba54-a0a1bf9143c0): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '7017224e-9432-4ccd-9e78-93f606a9e15d' AND "File"."multihash" = 'QmVUvkVVj7k7reHHPAjFui44eKFuSvfUvYRTdgzjkrRgku' AND "File"."sourceFile" = '1742d29e-fce7-455d-b751-fc5dac3718a3.mp3' AND "File"."storagePath" = '/file_storage/QmVUvkVVj7k7reHHPAjFui44eKFuSvfUvYRTdgzjkrRgku' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '696a7ec6-d851-46ef-9f2f-2a70f3fbde86' LIMIT 1;
Executing (671fc2e0-5303-433a-ba54-a0a1bf9143c0): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_89303ef15414477aaa18fb66f6a9056d$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('c6dbd4d2-2f4b-4e02-a30e-3a397abd3944','7017224e-9432-4ccd-9e78-93f606a9e15d','696a7ec6-d851-46ef-9f2f-2a70f3fbde86','QmVUvkVVj7k7reHHPAjFui44eKFuSvfUvYRTdgzjkrRgku','1742d29e-fce7-455d-b751-fc5dac3718a3.mp3','/file_storage/QmVUvkVVj7k7reHHPAjFui44eKFuSvfUvYRTdgzjkrRgku','copy320','2020-03-05 17:41:02.876 +00:00','2020-03-05 17:41:02.876 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_89303ef15414477aaa18fb66f6a9056d$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (671fc2e0-5303-433a-ba54-a0a1bf9143c0): COMMIT;
{ fileUUID: 'c6dbd4d2-2f4b-4e02-a30e-3a397abd3944',
  cnodeUserUUID: '7017224e-9432-4ccd-9e78-93f606a9e15d',
  multihash: 'QmVUvkVVj7k7reHHPAjFui44eKFuSvfUvYRTdgzjkrRgku',
  sourceFile: '1742d29e-fce7-455d-b751-fc5dac3718a3.mp3',
  storagePath:
   '/file_storage/QmVUvkVVj7k7reHHPAjFui44eKFuSvfUvYRTdgzjkrRgku',
  type: 'copy320',
  trackUUID: '696a7ec6-d851-46ef-9f2f-2a70f3fbde86',
  updatedAt: 2020-03-05T17:41:02.876Z,
  createdAt: 2020-03-05T17:41:02.876Z }




PROCESSING ROW #231: sourcefile: d815829c-723e-41b3-8146-5fae6e873ee3.mp3, cnodeUserUUID: 59ed7980-7e92-4a84-a1e4-17f5f7aabc44, trackUUID: cfea450f-1ed1-4ed7-80d0-6f68a4b991bf, multihash: QmdGpDEBq6v6Kv9H61HbeVqyiPo7iBe12tVtkhNig6ipWp, dstPath: /file_storage/QmdGpDEBq6v6Kv9H61HbeVqyiPo7iBe12tVtkhNig6ipWp
writing to db1...
Executing (b243fe71-7112-4837-a456-1b663fd69505): START TRANSACTION;
Executing (b243fe71-7112-4837-a456-1b663fd69505): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '59ed7980-7e92-4a84-a1e4-17f5f7aabc44' AND "File"."multihash" = 'QmdGpDEBq6v6Kv9H61HbeVqyiPo7iBe12tVtkhNig6ipWp' AND "File"."sourceFile" = 'd815829c-723e-41b3-8146-5fae6e873ee3.mp3' AND "File"."storagePath" = '/file_storage/QmdGpDEBq6v6Kv9H61HbeVqyiPo7iBe12tVtkhNig6ipWp' AND "File"."type" = 'copy320' AND "File"."trackUUID" = 'cfea450f-1ed1-4ed7-80d0-6f68a4b991bf' LIMIT 1;
Executing (b243fe71-7112-4837-a456-1b663fd69505): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_21c1fd0ec1ba4d908f26935158a51aab$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('673918f2-afd1-4a82-ac39-29bb38f6abbf','59ed7980-7e92-4a84-a1e4-17f5f7aabc44','cfea450f-1ed1-4ed7-80d0-6f68a4b991bf','QmdGpDEBq6v6Kv9H61HbeVqyiPo7iBe12tVtkhNig6ipWp','d815829c-723e-41b3-8146-5fae6e873ee3.mp3','/file_storage/QmdGpDEBq6v6Kv9H61HbeVqyiPo7iBe12tVtkhNig6ipWp','copy320','2020-03-05 17:41:03.287 +00:00','2020-03-05 17:41:03.287 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_21c1fd0ec1ba4d908f26935158a51aab$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (b243fe71-7112-4837-a456-1b663fd69505): COMMIT;
{ SequelizeForeignKeyConstraintError: insert or update on table "Files" violates foreign key constraint "Files_cnodeUserUUID_fkey"
    at Query.formatError (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/sequelize/lib/dialects/postgres/query.js:296:16)
    at query.catch.err (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/sequelize/lib/dialects/postgres/query.js:86:18)
    at tryCatcher (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/bluebird/js/release/util.js:16:23)
    at Promise._settlePromiseFromHandler (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/bluebird/js/release/promise.js:517:31)
    at Promise._settlePromise (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/bluebird/js/release/promise.js:574:18)
    at Promise._settlePromise0 (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/bluebird/js/release/promise.js:619:10)
    at Promise._settlePromises (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/bluebird/js/release/promise.js:695:18)
    at _drainQueueStep (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/bluebird/js/release/async.js:138:12)
    at _drainQueue (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/bluebird/js/release/async.js:131:9)
    at Async._drainQueues (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/bluebird/js/release/async.js:147:5)
    at Immediate.Async.drainQueues [as _onImmediate] (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/bluebird/js/release/async.js:17:14)
    at runCallback (timers.js:705:18)
    at tryOnImmediate (timers.js:676:5)
    at processImmediate (timers.js:658:5)
  name: 'SequelizeForeignKeyConstraintError',
  parent:
   { error: insert or update on table "Files" violates foreign key constraint "Files_cnodeUserUUID_fkey"
       at Connection.parseE (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/pg/lib/connection.js:604:11)
       at Connection.parseMessage (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/pg/lib/connection.js:401:19)
       at Socket.<anonymous> (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/pg/lib/connection.js:121:22)
       at Socket.emit (events.js:198:13)
       at addChunk (_stream_readable.js:288:12)
       at readableAddChunk (_stream_readable.js:269:11)
       at Socket.Readable.push (_stream_readable.js:224:10)
       at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)
     name: 'error',
     length: 881,
     severity: 'ERROR',
     code: '23503',
     detail:
      'Key (cnodeUserUUID)=(59ed7980-7e92-4a84-a1e4-17f5f7aabc44) is not present in table "CNodeUsers".',
     hint: undefined,
     position: undefined,
     internalPosition: undefined,
     internalQuery: undefined,
     where:
      'SQL statement "INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES (\'673918f2-afd1-4a82-ac39-29bb38f6abbf\',\'59ed7980-7e92-4a84-a1e4-17f5f7aabc44\',\'cfea450f-1ed1-4ed7-80d0-6f68a4b991bf\',\'QmdGpDEBq6v6Kv9H61HbeVqyiPo7iBe12tVtkhNig6ipWp\',\'d815829c-723e-41b3-8146-5fae6e873ee3.mp3\',\'/file_storage/QmdGpDEBq6v6Kv9H61HbeVqyiPo7iBe12tVtkhNig6ipWp\',\'copy320\',\'2020-03-05 17:41:03.287 +00:00\',\'2020-03-05 17:41:03.287 +00:00\') RETURNING *"\nPL/pgSQL function pg_temp_12.testfunc() line 1 at SQL statement',
     schema: 'public',
     table: 'Files',
     column: undefined,
     dataType: undefined,
     constraint: 'Files_cnodeUserUUID_fkey',
     file: 'ri_triggers.c',
     line: '2783',
     routine: 'ri_ReportViolation',
     sql:
      'CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_21c1fd0ec1ba4d908f26935158a51aab$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES (\'673918f2-afd1-4a82-ac39-29bb38f6abbf\',\'59ed7980-7e92-4a84-a1e4-17f5f7aabc44\',\'cfea450f-1ed1-4ed7-80d0-6f68a4b991bf\',\'QmdGpDEBq6v6Kv9H61HbeVqyiPo7iBe12tVtkhNig6ipWp\',\'d815829c-723e-41b3-8146-5fae6e873ee3.mp3\',\'/file_storage/QmdGpDEBq6v6Kv9H61HbeVqyiPo7iBe12tVtkhNig6ipWp\',\'copy320\',\'2020-03-05 17:41:03.287 +00:00\',\'2020-03-05 17:41:03.287 +00:00\') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_21c1fd0ec1ba4d908f26935158a51aab$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();' },
  original:
   { error: insert or update on table "Files" violates foreign key constraint "Files_cnodeUserUUID_fkey"
       at Connection.parseE (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/pg/lib/connection.js:604:11)
       at Connection.parseMessage (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/pg/lib/connection.js:401:19)
       at Socket.<anonymous> (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/pg/lib/connection.js:121:22)
       at Socket.emit (events.js:198:13)
       at addChunk (_stream_readable.js:288:12)
       at readableAddChunk (_stream_readable.js:269:11)
       at Socket.Readable.push (_stream_readable.js:224:10)
       at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)
     name: 'error',
     length: 881,
     severity: 'ERROR',
     code: '23503',
     detail:
      'Key (cnodeUserUUID)=(59ed7980-7e92-4a84-a1e4-17f5f7aabc44) is not present in table "CNodeUsers".',
     hint: undefined,
     position: undefined,
     internalPosition: undefined,
     internalQuery: undefined,
     where:
      'SQL statement "INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES (\'673918f2-afd1-4a82-ac39-29bb38f6abbf\',\'59ed7980-7e92-4a84-a1e4-17f5f7aabc44\',\'cfea450f-1ed1-4ed7-80d0-6f68a4b991bf\',\'QmdGpDEBq6v6Kv9H61HbeVqyiPo7iBe12tVtkhNig6ipWp\',\'d815829c-723e-41b3-8146-5fae6e873ee3.mp3\',\'/file_storage/QmdGpDEBq6v6Kv9H61HbeVqyiPo7iBe12tVtkhNig6ipWp\',\'copy320\',\'2020-03-05 17:41:03.287 +00:00\',\'2020-03-05 17:41:03.287 +00:00\') RETURNING *"\nPL/pgSQL function pg_temp_12.testfunc() line 1 at SQL statement',
     schema: 'public',
     table: 'Files',
     column: undefined,
     dataType: undefined,
     constraint: 'Files_cnodeUserUUID_fkey',
     file: 'ri_triggers.c',
     line: '2783',
     routine: 'ri_ReportViolation',
     sql:
      'CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_21c1fd0ec1ba4d908f26935158a51aab$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES (\'673918f2-afd1-4a82-ac39-29bb38f6abbf\',\'59ed7980-7e92-4a84-a1e4-17f5f7aabc44\',\'cfea450f-1ed1-4ed7-80d0-6f68a4b991bf\',\'QmdGpDEBq6v6Kv9H61HbeVqyiPo7iBe12tVtkhNig6ipWp\',\'d815829c-723e-41b3-8146-5fae6e873ee3.mp3\',\'/file_storage/QmdGpDEBq6v6Kv9H61HbeVqyiPo7iBe12tVtkhNig6ipWp\',\'copy320\',\'2020-03-05 17:41:03.287 +00:00\',\'2020-03-05 17:41:03.287 +00:00\') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_21c1fd0ec1ba4d908f26935158a51aab$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();' },
  sql:
   'CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_21c1fd0ec1ba4d908f26935158a51aab$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES (\'673918f2-afd1-4a82-ac39-29bb38f6abbf\',\'59ed7980-7e92-4a84-a1e4-17f5f7aabc44\',\'cfea450f-1ed1-4ed7-80d0-6f68a4b991bf\',\'QmdGpDEBq6v6Kv9H61HbeVqyiPo7iBe12tVtkhNig6ipWp\',\'d815829c-723e-41b3-8146-5fae6e873ee3.mp3\',\'/file_storage/QmdGpDEBq6v6Kv9H61HbeVqyiPo7iBe12tVtkhNig6ipWp\',\'copy320\',\'2020-03-05 17:41:03.287 +00:00\',\'2020-03-05 17:41:03.287 +00:00\') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_21c1fd0ec1ba4d908f26935158a51aab$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();',
  fields: null,
  table: 'Files',
  value: undefined,
  index: 'Files_cnodeUserUUID_fkey',
  reltype: undefined }
writing to db2...
Executing (f6ea9918-783e-4498-a72a-4f35e7b8ec14): START TRANSACTION;
Executing (f6ea9918-783e-4498-a72a-4f35e7b8ec14): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '59ed7980-7e92-4a84-a1e4-17f5f7aabc44' AND "File"."multihash" = 'QmdGpDEBq6v6Kv9H61HbeVqyiPo7iBe12tVtkhNig6ipWp' AND "File"."sourceFile" = 'd815829c-723e-41b3-8146-5fae6e873ee3.mp3' AND "File"."storagePath" = '/file_storage/QmdGpDEBq6v6Kv9H61HbeVqyiPo7iBe12tVtkhNig6ipWp' AND "File"."type" = 'copy320' AND "File"."trackUUID" = 'cfea450f-1ed1-4ed7-80d0-6f68a4b991bf' LIMIT 1;
Executing (f6ea9918-783e-4498-a72a-4f35e7b8ec14): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_2c1270bbc8be49909358a61f1289b06c$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('2642bdef-118d-4a16-8b1d-29a95bc57fe9','59ed7980-7e92-4a84-a1e4-17f5f7aabc44','cfea450f-1ed1-4ed7-80d0-6f68a4b991bf','QmdGpDEBq6v6Kv9H61HbeVqyiPo7iBe12tVtkhNig6ipWp','d815829c-723e-41b3-8146-5fae6e873ee3.mp3','/file_storage/QmdGpDEBq6v6Kv9H61HbeVqyiPo7iBe12tVtkhNig6ipWp','copy320','2020-03-05 17:41:03.669 +00:00','2020-03-05 17:41:03.669 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_2c1270bbc8be49909358a61f1289b06c$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (f6ea9918-783e-4498-a72a-4f35e7b8ec14): COMMIT;
{ fileUUID: '2642bdef-118d-4a16-8b1d-29a95bc57fe9',
  cnodeUserUUID: '59ed7980-7e92-4a84-a1e4-17f5f7aabc44',
  multihash: 'QmdGpDEBq6v6Kv9H61HbeVqyiPo7iBe12tVtkhNig6ipWp',
  sourceFile: 'd815829c-723e-41b3-8146-5fae6e873ee3.mp3',
  storagePath:
   '/file_storage/QmdGpDEBq6v6Kv9H61HbeVqyiPo7iBe12tVtkhNig6ipWp',
  type: 'copy320',
  trackUUID: 'cfea450f-1ed1-4ed7-80d0-6f68a4b991bf',
  updatedAt: 2020-03-05T17:41:03.669Z,
  createdAt: 2020-03-05T17:41:03.669Z }
writing to db3...
Executing (782af1c3-f116-4394-a836-04dfb0f014fb): START TRANSACTION;
Executing (782af1c3-f116-4394-a836-04dfb0f014fb): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '59ed7980-7e92-4a84-a1e4-17f5f7aabc44' AND "File"."multihash" = 'QmdGpDEBq6v6Kv9H61HbeVqyiPo7iBe12tVtkhNig6ipWp' AND "File"."sourceFile" = 'd815829c-723e-41b3-8146-5fae6e873ee3.mp3' AND "File"."storagePath" = '/file_storage/QmdGpDEBq6v6Kv9H61HbeVqyiPo7iBe12tVtkhNig6ipWp' AND "File"."type" = 'copy320' AND "File"."trackUUID" = 'cfea450f-1ed1-4ed7-80d0-6f68a4b991bf' LIMIT 1;
Executing (782af1c3-f116-4394-a836-04dfb0f014fb): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_6eec7a840c42446885f30cd9e191066a$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('4a4f25fb-0c1c-40ac-b440-62690a461f8e','59ed7980-7e92-4a84-a1e4-17f5f7aabc44','cfea450f-1ed1-4ed7-80d0-6f68a4b991bf','QmdGpDEBq6v6Kv9H61HbeVqyiPo7iBe12tVtkhNig6ipWp','d815829c-723e-41b3-8146-5fae6e873ee3.mp3','/file_storage/QmdGpDEBq6v6Kv9H61HbeVqyiPo7iBe12tVtkhNig6ipWp','copy320','2020-03-05 17:41:04.061 +00:00','2020-03-05 17:41:04.061 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_6eec7a840c42446885f30cd9e191066a$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (782af1c3-f116-4394-a836-04dfb0f014fb): COMMIT;
{ SequelizeForeignKeyConstraintError: insert or update on table "Files" violates foreign key constraint "Files_cnodeUserUUID_fkey"
    at Query.formatError (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/sequelize/lib/dialects/postgres/query.js:296:16)
    at query.catch.err (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/sequelize/lib/dialects/postgres/query.js:86:18)
    at tryCatcher (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/bluebird/js/release/util.js:16:23)
    at Promise._settlePromiseFromHandler (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/bluebird/js/release/promise.js:517:31)
    at Promise._settlePromise (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/bluebird/js/release/promise.js:574:18)
    at Promise._settlePromise0 (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/bluebird/js/release/promise.js:619:10)
    at Promise._settlePromises (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/bluebird/js/release/promise.js:695:18)
    at _drainQueueStep (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/bluebird/js/release/async.js:138:12)
    at _drainQueue (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/bluebird/js/release/async.js:131:9)
    at Async._drainQueues (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/bluebird/js/release/async.js:147:5)
    at Immediate.Async.drainQueues [as _onImmediate] (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/bluebird/js/release/async.js:17:14)
    at runCallback (timers.js:705:18)
    at tryOnImmediate (timers.js:676:5)
    at processImmediate (timers.js:658:5)
  name: 'SequelizeForeignKeyConstraintError',
  parent:
   { error: insert or update on table "Files" violates foreign key constraint "Files_cnodeUserUUID_fkey"
       at Connection.parseE (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/pg/lib/connection.js:604:11)
       at Connection.parseMessage (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/pg/lib/connection.js:401:19)
       at Socket.<anonymous> (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/pg/lib/connection.js:121:22)
       at Socket.emit (events.js:198:13)
       at addChunk (_stream_readable.js:288:12)
       at readableAddChunk (_stream_readable.js:269:11)
       at Socket.Readable.push (_stream_readable.js:224:10)
       at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)
     name: 'error',
     length: 881,
     severity: 'ERROR',
     code: '23503',
     detail:
      'Key (cnodeUserUUID)=(59ed7980-7e92-4a84-a1e4-17f5f7aabc44) is not present in table "CNodeUsers".',
     hint: undefined,
     position: undefined,
     internalPosition: undefined,
     internalQuery: undefined,
     where:
      'SQL statement "INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES (\'4a4f25fb-0c1c-40ac-b440-62690a461f8e\',\'59ed7980-7e92-4a84-a1e4-17f5f7aabc44\',\'cfea450f-1ed1-4ed7-80d0-6f68a4b991bf\',\'QmdGpDEBq6v6Kv9H61HbeVqyiPo7iBe12tVtkhNig6ipWp\',\'d815829c-723e-41b3-8146-5fae6e873ee3.mp3\',\'/file_storage/QmdGpDEBq6v6Kv9H61HbeVqyiPo7iBe12tVtkhNig6ipWp\',\'copy320\',\'2020-03-05 17:41:04.061 +00:00\',\'2020-03-05 17:41:04.061 +00:00\') RETURNING *"\nPL/pgSQL function pg_temp_67.testfunc() line 1 at SQL statement',
     schema: 'public',
     table: 'Files',
     column: undefined,
     dataType: undefined,
     constraint: 'Files_cnodeUserUUID_fkey',
     file: 'ri_triggers.c',
     line: '2783',
     routine: 'ri_ReportViolation',
     sql:
      'CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_6eec7a840c42446885f30cd9e191066a$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES (\'4a4f25fb-0c1c-40ac-b440-62690a461f8e\',\'59ed7980-7e92-4a84-a1e4-17f5f7aabc44\',\'cfea450f-1ed1-4ed7-80d0-6f68a4b991bf\',\'QmdGpDEBq6v6Kv9H61HbeVqyiPo7iBe12tVtkhNig6ipWp\',\'d815829c-723e-41b3-8146-5fae6e873ee3.mp3\',\'/file_storage/QmdGpDEBq6v6Kv9H61HbeVqyiPo7iBe12tVtkhNig6ipWp\',\'copy320\',\'2020-03-05 17:41:04.061 +00:00\',\'2020-03-05 17:41:04.061 +00:00\') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_6eec7a840c42446885f30cd9e191066a$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();' },
  original:
   { error: insert or update on table "Files" violates foreign key constraint "Files_cnodeUserUUID_fkey"
       at Connection.parseE (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/pg/lib/connection.js:604:11)
       at Connection.parseMessage (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/pg/lib/connection.js:401:19)
       at Socket.<anonymous> (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/pg/lib/connection.js:121:22)
       at Socket.emit (events.js:198:13)
       at addChunk (_stream_readable.js:288:12)
       at readableAddChunk (_stream_readable.js:269:11)
       at Socket.Readable.push (_stream_readable.js:224:10)
       at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)
     name: 'error',
     length: 881,
     severity: 'ERROR',
     code: '23503',
     detail:
      'Key (cnodeUserUUID)=(59ed7980-7e92-4a84-a1e4-17f5f7aabc44) is not present in table "CNodeUsers".',
     hint: undefined,
     position: undefined,
     internalPosition: undefined,
     internalQuery: undefined,
     where:
      'SQL statement "INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES (\'4a4f25fb-0c1c-40ac-b440-62690a461f8e\',\'59ed7980-7e92-4a84-a1e4-17f5f7aabc44\',\'cfea450f-1ed1-4ed7-80d0-6f68a4b991bf\',\'QmdGpDEBq6v6Kv9H61HbeVqyiPo7iBe12tVtkhNig6ipWp\',\'d815829c-723e-41b3-8146-5fae6e873ee3.mp3\',\'/file_storage/QmdGpDEBq6v6Kv9H61HbeVqyiPo7iBe12tVtkhNig6ipWp\',\'copy320\',\'2020-03-05 17:41:04.061 +00:00\',\'2020-03-05 17:41:04.061 +00:00\') RETURNING *"\nPL/pgSQL function pg_temp_67.testfunc() line 1 at SQL statement',
     schema: 'public',
     table: 'Files',
     column: undefined,
     dataType: undefined,
     constraint: 'Files_cnodeUserUUID_fkey',
     file: 'ri_triggers.c',
     line: '2783',
     routine: 'ri_ReportViolation',
     sql:
      'CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_6eec7a840c42446885f30cd9e191066a$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES (\'4a4f25fb-0c1c-40ac-b440-62690a461f8e\',\'59ed7980-7e92-4a84-a1e4-17f5f7aabc44\',\'cfea450f-1ed1-4ed7-80d0-6f68a4b991bf\',\'QmdGpDEBq6v6Kv9H61HbeVqyiPo7iBe12tVtkhNig6ipWp\',\'d815829c-723e-41b3-8146-5fae6e873ee3.mp3\',\'/file_storage/QmdGpDEBq6v6Kv9H61HbeVqyiPo7iBe12tVtkhNig6ipWp\',\'copy320\',\'2020-03-05 17:41:04.061 +00:00\',\'2020-03-05 17:41:04.061 +00:00\') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_6eec7a840c42446885f30cd9e191066a$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();' },
  sql:
   'CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_6eec7a840c42446885f30cd9e191066a$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES (\'4a4f25fb-0c1c-40ac-b440-62690a461f8e\',\'59ed7980-7e92-4a84-a1e4-17f5f7aabc44\',\'cfea450f-1ed1-4ed7-80d0-6f68a4b991bf\',\'QmdGpDEBq6v6Kv9H61HbeVqyiPo7iBe12tVtkhNig6ipWp\',\'d815829c-723e-41b3-8146-5fae6e873ee3.mp3\',\'/file_storage/QmdGpDEBq6v6Kv9H61HbeVqyiPo7iBe12tVtkhNig6ipWp\',\'copy320\',\'2020-03-05 17:41:04.061 +00:00\',\'2020-03-05 17:41:04.061 +00:00\') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_6eec7a840c42446885f30cd9e191066a$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();',
  fields: null,
  table: 'Files',
  value: undefined,
  index: 'Files_cnodeUserUUID_fkey',
  reltype: undefined }




PROCESSING ROW #232: sourcefile: 9613d306-ef93-4efc-a7e8-62822e1cd3c4.mp3, cnodeUserUUID: eb6ef52e-ac0d-4db2-baa5-231120a67c6f, trackUUID: 6e66301a-5e39-4bd2-864c-d6eba3221e3b, multihash: Qmd5znGMpo9sXhsU27ZGXU1xGeBZsXooa3y3uXYQFMpkkQ, dstPath: /file_storage/Qmd5znGMpo9sXhsU27ZGXU1xGeBZsXooa3y3uXYQFMpkkQ
writing to db1...
Executing (a2606b56-ba4c-4dba-a66c-7877199c5ac0): START TRANSACTION;
Executing (a2606b56-ba4c-4dba-a66c-7877199c5ac0): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = 'eb6ef52e-ac0d-4db2-baa5-231120a67c6f' AND "File"."multihash" = 'Qmd5znGMpo9sXhsU27ZGXU1xGeBZsXooa3y3uXYQFMpkkQ' AND "File"."sourceFile" = '9613d306-ef93-4efc-a7e8-62822e1cd3c4.mp3' AND "File"."storagePath" = '/file_storage/Qmd5znGMpo9sXhsU27ZGXU1xGeBZsXooa3y3uXYQFMpkkQ' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '6e66301a-5e39-4bd2-864c-d6eba3221e3b' LIMIT 1;
Executing (a2606b56-ba4c-4dba-a66c-7877199c5ac0): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_53e7b20b6a0e44989573e3971e88797f$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('d6ca8777-01db-4664-a433-df9986a3b80a','eb6ef52e-ac0d-4db2-baa5-231120a67c6f','6e66301a-5e39-4bd2-864c-d6eba3221e3b','Qmd5znGMpo9sXhsU27ZGXU1xGeBZsXooa3y3uXYQFMpkkQ','9613d306-ef93-4efc-a7e8-62822e1cd3c4.mp3','/file_storage/Qmd5znGMpo9sXhsU27ZGXU1xGeBZsXooa3y3uXYQFMpkkQ','copy320','2020-03-05 17:41:04.447 +00:00','2020-03-05 17:41:04.447 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_53e7b20b6a0e44989573e3971e88797f$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (a2606b56-ba4c-4dba-a66c-7877199c5ac0): COMMIT;
{ SequelizeForeignKeyConstraintError: insert or update on table "Files" violates foreign key constraint "Files_trackUUID_fkey"
    at Query.formatError (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/sequelize/lib/dialects/postgres/query.js:296:16)
    at query.catch.err (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/sequelize/lib/dialects/postgres/query.js:86:18)
    at tryCatcher (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/bluebird/js/release/util.js:16:23)
    at Promise._settlePromiseFromHandler (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/bluebird/js/release/promise.js:517:31)
    at Promise._settlePromise (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/bluebird/js/release/promise.js:574:18)
    at Promise._settlePromise0 (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/bluebird/js/release/promise.js:619:10)
    at Promise._settlePromises (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/bluebird/js/release/promise.js:695:18)
    at _drainQueueStep (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/bluebird/js/release/async.js:138:12)
    at _drainQueue (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/bluebird/js/release/async.js:131:9)
    at Async._drainQueues (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/bluebird/js/release/async.js:147:5)
    at Immediate.Async.drainQueues [as _onImmediate] (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/bluebird/js/release/async.js:17:14)
    at runCallback (timers.js:705:18)
    at tryOnImmediate (timers.js:676:5)
    at processImmediate (timers.js:658:5)
  name: 'SequelizeForeignKeyConstraintError',
  parent:
   { error: insert or update on table "Files" violates foreign key constraint "Files_trackUUID_fkey"
       at Connection.parseE (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/pg/lib/connection.js:604:11)
       at Connection.parseMessage (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/pg/lib/connection.js:401:19)
       at Socket.<anonymous> (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/pg/lib/connection.js:121:22)
       at Socket.emit (events.js:198:13)
       at addChunk (_stream_readable.js:288:12)
       at readableAddChunk (_stream_readable.js:269:11)
       at Socket.Readable.push (_stream_readable.js:224:10)
       at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)
     name: 'error',
     length: 865,
     severity: 'ERROR',
     code: '23503',
     detail:
      'Key (trackUUID)=(6e66301a-5e39-4bd2-864c-d6eba3221e3b) is not present in table "Tracks".',
     hint: undefined,
     position: undefined,
     internalPosition: undefined,
     internalQuery: undefined,
     where:
      'SQL statement "INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES (\'d6ca8777-01db-4664-a433-df9986a3b80a\',\'eb6ef52e-ac0d-4db2-baa5-231120a67c6f\',\'6e66301a-5e39-4bd2-864c-d6eba3221e3b\',\'Qmd5znGMpo9sXhsU27ZGXU1xGeBZsXooa3y3uXYQFMpkkQ\',\'9613d306-ef93-4efc-a7e8-62822e1cd3c4.mp3\',\'/file_storage/Qmd5znGMpo9sXhsU27ZGXU1xGeBZsXooa3y3uXYQFMpkkQ\',\'copy320\',\'2020-03-05 17:41:04.447 +00:00\',\'2020-03-05 17:41:04.447 +00:00\') RETURNING *"\nPL/pgSQL function pg_temp_15.testfunc() line 1 at SQL statement',
     schema: 'public',
     table: 'Files',
     column: undefined,
     dataType: undefined,
     constraint: 'Files_trackUUID_fkey',
     file: 'ri_triggers.c',
     line: '2783',
     routine: 'ri_ReportViolation',
     sql:
      'CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_53e7b20b6a0e44989573e3971e88797f$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES (\'d6ca8777-01db-4664-a433-df9986a3b80a\',\'eb6ef52e-ac0d-4db2-baa5-231120a67c6f\',\'6e66301a-5e39-4bd2-864c-d6eba3221e3b\',\'Qmd5znGMpo9sXhsU27ZGXU1xGeBZsXooa3y3uXYQFMpkkQ\',\'9613d306-ef93-4efc-a7e8-62822e1cd3c4.mp3\',\'/file_storage/Qmd5znGMpo9sXhsU27ZGXU1xGeBZsXooa3y3uXYQFMpkkQ\',\'copy320\',\'2020-03-05 17:41:04.447 +00:00\',\'2020-03-05 17:41:04.447 +00:00\') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_53e7b20b6a0e44989573e3971e88797f$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();' },
  original:
   { error: insert or update on table "Files" violates foreign key constraint "Files_trackUUID_fkey"
       at Connection.parseE (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/pg/lib/connection.js:604:11)
       at Connection.parseMessage (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/pg/lib/connection.js:401:19)
       at Socket.<anonymous> (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/pg/lib/connection.js:121:22)
       at Socket.emit (events.js:198:13)
       at addChunk (_stream_readable.js:288:12)
       at readableAddChunk (_stream_readable.js:269:11)
       at Socket.Readable.push (_stream_readable.js:224:10)
       at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)
     name: 'error',
     length: 865,
     severity: 'ERROR',
     code: '23503',
     detail:
      'Key (trackUUID)=(6e66301a-5e39-4bd2-864c-d6eba3221e3b) is not present in table "Tracks".',
     hint: undefined,
     position: undefined,
     internalPosition: undefined,
     internalQuery: undefined,
     where:
      'SQL statement "INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES (\'d6ca8777-01db-4664-a433-df9986a3b80a\',\'eb6ef52e-ac0d-4db2-baa5-231120a67c6f\',\'6e66301a-5e39-4bd2-864c-d6eba3221e3b\',\'Qmd5znGMpo9sXhsU27ZGXU1xGeBZsXooa3y3uXYQFMpkkQ\',\'9613d306-ef93-4efc-a7e8-62822e1cd3c4.mp3\',\'/file_storage/Qmd5znGMpo9sXhsU27ZGXU1xGeBZsXooa3y3uXYQFMpkkQ\',\'copy320\',\'2020-03-05 17:41:04.447 +00:00\',\'2020-03-05 17:41:04.447 +00:00\') RETURNING *"\nPL/pgSQL function pg_temp_15.testfunc() line 1 at SQL statement',
     schema: 'public',
     table: 'Files',
     column: undefined,
     dataType: undefined,
     constraint: 'Files_trackUUID_fkey',
     file: 'ri_triggers.c',
     line: '2783',
     routine: 'ri_ReportViolation',
     sql:
      'CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_53e7b20b6a0e44989573e3971e88797f$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES (\'d6ca8777-01db-4664-a433-df9986a3b80a\',\'eb6ef52e-ac0d-4db2-baa5-231120a67c6f\',\'6e66301a-5e39-4bd2-864c-d6eba3221e3b\',\'Qmd5znGMpo9sXhsU27ZGXU1xGeBZsXooa3y3uXYQFMpkkQ\',\'9613d306-ef93-4efc-a7e8-62822e1cd3c4.mp3\',\'/file_storage/Qmd5znGMpo9sXhsU27ZGXU1xGeBZsXooa3y3uXYQFMpkkQ\',\'copy320\',\'2020-03-05 17:41:04.447 +00:00\',\'2020-03-05 17:41:04.447 +00:00\') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_53e7b20b6a0e44989573e3971e88797f$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();' },
  sql:
   'CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_53e7b20b6a0e44989573e3971e88797f$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES (\'d6ca8777-01db-4664-a433-df9986a3b80a\',\'eb6ef52e-ac0d-4db2-baa5-231120a67c6f\',\'6e66301a-5e39-4bd2-864c-d6eba3221e3b\',\'Qmd5znGMpo9sXhsU27ZGXU1xGeBZsXooa3y3uXYQFMpkkQ\',\'9613d306-ef93-4efc-a7e8-62822e1cd3c4.mp3\',\'/file_storage/Qmd5znGMpo9sXhsU27ZGXU1xGeBZsXooa3y3uXYQFMpkkQ\',\'copy320\',\'2020-03-05 17:41:04.447 +00:00\',\'2020-03-05 17:41:04.447 +00:00\') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_53e7b20b6a0e44989573e3971e88797f$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();',
  fields: null,
  table: 'Files',
  value: undefined,
  index: 'Files_trackUUID_fkey',
  reltype: undefined }
writing to db2...
Executing (b481ff05-869a-4944-9a6a-e4fdd3590445): START TRANSACTION;
Executing (b481ff05-869a-4944-9a6a-e4fdd3590445): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = 'eb6ef52e-ac0d-4db2-baa5-231120a67c6f' AND "File"."multihash" = 'Qmd5znGMpo9sXhsU27ZGXU1xGeBZsXooa3y3uXYQFMpkkQ' AND "File"."sourceFile" = '9613d306-ef93-4efc-a7e8-62822e1cd3c4.mp3' AND "File"."storagePath" = '/file_storage/Qmd5znGMpo9sXhsU27ZGXU1xGeBZsXooa3y3uXYQFMpkkQ' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '6e66301a-5e39-4bd2-864c-d6eba3221e3b' LIMIT 1;
Executing (b481ff05-869a-4944-9a6a-e4fdd3590445): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_c88e31ccf8094417b2ee2c5651829c8e$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('3b069bf3-4c9d-4552-bd47-f60d5bdfc3cb','eb6ef52e-ac0d-4db2-baa5-231120a67c6f','6e66301a-5e39-4bd2-864c-d6eba3221e3b','Qmd5znGMpo9sXhsU27ZGXU1xGeBZsXooa3y3uXYQFMpkkQ','9613d306-ef93-4efc-a7e8-62822e1cd3c4.mp3','/file_storage/Qmd5znGMpo9sXhsU27ZGXU1xGeBZsXooa3y3uXYQFMpkkQ','copy320','2020-03-05 17:41:04.850 +00:00','2020-03-05 17:41:04.850 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_c88e31ccf8094417b2ee2c5651829c8e$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (b481ff05-869a-4944-9a6a-e4fdd3590445): COMMIT;
{ fileUUID: '3b069bf3-4c9d-4552-bd47-f60d5bdfc3cb',
  cnodeUserUUID: 'eb6ef52e-ac0d-4db2-baa5-231120a67c6f',
  multihash: 'Qmd5znGMpo9sXhsU27ZGXU1xGeBZsXooa3y3uXYQFMpkkQ',
  sourceFile: '9613d306-ef93-4efc-a7e8-62822e1cd3c4.mp3',
  storagePath:
   '/file_storage/Qmd5znGMpo9sXhsU27ZGXU1xGeBZsXooa3y3uXYQFMpkkQ',
  type: 'copy320',
  trackUUID: '6e66301a-5e39-4bd2-864c-d6eba3221e3b',
  updatedAt: 2020-03-05T17:41:04.850Z,
  createdAt: 2020-03-05T17:41:04.850Z }
writing to db3...
Executing (7a15d45d-89f7-40a8-9ba7-4f6a38a9cae7): START TRANSACTION;
Executing (7a15d45d-89f7-40a8-9ba7-4f6a38a9cae7): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = 'eb6ef52e-ac0d-4db2-baa5-231120a67c6f' AND "File"."multihash" = 'Qmd5znGMpo9sXhsU27ZGXU1xGeBZsXooa3y3uXYQFMpkkQ' AND "File"."sourceFile" = '9613d306-ef93-4efc-a7e8-62822e1cd3c4.mp3' AND "File"."storagePath" = '/file_storage/Qmd5znGMpo9sXhsU27ZGXU1xGeBZsXooa3y3uXYQFMpkkQ' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '6e66301a-5e39-4bd2-864c-d6eba3221e3b' LIMIT 1;
Executing (7a15d45d-89f7-40a8-9ba7-4f6a38a9cae7): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_068ada51603045e2a7d78c2a4d855b72$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('bd96f741-fdcd-49cb-98e7-9de55ab3bc44','eb6ef52e-ac0d-4db2-baa5-231120a67c6f','6e66301a-5e39-4bd2-864c-d6eba3221e3b','Qmd5znGMpo9sXhsU27ZGXU1xGeBZsXooa3y3uXYQFMpkkQ','9613d306-ef93-4efc-a7e8-62822e1cd3c4.mp3','/file_storage/Qmd5znGMpo9sXhsU27ZGXU1xGeBZsXooa3y3uXYQFMpkkQ','copy320','2020-03-05 17:41:05.242 +00:00','2020-03-05 17:41:05.242 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_068ada51603045e2a7d78c2a4d855b72$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (7a15d45d-89f7-40a8-9ba7-4f6a38a9cae7): COMMIT;
{ fileUUID: 'bd96f741-fdcd-49cb-98e7-9de55ab3bc44',
  cnodeUserUUID: 'eb6ef52e-ac0d-4db2-baa5-231120a67c6f',
  multihash: 'Qmd5znGMpo9sXhsU27ZGXU1xGeBZsXooa3y3uXYQFMpkkQ',
  sourceFile: '9613d306-ef93-4efc-a7e8-62822e1cd3c4.mp3',
  storagePath:
   '/file_storage/Qmd5znGMpo9sXhsU27ZGXU1xGeBZsXooa3y3uXYQFMpkkQ',
  type: 'copy320',
  trackUUID: '6e66301a-5e39-4bd2-864c-d6eba3221e3b',
  updatedAt: 2020-03-05T17:41:05.242Z,
  createdAt: 2020-03-05T17:41:05.242Z }
Exiting...
