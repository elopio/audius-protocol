



PROCESSING ROW #5: acb580dc-372a-4ead-b762-3e7a32cc7e15.mp3, 12df4f0f-8ba5-43fd-8e0c-ce2da34c20b5, 637e2b01-c4c9-47f5-a84b-3e62d6775bca, QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM, /file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM
writing to db1...
Executing (b67a7374-49b5-4c5a-ac84-38be0f7d8d61): START TRANSACTION;
Executing (b67a7374-49b5-4c5a-ac84-38be0f7d8d61): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '12df4f0f-8ba5-43fd-8e0c-ce2da34c20b5' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = 'acb580dc-372a-4ead-b762-3e7a32cc7e15.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '637e2b01-c4c9-47f5-a84b-3e62d6775bca' LIMIT 1;
Executing (b67a7374-49b5-4c5a-ac84-38be0f7d8d61): COMMIT;
{ fileUUID: 'b2b0da8b-cc34-4df4-8db6-08e0d8f51da5',
  cnodeUserUUID: '12df4f0f-8ba5-43fd-8e0c-ce2da34c20b5',
  trackUUID: '637e2b01-c4c9-47f5-a84b-3e62d6775bca',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: 'acb580dc-372a-4ead-b762-3e7a32cc7e15.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  createdAt: 2020-03-05T16:56:34.064Z,
  updatedAt: 2020-03-05T16:56:34.064Z }
writing to db1...
Executing (f21f5743-3ebc-44f0-adfd-cdb6ae6bc712): START TRANSACTION;
Executing (f21f5743-3ebc-44f0-adfd-cdb6ae6bc712): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '12df4f0f-8ba5-43fd-8e0c-ce2da34c20b5' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = 'acb580dc-372a-4ead-b762-3e7a32cc7e15.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '637e2b01-c4c9-47f5-a84b-3e62d6775bca' LIMIT 1;
Executing (f21f5743-3ebc-44f0-adfd-cdb6ae6bc712): COMMIT;
{ fileUUID: '9933a351-5d94-409f-8cd6-3f5f08293cf6',
  cnodeUserUUID: '12df4f0f-8ba5-43fd-8e0c-ce2da34c20b5',
  trackUUID: '637e2b01-c4c9-47f5-a84b-3e62d6775bca',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: 'acb580dc-372a-4ead-b762-3e7a32cc7e15.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  createdAt: 2020-03-05T16:56:34.550Z,
  updatedAt: 2020-03-05T16:56:34.550Z }
writing to db1...
Executing (56ab6f41-8943-41e5-80b0-970689ddba3d): START TRANSACTION;
Executing (56ab6f41-8943-41e5-80b0-970689ddba3d): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '12df4f0f-8ba5-43fd-8e0c-ce2da34c20b5' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = 'acb580dc-372a-4ead-b762-3e7a32cc7e15.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '637e2b01-c4c9-47f5-a84b-3e62d6775bca' LIMIT 1;
Executing (56ab6f41-8943-41e5-80b0-970689ddba3d): COMMIT;
{ fileUUID: 'df34ee32-9450-4894-bdf2-5bcf90a1454f',
  cnodeUserUUID: '12df4f0f-8ba5-43fd-8e0c-ce2da34c20b5',
  trackUUID: '637e2b01-c4c9-47f5-a84b-3e62d6775bca',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: 'acb580dc-372a-4ead-b762-3e7a32cc7e15.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  createdAt: 2020-03-05T16:56:34.988Z,
  updatedAt: 2020-03-05T16:56:34.988Z }
starting timeout of 1000




PROCESSING ROW #6: ada8bdf9-3b9f-4b87-a732-e83173071d9a.mp3, 07f70e7c-b2ae-4d67-bfb3-6e33620531f3, 1b82805e-66de-4de2-a48e-eaf8036d42de, Qma9VzLkVh2gau8eHoAt8QtkjrjQkbP7fFoJXnR3yDZpRW, /file_storage/Qma9VzLkVh2gau8eHoAt8QtkjrjQkbP7fFoJXnR3yDZpRW
writing to db1...
Executing (2bd7c89c-427c-49b2-a1ec-273f0ced60ef): START TRANSACTION;
Executing (2bd7c89c-427c-49b2-a1ec-273f0ced60ef): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '07f70e7c-b2ae-4d67-bfb3-6e33620531f3' AND "File"."multihash" = 'Qma9VzLkVh2gau8eHoAt8QtkjrjQkbP7fFoJXnR3yDZpRW' AND "File"."sourceFile" = 'ada8bdf9-3b9f-4b87-a732-e83173071d9a.mp3' AND "File"."storagePath" = '/file_storage/Qma9VzLkVh2gau8eHoAt8QtkjrjQkbP7fFoJXnR3yDZpRW' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '1b82805e-66de-4de2-a48e-eaf8036d42de' LIMIT 1;
Executing (2bd7c89c-427c-49b2-a1ec-273f0ced60ef): COMMIT;
{ fileUUID: '0f8a2193-353d-4ae6-b366-bf0cfd1db942',
  cnodeUserUUID: '07f70e7c-b2ae-4d67-bfb3-6e33620531f3',
  trackUUID: '1b82805e-66de-4de2-a48e-eaf8036d42de',
  multihash: 'Qma9VzLkVh2gau8eHoAt8QtkjrjQkbP7fFoJXnR3yDZpRW',
  sourceFile: 'ada8bdf9-3b9f-4b87-a732-e83173071d9a.mp3',
  storagePath:
   '/file_storage/Qma9VzLkVh2gau8eHoAt8QtkjrjQkbP7fFoJXnR3yDZpRW',
  type: 'copy320',
  createdAt: 2020-03-05T16:56:36.433Z,
  updatedAt: 2020-03-05T16:56:36.433Z }
writing to db1...
Executing (470c0582-d97e-4ad1-b779-87e5bf84d895): START TRANSACTION;
Executing (470c0582-d97e-4ad1-b779-87e5bf84d895): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '07f70e7c-b2ae-4d67-bfb3-6e33620531f3' AND "File"."multihash" = 'Qma9VzLkVh2gau8eHoAt8QtkjrjQkbP7fFoJXnR3yDZpRW' AND "File"."sourceFile" = 'ada8bdf9-3b9f-4b87-a732-e83173071d9a.mp3' AND "File"."storagePath" = '/file_storage/Qma9VzLkVh2gau8eHoAt8QtkjrjQkbP7fFoJXnR3yDZpRW' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '1b82805e-66de-4de2-a48e-eaf8036d42de' LIMIT 1;
Executing (470c0582-d97e-4ad1-b779-87e5bf84d895): COMMIT;
{ fileUUID: '98a9f660-0ff4-4b18-ac6e-22135ea3ea7d',
  cnodeUserUUID: '07f70e7c-b2ae-4d67-bfb3-6e33620531f3',
  trackUUID: '1b82805e-66de-4de2-a48e-eaf8036d42de',
  multihash: 'Qma9VzLkVh2gau8eHoAt8QtkjrjQkbP7fFoJXnR3yDZpRW',
  sourceFile: 'ada8bdf9-3b9f-4b87-a732-e83173071d9a.mp3',
  storagePath:
   '/file_storage/Qma9VzLkVh2gau8eHoAt8QtkjrjQkbP7fFoJXnR3yDZpRW',
  type: 'copy320',
  createdAt: 2020-03-05T16:56:36.911Z,
  updatedAt: 2020-03-05T16:56:36.911Z }
writing to db1...
Executing (7273e5d2-fb4a-4ceb-a6c3-6d8b253d7346): START TRANSACTION;
Executing (7273e5d2-fb4a-4ceb-a6c3-6d8b253d7346): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '07f70e7c-b2ae-4d67-bfb3-6e33620531f3' AND "File"."multihash" = 'Qma9VzLkVh2gau8eHoAt8QtkjrjQkbP7fFoJXnR3yDZpRW' AND "File"."sourceFile" = 'ada8bdf9-3b9f-4b87-a732-e83173071d9a.mp3' AND "File"."storagePath" = '/file_storage/Qma9VzLkVh2gau8eHoAt8QtkjrjQkbP7fFoJXnR3yDZpRW' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '1b82805e-66de-4de2-a48e-eaf8036d42de' LIMIT 1;
Executing (7273e5d2-fb4a-4ceb-a6c3-6d8b253d7346): COMMIT;
{ fileUUID: '6425b792-f546-46ab-91a2-0a323edca7ad',
  cnodeUserUUID: '07f70e7c-b2ae-4d67-bfb3-6e33620531f3',
  trackUUID: '1b82805e-66de-4de2-a48e-eaf8036d42de',
  multihash: 'Qma9VzLkVh2gau8eHoAt8QtkjrjQkbP7fFoJXnR3yDZpRW',
  sourceFile: 'ada8bdf9-3b9f-4b87-a732-e83173071d9a.mp3',
  storagePath:
   '/file_storage/Qma9VzLkVh2gau8eHoAt8QtkjrjQkbP7fFoJXnR3yDZpRW',
  type: 'copy320',
  createdAt: 2020-03-05T16:56:37.346Z,
  updatedAt: 2020-03-05T16:56:37.346Z }
starting timeout of 1000




PROCESSING ROW #7: 722288a1-2f9a-4a32-b845-5d7a995f65c3.mp3, 1350147d-276f-4221-8c54-a597192c1ed9, 765a5df8-a6e3-4645-9908-4fd025561abb, QmVUvkVVj7k7reHHPAjFui44eKFuSvfUvYRTdgzjkrRgku, /file_storage/QmVUvkVVj7k7reHHPAjFui44eKFuSvfUvYRTdgzjkrRgku
writing to db1...
Executing (296f1f3c-81d1-4800-96f3-9706649188fb): START TRANSACTION;
Executing (296f1f3c-81d1-4800-96f3-9706649188fb): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '1350147d-276f-4221-8c54-a597192c1ed9' AND "File"."multihash" = 'QmVUvkVVj7k7reHHPAjFui44eKFuSvfUvYRTdgzjkrRgku' AND "File"."sourceFile" = '722288a1-2f9a-4a32-b845-5d7a995f65c3.mp3' AND "File"."storagePath" = '/file_storage/QmVUvkVVj7k7reHHPAjFui44eKFuSvfUvYRTdgzjkrRgku' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '765a5df8-a6e3-4645-9908-4fd025561abb' LIMIT 1;
Executing (296f1f3c-81d1-4800-96f3-9706649188fb): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_949ed62cb2884b60b6436a2d573b483b$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('65207f40-84de-4b0a-ab0b-08d802d8d532','1350147d-276f-4221-8c54-a597192c1ed9','765a5df8-a6e3-4645-9908-4fd025561abb','QmVUvkVVj7k7reHHPAjFui44eKFuSvfUvYRTdgzjkrRgku','722288a1-2f9a-4a32-b845-5d7a995f65c3.mp3','/file_storage/QmVUvkVVj7k7reHHPAjFui44eKFuSvfUvYRTdgzjkrRgku','copy320','2020-03-05 16:57:25.213 +00:00','2020-03-05 16:57:25.213 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_949ed62cb2884b60b6436a2d573b483b$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (296f1f3c-81d1-4800-96f3-9706649188fb): COMMIT;
{ fileUUID: '65207f40-84de-4b0a-ab0b-08d802d8d532',
  cnodeUserUUID: '1350147d-276f-4221-8c54-a597192c1ed9',
  multihash: 'QmVUvkVVj7k7reHHPAjFui44eKFuSvfUvYRTdgzjkrRgku',
  sourceFile: '722288a1-2f9a-4a32-b845-5d7a995f65c3.mp3',
  storagePath:
   '/file_storage/QmVUvkVVj7k7reHHPAjFui44eKFuSvfUvYRTdgzjkrRgku',
  type: 'copy320',
  trackUUID: '765a5df8-a6e3-4645-9908-4fd025561abb',
  updatedAt: 2020-03-05T16:57:25.213Z,
  createdAt: 2020-03-05T16:57:25.213Z }
writing to db1...
Executing (8f5759d9-ca5a-4889-ab90-97a91abb0d77): START TRANSACTION;
Executing (8f5759d9-ca5a-4889-ab90-97a91abb0d77): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '1350147d-276f-4221-8c54-a597192c1ed9' AND "File"."multihash" = 'QmVUvkVVj7k7reHHPAjFui44eKFuSvfUvYRTdgzjkrRgku' AND "File"."sourceFile" = '722288a1-2f9a-4a32-b845-5d7a995f65c3.mp3' AND "File"."storagePath" = '/file_storage/QmVUvkVVj7k7reHHPAjFui44eKFuSvfUvYRTdgzjkrRgku' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '765a5df8-a6e3-4645-9908-4fd025561abb' LIMIT 1;
Executing (8f5759d9-ca5a-4889-ab90-97a91abb0d77): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_6aa5e34e79cc4029b5d2a0b055d4ae65$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('d559f794-2aba-4fb8-a9bf-a93479a986c2','1350147d-276f-4221-8c54-a597192c1ed9','765a5df8-a6e3-4645-9908-4fd025561abb','QmVUvkVVj7k7reHHPAjFui44eKFuSvfUvYRTdgzjkrRgku','722288a1-2f9a-4a32-b845-5d7a995f65c3.mp3','/file_storage/QmVUvkVVj7k7reHHPAjFui44eKFuSvfUvYRTdgzjkrRgku','copy320','2020-03-05 16:57:25.655 +00:00','2020-03-05 16:57:25.655 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_6aa5e34e79cc4029b5d2a0b055d4ae65$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (8f5759d9-ca5a-4889-ab90-97a91abb0d77): COMMIT;
{ fileUUID: 'd559f794-2aba-4fb8-a9bf-a93479a986c2',
  cnodeUserUUID: '1350147d-276f-4221-8c54-a597192c1ed9',
  multihash: 'QmVUvkVVj7k7reHHPAjFui44eKFuSvfUvYRTdgzjkrRgku',
  sourceFile: '722288a1-2f9a-4a32-b845-5d7a995f65c3.mp3',
  storagePath:
   '/file_storage/QmVUvkVVj7k7reHHPAjFui44eKFuSvfUvYRTdgzjkrRgku',
  type: 'copy320',
  trackUUID: '765a5df8-a6e3-4645-9908-4fd025561abb',
  updatedAt: 2020-03-05T16:57:25.655Z,
  createdAt: 2020-03-05T16:57:25.655Z }
writing to db1...
Executing (0ad3130c-e690-4255-8f26-856b85907e34): START TRANSACTION;
Executing (0ad3130c-e690-4255-8f26-856b85907e34): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '1350147d-276f-4221-8c54-a597192c1ed9' AND "File"."multihash" = 'QmVUvkVVj7k7reHHPAjFui44eKFuSvfUvYRTdgzjkrRgku' AND "File"."sourceFile" = '722288a1-2f9a-4a32-b845-5d7a995f65c3.mp3' AND "File"."storagePath" = '/file_storage/QmVUvkVVj7k7reHHPAjFui44eKFuSvfUvYRTdgzjkrRgku' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '765a5df8-a6e3-4645-9908-4fd025561abb' LIMIT 1;
Executing (0ad3130c-e690-4255-8f26-856b85907e34): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_621352d24e6946b1a50cc2c5647a6568$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('13cad71f-9961-44e3-b41f-5c245cf6819d','1350147d-276f-4221-8c54-a597192c1ed9','765a5df8-a6e3-4645-9908-4fd025561abb','QmVUvkVVj7k7reHHPAjFui44eKFuSvfUvYRTdgzjkrRgku','722288a1-2f9a-4a32-b845-5d7a995f65c3.mp3','/file_storage/QmVUvkVVj7k7reHHPAjFui44eKFuSvfUvYRTdgzjkrRgku','copy320','2020-03-05 16:57:26.077 +00:00','2020-03-05 16:57:26.077 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_621352d24e6946b1a50cc2c5647a6568$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (0ad3130c-e690-4255-8f26-856b85907e34): COMMIT;
{ fileUUID: '13cad71f-9961-44e3-b41f-5c245cf6819d',
  cnodeUserUUID: '1350147d-276f-4221-8c54-a597192c1ed9',
  multihash: 'QmVUvkVVj7k7reHHPAjFui44eKFuSvfUvYRTdgzjkrRgku',
  sourceFile: '722288a1-2f9a-4a32-b845-5d7a995f65c3.mp3',
  storagePath:
   '/file_storage/QmVUvkVVj7k7reHHPAjFui44eKFuSvfUvYRTdgzjkrRgku',
  type: 'copy320',
  trackUUID: '765a5df8-a6e3-4645-9908-4fd025561abb',
  updatedAt: 2020-03-05T16:57:26.077Z,
  createdAt: 2020-03-05T16:57:26.077Z }
starting timeout of 1000




PROCESSING ROW #8: 090fa64d-6f45-40ba-a227-cd5f1a7d557c.mp3, defd3ab0-7762-42be-998a-22eddab8738a, e706b729-9040-416d-a742-16ebd52619ab, QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM, /file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM
writing to db1...
Executing (8e6cab8e-3fb4-4a67-942c-e41341b387d5): START TRANSACTION;
Executing (8e6cab8e-3fb4-4a67-942c-e41341b387d5): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = 'defd3ab0-7762-42be-998a-22eddab8738a' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = '090fa64d-6f45-40ba-a227-cd5f1a7d557c.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = 'e706b729-9040-416d-a742-16ebd52619ab' LIMIT 1;
Executing (8e6cab8e-3fb4-4a67-942c-e41341b387d5): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_94c79f1c94504448969b2cc1d61bea3b$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('b91c59bd-a8bc-4133-82e5-e8bc3cd50dc1','defd3ab0-7762-42be-998a-22eddab8738a','e706b729-9040-416d-a742-16ebd52619ab','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','090fa64d-6f45-40ba-a227-cd5f1a7d557c.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 16:57:27.529 +00:00','2020-03-05 16:57:27.529 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_94c79f1c94504448969b2cc1d61bea3b$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (8e6cab8e-3fb4-4a67-942c-e41341b387d5): COMMIT;
{ fileUUID: 'b91c59bd-a8bc-4133-82e5-e8bc3cd50dc1',
  cnodeUserUUID: 'defd3ab0-7762-42be-998a-22eddab8738a',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: '090fa64d-6f45-40ba-a227-cd5f1a7d557c.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: 'e706b729-9040-416d-a742-16ebd52619ab',
  updatedAt: 2020-03-05T16:57:27.529Z,
  createdAt: 2020-03-05T16:57:27.529Z }
writing to db1...
Executing (f0ce44b2-aa00-4da3-ae59-75706b3fb6a6): START TRANSACTION;
Executing (f0ce44b2-aa00-4da3-ae59-75706b3fb6a6): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = 'defd3ab0-7762-42be-998a-22eddab8738a' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = '090fa64d-6f45-40ba-a227-cd5f1a7d557c.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = 'e706b729-9040-416d-a742-16ebd52619ab' LIMIT 1;
Executing (f0ce44b2-aa00-4da3-ae59-75706b3fb6a6): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_794a2480efa144d7bdb1db8eb8220ce1$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('95abfa87-c510-43f3-83f4-c74a7f013e02','defd3ab0-7762-42be-998a-22eddab8738a','e706b729-9040-416d-a742-16ebd52619ab','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','090fa64d-6f45-40ba-a227-cd5f1a7d557c.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 16:57:27.929 +00:00','2020-03-05 16:57:27.929 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_794a2480efa144d7bdb1db8eb8220ce1$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (f0ce44b2-aa00-4da3-ae59-75706b3fb6a6): COMMIT;
{ fileUUID: '95abfa87-c510-43f3-83f4-c74a7f013e02',
  cnodeUserUUID: 'defd3ab0-7762-42be-998a-22eddab8738a',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: '090fa64d-6f45-40ba-a227-cd5f1a7d557c.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: 'e706b729-9040-416d-a742-16ebd52619ab',
  updatedAt: 2020-03-05T16:57:27.929Z,
  createdAt: 2020-03-05T16:57:27.929Z }
writing to db1...
Executing (3c9b89a5-4102-4b9b-b4ac-5956e3b356b8): START TRANSACTION;
Executing (3c9b89a5-4102-4b9b-b4ac-5956e3b356b8): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = 'defd3ab0-7762-42be-998a-22eddab8738a' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = '090fa64d-6f45-40ba-a227-cd5f1a7d557c.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = 'e706b729-9040-416d-a742-16ebd52619ab' LIMIT 1;
Executing (3c9b89a5-4102-4b9b-b4ac-5956e3b356b8): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_7fab0001a5684958b915353ecf0dc2e2$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('65298a6c-9a7e-4dbf-96bd-c99f109506e9','defd3ab0-7762-42be-998a-22eddab8738a','e706b729-9040-416d-a742-16ebd52619ab','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','090fa64d-6f45-40ba-a227-cd5f1a7d557c.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 16:57:28.364 +00:00','2020-03-05 16:57:28.364 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_7fab0001a5684958b915353ecf0dc2e2$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (3c9b89a5-4102-4b9b-b4ac-5956e3b356b8): COMMIT;
{ fileUUID: '65298a6c-9a7e-4dbf-96bd-c99f109506e9',
  cnodeUserUUID: 'defd3ab0-7762-42be-998a-22eddab8738a',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: '090fa64d-6f45-40ba-a227-cd5f1a7d557c.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: 'e706b729-9040-416d-a742-16ebd52619ab',
  updatedAt: 2020-03-05T16:57:28.364Z,
  createdAt: 2020-03-05T16:57:28.364Z }
starting timeout of 1000




PROCESSING ROW #9: 7119eea3-0011-4809-bba7-a390d8a82330.mp3, 1350147d-276f-4221-8c54-a597192c1ed9, 28c5eda7-d097-4160-805a-bfec61ba890a, QmWz5Hzy8abbTFbcQZCLqB5GaMWXfT3rK4U8V9gvCAfMS7, /file_storage/QmWz5Hzy8abbTFbcQZCLqB5GaMWXfT3rK4U8V9gvCAfMS7
writing to db1...
Executing (b34608b0-3da4-48fc-ba0e-c5c2b29ec219): START TRANSACTION;
Executing (b34608b0-3da4-48fc-ba0e-c5c2b29ec219): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '1350147d-276f-4221-8c54-a597192c1ed9' AND "File"."multihash" = 'QmWz5Hzy8abbTFbcQZCLqB5GaMWXfT3rK4U8V9gvCAfMS7' AND "File"."sourceFile" = '7119eea3-0011-4809-bba7-a390d8a82330.mp3' AND "File"."storagePath" = '/file_storage/QmWz5Hzy8abbTFbcQZCLqB5GaMWXfT3rK4U8V9gvCAfMS7' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '28c5eda7-d097-4160-805a-bfec61ba890a' LIMIT 1;
Executing (b34608b0-3da4-48fc-ba0e-c5c2b29ec219): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_72eba127deeb440db57ee304702ce8e6$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('bc97dfd5-1af6-4703-ae40-ea8971cba57e','1350147d-276f-4221-8c54-a597192c1ed9','28c5eda7-d097-4160-805a-bfec61ba890a','QmWz5Hzy8abbTFbcQZCLqB5GaMWXfT3rK4U8V9gvCAfMS7','7119eea3-0011-4809-bba7-a390d8a82330.mp3','/file_storage/QmWz5Hzy8abbTFbcQZCLqB5GaMWXfT3rK4U8V9gvCAfMS7','copy320','2020-03-05 16:57:29.800 +00:00','2020-03-05 16:57:29.800 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_72eba127deeb440db57ee304702ce8e6$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (b34608b0-3da4-48fc-ba0e-c5c2b29ec219): COMMIT;
{ fileUUID: 'bc97dfd5-1af6-4703-ae40-ea8971cba57e',
  cnodeUserUUID: '1350147d-276f-4221-8c54-a597192c1ed9',
  multihash: 'QmWz5Hzy8abbTFbcQZCLqB5GaMWXfT3rK4U8V9gvCAfMS7',
  sourceFile: '7119eea3-0011-4809-bba7-a390d8a82330.mp3',
  storagePath:
   '/file_storage/QmWz5Hzy8abbTFbcQZCLqB5GaMWXfT3rK4U8V9gvCAfMS7',
  type: 'copy320',
  trackUUID: '28c5eda7-d097-4160-805a-bfec61ba890a',
  updatedAt: 2020-03-05T16:57:29.800Z,
  createdAt: 2020-03-05T16:57:29.800Z }
writing to db1...
Executing (eb2e66dd-49cc-4b56-81aa-c9ec526e1b21): START TRANSACTION;
Executing (eb2e66dd-49cc-4b56-81aa-c9ec526e1b21): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '1350147d-276f-4221-8c54-a597192c1ed9' AND "File"."multihash" = 'QmWz5Hzy8abbTFbcQZCLqB5GaMWXfT3rK4U8V9gvCAfMS7' AND "File"."sourceFile" = '7119eea3-0011-4809-bba7-a390d8a82330.mp3' AND "File"."storagePath" = '/file_storage/QmWz5Hzy8abbTFbcQZCLqB5GaMWXfT3rK4U8V9gvCAfMS7' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '28c5eda7-d097-4160-805a-bfec61ba890a' LIMIT 1;
Executing (eb2e66dd-49cc-4b56-81aa-c9ec526e1b21): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_b8b2538c87ff42039825b70c4c2747d6$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('61ab33b2-ac34-4bfc-84a5-1449a309d1ac','1350147d-276f-4221-8c54-a597192c1ed9','28c5eda7-d097-4160-805a-bfec61ba890a','QmWz5Hzy8abbTFbcQZCLqB5GaMWXfT3rK4U8V9gvCAfMS7','7119eea3-0011-4809-bba7-a390d8a82330.mp3','/file_storage/QmWz5Hzy8abbTFbcQZCLqB5GaMWXfT3rK4U8V9gvCAfMS7','copy320','2020-03-05 16:57:30.219 +00:00','2020-03-05 16:57:30.219 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_b8b2538c87ff42039825b70c4c2747d6$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (eb2e66dd-49cc-4b56-81aa-c9ec526e1b21): COMMIT;
{ fileUUID: '61ab33b2-ac34-4bfc-84a5-1449a309d1ac',
  cnodeUserUUID: '1350147d-276f-4221-8c54-a597192c1ed9',
  multihash: 'QmWz5Hzy8abbTFbcQZCLqB5GaMWXfT3rK4U8V9gvCAfMS7',
  sourceFile: '7119eea3-0011-4809-bba7-a390d8a82330.mp3',
  storagePath:
   '/file_storage/QmWz5Hzy8abbTFbcQZCLqB5GaMWXfT3rK4U8V9gvCAfMS7',
  type: 'copy320',
  trackUUID: '28c5eda7-d097-4160-805a-bfec61ba890a',
  updatedAt: 2020-03-05T16:57:30.219Z,
  createdAt: 2020-03-05T16:57:30.219Z }
writing to db1...
Executing (851c830f-5d57-4f07-9516-9bcbbdd16f28): START TRANSACTION;
Executing (851c830f-5d57-4f07-9516-9bcbbdd16f28): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '1350147d-276f-4221-8c54-a597192c1ed9' AND "File"."multihash" = 'QmWz5Hzy8abbTFbcQZCLqB5GaMWXfT3rK4U8V9gvCAfMS7' AND "File"."sourceFile" = '7119eea3-0011-4809-bba7-a390d8a82330.mp3' AND "File"."storagePath" = '/file_storage/QmWz5Hzy8abbTFbcQZCLqB5GaMWXfT3rK4U8V9gvCAfMS7' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '28c5eda7-d097-4160-805a-bfec61ba890a' LIMIT 1;
Executing (851c830f-5d57-4f07-9516-9bcbbdd16f28): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_bba54409eb874e6eb682bbd512e382a5$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('80e6b663-71fa-4ed4-b20d-2283c7cfe4a0','1350147d-276f-4221-8c54-a597192c1ed9','28c5eda7-d097-4160-805a-bfec61ba890a','QmWz5Hzy8abbTFbcQZCLqB5GaMWXfT3rK4U8V9gvCAfMS7','7119eea3-0011-4809-bba7-a390d8a82330.mp3','/file_storage/QmWz5Hzy8abbTFbcQZCLqB5GaMWXfT3rK4U8V9gvCAfMS7','copy320','2020-03-05 16:57:30.656 +00:00','2020-03-05 16:57:30.656 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_bba54409eb874e6eb682bbd512e382a5$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (851c830f-5d57-4f07-9516-9bcbbdd16f28): COMMIT;
{ fileUUID: '80e6b663-71fa-4ed4-b20d-2283c7cfe4a0',
  cnodeUserUUID: '1350147d-276f-4221-8c54-a597192c1ed9',
  multihash: 'QmWz5Hzy8abbTFbcQZCLqB5GaMWXfT3rK4U8V9gvCAfMS7',
  sourceFile: '7119eea3-0011-4809-bba7-a390d8a82330.mp3',
  storagePath:
   '/file_storage/QmWz5Hzy8abbTFbcQZCLqB5GaMWXfT3rK4U8V9gvCAfMS7',
  type: 'copy320',
  trackUUID: '28c5eda7-d097-4160-805a-bfec61ba890a',
  updatedAt: 2020-03-05T16:57:30.656Z,
  createdAt: 2020-03-05T16:57:30.656Z }
starting timeout of 1000




PROCESSING ROW #10: 8e40a490-1493-4cd9-8e35-c811039968b2.mp3, 46735089-8195-4dbf-8827-9a7c71640885, 9a4410f2-9699-41c2-9374-14d3ef831b2b, QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM, /file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM
writing to db1...
Executing (4ec28da1-5467-4304-bab3-0de25ad0a5a3): START TRANSACTION;
Executing (4ec28da1-5467-4304-bab3-0de25ad0a5a3): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '46735089-8195-4dbf-8827-9a7c71640885' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = '8e40a490-1493-4cd9-8e35-c811039968b2.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '9a4410f2-9699-41c2-9374-14d3ef831b2b' LIMIT 1;
Executing (4ec28da1-5467-4304-bab3-0de25ad0a5a3): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_1945935f1ada4358b9bdf14532311fe8$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('680993f4-a19c-454d-9af9-fd6a83b3f7e0','46735089-8195-4dbf-8827-9a7c71640885','9a4410f2-9699-41c2-9374-14d3ef831b2b','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','8e40a490-1493-4cd9-8e35-c811039968b2.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 16:57:32.106 +00:00','2020-03-05 16:57:32.106 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_1945935f1ada4358b9bdf14532311fe8$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (4ec28da1-5467-4304-bab3-0de25ad0a5a3): COMMIT;
{ fileUUID: '680993f4-a19c-454d-9af9-fd6a83b3f7e0',
  cnodeUserUUID: '46735089-8195-4dbf-8827-9a7c71640885',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: '8e40a490-1493-4cd9-8e35-c811039968b2.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: '9a4410f2-9699-41c2-9374-14d3ef831b2b',
  updatedAt: 2020-03-05T16:57:32.106Z,
  createdAt: 2020-03-05T16:57:32.106Z }
writing to db1...
Executing (b988a3e8-170f-40c2-bcfd-dae53f115b49): START TRANSACTION;
Executing (b988a3e8-170f-40c2-bcfd-dae53f115b49): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '46735089-8195-4dbf-8827-9a7c71640885' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = '8e40a490-1493-4cd9-8e35-c811039968b2.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '9a4410f2-9699-41c2-9374-14d3ef831b2b' LIMIT 1;
Executing (b988a3e8-170f-40c2-bcfd-dae53f115b49): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_50736f048f3a42499dbc5a2cf18ec108$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('b4ec6e5d-70ea-406c-8576-323dc6df1188','46735089-8195-4dbf-8827-9a7c71640885','9a4410f2-9699-41c2-9374-14d3ef831b2b','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','8e40a490-1493-4cd9-8e35-c811039968b2.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 16:57:32.539 +00:00','2020-03-05 16:57:32.539 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_50736f048f3a42499dbc5a2cf18ec108$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (b988a3e8-170f-40c2-bcfd-dae53f115b49): COMMIT;
{ fileUUID: 'b4ec6e5d-70ea-406c-8576-323dc6df1188',
  cnodeUserUUID: '46735089-8195-4dbf-8827-9a7c71640885',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: '8e40a490-1493-4cd9-8e35-c811039968b2.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: '9a4410f2-9699-41c2-9374-14d3ef831b2b',
  updatedAt: 2020-03-05T16:57:32.539Z,
  createdAt: 2020-03-05T16:57:32.539Z }
writing to db1...
Executing (d8c46b2b-a22b-492e-baf5-65b67ac7d500): START TRANSACTION;
Executing (d8c46b2b-a22b-492e-baf5-65b67ac7d500): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '46735089-8195-4dbf-8827-9a7c71640885' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = '8e40a490-1493-4cd9-8e35-c811039968b2.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '9a4410f2-9699-41c2-9374-14d3ef831b2b' LIMIT 1;
Executing (d8c46b2b-a22b-492e-baf5-65b67ac7d500): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_e244fc9b43734b0b812f0e8fe5f3fc97$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('a2036fa4-de76-4bc3-95c4-e5af75476279','46735089-8195-4dbf-8827-9a7c71640885','9a4410f2-9699-41c2-9374-14d3ef831b2b','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','8e40a490-1493-4cd9-8e35-c811039968b2.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 16:57:32.952 +00:00','2020-03-05 16:57:32.952 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_e244fc9b43734b0b812f0e8fe5f3fc97$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (d8c46b2b-a22b-492e-baf5-65b67ac7d500): COMMIT;
{ fileUUID: 'a2036fa4-de76-4bc3-95c4-e5af75476279',
  cnodeUserUUID: '46735089-8195-4dbf-8827-9a7c71640885',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: '8e40a490-1493-4cd9-8e35-c811039968b2.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: '9a4410f2-9699-41c2-9374-14d3ef831b2b',
  updatedAt: 2020-03-05T16:57:32.952Z,
  createdAt: 2020-03-05T16:57:32.952Z }
starting timeout of 1000




PROCESSING ROW #11: 32e6d963-11e4-49a7-a797-82c9a62a0ffe.mp3, 470670d2-a3ce-4efc-b45d-639d55ca1dae, 45e4f61f-4779-459e-9d17-79f3675ab12b, QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM, /file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM
writing to db1...
Executing (ad0659bd-bd48-410f-887d-65c92f910239): START TRANSACTION;
Executing (ad0659bd-bd48-410f-887d-65c92f910239): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '470670d2-a3ce-4efc-b45d-639d55ca1dae' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = '32e6d963-11e4-49a7-a797-82c9a62a0ffe.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '45e4f61f-4779-459e-9d17-79f3675ab12b' LIMIT 1;
Executing (ad0659bd-bd48-410f-887d-65c92f910239): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_1f8a296fb03d491b85167dfffddcbdb3$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('a63faac7-e006-4043-b404-2b75acd64184','470670d2-a3ce-4efc-b45d-639d55ca1dae','45e4f61f-4779-459e-9d17-79f3675ab12b','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','32e6d963-11e4-49a7-a797-82c9a62a0ffe.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 16:57:34.376 +00:00','2020-03-05 16:57:34.376 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_1f8a296fb03d491b85167dfffddcbdb3$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (ad0659bd-bd48-410f-887d-65c92f910239): COMMIT;
{ fileUUID: 'a63faac7-e006-4043-b404-2b75acd64184',
  cnodeUserUUID: '470670d2-a3ce-4efc-b45d-639d55ca1dae',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: '32e6d963-11e4-49a7-a797-82c9a62a0ffe.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: '45e4f61f-4779-459e-9d17-79f3675ab12b',
  updatedAt: 2020-03-05T16:57:34.376Z,
  createdAt: 2020-03-05T16:57:34.376Z }
writing to db1...
Executing (bb744e4c-dbf8-45c9-9138-ef3bd394bcfc): START TRANSACTION;
Executing (bb744e4c-dbf8-45c9-9138-ef3bd394bcfc): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '470670d2-a3ce-4efc-b45d-639d55ca1dae' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = '32e6d963-11e4-49a7-a797-82c9a62a0ffe.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '45e4f61f-4779-459e-9d17-79f3675ab12b' LIMIT 1;
Executing (bb744e4c-dbf8-45c9-9138-ef3bd394bcfc): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_f5c49bc0a8a64e0382304573fd906385$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('df6ddba5-c715-4a5f-a2fb-4707614eec83','470670d2-a3ce-4efc-b45d-639d55ca1dae','45e4f61f-4779-459e-9d17-79f3675ab12b','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','32e6d963-11e4-49a7-a797-82c9a62a0ffe.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 16:57:34.789 +00:00','2020-03-05 16:57:34.789 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_f5c49bc0a8a64e0382304573fd906385$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (bb744e4c-dbf8-45c9-9138-ef3bd394bcfc): COMMIT;
{ fileUUID: 'df6ddba5-c715-4a5f-a2fb-4707614eec83',
  cnodeUserUUID: '470670d2-a3ce-4efc-b45d-639d55ca1dae',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: '32e6d963-11e4-49a7-a797-82c9a62a0ffe.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: '45e4f61f-4779-459e-9d17-79f3675ab12b',
  updatedAt: 2020-03-05T16:57:34.789Z,
  createdAt: 2020-03-05T16:57:34.789Z }
writing to db1...
Executing (b3ea0fe7-e974-43da-81a9-5cb72678fde5): START TRANSACTION;
Executing (b3ea0fe7-e974-43da-81a9-5cb72678fde5): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '470670d2-a3ce-4efc-b45d-639d55ca1dae' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = '32e6d963-11e4-49a7-a797-82c9a62a0ffe.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '45e4f61f-4779-459e-9d17-79f3675ab12b' LIMIT 1;
Executing (b3ea0fe7-e974-43da-81a9-5cb72678fde5): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_bb9e36e12e524f6faca1b83ceb95f55b$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('62e17c01-a45b-4cb1-9091-afa79cc20745','470670d2-a3ce-4efc-b45d-639d55ca1dae','45e4f61f-4779-459e-9d17-79f3675ab12b','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','32e6d963-11e4-49a7-a797-82c9a62a0ffe.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 16:57:35.219 +00:00','2020-03-05 16:57:35.219 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_bb9e36e12e524f6faca1b83ceb95f55b$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (b3ea0fe7-e974-43da-81a9-5cb72678fde5): COMMIT;
{ fileUUID: '62e17c01-a45b-4cb1-9091-afa79cc20745',
  cnodeUserUUID: '470670d2-a3ce-4efc-b45d-639d55ca1dae',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: '32e6d963-11e4-49a7-a797-82c9a62a0ffe.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: '45e4f61f-4779-459e-9d17-79f3675ab12b',
  updatedAt: 2020-03-05T16:57:35.219Z,
  createdAt: 2020-03-05T16:57:35.219Z }
starting timeout of 1000




PROCESSING ROW #12: 3b12a8bd-9150-40b5-baf3-66adb6fea283.mp3, fda753c9-64b9-494d-b8b3-2c2b10105e44, e138637c-4fd8-4172-9b0d-a5402b4b4291, QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM, /file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM
writing to db1...
Executing (80736edc-d780-4aea-a693-02a3cd455dfe): START TRANSACTION;
Executing (80736edc-d780-4aea-a693-02a3cd455dfe): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = 'fda753c9-64b9-494d-b8b3-2c2b10105e44' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = '3b12a8bd-9150-40b5-baf3-66adb6fea283.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = 'e138637c-4fd8-4172-9b0d-a5402b4b4291' LIMIT 1;
Executing (80736edc-d780-4aea-a693-02a3cd455dfe): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_680db09980f947c08dfb468b49951f11$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('10afbe66-a393-4294-b1f9-982bf705a199','fda753c9-64b9-494d-b8b3-2c2b10105e44','e138637c-4fd8-4172-9b0d-a5402b4b4291','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','3b12a8bd-9150-40b5-baf3-66adb6fea283.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 16:57:36.682 +00:00','2020-03-05 16:57:36.682 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_680db09980f947c08dfb468b49951f11$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (80736edc-d780-4aea-a693-02a3cd455dfe): COMMIT;
{ fileUUID: '10afbe66-a393-4294-b1f9-982bf705a199',
  cnodeUserUUID: 'fda753c9-64b9-494d-b8b3-2c2b10105e44',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: '3b12a8bd-9150-40b5-baf3-66adb6fea283.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: 'e138637c-4fd8-4172-9b0d-a5402b4b4291',
  updatedAt: 2020-03-05T16:57:36.682Z,
  createdAt: 2020-03-05T16:57:36.682Z }
writing to db1...
Executing (b50dda91-8c0e-4cc0-b742-23301c8fcb79): START TRANSACTION;
Executing (b50dda91-8c0e-4cc0-b742-23301c8fcb79): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = 'fda753c9-64b9-494d-b8b3-2c2b10105e44' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = '3b12a8bd-9150-40b5-baf3-66adb6fea283.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = 'e138637c-4fd8-4172-9b0d-a5402b4b4291' LIMIT 1;
Executing (b50dda91-8c0e-4cc0-b742-23301c8fcb79): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_e5a26f93c7224eb1bb07ce69aa142a88$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('306f6873-d9b6-43d2-9bd9-774d7945db07','fda753c9-64b9-494d-b8b3-2c2b10105e44','e138637c-4fd8-4172-9b0d-a5402b4b4291','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','3b12a8bd-9150-40b5-baf3-66adb6fea283.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 16:57:37.118 +00:00','2020-03-05 16:57:37.118 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_e5a26f93c7224eb1bb07ce69aa142a88$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (b50dda91-8c0e-4cc0-b742-23301c8fcb79): COMMIT;
{ fileUUID: '306f6873-d9b6-43d2-9bd9-774d7945db07',
  cnodeUserUUID: 'fda753c9-64b9-494d-b8b3-2c2b10105e44',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: '3b12a8bd-9150-40b5-baf3-66adb6fea283.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: 'e138637c-4fd8-4172-9b0d-a5402b4b4291',
  updatedAt: 2020-03-05T16:57:37.118Z,
  createdAt: 2020-03-05T16:57:37.118Z }
writing to db1...
Executing (1f95ef8c-2a83-42a0-b962-2b2e7bb35bcf): START TRANSACTION;
Executing (1f95ef8c-2a83-42a0-b962-2b2e7bb35bcf): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = 'fda753c9-64b9-494d-b8b3-2c2b10105e44' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = '3b12a8bd-9150-40b5-baf3-66adb6fea283.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = 'e138637c-4fd8-4172-9b0d-a5402b4b4291' LIMIT 1;
Executing (1f95ef8c-2a83-42a0-b962-2b2e7bb35bcf): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_032d0a191c5d465aba03a7019f040577$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('99a8d13c-ab6f-45c7-a1a5-53af31c8fc67','fda753c9-64b9-494d-b8b3-2c2b10105e44','e138637c-4fd8-4172-9b0d-a5402b4b4291','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','3b12a8bd-9150-40b5-baf3-66adb6fea283.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 16:57:37.541 +00:00','2020-03-05 16:57:37.541 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_032d0a191c5d465aba03a7019f040577$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (1f95ef8c-2a83-42a0-b962-2b2e7bb35bcf): COMMIT;
{ fileUUID: '99a8d13c-ab6f-45c7-a1a5-53af31c8fc67',
  cnodeUserUUID: 'fda753c9-64b9-494d-b8b3-2c2b10105e44',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: '3b12a8bd-9150-40b5-baf3-66adb6fea283.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: 'e138637c-4fd8-4172-9b0d-a5402b4b4291',
  updatedAt: 2020-03-05T16:57:37.541Z,
  createdAt: 2020-03-05T16:57:37.541Z }
starting timeout of 1000




PROCESSING ROW #13: 9d112cc7-6e99-44e9-9ea0-ef975c9240be.mp3, 4ae4fd36-d859-40f5-b412-32df09e389f2, f38dd124-6ed9-472d-80fe-1fdad7a4a12c, QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM, /file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM
writing to db1...
Executing (083c286f-3a35-49bd-89e2-522ce55ed38c): START TRANSACTION;
Executing (083c286f-3a35-49bd-89e2-522ce55ed38c): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '4ae4fd36-d859-40f5-b412-32df09e389f2' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = '9d112cc7-6e99-44e9-9ea0-ef975c9240be.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = 'f38dd124-6ed9-472d-80fe-1fdad7a4a12c' LIMIT 1;
Executing (083c286f-3a35-49bd-89e2-522ce55ed38c): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_f73e08e0e4164ab2a2775a8e49191706$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('2cee14be-3997-4de5-a538-04471d13f3f2','4ae4fd36-d859-40f5-b412-32df09e389f2','f38dd124-6ed9-472d-80fe-1fdad7a4a12c','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','9d112cc7-6e99-44e9-9ea0-ef975c9240be.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 16:57:38.970 +00:00','2020-03-05 16:57:38.970 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_f73e08e0e4164ab2a2775a8e49191706$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (083c286f-3a35-49bd-89e2-522ce55ed38c): COMMIT;
{ fileUUID: '2cee14be-3997-4de5-a538-04471d13f3f2',
  cnodeUserUUID: '4ae4fd36-d859-40f5-b412-32df09e389f2',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: '9d112cc7-6e99-44e9-9ea0-ef975c9240be.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: 'f38dd124-6ed9-472d-80fe-1fdad7a4a12c',
  updatedAt: 2020-03-05T16:57:38.970Z,
  createdAt: 2020-03-05T16:57:38.970Z }
writing to db1...
Executing (2fc32018-378f-4271-894d-91e8464958d3): START TRANSACTION;
Executing (2fc32018-378f-4271-894d-91e8464958d3): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '4ae4fd36-d859-40f5-b412-32df09e389f2' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = '9d112cc7-6e99-44e9-9ea0-ef975c9240be.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = 'f38dd124-6ed9-472d-80fe-1fdad7a4a12c' LIMIT 1;
Executing (2fc32018-378f-4271-894d-91e8464958d3): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_d538d572f14c4f5ea78593941f7ff4a9$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('b0356e16-54f3-4acc-8fc1-d905df408c4c','4ae4fd36-d859-40f5-b412-32df09e389f2','f38dd124-6ed9-472d-80fe-1fdad7a4a12c','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','9d112cc7-6e99-44e9-9ea0-ef975c9240be.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 16:57:39.389 +00:00','2020-03-05 16:57:39.389 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_d538d572f14c4f5ea78593941f7ff4a9$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (2fc32018-378f-4271-894d-91e8464958d3): COMMIT;
{ fileUUID: 'b0356e16-54f3-4acc-8fc1-d905df408c4c',
  cnodeUserUUID: '4ae4fd36-d859-40f5-b412-32df09e389f2',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: '9d112cc7-6e99-44e9-9ea0-ef975c9240be.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: 'f38dd124-6ed9-472d-80fe-1fdad7a4a12c',
  updatedAt: 2020-03-05T16:57:39.389Z,
  createdAt: 2020-03-05T16:57:39.389Z }
writing to db1...
Executing (4c2da111-6754-485e-8627-c7cdefe807e8): START TRANSACTION;
Executing (4c2da111-6754-485e-8627-c7cdefe807e8): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '4ae4fd36-d859-40f5-b412-32df09e389f2' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = '9d112cc7-6e99-44e9-9ea0-ef975c9240be.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = 'f38dd124-6ed9-472d-80fe-1fdad7a4a12c' LIMIT 1;
Executing (4c2da111-6754-485e-8627-c7cdefe807e8): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_2084758d2fed4f088c89dc52d827c4d5$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('b44eec6b-da40-449e-8be0-9f49b6abf29d','4ae4fd36-d859-40f5-b412-32df09e389f2','f38dd124-6ed9-472d-80fe-1fdad7a4a12c','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','9d112cc7-6e99-44e9-9ea0-ef975c9240be.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 16:57:39.808 +00:00','2020-03-05 16:57:39.808 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_2084758d2fed4f088c89dc52d827c4d5$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (4c2da111-6754-485e-8627-c7cdefe807e8): COMMIT;
{ fileUUID: 'b44eec6b-da40-449e-8be0-9f49b6abf29d',
  cnodeUserUUID: '4ae4fd36-d859-40f5-b412-32df09e389f2',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: '9d112cc7-6e99-44e9-9ea0-ef975c9240be.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: 'f38dd124-6ed9-472d-80fe-1fdad7a4a12c',
  updatedAt: 2020-03-05T16:57:39.808Z,
  createdAt: 2020-03-05T16:57:39.808Z }
starting timeout of 1000




PROCESSING ROW #14: a2e2ddf3-fcf0-4124-aaae-c2845da4519a.mp3, 1350147d-276f-4221-8c54-a597192c1ed9, a5068b3e-0ece-4a1c-98c4-ff4f63d4d634, QmfLCmXdHuQngog1p5osxhuxfU9RvTMQBkcTHFzkuh3SNV, /file_storage/QmfLCmXdHuQngog1p5osxhuxfU9RvTMQBkcTHFzkuh3SNV
writing to db1...
Executing (eacce47d-d8a7-4232-85dd-09f0e8d2871c): START TRANSACTION;
Executing (eacce47d-d8a7-4232-85dd-09f0e8d2871c): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '1350147d-276f-4221-8c54-a597192c1ed9' AND "File"."multihash" = 'QmfLCmXdHuQngog1p5osxhuxfU9RvTMQBkcTHFzkuh3SNV' AND "File"."sourceFile" = 'a2e2ddf3-fcf0-4124-aaae-c2845da4519a.mp3' AND "File"."storagePath" = '/file_storage/QmfLCmXdHuQngog1p5osxhuxfU9RvTMQBkcTHFzkuh3SNV' AND "File"."type" = 'copy320' AND "File"."trackUUID" = 'a5068b3e-0ece-4a1c-98c4-ff4f63d4d634' LIMIT 1;
Executing (eacce47d-d8a7-4232-85dd-09f0e8d2871c): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_665d0b5d3c6d486a9e5b88a74b035511$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('8cdb18a9-abb3-4a3b-a3f1-ecb252674044','1350147d-276f-4221-8c54-a597192c1ed9','a5068b3e-0ece-4a1c-98c4-ff4f63d4d634','QmfLCmXdHuQngog1p5osxhuxfU9RvTMQBkcTHFzkuh3SNV','a2e2ddf3-fcf0-4124-aaae-c2845da4519a.mp3','/file_storage/QmfLCmXdHuQngog1p5osxhuxfU9RvTMQBkcTHFzkuh3SNV','copy320','2020-03-05 16:57:41.256 +00:00','2020-03-05 16:57:41.256 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_665d0b5d3c6d486a9e5b88a74b035511$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (eacce47d-d8a7-4232-85dd-09f0e8d2871c): COMMIT;
{ fileUUID: '8cdb18a9-abb3-4a3b-a3f1-ecb252674044',
  cnodeUserUUID: '1350147d-276f-4221-8c54-a597192c1ed9',
  multihash: 'QmfLCmXdHuQngog1p5osxhuxfU9RvTMQBkcTHFzkuh3SNV',
  sourceFile: 'a2e2ddf3-fcf0-4124-aaae-c2845da4519a.mp3',
  storagePath:
   '/file_storage/QmfLCmXdHuQngog1p5osxhuxfU9RvTMQBkcTHFzkuh3SNV',
  type: 'copy320',
  trackUUID: 'a5068b3e-0ece-4a1c-98c4-ff4f63d4d634',
  updatedAt: 2020-03-05T16:57:41.256Z,
  createdAt: 2020-03-05T16:57:41.256Z }
writing to db1...
Executing (22c0fe65-61a9-40b1-8d4d-6d41023837b4): START TRANSACTION;
Executing (22c0fe65-61a9-40b1-8d4d-6d41023837b4): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '1350147d-276f-4221-8c54-a597192c1ed9' AND "File"."multihash" = 'QmfLCmXdHuQngog1p5osxhuxfU9RvTMQBkcTHFzkuh3SNV' AND "File"."sourceFile" = 'a2e2ddf3-fcf0-4124-aaae-c2845da4519a.mp3' AND "File"."storagePath" = '/file_storage/QmfLCmXdHuQngog1p5osxhuxfU9RvTMQBkcTHFzkuh3SNV' AND "File"."type" = 'copy320' AND "File"."trackUUID" = 'a5068b3e-0ece-4a1c-98c4-ff4f63d4d634' LIMIT 1;
Executing (22c0fe65-61a9-40b1-8d4d-6d41023837b4): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_8bd3ae66764c4789afc54ecca03ccbbd$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('694e76bb-e0b7-4934-9a92-2e7686ad830c','1350147d-276f-4221-8c54-a597192c1ed9','a5068b3e-0ece-4a1c-98c4-ff4f63d4d634','QmfLCmXdHuQngog1p5osxhuxfU9RvTMQBkcTHFzkuh3SNV','a2e2ddf3-fcf0-4124-aaae-c2845da4519a.mp3','/file_storage/QmfLCmXdHuQngog1p5osxhuxfU9RvTMQBkcTHFzkuh3SNV','copy320','2020-03-05 16:57:41.679 +00:00','2020-03-05 16:57:41.679 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_8bd3ae66764c4789afc54ecca03ccbbd$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (22c0fe65-61a9-40b1-8d4d-6d41023837b4): COMMIT;
{ fileUUID: '694e76bb-e0b7-4934-9a92-2e7686ad830c',
  cnodeUserUUID: '1350147d-276f-4221-8c54-a597192c1ed9',
  multihash: 'QmfLCmXdHuQngog1p5osxhuxfU9RvTMQBkcTHFzkuh3SNV',
  sourceFile: 'a2e2ddf3-fcf0-4124-aaae-c2845da4519a.mp3',
  storagePath:
   '/file_storage/QmfLCmXdHuQngog1p5osxhuxfU9RvTMQBkcTHFzkuh3SNV',
  type: 'copy320',
  trackUUID: 'a5068b3e-0ece-4a1c-98c4-ff4f63d4d634',
  updatedAt: 2020-03-05T16:57:41.679Z,
  createdAt: 2020-03-05T16:57:41.679Z }
writing to db1...
Executing (ac057583-dfb7-490f-9aa1-4af89c6c3c30): START TRANSACTION;
Executing (ac057583-dfb7-490f-9aa1-4af89c6c3c30): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '1350147d-276f-4221-8c54-a597192c1ed9' AND "File"."multihash" = 'QmfLCmXdHuQngog1p5osxhuxfU9RvTMQBkcTHFzkuh3SNV' AND "File"."sourceFile" = 'a2e2ddf3-fcf0-4124-aaae-c2845da4519a.mp3' AND "File"."storagePath" = '/file_storage/QmfLCmXdHuQngog1p5osxhuxfU9RvTMQBkcTHFzkuh3SNV' AND "File"."type" = 'copy320' AND "File"."trackUUID" = 'a5068b3e-0ece-4a1c-98c4-ff4f63d4d634' LIMIT 1;
Executing (ac057583-dfb7-490f-9aa1-4af89c6c3c30): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_3316c29484a14254af48b08cec1a01d0$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('df784a88-0dd7-4b2d-9391-f7d5c7e6933b','1350147d-276f-4221-8c54-a597192c1ed9','a5068b3e-0ece-4a1c-98c4-ff4f63d4d634','QmfLCmXdHuQngog1p5osxhuxfU9RvTMQBkcTHFzkuh3SNV','a2e2ddf3-fcf0-4124-aaae-c2845da4519a.mp3','/file_storage/QmfLCmXdHuQngog1p5osxhuxfU9RvTMQBkcTHFzkuh3SNV','copy320','2020-03-05 16:57:42.109 +00:00','2020-03-05 16:57:42.109 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_3316c29484a14254af48b08cec1a01d0$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (ac057583-dfb7-490f-9aa1-4af89c6c3c30): COMMIT;
{ fileUUID: 'df784a88-0dd7-4b2d-9391-f7d5c7e6933b',
  cnodeUserUUID: '1350147d-276f-4221-8c54-a597192c1ed9',
  multihash: 'QmfLCmXdHuQngog1p5osxhuxfU9RvTMQBkcTHFzkuh3SNV',
  sourceFile: 'a2e2ddf3-fcf0-4124-aaae-c2845da4519a.mp3',
  storagePath:
   '/file_storage/QmfLCmXdHuQngog1p5osxhuxfU9RvTMQBkcTHFzkuh3SNV',
  type: 'copy320',
  trackUUID: 'a5068b3e-0ece-4a1c-98c4-ff4f63d4d634',
  updatedAt: 2020-03-05T16:57:42.109Z,
  createdAt: 2020-03-05T16:57:42.109Z }
starting timeout of 1000




PROCESSING ROW #15: 529f927f-8948-4f58-8933-4c2b00a9b307.mp3, 150144d2-2739-400c-bb1d-a7116901f952, cfe106e2-fe7e-4758-8abb-9dc6811e058b, QmQLrYxWsyByEU6EeojyZDDTWWujAnTzQhmGUc4tYqMhBU, /file_storage/QmQLrYxWsyByEU6EeojyZDDTWWujAnTzQhmGUc4tYqMhBU
writing to db1...
Executing (fef26563-ec7a-4f6b-8682-8725096ed7fe): START TRANSACTION;
Executing (fef26563-ec7a-4f6b-8682-8725096ed7fe): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '150144d2-2739-400c-bb1d-a7116901f952' AND "File"."multihash" = 'QmQLrYxWsyByEU6EeojyZDDTWWujAnTzQhmGUc4tYqMhBU' AND "File"."sourceFile" = '529f927f-8948-4f58-8933-4c2b00a9b307.mp3' AND "File"."storagePath" = '/file_storage/QmQLrYxWsyByEU6EeojyZDDTWWujAnTzQhmGUc4tYqMhBU' AND "File"."type" = 'copy320' AND "File"."trackUUID" = 'cfe106e2-fe7e-4758-8abb-9dc6811e058b' LIMIT 1;
Executing (fef26563-ec7a-4f6b-8682-8725096ed7fe): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_0fd1bea46f5c4c1883c76ff68f3b78a9$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('2bb4eee5-3327-4e3a-addc-85b0a8ba15e7','150144d2-2739-400c-bb1d-a7116901f952','cfe106e2-fe7e-4758-8abb-9dc6811e058b','QmQLrYxWsyByEU6EeojyZDDTWWujAnTzQhmGUc4tYqMhBU','529f927f-8948-4f58-8933-4c2b00a9b307.mp3','/file_storage/QmQLrYxWsyByEU6EeojyZDDTWWujAnTzQhmGUc4tYqMhBU','copy320','2020-03-05 16:57:43.519 +00:00','2020-03-05 16:57:43.519 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_0fd1bea46f5c4c1883c76ff68f3b78a9$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (fef26563-ec7a-4f6b-8682-8725096ed7fe): COMMIT;
{ fileUUID: '2bb4eee5-3327-4e3a-addc-85b0a8ba15e7',
  cnodeUserUUID: '150144d2-2739-400c-bb1d-a7116901f952',
  multihash: 'QmQLrYxWsyByEU6EeojyZDDTWWujAnTzQhmGUc4tYqMhBU',
  sourceFile: '529f927f-8948-4f58-8933-4c2b00a9b307.mp3',
  storagePath:
   '/file_storage/QmQLrYxWsyByEU6EeojyZDDTWWujAnTzQhmGUc4tYqMhBU',
  type: 'copy320',
  trackUUID: 'cfe106e2-fe7e-4758-8abb-9dc6811e058b',
  updatedAt: 2020-03-05T16:57:43.519Z,
  createdAt: 2020-03-05T16:57:43.519Z }
writing to db1...
Executing (3cba35ac-62dd-49ac-a35c-98d98b1c2e30): START TRANSACTION;
Executing (3cba35ac-62dd-49ac-a35c-98d98b1c2e30): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '150144d2-2739-400c-bb1d-a7116901f952' AND "File"."multihash" = 'QmQLrYxWsyByEU6EeojyZDDTWWujAnTzQhmGUc4tYqMhBU' AND "File"."sourceFile" = '529f927f-8948-4f58-8933-4c2b00a9b307.mp3' AND "File"."storagePath" = '/file_storage/QmQLrYxWsyByEU6EeojyZDDTWWujAnTzQhmGUc4tYqMhBU' AND "File"."type" = 'copy320' AND "File"."trackUUID" = 'cfe106e2-fe7e-4758-8abb-9dc6811e058b' LIMIT 1;
Executing (3cba35ac-62dd-49ac-a35c-98d98b1c2e30): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_2de9fad2f103402baf7bb67b0f5572fc$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('89cfb468-495a-4f5a-88ae-80328da595f0','150144d2-2739-400c-bb1d-a7116901f952','cfe106e2-fe7e-4758-8abb-9dc6811e058b','QmQLrYxWsyByEU6EeojyZDDTWWujAnTzQhmGUc4tYqMhBU','529f927f-8948-4f58-8933-4c2b00a9b307.mp3','/file_storage/QmQLrYxWsyByEU6EeojyZDDTWWujAnTzQhmGUc4tYqMhBU','copy320','2020-03-05 16:57:43.939 +00:00','2020-03-05 16:57:43.939 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_2de9fad2f103402baf7bb67b0f5572fc$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (3cba35ac-62dd-49ac-a35c-98d98b1c2e30): COMMIT;




PROCESSING ROW #14: sourcefile: a2e2ddf3-fcf0-4124-aaae-c2845da4519a.mp3, cnodeUserUUID: 1350147d-276f-4221-8c54-a597192c1ed9, trackUUID: a5068b3e-0ece-4a1c-98c4-ff4f63d4d634, multihash: QmfLCmXdHuQngog1p5osxhuxfU9RvTMQBkcTHFzkuh3SNV, dstPath: /file_storage/QmfLCmXdHuQngog1p5osxhuxfU9RvTMQBkcTHFzkuh3SNV
writing to db1...
Executing (6486eeaa-8791-47aa-81c5-eb4327f23d03): START TRANSACTION;
Executing (6486eeaa-8791-47aa-81c5-eb4327f23d03): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '1350147d-276f-4221-8c54-a597192c1ed9' AND "File"."multihash" = 'QmfLCmXdHuQngog1p5osxhuxfU9RvTMQBkcTHFzkuh3SNV' AND "File"."sourceFile" = 'a2e2ddf3-fcf0-4124-aaae-c2845da4519a.mp3' AND "File"."storagePath" = '/file_storage/QmfLCmXdHuQngog1p5osxhuxfU9RvTMQBkcTHFzkuh3SNV' AND "File"."type" = 'copy320' AND "File"."trackUUID" = 'a5068b3e-0ece-4a1c-98c4-ff4f63d4d634' LIMIT 1;
Executing (6486eeaa-8791-47aa-81c5-eb4327f23d03): COMMIT;
{ fileUUID: '8cdb18a9-abb3-4a3b-a3f1-ecb252674044',
  cnodeUserUUID: '1350147d-276f-4221-8c54-a597192c1ed9',
  trackUUID: 'a5068b3e-0ece-4a1c-98c4-ff4f63d4d634',
  multihash: 'QmfLCmXdHuQngog1p5osxhuxfU9RvTMQBkcTHFzkuh3SNV',
  sourceFile: 'a2e2ddf3-fcf0-4124-aaae-c2845da4519a.mp3',
  storagePath:
   '/file_storage/QmfLCmXdHuQngog1p5osxhuxfU9RvTMQBkcTHFzkuh3SNV',
  type: 'copy320',
  createdAt: 2020-03-05T16:57:41.256Z,
  updatedAt: 2020-03-05T16:57:41.256Z }
writing to db2...
Executing (899c6222-8b2d-4341-bfd6-3f4ab1d72822): START TRANSACTION;
Executing (899c6222-8b2d-4341-bfd6-3f4ab1d72822): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '1350147d-276f-4221-8c54-a597192c1ed9' AND "File"."multihash" = 'QmfLCmXdHuQngog1p5osxhuxfU9RvTMQBkcTHFzkuh3SNV' AND "File"."sourceFile" = 'a2e2ddf3-fcf0-4124-aaae-c2845da4519a.mp3' AND "File"."storagePath" = '/file_storage/QmfLCmXdHuQngog1p5osxhuxfU9RvTMQBkcTHFzkuh3SNV' AND "File"."type" = 'copy320' AND "File"."trackUUID" = 'a5068b3e-0ece-4a1c-98c4-ff4f63d4d634' LIMIT 1;
Executing (899c6222-8b2d-4341-bfd6-3f4ab1d72822): COMMIT;
{ fileUUID: '694e76bb-e0b7-4934-9a92-2e7686ad830c',
  cnodeUserUUID: '1350147d-276f-4221-8c54-a597192c1ed9',
  trackUUID: 'a5068b3e-0ece-4a1c-98c4-ff4f63d4d634',
  multihash: 'QmfLCmXdHuQngog1p5osxhuxfU9RvTMQBkcTHFzkuh3SNV',
  sourceFile: 'a2e2ddf3-fcf0-4124-aaae-c2845da4519a.mp3',
  storagePath:
   '/file_storage/QmfLCmXdHuQngog1p5osxhuxfU9RvTMQBkcTHFzkuh3SNV',
  type: 'copy320',
  createdAt: 2020-03-05T16:57:41.679Z,
  updatedAt: 2020-03-05T16:57:41.679Z }
writing to db3...
Executing (16dadeda-d403-455c-9088-711ec011cdb2): START TRANSACTION;
Executing (16dadeda-d403-455c-9088-711ec011cdb2): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '1350147d-276f-4221-8c54-a597192c1ed9' AND "File"."multihash" = 'QmfLCmXdHuQngog1p5osxhuxfU9RvTMQBkcTHFzkuh3SNV' AND "File"."sourceFile" = 'a2e2ddf3-fcf0-4124-aaae-c2845da4519a.mp3' AND "File"."storagePath" = '/file_storage/QmfLCmXdHuQngog1p5osxhuxfU9RvTMQBkcTHFzkuh3SNV' AND "File"."type" = 'copy320' AND "File"."trackUUID" = 'a5068b3e-0ece-4a1c-98c4-ff4f63d4d634' LIMIT 1;
Executing (16dadeda-d403-455c-9088-711ec011cdb2): COMMIT;
{ fileUUID: 'df784a88-0dd7-4b2d-9391-f7d5c7e6933b',
  cnodeUserUUID: '1350147d-276f-4221-8c54-a597192c1ed9',
  trackUUID: 'a5068b3e-0ece-4a1c-98c4-ff4f63d4d634',
  multihash: 'QmfLCmXdHuQngog1p5osxhuxfU9RvTMQBkcTHFzkuh3SNV',
  sourceFile: 'a2e2ddf3-fcf0-4124-aaae-c2845da4519a.mp3',
  storagePath:
   '/file_storage/QmfLCmXdHuQngog1p5osxhuxfU9RvTMQBkcTHFzkuh3SNV',
  type: 'copy320',
  createdAt: 2020-03-05T16:57:42.109Z,
  updatedAt: 2020-03-05T16:57:42.109Z }




PROCESSING ROW #15: sourcefile: 529f927f-8948-4f58-8933-4c2b00a9b307.mp3, cnodeUserUUID: 150144d2-2739-400c-bb1d-a7116901f952, trackUUID: cfe106e2-fe7e-4758-8abb-9dc6811e058b, multihash: QmQLrYxWsyByEU6EeojyZDDTWWujAnTzQhmGUc4tYqMhBU, dstPath: /file_storage/QmQLrYxWsyByEU6EeojyZDDTWWujAnTzQhmGUc4tYqMhBU
writing to db1...
Executing (c419eec3-54fd-4398-aad1-95e684b0b343): START TRANSACTION;
Executing (c419eec3-54fd-4398-aad1-95e684b0b343): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '150144d2-2739-400c-bb1d-a7116901f952' AND "File"."multihash" = 'QmQLrYxWsyByEU6EeojyZDDTWWujAnTzQhmGUc4tYqMhBU' AND "File"."sourceFile" = '529f927f-8948-4f58-8933-4c2b00a9b307.mp3' AND "File"."storagePath" = '/file_storage/QmQLrYxWsyByEU6EeojyZDDTWWujAnTzQhmGUc4tYqMhBU' AND "File"."type" = 'copy320' AND "File"."trackUUID" = 'cfe106e2-fe7e-4758-8abb-9dc6811e058b' LIMIT 1;
Executing (c419eec3-54fd-4398-aad1-95e684b0b343): COMMIT;
{ fileUUID: '2bb4eee5-3327-4e3a-addc-85b0a8ba15e7',
  cnodeUserUUID: '150144d2-2739-400c-bb1d-a7116901f952',
  trackUUID: 'cfe106e2-fe7e-4758-8abb-9dc6811e058b',
  multihash: 'QmQLrYxWsyByEU6EeojyZDDTWWujAnTzQhmGUc4tYqMhBU',
  sourceFile: '529f927f-8948-4f58-8933-4c2b00a9b307.mp3',
  storagePath:
   '/file_storage/QmQLrYxWsyByEU6EeojyZDDTWWujAnTzQhmGUc4tYqMhBU',
  type: 'copy320',
  createdAt: 2020-03-05T16:57:43.519Z,
  updatedAt: 2020-03-05T16:57:43.519Z }
writing to db2...
Executing (775bf73f-792e-42ec-98db-5af37d7cae4d): START TRANSACTION;
Executing (775bf73f-792e-42ec-98db-5af37d7cae4d): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '150144d2-2739-400c-bb1d-a7116901f952' AND "File"."multihash" = 'QmQLrYxWsyByEU6EeojyZDDTWWujAnTzQhmGUc4tYqMhBU' AND "File"."sourceFile" = '529f927f-8948-4f58-8933-4c2b00a9b307.mp3' AND "File"."storagePath" = '/file_storage/QmQLrYxWsyByEU6EeojyZDDTWWujAnTzQhmGUc4tYqMhBU' AND "File"."type" = 'copy320' AND "File"."trackUUID" = 'cfe106e2-fe7e-4758-8abb-9dc6811e058b' LIMIT 1;
Executing (775bf73f-792e-42ec-98db-5af37d7cae4d): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_1f21b462c3c9422a8ec8e2a50b26067e$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('7af52cea-4029-4a15-b4b1-101c1883ee2c','150144d2-2739-400c-bb1d-a7116901f952','cfe106e2-fe7e-4758-8abb-9dc6811e058b','QmQLrYxWsyByEU6EeojyZDDTWWujAnTzQhmGUc4tYqMhBU','529f927f-8948-4f58-8933-4c2b00a9b307.mp3','/file_storage/QmQLrYxWsyByEU6EeojyZDDTWWujAnTzQhmGUc4tYqMhBU','copy320','2020-03-05 17:31:58.133 +00:00','2020-03-05 17:31:58.133 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_1f21b462c3c9422a8ec8e2a50b26067e$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (775bf73f-792e-42ec-98db-5af37d7cae4d): COMMIT;
{ SequelizeForeignKeyConstraintError: insert or update on table "Files" violates foreign key constraint "Files_trackUUID_fkey"
    at Query.formatError (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/sequelize/lib/dialects/postgres/query.js:296:16)
    at query.catch.err (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/sequelize/lib/dialects/postgres/query.js:86:18)
    at tryCatcher (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/bluebird/js/release/util.js:16:23)
    at Promise._settlePromiseFromHandler (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/bluebird/js/release/promise.js:517:31)
    at Promise._settlePromise (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/bluebird/js/release/promise.js:574:18)
    at Promise._settlePromise0 (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/bluebird/js/release/promise.js:619:10)
    at Promise._settlePromises (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/bluebird/js/release/promise.js:695:18)
    at _drainQueueStep (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/bluebird/js/release/async.js:138:12)
    at _drainQueue (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/bluebird/js/release/async.js:131:9)
    at Async._drainQueues (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/bluebird/js/release/async.js:147:5)
    at Immediate.Async.drainQueues [as _onImmediate] (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/bluebird/js/release/async.js:17:14)
    at runCallback (timers.js:705:18)
    at tryOnImmediate (timers.js:676:5)
    at processImmediate (timers.js:658:5)
  name: 'SequelizeForeignKeyConstraintError',
  parent:
   { error: insert or update on table "Files" violates foreign key constraint "Files_trackUUID_fkey"
       at Connection.parseE (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/pg/lib/connection.js:604:11)
       at Connection.parseMessage (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/pg/lib/connection.js:401:19)
       at Socket.<anonymous> (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/pg/lib/connection.js:121:22)
       at Socket.emit (events.js:198:13)
       at addChunk (_stream_readable.js:288:12)
       at readableAddChunk (_stream_readable.js:269:11)
       at Socket.Readable.push (_stream_readable.js:224:10)
       at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)
     name: 'error',
     length: 865,
     severity: 'ERROR',
     code: '23503',
     detail:
      'Key (trackUUID)=(cfe106e2-fe7e-4758-8abb-9dc6811e058b) is not present in table "Tracks".',
     hint: undefined,
     position: undefined,
     internalPosition: undefined,
     internalQuery: undefined,
     where:
      'SQL statement "INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES (\'7af52cea-4029-4a15-b4b1-101c1883ee2c\',\'150144d2-2739-400c-bb1d-a7116901f952\',\'cfe106e2-fe7e-4758-8abb-9dc6811e058b\',\'QmQLrYxWsyByEU6EeojyZDDTWWujAnTzQhmGUc4tYqMhBU\',\'529f927f-8948-4f58-8933-4c2b00a9b307.mp3\',\'/file_storage/QmQLrYxWsyByEU6EeojyZDDTWWujAnTzQhmGUc4tYqMhBU\',\'copy320\',\'2020-03-05 17:31:58.133 +00:00\',\'2020-03-05 17:31:58.133 +00:00\') RETURNING *"\nPL/pgSQL function pg_temp_13.testfunc() line 1 at SQL statement',
     schema: 'public',
     table: 'Files',
     column: undefined,
     dataType: undefined,
     constraint: 'Files_trackUUID_fkey',
     file: 'ri_triggers.c',
     line: '3266',
     routine: 'ri_ReportViolation',
     sql:
      'CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_1f21b462c3c9422a8ec8e2a50b26067e$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES (\'7af52cea-4029-4a15-b4b1-101c1883ee2c\',\'150144d2-2739-400c-bb1d-a7116901f952\',\'cfe106e2-fe7e-4758-8abb-9dc6811e058b\',\'QmQLrYxWsyByEU6EeojyZDDTWWujAnTzQhmGUc4tYqMhBU\',\'529f927f-8948-4f58-8933-4c2b00a9b307.mp3\',\'/file_storage/QmQLrYxWsyByEU6EeojyZDDTWWujAnTzQhmGUc4tYqMhBU\',\'copy320\',\'2020-03-05 17:31:58.133 +00:00\',\'2020-03-05 17:31:58.133 +00:00\') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_1f21b462c3c9422a8ec8e2a50b26067e$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();' },
  original:
   { error: insert or update on table "Files" violates foreign key constraint "Files_trackUUID_fkey"
       at Connection.parseE (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/pg/lib/connection.js:604:11)
       at Connection.parseMessage (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/pg/lib/connection.js:401:19)
       at Socket.<anonymous> (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/pg/lib/connection.js:121:22)
       at Socket.emit (events.js:198:13)
       at addChunk (_stream_readable.js:288:12)
       at readableAddChunk (_stream_readable.js:269:11)
       at Socket.Readable.push (_stream_readable.js:224:10)
       at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)
     name: 'error',
     length: 865,
     severity: 'ERROR',
     code: '23503',
     detail:
      'Key (trackUUID)=(cfe106e2-fe7e-4758-8abb-9dc6811e058b) is not present in table "Tracks".',
     hint: undefined,
     position: undefined,
     internalPosition: undefined,
     internalQuery: undefined,
     where:
      'SQL statement "INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES (\'7af52cea-4029-4a15-b4b1-101c1883ee2c\',\'150144d2-2739-400c-bb1d-a7116901f952\',\'cfe106e2-fe7e-4758-8abb-9dc6811e058b\',\'QmQLrYxWsyByEU6EeojyZDDTWWujAnTzQhmGUc4tYqMhBU\',\'529f927f-8948-4f58-8933-4c2b00a9b307.mp3\',\'/file_storage/QmQLrYxWsyByEU6EeojyZDDTWWujAnTzQhmGUc4tYqMhBU\',\'copy320\',\'2020-03-05 17:31:58.133 +00:00\',\'2020-03-05 17:31:58.133 +00:00\') RETURNING *"\nPL/pgSQL function pg_temp_13.testfunc() line 1 at SQL statement',
     schema: 'public',
     table: 'Files',
     column: undefined,
     dataType: undefined,
     constraint: 'Files_trackUUID_fkey',
     file: 'ri_triggers.c',
     line: '3266',
     routine: 'ri_ReportViolation',
     sql:
      'CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_1f21b462c3c9422a8ec8e2a50b26067e$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES (\'7af52cea-4029-4a15-b4b1-101c1883ee2c\',\'150144d2-2739-400c-bb1d-a7116901f952\',\'cfe106e2-fe7e-4758-8abb-9dc6811e058b\',\'QmQLrYxWsyByEU6EeojyZDDTWWujAnTzQhmGUc4tYqMhBU\',\'529f927f-8948-4f58-8933-4c2b00a9b307.mp3\',\'/file_storage/QmQLrYxWsyByEU6EeojyZDDTWWujAnTzQhmGUc4tYqMhBU\',\'copy320\',\'2020-03-05 17:31:58.133 +00:00\',\'2020-03-05 17:31:58.133 +00:00\') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_1f21b462c3c9422a8ec8e2a50b26067e$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();' },
  sql:
   'CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_1f21b462c3c9422a8ec8e2a50b26067e$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES (\'7af52cea-4029-4a15-b4b1-101c1883ee2c\',\'150144d2-2739-400c-bb1d-a7116901f952\',\'cfe106e2-fe7e-4758-8abb-9dc6811e058b\',\'QmQLrYxWsyByEU6EeojyZDDTWWujAnTzQhmGUc4tYqMhBU\',\'529f927f-8948-4f58-8933-4c2b00a9b307.mp3\',\'/file_storage/QmQLrYxWsyByEU6EeojyZDDTWWujAnTzQhmGUc4tYqMhBU\',\'copy320\',\'2020-03-05 17:31:58.133 +00:00\',\'2020-03-05 17:31:58.133 +00:00\') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_1f21b462c3c9422a8ec8e2a50b26067e$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();',
  fields: null,
  table: 'Files',
  value: undefined,
  index: 'Files_trackUUID_fkey',
  reltype: undefined }
writing to db3...
Executing (3c9ce4dc-641e-4c0c-b163-ab3d99c775df): START TRANSACTION;
Executing (3c9ce4dc-641e-4c0c-b163-ab3d99c775df): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '150144d2-2739-400c-bb1d-a7116901f952' AND "File"."multihash" = 'QmQLrYxWsyByEU6EeojyZDDTWWujAnTzQhmGUc4tYqMhBU' AND "File"."sourceFile" = '529f927f-8948-4f58-8933-4c2b00a9b307.mp3' AND "File"."storagePath" = '/file_storage/QmQLrYxWsyByEU6EeojyZDDTWWujAnTzQhmGUc4tYqMhBU' AND "File"."type" = 'copy320' AND "File"."trackUUID" = 'cfe106e2-fe7e-4758-8abb-9dc6811e058b' LIMIT 1;
Executing (3c9ce4dc-641e-4c0c-b163-ab3d99c775df): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_e3a03746a06544a09e87b5ad8b493ba1$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('e672d01a-8e77-4b6a-b854-881fee98219c','150144d2-2739-400c-bb1d-a7116901f952','cfe106e2-fe7e-4758-8abb-9dc6811e058b','QmQLrYxWsyByEU6EeojyZDDTWWujAnTzQhmGUc4tYqMhBU','529f927f-8948-4f58-8933-4c2b00a9b307.mp3','/file_storage/QmQLrYxWsyByEU6EeojyZDDTWWujAnTzQhmGUc4tYqMhBU','copy320','2020-03-05 17:31:58.567 +00:00','2020-03-05 17:31:58.567 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_e3a03746a06544a09e87b5ad8b493ba1$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (3c9ce4dc-641e-4c0c-b163-ab3d99c775df): COMMIT;
{ fileUUID: 'e672d01a-8e77-4b6a-b854-881fee98219c',
  cnodeUserUUID: '150144d2-2739-400c-bb1d-a7116901f952',
  multihash: 'QmQLrYxWsyByEU6EeojyZDDTWWujAnTzQhmGUc4tYqMhBU',
  sourceFile: '529f927f-8948-4f58-8933-4c2b00a9b307.mp3',
  storagePath:
   '/file_storage/QmQLrYxWsyByEU6EeojyZDDTWWujAnTzQhmGUc4tYqMhBU',
  type: 'copy320',
  trackUUID: 'cfe106e2-fe7e-4758-8abb-9dc6811e058b',
  updatedAt: 2020-03-05T17:31:58.567Z,
  createdAt: 2020-03-05T17:31:58.567Z }




PROCESSING ROW #16: sourcefile: 10a0bc56-947b-438a-a0ec-d6b71c3178bd.mp3, cnodeUserUUID: 00b66b23-d3cc-47f6-830d-70c54fe8c9cf, trackUUID: d71a9ff6-d130-4192-962c-dfd291530fdc, multihash: QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM, dstPath: /file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM
writing to db1...
Executing (c6de17b0-f25d-4e3d-ae94-cf2dfbcb5b69): START TRANSACTION;
Executing (c6de17b0-f25d-4e3d-ae94-cf2dfbcb5b69): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '00b66b23-d3cc-47f6-830d-70c54fe8c9cf' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = '10a0bc56-947b-438a-a0ec-d6b71c3178bd.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = 'd71a9ff6-d130-4192-962c-dfd291530fdc' LIMIT 1;
Executing (c6de17b0-f25d-4e3d-ae94-cf2dfbcb5b69): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_368f2db676e541acb3b1c3be0e72478b$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('41701fae-cdf2-4f01-ba7c-56f55ceb9261','00b66b23-d3cc-47f6-830d-70c54fe8c9cf','d71a9ff6-d130-4192-962c-dfd291530fdc','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','10a0bc56-947b-438a-a0ec-d6b71c3178bd.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:31:58.983 +00:00','2020-03-05 17:31:58.983 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_368f2db676e541acb3b1c3be0e72478b$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (c6de17b0-f25d-4e3d-ae94-cf2dfbcb5b69): COMMIT;
{ fileUUID: '41701fae-cdf2-4f01-ba7c-56f55ceb9261',
  cnodeUserUUID: '00b66b23-d3cc-47f6-830d-70c54fe8c9cf',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: '10a0bc56-947b-438a-a0ec-d6b71c3178bd.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: 'd71a9ff6-d130-4192-962c-dfd291530fdc',
  updatedAt: 2020-03-05T17:31:58.983Z,
  createdAt: 2020-03-05T17:31:58.983Z }
writing to db2...
Executing (a6e6a681-2df2-48a3-ad7d-5460409a56b9): START TRANSACTION;
Executing (a6e6a681-2df2-48a3-ad7d-5460409a56b9): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '00b66b23-d3cc-47f6-830d-70c54fe8c9cf' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = '10a0bc56-947b-438a-a0ec-d6b71c3178bd.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = 'd71a9ff6-d130-4192-962c-dfd291530fdc' LIMIT 1;
Executing (a6e6a681-2df2-48a3-ad7d-5460409a56b9): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_8c9f042fc87f44d08ff80bcc922ae299$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('6cb43a59-eb31-4f47-8c30-dcaa8fbd2d38','00b66b23-d3cc-47f6-830d-70c54fe8c9cf','d71a9ff6-d130-4192-962c-dfd291530fdc','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','10a0bc56-947b-438a-a0ec-d6b71c3178bd.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:31:59.406 +00:00','2020-03-05 17:31:59.406 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_8c9f042fc87f44d08ff80bcc922ae299$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (a6e6a681-2df2-48a3-ad7d-5460409a56b9): COMMIT;
{ SequelizeForeignKeyConstraintError: insert or update on table "Files" violates foreign key constraint "Files_cnodeUserUUID_fkey"
    at Query.formatError (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/sequelize/lib/dialects/postgres/query.js:296:16)
    at query.catch.err (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/sequelize/lib/dialects/postgres/query.js:86:18)
    at tryCatcher (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/bluebird/js/release/util.js:16:23)
    at Promise._settlePromiseFromHandler (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/bluebird/js/release/promise.js:517:31)
    at Promise._settlePromise (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/bluebird/js/release/promise.js:574:18)
    at Promise._settlePromise0 (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/bluebird/js/release/promise.js:619:10)
    at Promise._settlePromises (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/bluebird/js/release/promise.js:695:18)
    at _drainQueueStep (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/bluebird/js/release/async.js:138:12)
    at _drainQueue (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/bluebird/js/release/async.js:131:9)
    at Async._drainQueues (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/bluebird/js/release/async.js:147:5)
    at Immediate.Async.drainQueues [as _onImmediate] (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/bluebird/js/release/async.js:17:14)
    at runCallback (timers.js:705:18)
    at tryOnImmediate (timers.js:676:5)
    at processImmediate (timers.js:658:5)
  name: 'SequelizeForeignKeyConstraintError',
  parent:
   { error: insert or update on table "Files" violates foreign key constraint "Files_cnodeUserUUID_fkey"
       at Connection.parseE (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/pg/lib/connection.js:604:11)
       at Connection.parseMessage (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/pg/lib/connection.js:401:19)
       at Socket.<anonymous> (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/pg/lib/connection.js:121:22)
       at Socket.emit (events.js:198:13)
       at addChunk (_stream_readable.js:288:12)
       at readableAddChunk (_stream_readable.js:269:11)
       at Socket.Readable.push (_stream_readable.js:224:10)
       at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)
     name: 'error',
     length: 881,
     severity: 'ERROR',
     code: '23503',
     detail:
      'Key (cnodeUserUUID)=(00b66b23-d3cc-47f6-830d-70c54fe8c9cf) is not present in table "CNodeUsers".',
     hint: undefined,
     position: undefined,
     internalPosition: undefined,
     internalQuery: undefined,
     where:
      'SQL statement "INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES (\'6cb43a59-eb31-4f47-8c30-dcaa8fbd2d38\',\'00b66b23-d3cc-47f6-830d-70c54fe8c9cf\',\'d71a9ff6-d130-4192-962c-dfd291530fdc\',\'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM\',\'10a0bc56-947b-438a-a0ec-d6b71c3178bd.mp3\',\'/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM\',\'copy320\',\'2020-03-05 17:31:59.406 +00:00\',\'2020-03-05 17:31:59.406 +00:00\') RETURNING *"\nPL/pgSQL function pg_temp_14.testfunc() line 1 at SQL statement',
     schema: 'public',
     table: 'Files',
     column: undefined,
     dataType: undefined,
     constraint: 'Files_cnodeUserUUID_fkey',
     file: 'ri_triggers.c',
     line: '3266',
     routine: 'ri_ReportViolation',
     sql:
      'CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_8c9f042fc87f44d08ff80bcc922ae299$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES (\'6cb43a59-eb31-4f47-8c30-dcaa8fbd2d38\',\'00b66b23-d3cc-47f6-830d-70c54fe8c9cf\',\'d71a9ff6-d130-4192-962c-dfd291530fdc\',\'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM\',\'10a0bc56-947b-438a-a0ec-d6b71c3178bd.mp3\',\'/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM\',\'copy320\',\'2020-03-05 17:31:59.406 +00:00\',\'2020-03-05 17:31:59.406 +00:00\') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_8c9f042fc87f44d08ff80bcc922ae299$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();' },
  original:
   { error: insert or update on table "Files" violates foreign key constraint "Files_cnodeUserUUID_fkey"
       at Connection.parseE (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/pg/lib/connection.js:604:11)
       at Connection.parseMessage (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/pg/lib/connection.js:401:19)
       at Socket.<anonymous> (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/pg/lib/connection.js:121:22)
       at Socket.emit (events.js:198:13)
       at addChunk (_stream_readable.js:288:12)
       at readableAddChunk (_stream_readable.js:269:11)
       at Socket.Readable.push (_stream_readable.js:224:10)
       at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)
     name: 'error',
     length: 881,
     severity: 'ERROR',
     code: '23503',
     detail:
      'Key (cnodeUserUUID)=(00b66b23-d3cc-47f6-830d-70c54fe8c9cf) is not present in table "CNodeUsers".',
     hint: undefined,
     position: undefined,
     internalPosition: undefined,
     internalQuery: undefined,
     where:
      'SQL statement "INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES (\'6cb43a59-eb31-4f47-8c30-dcaa8fbd2d38\',\'00b66b23-d3cc-47f6-830d-70c54fe8c9cf\',\'d71a9ff6-d130-4192-962c-dfd291530fdc\',\'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM\',\'10a0bc56-947b-438a-a0ec-d6b71c3178bd.mp3\',\'/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM\',\'copy320\',\'2020-03-05 17:31:59.406 +00:00\',\'2020-03-05 17:31:59.406 +00:00\') RETURNING *"\nPL/pgSQL function pg_temp_14.testfunc() line 1 at SQL statement',
     schema: 'public',
     table: 'Files',
     column: undefined,
     dataType: undefined,
     constraint: 'Files_cnodeUserUUID_fkey',
     file: 'ri_triggers.c',
     line: '3266',
     routine: 'ri_ReportViolation',
     sql:
      'CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_8c9f042fc87f44d08ff80bcc922ae299$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES (\'6cb43a59-eb31-4f47-8c30-dcaa8fbd2d38\',\'00b66b23-d3cc-47f6-830d-70c54fe8c9cf\',\'d71a9ff6-d130-4192-962c-dfd291530fdc\',\'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM\',\'10a0bc56-947b-438a-a0ec-d6b71c3178bd.mp3\',\'/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM\',\'copy320\',\'2020-03-05 17:31:59.406 +00:00\',\'2020-03-05 17:31:59.406 +00:00\') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_8c9f042fc87f44d08ff80bcc922ae299$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();' },
  sql:
   'CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_8c9f042fc87f44d08ff80bcc922ae299$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES (\'6cb43a59-eb31-4f47-8c30-dcaa8fbd2d38\',\'00b66b23-d3cc-47f6-830d-70c54fe8c9cf\',\'d71a9ff6-d130-4192-962c-dfd291530fdc\',\'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM\',\'10a0bc56-947b-438a-a0ec-d6b71c3178bd.mp3\',\'/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM\',\'copy320\',\'2020-03-05 17:31:59.406 +00:00\',\'2020-03-05 17:31:59.406 +00:00\') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_8c9f042fc87f44d08ff80bcc922ae299$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();',
  fields: null,
  table: 'Files',
  value: undefined,
  index: 'Files_cnodeUserUUID_fkey',
  reltype: undefined }
writing to db3...
Executing (2a90d8df-6737-4ec9-9b6d-577688702ab0): START TRANSACTION;
Executing (2a90d8df-6737-4ec9-9b6d-577688702ab0): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '00b66b23-d3cc-47f6-830d-70c54fe8c9cf' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = '10a0bc56-947b-438a-a0ec-d6b71c3178bd.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = 'd71a9ff6-d130-4192-962c-dfd291530fdc' LIMIT 1;
Executing (2a90d8df-6737-4ec9-9b6d-577688702ab0): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_d41948400aad4478bf005f88f30cc4a6$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('99163b55-e770-4a95-a0ae-22a6ff56d635','00b66b23-d3cc-47f6-830d-70c54fe8c9cf','d71a9ff6-d130-4192-962c-dfd291530fdc','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','10a0bc56-947b-438a-a0ec-d6b71c3178bd.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:31:59.795 +00:00','2020-03-05 17:31:59.795 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_d41948400aad4478bf005f88f30cc4a6$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (2a90d8df-6737-4ec9-9b6d-577688702ab0): COMMIT;
{ fileUUID: '99163b55-e770-4a95-a0ae-22a6ff56d635',
  cnodeUserUUID: '00b66b23-d3cc-47f6-830d-70c54fe8c9cf',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: '10a0bc56-947b-438a-a0ec-d6b71c3178bd.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: 'd71a9ff6-d130-4192-962c-dfd291530fdc',
  updatedAt: 2020-03-05T17:31:59.795Z,
  createdAt: 2020-03-05T17:31:59.795Z }




PROCESSING ROW #17: sourcefile: 5864c70d-f675-45b8-8fcf-0c473e8b38b8.mp3, cnodeUserUUID: 186706e0-f937-4b88-9141-599dd9c31c3f, trackUUID: da9f29bc-4858-4581-8852-a2cd5115ba93, multihash: QmPT5EZm5qxsZsH1To8Lkp5YCh1ycbb3w7BU95q1owDMJh, dstPath: /file_storage/QmPT5EZm5qxsZsH1To8Lkp5YCh1ycbb3w7BU95q1owDMJh
writing to db1...
Executing (222bb888-e854-41db-89e0-4b2e2fd866bf): START TRANSACTION;
Executing (222bb888-e854-41db-89e0-4b2e2fd866bf): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '186706e0-f937-4b88-9141-599dd9c31c3f' AND "File"."multihash" = 'QmPT5EZm5qxsZsH1To8Lkp5YCh1ycbb3w7BU95q1owDMJh' AND "File"."sourceFile" = '5864c70d-f675-45b8-8fcf-0c473e8b38b8.mp3' AND "File"."storagePath" = '/file_storage/QmPT5EZm5qxsZsH1To8Lkp5YCh1ycbb3w7BU95q1owDMJh' AND "File"."type" = 'copy320' AND "File"."trackUUID" = 'da9f29bc-4858-4581-8852-a2cd5115ba93' LIMIT 1;
Executing (222bb888-e854-41db-89e0-4b2e2fd866bf): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_6d473895d9424c90b15ffae1fdf5dcf7$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('20f98989-fcb9-4cef-8969-384a0304e1f2','186706e0-f937-4b88-9141-599dd9c31c3f','da9f29bc-4858-4581-8852-a2cd5115ba93','QmPT5EZm5qxsZsH1To8Lkp5YCh1ycbb3w7BU95q1owDMJh','5864c70d-f675-45b8-8fcf-0c473e8b38b8.mp3','/file_storage/QmPT5EZm5qxsZsH1To8Lkp5YCh1ycbb3w7BU95q1owDMJh','copy320','2020-03-05 17:32:00.201 +00:00','2020-03-05 17:32:00.201 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_6d473895d9424c90b15ffae1fdf5dcf7$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (222bb888-e854-41db-89e0-4b2e2fd866bf): COMMIT;
{ fileUUID: '20f98989-fcb9-4cef-8969-384a0304e1f2',
  cnodeUserUUID: '186706e0-f937-4b88-9141-599dd9c31c3f',
  multihash: 'QmPT5EZm5qxsZsH1To8Lkp5YCh1ycbb3w7BU95q1owDMJh',
  sourceFile: '5864c70d-f675-45b8-8fcf-0c473e8b38b8.mp3',
  storagePath:
   '/file_storage/QmPT5EZm5qxsZsH1To8Lkp5YCh1ycbb3w7BU95q1owDMJh',
  type: 'copy320',
  trackUUID: 'da9f29bc-4858-4581-8852-a2cd5115ba93',
  updatedAt: 2020-03-05T17:32:00.201Z,
  createdAt: 2020-03-05T17:32:00.201Z }
writing to db2...
Executing (465bf7de-17fd-42e5-8579-0b0087a48318): START TRANSACTION;
Executing (465bf7de-17fd-42e5-8579-0b0087a48318): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '186706e0-f937-4b88-9141-599dd9c31c3f' AND "File"."multihash" = 'QmPT5EZm5qxsZsH1To8Lkp5YCh1ycbb3w7BU95q1owDMJh' AND "File"."sourceFile" = '5864c70d-f675-45b8-8fcf-0c473e8b38b8.mp3' AND "File"."storagePath" = '/file_storage/QmPT5EZm5qxsZsH1To8Lkp5YCh1ycbb3w7BU95q1owDMJh' AND "File"."type" = 'copy320' AND "File"."trackUUID" = 'da9f29bc-4858-4581-8852-a2cd5115ba93' LIMIT 1;
Executing (465bf7de-17fd-42e5-8579-0b0087a48318): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_adce1873669c40cb99ed5e9fbe6cd836$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('826f0cf6-96ab-4a5d-bc79-33d382b25007','186706e0-f937-4b88-9141-599dd9c31c3f','da9f29bc-4858-4581-8852-a2cd5115ba93','QmPT5EZm5qxsZsH1To8Lkp5YCh1ycbb3w7BU95q1owDMJh','5864c70d-f675-45b8-8fcf-0c473e8b38b8.mp3','/file_storage/QmPT5EZm5qxsZsH1To8Lkp5YCh1ycbb3w7BU95q1owDMJh','copy320','2020-03-05 17:32:00.615 +00:00','2020-03-05 17:32:00.615 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_adce1873669c40cb99ed5e9fbe6cd836$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (465bf7de-17fd-42e5-8579-0b0087a48318): COMMIT;
{ fileUUID: '826f0cf6-96ab-4a5d-bc79-33d382b25007',
  cnodeUserUUID: '186706e0-f937-4b88-9141-599dd9c31c3f',
  multihash: 'QmPT5EZm5qxsZsH1To8Lkp5YCh1ycbb3w7BU95q1owDMJh',
  sourceFile: '5864c70d-f675-45b8-8fcf-0c473e8b38b8.mp3',
  storagePath:
   '/file_storage/QmPT5EZm5qxsZsH1To8Lkp5YCh1ycbb3w7BU95q1owDMJh',
  type: 'copy320',
  trackUUID: 'da9f29bc-4858-4581-8852-a2cd5115ba93',
  updatedAt: 2020-03-05T17:32:00.615Z,
  createdAt: 2020-03-05T17:32:00.615Z }
writing to db3...
Executing (590fa346-b28d-4a57-84d5-88ffa071485c): START TRANSACTION;
Executing (590fa346-b28d-4a57-84d5-88ffa071485c): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '186706e0-f937-4b88-9141-599dd9c31c3f' AND "File"."multihash" = 'QmPT5EZm5qxsZsH1To8Lkp5YCh1ycbb3w7BU95q1owDMJh' AND "File"."sourceFile" = '5864c70d-f675-45b8-8fcf-0c473e8b38b8.mp3' AND "File"."storagePath" = '/file_storage/QmPT5EZm5qxsZsH1To8Lkp5YCh1ycbb3w7BU95q1owDMJh' AND "File"."type" = 'copy320' AND "File"."trackUUID" = 'da9f29bc-4858-4581-8852-a2cd5115ba93' LIMIT 1;
Executing (590fa346-b28d-4a57-84d5-88ffa071485c): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_564dc866d25d4dc3b1f1eb0228319352$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('5f441970-57bb-4660-9f66-e893f86a9e12','186706e0-f937-4b88-9141-599dd9c31c3f','da9f29bc-4858-4581-8852-a2cd5115ba93','QmPT5EZm5qxsZsH1To8Lkp5YCh1ycbb3w7BU95q1owDMJh','5864c70d-f675-45b8-8fcf-0c473e8b38b8.mp3','/file_storage/QmPT5EZm5qxsZsH1To8Lkp5YCh1ycbb3w7BU95q1owDMJh','copy320','2020-03-05 17:32:01.032 +00:00','2020-03-05 17:32:01.032 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_564dc866d25d4dc3b1f1eb0228319352$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (590fa346-b28d-4a57-84d5-88ffa071485c): COMMIT;
{ fileUUID: '5f441970-57bb-4660-9f66-e893f86a9e12',
  cnodeUserUUID: '186706e0-f937-4b88-9141-599dd9c31c3f',
  multihash: 'QmPT5EZm5qxsZsH1To8Lkp5YCh1ycbb3w7BU95q1owDMJh',
  sourceFile: '5864c70d-f675-45b8-8fcf-0c473e8b38b8.mp3',
  storagePath:
   '/file_storage/QmPT5EZm5qxsZsH1To8Lkp5YCh1ycbb3w7BU95q1owDMJh',
  type: 'copy320',
  trackUUID: 'da9f29bc-4858-4581-8852-a2cd5115ba93',
  updatedAt: 2020-03-05T17:32:01.032Z,
  createdAt: 2020-03-05T17:32:01.032Z }




PROCESSING ROW #18: sourcefile: c7667919-8d6c-4027-97c6-7ed14b725ade.mp3, cnodeUserUUID: 1e3ed51c-4bab-4775-b471-c4e200f0b658, trackUUID: 6be8b5c7-4241-4b7b-97e5-fccf8c57940d, multihash: QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM, dstPath: /file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM
writing to db1...
Executing (fb58a416-6ec5-454c-851c-afbeee7dcd19): START TRANSACTION;
Executing (fb58a416-6ec5-454c-851c-afbeee7dcd19): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '1e3ed51c-4bab-4775-b471-c4e200f0b658' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = 'c7667919-8d6c-4027-97c6-7ed14b725ade.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '6be8b5c7-4241-4b7b-97e5-fccf8c57940d' LIMIT 1;
Executing (fb58a416-6ec5-454c-851c-afbeee7dcd19): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_1903056bb0c046b592b49b0fe85b0cf2$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('4a7e5f86-77c7-437e-9ed2-98318af9575c','1e3ed51c-4bab-4775-b471-c4e200f0b658','6be8b5c7-4241-4b7b-97e5-fccf8c57940d','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','c7667919-8d6c-4027-97c6-7ed14b725ade.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:32:01.451 +00:00','2020-03-05 17:32:01.451 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_1903056bb0c046b592b49b0fe85b0cf2$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (fb58a416-6ec5-454c-851c-afbeee7dcd19): COMMIT;
{ fileUUID: '4a7e5f86-77c7-437e-9ed2-98318af9575c',
  cnodeUserUUID: '1e3ed51c-4bab-4775-b471-c4e200f0b658',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: 'c7667919-8d6c-4027-97c6-7ed14b725ade.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: '6be8b5c7-4241-4b7b-97e5-fccf8c57940d',
  updatedAt: 2020-03-05T17:32:01.451Z,
  createdAt: 2020-03-05T17:32:01.451Z }
writing to db2...
Executing (e64bcc0e-b28b-4fdc-aefc-7694f0d23a54): START TRANSACTION;
Executing (e64bcc0e-b28b-4fdc-aefc-7694f0d23a54): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '1e3ed51c-4bab-4775-b471-c4e200f0b658' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = 'c7667919-8d6c-4027-97c6-7ed14b725ade.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '6be8b5c7-4241-4b7b-97e5-fccf8c57940d' LIMIT 1;
Executing (e64bcc0e-b28b-4fdc-aefc-7694f0d23a54): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_e5cd6be63b174ffebe346f694a168345$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('113e9413-d7aa-4042-a781-45bb5bbd0d7a','1e3ed51c-4bab-4775-b471-c4e200f0b658','6be8b5c7-4241-4b7b-97e5-fccf8c57940d','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','c7667919-8d6c-4027-97c6-7ed14b725ade.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:32:01.895 +00:00','2020-03-05 17:32:01.895 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_e5cd6be63b174ffebe346f694a168345$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (e64bcc0e-b28b-4fdc-aefc-7694f0d23a54): COMMIT;
{ fileUUID: '113e9413-d7aa-4042-a781-45bb5bbd0d7a',
  cnodeUserUUID: '1e3ed51c-4bab-4775-b471-c4e200f0b658',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: 'c7667919-8d6c-4027-97c6-7ed14b725ade.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: '6be8b5c7-4241-4b7b-97e5-fccf8c57940d',
  updatedAt: 2020-03-05T17:32:01.895Z,
  createdAt: 2020-03-05T17:32:01.895Z }
writing to db3...
Executing (e80dd814-1aa0-4932-a212-c81bdce757a9): START TRANSACTION;
Executing (e80dd814-1aa0-4932-a212-c81bdce757a9): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '1e3ed51c-4bab-4775-b471-c4e200f0b658' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = 'c7667919-8d6c-4027-97c6-7ed14b725ade.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '6be8b5c7-4241-4b7b-97e5-fccf8c57940d' LIMIT 1;
Executing (e80dd814-1aa0-4932-a212-c81bdce757a9): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_fe5c96ee62bd41baa4c8acf1f40e6adf$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('b5a1e3ea-33f1-42ee-ae14-b7300dbdd59a','1e3ed51c-4bab-4775-b471-c4e200f0b658','6be8b5c7-4241-4b7b-97e5-fccf8c57940d','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','c7667919-8d6c-4027-97c6-7ed14b725ade.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:32:02.315 +00:00','2020-03-05 17:32:02.315 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_fe5c96ee62bd41baa4c8acf1f40e6adf$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (e80dd814-1aa0-4932-a212-c81bdce757a9): COMMIT;
{ fileUUID: 'b5a1e3ea-33f1-42ee-ae14-b7300dbdd59a',
  cnodeUserUUID: '1e3ed51c-4bab-4775-b471-c4e200f0b658',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: 'c7667919-8d6c-4027-97c6-7ed14b725ade.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: '6be8b5c7-4241-4b7b-97e5-fccf8c57940d',
  updatedAt: 2020-03-05T17:32:02.315Z,
  createdAt: 2020-03-05T17:32:02.315Z }




PROCESSING ROW #19: sourcefile: 6fe42532-12ff-4656-94ed-e12e17863a9a.mp3, cnodeUserUUID: 44af7bbf-d230-43ef-917d-6816c883c217, trackUUID: 558c90b2-32f9-4223-ade8-beee42138655, multihash: QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM, dstPath: /file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM
writing to db1...
Executing (a1a1c4e5-7053-4127-adff-1ceb54349d27): START TRANSACTION;
Executing (a1a1c4e5-7053-4127-adff-1ceb54349d27): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '44af7bbf-d230-43ef-917d-6816c883c217' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = '6fe42532-12ff-4656-94ed-e12e17863a9a.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '558c90b2-32f9-4223-ade8-beee42138655' LIMIT 1;
Executing (a1a1c4e5-7053-4127-adff-1ceb54349d27): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_3cfde723d882482eb2e643f655def158$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('936f293b-4f3f-46a4-849e-ddf82a5af060','44af7bbf-d230-43ef-917d-6816c883c217','558c90b2-32f9-4223-ade8-beee42138655','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','6fe42532-12ff-4656-94ed-e12e17863a9a.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:32:02.749 +00:00','2020-03-05 17:32:02.749 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_3cfde723d882482eb2e643f655def158$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (a1a1c4e5-7053-4127-adff-1ceb54349d27): COMMIT;
{ fileUUID: '936f293b-4f3f-46a4-849e-ddf82a5af060',
  cnodeUserUUID: '44af7bbf-d230-43ef-917d-6816c883c217',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: '6fe42532-12ff-4656-94ed-e12e17863a9a.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: '558c90b2-32f9-4223-ade8-beee42138655',
  updatedAt: 2020-03-05T17:32:02.749Z,
  createdAt: 2020-03-05T17:32:02.749Z }
writing to db2...
Executing (918c4cd7-f92b-44e8-879f-063c21dce6ca): START TRANSACTION;
Executing (918c4cd7-f92b-44e8-879f-063c21dce6ca): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '44af7bbf-d230-43ef-917d-6816c883c217' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = '6fe42532-12ff-4656-94ed-e12e17863a9a.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '558c90b2-32f9-4223-ade8-beee42138655' LIMIT 1;
Executing (918c4cd7-f92b-44e8-879f-063c21dce6ca): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_6423ddba1e12431e80fc31e52f97bb61$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('4008f7a1-a2ea-4884-a436-01b401002d47','44af7bbf-d230-43ef-917d-6816c883c217','558c90b2-32f9-4223-ade8-beee42138655','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','6fe42532-12ff-4656-94ed-e12e17863a9a.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:32:03.190 +00:00','2020-03-05 17:32:03.190 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_6423ddba1e12431e80fc31e52f97bb61$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (918c4cd7-f92b-44e8-879f-063c21dce6ca): COMMIT;
{ fileUUID: '4008f7a1-a2ea-4884-a436-01b401002d47',
  cnodeUserUUID: '44af7bbf-d230-43ef-917d-6816c883c217',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: '6fe42532-12ff-4656-94ed-e12e17863a9a.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: '558c90b2-32f9-4223-ade8-beee42138655',
  updatedAt: 2020-03-05T17:32:03.190Z,
  createdAt: 2020-03-05T17:32:03.190Z }
writing to db3...
Executing (a6567b75-6124-4df6-8704-417bf233680b): START TRANSACTION;
Executing (a6567b75-6124-4df6-8704-417bf233680b): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '44af7bbf-d230-43ef-917d-6816c883c217' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = '6fe42532-12ff-4656-94ed-e12e17863a9a.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '558c90b2-32f9-4223-ade8-beee42138655' LIMIT 1;
Executing (a6567b75-6124-4df6-8704-417bf233680b): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_3dc2a17e57804c9a811e3f90fdb513a3$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('3cb2862a-3f08-4327-9606-e695b1c8350b','44af7bbf-d230-43ef-917d-6816c883c217','558c90b2-32f9-4223-ade8-beee42138655','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','6fe42532-12ff-4656-94ed-e12e17863a9a.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:32:03.631 +00:00','2020-03-05 17:32:03.631 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_3dc2a17e57804c9a811e3f90fdb513a3$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (a6567b75-6124-4df6-8704-417bf233680b): COMMIT;
{ fileUUID: '3cb2862a-3f08-4327-9606-e695b1c8350b',
  cnodeUserUUID: '44af7bbf-d230-43ef-917d-6816c883c217',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: '6fe42532-12ff-4656-94ed-e12e17863a9a.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: '558c90b2-32f9-4223-ade8-beee42138655',
  updatedAt: 2020-03-05T17:32:03.631Z,
  createdAt: 2020-03-05T17:32:03.631Z }




PROCESSING ROW #20: sourcefile: 71436362-df6b-4c0c-b807-d5a588736d50.mp3, cnodeUserUUID: 0af9968e-345a-4c22-8db9-f7f24b7f49b3, trackUUID: 0142773f-6af3-4967-abee-978c6d0dc885, multihash: QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM, dstPath: /file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM
writing to db1...
Executing (2e787358-94e4-4ddc-a97b-9c1b7749e5e4): START TRANSACTION;
Executing (2e787358-94e4-4ddc-a97b-9c1b7749e5e4): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '0af9968e-345a-4c22-8db9-f7f24b7f49b3' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = '71436362-df6b-4c0c-b807-d5a588736d50.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '0142773f-6af3-4967-abee-978c6d0dc885' LIMIT 1;
Executing (2e787358-94e4-4ddc-a97b-9c1b7749e5e4): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_4646df01e18041e69f02d571159e3a88$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('d33aa6f5-48b2-4ce7-9a4e-736a518e0609','0af9968e-345a-4c22-8db9-f7f24b7f49b3','0142773f-6af3-4967-abee-978c6d0dc885','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','71436362-df6b-4c0c-b807-d5a588736d50.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:32:04.082 +00:00','2020-03-05 17:32:04.082 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_4646df01e18041e69f02d571159e3a88$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (2e787358-94e4-4ddc-a97b-9c1b7749e5e4): COMMIT;
{ fileUUID: 'd33aa6f5-48b2-4ce7-9a4e-736a518e0609',
  cnodeUserUUID: '0af9968e-345a-4c22-8db9-f7f24b7f49b3',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: '71436362-df6b-4c0c-b807-d5a588736d50.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: '0142773f-6af3-4967-abee-978c6d0dc885',
  updatedAt: 2020-03-05T17:32:04.082Z,
  createdAt: 2020-03-05T17:32:04.082Z }
writing to db2...
Executing (7bec8a7b-d17e-4518-ab5c-f855c44d965f): START TRANSACTION;
Executing (7bec8a7b-d17e-4518-ab5c-f855c44d965f): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '0af9968e-345a-4c22-8db9-f7f24b7f49b3' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = '71436362-df6b-4c0c-b807-d5a588736d50.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '0142773f-6af3-4967-abee-978c6d0dc885' LIMIT 1;
Executing (7bec8a7b-d17e-4518-ab5c-f855c44d965f): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_9f1d8e749c9444cf8266e41aad99e8d2$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('7530482d-c104-4849-bc9c-492b2b0a0b6e','0af9968e-345a-4c22-8db9-f7f24b7f49b3','0142773f-6af3-4967-abee-978c6d0dc885','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','71436362-df6b-4c0c-b807-d5a588736d50.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:32:04.539 +00:00','2020-03-05 17:32:04.539 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_9f1d8e749c9444cf8266e41aad99e8d2$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (7bec8a7b-d17e-4518-ab5c-f855c44d965f): COMMIT;
{ fileUUID: '7530482d-c104-4849-bc9c-492b2b0a0b6e',
  cnodeUserUUID: '0af9968e-345a-4c22-8db9-f7f24b7f49b3',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: '71436362-df6b-4c0c-b807-d5a588736d50.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: '0142773f-6af3-4967-abee-978c6d0dc885',
  updatedAt: 2020-03-05T17:32:04.539Z,
  createdAt: 2020-03-05T17:32:04.539Z }
writing to db3...
Executing (4684affe-c620-4e5a-bf99-fca393443ace): START TRANSACTION;
Executing (4684affe-c620-4e5a-bf99-fca393443ace): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '0af9968e-345a-4c22-8db9-f7f24b7f49b3' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = '71436362-df6b-4c0c-b807-d5a588736d50.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '0142773f-6af3-4967-abee-978c6d0dc885' LIMIT 1;
Executing (4684affe-c620-4e5a-bf99-fca393443ace): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_748cd28285774ced8a7175411c00f917$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('8662ea76-09c4-48fb-8fe7-05013399380d','0af9968e-345a-4c22-8db9-f7f24b7f49b3','0142773f-6af3-4967-abee-978c6d0dc885','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','71436362-df6b-4c0c-b807-d5a588736d50.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:32:04.962 +00:00','2020-03-05 17:32:04.962 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_748cd28285774ced8a7175411c00f917$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (4684affe-c620-4e5a-bf99-fca393443ace): COMMIT;
{ fileUUID: '8662ea76-09c4-48fb-8fe7-05013399380d',
  cnodeUserUUID: '0af9968e-345a-4c22-8db9-f7f24b7f49b3',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: '71436362-df6b-4c0c-b807-d5a588736d50.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: '0142773f-6af3-4967-abee-978c6d0dc885',
  updatedAt: 2020-03-05T17:32:04.962Z,
  createdAt: 2020-03-05T17:32:04.962Z }




PROCESSING ROW #21: sourcefile: ccf5cdad-3e20-4e8e-aab3-1f24840a8457.mp3, cnodeUserUUID: 07f70e7c-b2ae-4d67-bfb3-6e33620531f3, trackUUID: 6311cc72-07ce-4fa6-91c6-0e43d102512b, multihash: QmSHY6vt2F72YHuV68C2ePoiMUnQSauPigac6NVttEHUWv, dstPath: /file_storage/QmSHY6vt2F72YHuV68C2ePoiMUnQSauPigac6NVttEHUWv
writing to db1...
Executing (9091cfed-04f7-450c-9cb3-bc88b3586bc2): START TRANSACTION;
Executing (9091cfed-04f7-450c-9cb3-bc88b3586bc2): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '07f70e7c-b2ae-4d67-bfb3-6e33620531f3' AND "File"."multihash" = 'QmSHY6vt2F72YHuV68C2ePoiMUnQSauPigac6NVttEHUWv' AND "File"."sourceFile" = 'ccf5cdad-3e20-4e8e-aab3-1f24840a8457.mp3' AND "File"."storagePath" = '/file_storage/QmSHY6vt2F72YHuV68C2ePoiMUnQSauPigac6NVttEHUWv' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '6311cc72-07ce-4fa6-91c6-0e43d102512b' LIMIT 1;
Executing (9091cfed-04f7-450c-9cb3-bc88b3586bc2): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_8de70e2b227a4a6d983540bfd6f75ee7$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('e416bb0e-a666-4856-9bef-57f7902f6c9c','07f70e7c-b2ae-4d67-bfb3-6e33620531f3','6311cc72-07ce-4fa6-91c6-0e43d102512b','QmSHY6vt2F72YHuV68C2ePoiMUnQSauPigac6NVttEHUWv','ccf5cdad-3e20-4e8e-aab3-1f24840a8457.mp3','/file_storage/QmSHY6vt2F72YHuV68C2ePoiMUnQSauPigac6NVttEHUWv','copy320','2020-03-05 17:32:05.416 +00:00','2020-03-05 17:32:05.416 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_8de70e2b227a4a6d983540bfd6f75ee7$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (9091cfed-04f7-450c-9cb3-bc88b3586bc2): COMMIT;
{ fileUUID: 'e416bb0e-a666-4856-9bef-57f7902f6c9c',
  cnodeUserUUID: '07f70e7c-b2ae-4d67-bfb3-6e33620531f3',
  multihash: 'QmSHY6vt2F72YHuV68C2ePoiMUnQSauPigac6NVttEHUWv',
  sourceFile: 'ccf5cdad-3e20-4e8e-aab3-1f24840a8457.mp3',
  storagePath:
   '/file_storage/QmSHY6vt2F72YHuV68C2ePoiMUnQSauPigac6NVttEHUWv',
  type: 'copy320',
  trackUUID: '6311cc72-07ce-4fa6-91c6-0e43d102512b',
  updatedAt: 2020-03-05T17:32:05.416Z,
  createdAt: 2020-03-05T17:32:05.416Z }
writing to db2...
Executing (2e040972-7b21-403c-bb77-b1478f800241): START TRANSACTION;
Executing (2e040972-7b21-403c-bb77-b1478f800241): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '07f70e7c-b2ae-4d67-bfb3-6e33620531f3' AND "File"."multihash" = 'QmSHY6vt2F72YHuV68C2ePoiMUnQSauPigac6NVttEHUWv' AND "File"."sourceFile" = 'ccf5cdad-3e20-4e8e-aab3-1f24840a8457.mp3' AND "File"."storagePath" = '/file_storage/QmSHY6vt2F72YHuV68C2ePoiMUnQSauPigac6NVttEHUWv' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '6311cc72-07ce-4fa6-91c6-0e43d102512b' LIMIT 1;
Executing (2e040972-7b21-403c-bb77-b1478f800241): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_9f64ad776f55422bbff25b7e00624034$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('f4cc4967-a964-4123-a528-6816dc4754a2','07f70e7c-b2ae-4d67-bfb3-6e33620531f3','6311cc72-07ce-4fa6-91c6-0e43d102512b','QmSHY6vt2F72YHuV68C2ePoiMUnQSauPigac6NVttEHUWv','ccf5cdad-3e20-4e8e-aab3-1f24840a8457.mp3','/file_storage/QmSHY6vt2F72YHuV68C2ePoiMUnQSauPigac6NVttEHUWv','copy320','2020-03-05 17:32:05.844 +00:00','2020-03-05 17:32:05.844 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_9f64ad776f55422bbff25b7e00624034$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (2e040972-7b21-403c-bb77-b1478f800241): COMMIT;
{ fileUUID: 'f4cc4967-a964-4123-a528-6816dc4754a2',
  cnodeUserUUID: '07f70e7c-b2ae-4d67-bfb3-6e33620531f3',
  multihash: 'QmSHY6vt2F72YHuV68C2ePoiMUnQSauPigac6NVttEHUWv',
  sourceFile: 'ccf5cdad-3e20-4e8e-aab3-1f24840a8457.mp3',
  storagePath:
   '/file_storage/QmSHY6vt2F72YHuV68C2ePoiMUnQSauPigac6NVttEHUWv',
  type: 'copy320',
  trackUUID: '6311cc72-07ce-4fa6-91c6-0e43d102512b',
  updatedAt: 2020-03-05T17:32:05.844Z,
  createdAt: 2020-03-05T17:32:05.844Z }
writing to db3...
Executing (c0085cd2-df03-49bc-956c-909ae71d93c1): START TRANSACTION;
Executing (c0085cd2-df03-49bc-956c-909ae71d93c1): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '07f70e7c-b2ae-4d67-bfb3-6e33620531f3' AND "File"."multihash" = 'QmSHY6vt2F72YHuV68C2ePoiMUnQSauPigac6NVttEHUWv' AND "File"."sourceFile" = 'ccf5cdad-3e20-4e8e-aab3-1f24840a8457.mp3' AND "File"."storagePath" = '/file_storage/QmSHY6vt2F72YHuV68C2ePoiMUnQSauPigac6NVttEHUWv' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '6311cc72-07ce-4fa6-91c6-0e43d102512b' LIMIT 1;
Executing (c0085cd2-df03-49bc-956c-909ae71d93c1): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_a278caf27b454a3cb27c7fe9c945af28$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('acae1731-462e-4426-8b67-267abd75aa34','07f70e7c-b2ae-4d67-bfb3-6e33620531f3','6311cc72-07ce-4fa6-91c6-0e43d102512b','QmSHY6vt2F72YHuV68C2ePoiMUnQSauPigac6NVttEHUWv','ccf5cdad-3e20-4e8e-aab3-1f24840a8457.mp3','/file_storage/QmSHY6vt2F72YHuV68C2ePoiMUnQSauPigac6NVttEHUWv','copy320','2020-03-05 17:32:06.261 +00:00','2020-03-05 17:32:06.261 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_a278caf27b454a3cb27c7fe9c945af28$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (c0085cd2-df03-49bc-956c-909ae71d93c1): COMMIT;
{ fileUUID: 'acae1731-462e-4426-8b67-267abd75aa34',
  cnodeUserUUID: '07f70e7c-b2ae-4d67-bfb3-6e33620531f3',
  multihash: 'QmSHY6vt2F72YHuV68C2ePoiMUnQSauPigac6NVttEHUWv',
  sourceFile: 'ccf5cdad-3e20-4e8e-aab3-1f24840a8457.mp3',
  storagePath:
   '/file_storage/QmSHY6vt2F72YHuV68C2ePoiMUnQSauPigac6NVttEHUWv',
  type: 'copy320',
  trackUUID: '6311cc72-07ce-4fa6-91c6-0e43d102512b',
  updatedAt: 2020-03-05T17:32:06.261Z,
  createdAt: 2020-03-05T17:32:06.261Z }




PROCESSING ROW #22: sourcefile: 5dc51151-bd31-4848-beac-5adae80566a5.mp3, cnodeUserUUID: 716a261b-a708-4c4d-82be-a3aff588f5c4, trackUUID: 2b481a60-d7e0-41bf-aac8-fd3e088a68ff, multihash: QmcAD35vXY3h9iXGDF2sLTMTZ4QER63yKVoFrJQUpps6bq, dstPath: /file_storage/QmcAD35vXY3h9iXGDF2sLTMTZ4QER63yKVoFrJQUpps6bq
writing to db1...
Executing (cc3d8e1f-2f79-4361-84c1-7d862694f273): START TRANSACTION;
Executing (cc3d8e1f-2f79-4361-84c1-7d862694f273): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '716a261b-a708-4c4d-82be-a3aff588f5c4' AND "File"."multihash" = 'QmcAD35vXY3h9iXGDF2sLTMTZ4QER63yKVoFrJQUpps6bq' AND "File"."sourceFile" = '5dc51151-bd31-4848-beac-5adae80566a5.mp3' AND "File"."storagePath" = '/file_storage/QmcAD35vXY3h9iXGDF2sLTMTZ4QER63yKVoFrJQUpps6bq' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '2b481a60-d7e0-41bf-aac8-fd3e088a68ff' LIMIT 1;
Executing (cc3d8e1f-2f79-4361-84c1-7d862694f273): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_5a3b0ab2f2f948a08592f5641e88e4d5$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('31818ed0-d91e-4ca7-abde-48710cf60f52','716a261b-a708-4c4d-82be-a3aff588f5c4','2b481a60-d7e0-41bf-aac8-fd3e088a68ff','QmcAD35vXY3h9iXGDF2sLTMTZ4QER63yKVoFrJQUpps6bq','5dc51151-bd31-4848-beac-5adae80566a5.mp3','/file_storage/QmcAD35vXY3h9iXGDF2sLTMTZ4QER63yKVoFrJQUpps6bq','copy320','2020-03-05 17:32:06.677 +00:00','2020-03-05 17:32:06.677 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_5a3b0ab2f2f948a08592f5641e88e4d5$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (cc3d8e1f-2f79-4361-84c1-7d862694f273): COMMIT;
{ fileUUID: '31818ed0-d91e-4ca7-abde-48710cf60f52',
  cnodeUserUUID: '716a261b-a708-4c4d-82be-a3aff588f5c4',
  multihash: 'QmcAD35vXY3h9iXGDF2sLTMTZ4QER63yKVoFrJQUpps6bq',
  sourceFile: '5dc51151-bd31-4848-beac-5adae80566a5.mp3',
  storagePath:
   '/file_storage/QmcAD35vXY3h9iXGDF2sLTMTZ4QER63yKVoFrJQUpps6bq',
  type: 'copy320',
  trackUUID: '2b481a60-d7e0-41bf-aac8-fd3e088a68ff',
  updatedAt: 2020-03-05T17:32:06.677Z,
  createdAt: 2020-03-05T17:32:06.677Z }
writing to db2...
Executing (ed988677-c934-4720-bf02-6b0418036627): START TRANSACTION;
Executing (ed988677-c934-4720-bf02-6b0418036627): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '716a261b-a708-4c4d-82be-a3aff588f5c4' AND "File"."multihash" = 'QmcAD35vXY3h9iXGDF2sLTMTZ4QER63yKVoFrJQUpps6bq' AND "File"."sourceFile" = '5dc51151-bd31-4848-beac-5adae80566a5.mp3' AND "File"."storagePath" = '/file_storage/QmcAD35vXY3h9iXGDF2sLTMTZ4QER63yKVoFrJQUpps6bq' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '2b481a60-d7e0-41bf-aac8-fd3e088a68ff' LIMIT 1;
Executing (ed988677-c934-4720-bf02-6b0418036627): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_f1d6f64c26b34585b2053f0381cd5ad5$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('1214df02-22e6-416b-b7fb-6d6b685f1b63','716a261b-a708-4c4d-82be-a3aff588f5c4','2b481a60-d7e0-41bf-aac8-fd3e088a68ff','QmcAD35vXY3h9iXGDF2sLTMTZ4QER63yKVoFrJQUpps6bq','5dc51151-bd31-4848-beac-5adae80566a5.mp3','/file_storage/QmcAD35vXY3h9iXGDF2sLTMTZ4QER63yKVoFrJQUpps6bq','copy320','2020-03-05 17:32:07.111 +00:00','2020-03-05 17:32:07.111 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_f1d6f64c26b34585b2053f0381cd5ad5$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (ed988677-c934-4720-bf02-6b0418036627): COMMIT;
{ fileUUID: '1214df02-22e6-416b-b7fb-6d6b685f1b63',
  cnodeUserUUID: '716a261b-a708-4c4d-82be-a3aff588f5c4',
  multihash: 'QmcAD35vXY3h9iXGDF2sLTMTZ4QER63yKVoFrJQUpps6bq',
  sourceFile: '5dc51151-bd31-4848-beac-5adae80566a5.mp3',
  storagePath:
   '/file_storage/QmcAD35vXY3h9iXGDF2sLTMTZ4QER63yKVoFrJQUpps6bq',
  type: 'copy320',
  trackUUID: '2b481a60-d7e0-41bf-aac8-fd3e088a68ff',
  updatedAt: 2020-03-05T17:32:07.111Z,
  createdAt: 2020-03-05T17:32:07.111Z }
writing to db3...
Executing (3783fdc5-1fe0-4240-84f3-09feea1ba8ff): START TRANSACTION;
Executing (3783fdc5-1fe0-4240-84f3-09feea1ba8ff): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '716a261b-a708-4c4d-82be-a3aff588f5c4' AND "File"."multihash" = 'QmcAD35vXY3h9iXGDF2sLTMTZ4QER63yKVoFrJQUpps6bq' AND "File"."sourceFile" = '5dc51151-bd31-4848-beac-5adae80566a5.mp3' AND "File"."storagePath" = '/file_storage/QmcAD35vXY3h9iXGDF2sLTMTZ4QER63yKVoFrJQUpps6bq' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '2b481a60-d7e0-41bf-aac8-fd3e088a68ff' LIMIT 1;
Executing (3783fdc5-1fe0-4240-84f3-09feea1ba8ff): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_4d0bc6b88a044e93b984322422b6c326$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('e231d7f6-669f-4685-9434-1277f94f7a17','716a261b-a708-4c4d-82be-a3aff588f5c4','2b481a60-d7e0-41bf-aac8-fd3e088a68ff','QmcAD35vXY3h9iXGDF2sLTMTZ4QER63yKVoFrJQUpps6bq','5dc51151-bd31-4848-beac-5adae80566a5.mp3','/file_storage/QmcAD35vXY3h9iXGDF2sLTMTZ4QER63yKVoFrJQUpps6bq','copy320','2020-03-05 17:32:07.550 +00:00','2020-03-05 17:32:07.550 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_4d0bc6b88a044e93b984322422b6c326$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (3783fdc5-1fe0-4240-84f3-09feea1ba8ff): COMMIT;
{ fileUUID: 'e231d7f6-669f-4685-9434-1277f94f7a17',
  cnodeUserUUID: '716a261b-a708-4c4d-82be-a3aff588f5c4',
  multihash: 'QmcAD35vXY3h9iXGDF2sLTMTZ4QER63yKVoFrJQUpps6bq',
  sourceFile: '5dc51151-bd31-4848-beac-5adae80566a5.mp3',
  storagePath:
   '/file_storage/QmcAD35vXY3h9iXGDF2sLTMTZ4QER63yKVoFrJQUpps6bq',
  type: 'copy320',
  trackUUID: '2b481a60-d7e0-41bf-aac8-fd3e088a68ff',
  updatedAt: 2020-03-05T17:32:07.550Z,
  createdAt: 2020-03-05T17:32:07.550Z }




PROCESSING ROW #23: sourcefile: fca2dc1e-8092-4a9f-8e90-ef15395a7f28.mp3, cnodeUserUUID: 635d14bf-a9af-45ef-975f-47ba299fa34c, trackUUID: eb05c735-8bca-48c6-bda0-ea514a266871, multihash: QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM, dstPath: /file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM
writing to db1...
Executing (f643fba4-1843-4a8c-9589-55573e8e41ed): START TRANSACTION;
Executing (f643fba4-1843-4a8c-9589-55573e8e41ed): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '635d14bf-a9af-45ef-975f-47ba299fa34c' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = 'fca2dc1e-8092-4a9f-8e90-ef15395a7f28.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = 'eb05c735-8bca-48c6-bda0-ea514a266871' LIMIT 1;
Executing (f643fba4-1843-4a8c-9589-55573e8e41ed): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_c786a9646dba4c59b62e4da3b8104487$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('cd6661e7-93ef-4bfe-bcf9-400f5911fe75','635d14bf-a9af-45ef-975f-47ba299fa34c','eb05c735-8bca-48c6-bda0-ea514a266871','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','fca2dc1e-8092-4a9f-8e90-ef15395a7f28.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:32:07.973 +00:00','2020-03-05 17:32:07.973 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_c786a9646dba4c59b62e4da3b8104487$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (f643fba4-1843-4a8c-9589-55573e8e41ed): COMMIT;
{ fileUUID: 'cd6661e7-93ef-4bfe-bcf9-400f5911fe75',
  cnodeUserUUID: '635d14bf-a9af-45ef-975f-47ba299fa34c',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: 'fca2dc1e-8092-4a9f-8e90-ef15395a7f28.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: 'eb05c735-8bca-48c6-bda0-ea514a266871',
  updatedAt: 2020-03-05T17:32:07.973Z,
  createdAt: 2020-03-05T17:32:07.973Z }
writing to db2...
Executing (cb09051d-3a91-4cef-9870-a2ba620a30e3): START TRANSACTION;
Executing (cb09051d-3a91-4cef-9870-a2ba620a30e3): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '635d14bf-a9af-45ef-975f-47ba299fa34c' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = 'fca2dc1e-8092-4a9f-8e90-ef15395a7f28.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = 'eb05c735-8bca-48c6-bda0-ea514a266871' LIMIT 1;
Executing (cb09051d-3a91-4cef-9870-a2ba620a30e3): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_1c10658db8d2490ab773b9cc4a73d5b2$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('2f2a0422-c0a4-4913-855a-c9d6ef6022e3','635d14bf-a9af-45ef-975f-47ba299fa34c','eb05c735-8bca-48c6-bda0-ea514a266871','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','fca2dc1e-8092-4a9f-8e90-ef15395a7f28.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:32:08.375 +00:00','2020-03-05 17:32:08.375 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_1c10658db8d2490ab773b9cc4a73d5b2$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (cb09051d-3a91-4cef-9870-a2ba620a30e3): COMMIT;
{ fileUUID: '2f2a0422-c0a4-4913-855a-c9d6ef6022e3',
  cnodeUserUUID: '635d14bf-a9af-45ef-975f-47ba299fa34c',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: 'fca2dc1e-8092-4a9f-8e90-ef15395a7f28.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: 'eb05c735-8bca-48c6-bda0-ea514a266871',
  updatedAt: 2020-03-05T17:32:08.375Z,
  createdAt: 2020-03-05T17:32:08.375Z }
writing to db3...
Executing (d6f6ae00-76e0-499c-a950-8e4988bbd9d3): START TRANSACTION;
Executing (d6f6ae00-76e0-499c-a950-8e4988bbd9d3): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '635d14bf-a9af-45ef-975f-47ba299fa34c' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = 'fca2dc1e-8092-4a9f-8e90-ef15395a7f28.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = 'eb05c735-8bca-48c6-bda0-ea514a266871' LIMIT 1;
Executing (d6f6ae00-76e0-499c-a950-8e4988bbd9d3): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_77d15bba7d9843dca7943c24e932f599$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('7d13389d-2d67-436b-b19e-f72bcf7cc5d2','635d14bf-a9af-45ef-975f-47ba299fa34c','eb05c735-8bca-48c6-bda0-ea514a266871','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','fca2dc1e-8092-4a9f-8e90-ef15395a7f28.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:32:08.790 +00:00','2020-03-05 17:32:08.790 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_77d15bba7d9843dca7943c24e932f599$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (d6f6ae00-76e0-499c-a950-8e4988bbd9d3): COMMIT;
{ fileUUID: '7d13389d-2d67-436b-b19e-f72bcf7cc5d2',
  cnodeUserUUID: '635d14bf-a9af-45ef-975f-47ba299fa34c',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: 'fca2dc1e-8092-4a9f-8e90-ef15395a7f28.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: 'eb05c735-8bca-48c6-bda0-ea514a266871',
  updatedAt: 2020-03-05T17:32:08.790Z,
  createdAt: 2020-03-05T17:32:08.790Z }




PROCESSING ROW #24: sourcefile: bca4ff7a-552a-4205-9b9d-8e75023fcd61.mp3, cnodeUserUUID: 4288f3ec-8b17-4313-96eb-1ef6bbf4d6b4, trackUUID: feef417f-258c-499a-a7c9-ae15d4816158, multihash: QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM, dstPath: /file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM
writing to db1...
Executing (93c64695-58a4-490f-828e-a3109de04451): START TRANSACTION;
Executing (93c64695-58a4-490f-828e-a3109de04451): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '4288f3ec-8b17-4313-96eb-1ef6bbf4d6b4' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = 'bca4ff7a-552a-4205-9b9d-8e75023fcd61.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = 'feef417f-258c-499a-a7c9-ae15d4816158' LIMIT 1;
Executing (93c64695-58a4-490f-828e-a3109de04451): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_37474dc444324dfe8b97d123870de279$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('da0e895f-e952-4aad-bff4-7834b85e25e3','4288f3ec-8b17-4313-96eb-1ef6bbf4d6b4','feef417f-258c-499a-a7c9-ae15d4816158','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','bca4ff7a-552a-4205-9b9d-8e75023fcd61.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:32:09.191 +00:00','2020-03-05 17:32:09.191 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_37474dc444324dfe8b97d123870de279$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (93c64695-58a4-490f-828e-a3109de04451): COMMIT;
{ fileUUID: 'da0e895f-e952-4aad-bff4-7834b85e25e3',
  cnodeUserUUID: '4288f3ec-8b17-4313-96eb-1ef6bbf4d6b4',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: 'bca4ff7a-552a-4205-9b9d-8e75023fcd61.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: 'feef417f-258c-499a-a7c9-ae15d4816158',
  updatedAt: 2020-03-05T17:32:09.191Z,
  createdAt: 2020-03-05T17:32:09.191Z }
writing to db2...
Executing (3e4a784d-2f6f-4017-8df6-f60bdd820c22): START TRANSACTION;
Executing (3e4a784d-2f6f-4017-8df6-f60bdd820c22): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '4288f3ec-8b17-4313-96eb-1ef6bbf4d6b4' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = 'bca4ff7a-552a-4205-9b9d-8e75023fcd61.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = 'feef417f-258c-499a-a7c9-ae15d4816158' LIMIT 1;
Executing (3e4a784d-2f6f-4017-8df6-f60bdd820c22): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_5168c5952dd044bba21f7610a0db95bc$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('257af7c6-dd92-4ad5-9f26-b20f4b7ca6e1','4288f3ec-8b17-4313-96eb-1ef6bbf4d6b4','feef417f-258c-499a-a7c9-ae15d4816158','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','bca4ff7a-552a-4205-9b9d-8e75023fcd61.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:32:09.587 +00:00','2020-03-05 17:32:09.587 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_5168c5952dd044bba21f7610a0db95bc$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (3e4a784d-2f6f-4017-8df6-f60bdd820c22): COMMIT;
{ fileUUID: '257af7c6-dd92-4ad5-9f26-b20f4b7ca6e1',
  cnodeUserUUID: '4288f3ec-8b17-4313-96eb-1ef6bbf4d6b4',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: 'bca4ff7a-552a-4205-9b9d-8e75023fcd61.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: 'feef417f-258c-499a-a7c9-ae15d4816158',
  updatedAt: 2020-03-05T17:32:09.587Z,
  createdAt: 2020-03-05T17:32:09.587Z }
writing to db3...
Executing (780e2219-de26-4b0f-b49d-bf880cd35ccf): START TRANSACTION;
Executing (780e2219-de26-4b0f-b49d-bf880cd35ccf): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '4288f3ec-8b17-4313-96eb-1ef6bbf4d6b4' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = 'bca4ff7a-552a-4205-9b9d-8e75023fcd61.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = 'feef417f-258c-499a-a7c9-ae15d4816158' LIMIT 1;
Executing (780e2219-de26-4b0f-b49d-bf880cd35ccf): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_114e73d9bb454397b39520fdd0ea398a$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('962d9f81-2078-4dfa-a882-be9d6c3652a5','4288f3ec-8b17-4313-96eb-1ef6bbf4d6b4','feef417f-258c-499a-a7c9-ae15d4816158','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','bca4ff7a-552a-4205-9b9d-8e75023fcd61.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:32:09.993 +00:00','2020-03-05 17:32:09.993 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_114e73d9bb454397b39520fdd0ea398a$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (780e2219-de26-4b0f-b49d-bf880cd35ccf): COMMIT;
{ fileUUID: '962d9f81-2078-4dfa-a882-be9d6c3652a5',
  cnodeUserUUID: '4288f3ec-8b17-4313-96eb-1ef6bbf4d6b4',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: 'bca4ff7a-552a-4205-9b9d-8e75023fcd61.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: 'feef417f-258c-499a-a7c9-ae15d4816158',
  updatedAt: 2020-03-05T17:32:09.993Z,
  createdAt: 2020-03-05T17:32:09.993Z }




PROCESSING ROW #25: sourcefile: 6e11cf21-5193-432c-b003-9bcbda58a707.mp3, cnodeUserUUID: ccb912dc-77d6-4ec5-ba4b-3317ec7f4886, trackUUID: fd749f43-5279-4e64-b5d2-ebd33c218753, multihash: QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM, dstPath: /file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM
writing to db1...
Executing (f948d093-58f4-4e3f-9252-1d4bac6b1324): START TRANSACTION;
Executing (f948d093-58f4-4e3f-9252-1d4bac6b1324): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = 'ccb912dc-77d6-4ec5-ba4b-3317ec7f4886' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = '6e11cf21-5193-432c-b003-9bcbda58a707.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = 'fd749f43-5279-4e64-b5d2-ebd33c218753' LIMIT 1;
Executing (f948d093-58f4-4e3f-9252-1d4bac6b1324): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_45c5b26f4ae14df5b9c4c5a58a970c5d$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('539ff1dc-f012-4f19-a9d5-296be19ad9ab','ccb912dc-77d6-4ec5-ba4b-3317ec7f4886','fd749f43-5279-4e64-b5d2-ebd33c218753','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','6e11cf21-5193-432c-b003-9bcbda58a707.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:32:10.412 +00:00','2020-03-05 17:32:10.412 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_45c5b26f4ae14df5b9c4c5a58a970c5d$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (f948d093-58f4-4e3f-9252-1d4bac6b1324): COMMIT;
{ fileUUID: '539ff1dc-f012-4f19-a9d5-296be19ad9ab',
  cnodeUserUUID: 'ccb912dc-77d6-4ec5-ba4b-3317ec7f4886',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: '6e11cf21-5193-432c-b003-9bcbda58a707.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: 'fd749f43-5279-4e64-b5d2-ebd33c218753',
  updatedAt: 2020-03-05T17:32:10.412Z,
  createdAt: 2020-03-05T17:32:10.412Z }
writing to db2...
Executing (a3e46faa-7a47-4fc3-a987-0e296fd17892): START TRANSACTION;
Executing (a3e46faa-7a47-4fc3-a987-0e296fd17892): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = 'ccb912dc-77d6-4ec5-ba4b-3317ec7f4886' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = '6e11cf21-5193-432c-b003-9bcbda58a707.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = 'fd749f43-5279-4e64-b5d2-ebd33c218753' LIMIT 1;
Executing (a3e46faa-7a47-4fc3-a987-0e296fd17892): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_b42c6a8c4a4542ee82a2f0606030b03b$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('b256426a-a93a-4686-87b3-ac6965a197fc','ccb912dc-77d6-4ec5-ba4b-3317ec7f4886','fd749f43-5279-4e64-b5d2-ebd33c218753','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','6e11cf21-5193-432c-b003-9bcbda58a707.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:32:10.822 +00:00','2020-03-05 17:32:10.822 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_b42c6a8c4a4542ee82a2f0606030b03b$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (a3e46faa-7a47-4fc3-a987-0e296fd17892): COMMIT;
{ fileUUID: 'b256426a-a93a-4686-87b3-ac6965a197fc',
  cnodeUserUUID: 'ccb912dc-77d6-4ec5-ba4b-3317ec7f4886',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: '6e11cf21-5193-432c-b003-9bcbda58a707.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: 'fd749f43-5279-4e64-b5d2-ebd33c218753',
  updatedAt: 2020-03-05T17:32:10.822Z,
  createdAt: 2020-03-05T17:32:10.822Z }
writing to db3...
Executing (142caf55-c0e2-4cd3-96df-8e434a6c86d8): START TRANSACTION;
Executing (142caf55-c0e2-4cd3-96df-8e434a6c86d8): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = 'ccb912dc-77d6-4ec5-ba4b-3317ec7f4886' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = '6e11cf21-5193-432c-b003-9bcbda58a707.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = 'fd749f43-5279-4e64-b5d2-ebd33c218753' LIMIT 1;
Executing (142caf55-c0e2-4cd3-96df-8e434a6c86d8): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_bccedb15dd5d47caa0a0f6a3efc0f3a5$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('0d7d644e-fb53-4063-85a2-8248e03ce216','ccb912dc-77d6-4ec5-ba4b-3317ec7f4886','fd749f43-5279-4e64-b5d2-ebd33c218753','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','6e11cf21-5193-432c-b003-9bcbda58a707.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:32:11.248 +00:00','2020-03-05 17:32:11.248 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_bccedb15dd5d47caa0a0f6a3efc0f3a5$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (142caf55-c0e2-4cd3-96df-8e434a6c86d8): COMMIT;
{ fileUUID: '0d7d644e-fb53-4063-85a2-8248e03ce216',
  cnodeUserUUID: 'ccb912dc-77d6-4ec5-ba4b-3317ec7f4886',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: '6e11cf21-5193-432c-b003-9bcbda58a707.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: 'fd749f43-5279-4e64-b5d2-ebd33c218753',
  updatedAt: 2020-03-05T17:32:11.248Z,
  createdAt: 2020-03-05T17:32:11.248Z }




PROCESSING ROW #26: sourcefile: 6ce7ea1e-2989-4d8c-a7ca-6c9d1b1e04bc.mp3, cnodeUserUUID: 4331fbe7-c084-4a51-92c8-778328ff7bf6, trackUUID: e3d2dba4-9cd1-4e3a-8c68-3266227e574c, multihash: Qmaz9skDZJda6mHRYwezeEKUfwhVVVrR8vXVcg3jSEWo4D, dstPath: /file_storage/Qmaz9skDZJda6mHRYwezeEKUfwhVVVrR8vXVcg3jSEWo4D
writing to db1...
Executing (cf15a91a-92de-4afb-aa95-5136c18e621a): START TRANSACTION;
Executing (cf15a91a-92de-4afb-aa95-5136c18e621a): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '4331fbe7-c084-4a51-92c8-778328ff7bf6' AND "File"."multihash" = 'Qmaz9skDZJda6mHRYwezeEKUfwhVVVrR8vXVcg3jSEWo4D' AND "File"."sourceFile" = '6ce7ea1e-2989-4d8c-a7ca-6c9d1b1e04bc.mp3' AND "File"."storagePath" = '/file_storage/Qmaz9skDZJda6mHRYwezeEKUfwhVVVrR8vXVcg3jSEWo4D' AND "File"."type" = 'copy320' AND "File"."trackUUID" = 'e3d2dba4-9cd1-4e3a-8c68-3266227e574c' LIMIT 1;
Executing (cf15a91a-92de-4afb-aa95-5136c18e621a): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_5e4a9f9b15c04045a9c8029b44aac0a8$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('4955034c-f266-4966-9b5a-29bfcaf6923a','4331fbe7-c084-4a51-92c8-778328ff7bf6','e3d2dba4-9cd1-4e3a-8c68-3266227e574c','Qmaz9skDZJda6mHRYwezeEKUfwhVVVrR8vXVcg3jSEWo4D','6ce7ea1e-2989-4d8c-a7ca-6c9d1b1e04bc.mp3','/file_storage/Qmaz9skDZJda6mHRYwezeEKUfwhVVVrR8vXVcg3jSEWo4D','copy320','2020-03-05 17:32:11.649 +00:00','2020-03-05 17:32:11.649 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_5e4a9f9b15c04045a9c8029b44aac0a8$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (cf15a91a-92de-4afb-aa95-5136c18e621a): COMMIT;
{ fileUUID: '4955034c-f266-4966-9b5a-29bfcaf6923a',
  cnodeUserUUID: '4331fbe7-c084-4a51-92c8-778328ff7bf6',
  multihash: 'Qmaz9skDZJda6mHRYwezeEKUfwhVVVrR8vXVcg3jSEWo4D',
  sourceFile: '6ce7ea1e-2989-4d8c-a7ca-6c9d1b1e04bc.mp3',
  storagePath:
   '/file_storage/Qmaz9skDZJda6mHRYwezeEKUfwhVVVrR8vXVcg3jSEWo4D',
  type: 'copy320',
  trackUUID: 'e3d2dba4-9cd1-4e3a-8c68-3266227e574c',
  updatedAt: 2020-03-05T17:32:11.649Z,
  createdAt: 2020-03-05T17:32:11.649Z }
writing to db2...
Executing (76200b13-eaca-4995-8b1c-5ab091d252b5): START TRANSACTION;
Executing (76200b13-eaca-4995-8b1c-5ab091d252b5): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '4331fbe7-c084-4a51-92c8-778328ff7bf6' AND "File"."multihash" = 'Qmaz9skDZJda6mHRYwezeEKUfwhVVVrR8vXVcg3jSEWo4D' AND "File"."sourceFile" = '6ce7ea1e-2989-4d8c-a7ca-6c9d1b1e04bc.mp3' AND "File"."storagePath" = '/file_storage/Qmaz9skDZJda6mHRYwezeEKUfwhVVVrR8vXVcg3jSEWo4D' AND "File"."type" = 'copy320' AND "File"."trackUUID" = 'e3d2dba4-9cd1-4e3a-8c68-3266227e574c' LIMIT 1;
Executing (76200b13-eaca-4995-8b1c-5ab091d252b5): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_371b4117992c443fb839413a1f588e4b$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('e038c7fd-1b9a-46af-99e4-8eb60d76c8ec','4331fbe7-c084-4a51-92c8-778328ff7bf6','e3d2dba4-9cd1-4e3a-8c68-3266227e574c','Qmaz9skDZJda6mHRYwezeEKUfwhVVVrR8vXVcg3jSEWo4D','6ce7ea1e-2989-4d8c-a7ca-6c9d1b1e04bc.mp3','/file_storage/Qmaz9skDZJda6mHRYwezeEKUfwhVVVrR8vXVcg3jSEWo4D','copy320','2020-03-05 17:32:12.046 +00:00','2020-03-05 17:32:12.046 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_371b4117992c443fb839413a1f588e4b$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (76200b13-eaca-4995-8b1c-5ab091d252b5): COMMIT;
{ fileUUID: 'e038c7fd-1b9a-46af-99e4-8eb60d76c8ec',
  cnodeUserUUID: '4331fbe7-c084-4a51-92c8-778328ff7bf6',
  multihash: 'Qmaz9skDZJda6mHRYwezeEKUfwhVVVrR8vXVcg3jSEWo4D',
  sourceFile: '6ce7ea1e-2989-4d8c-a7ca-6c9d1b1e04bc.mp3',
  storagePath:
   '/file_storage/Qmaz9skDZJda6mHRYwezeEKUfwhVVVrR8vXVcg3jSEWo4D',
  type: 'copy320',
  trackUUID: 'e3d2dba4-9cd1-4e3a-8c68-3266227e574c',
  updatedAt: 2020-03-05T17:32:12.046Z,
  createdAt: 2020-03-05T17:32:12.046Z }
writing to db3...
Executing (e05f1abd-3659-45b2-8a95-a0256f876776): START TRANSACTION;
Executing (e05f1abd-3659-45b2-8a95-a0256f876776): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '4331fbe7-c084-4a51-92c8-778328ff7bf6' AND "File"."multihash" = 'Qmaz9skDZJda6mHRYwezeEKUfwhVVVrR8vXVcg3jSEWo4D' AND "File"."sourceFile" = '6ce7ea1e-2989-4d8c-a7ca-6c9d1b1e04bc.mp3' AND "File"."storagePath" = '/file_storage/Qmaz9skDZJda6mHRYwezeEKUfwhVVVrR8vXVcg3jSEWo4D' AND "File"."type" = 'copy320' AND "File"."trackUUID" = 'e3d2dba4-9cd1-4e3a-8c68-3266227e574c' LIMIT 1;
Executing (e05f1abd-3659-45b2-8a95-a0256f876776): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_a8d796f5c8af46c7b25372995a4df280$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('68fb16d0-d876-456d-8e86-8db40e7da9fe','4331fbe7-c084-4a51-92c8-778328ff7bf6','e3d2dba4-9cd1-4e3a-8c68-3266227e574c','Qmaz9skDZJda6mHRYwezeEKUfwhVVVrR8vXVcg3jSEWo4D','6ce7ea1e-2989-4d8c-a7ca-6c9d1b1e04bc.mp3','/file_storage/Qmaz9skDZJda6mHRYwezeEKUfwhVVVrR8vXVcg3jSEWo4D','copy320','2020-03-05 17:32:12.457 +00:00','2020-03-05 17:32:12.457 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_a8d796f5c8af46c7b25372995a4df280$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (e05f1abd-3659-45b2-8a95-a0256f876776): COMMIT;
{ fileUUID: '68fb16d0-d876-456d-8e86-8db40e7da9fe',
  cnodeUserUUID: '4331fbe7-c084-4a51-92c8-778328ff7bf6',
  multihash: 'Qmaz9skDZJda6mHRYwezeEKUfwhVVVrR8vXVcg3jSEWo4D',
  sourceFile: '6ce7ea1e-2989-4d8c-a7ca-6c9d1b1e04bc.mp3',
  storagePath:
   '/file_storage/Qmaz9skDZJda6mHRYwezeEKUfwhVVVrR8vXVcg3jSEWo4D',
  type: 'copy320',
  trackUUID: 'e3d2dba4-9cd1-4e3a-8c68-3266227e574c',
  updatedAt: 2020-03-05T17:32:12.457Z,
  createdAt: 2020-03-05T17:32:12.457Z }




PROCESSING ROW #27: sourcefile: 4a2b3078-2fc1-49c0-b5e5-c880dff5d92d.mp3, cnodeUserUUID: 1350147d-276f-4221-8c54-a597192c1ed9, trackUUID: 278c77c3-6559-406c-9652-ec059412b9bd, multihash: QmSRhV8Jb478mEqnTkv4sT4HyK2aE3MzhGAfL5jRSqcMVk, dstPath: /file_storage/QmSRhV8Jb478mEqnTkv4sT4HyK2aE3MzhGAfL5jRSqcMVk
writing to db1...
Executing (8d2a4266-9ec2-4271-b1d5-a34a2b2e3565): START TRANSACTION;
Executing (8d2a4266-9ec2-4271-b1d5-a34a2b2e3565): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '1350147d-276f-4221-8c54-a597192c1ed9' AND "File"."multihash" = 'QmSRhV8Jb478mEqnTkv4sT4HyK2aE3MzhGAfL5jRSqcMVk' AND "File"."sourceFile" = '4a2b3078-2fc1-49c0-b5e5-c880dff5d92d.mp3' AND "File"."storagePath" = '/file_storage/QmSRhV8Jb478mEqnTkv4sT4HyK2aE3MzhGAfL5jRSqcMVk' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '278c77c3-6559-406c-9652-ec059412b9bd' LIMIT 1;
Executing (8d2a4266-9ec2-4271-b1d5-a34a2b2e3565): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_bdac71c7de024631a75328fbbd0b0521$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('53d925ee-25fb-4902-8a17-a62f2a92f44e','1350147d-276f-4221-8c54-a597192c1ed9','278c77c3-6559-406c-9652-ec059412b9bd','QmSRhV8Jb478mEqnTkv4sT4HyK2aE3MzhGAfL5jRSqcMVk','4a2b3078-2fc1-49c0-b5e5-c880dff5d92d.mp3','/file_storage/QmSRhV8Jb478mEqnTkv4sT4HyK2aE3MzhGAfL5jRSqcMVk','copy320','2020-03-05 17:32:12.878 +00:00','2020-03-05 17:32:12.878 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_bdac71c7de024631a75328fbbd0b0521$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (8d2a4266-9ec2-4271-b1d5-a34a2b2e3565): COMMIT;
{ fileUUID: '53d925ee-25fb-4902-8a17-a62f2a92f44e',
  cnodeUserUUID: '1350147d-276f-4221-8c54-a597192c1ed9',
  multihash: 'QmSRhV8Jb478mEqnTkv4sT4HyK2aE3MzhGAfL5jRSqcMVk',
  sourceFile: '4a2b3078-2fc1-49c0-b5e5-c880dff5d92d.mp3',
  storagePath:
   '/file_storage/QmSRhV8Jb478mEqnTkv4sT4HyK2aE3MzhGAfL5jRSqcMVk',
  type: 'copy320',
  trackUUID: '278c77c3-6559-406c-9652-ec059412b9bd',
  updatedAt: 2020-03-05T17:32:12.878Z,
  createdAt: 2020-03-05T17:32:12.878Z }
writing to db2...
Executing (c2646151-bf10-4141-864b-26585d655d58): START TRANSACTION;
Executing (c2646151-bf10-4141-864b-26585d655d58): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '1350147d-276f-4221-8c54-a597192c1ed9' AND "File"."multihash" = 'QmSRhV8Jb478mEqnTkv4sT4HyK2aE3MzhGAfL5jRSqcMVk' AND "File"."sourceFile" = '4a2b3078-2fc1-49c0-b5e5-c880dff5d92d.mp3' AND "File"."storagePath" = '/file_storage/QmSRhV8Jb478mEqnTkv4sT4HyK2aE3MzhGAfL5jRSqcMVk' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '278c77c3-6559-406c-9652-ec059412b9bd' LIMIT 1;
Executing (c2646151-bf10-4141-864b-26585d655d58): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_b128e55a41ba448788a3ec70cbe68575$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('5974c40d-860e-4e4e-b5c5-ce362e2010d9','1350147d-276f-4221-8c54-a597192c1ed9','278c77c3-6559-406c-9652-ec059412b9bd','QmSRhV8Jb478mEqnTkv4sT4HyK2aE3MzhGAfL5jRSqcMVk','4a2b3078-2fc1-49c0-b5e5-c880dff5d92d.mp3','/file_storage/QmSRhV8Jb478mEqnTkv4sT4HyK2aE3MzhGAfL5jRSqcMVk','copy320','2020-03-05 17:32:13.282 +00:00','2020-03-05 17:32:13.282 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_b128e55a41ba448788a3ec70cbe68575$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (c2646151-bf10-4141-864b-26585d655d58): COMMIT;
{ fileUUID: '5974c40d-860e-4e4e-b5c5-ce362e2010d9',
  cnodeUserUUID: '1350147d-276f-4221-8c54-a597192c1ed9',
  multihash: 'QmSRhV8Jb478mEqnTkv4sT4HyK2aE3MzhGAfL5jRSqcMVk',
  sourceFile: '4a2b3078-2fc1-49c0-b5e5-c880dff5d92d.mp3',
  storagePath:
   '/file_storage/QmSRhV8Jb478mEqnTkv4sT4HyK2aE3MzhGAfL5jRSqcMVk',
  type: 'copy320',
  trackUUID: '278c77c3-6559-406c-9652-ec059412b9bd',
  updatedAt: 2020-03-05T17:32:13.282Z,
  createdAt: 2020-03-05T17:32:13.282Z }
writing to db3...
Executing (2642748e-9cb4-4815-9c3b-9051026e00be): START TRANSACTION;
Executing (2642748e-9cb4-4815-9c3b-9051026e00be): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '1350147d-276f-4221-8c54-a597192c1ed9' AND "File"."multihash" = 'QmSRhV8Jb478mEqnTkv4sT4HyK2aE3MzhGAfL5jRSqcMVk' AND "File"."sourceFile" = '4a2b3078-2fc1-49c0-b5e5-c880dff5d92d.mp3' AND "File"."storagePath" = '/file_storage/QmSRhV8Jb478mEqnTkv4sT4HyK2aE3MzhGAfL5jRSqcMVk' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '278c77c3-6559-406c-9652-ec059412b9bd' LIMIT 1;
Executing (2642748e-9cb4-4815-9c3b-9051026e00be): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_799b0d76d9534f6ab07f04d57b2e2fef$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('f59679e9-9ef3-443c-b8ec-15a589dbed40','1350147d-276f-4221-8c54-a597192c1ed9','278c77c3-6559-406c-9652-ec059412b9bd','QmSRhV8Jb478mEqnTkv4sT4HyK2aE3MzhGAfL5jRSqcMVk','4a2b3078-2fc1-49c0-b5e5-c880dff5d92d.mp3','/file_storage/QmSRhV8Jb478mEqnTkv4sT4HyK2aE3MzhGAfL5jRSqcMVk','copy320','2020-03-05 17:32:13.676 +00:00','2020-03-05 17:32:13.676 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_799b0d76d9534f6ab07f04d57b2e2fef$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (2642748e-9cb4-4815-9c3b-9051026e00be): COMMIT;
{ fileUUID: 'f59679e9-9ef3-443c-b8ec-15a589dbed40',
  cnodeUserUUID: '1350147d-276f-4221-8c54-a597192c1ed9',
  multihash: 'QmSRhV8Jb478mEqnTkv4sT4HyK2aE3MzhGAfL5jRSqcMVk',
  sourceFile: '4a2b3078-2fc1-49c0-b5e5-c880dff5d92d.mp3',
  storagePath:
   '/file_storage/QmSRhV8Jb478mEqnTkv4sT4HyK2aE3MzhGAfL5jRSqcMVk',
  type: 'copy320',
  trackUUID: '278c77c3-6559-406c-9652-ec059412b9bd',
  updatedAt: 2020-03-05T17:32:13.676Z,
  createdAt: 2020-03-05T17:32:13.676Z }




PROCESSING ROW #28: sourcefile: 1aa7433f-65d6-4255-818c-37bc38ed93c8.mp3, cnodeUserUUID: c83b7a56-7c66-4f8f-bbfb-11d56c244457, trackUUID: 4369bdc3-cd47-4865-92b0-dfca11a3680b, multihash: QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM, dstPath: /file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM
writing to db1...
Executing (0e47a181-b42e-4cfd-aca1-7a49fad06fb8): START TRANSACTION;
Executing (0e47a181-b42e-4cfd-aca1-7a49fad06fb8): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = 'c83b7a56-7c66-4f8f-bbfb-11d56c244457' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = '1aa7433f-65d6-4255-818c-37bc38ed93c8.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '4369bdc3-cd47-4865-92b0-dfca11a3680b' LIMIT 1;
Executing (0e47a181-b42e-4cfd-aca1-7a49fad06fb8): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_e2046257472f452c974436b9b2a10e8a$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('3e227980-80e3-449a-adf4-7dd3e0737468','c83b7a56-7c66-4f8f-bbfb-11d56c244457','4369bdc3-cd47-4865-92b0-dfca11a3680b','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','1aa7433f-65d6-4255-818c-37bc38ed93c8.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:32:14.095 +00:00','2020-03-05 17:32:14.095 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_e2046257472f452c974436b9b2a10e8a$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (0e47a181-b42e-4cfd-aca1-7a49fad06fb8): COMMIT;
{ fileUUID: '3e227980-80e3-449a-adf4-7dd3e0737468',
  cnodeUserUUID: 'c83b7a56-7c66-4f8f-bbfb-11d56c244457',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: '1aa7433f-65d6-4255-818c-37bc38ed93c8.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: '4369bdc3-cd47-4865-92b0-dfca11a3680b',
  updatedAt: 2020-03-05T17:32:14.095Z,
  createdAt: 2020-03-05T17:32:14.095Z }
writing to db2...
Executing (f3a1ae18-0e27-45b4-8879-dce3560b3a7d): START TRANSACTION;
Executing (f3a1ae18-0e27-45b4-8879-dce3560b3a7d): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = 'c83b7a56-7c66-4f8f-bbfb-11d56c244457' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = '1aa7433f-65d6-4255-818c-37bc38ed93c8.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '4369bdc3-cd47-4865-92b0-dfca11a3680b' LIMIT 1;
Executing (f3a1ae18-0e27-45b4-8879-dce3560b3a7d): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_69234d82ff46462cb00d7eee623a2fc0$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('f96c767e-9553-47d3-b146-618225c39215','c83b7a56-7c66-4f8f-bbfb-11d56c244457','4369bdc3-cd47-4865-92b0-dfca11a3680b','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','1aa7433f-65d6-4255-818c-37bc38ed93c8.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:32:14.498 +00:00','2020-03-05 17:32:14.498 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_69234d82ff46462cb00d7eee623a2fc0$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (f3a1ae18-0e27-45b4-8879-dce3560b3a7d): COMMIT;
{ fileUUID: 'f96c767e-9553-47d3-b146-618225c39215',
  cnodeUserUUID: 'c83b7a56-7c66-4f8f-bbfb-11d56c244457',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: '1aa7433f-65d6-4255-818c-37bc38ed93c8.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: '4369bdc3-cd47-4865-92b0-dfca11a3680b',
  updatedAt: 2020-03-05T17:32:14.498Z,
  createdAt: 2020-03-05T17:32:14.498Z }
writing to db3...
Executing (90742cb1-8727-47c1-b83e-dc2ab1b48323): START TRANSACTION;
Executing (90742cb1-8727-47c1-b83e-dc2ab1b48323): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = 'c83b7a56-7c66-4f8f-bbfb-11d56c244457' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = '1aa7433f-65d6-4255-818c-37bc38ed93c8.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '4369bdc3-cd47-4865-92b0-dfca11a3680b' LIMIT 1;
Executing (90742cb1-8727-47c1-b83e-dc2ab1b48323): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_c4095c30f5734a41a0108e3e1a332eae$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('dd3be389-7908-430a-98b9-649bdeaeeef0','c83b7a56-7c66-4f8f-bbfb-11d56c244457','4369bdc3-cd47-4865-92b0-dfca11a3680b','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','1aa7433f-65d6-4255-818c-37bc38ed93c8.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:32:14.924 +00:00','2020-03-05 17:32:14.924 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_c4095c30f5734a41a0108e3e1a332eae$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (90742cb1-8727-47c1-b83e-dc2ab1b48323): COMMIT;
{ fileUUID: 'dd3be389-7908-430a-98b9-649bdeaeeef0',
  cnodeUserUUID: 'c83b7a56-7c66-4f8f-bbfb-11d56c244457',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: '1aa7433f-65d6-4255-818c-37bc38ed93c8.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: '4369bdc3-cd47-4865-92b0-dfca11a3680b',
  updatedAt: 2020-03-05T17:32:14.924Z,
  createdAt: 2020-03-05T17:32:14.924Z }




PROCESSING ROW #29: sourcefile: 8c75de9c-40ce-4d20-b3c3-f59171c465fd.mp3, cnodeUserUUID: 8aefd2ee-77ea-4c0c-9ee3-cb64d794e399, trackUUID: e96ef698-c4b0-4d09-8dea-c48268edd667, multihash: QmcAD35vXY3h9iXGDF2sLTMTZ4QER63yKVoFrJQUpps6bq, dstPath: /file_storage/QmcAD35vXY3h9iXGDF2sLTMTZ4QER63yKVoFrJQUpps6bq
writing to db1...
Executing (2bf4f924-52cb-4a93-9c1c-0312dfc22762): START TRANSACTION;
Executing (2bf4f924-52cb-4a93-9c1c-0312dfc22762): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '8aefd2ee-77ea-4c0c-9ee3-cb64d794e399' AND "File"."multihash" = 'QmcAD35vXY3h9iXGDF2sLTMTZ4QER63yKVoFrJQUpps6bq' AND "File"."sourceFile" = '8c75de9c-40ce-4d20-b3c3-f59171c465fd.mp3' AND "File"."storagePath" = '/file_storage/QmcAD35vXY3h9iXGDF2sLTMTZ4QER63yKVoFrJQUpps6bq' AND "File"."type" = 'copy320' AND "File"."trackUUID" = 'e96ef698-c4b0-4d09-8dea-c48268edd667' LIMIT 1;
Executing (2bf4f924-52cb-4a93-9c1c-0312dfc22762): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_648209bc2ee44c149bd877230c7386a4$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('b0679e7c-019a-47cb-ac5c-3a214e440f39','8aefd2ee-77ea-4c0c-9ee3-cb64d794e399','e96ef698-c4b0-4d09-8dea-c48268edd667','QmcAD35vXY3h9iXGDF2sLTMTZ4QER63yKVoFrJQUpps6bq','8c75de9c-40ce-4d20-b3c3-f59171c465fd.mp3','/file_storage/QmcAD35vXY3h9iXGDF2sLTMTZ4QER63yKVoFrJQUpps6bq','copy320','2020-03-05 17:32:15.336 +00:00','2020-03-05 17:32:15.336 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_648209bc2ee44c149bd877230c7386a4$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (2bf4f924-52cb-4a93-9c1c-0312dfc22762): COMMIT;
{ fileUUID: 'b0679e7c-019a-47cb-ac5c-3a214e440f39',
  cnodeUserUUID: '8aefd2ee-77ea-4c0c-9ee3-cb64d794e399',
  multihash: 'QmcAD35vXY3h9iXGDF2sLTMTZ4QER63yKVoFrJQUpps6bq',
  sourceFile: '8c75de9c-40ce-4d20-b3c3-f59171c465fd.mp3',
  storagePath:
   '/file_storage/QmcAD35vXY3h9iXGDF2sLTMTZ4QER63yKVoFrJQUpps6bq',
  type: 'copy320',
  trackUUID: 'e96ef698-c4b0-4d09-8dea-c48268edd667',
  updatedAt: 2020-03-05T17:32:15.336Z,
  createdAt: 2020-03-05T17:32:15.336Z }
writing to db2...
Executing (5bff43f5-9d5a-4650-b02f-d41c9233f9bc): START TRANSACTION;
Executing (5bff43f5-9d5a-4650-b02f-d41c9233f9bc): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '8aefd2ee-77ea-4c0c-9ee3-cb64d794e399' AND "File"."multihash" = 'QmcAD35vXY3h9iXGDF2sLTMTZ4QER63yKVoFrJQUpps6bq' AND "File"."sourceFile" = '8c75de9c-40ce-4d20-b3c3-f59171c465fd.mp3' AND "File"."storagePath" = '/file_storage/QmcAD35vXY3h9iXGDF2sLTMTZ4QER63yKVoFrJQUpps6bq' AND "File"."type" = 'copy320' AND "File"."trackUUID" = 'e96ef698-c4b0-4d09-8dea-c48268edd667' LIMIT 1;
Executing (5bff43f5-9d5a-4650-b02f-d41c9233f9bc): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_9409f574a8314729bf23f7f94afa88aa$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('cee5e841-d66c-4999-8379-f694defb5c30','8aefd2ee-77ea-4c0c-9ee3-cb64d794e399','e96ef698-c4b0-4d09-8dea-c48268edd667','QmcAD35vXY3h9iXGDF2sLTMTZ4QER63yKVoFrJQUpps6bq','8c75de9c-40ce-4d20-b3c3-f59171c465fd.mp3','/file_storage/QmcAD35vXY3h9iXGDF2sLTMTZ4QER63yKVoFrJQUpps6bq','copy320','2020-03-05 17:32:15.785 +00:00','2020-03-05 17:32:15.785 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_9409f574a8314729bf23f7f94afa88aa$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (5bff43f5-9d5a-4650-b02f-d41c9233f9bc): COMMIT;
{ fileUUID: 'cee5e841-d66c-4999-8379-f694defb5c30',
  cnodeUserUUID: '8aefd2ee-77ea-4c0c-9ee3-cb64d794e399',
  multihash: 'QmcAD35vXY3h9iXGDF2sLTMTZ4QER63yKVoFrJQUpps6bq',
  sourceFile: '8c75de9c-40ce-4d20-b3c3-f59171c465fd.mp3',
  storagePath:
   '/file_storage/QmcAD35vXY3h9iXGDF2sLTMTZ4QER63yKVoFrJQUpps6bq',
  type: 'copy320',
  trackUUID: 'e96ef698-c4b0-4d09-8dea-c48268edd667',
  updatedAt: 2020-03-05T17:32:15.785Z,
  createdAt: 2020-03-05T17:32:15.785Z }
writing to db3...
Executing (43d6c866-17eb-4e56-8fff-b3b872b628ee): START TRANSACTION;
Executing (43d6c866-17eb-4e56-8fff-b3b872b628ee): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '8aefd2ee-77ea-4c0c-9ee3-cb64d794e399' AND "File"."multihash" = 'QmcAD35vXY3h9iXGDF2sLTMTZ4QER63yKVoFrJQUpps6bq' AND "File"."sourceFile" = '8c75de9c-40ce-4d20-b3c3-f59171c465fd.mp3' AND "File"."storagePath" = '/file_storage/QmcAD35vXY3h9iXGDF2sLTMTZ4QER63yKVoFrJQUpps6bq' AND "File"."type" = 'copy320' AND "File"."trackUUID" = 'e96ef698-c4b0-4d09-8dea-c48268edd667' LIMIT 1;
Executing (43d6c866-17eb-4e56-8fff-b3b872b628ee): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_af1900bdf1024f9cb8d7f538d19c79c6$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('620c95e1-4786-4efd-aeb7-44ae7870de5c','8aefd2ee-77ea-4c0c-9ee3-cb64d794e399','e96ef698-c4b0-4d09-8dea-c48268edd667','QmcAD35vXY3h9iXGDF2sLTMTZ4QER63yKVoFrJQUpps6bq','8c75de9c-40ce-4d20-b3c3-f59171c465fd.mp3','/file_storage/QmcAD35vXY3h9iXGDF2sLTMTZ4QER63yKVoFrJQUpps6bq','copy320','2020-03-05 17:32:16.701 +00:00','2020-03-05 17:32:16.701 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_af1900bdf1024f9cb8d7f538d19c79c6$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (43d6c866-17eb-4e56-8fff-b3b872b628ee): COMMIT;
{ fileUUID: '620c95e1-4786-4efd-aeb7-44ae7870de5c',
  cnodeUserUUID: '8aefd2ee-77ea-4c0c-9ee3-cb64d794e399',
  multihash: 'QmcAD35vXY3h9iXGDF2sLTMTZ4QER63yKVoFrJQUpps6bq',
  sourceFile: '8c75de9c-40ce-4d20-b3c3-f59171c465fd.mp3',
  storagePath:
   '/file_storage/QmcAD35vXY3h9iXGDF2sLTMTZ4QER63yKVoFrJQUpps6bq',
  type: 'copy320',
  trackUUID: 'e96ef698-c4b0-4d09-8dea-c48268edd667',
  updatedAt: 2020-03-05T17:32:16.701Z,
  createdAt: 2020-03-05T17:32:16.701Z }




PROCESSING ROW #30: sourcefile: eabdaa9b-ff60-4498-97f3-f6cc611863b8.mp3, cnodeUserUUID: 07f70e7c-b2ae-4d67-bfb3-6e33620531f3, trackUUID: 98ad7557-7253-4ee1-961d-6bacbcb785a3, multihash: QmZdYWP8QKg3sRnDnaNszPEyXLPG5p1CKpvTqEAxNmUK3f, dstPath: /file_storage/QmZdYWP8QKg3sRnDnaNszPEyXLPG5p1CKpvTqEAxNmUK3f
writing to db1...
Executing (dae256c0-d59f-49d5-8e92-67aacf312860): START TRANSACTION;
Executing (dae256c0-d59f-49d5-8e92-67aacf312860): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '07f70e7c-b2ae-4d67-bfb3-6e33620531f3' AND "File"."multihash" = 'QmZdYWP8QKg3sRnDnaNszPEyXLPG5p1CKpvTqEAxNmUK3f' AND "File"."sourceFile" = 'eabdaa9b-ff60-4498-97f3-f6cc611863b8.mp3' AND "File"."storagePath" = '/file_storage/QmZdYWP8QKg3sRnDnaNszPEyXLPG5p1CKpvTqEAxNmUK3f' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '98ad7557-7253-4ee1-961d-6bacbcb785a3' LIMIT 1;
Executing (dae256c0-d59f-49d5-8e92-67aacf312860): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_03cf1dc5e7d64764ab92c5cf0e9a4b8e$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('645e2a28-d95e-4a9d-954d-40e7dd3fa5e5','07f70e7c-b2ae-4d67-bfb3-6e33620531f3','98ad7557-7253-4ee1-961d-6bacbcb785a3','QmZdYWP8QKg3sRnDnaNszPEyXLPG5p1CKpvTqEAxNmUK3f','eabdaa9b-ff60-4498-97f3-f6cc611863b8.mp3','/file_storage/QmZdYWP8QKg3sRnDnaNszPEyXLPG5p1CKpvTqEAxNmUK3f','copy320','2020-03-05 17:32:17.891 +00:00','2020-03-05 17:32:17.891 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_03cf1dc5e7d64764ab92c5cf0e9a4b8e$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (dae256c0-d59f-49d5-8e92-67aacf312860): COMMIT;
{ fileUUID: '645e2a28-d95e-4a9d-954d-40e7dd3fa5e5',
  cnodeUserUUID: '07f70e7c-b2ae-4d67-bfb3-6e33620531f3',
  multihash: 'QmZdYWP8QKg3sRnDnaNszPEyXLPG5p1CKpvTqEAxNmUK3f',
  sourceFile: 'eabdaa9b-ff60-4498-97f3-f6cc611863b8.mp3',
  storagePath:
   '/file_storage/QmZdYWP8QKg3sRnDnaNszPEyXLPG5p1CKpvTqEAxNmUK3f',
  type: 'copy320',
  trackUUID: '98ad7557-7253-4ee1-961d-6bacbcb785a3',
  updatedAt: 2020-03-05T17:32:17.891Z,
  createdAt: 2020-03-05T17:32:17.891Z }
writing to db2...
Executing (b7e5335e-cf18-46bd-9501-784ea6abcd77): START TRANSACTION;
Executing (b7e5335e-cf18-46bd-9501-784ea6abcd77): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '07f70e7c-b2ae-4d67-bfb3-6e33620531f3' AND "File"."multihash" = 'QmZdYWP8QKg3sRnDnaNszPEyXLPG5p1CKpvTqEAxNmUK3f' AND "File"."sourceFile" = 'eabdaa9b-ff60-4498-97f3-f6cc611863b8.mp3' AND "File"."storagePath" = '/file_storage/QmZdYWP8QKg3sRnDnaNszPEyXLPG5p1CKpvTqEAxNmUK3f' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '98ad7557-7253-4ee1-961d-6bacbcb785a3' LIMIT 1;
Executing (b7e5335e-cf18-46bd-9501-784ea6abcd77): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_e30f1f0e47614dd7b7df25b4533c0c69$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('65f24407-7985-44dd-abff-a206b2737812','07f70e7c-b2ae-4d67-bfb3-6e33620531f3','98ad7557-7253-4ee1-961d-6bacbcb785a3','QmZdYWP8QKg3sRnDnaNszPEyXLPG5p1CKpvTqEAxNmUK3f','eabdaa9b-ff60-4498-97f3-f6cc611863b8.mp3','/file_storage/QmZdYWP8QKg3sRnDnaNszPEyXLPG5p1CKpvTqEAxNmUK3f','copy320','2020-03-05 17:32:18.290 +00:00','2020-03-05 17:32:18.290 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_e30f1f0e47614dd7b7df25b4533c0c69$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (b7e5335e-cf18-46bd-9501-784ea6abcd77): COMMIT;
{ fileUUID: '65f24407-7985-44dd-abff-a206b2737812',
  cnodeUserUUID: '07f70e7c-b2ae-4d67-bfb3-6e33620531f3',
  multihash: 'QmZdYWP8QKg3sRnDnaNszPEyXLPG5p1CKpvTqEAxNmUK3f',
  sourceFile: 'eabdaa9b-ff60-4498-97f3-f6cc611863b8.mp3',
  storagePath:
   '/file_storage/QmZdYWP8QKg3sRnDnaNszPEyXLPG5p1CKpvTqEAxNmUK3f',
  type: 'copy320',
  trackUUID: '98ad7557-7253-4ee1-961d-6bacbcb785a3',
  updatedAt: 2020-03-05T17:32:18.290Z,
  createdAt: 2020-03-05T17:32:18.290Z }
writing to db3...
Executing (1f72c743-04b5-45c6-8d8b-875daa97e3bd): START TRANSACTION;
Executing (1f72c743-04b5-45c6-8d8b-875daa97e3bd): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '07f70e7c-b2ae-4d67-bfb3-6e33620531f3' AND "File"."multihash" = 'QmZdYWP8QKg3sRnDnaNszPEyXLPG5p1CKpvTqEAxNmUK3f' AND "File"."sourceFile" = 'eabdaa9b-ff60-4498-97f3-f6cc611863b8.mp3' AND "File"."storagePath" = '/file_storage/QmZdYWP8QKg3sRnDnaNszPEyXLPG5p1CKpvTqEAxNmUK3f' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '98ad7557-7253-4ee1-961d-6bacbcb785a3' LIMIT 1;
Executing (1f72c743-04b5-45c6-8d8b-875daa97e3bd): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_e8bdc266f7a54b9aa42ac112a594bc82$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('60d87440-c11c-4591-bf4e-d0ee9249f6a2','07f70e7c-b2ae-4d67-bfb3-6e33620531f3','98ad7557-7253-4ee1-961d-6bacbcb785a3','QmZdYWP8QKg3sRnDnaNszPEyXLPG5p1CKpvTqEAxNmUK3f','eabdaa9b-ff60-4498-97f3-f6cc611863b8.mp3','/file_storage/QmZdYWP8QKg3sRnDnaNszPEyXLPG5p1CKpvTqEAxNmUK3f','copy320','2020-03-05 17:32:18.743 +00:00','2020-03-05 17:32:18.743 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_e8bdc266f7a54b9aa42ac112a594bc82$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (1f72c743-04b5-45c6-8d8b-875daa97e3bd): COMMIT;
{ fileUUID: '60d87440-c11c-4591-bf4e-d0ee9249f6a2',
  cnodeUserUUID: '07f70e7c-b2ae-4d67-bfb3-6e33620531f3',
  multihash: 'QmZdYWP8QKg3sRnDnaNszPEyXLPG5p1CKpvTqEAxNmUK3f',
  sourceFile: 'eabdaa9b-ff60-4498-97f3-f6cc611863b8.mp3',
  storagePath:
   '/file_storage/QmZdYWP8QKg3sRnDnaNszPEyXLPG5p1CKpvTqEAxNmUK3f',
  type: 'copy320',
  trackUUID: '98ad7557-7253-4ee1-961d-6bacbcb785a3',
  updatedAt: 2020-03-05T17:32:18.743Z,
  createdAt: 2020-03-05T17:32:18.743Z }




PROCESSING ROW #31: sourcefile: 3f76ec4a-f6e4-4c40-b676-170a83875cfe.mp3, cnodeUserUUID: 0e7d5ff3-db73-4581-a84b-3f8912cc7c7a, trackUUID: 1e2ae5a7-7793-48c0-a9b3-5339e4f3c8c4, multihash: QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM, dstPath: /file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM
writing to db1...
Executing (2773b8ad-1239-4e26-b8ea-9b9f57c31a31): START TRANSACTION;
Executing (2773b8ad-1239-4e26-b8ea-9b9f57c31a31): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '0e7d5ff3-db73-4581-a84b-3f8912cc7c7a' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = '3f76ec4a-f6e4-4c40-b676-170a83875cfe.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '1e2ae5a7-7793-48c0-a9b3-5339e4f3c8c4' LIMIT 1;
Executing (2773b8ad-1239-4e26-b8ea-9b9f57c31a31): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_7efd2d7e039f4e3b93ca396f3aff0b2d$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('b13b08fe-be30-4b29-8a23-ecf139d9a041','0e7d5ff3-db73-4581-a84b-3f8912cc7c7a','1e2ae5a7-7793-48c0-a9b3-5339e4f3c8c4','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','3f76ec4a-f6e4-4c40-b676-170a83875cfe.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:32:19.142 +00:00','2020-03-05 17:32:19.142 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_7efd2d7e039f4e3b93ca396f3aff0b2d$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (2773b8ad-1239-4e26-b8ea-9b9f57c31a31): COMMIT;
{ fileUUID: 'b13b08fe-be30-4b29-8a23-ecf139d9a041',
  cnodeUserUUID: '0e7d5ff3-db73-4581-a84b-3f8912cc7c7a',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: '3f76ec4a-f6e4-4c40-b676-170a83875cfe.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: '1e2ae5a7-7793-48c0-a9b3-5339e4f3c8c4',
  updatedAt: 2020-03-05T17:32:19.142Z,
  createdAt: 2020-03-05T17:32:19.142Z }
writing to db2...
Executing (99c8add4-65a7-477c-9ab4-235434a7aa20): START TRANSACTION;
Executing (99c8add4-65a7-477c-9ab4-235434a7aa20): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '0e7d5ff3-db73-4581-a84b-3f8912cc7c7a' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = '3f76ec4a-f6e4-4c40-b676-170a83875cfe.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '1e2ae5a7-7793-48c0-a9b3-5339e4f3c8c4' LIMIT 1;
Executing (99c8add4-65a7-477c-9ab4-235434a7aa20): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_aef6a0ac5c674e4cafe5ce3496e1be35$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('6f9fb70e-736b-4608-ac5b-cbdb0ba870ad','0e7d5ff3-db73-4581-a84b-3f8912cc7c7a','1e2ae5a7-7793-48c0-a9b3-5339e4f3c8c4','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','3f76ec4a-f6e4-4c40-b676-170a83875cfe.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:32:19.548 +00:00','2020-03-05 17:32:19.548 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_aef6a0ac5c674e4cafe5ce3496e1be35$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (99c8add4-65a7-477c-9ab4-235434a7aa20): COMMIT;
{ fileUUID: '6f9fb70e-736b-4608-ac5b-cbdb0ba870ad',
  cnodeUserUUID: '0e7d5ff3-db73-4581-a84b-3f8912cc7c7a',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: '3f76ec4a-f6e4-4c40-b676-170a83875cfe.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: '1e2ae5a7-7793-48c0-a9b3-5339e4f3c8c4',
  updatedAt: 2020-03-05T17:32:19.548Z,
  createdAt: 2020-03-05T17:32:19.548Z }
writing to db3...
Executing (6550c162-3aa4-4613-b073-4092b04de6c2): START TRANSACTION;
Executing (6550c162-3aa4-4613-b073-4092b04de6c2): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '0e7d5ff3-db73-4581-a84b-3f8912cc7c7a' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = '3f76ec4a-f6e4-4c40-b676-170a83875cfe.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '1e2ae5a7-7793-48c0-a9b3-5339e4f3c8c4' LIMIT 1;
Executing (6550c162-3aa4-4613-b073-4092b04de6c2): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_d7c486c9fb9244f081f99d853a5e64b0$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('d184fedf-d28d-4d78-9552-3416a06e0c1f','0e7d5ff3-db73-4581-a84b-3f8912cc7c7a','1e2ae5a7-7793-48c0-a9b3-5339e4f3c8c4','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','3f76ec4a-f6e4-4c40-b676-170a83875cfe.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:32:19.949 +00:00','2020-03-05 17:32:19.949 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_d7c486c9fb9244f081f99d853a5e64b0$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (6550c162-3aa4-4613-b073-4092b04de6c2): COMMIT;
{ fileUUID: 'd184fedf-d28d-4d78-9552-3416a06e0c1f',
  cnodeUserUUID: '0e7d5ff3-db73-4581-a84b-3f8912cc7c7a',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: '3f76ec4a-f6e4-4c40-b676-170a83875cfe.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: '1e2ae5a7-7793-48c0-a9b3-5339e4f3c8c4',
  updatedAt: 2020-03-05T17:32:19.949Z,
  createdAt: 2020-03-05T17:32:19.949Z }




PROCESSING ROW #32: sourcefile: 11320c11-aaf8-4068-ba17-42c06ee51b58.mp3, cnodeUserUUID: 4cefba97-54fc-4139-8819-795b47e681e0, trackUUID: 47cfe6f8-e459-4026-9792-9e116d2a2db8, multihash: QmYCAaTjBANHR6aaidJdZ3BsYYy6m127A4wPFqFrF1KLRi, dstPath: /file_storage/QmYCAaTjBANHR6aaidJdZ3BsYYy6m127A4wPFqFrF1KLRi
writing to db1...
Executing (43552674-0b11-4019-90ff-acf2bfd52613): START TRANSACTION;
Executing (43552674-0b11-4019-90ff-acf2bfd52613): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '4cefba97-54fc-4139-8819-795b47e681e0' AND "File"."multihash" = 'QmYCAaTjBANHR6aaidJdZ3BsYYy6m127A4wPFqFrF1KLRi' AND "File"."sourceFile" = '11320c11-aaf8-4068-ba17-42c06ee51b58.mp3' AND "File"."storagePath" = '/file_storage/QmYCAaTjBANHR6aaidJdZ3BsYYy6m127A4wPFqFrF1KLRi' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '47cfe6f8-e459-4026-9792-9e116d2a2db8' LIMIT 1;
Executing (43552674-0b11-4019-90ff-acf2bfd52613): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_36d105d6b63048a4929e88c61945a024$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('bba22217-4d4e-4dd3-a4fa-11250edb103b','4cefba97-54fc-4139-8819-795b47e681e0','47cfe6f8-e459-4026-9792-9e116d2a2db8','QmYCAaTjBANHR6aaidJdZ3BsYYy6m127A4wPFqFrF1KLRi','11320c11-aaf8-4068-ba17-42c06ee51b58.mp3','/file_storage/QmYCAaTjBANHR6aaidJdZ3BsYYy6m127A4wPFqFrF1KLRi','copy320','2020-03-05 17:32:20.358 +00:00','2020-03-05 17:32:20.358 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_36d105d6b63048a4929e88c61945a024$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (43552674-0b11-4019-90ff-acf2bfd52613): COMMIT;
{ fileUUID: 'bba22217-4d4e-4dd3-a4fa-11250edb103b',
  cnodeUserUUID: '4cefba97-54fc-4139-8819-795b47e681e0',
  multihash: 'QmYCAaTjBANHR6aaidJdZ3BsYYy6m127A4wPFqFrF1KLRi',
  sourceFile: '11320c11-aaf8-4068-ba17-42c06ee51b58.mp3',
  storagePath:
   '/file_storage/QmYCAaTjBANHR6aaidJdZ3BsYYy6m127A4wPFqFrF1KLRi',
  type: 'copy320',
  trackUUID: '47cfe6f8-e459-4026-9792-9e116d2a2db8',
  updatedAt: 2020-03-05T17:32:20.358Z,
  createdAt: 2020-03-05T17:32:20.358Z }
writing to db2...
Executing (7078e62b-488e-4aef-9bf4-3e43fb651d2c): START TRANSACTION;
Executing (7078e62b-488e-4aef-9bf4-3e43fb651d2c): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '4cefba97-54fc-4139-8819-795b47e681e0' AND "File"."multihash" = 'QmYCAaTjBANHR6aaidJdZ3BsYYy6m127A4wPFqFrF1KLRi' AND "File"."sourceFile" = '11320c11-aaf8-4068-ba17-42c06ee51b58.mp3' AND "File"."storagePath" = '/file_storage/QmYCAaTjBANHR6aaidJdZ3BsYYy6m127A4wPFqFrF1KLRi' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '47cfe6f8-e459-4026-9792-9e116d2a2db8' LIMIT 1;
Executing (7078e62b-488e-4aef-9bf4-3e43fb651d2c): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_5965b1e42576475ab18adb06e31ff462$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('e017db3e-b749-4531-9aad-47e68a2030d8','4cefba97-54fc-4139-8819-795b47e681e0','47cfe6f8-e459-4026-9792-9e116d2a2db8','QmYCAaTjBANHR6aaidJdZ3BsYYy6m127A4wPFqFrF1KLRi','11320c11-aaf8-4068-ba17-42c06ee51b58.mp3','/file_storage/QmYCAaTjBANHR6aaidJdZ3BsYYy6m127A4wPFqFrF1KLRi','copy320','2020-03-05 17:32:20.754 +00:00','2020-03-05 17:32:20.754 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_5965b1e42576475ab18adb06e31ff462$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (7078e62b-488e-4aef-9bf4-3e43fb651d2c): COMMIT;
{ fileUUID: 'e017db3e-b749-4531-9aad-47e68a2030d8',
  cnodeUserUUID: '4cefba97-54fc-4139-8819-795b47e681e0',
  multihash: 'QmYCAaTjBANHR6aaidJdZ3BsYYy6m127A4wPFqFrF1KLRi',
  sourceFile: '11320c11-aaf8-4068-ba17-42c06ee51b58.mp3',
  storagePath:
   '/file_storage/QmYCAaTjBANHR6aaidJdZ3BsYYy6m127A4wPFqFrF1KLRi',
  type: 'copy320',
  trackUUID: '47cfe6f8-e459-4026-9792-9e116d2a2db8',
  updatedAt: 2020-03-05T17:32:20.754Z,
  createdAt: 2020-03-05T17:32:20.754Z }
writing to db3...
Executing (eac5f84d-4612-4eb6-aa3c-6bdfb2153890): START TRANSACTION;
Executing (eac5f84d-4612-4eb6-aa3c-6bdfb2153890): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '4cefba97-54fc-4139-8819-795b47e681e0' AND "File"."multihash" = 'QmYCAaTjBANHR6aaidJdZ3BsYYy6m127A4wPFqFrF1KLRi' AND "File"."sourceFile" = '11320c11-aaf8-4068-ba17-42c06ee51b58.mp3' AND "File"."storagePath" = '/file_storage/QmYCAaTjBANHR6aaidJdZ3BsYYy6m127A4wPFqFrF1KLRi' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '47cfe6f8-e459-4026-9792-9e116d2a2db8' LIMIT 1;
Executing (eac5f84d-4612-4eb6-aa3c-6bdfb2153890): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_d4e876cc65274319bb79e22507e441ae$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('2c16929a-9334-4ec7-9a41-5ee8d96638a5','4cefba97-54fc-4139-8819-795b47e681e0','47cfe6f8-e459-4026-9792-9e116d2a2db8','QmYCAaTjBANHR6aaidJdZ3BsYYy6m127A4wPFqFrF1KLRi','11320c11-aaf8-4068-ba17-42c06ee51b58.mp3','/file_storage/QmYCAaTjBANHR6aaidJdZ3BsYYy6m127A4wPFqFrF1KLRi','copy320','2020-03-05 17:32:21.181 +00:00','2020-03-05 17:32:21.181 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_d4e876cc65274319bb79e22507e441ae$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (eac5f84d-4612-4eb6-aa3c-6bdfb2153890): COMMIT;
{ SequelizeForeignKeyConstraintError: insert or update on table "Files" violates foreign key constraint "Files_trackUUID_fkey"
    at Query.formatError (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/sequelize/lib/dialects/postgres/query.js:296:16)
    at query.catch.err (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/sequelize/lib/dialects/postgres/query.js:86:18)
    at tryCatcher (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/bluebird/js/release/util.js:16:23)
    at Promise._settlePromiseFromHandler (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/bluebird/js/release/promise.js:517:31)
    at Promise._settlePromise (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/bluebird/js/release/promise.js:574:18)
    at Promise._settlePromise0 (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/bluebird/js/release/promise.js:619:10)
    at Promise._settlePromises (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/bluebird/js/release/promise.js:695:18)
    at _drainQueueStep (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/bluebird/js/release/async.js:138:12)
    at _drainQueue (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/bluebird/js/release/async.js:131:9)
    at Async._drainQueues (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/bluebird/js/release/async.js:147:5)
    at Immediate.Async.drainQueues [as _onImmediate] (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/bluebird/js/release/async.js:17:14)
    at runCallback (timers.js:705:18)
    at tryOnImmediate (timers.js:676:5)
    at processImmediate (timers.js:658:5)
  name: 'SequelizeForeignKeyConstraintError',
  parent:
   { error: insert or update on table "Files" violates foreign key constraint "Files_trackUUID_fkey"
       at Connection.parseE (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/pg/lib/connection.js:604:11)
       at Connection.parseMessage (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/pg/lib/connection.js:401:19)
       at Socket.<anonymous> (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/pg/lib/connection.js:121:22)
       at Socket.emit (events.js:198:13)
       at addChunk (_stream_readable.js:288:12)
       at readableAddChunk (_stream_readable.js:269:11)
       at Socket.Readable.push (_stream_readable.js:224:10)
       at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)
     name: 'error',
     length: 865,
     severity: 'ERROR',
     code: '23503',
     detail:
      'Key (trackUUID)=(47cfe6f8-e459-4026-9792-9e116d2a2db8) is not present in table "Tracks".',
     hint: undefined,
     position: undefined,
     internalPosition: undefined,
     internalQuery: undefined,
     where:
      'SQL statement "INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES (\'2c16929a-9334-4ec7-9a41-5ee8d96638a5\',\'4cefba97-54fc-4139-8819-795b47e681e0\',\'47cfe6f8-e459-4026-9792-9e116d2a2db8\',\'QmYCAaTjBANHR6aaidJdZ3BsYYy6m127A4wPFqFrF1KLRi\',\'11320c11-aaf8-4068-ba17-42c06ee51b58.mp3\',\'/file_storage/QmYCAaTjBANHR6aaidJdZ3BsYYy6m127A4wPFqFrF1KLRi\',\'copy320\',\'2020-03-05 17:32:21.181 +00:00\',\'2020-03-05 17:32:21.181 +00:00\') RETURNING *"\nPL/pgSQL function pg_temp_10.testfunc() line 1 at SQL statement',
     schema: 'public',
     table: 'Files',
     column: undefined,
     dataType: undefined,
     constraint: 'Files_trackUUID_fkey',
     file: 'ri_triggers.c',
     line: '2783',
     routine: 'ri_ReportViolation',
     sql:
      'CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_d4e876cc65274319bb79e22507e441ae$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES (\'2c16929a-9334-4ec7-9a41-5ee8d96638a5\',\'4cefba97-54fc-4139-8819-795b47e681e0\',\'47cfe6f8-e459-4026-9792-9e116d2a2db8\',\'QmYCAaTjBANHR6aaidJdZ3BsYYy6m127A4wPFqFrF1KLRi\',\'11320c11-aaf8-4068-ba17-42c06ee51b58.mp3\',\'/file_storage/QmYCAaTjBANHR6aaidJdZ3BsYYy6m127A4wPFqFrF1KLRi\',\'copy320\',\'2020-03-05 17:32:21.181 +00:00\',\'2020-03-05 17:32:21.181 +00:00\') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_d4e876cc65274319bb79e22507e441ae$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();' },
  original:
   { error: insert or update on table "Files" violates foreign key constraint "Files_trackUUID_fkey"
       at Connection.parseE (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/pg/lib/connection.js:604:11)
       at Connection.parseMessage (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/pg/lib/connection.js:401:19)
       at Socket.<anonymous> (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/pg/lib/connection.js:121:22)
       at Socket.emit (events.js:198:13)
       at addChunk (_stream_readable.js:288:12)
       at readableAddChunk (_stream_readable.js:269:11)
       at Socket.Readable.push (_stream_readable.js:224:10)
       at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)
     name: 'error',
     length: 865,
     severity: 'ERROR',
     code: '23503',
     detail:
      'Key (trackUUID)=(47cfe6f8-e459-4026-9792-9e116d2a2db8) is not present in table "Tracks".',
     hint: undefined,
     position: undefined,
     internalPosition: undefined,
     internalQuery: undefined,
     where:
      'SQL statement "INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES (\'2c16929a-9334-4ec7-9a41-5ee8d96638a5\',\'4cefba97-54fc-4139-8819-795b47e681e0\',\'47cfe6f8-e459-4026-9792-9e116d2a2db8\',\'QmYCAaTjBANHR6aaidJdZ3BsYYy6m127A4wPFqFrF1KLRi\',\'11320c11-aaf8-4068-ba17-42c06ee51b58.mp3\',\'/file_storage/QmYCAaTjBANHR6aaidJdZ3BsYYy6m127A4wPFqFrF1KLRi\',\'copy320\',\'2020-03-05 17:32:21.181 +00:00\',\'2020-03-05 17:32:21.181 +00:00\') RETURNING *"\nPL/pgSQL function pg_temp_10.testfunc() line 1 at SQL statement',
     schema: 'public',
     table: 'Files',
     column: undefined,
     dataType: undefined,
     constraint: 'Files_trackUUID_fkey',
     file: 'ri_triggers.c',
     line: '2783',
     routine: 'ri_ReportViolation',
     sql:
      'CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_d4e876cc65274319bb79e22507e441ae$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES (\'2c16929a-9334-4ec7-9a41-5ee8d96638a5\',\'4cefba97-54fc-4139-8819-795b47e681e0\',\'47cfe6f8-e459-4026-9792-9e116d2a2db8\',\'QmYCAaTjBANHR6aaidJdZ3BsYYy6m127A4wPFqFrF1KLRi\',\'11320c11-aaf8-4068-ba17-42c06ee51b58.mp3\',\'/file_storage/QmYCAaTjBANHR6aaidJdZ3BsYYy6m127A4wPFqFrF1KLRi\',\'copy320\',\'2020-03-05 17:32:21.181 +00:00\',\'2020-03-05 17:32:21.181 +00:00\') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_d4e876cc65274319bb79e22507e441ae$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();' },
  sql:
   'CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_d4e876cc65274319bb79e22507e441ae$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES (\'2c16929a-9334-4ec7-9a41-5ee8d96638a5\',\'4cefba97-54fc-4139-8819-795b47e681e0\',\'47cfe6f8-e459-4026-9792-9e116d2a2db8\',\'QmYCAaTjBANHR6aaidJdZ3BsYYy6m127A4wPFqFrF1KLRi\',\'11320c11-aaf8-4068-ba17-42c06ee51b58.mp3\',\'/file_storage/QmYCAaTjBANHR6aaidJdZ3BsYYy6m127A4wPFqFrF1KLRi\',\'copy320\',\'2020-03-05 17:32:21.181 +00:00\',\'2020-03-05 17:32:21.181 +00:00\') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_d4e876cc65274319bb79e22507e441ae$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();',
  fields: null,
  table: 'Files',
  value: undefined,
  index: 'Files_trackUUID_fkey',
  reltype: undefined }




PROCESSING ROW #33: sourcefile: f3428e2e-0a7c-4e9a-aa2f-2c54efd26d59.mp3, cnodeUserUUID: adccf91e-603a-43a2-858e-e33ec9dc6c52, trackUUID: f49d8e21-c557-419d-8725-17ef496eb626, multihash: QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM, dstPath: /file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM
writing to db1...
Executing (b8276af0-31d9-4051-bc97-f8e7f64c3f00): START TRANSACTION;
Executing (b8276af0-31d9-4051-bc97-f8e7f64c3f00): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = 'adccf91e-603a-43a2-858e-e33ec9dc6c52' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = 'f3428e2e-0a7c-4e9a-aa2f-2c54efd26d59.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = 'f49d8e21-c557-419d-8725-17ef496eb626' LIMIT 1;
Executing (b8276af0-31d9-4051-bc97-f8e7f64c3f00): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_6a2c6264ec2d442eb4878a20d0a27a34$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('9e8403e3-a47a-4525-a8af-35cff417a0e1','adccf91e-603a-43a2-858e-e33ec9dc6c52','f49d8e21-c557-419d-8725-17ef496eb626','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','f3428e2e-0a7c-4e9a-aa2f-2c54efd26d59.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:32:21.591 +00:00','2020-03-05 17:32:21.591 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_6a2c6264ec2d442eb4878a20d0a27a34$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (b8276af0-31d9-4051-bc97-f8e7f64c3f00): COMMIT;
{ fileUUID: '9e8403e3-a47a-4525-a8af-35cff417a0e1',
  cnodeUserUUID: 'adccf91e-603a-43a2-858e-e33ec9dc6c52',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: 'f3428e2e-0a7c-4e9a-aa2f-2c54efd26d59.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: 'f49d8e21-c557-419d-8725-17ef496eb626',
  updatedAt: 2020-03-05T17:32:21.591Z,
  createdAt: 2020-03-05T17:32:21.591Z }
writing to db2...
Executing (4c6d0977-e703-4f57-9ef6-d64ae16fed05): START TRANSACTION;
Executing (4c6d0977-e703-4f57-9ef6-d64ae16fed05): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = 'adccf91e-603a-43a2-858e-e33ec9dc6c52' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = 'f3428e2e-0a7c-4e9a-aa2f-2c54efd26d59.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = 'f49d8e21-c557-419d-8725-17ef496eb626' LIMIT 1;
Executing (4c6d0977-e703-4f57-9ef6-d64ae16fed05): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_04d6a1c19f1a4b48bb8d61a3d739b723$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('bba04c1e-d79b-4100-9e91-0c4e305bfd10','adccf91e-603a-43a2-858e-e33ec9dc6c52','f49d8e21-c557-419d-8725-17ef496eb626','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','f3428e2e-0a7c-4e9a-aa2f-2c54efd26d59.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:32:22.021 +00:00','2020-03-05 17:32:22.021 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_04d6a1c19f1a4b48bb8d61a3d739b723$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (4c6d0977-e703-4f57-9ef6-d64ae16fed05): COMMIT;
{ fileUUID: 'bba04c1e-d79b-4100-9e91-0c4e305bfd10',
  cnodeUserUUID: 'adccf91e-603a-43a2-858e-e33ec9dc6c52',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: 'f3428e2e-0a7c-4e9a-aa2f-2c54efd26d59.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: 'f49d8e21-c557-419d-8725-17ef496eb626',
  updatedAt: 2020-03-05T17:32:22.021Z,
  createdAt: 2020-03-05T17:32:22.021Z }
writing to db3...
Executing (65bfab63-963e-4395-ae9d-d5d9b612c602): START TRANSACTION;
Executing (65bfab63-963e-4395-ae9d-d5d9b612c602): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = 'adccf91e-603a-43a2-858e-e33ec9dc6c52' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = 'f3428e2e-0a7c-4e9a-aa2f-2c54efd26d59.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = 'f49d8e21-c557-419d-8725-17ef496eb626' LIMIT 1;
Executing (65bfab63-963e-4395-ae9d-d5d9b612c602): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_20290c2fa89e4536ba423da2ce36e54f$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('6276f8ac-1180-43aa-a1be-41efe093899c','adccf91e-603a-43a2-858e-e33ec9dc6c52','f49d8e21-c557-419d-8725-17ef496eb626','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','f3428e2e-0a7c-4e9a-aa2f-2c54efd26d59.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:32:22.418 +00:00','2020-03-05 17:32:22.418 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_20290c2fa89e4536ba423da2ce36e54f$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (65bfab63-963e-4395-ae9d-d5d9b612c602): COMMIT;
{ fileUUID: '6276f8ac-1180-43aa-a1be-41efe093899c',
  cnodeUserUUID: 'adccf91e-603a-43a2-858e-e33ec9dc6c52',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: 'f3428e2e-0a7c-4e9a-aa2f-2c54efd26d59.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: 'f49d8e21-c557-419d-8725-17ef496eb626',
  updatedAt: 2020-03-05T17:32:22.418Z,
  createdAt: 2020-03-05T17:32:22.418Z }




PROCESSING ROW #34: sourcefile: 3c47f77b-6ecf-4cfe-b88e-a0807bf7949d.mp3, cnodeUserUUID: 4af1b67d-88d1-4f06-8877-76cd1bbc28a2, trackUUID: e9a7aeb2-a5ce-4343-ae02-87ac1fbda318, multihash: Qme8tragtUzTWEAe8UeSAD2s9GEbetpmoysUgNj3XeeX6a, dstPath: /file_storage/Qme8tragtUzTWEAe8UeSAD2s9GEbetpmoysUgNj3XeeX6a
writing to db1...
Executing (7e51400e-a41a-48e0-bf0a-be9a5518ea38): START TRANSACTION;
Executing (7e51400e-a41a-48e0-bf0a-be9a5518ea38): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '4af1b67d-88d1-4f06-8877-76cd1bbc28a2' AND "File"."multihash" = 'Qme8tragtUzTWEAe8UeSAD2s9GEbetpmoysUgNj3XeeX6a' AND "File"."sourceFile" = '3c47f77b-6ecf-4cfe-b88e-a0807bf7949d.mp3' AND "File"."storagePath" = '/file_storage/Qme8tragtUzTWEAe8UeSAD2s9GEbetpmoysUgNj3XeeX6a' AND "File"."type" = 'copy320' AND "File"."trackUUID" = 'e9a7aeb2-a5ce-4343-ae02-87ac1fbda318' LIMIT 1;
Executing (7e51400e-a41a-48e0-bf0a-be9a5518ea38): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_31220131394041159a74963b70f7d780$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('22238fff-1d0f-45b6-98f6-4740faf0abc8','4af1b67d-88d1-4f06-8877-76cd1bbc28a2','e9a7aeb2-a5ce-4343-ae02-87ac1fbda318','Qme8tragtUzTWEAe8UeSAD2s9GEbetpmoysUgNj3XeeX6a','3c47f77b-6ecf-4cfe-b88e-a0807bf7949d.mp3','/file_storage/Qme8tragtUzTWEAe8UeSAD2s9GEbetpmoysUgNj3XeeX6a','copy320','2020-03-05 17:32:22.825 +00:00','2020-03-05 17:32:22.825 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_31220131394041159a74963b70f7d780$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (7e51400e-a41a-48e0-bf0a-be9a5518ea38): COMMIT;
{ fileUUID: '22238fff-1d0f-45b6-98f6-4740faf0abc8',
  cnodeUserUUID: '4af1b67d-88d1-4f06-8877-76cd1bbc28a2',
  multihash: 'Qme8tragtUzTWEAe8UeSAD2s9GEbetpmoysUgNj3XeeX6a',
  sourceFile: '3c47f77b-6ecf-4cfe-b88e-a0807bf7949d.mp3',
  storagePath:
   '/file_storage/Qme8tragtUzTWEAe8UeSAD2s9GEbetpmoysUgNj3XeeX6a',
  type: 'copy320',
  trackUUID: 'e9a7aeb2-a5ce-4343-ae02-87ac1fbda318',
  updatedAt: 2020-03-05T17:32:22.825Z,
  createdAt: 2020-03-05T17:32:22.825Z }
writing to db2...
Executing (82d89af5-84ab-4b2c-a987-29191eed371e): START TRANSACTION;
Executing (82d89af5-84ab-4b2c-a987-29191eed371e): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '4af1b67d-88d1-4f06-8877-76cd1bbc28a2' AND "File"."multihash" = 'Qme8tragtUzTWEAe8UeSAD2s9GEbetpmoysUgNj3XeeX6a' AND "File"."sourceFile" = '3c47f77b-6ecf-4cfe-b88e-a0807bf7949d.mp3' AND "File"."storagePath" = '/file_storage/Qme8tragtUzTWEAe8UeSAD2s9GEbetpmoysUgNj3XeeX6a' AND "File"."type" = 'copy320' AND "File"."trackUUID" = 'e9a7aeb2-a5ce-4343-ae02-87ac1fbda318' LIMIT 1;
Executing (82d89af5-84ab-4b2c-a987-29191eed371e): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_31fd21b98f794ad084f6b8a52cd960cb$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('f54ca13a-a001-470e-bc55-397fac64036f','4af1b67d-88d1-4f06-8877-76cd1bbc28a2','e9a7aeb2-a5ce-4343-ae02-87ac1fbda318','Qme8tragtUzTWEAe8UeSAD2s9GEbetpmoysUgNj3XeeX6a','3c47f77b-6ecf-4cfe-b88e-a0807bf7949d.mp3','/file_storage/Qme8tragtUzTWEAe8UeSAD2s9GEbetpmoysUgNj3XeeX6a','copy320','2020-03-05 17:32:23.234 +00:00','2020-03-05 17:32:23.234 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_31fd21b98f794ad084f6b8a52cd960cb$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (82d89af5-84ab-4b2c-a987-29191eed371e): COMMIT;
{ SequelizeForeignKeyConstraintError: insert or update on table "Files" violates foreign key constraint "Files_trackUUID_fkey"
    at Query.formatError (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/sequelize/lib/dialects/postgres/query.js:296:16)
    at query.catch.err (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/sequelize/lib/dialects/postgres/query.js:86:18)
    at tryCatcher (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/bluebird/js/release/util.js:16:23)
    at Promise._settlePromiseFromHandler (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/bluebird/js/release/promise.js:517:31)
    at Promise._settlePromise (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/bluebird/js/release/promise.js:574:18)
    at Promise._settlePromise0 (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/bluebird/js/release/promise.js:619:10)
    at Promise._settlePromises (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/bluebird/js/release/promise.js:695:18)
    at _drainQueueStep (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/bluebird/js/release/async.js:138:12)
    at _drainQueue (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/bluebird/js/release/async.js:131:9)
    at Async._drainQueues (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/bluebird/js/release/async.js:147:5)
    at Immediate.Async.drainQueues [as _onImmediate] (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/bluebird/js/release/async.js:17:14)
    at runCallback (timers.js:705:18)
    at tryOnImmediate (timers.js:676:5)
    at processImmediate (timers.js:658:5)
  name: 'SequelizeForeignKeyConstraintError',
  parent:
   { error: insert or update on table "Files" violates foreign key constraint "Files_trackUUID_fkey"
       at Connection.parseE (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/pg/lib/connection.js:604:11)
       at Connection.parseMessage (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/pg/lib/connection.js:401:19)
       at Socket.<anonymous> (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/pg/lib/connection.js:121:22)
       at Socket.emit (events.js:198:13)
       at addChunk (_stream_readable.js:288:12)
       at readableAddChunk (_stream_readable.js:269:11)
       at Socket.Readable.push (_stream_readable.js:224:10)
       at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)
     name: 'error',
     length: 865,
     severity: 'ERROR',
     code: '23503',
     detail:
      'Key (trackUUID)=(e9a7aeb2-a5ce-4343-ae02-87ac1fbda318) is not present in table "Tracks".',
     hint: undefined,
     position: undefined,
     internalPosition: undefined,
     internalQuery: undefined,
     where:
      'SQL statement "INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES (\'f54ca13a-a001-470e-bc55-397fac64036f\',\'4af1b67d-88d1-4f06-8877-76cd1bbc28a2\',\'e9a7aeb2-a5ce-4343-ae02-87ac1fbda318\',\'Qme8tragtUzTWEAe8UeSAD2s9GEbetpmoysUgNj3XeeX6a\',\'3c47f77b-6ecf-4cfe-b88e-a0807bf7949d.mp3\',\'/file_storage/Qme8tragtUzTWEAe8UeSAD2s9GEbetpmoysUgNj3XeeX6a\',\'copy320\',\'2020-03-05 17:32:23.234 +00:00\',\'2020-03-05 17:32:23.234 +00:00\') RETURNING *"\nPL/pgSQL function pg_temp_11.testfunc() line 1 at SQL statement',
     schema: 'public',
     table: 'Files',
     column: undefined,
     dataType: undefined,
     constraint: 'Files_trackUUID_fkey',
     file: 'ri_triggers.c',
     line: '3266',
     routine: 'ri_ReportViolation',
     sql:
      'CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_31fd21b98f794ad084f6b8a52cd960cb$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES (\'f54ca13a-a001-470e-bc55-397fac64036f\',\'4af1b67d-88d1-4f06-8877-76cd1bbc28a2\',\'e9a7aeb2-a5ce-4343-ae02-87ac1fbda318\',\'Qme8tragtUzTWEAe8UeSAD2s9GEbetpmoysUgNj3XeeX6a\',\'3c47f77b-6ecf-4cfe-b88e-a0807bf7949d.mp3\',\'/file_storage/Qme8tragtUzTWEAe8UeSAD2s9GEbetpmoysUgNj3XeeX6a\',\'copy320\',\'2020-03-05 17:32:23.234 +00:00\',\'2020-03-05 17:32:23.234 +00:00\') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_31fd21b98f794ad084f6b8a52cd960cb$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();' },
  original:
   { error: insert or update on table "Files" violates foreign key constraint "Files_trackUUID_fkey"
       at Connection.parseE (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/pg/lib/connection.js:604:11)
       at Connection.parseMessage (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/pg/lib/connection.js:401:19)
       at Socket.<anonymous> (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/pg/lib/connection.js:121:22)
       at Socket.emit (events.js:198:13)
       at addChunk (_stream_readable.js:288:12)
       at readableAddChunk (_stream_readable.js:269:11)
       at Socket.Readable.push (_stream_readable.js:224:10)
       at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)
     name: 'error',
     length: 865,
     severity: 'ERROR',
     code: '23503',
     detail:
      'Key (trackUUID)=(e9a7aeb2-a5ce-4343-ae02-87ac1fbda318) is not present in table "Tracks".',
     hint: undefined,
     position: undefined,
     internalPosition: undefined,
     internalQuery: undefined,
     where:
      'SQL statement "INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES (\'f54ca13a-a001-470e-bc55-397fac64036f\',\'4af1b67d-88d1-4f06-8877-76cd1bbc28a2\',\'e9a7aeb2-a5ce-4343-ae02-87ac1fbda318\',\'Qme8tragtUzTWEAe8UeSAD2s9GEbetpmoysUgNj3XeeX6a\',\'3c47f77b-6ecf-4cfe-b88e-a0807bf7949d.mp3\',\'/file_storage/Qme8tragtUzTWEAe8UeSAD2s9GEbetpmoysUgNj3XeeX6a\',\'copy320\',\'2020-03-05 17:32:23.234 +00:00\',\'2020-03-05 17:32:23.234 +00:00\') RETURNING *"\nPL/pgSQL function pg_temp_11.testfunc() line 1 at SQL statement',
     schema: 'public',
     table: 'Files',
     column: undefined,
     dataType: undefined,
     constraint: 'Files_trackUUID_fkey',
     file: 'ri_triggers.c',
     line: '3266',
     routine: 'ri_ReportViolation',
     sql:
      'CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_31fd21b98f794ad084f6b8a52cd960cb$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES (\'f54ca13a-a001-470e-bc55-397fac64036f\',\'4af1b67d-88d1-4f06-8877-76cd1bbc28a2\',\'e9a7aeb2-a5ce-4343-ae02-87ac1fbda318\',\'Qme8tragtUzTWEAe8UeSAD2s9GEbetpmoysUgNj3XeeX6a\',\'3c47f77b-6ecf-4cfe-b88e-a0807bf7949d.mp3\',\'/file_storage/Qme8tragtUzTWEAe8UeSAD2s9GEbetpmoysUgNj3XeeX6a\',\'copy320\',\'2020-03-05 17:32:23.234 +00:00\',\'2020-03-05 17:32:23.234 +00:00\') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_31fd21b98f794ad084f6b8a52cd960cb$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();' },
  sql:
   'CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_31fd21b98f794ad084f6b8a52cd960cb$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES (\'f54ca13a-a001-470e-bc55-397fac64036f\',\'4af1b67d-88d1-4f06-8877-76cd1bbc28a2\',\'e9a7aeb2-a5ce-4343-ae02-87ac1fbda318\',\'Qme8tragtUzTWEAe8UeSAD2s9GEbetpmoysUgNj3XeeX6a\',\'3c47f77b-6ecf-4cfe-b88e-a0807bf7949d.mp3\',\'/file_storage/Qme8tragtUzTWEAe8UeSAD2s9GEbetpmoysUgNj3XeeX6a\',\'copy320\',\'2020-03-05 17:32:23.234 +00:00\',\'2020-03-05 17:32:23.234 +00:00\') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_31fd21b98f794ad084f6b8a52cd960cb$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();',
  fields: null,
  table: 'Files',
  value: undefined,
  index: 'Files_trackUUID_fkey',
  reltype: undefined }
writing to db3...
Executing (da39c6cc-aba0-41a8-b361-70342eb44d06): START TRANSACTION;
Executing (da39c6cc-aba0-41a8-b361-70342eb44d06): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '4af1b67d-88d1-4f06-8877-76cd1bbc28a2' AND "File"."multihash" = 'Qme8tragtUzTWEAe8UeSAD2s9GEbetpmoysUgNj3XeeX6a' AND "File"."sourceFile" = '3c47f77b-6ecf-4cfe-b88e-a0807bf7949d.mp3' AND "File"."storagePath" = '/file_storage/Qme8tragtUzTWEAe8UeSAD2s9GEbetpmoysUgNj3XeeX6a' AND "File"."type" = 'copy320' AND "File"."trackUUID" = 'e9a7aeb2-a5ce-4343-ae02-87ac1fbda318' LIMIT 1;
Executing (da39c6cc-aba0-41a8-b361-70342eb44d06): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_48dd0b28b2a2484d9dd34c4d39f7c7c8$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('66f22c5e-e2a5-4419-9908-9c0cdb54bcfe','4af1b67d-88d1-4f06-8877-76cd1bbc28a2','e9a7aeb2-a5ce-4343-ae02-87ac1fbda318','Qme8tragtUzTWEAe8UeSAD2s9GEbetpmoysUgNj3XeeX6a','3c47f77b-6ecf-4cfe-b88e-a0807bf7949d.mp3','/file_storage/Qme8tragtUzTWEAe8UeSAD2s9GEbetpmoysUgNj3XeeX6a','copy320','2020-03-05 17:32:23.631 +00:00','2020-03-05 17:32:23.631 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_48dd0b28b2a2484d9dd34c4d39f7c7c8$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (da39c6cc-aba0-41a8-b361-70342eb44d06): COMMIT;
{ SequelizeForeignKeyConstraintError: insert or update on table "Files" violates foreign key constraint "Files_trackUUID_fkey"
    at Query.formatError (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/sequelize/lib/dialects/postgres/query.js:296:16)
    at query.catch.err (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/sequelize/lib/dialects/postgres/query.js:86:18)
    at tryCatcher (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/bluebird/js/release/util.js:16:23)
    at Promise._settlePromiseFromHandler (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/bluebird/js/release/promise.js:517:31)
    at Promise._settlePromise (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/bluebird/js/release/promise.js:574:18)
    at Promise._settlePromise0 (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/bluebird/js/release/promise.js:619:10)
    at Promise._settlePromises (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/bluebird/js/release/promise.js:695:18)
    at _drainQueueStep (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/bluebird/js/release/async.js:138:12)
    at _drainQueue (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/bluebird/js/release/async.js:131:9)
    at Async._drainQueues (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/bluebird/js/release/async.js:147:5)
    at Immediate.Async.drainQueues [as _onImmediate] (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/bluebird/js/release/async.js:17:14)
    at runCallback (timers.js:705:18)
    at tryOnImmediate (timers.js:676:5)
    at processImmediate (timers.js:658:5)
  name: 'SequelizeForeignKeyConstraintError',
  parent:
   { error: insert or update on table "Files" violates foreign key constraint "Files_trackUUID_fkey"
       at Connection.parseE (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/pg/lib/connection.js:604:11)
       at Connection.parseMessage (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/pg/lib/connection.js:401:19)
       at Socket.<anonymous> (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/pg/lib/connection.js:121:22)
       at Socket.emit (events.js:198:13)
       at addChunk (_stream_readable.js:288:12)
       at readableAddChunk (_stream_readable.js:269:11)
       at Socket.Readable.push (_stream_readable.js:224:10)
       at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)
     name: 'error',
     length: 865,
     severity: 'ERROR',
     code: '23503',
     detail:
      'Key (trackUUID)=(e9a7aeb2-a5ce-4343-ae02-87ac1fbda318) is not present in table "Tracks".',
     hint: undefined,
     position: undefined,
     internalPosition: undefined,
     internalQuery: undefined,
     where:
      'SQL statement "INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES (\'66f22c5e-e2a5-4419-9908-9c0cdb54bcfe\',\'4af1b67d-88d1-4f06-8877-76cd1bbc28a2\',\'e9a7aeb2-a5ce-4343-ae02-87ac1fbda318\',\'Qme8tragtUzTWEAe8UeSAD2s9GEbetpmoysUgNj3XeeX6a\',\'3c47f77b-6ecf-4cfe-b88e-a0807bf7949d.mp3\',\'/file_storage/Qme8tragtUzTWEAe8UeSAD2s9GEbetpmoysUgNj3XeeX6a\',\'copy320\',\'2020-03-05 17:32:23.631 +00:00\',\'2020-03-05 17:32:23.631 +00:00\') RETURNING *"\nPL/pgSQL function pg_temp_70.testfunc() line 1 at SQL statement',
     schema: 'public',
     table: 'Files',
     column: undefined,
     dataType: undefined,
     constraint: 'Files_trackUUID_fkey',
     file: 'ri_triggers.c',
     line: '2783',
     routine: 'ri_ReportViolation',
     sql:
      'CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_48dd0b28b2a2484d9dd34c4d39f7c7c8$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES (\'66f22c5e-e2a5-4419-9908-9c0cdb54bcfe\',\'4af1b67d-88d1-4f06-8877-76cd1bbc28a2\',\'e9a7aeb2-a5ce-4343-ae02-87ac1fbda318\',\'Qme8tragtUzTWEAe8UeSAD2s9GEbetpmoysUgNj3XeeX6a\',\'3c47f77b-6ecf-4cfe-b88e-a0807bf7949d.mp3\',\'/file_storage/Qme8tragtUzTWEAe8UeSAD2s9GEbetpmoysUgNj3XeeX6a\',\'copy320\',\'2020-03-05 17:32:23.631 +00:00\',\'2020-03-05 17:32:23.631 +00:00\') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_48dd0b28b2a2484d9dd34c4d39f7c7c8$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();' },
  original:
   { error: insert or update on table "Files" violates foreign key constraint "Files_trackUUID_fkey"
       at Connection.parseE (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/pg/lib/connection.js:604:11)
       at Connection.parseMessage (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/pg/lib/connection.js:401:19)
       at Socket.<anonymous> (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/pg/lib/connection.js:121:22)
       at Socket.emit (events.js:198:13)
       at addChunk (_stream_readable.js:288:12)
       at readableAddChunk (_stream_readable.js:269:11)
       at Socket.Readable.push (_stream_readable.js:224:10)
       at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)
     name: 'error',
     length: 865,
     severity: 'ERROR',
     code: '23503',
     detail:
      'Key (trackUUID)=(e9a7aeb2-a5ce-4343-ae02-87ac1fbda318) is not present in table "Tracks".',
     hint: undefined,
     position: undefined,
     internalPosition: undefined,
     internalQuery: undefined,
     where:
      'SQL statement "INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES (\'66f22c5e-e2a5-4419-9908-9c0cdb54bcfe\',\'4af1b67d-88d1-4f06-8877-76cd1bbc28a2\',\'e9a7aeb2-a5ce-4343-ae02-87ac1fbda318\',\'Qme8tragtUzTWEAe8UeSAD2s9GEbetpmoysUgNj3XeeX6a\',\'3c47f77b-6ecf-4cfe-b88e-a0807bf7949d.mp3\',\'/file_storage/Qme8tragtUzTWEAe8UeSAD2s9GEbetpmoysUgNj3XeeX6a\',\'copy320\',\'2020-03-05 17:32:23.631 +00:00\',\'2020-03-05 17:32:23.631 +00:00\') RETURNING *"\nPL/pgSQL function pg_temp_70.testfunc() line 1 at SQL statement',
     schema: 'public',
     table: 'Files',
     column: undefined,
     dataType: undefined,
     constraint: 'Files_trackUUID_fkey',
     file: 'ri_triggers.c',
     line: '2783',
     routine: 'ri_ReportViolation',
     sql:
      'CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_48dd0b28b2a2484d9dd34c4d39f7c7c8$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES (\'66f22c5e-e2a5-4419-9908-9c0cdb54bcfe\',\'4af1b67d-88d1-4f06-8877-76cd1bbc28a2\',\'e9a7aeb2-a5ce-4343-ae02-87ac1fbda318\',\'Qme8tragtUzTWEAe8UeSAD2s9GEbetpmoysUgNj3XeeX6a\',\'3c47f77b-6ecf-4cfe-b88e-a0807bf7949d.mp3\',\'/file_storage/Qme8tragtUzTWEAe8UeSAD2s9GEbetpmoysUgNj3XeeX6a\',\'copy320\',\'2020-03-05 17:32:23.631 +00:00\',\'2020-03-05 17:32:23.631 +00:00\') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_48dd0b28b2a2484d9dd34c4d39f7c7c8$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();' },
  sql:
   'CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_48dd0b28b2a2484d9dd34c4d39f7c7c8$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES (\'66f22c5e-e2a5-4419-9908-9c0cdb54bcfe\',\'4af1b67d-88d1-4f06-8877-76cd1bbc28a2\',\'e9a7aeb2-a5ce-4343-ae02-87ac1fbda318\',\'Qme8tragtUzTWEAe8UeSAD2s9GEbetpmoysUgNj3XeeX6a\',\'3c47f77b-6ecf-4cfe-b88e-a0807bf7949d.mp3\',\'/file_storage/Qme8tragtUzTWEAe8UeSAD2s9GEbetpmoysUgNj3XeeX6a\',\'copy320\',\'2020-03-05 17:32:23.631 +00:00\',\'2020-03-05 17:32:23.631 +00:00\') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_48dd0b28b2a2484d9dd34c4d39f7c7c8$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();',
  fields: null,
  table: 'Files',
  value: undefined,
  index: 'Files_trackUUID_fkey',
  reltype: undefined }




PROCESSING ROW #35: sourcefile: 88915b95-becb-4598-9e1b-fd6c8dc11f03.mp3, cnodeUserUUID: 6ff0c9a6-c6b0-42e5-92e1-0dfc4a31abd4, trackUUID: e99b8e1e-b519-487f-a38c-afaa0576a322, multihash: QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM, dstPath: /file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM
writing to db1...
Executing (b14b9f7a-5e71-402d-98f1-8681df4b47a0): START TRANSACTION;
Executing (b14b9f7a-5e71-402d-98f1-8681df4b47a0): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '6ff0c9a6-c6b0-42e5-92e1-0dfc4a31abd4' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = '88915b95-becb-4598-9e1b-fd6c8dc11f03.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = 'e99b8e1e-b519-487f-a38c-afaa0576a322' LIMIT 1;
Executing (b14b9f7a-5e71-402d-98f1-8681df4b47a0): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_559d85cdd13e48ca86812548a99ba675$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('a03bea02-65b2-47b6-bace-d10f501763b2','6ff0c9a6-c6b0-42e5-92e1-0dfc4a31abd4','e99b8e1e-b519-487f-a38c-afaa0576a322','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','88915b95-becb-4598-9e1b-fd6c8dc11f03.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:32:24.047 +00:00','2020-03-05 17:32:24.047 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_559d85cdd13e48ca86812548a99ba675$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (b14b9f7a-5e71-402d-98f1-8681df4b47a0): COMMIT;
{ fileUUID: 'a03bea02-65b2-47b6-bace-d10f501763b2',
  cnodeUserUUID: '6ff0c9a6-c6b0-42e5-92e1-0dfc4a31abd4',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: '88915b95-becb-4598-9e1b-fd6c8dc11f03.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: 'e99b8e1e-b519-487f-a38c-afaa0576a322',
  updatedAt: 2020-03-05T17:32:24.047Z,
  createdAt: 2020-03-05T17:32:24.047Z }
writing to db2...
Executing (8caba2aa-91be-4077-89b2-4fb37fbfdfac): START TRANSACTION;
Executing (8caba2aa-91be-4077-89b2-4fb37fbfdfac): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '6ff0c9a6-c6b0-42e5-92e1-0dfc4a31abd4' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = '88915b95-becb-4598-9e1b-fd6c8dc11f03.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = 'e99b8e1e-b519-487f-a38c-afaa0576a322' LIMIT 1;
Executing (8caba2aa-91be-4077-89b2-4fb37fbfdfac): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_6656bce23a734e40bd82588f8a1b9098$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('844cdf17-ec0c-47f0-85ea-9ac6d09ccadc','6ff0c9a6-c6b0-42e5-92e1-0dfc4a31abd4','e99b8e1e-b519-487f-a38c-afaa0576a322','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','88915b95-becb-4598-9e1b-fd6c8dc11f03.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:32:24.440 +00:00','2020-03-05 17:32:24.440 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_6656bce23a734e40bd82588f8a1b9098$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (8caba2aa-91be-4077-89b2-4fb37fbfdfac): COMMIT;
{ fileUUID: '844cdf17-ec0c-47f0-85ea-9ac6d09ccadc',
  cnodeUserUUID: '6ff0c9a6-c6b0-42e5-92e1-0dfc4a31abd4',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: '88915b95-becb-4598-9e1b-fd6c8dc11f03.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: 'e99b8e1e-b519-487f-a38c-afaa0576a322',
  updatedAt: 2020-03-05T17:32:24.440Z,
  createdAt: 2020-03-05T17:32:24.440Z }
writing to db3...
Executing (cf68dc81-1385-41ae-81d8-bbe529713043): START TRANSACTION;
Executing (cf68dc81-1385-41ae-81d8-bbe529713043): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '6ff0c9a6-c6b0-42e5-92e1-0dfc4a31abd4' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = '88915b95-becb-4598-9e1b-fd6c8dc11f03.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = 'e99b8e1e-b519-487f-a38c-afaa0576a322' LIMIT 1;
Executing (cf68dc81-1385-41ae-81d8-bbe529713043): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_6d44759c532c45bf85d26841c5c0ad88$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('2b9e8996-069a-481b-a134-ad633a1fad1a','6ff0c9a6-c6b0-42e5-92e1-0dfc4a31abd4','e99b8e1e-b519-487f-a38c-afaa0576a322','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','88915b95-becb-4598-9e1b-fd6c8dc11f03.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:32:24.841 +00:00','2020-03-05 17:32:24.841 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_6d44759c532c45bf85d26841c5c0ad88$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (cf68dc81-1385-41ae-81d8-bbe529713043): COMMIT;
{ fileUUID: '2b9e8996-069a-481b-a134-ad633a1fad1a',
  cnodeUserUUID: '6ff0c9a6-c6b0-42e5-92e1-0dfc4a31abd4',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: '88915b95-becb-4598-9e1b-fd6c8dc11f03.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: 'e99b8e1e-b519-487f-a38c-afaa0576a322',
  updatedAt: 2020-03-05T17:32:24.841Z,
  createdAt: 2020-03-05T17:32:24.841Z }




PROCESSING ROW #36: sourcefile: 995c059c-2b00-4a65-88c5-943a59d934a3.mp3, cnodeUserUUID: f26de54d-87a1-49ed-978f-001db3bcf666, trackUUID: 911586c6-a190-4f11-85dc-c45990179183, multihash: QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM, dstPath: /file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM
writing to db1...
Executing (1a5daaa8-bafb-4aef-a165-84d2a7598fb3): START TRANSACTION;
Executing (1a5daaa8-bafb-4aef-a165-84d2a7598fb3): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = 'f26de54d-87a1-49ed-978f-001db3bcf666' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = '995c059c-2b00-4a65-88c5-943a59d934a3.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '911586c6-a190-4f11-85dc-c45990179183' LIMIT 1;
Executing (1a5daaa8-bafb-4aef-a165-84d2a7598fb3): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_664f93df21d146ff8d8f497cf21c90fa$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('98152f15-de2d-4c06-815e-04ca37ec7cdd','f26de54d-87a1-49ed-978f-001db3bcf666','911586c6-a190-4f11-85dc-c45990179183','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','995c059c-2b00-4a65-88c5-943a59d934a3.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:32:25.251 +00:00','2020-03-05 17:32:25.251 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_664f93df21d146ff8d8f497cf21c90fa$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (1a5daaa8-bafb-4aef-a165-84d2a7598fb3): COMMIT;
{ fileUUID: '98152f15-de2d-4c06-815e-04ca37ec7cdd',
  cnodeUserUUID: 'f26de54d-87a1-49ed-978f-001db3bcf666',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: '995c059c-2b00-4a65-88c5-943a59d934a3.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: '911586c6-a190-4f11-85dc-c45990179183',
  updatedAt: 2020-03-05T17:32:25.251Z,
  createdAt: 2020-03-05T17:32:25.251Z }
writing to db2...
Executing (dc940b35-745a-47ee-afaa-8d3ecf4f5cad): START TRANSACTION;
Executing (dc940b35-745a-47ee-afaa-8d3ecf4f5cad): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = 'f26de54d-87a1-49ed-978f-001db3bcf666' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = '995c059c-2b00-4a65-88c5-943a59d934a3.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '911586c6-a190-4f11-85dc-c45990179183' LIMIT 1;
Executing (dc940b35-745a-47ee-afaa-8d3ecf4f5cad): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_451f694f3795422ea3acc011352bfdf3$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('a05614b7-b83c-4f69-9570-8f78b9a0b9e4','f26de54d-87a1-49ed-978f-001db3bcf666','911586c6-a190-4f11-85dc-c45990179183','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','995c059c-2b00-4a65-88c5-943a59d934a3.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:32:25.662 +00:00','2020-03-05 17:32:25.662 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_451f694f3795422ea3acc011352bfdf3$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (dc940b35-745a-47ee-afaa-8d3ecf4f5cad): COMMIT;
{ fileUUID: 'a05614b7-b83c-4f69-9570-8f78b9a0b9e4',
  cnodeUserUUID: 'f26de54d-87a1-49ed-978f-001db3bcf666',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: '995c059c-2b00-4a65-88c5-943a59d934a3.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: '911586c6-a190-4f11-85dc-c45990179183',
  updatedAt: 2020-03-05T17:32:25.662Z,
  createdAt: 2020-03-05T17:32:25.662Z }
writing to db3...
Executing (57f9ec1e-d825-4af8-b8d9-d0854998164c): START TRANSACTION;
Executing (57f9ec1e-d825-4af8-b8d9-d0854998164c): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = 'f26de54d-87a1-49ed-978f-001db3bcf666' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = '995c059c-2b00-4a65-88c5-943a59d934a3.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '911586c6-a190-4f11-85dc-c45990179183' LIMIT 1;
Executing (57f9ec1e-d825-4af8-b8d9-d0854998164c): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_5d58dacdb24d446e8d4c67a07d32085a$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('a8591493-3a10-411d-a703-3ae559f60530','f26de54d-87a1-49ed-978f-001db3bcf666','911586c6-a190-4f11-85dc-c45990179183','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','995c059c-2b00-4a65-88c5-943a59d934a3.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:32:26.060 +00:00','2020-03-05 17:32:26.060 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_5d58dacdb24d446e8d4c67a07d32085a$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (57f9ec1e-d825-4af8-b8d9-d0854998164c): COMMIT;
{ fileUUID: 'a8591493-3a10-411d-a703-3ae559f60530',
  cnodeUserUUID: 'f26de54d-87a1-49ed-978f-001db3bcf666',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: '995c059c-2b00-4a65-88c5-943a59d934a3.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: '911586c6-a190-4f11-85dc-c45990179183',
  updatedAt: 2020-03-05T17:32:26.060Z,
  createdAt: 2020-03-05T17:32:26.060Z }




PROCESSING ROW #37: sourcefile: d9de38ea-6b6d-42db-95d3-9ed97320b405.mp3, cnodeUserUUID: 1350147d-276f-4221-8c54-a597192c1ed9, trackUUID: fa1d375a-50b9-43b0-82c4-a9c05420c125, multihash: QmdiMLvfejgBo224NkJhaQ2vxbrGT8ViRaWfBpgnMoEVAk, dstPath: /file_storage/QmdiMLvfejgBo224NkJhaQ2vxbrGT8ViRaWfBpgnMoEVAk
writing to db1...
Executing (c8bc0934-0533-468b-8c24-f648e130f355): START TRANSACTION;
Executing (c8bc0934-0533-468b-8c24-f648e130f355): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '1350147d-276f-4221-8c54-a597192c1ed9' AND "File"."multihash" = 'QmdiMLvfejgBo224NkJhaQ2vxbrGT8ViRaWfBpgnMoEVAk' AND "File"."sourceFile" = 'd9de38ea-6b6d-42db-95d3-9ed97320b405.mp3' AND "File"."storagePath" = '/file_storage/QmdiMLvfejgBo224NkJhaQ2vxbrGT8ViRaWfBpgnMoEVAk' AND "File"."type" = 'copy320' AND "File"."trackUUID" = 'fa1d375a-50b9-43b0-82c4-a9c05420c125' LIMIT 1;
Executing (c8bc0934-0533-468b-8c24-f648e130f355): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_56f99f5e8f6f40bea0323e1564596d29$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('99ed14c1-6113-4cc7-8aa2-3d46cad72c37','1350147d-276f-4221-8c54-a597192c1ed9','fa1d375a-50b9-43b0-82c4-a9c05420c125','QmdiMLvfejgBo224NkJhaQ2vxbrGT8ViRaWfBpgnMoEVAk','d9de38ea-6b6d-42db-95d3-9ed97320b405.mp3','/file_storage/QmdiMLvfejgBo224NkJhaQ2vxbrGT8ViRaWfBpgnMoEVAk','copy320','2020-03-05 17:32:26.460 +00:00','2020-03-05 17:32:26.460 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_56f99f5e8f6f40bea0323e1564596d29$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (c8bc0934-0533-468b-8c24-f648e130f355): COMMIT;
{ fileUUID: '99ed14c1-6113-4cc7-8aa2-3d46cad72c37',
  cnodeUserUUID: '1350147d-276f-4221-8c54-a597192c1ed9',
  multihash: 'QmdiMLvfejgBo224NkJhaQ2vxbrGT8ViRaWfBpgnMoEVAk',
  sourceFile: 'd9de38ea-6b6d-42db-95d3-9ed97320b405.mp3',
  storagePath:
   '/file_storage/QmdiMLvfejgBo224NkJhaQ2vxbrGT8ViRaWfBpgnMoEVAk',
  type: 'copy320',
  trackUUID: 'fa1d375a-50b9-43b0-82c4-a9c05420c125',
  updatedAt: 2020-03-05T17:32:26.460Z,
  createdAt: 2020-03-05T17:32:26.460Z }
writing to db2...
Executing (b0db5c91-76fb-4580-8f98-f3ea36db9a52): START TRANSACTION;
Executing (b0db5c91-76fb-4580-8f98-f3ea36db9a52): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '1350147d-276f-4221-8c54-a597192c1ed9' AND "File"."multihash" = 'QmdiMLvfejgBo224NkJhaQ2vxbrGT8ViRaWfBpgnMoEVAk' AND "File"."sourceFile" = 'd9de38ea-6b6d-42db-95d3-9ed97320b405.mp3' AND "File"."storagePath" = '/file_storage/QmdiMLvfejgBo224NkJhaQ2vxbrGT8ViRaWfBpgnMoEVAk' AND "File"."type" = 'copy320' AND "File"."trackUUID" = 'fa1d375a-50b9-43b0-82c4-a9c05420c125' LIMIT 1;
Executing (b0db5c91-76fb-4580-8f98-f3ea36db9a52): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_dd8cc5d2d4d34510a0a7070854124742$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('52d8da75-a4cb-483d-96c4-bac64e2dc6b2','1350147d-276f-4221-8c54-a597192c1ed9','fa1d375a-50b9-43b0-82c4-a9c05420c125','QmdiMLvfejgBo224NkJhaQ2vxbrGT8ViRaWfBpgnMoEVAk','d9de38ea-6b6d-42db-95d3-9ed97320b405.mp3','/file_storage/QmdiMLvfejgBo224NkJhaQ2vxbrGT8ViRaWfBpgnMoEVAk','copy320','2020-03-05 17:32:26.868 +00:00','2020-03-05 17:32:26.868 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_dd8cc5d2d4d34510a0a7070854124742$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (b0db5c91-76fb-4580-8f98-f3ea36db9a52): COMMIT;
{ fileUUID: '52d8da75-a4cb-483d-96c4-bac64e2dc6b2',
  cnodeUserUUID: '1350147d-276f-4221-8c54-a597192c1ed9',
  multihash: 'QmdiMLvfejgBo224NkJhaQ2vxbrGT8ViRaWfBpgnMoEVAk',
  sourceFile: 'd9de38ea-6b6d-42db-95d3-9ed97320b405.mp3',
  storagePath:
   '/file_storage/QmdiMLvfejgBo224NkJhaQ2vxbrGT8ViRaWfBpgnMoEVAk',
  type: 'copy320',
  trackUUID: 'fa1d375a-50b9-43b0-82c4-a9c05420c125',
  updatedAt: 2020-03-05T17:32:26.868Z,
  createdAt: 2020-03-05T17:32:26.868Z }
writing to db3...
Executing (22d28712-6b10-49bb-9a8a-cdfd0b2ddda5): START TRANSACTION;
Executing (22d28712-6b10-49bb-9a8a-cdfd0b2ddda5): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '1350147d-276f-4221-8c54-a597192c1ed9' AND "File"."multihash" = 'QmdiMLvfejgBo224NkJhaQ2vxbrGT8ViRaWfBpgnMoEVAk' AND "File"."sourceFile" = 'd9de38ea-6b6d-42db-95d3-9ed97320b405.mp3' AND "File"."storagePath" = '/file_storage/QmdiMLvfejgBo224NkJhaQ2vxbrGT8ViRaWfBpgnMoEVAk' AND "File"."type" = 'copy320' AND "File"."trackUUID" = 'fa1d375a-50b9-43b0-82c4-a9c05420c125' LIMIT 1;
Executing (22d28712-6b10-49bb-9a8a-cdfd0b2ddda5): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_7c36744b979d4f4cabb179b87c47f5f9$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('f52f1218-994c-4270-af1d-31ec161985b2','1350147d-276f-4221-8c54-a597192c1ed9','fa1d375a-50b9-43b0-82c4-a9c05420c125','QmdiMLvfejgBo224NkJhaQ2vxbrGT8ViRaWfBpgnMoEVAk','d9de38ea-6b6d-42db-95d3-9ed97320b405.mp3','/file_storage/QmdiMLvfejgBo224NkJhaQ2vxbrGT8ViRaWfBpgnMoEVAk','copy320','2020-03-05 17:32:27.279 +00:00','2020-03-05 17:32:27.279 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_7c36744b979d4f4cabb179b87c47f5f9$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (22d28712-6b10-49bb-9a8a-cdfd0b2ddda5): COMMIT;
{ fileUUID: 'f52f1218-994c-4270-af1d-31ec161985b2',
  cnodeUserUUID: '1350147d-276f-4221-8c54-a597192c1ed9',
  multihash: 'QmdiMLvfejgBo224NkJhaQ2vxbrGT8ViRaWfBpgnMoEVAk',
  sourceFile: 'd9de38ea-6b6d-42db-95d3-9ed97320b405.mp3',
  storagePath:
   '/file_storage/QmdiMLvfejgBo224NkJhaQ2vxbrGT8ViRaWfBpgnMoEVAk',
  type: 'copy320',
  trackUUID: 'fa1d375a-50b9-43b0-82c4-a9c05420c125',
  updatedAt: 2020-03-05T17:32:27.279Z,
  createdAt: 2020-03-05T17:32:27.279Z }




PROCESSING ROW #38: sourcefile: f464f532-6248-4aa7-9fca-4cb5f338238a.mp3, cnodeUserUUID: 09731d4c-a0f9-441d-9488-d29e99b29fbe, trackUUID: 47d30706-8815-49b1-bde6-e2f594cd9c3d, multihash: QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM, dstPath: /file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM
writing to db1...
Executing (baee20fb-2cbe-4778-8c56-063fbbaee584): START TRANSACTION;
Executing (baee20fb-2cbe-4778-8c56-063fbbaee584): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '09731d4c-a0f9-441d-9488-d29e99b29fbe' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = 'f464f532-6248-4aa7-9fca-4cb5f338238a.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '47d30706-8815-49b1-bde6-e2f594cd9c3d' LIMIT 1;
Executing (baee20fb-2cbe-4778-8c56-063fbbaee584): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_8147bb8db45b42dea06899283cd01c62$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('8a8814a2-a8dd-4eb7-a953-2d78added054','09731d4c-a0f9-441d-9488-d29e99b29fbe','47d30706-8815-49b1-bde6-e2f594cd9c3d','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','f464f532-6248-4aa7-9fca-4cb5f338238a.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:32:27.677 +00:00','2020-03-05 17:32:27.677 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_8147bb8db45b42dea06899283cd01c62$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (baee20fb-2cbe-4778-8c56-063fbbaee584): COMMIT;
{ fileUUID: '8a8814a2-a8dd-4eb7-a953-2d78added054',
  cnodeUserUUID: '09731d4c-a0f9-441d-9488-d29e99b29fbe',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: 'f464f532-6248-4aa7-9fca-4cb5f338238a.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: '47d30706-8815-49b1-bde6-e2f594cd9c3d',
  updatedAt: 2020-03-05T17:32:27.677Z,
  createdAt: 2020-03-05T17:32:27.677Z }
writing to db2...
Executing (2641b066-2868-4d2a-8d54-039a06b98db6): START TRANSACTION;
Executing (2641b066-2868-4d2a-8d54-039a06b98db6): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '09731d4c-a0f9-441d-9488-d29e99b29fbe' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = 'f464f532-6248-4aa7-9fca-4cb5f338238a.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '47d30706-8815-49b1-bde6-e2f594cd9c3d' LIMIT 1;
Executing (2641b066-2868-4d2a-8d54-039a06b98db6): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_ada42eeaf82f43a08832aaab49394861$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('070cc8a6-d97e-4403-b780-ce8ca820e540','09731d4c-a0f9-441d-9488-d29e99b29fbe','47d30706-8815-49b1-bde6-e2f594cd9c3d','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','f464f532-6248-4aa7-9fca-4cb5f338238a.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:32:28.084 +00:00','2020-03-05 17:32:28.084 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_ada42eeaf82f43a08832aaab49394861$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (2641b066-2868-4d2a-8d54-039a06b98db6): COMMIT;
{ fileUUID: '070cc8a6-d97e-4403-b780-ce8ca820e540',
  cnodeUserUUID: '09731d4c-a0f9-441d-9488-d29e99b29fbe',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: 'f464f532-6248-4aa7-9fca-4cb5f338238a.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: '47d30706-8815-49b1-bde6-e2f594cd9c3d',
  updatedAt: 2020-03-05T17:32:28.084Z,
  createdAt: 2020-03-05T17:32:28.084Z }
writing to db3...
Executing (da598d9c-2c8a-4511-9be6-525899af370b): START TRANSACTION;
Executing (da598d9c-2c8a-4511-9be6-525899af370b): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '09731d4c-a0f9-441d-9488-d29e99b29fbe' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = 'f464f532-6248-4aa7-9fca-4cb5f338238a.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '47d30706-8815-49b1-bde6-e2f594cd9c3d' LIMIT 1;
Executing (da598d9c-2c8a-4511-9be6-525899af370b): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_3db9aed9354c4baeafe3204098f8daff$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('3e27c5f9-d911-4a7b-a9c6-104f391ca065','09731d4c-a0f9-441d-9488-d29e99b29fbe','47d30706-8815-49b1-bde6-e2f594cd9c3d','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','f464f532-6248-4aa7-9fca-4cb5f338238a.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:32:28.492 +00:00','2020-03-05 17:32:28.492 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_3db9aed9354c4baeafe3204098f8daff$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (da598d9c-2c8a-4511-9be6-525899af370b): COMMIT;
{ fileUUID: '3e27c5f9-d911-4a7b-a9c6-104f391ca065',
  cnodeUserUUID: '09731d4c-a0f9-441d-9488-d29e99b29fbe',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: 'f464f532-6248-4aa7-9fca-4cb5f338238a.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: '47d30706-8815-49b1-bde6-e2f594cd9c3d',
  updatedAt: 2020-03-05T17:32:28.492Z,
  createdAt: 2020-03-05T17:32:28.492Z }




PROCESSING ROW #39: sourcefile: f3d37b9f-5a6d-4234-80b3-2ec189275a9f.mp3, cnodeUserUUID: 49936bec-f960-4a26-bcbc-76f7eea00682, trackUUID: 15ba1862-c5ac-40c3-a1dc-906c5d450cac, multihash: QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM, dstPath: /file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM
writing to db1...
Executing (522c1e94-6818-44f0-94b9-2398eba5d02b): START TRANSACTION;
Executing (522c1e94-6818-44f0-94b9-2398eba5d02b): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '49936bec-f960-4a26-bcbc-76f7eea00682' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = 'f3d37b9f-5a6d-4234-80b3-2ec189275a9f.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '15ba1862-c5ac-40c3-a1dc-906c5d450cac' LIMIT 1;
Executing (522c1e94-6818-44f0-94b9-2398eba5d02b): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_8cb86265b1084f508c22a75d69220f8e$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('b21772eb-c57f-430b-ad32-e490dfd17c28','49936bec-f960-4a26-bcbc-76f7eea00682','15ba1862-c5ac-40c3-a1dc-906c5d450cac','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','f3d37b9f-5a6d-4234-80b3-2ec189275a9f.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:32:28.900 +00:00','2020-03-05 17:32:28.900 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_8cb86265b1084f508c22a75d69220f8e$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (522c1e94-6818-44f0-94b9-2398eba5d02b): COMMIT;
{ fileUUID: 'b21772eb-c57f-430b-ad32-e490dfd17c28',
  cnodeUserUUID: '49936bec-f960-4a26-bcbc-76f7eea00682',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: 'f3d37b9f-5a6d-4234-80b3-2ec189275a9f.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: '15ba1862-c5ac-40c3-a1dc-906c5d450cac',
  updatedAt: 2020-03-05T17:32:28.900Z,
  createdAt: 2020-03-05T17:32:28.900Z }
writing to db2...
Executing (92e86a43-3f40-4811-892e-48f217cd114f): START TRANSACTION;
Executing (92e86a43-3f40-4811-892e-48f217cd114f): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '49936bec-f960-4a26-bcbc-76f7eea00682' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = 'f3d37b9f-5a6d-4234-80b3-2ec189275a9f.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '15ba1862-c5ac-40c3-a1dc-906c5d450cac' LIMIT 1;
Executing (92e86a43-3f40-4811-892e-48f217cd114f): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_f525b7b92f9543ae8f25a48c1a20088a$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('9296b0e9-471a-4f7a-8230-8c258325b76b','49936bec-f960-4a26-bcbc-76f7eea00682','15ba1862-c5ac-40c3-a1dc-906c5d450cac','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','f3d37b9f-5a6d-4234-80b3-2ec189275a9f.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:32:29.305 +00:00','2020-03-05 17:32:29.305 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_f525b7b92f9543ae8f25a48c1a20088a$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (92e86a43-3f40-4811-892e-48f217cd114f): COMMIT;
{ fileUUID: '9296b0e9-471a-4f7a-8230-8c258325b76b',
  cnodeUserUUID: '49936bec-f960-4a26-bcbc-76f7eea00682',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: 'f3d37b9f-5a6d-4234-80b3-2ec189275a9f.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: '15ba1862-c5ac-40c3-a1dc-906c5d450cac',
  updatedAt: 2020-03-05T17:32:29.305Z,
  createdAt: 2020-03-05T17:32:29.305Z }
writing to db3...
Executing (ebf60450-2882-47f8-b2ef-5870d0a843a3): START TRANSACTION;
Executing (ebf60450-2882-47f8-b2ef-5870d0a843a3): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '49936bec-f960-4a26-bcbc-76f7eea00682' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = 'f3d37b9f-5a6d-4234-80b3-2ec189275a9f.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '15ba1862-c5ac-40c3-a1dc-906c5d450cac' LIMIT 1;
Executing (ebf60450-2882-47f8-b2ef-5870d0a843a3): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_8e4355d92be34477a3068298c522796e$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('11826636-2e95-4190-9d59-346a16f249f6','49936bec-f960-4a26-bcbc-76f7eea00682','15ba1862-c5ac-40c3-a1dc-906c5d450cac','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','f3d37b9f-5a6d-4234-80b3-2ec189275a9f.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:32:29.703 +00:00','2020-03-05 17:32:29.703 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_8e4355d92be34477a3068298c522796e$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (ebf60450-2882-47f8-b2ef-5870d0a843a3): COMMIT;
{ fileUUID: '11826636-2e95-4190-9d59-346a16f249f6',
  cnodeUserUUID: '49936bec-f960-4a26-bcbc-76f7eea00682',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: 'f3d37b9f-5a6d-4234-80b3-2ec189275a9f.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: '15ba1862-c5ac-40c3-a1dc-906c5d450cac',
  updatedAt: 2020-03-05T17:32:29.703Z,
  createdAt: 2020-03-05T17:32:29.703Z }




PROCESSING ROW #40: sourcefile: 630a5d85-fd98-43dc-8c14-5e2d4cf9790d.mp3, cnodeUserUUID: ba2a565f-62f4-46d9-b723-bde8a569329d, trackUUID: 73ee6862-4833-4ddb-b2e8-3cc3396cfdfb, multihash: QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM, dstPath: /file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM
writing to db1...
Executing (dce4f9af-9028-4560-beae-320823cf632c): START TRANSACTION;
Executing (dce4f9af-9028-4560-beae-320823cf632c): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = 'ba2a565f-62f4-46d9-b723-bde8a569329d' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = '630a5d85-fd98-43dc-8c14-5e2d4cf9790d.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '73ee6862-4833-4ddb-b2e8-3cc3396cfdfb' LIMIT 1;
Executing (dce4f9af-9028-4560-beae-320823cf632c): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_4aa5b2effafc45af89bf443798b5c16c$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('6b2577ef-2bb1-4a73-936b-7addae632d1c','ba2a565f-62f4-46d9-b723-bde8a569329d','73ee6862-4833-4ddb-b2e8-3cc3396cfdfb','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','630a5d85-fd98-43dc-8c14-5e2d4cf9790d.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:32:30.112 +00:00','2020-03-05 17:32:30.112 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_4aa5b2effafc45af89bf443798b5c16c$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (dce4f9af-9028-4560-beae-320823cf632c): COMMIT;
{ fileUUID: '6b2577ef-2bb1-4a73-936b-7addae632d1c',
  cnodeUserUUID: 'ba2a565f-62f4-46d9-b723-bde8a569329d',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: '630a5d85-fd98-43dc-8c14-5e2d4cf9790d.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: '73ee6862-4833-4ddb-b2e8-3cc3396cfdfb',
  updatedAt: 2020-03-05T17:32:30.112Z,
  createdAt: 2020-03-05T17:32:30.112Z }
writing to db2...
Executing (9191b7e0-b88f-4d9b-8d91-7a19e20cb439): START TRANSACTION;
Executing (9191b7e0-b88f-4d9b-8d91-7a19e20cb439): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = 'ba2a565f-62f4-46d9-b723-bde8a569329d' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = '630a5d85-fd98-43dc-8c14-5e2d4cf9790d.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '73ee6862-4833-4ddb-b2e8-3cc3396cfdfb' LIMIT 1;
Executing (9191b7e0-b88f-4d9b-8d91-7a19e20cb439): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_6f7c88b414004d8cb01d50914798ebfd$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('e486f773-08c1-4eff-8ac1-f5e11e58abf7','ba2a565f-62f4-46d9-b723-bde8a569329d','73ee6862-4833-4ddb-b2e8-3cc3396cfdfb','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','630a5d85-fd98-43dc-8c14-5e2d4cf9790d.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:32:30.521 +00:00','2020-03-05 17:32:30.521 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_6f7c88b414004d8cb01d50914798ebfd$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (9191b7e0-b88f-4d9b-8d91-7a19e20cb439): COMMIT;
{ fileUUID: 'e486f773-08c1-4eff-8ac1-f5e11e58abf7',
  cnodeUserUUID: 'ba2a565f-62f4-46d9-b723-bde8a569329d',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: '630a5d85-fd98-43dc-8c14-5e2d4cf9790d.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: '73ee6862-4833-4ddb-b2e8-3cc3396cfdfb',
  updatedAt: 2020-03-05T17:32:30.521Z,
  createdAt: 2020-03-05T17:32:30.521Z }
writing to db3...
Executing (75e70f5f-5f19-409c-9437-0b19f6cbf263): START TRANSACTION;
Executing (75e70f5f-5f19-409c-9437-0b19f6cbf263): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = 'ba2a565f-62f4-46d9-b723-bde8a569329d' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = '630a5d85-fd98-43dc-8c14-5e2d4cf9790d.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '73ee6862-4833-4ddb-b2e8-3cc3396cfdfb' LIMIT 1;
Executing (75e70f5f-5f19-409c-9437-0b19f6cbf263): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_63f30b3118664e4c95472a788217cefb$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('34161fbd-03cf-434c-8386-88358c1aac4c','ba2a565f-62f4-46d9-b723-bde8a569329d','73ee6862-4833-4ddb-b2e8-3cc3396cfdfb','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','630a5d85-fd98-43dc-8c14-5e2d4cf9790d.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:32:30.932 +00:00','2020-03-05 17:32:30.932 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_63f30b3118664e4c95472a788217cefb$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (75e70f5f-5f19-409c-9437-0b19f6cbf263): COMMIT;
{ fileUUID: '34161fbd-03cf-434c-8386-88358c1aac4c',
  cnodeUserUUID: 'ba2a565f-62f4-46d9-b723-bde8a569329d',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: '630a5d85-fd98-43dc-8c14-5e2d4cf9790d.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: '73ee6862-4833-4ddb-b2e8-3cc3396cfdfb',
  updatedAt: 2020-03-05T17:32:30.932Z,
  createdAt: 2020-03-05T17:32:30.932Z }




PROCESSING ROW #41: sourcefile: 38cbba5f-d8c6-43b7-9bbc-d29ab38e123f.mp3, cnodeUserUUID: 02329621-6b2c-45a9-9d9e-e8fc6ebef262, trackUUID: d64f789c-b209-4bf6-a656-88ba1a1f1885, multihash: QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM, dstPath: /file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM
writing to db1...
Executing (ac0fc191-41ff-41cc-860b-b88278dd9231): START TRANSACTION;
Executing (ac0fc191-41ff-41cc-860b-b88278dd9231): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '02329621-6b2c-45a9-9d9e-e8fc6ebef262' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = '38cbba5f-d8c6-43b7-9bbc-d29ab38e123f.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = 'd64f789c-b209-4bf6-a656-88ba1a1f1885' LIMIT 1;
Executing (ac0fc191-41ff-41cc-860b-b88278dd9231): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_8cb478c5dc0b4a3586af62fcb39ec165$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('6fb6d96b-9597-4755-9335-91e0246fc080','02329621-6b2c-45a9-9d9e-e8fc6ebef262','d64f789c-b209-4bf6-a656-88ba1a1f1885','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','38cbba5f-d8c6-43b7-9bbc-d29ab38e123f.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:32:31.345 +00:00','2020-03-05 17:32:31.345 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_8cb478c5dc0b4a3586af62fcb39ec165$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (ac0fc191-41ff-41cc-860b-b88278dd9231): COMMIT;
{ fileUUID: '6fb6d96b-9597-4755-9335-91e0246fc080',
  cnodeUserUUID: '02329621-6b2c-45a9-9d9e-e8fc6ebef262',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: '38cbba5f-d8c6-43b7-9bbc-d29ab38e123f.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: 'd64f789c-b209-4bf6-a656-88ba1a1f1885',
  updatedAt: 2020-03-05T17:32:31.345Z,
  createdAt: 2020-03-05T17:32:31.345Z }
writing to db2...
Executing (00f24134-3b7f-426b-8b5e-9fcbb2f101aa): START TRANSACTION;
Executing (00f24134-3b7f-426b-8b5e-9fcbb2f101aa): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '02329621-6b2c-45a9-9d9e-e8fc6ebef262' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = '38cbba5f-d8c6-43b7-9bbc-d29ab38e123f.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = 'd64f789c-b209-4bf6-a656-88ba1a1f1885' LIMIT 1;
Executing (00f24134-3b7f-426b-8b5e-9fcbb2f101aa): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_ed97a44f822a4ccda24564c6a7d69104$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('9f03c908-6a5e-417a-a8ca-1673348de37f','02329621-6b2c-45a9-9d9e-e8fc6ebef262','d64f789c-b209-4bf6-a656-88ba1a1f1885','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','38cbba5f-d8c6-43b7-9bbc-d29ab38e123f.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:32:31.765 +00:00','2020-03-05 17:32:31.765 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_ed97a44f822a4ccda24564c6a7d69104$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (00f24134-3b7f-426b-8b5e-9fcbb2f101aa): COMMIT;
{ fileUUID: '9f03c908-6a5e-417a-a8ca-1673348de37f',
  cnodeUserUUID: '02329621-6b2c-45a9-9d9e-e8fc6ebef262',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: '38cbba5f-d8c6-43b7-9bbc-d29ab38e123f.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: 'd64f789c-b209-4bf6-a656-88ba1a1f1885',
  updatedAt: 2020-03-05T17:32:31.765Z,
  createdAt: 2020-03-05T17:32:31.765Z }
writing to db3...
Executing (c544c6c2-41a1-4ea3-9ff1-0e98a847bec1): START TRANSACTION;
Executing (c544c6c2-41a1-4ea3-9ff1-0e98a847bec1): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '02329621-6b2c-45a9-9d9e-e8fc6ebef262' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = '38cbba5f-d8c6-43b7-9bbc-d29ab38e123f.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = 'd64f789c-b209-4bf6-a656-88ba1a1f1885' LIMIT 1;
Executing (c544c6c2-41a1-4ea3-9ff1-0e98a847bec1): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_4b0873c7983340eaaaf5d6ef18942705$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('53746e24-c669-4d81-9aff-b93b4f7b3753','02329621-6b2c-45a9-9d9e-e8fc6ebef262','d64f789c-b209-4bf6-a656-88ba1a1f1885','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','38cbba5f-d8c6-43b7-9bbc-d29ab38e123f.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:32:32.161 +00:00','2020-03-05 17:32:32.161 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_4b0873c7983340eaaaf5d6ef18942705$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (c544c6c2-41a1-4ea3-9ff1-0e98a847bec1): COMMIT;
{ fileUUID: '53746e24-c669-4d81-9aff-b93b4f7b3753',
  cnodeUserUUID: '02329621-6b2c-45a9-9d9e-e8fc6ebef262',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: '38cbba5f-d8c6-43b7-9bbc-d29ab38e123f.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: 'd64f789c-b209-4bf6-a656-88ba1a1f1885',
  updatedAt: 2020-03-05T17:32:32.161Z,
  createdAt: 2020-03-05T17:32:32.161Z }




PROCESSING ROW #42: sourcefile: c64ce74a-bc82-4fb0-8e32-618870db0bf7.mp3, cnodeUserUUID: 6c6017c7-d558-4d29-a326-b5b3906a1de5, trackUUID: a0157cb3-a4fd-4ff1-bbb4-98bfc4b4d1b4, multihash: QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM, dstPath: /file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM
writing to db1...
Executing (e77aa02b-8710-4899-bd03-119f6ae5fe37): START TRANSACTION;
Executing (e77aa02b-8710-4899-bd03-119f6ae5fe37): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '6c6017c7-d558-4d29-a326-b5b3906a1de5' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = 'c64ce74a-bc82-4fb0-8e32-618870db0bf7.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = 'a0157cb3-a4fd-4ff1-bbb4-98bfc4b4d1b4' LIMIT 1;
Executing (e77aa02b-8710-4899-bd03-119f6ae5fe37): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_02af6da90f22416db0b8ca294883dcf4$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('ac05eb04-868a-43d7-989f-18e318310d55','6c6017c7-d558-4d29-a326-b5b3906a1de5','a0157cb3-a4fd-4ff1-bbb4-98bfc4b4d1b4','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','c64ce74a-bc82-4fb0-8e32-618870db0bf7.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:32:32.592 +00:00','2020-03-05 17:32:32.592 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_02af6da90f22416db0b8ca294883dcf4$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (e77aa02b-8710-4899-bd03-119f6ae5fe37): COMMIT;
{ fileUUID: 'ac05eb04-868a-43d7-989f-18e318310d55',
  cnodeUserUUID: '6c6017c7-d558-4d29-a326-b5b3906a1de5',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: 'c64ce74a-bc82-4fb0-8e32-618870db0bf7.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: 'a0157cb3-a4fd-4ff1-bbb4-98bfc4b4d1b4',
  updatedAt: 2020-03-05T17:32:32.592Z,
  createdAt: 2020-03-05T17:32:32.592Z }
writing to db2...
Executing (0ccfaf49-2825-47e5-911e-1d3d4f6942d9): START TRANSACTION;
Executing (0ccfaf49-2825-47e5-911e-1d3d4f6942d9): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '6c6017c7-d558-4d29-a326-b5b3906a1de5' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = 'c64ce74a-bc82-4fb0-8e32-618870db0bf7.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = 'a0157cb3-a4fd-4ff1-bbb4-98bfc4b4d1b4' LIMIT 1;
Executing (0ccfaf49-2825-47e5-911e-1d3d4f6942d9): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_129a17d48e89439b8e48a57680c82021$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('00c5ee73-c259-49e6-9755-47e41fdc6f28','6c6017c7-d558-4d29-a326-b5b3906a1de5','a0157cb3-a4fd-4ff1-bbb4-98bfc4b4d1b4','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','c64ce74a-bc82-4fb0-8e32-618870db0bf7.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:32:33.027 +00:00','2020-03-05 17:32:33.027 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_129a17d48e89439b8e48a57680c82021$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (0ccfaf49-2825-47e5-911e-1d3d4f6942d9): COMMIT;
{ fileUUID: '00c5ee73-c259-49e6-9755-47e41fdc6f28',
  cnodeUserUUID: '6c6017c7-d558-4d29-a326-b5b3906a1de5',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: 'c64ce74a-bc82-4fb0-8e32-618870db0bf7.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: 'a0157cb3-a4fd-4ff1-bbb4-98bfc4b4d1b4',
  updatedAt: 2020-03-05T17:32:33.027Z,
  createdAt: 2020-03-05T17:32:33.027Z }
writing to db3...
Executing (d13fc1d9-09fe-4595-b9fc-df259175994f): START TRANSACTION;
Executing (d13fc1d9-09fe-4595-b9fc-df259175994f): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '6c6017c7-d558-4d29-a326-b5b3906a1de5' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = 'c64ce74a-bc82-4fb0-8e32-618870db0bf7.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = 'a0157cb3-a4fd-4ff1-bbb4-98bfc4b4d1b4' LIMIT 1;
Executing (d13fc1d9-09fe-4595-b9fc-df259175994f): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_c372f104779e4d49a21eb331dfb11a76$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('e173b0a8-b599-49bf-857a-c6f1936be291','6c6017c7-d558-4d29-a326-b5b3906a1de5','a0157cb3-a4fd-4ff1-bbb4-98bfc4b4d1b4','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','c64ce74a-bc82-4fb0-8e32-618870db0bf7.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:32:33.422 +00:00','2020-03-05 17:32:33.422 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_c372f104779e4d49a21eb331dfb11a76$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (d13fc1d9-09fe-4595-b9fc-df259175994f): COMMIT;
{ fileUUID: 'e173b0a8-b599-49bf-857a-c6f1936be291',
  cnodeUserUUID: '6c6017c7-d558-4d29-a326-b5b3906a1de5',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: 'c64ce74a-bc82-4fb0-8e32-618870db0bf7.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: 'a0157cb3-a4fd-4ff1-bbb4-98bfc4b4d1b4',
  updatedAt: 2020-03-05T17:32:33.422Z,
  createdAt: 2020-03-05T17:32:33.422Z }




PROCESSING ROW #43: sourcefile: dfda0c1c-dc6d-465a-97c6-2beb5b452eb2.mp3, cnodeUserUUID: 5b1b6616-7821-4cbf-9eed-9589363c02ad, trackUUID: 1ef4a920-97d0-455c-9f15-f38bfd102592, multihash: QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM, dstPath: /file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM
writing to db1...
Executing (09126799-d9cd-420f-aebc-cbd0857cf275): START TRANSACTION;
Executing (09126799-d9cd-420f-aebc-cbd0857cf275): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '5b1b6616-7821-4cbf-9eed-9589363c02ad' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = 'dfda0c1c-dc6d-465a-97c6-2beb5b452eb2.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '1ef4a920-97d0-455c-9f15-f38bfd102592' LIMIT 1;
Executing (09126799-d9cd-420f-aebc-cbd0857cf275): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_a423137695ae4a56acaa3bd603c8db17$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('7cf43cf3-b1a5-4900-b74b-ce47d244a56a','5b1b6616-7821-4cbf-9eed-9589363c02ad','1ef4a920-97d0-455c-9f15-f38bfd102592','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','dfda0c1c-dc6d-465a-97c6-2beb5b452eb2.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:32:33.832 +00:00','2020-03-05 17:32:33.832 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_a423137695ae4a56acaa3bd603c8db17$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (09126799-d9cd-420f-aebc-cbd0857cf275): COMMIT;
{ fileUUID: '7cf43cf3-b1a5-4900-b74b-ce47d244a56a',
  cnodeUserUUID: '5b1b6616-7821-4cbf-9eed-9589363c02ad',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: 'dfda0c1c-dc6d-465a-97c6-2beb5b452eb2.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: '1ef4a920-97d0-455c-9f15-f38bfd102592',
  updatedAt: 2020-03-05T17:32:33.832Z,
  createdAt: 2020-03-05T17:32:33.832Z }
writing to db2...
Executing (369d471c-1452-4edf-bd20-4f883c2bdc5a): START TRANSACTION;
Executing (369d471c-1452-4edf-bd20-4f883c2bdc5a): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '5b1b6616-7821-4cbf-9eed-9589363c02ad' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = 'dfda0c1c-dc6d-465a-97c6-2beb5b452eb2.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '1ef4a920-97d0-455c-9f15-f38bfd102592' LIMIT 1;
Executing (369d471c-1452-4edf-bd20-4f883c2bdc5a): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_841d400a7896436d886e5e8918d99b1e$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('c831b411-85e4-4d60-90bd-59f9325336f4','5b1b6616-7821-4cbf-9eed-9589363c02ad','1ef4a920-97d0-455c-9f15-f38bfd102592','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','dfda0c1c-dc6d-465a-97c6-2beb5b452eb2.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:32:34.225 +00:00','2020-03-05 17:32:34.225 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_841d400a7896436d886e5e8918d99b1e$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (369d471c-1452-4edf-bd20-4f883c2bdc5a): COMMIT;
{ fileUUID: 'c831b411-85e4-4d60-90bd-59f9325336f4',
  cnodeUserUUID: '5b1b6616-7821-4cbf-9eed-9589363c02ad',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: 'dfda0c1c-dc6d-465a-97c6-2beb5b452eb2.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: '1ef4a920-97d0-455c-9f15-f38bfd102592',
  updatedAt: 2020-03-05T17:32:34.225Z,
  createdAt: 2020-03-05T17:32:34.225Z }
writing to db3...
Executing (7229a40b-3e46-4772-901b-26f8a1186246): START TRANSACTION;
Executing (7229a40b-3e46-4772-901b-26f8a1186246): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '5b1b6616-7821-4cbf-9eed-9589363c02ad' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = 'dfda0c1c-dc6d-465a-97c6-2beb5b452eb2.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '1ef4a920-97d0-455c-9f15-f38bfd102592' LIMIT 1;
Executing (7229a40b-3e46-4772-901b-26f8a1186246): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_382d210631494c87b9fe487a7bf0afaa$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('f9f06bd7-10f6-4228-ae2b-900988a25fce','5b1b6616-7821-4cbf-9eed-9589363c02ad','1ef4a920-97d0-455c-9f15-f38bfd102592','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','dfda0c1c-dc6d-465a-97c6-2beb5b452eb2.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:32:34.618 +00:00','2020-03-05 17:32:34.618 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_382d210631494c87b9fe487a7bf0afaa$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (7229a40b-3e46-4772-901b-26f8a1186246): COMMIT;
{ fileUUID: 'f9f06bd7-10f6-4228-ae2b-900988a25fce',
  cnodeUserUUID: '5b1b6616-7821-4cbf-9eed-9589363c02ad',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: 'dfda0c1c-dc6d-465a-97c6-2beb5b452eb2.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: '1ef4a920-97d0-455c-9f15-f38bfd102592',
  updatedAt: 2020-03-05T17:32:34.618Z,
  createdAt: 2020-03-05T17:32:34.618Z }




PROCESSING ROW #44: sourcefile: c0c6badb-14b1-4f87-9df0-83084fc035d1.mp3, cnodeUserUUID: 756426b2-0f2f-4b3a-b74d-52679a1b9410, trackUUID: cd9284cd-c0b6-4f1d-8e4b-ca6c93c66c5b, multihash: QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM, dstPath: /file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM
writing to db1...
Executing (19e81edb-0b21-4d6f-afb8-568e2674a51e): START TRANSACTION;
Executing (19e81edb-0b21-4d6f-afb8-568e2674a51e): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '756426b2-0f2f-4b3a-b74d-52679a1b9410' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = 'c0c6badb-14b1-4f87-9df0-83084fc035d1.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = 'cd9284cd-c0b6-4f1d-8e4b-ca6c93c66c5b' LIMIT 1;
Executing (19e81edb-0b21-4d6f-afb8-568e2674a51e): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_1c188b4597f7491190fd39e778547b17$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('0da79d14-6fc5-4cbb-909a-9b5e522b3b9f','756426b2-0f2f-4b3a-b74d-52679a1b9410','cd9284cd-c0b6-4f1d-8e4b-ca6c93c66c5b','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','c0c6badb-14b1-4f87-9df0-83084fc035d1.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:32:35.028 +00:00','2020-03-05 17:32:35.028 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_1c188b4597f7491190fd39e778547b17$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (19e81edb-0b21-4d6f-afb8-568e2674a51e): COMMIT;
{ fileUUID: '0da79d14-6fc5-4cbb-909a-9b5e522b3b9f',
  cnodeUserUUID: '756426b2-0f2f-4b3a-b74d-52679a1b9410',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: 'c0c6badb-14b1-4f87-9df0-83084fc035d1.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: 'cd9284cd-c0b6-4f1d-8e4b-ca6c93c66c5b',
  updatedAt: 2020-03-05T17:32:35.028Z,
  createdAt: 2020-03-05T17:32:35.028Z }
writing to db2...
Executing (25b7e274-dff7-456e-b56a-3863e38b4c63): START TRANSACTION;
Executing (25b7e274-dff7-456e-b56a-3863e38b4c63): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '756426b2-0f2f-4b3a-b74d-52679a1b9410' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = 'c0c6badb-14b1-4f87-9df0-83084fc035d1.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = 'cd9284cd-c0b6-4f1d-8e4b-ca6c93c66c5b' LIMIT 1;
Executing (25b7e274-dff7-456e-b56a-3863e38b4c63): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_13aadeeaf4a040238287de81b1dd0bde$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('4d62f334-79f3-4979-b4bb-61fca66f25ee','756426b2-0f2f-4b3a-b74d-52679a1b9410','cd9284cd-c0b6-4f1d-8e4b-ca6c93c66c5b','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','c0c6badb-14b1-4f87-9df0-83084fc035d1.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:32:35.431 +00:00','2020-03-05 17:32:35.431 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_13aadeeaf4a040238287de81b1dd0bde$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (25b7e274-dff7-456e-b56a-3863e38b4c63): COMMIT;
{ fileUUID: '4d62f334-79f3-4979-b4bb-61fca66f25ee',
  cnodeUserUUID: '756426b2-0f2f-4b3a-b74d-52679a1b9410',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: 'c0c6badb-14b1-4f87-9df0-83084fc035d1.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: 'cd9284cd-c0b6-4f1d-8e4b-ca6c93c66c5b',
  updatedAt: 2020-03-05T17:32:35.431Z,
  createdAt: 2020-03-05T17:32:35.431Z }
writing to db3...
Executing (9d5d3e3d-8632-4320-bcad-64cdecbd5fc6): START TRANSACTION;
Executing (9d5d3e3d-8632-4320-bcad-64cdecbd5fc6): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '756426b2-0f2f-4b3a-b74d-52679a1b9410' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = 'c0c6badb-14b1-4f87-9df0-83084fc035d1.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = 'cd9284cd-c0b6-4f1d-8e4b-ca6c93c66c5b' LIMIT 1;
Executing (9d5d3e3d-8632-4320-bcad-64cdecbd5fc6): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_b50a1c22a20543ceb2d115af75eff845$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('63d0be61-fd16-42c5-bcbf-3184e822ae34','756426b2-0f2f-4b3a-b74d-52679a1b9410','cd9284cd-c0b6-4f1d-8e4b-ca6c93c66c5b','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','c0c6badb-14b1-4f87-9df0-83084fc035d1.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:32:35.823 +00:00','2020-03-05 17:32:35.823 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_b50a1c22a20543ceb2d115af75eff845$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (9d5d3e3d-8632-4320-bcad-64cdecbd5fc6): COMMIT;
{ fileUUID: '63d0be61-fd16-42c5-bcbf-3184e822ae34',
  cnodeUserUUID: '756426b2-0f2f-4b3a-b74d-52679a1b9410',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: 'c0c6badb-14b1-4f87-9df0-83084fc035d1.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: 'cd9284cd-c0b6-4f1d-8e4b-ca6c93c66c5b',
  updatedAt: 2020-03-05T17:32:35.823Z,
  createdAt: 2020-03-05T17:32:35.823Z }




PROCESSING ROW #45: sourcefile: 40efb542-0c01-439d-933d-8cca8016a2f7.mp3, cnodeUserUUID: 32a7009f-59fa-4698-b432-4dffd56da775, trackUUID: 8affb25d-2e5b-4ea7-9402-dac723d2b2ad, multihash: QmcAD35vXY3h9iXGDF2sLTMTZ4QER63yKVoFrJQUpps6bq, dstPath: /file_storage/QmcAD35vXY3h9iXGDF2sLTMTZ4QER63yKVoFrJQUpps6bq
writing to db1...
Executing (5d4fdc7a-18cc-4ac2-b39f-a6a3b73246f4): START TRANSACTION;
Executing (5d4fdc7a-18cc-4ac2-b39f-a6a3b73246f4): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '32a7009f-59fa-4698-b432-4dffd56da775' AND "File"."multihash" = 'QmcAD35vXY3h9iXGDF2sLTMTZ4QER63yKVoFrJQUpps6bq' AND "File"."sourceFile" = '40efb542-0c01-439d-933d-8cca8016a2f7.mp3' AND "File"."storagePath" = '/file_storage/QmcAD35vXY3h9iXGDF2sLTMTZ4QER63yKVoFrJQUpps6bq' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '8affb25d-2e5b-4ea7-9402-dac723d2b2ad' LIMIT 1;
Executing (5d4fdc7a-18cc-4ac2-b39f-a6a3b73246f4): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_a5bf0c10e83c43b5a682a71276db222a$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('9fb509fc-c10d-4fca-aec1-d9c44ba6cf45','32a7009f-59fa-4698-b432-4dffd56da775','8affb25d-2e5b-4ea7-9402-dac723d2b2ad','QmcAD35vXY3h9iXGDF2sLTMTZ4QER63yKVoFrJQUpps6bq','40efb542-0c01-439d-933d-8cca8016a2f7.mp3','/file_storage/QmcAD35vXY3h9iXGDF2sLTMTZ4QER63yKVoFrJQUpps6bq','copy320','2020-03-05 17:32:36.212 +00:00','2020-03-05 17:32:36.212 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_a5bf0c10e83c43b5a682a71276db222a$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (5d4fdc7a-18cc-4ac2-b39f-a6a3b73246f4): COMMIT;
{ fileUUID: '9fb509fc-c10d-4fca-aec1-d9c44ba6cf45',
  cnodeUserUUID: '32a7009f-59fa-4698-b432-4dffd56da775',
  multihash: 'QmcAD35vXY3h9iXGDF2sLTMTZ4QER63yKVoFrJQUpps6bq',
  sourceFile: '40efb542-0c01-439d-933d-8cca8016a2f7.mp3',
  storagePath:
   '/file_storage/QmcAD35vXY3h9iXGDF2sLTMTZ4QER63yKVoFrJQUpps6bq',
  type: 'copy320',
  trackUUID: '8affb25d-2e5b-4ea7-9402-dac723d2b2ad',
  updatedAt: 2020-03-05T17:32:36.212Z,
  createdAt: 2020-03-05T17:32:36.212Z }
writing to db2...
Executing (fe30b376-70bd-4e8d-9049-576598dd6515): START TRANSACTION;
Executing (fe30b376-70bd-4e8d-9049-576598dd6515): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '32a7009f-59fa-4698-b432-4dffd56da775' AND "File"."multihash" = 'QmcAD35vXY3h9iXGDF2sLTMTZ4QER63yKVoFrJQUpps6bq' AND "File"."sourceFile" = '40efb542-0c01-439d-933d-8cca8016a2f7.mp3' AND "File"."storagePath" = '/file_storage/QmcAD35vXY3h9iXGDF2sLTMTZ4QER63yKVoFrJQUpps6bq' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '8affb25d-2e5b-4ea7-9402-dac723d2b2ad' LIMIT 1;
Executing (fe30b376-70bd-4e8d-9049-576598dd6515): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_19159bceaa054f79a0544774c691247d$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('e7d00475-9024-4ed3-91b5-e7111feb9312','32a7009f-59fa-4698-b432-4dffd56da775','8affb25d-2e5b-4ea7-9402-dac723d2b2ad','QmcAD35vXY3h9iXGDF2sLTMTZ4QER63yKVoFrJQUpps6bq','40efb542-0c01-439d-933d-8cca8016a2f7.mp3','/file_storage/QmcAD35vXY3h9iXGDF2sLTMTZ4QER63yKVoFrJQUpps6bq','copy320','2020-03-05 17:32:36.617 +00:00','2020-03-05 17:32:36.617 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_19159bceaa054f79a0544774c691247d$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (fe30b376-70bd-4e8d-9049-576598dd6515): COMMIT;
{ fileUUID: 'e7d00475-9024-4ed3-91b5-e7111feb9312',
  cnodeUserUUID: '32a7009f-59fa-4698-b432-4dffd56da775',
  multihash: 'QmcAD35vXY3h9iXGDF2sLTMTZ4QER63yKVoFrJQUpps6bq',
  sourceFile: '40efb542-0c01-439d-933d-8cca8016a2f7.mp3',
  storagePath:
   '/file_storage/QmcAD35vXY3h9iXGDF2sLTMTZ4QER63yKVoFrJQUpps6bq',
  type: 'copy320',
  trackUUID: '8affb25d-2e5b-4ea7-9402-dac723d2b2ad',
  updatedAt: 2020-03-05T17:32:36.617Z,
  createdAt: 2020-03-05T17:32:36.617Z }
writing to db3...
Executing (8a437377-0542-42bc-a344-8af5cf1e136c): START TRANSACTION;
Executing (8a437377-0542-42bc-a344-8af5cf1e136c): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '32a7009f-59fa-4698-b432-4dffd56da775' AND "File"."multihash" = 'QmcAD35vXY3h9iXGDF2sLTMTZ4QER63yKVoFrJQUpps6bq' AND "File"."sourceFile" = '40efb542-0c01-439d-933d-8cca8016a2f7.mp3' AND "File"."storagePath" = '/file_storage/QmcAD35vXY3h9iXGDF2sLTMTZ4QER63yKVoFrJQUpps6bq' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '8affb25d-2e5b-4ea7-9402-dac723d2b2ad' LIMIT 1;
Executing (8a437377-0542-42bc-a344-8af5cf1e136c): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_dc4516753e0147758b6c927164dd77ea$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('f6989c10-b214-432b-9d56-a8299e19699c','32a7009f-59fa-4698-b432-4dffd56da775','8affb25d-2e5b-4ea7-9402-dac723d2b2ad','QmcAD35vXY3h9iXGDF2sLTMTZ4QER63yKVoFrJQUpps6bq','40efb542-0c01-439d-933d-8cca8016a2f7.mp3','/file_storage/QmcAD35vXY3h9iXGDF2sLTMTZ4QER63yKVoFrJQUpps6bq','copy320','2020-03-05 17:32:37.006 +00:00','2020-03-05 17:32:37.006 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_dc4516753e0147758b6c927164dd77ea$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (8a437377-0542-42bc-a344-8af5cf1e136c): COMMIT;
{ fileUUID: 'f6989c10-b214-432b-9d56-a8299e19699c',
  cnodeUserUUID: '32a7009f-59fa-4698-b432-4dffd56da775',
  multihash: 'QmcAD35vXY3h9iXGDF2sLTMTZ4QER63yKVoFrJQUpps6bq',
  sourceFile: '40efb542-0c01-439d-933d-8cca8016a2f7.mp3',
  storagePath:
   '/file_storage/QmcAD35vXY3h9iXGDF2sLTMTZ4QER63yKVoFrJQUpps6bq',
  type: 'copy320',
  trackUUID: '8affb25d-2e5b-4ea7-9402-dac723d2b2ad',
  updatedAt: 2020-03-05T17:32:37.006Z,
  createdAt: 2020-03-05T17:32:37.006Z }




PROCESSING ROW #46: sourcefile: 91732327-4287-4764-af6f-20d856106456.mp3, cnodeUserUUID: a5edc788-a395-4ff3-92d5-7a460831675a, trackUUID: 6c1d8768-2a51-4f88-9164-0c8d98e8f4f5, multihash: QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM, dstPath: /file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM
writing to db1...
Executing (f4d4a3ff-aaff-4bdd-8da2-140a7f7a5830): START TRANSACTION;
Executing (f4d4a3ff-aaff-4bdd-8da2-140a7f7a5830): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = 'a5edc788-a395-4ff3-92d5-7a460831675a' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = '91732327-4287-4764-af6f-20d856106456.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '6c1d8768-2a51-4f88-9164-0c8d98e8f4f5' LIMIT 1;
Executing (f4d4a3ff-aaff-4bdd-8da2-140a7f7a5830): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_8e5682671cbb45cbb16e2edabfb78b39$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('ed7ea560-8170-48f6-8f64-e3e58bee015f','a5edc788-a395-4ff3-92d5-7a460831675a','6c1d8768-2a51-4f88-9164-0c8d98e8f4f5','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','91732327-4287-4764-af6f-20d856106456.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:32:37.410 +00:00','2020-03-05 17:32:37.410 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_8e5682671cbb45cbb16e2edabfb78b39$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (f4d4a3ff-aaff-4bdd-8da2-140a7f7a5830): COMMIT;
{ fileUUID: 'ed7ea560-8170-48f6-8f64-e3e58bee015f',
  cnodeUserUUID: 'a5edc788-a395-4ff3-92d5-7a460831675a',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: '91732327-4287-4764-af6f-20d856106456.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: '6c1d8768-2a51-4f88-9164-0c8d98e8f4f5',
  updatedAt: 2020-03-05T17:32:37.410Z,
  createdAt: 2020-03-05T17:32:37.410Z }
writing to db2...
Executing (92c36e88-3417-4ae7-aa02-987dc2ffb74a): START TRANSACTION;
Executing (92c36e88-3417-4ae7-aa02-987dc2ffb74a): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = 'a5edc788-a395-4ff3-92d5-7a460831675a' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = '91732327-4287-4764-af6f-20d856106456.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '6c1d8768-2a51-4f88-9164-0c8d98e8f4f5' LIMIT 1;
Executing (92c36e88-3417-4ae7-aa02-987dc2ffb74a): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_f1bafc1d2d834929ac1955eb4db43572$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('1927f81c-b4cb-45f6-b659-fb6ca1077136','a5edc788-a395-4ff3-92d5-7a460831675a','6c1d8768-2a51-4f88-9164-0c8d98e8f4f5','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','91732327-4287-4764-af6f-20d856106456.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:32:37.805 +00:00','2020-03-05 17:32:37.805 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_f1bafc1d2d834929ac1955eb4db43572$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (92c36e88-3417-4ae7-aa02-987dc2ffb74a): COMMIT;
{ fileUUID: '1927f81c-b4cb-45f6-b659-fb6ca1077136',
  cnodeUserUUID: 'a5edc788-a395-4ff3-92d5-7a460831675a',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: '91732327-4287-4764-af6f-20d856106456.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: '6c1d8768-2a51-4f88-9164-0c8d98e8f4f5',
  updatedAt: 2020-03-05T17:32:37.805Z,
  createdAt: 2020-03-05T17:32:37.805Z }
writing to db3...
Executing (c3d47f3d-3827-42bc-9aca-4da7a3927408): START TRANSACTION;
Executing (c3d47f3d-3827-42bc-9aca-4da7a3927408): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = 'a5edc788-a395-4ff3-92d5-7a460831675a' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = '91732327-4287-4764-af6f-20d856106456.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '6c1d8768-2a51-4f88-9164-0c8d98e8f4f5' LIMIT 1;
Executing (c3d47f3d-3827-42bc-9aca-4da7a3927408): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_aecf26b282df486ab74c8253f42334b4$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('1526e9f2-5302-4e50-8b99-742684b9cc9d','a5edc788-a395-4ff3-92d5-7a460831675a','6c1d8768-2a51-4f88-9164-0c8d98e8f4f5','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','91732327-4287-4764-af6f-20d856106456.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:32:38.200 +00:00','2020-03-05 17:32:38.200 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_aecf26b282df486ab74c8253f42334b4$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (c3d47f3d-3827-42bc-9aca-4da7a3927408): COMMIT;
{ fileUUID: '1526e9f2-5302-4e50-8b99-742684b9cc9d',
  cnodeUserUUID: 'a5edc788-a395-4ff3-92d5-7a460831675a',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: '91732327-4287-4764-af6f-20d856106456.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: '6c1d8768-2a51-4f88-9164-0c8d98e8f4f5',
  updatedAt: 2020-03-05T17:32:38.200Z,
  createdAt: 2020-03-05T17:32:38.200Z }




PROCESSING ROW #47: sourcefile: 275e918a-cf85-49a0-8648-9b6e82e2f0d0.mp3, cnodeUserUUID: 1350147d-276f-4221-8c54-a597192c1ed9, trackUUID: 87561472-4d7e-4e65-8f6b-2dfa1518b11b, multihash: QmWbwZMo4BAtkT871QaKsL185X7vnkU4wF4VVfWYJ3Nz3c, dstPath: /file_storage/QmWbwZMo4BAtkT871QaKsL185X7vnkU4wF4VVfWYJ3Nz3c
writing to db1...
Executing (9df4e30f-df06-46dc-9544-17d466a0b95f): START TRANSACTION;
Executing (9df4e30f-df06-46dc-9544-17d466a0b95f): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '1350147d-276f-4221-8c54-a597192c1ed9' AND "File"."multihash" = 'QmWbwZMo4BAtkT871QaKsL185X7vnkU4wF4VVfWYJ3Nz3c' AND "File"."sourceFile" = '275e918a-cf85-49a0-8648-9b6e82e2f0d0.mp3' AND "File"."storagePath" = '/file_storage/QmWbwZMo4BAtkT871QaKsL185X7vnkU4wF4VVfWYJ3Nz3c' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '87561472-4d7e-4e65-8f6b-2dfa1518b11b' LIMIT 1;
Executing (9df4e30f-df06-46dc-9544-17d466a0b95f): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_39971cdb212042939f07ef0c79e698a5$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('6b0a247f-94f7-4388-9ea1-b9d26bc15c80','1350147d-276f-4221-8c54-a597192c1ed9','87561472-4d7e-4e65-8f6b-2dfa1518b11b','QmWbwZMo4BAtkT871QaKsL185X7vnkU4wF4VVfWYJ3Nz3c','275e918a-cf85-49a0-8648-9b6e82e2f0d0.mp3','/file_storage/QmWbwZMo4BAtkT871QaKsL185X7vnkU4wF4VVfWYJ3Nz3c','copy320','2020-03-05 17:32:38.598 +00:00','2020-03-05 17:32:38.598 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_39971cdb212042939f07ef0c79e698a5$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (9df4e30f-df06-46dc-9544-17d466a0b95f): COMMIT;
{ fileUUID: '6b0a247f-94f7-4388-9ea1-b9d26bc15c80',
  cnodeUserUUID: '1350147d-276f-4221-8c54-a597192c1ed9',
  multihash: 'QmWbwZMo4BAtkT871QaKsL185X7vnkU4wF4VVfWYJ3Nz3c',
  sourceFile: '275e918a-cf85-49a0-8648-9b6e82e2f0d0.mp3',
  storagePath:
   '/file_storage/QmWbwZMo4BAtkT871QaKsL185X7vnkU4wF4VVfWYJ3Nz3c',
  type: 'copy320',
  trackUUID: '87561472-4d7e-4e65-8f6b-2dfa1518b11b',
  updatedAt: 2020-03-05T17:32:38.598Z,
  createdAt: 2020-03-05T17:32:38.598Z }
writing to db2...
Executing (dd6ccc36-edf3-40ac-a50a-f6fc4b3c1a6b): START TRANSACTION;
Executing (dd6ccc36-edf3-40ac-a50a-f6fc4b3c1a6b): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '1350147d-276f-4221-8c54-a597192c1ed9' AND "File"."multihash" = 'QmWbwZMo4BAtkT871QaKsL185X7vnkU4wF4VVfWYJ3Nz3c' AND "File"."sourceFile" = '275e918a-cf85-49a0-8648-9b6e82e2f0d0.mp3' AND "File"."storagePath" = '/file_storage/QmWbwZMo4BAtkT871QaKsL185X7vnkU4wF4VVfWYJ3Nz3c' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '87561472-4d7e-4e65-8f6b-2dfa1518b11b' LIMIT 1;
Executing (dd6ccc36-edf3-40ac-a50a-f6fc4b3c1a6b): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_1d57b9f28d3245389cfa0526bb19b350$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('ce75c87c-f033-4d5f-9c9d-255ffecd117a','1350147d-276f-4221-8c54-a597192c1ed9','87561472-4d7e-4e65-8f6b-2dfa1518b11b','QmWbwZMo4BAtkT871QaKsL185X7vnkU4wF4VVfWYJ3Nz3c','275e918a-cf85-49a0-8648-9b6e82e2f0d0.mp3','/file_storage/QmWbwZMo4BAtkT871QaKsL185X7vnkU4wF4VVfWYJ3Nz3c','copy320','2020-03-05 17:32:38.990 +00:00','2020-03-05 17:32:38.990 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_1d57b9f28d3245389cfa0526bb19b350$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (dd6ccc36-edf3-40ac-a50a-f6fc4b3c1a6b): COMMIT;
{ fileUUID: 'ce75c87c-f033-4d5f-9c9d-255ffecd117a',
  cnodeUserUUID: '1350147d-276f-4221-8c54-a597192c1ed9',
  multihash: 'QmWbwZMo4BAtkT871QaKsL185X7vnkU4wF4VVfWYJ3Nz3c',
  sourceFile: '275e918a-cf85-49a0-8648-9b6e82e2f0d0.mp3',
  storagePath:
   '/file_storage/QmWbwZMo4BAtkT871QaKsL185X7vnkU4wF4VVfWYJ3Nz3c',
  type: 'copy320',
  trackUUID: '87561472-4d7e-4e65-8f6b-2dfa1518b11b',
  updatedAt: 2020-03-05T17:32:38.990Z,
  createdAt: 2020-03-05T17:32:38.990Z }
writing to db3...
Executing (ac43ad4b-92f5-4404-b632-a643eceabed4): START TRANSACTION;
Executing (ac43ad4b-92f5-4404-b632-a643eceabed4): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '1350147d-276f-4221-8c54-a597192c1ed9' AND "File"."multihash" = 'QmWbwZMo4BAtkT871QaKsL185X7vnkU4wF4VVfWYJ3Nz3c' AND "File"."sourceFile" = '275e918a-cf85-49a0-8648-9b6e82e2f0d0.mp3' AND "File"."storagePath" = '/file_storage/QmWbwZMo4BAtkT871QaKsL185X7vnkU4wF4VVfWYJ3Nz3c' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '87561472-4d7e-4e65-8f6b-2dfa1518b11b' LIMIT 1;
Executing (ac43ad4b-92f5-4404-b632-a643eceabed4): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_63ecf7f9f937474ab9aea6b25389bc95$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('e35c08d3-a160-44ba-99aa-d31ce245477c','1350147d-276f-4221-8c54-a597192c1ed9','87561472-4d7e-4e65-8f6b-2dfa1518b11b','QmWbwZMo4BAtkT871QaKsL185X7vnkU4wF4VVfWYJ3Nz3c','275e918a-cf85-49a0-8648-9b6e82e2f0d0.mp3','/file_storage/QmWbwZMo4BAtkT871QaKsL185X7vnkU4wF4VVfWYJ3Nz3c','copy320','2020-03-05 17:32:39.406 +00:00','2020-03-05 17:32:39.406 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_63ecf7f9f937474ab9aea6b25389bc95$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (ac43ad4b-92f5-4404-b632-a643eceabed4): COMMIT;
{ fileUUID: 'e35c08d3-a160-44ba-99aa-d31ce245477c',
  cnodeUserUUID: '1350147d-276f-4221-8c54-a597192c1ed9',
  multihash: 'QmWbwZMo4BAtkT871QaKsL185X7vnkU4wF4VVfWYJ3Nz3c',
  sourceFile: '275e918a-cf85-49a0-8648-9b6e82e2f0d0.mp3',
  storagePath:
   '/file_storage/QmWbwZMo4BAtkT871QaKsL185X7vnkU4wF4VVfWYJ3Nz3c',
  type: 'copy320',
  trackUUID: '87561472-4d7e-4e65-8f6b-2dfa1518b11b',
  updatedAt: 2020-03-05T17:32:39.406Z,
  createdAt: 2020-03-05T17:32:39.406Z }




PROCESSING ROW #48: sourcefile: 31e37bd7-0d57-4e5a-9230-90c0e8be477a.mp3, cnodeUserUUID: 07bb322d-9fd0-447e-ba9c-fceae69f65d5, trackUUID: 9261875a-03f4-44db-8196-3046c5d4dbdb, multihash: QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM, dstPath: /file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM
writing to db1...
Executing (ac76f50b-8ce2-488e-bce9-68df089e4471): START TRANSACTION;
Executing (ac76f50b-8ce2-488e-bce9-68df089e4471): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '07bb322d-9fd0-447e-ba9c-fceae69f65d5' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = '31e37bd7-0d57-4e5a-9230-90c0e8be477a.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '9261875a-03f4-44db-8196-3046c5d4dbdb' LIMIT 1;
Executing (ac76f50b-8ce2-488e-bce9-68df089e4471): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_8054b67ced7246a18e656fea672e1135$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('af804bf5-7eb8-49fd-bcdf-1271322b3cc0','07bb322d-9fd0-447e-ba9c-fceae69f65d5','9261875a-03f4-44db-8196-3046c5d4dbdb','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','31e37bd7-0d57-4e5a-9230-90c0e8be477a.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:32:39.792 +00:00','2020-03-05 17:32:39.792 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_8054b67ced7246a18e656fea672e1135$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (ac76f50b-8ce2-488e-bce9-68df089e4471): COMMIT;
{ fileUUID: 'af804bf5-7eb8-49fd-bcdf-1271322b3cc0',
  cnodeUserUUID: '07bb322d-9fd0-447e-ba9c-fceae69f65d5',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: '31e37bd7-0d57-4e5a-9230-90c0e8be477a.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: '9261875a-03f4-44db-8196-3046c5d4dbdb',
  updatedAt: 2020-03-05T17:32:39.792Z,
  createdAt: 2020-03-05T17:32:39.792Z }
writing to db2...
Executing (f47a6e93-121d-44c3-9b41-e14ab33b7abf): START TRANSACTION;
Executing (f47a6e93-121d-44c3-9b41-e14ab33b7abf): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '07bb322d-9fd0-447e-ba9c-fceae69f65d5' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = '31e37bd7-0d57-4e5a-9230-90c0e8be477a.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '9261875a-03f4-44db-8196-3046c5d4dbdb' LIMIT 1;
Executing (f47a6e93-121d-44c3-9b41-e14ab33b7abf): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_2f6b900a07fc4b89b597a67178493c76$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('b5220bc5-7b6f-4afb-93b2-1182bf08032d','07bb322d-9fd0-447e-ba9c-fceae69f65d5','9261875a-03f4-44db-8196-3046c5d4dbdb','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','31e37bd7-0d57-4e5a-9230-90c0e8be477a.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:32:40.204 +00:00','2020-03-05 17:32:40.204 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_2f6b900a07fc4b89b597a67178493c76$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (f47a6e93-121d-44c3-9b41-e14ab33b7abf): COMMIT;
{ fileUUID: 'b5220bc5-7b6f-4afb-93b2-1182bf08032d',
  cnodeUserUUID: '07bb322d-9fd0-447e-ba9c-fceae69f65d5',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: '31e37bd7-0d57-4e5a-9230-90c0e8be477a.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: '9261875a-03f4-44db-8196-3046c5d4dbdb',
  updatedAt: 2020-03-05T17:32:40.204Z,
  createdAt: 2020-03-05T17:32:40.204Z }
writing to db3...
Executing (d3bf681e-373e-4ee8-b6c8-575d23e26be6): START TRANSACTION;
Executing (d3bf681e-373e-4ee8-b6c8-575d23e26be6): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '07bb322d-9fd0-447e-ba9c-fceae69f65d5' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = '31e37bd7-0d57-4e5a-9230-90c0e8be477a.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '9261875a-03f4-44db-8196-3046c5d4dbdb' LIMIT 1;
Executing (d3bf681e-373e-4ee8-b6c8-575d23e26be6): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_7433481988d7434891b32b0ac1116251$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('db937299-96d2-4559-8d27-7f2629bc03ee','07bb322d-9fd0-447e-ba9c-fceae69f65d5','9261875a-03f4-44db-8196-3046c5d4dbdb','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','31e37bd7-0d57-4e5a-9230-90c0e8be477a.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:32:40.608 +00:00','2020-03-05 17:32:40.608 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_7433481988d7434891b32b0ac1116251$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (d3bf681e-373e-4ee8-b6c8-575d23e26be6): COMMIT;
{ fileUUID: 'db937299-96d2-4559-8d27-7f2629bc03ee',
  cnodeUserUUID: '07bb322d-9fd0-447e-ba9c-fceae69f65d5',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: '31e37bd7-0d57-4e5a-9230-90c0e8be477a.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: '9261875a-03f4-44db-8196-3046c5d4dbdb',
  updatedAt: 2020-03-05T17:32:40.608Z,
  createdAt: 2020-03-05T17:32:40.608Z }




PROCESSING ROW #49: sourcefile: 695ee674-b95d-4ad0-a45b-eaee0845eaff.mp3, cnodeUserUUID: 5e58bd1b-e455-4b2e-ab60-4145c14abb8d, trackUUID: 3cf2cb15-c92d-460e-82ac-4d52bdee0721, multihash: QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM, dstPath: /file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM
writing to db1...
Executing (55238d22-5265-42a8-8191-dd74f4ba5021): START TRANSACTION;
Executing (55238d22-5265-42a8-8191-dd74f4ba5021): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '5e58bd1b-e455-4b2e-ab60-4145c14abb8d' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = '695ee674-b95d-4ad0-a45b-eaee0845eaff.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '3cf2cb15-c92d-460e-82ac-4d52bdee0721' LIMIT 1;
Executing (55238d22-5265-42a8-8191-dd74f4ba5021): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_dee3c52f096a4a16a0487bbe10fcbac3$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('e140956a-9a16-4e13-b0f5-4b8bdafe894c','5e58bd1b-e455-4b2e-ab60-4145c14abb8d','3cf2cb15-c92d-460e-82ac-4d52bdee0721','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','695ee674-b95d-4ad0-a45b-eaee0845eaff.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:32:41.022 +00:00','2020-03-05 17:32:41.022 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_dee3c52f096a4a16a0487bbe10fcbac3$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (55238d22-5265-42a8-8191-dd74f4ba5021): COMMIT;
{ fileUUID: 'e140956a-9a16-4e13-b0f5-4b8bdafe894c',
  cnodeUserUUID: '5e58bd1b-e455-4b2e-ab60-4145c14abb8d',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: '695ee674-b95d-4ad0-a45b-eaee0845eaff.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: '3cf2cb15-c92d-460e-82ac-4d52bdee0721',
  updatedAt: 2020-03-05T17:32:41.022Z,
  createdAt: 2020-03-05T17:32:41.022Z }
writing to db2...
Executing (84427144-352c-4cbc-a88e-ae6174468c73): START TRANSACTION;
Executing (84427144-352c-4cbc-a88e-ae6174468c73): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '5e58bd1b-e455-4b2e-ab60-4145c14abb8d' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = '695ee674-b95d-4ad0-a45b-eaee0845eaff.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '3cf2cb15-c92d-460e-82ac-4d52bdee0721' LIMIT 1;
Executing (84427144-352c-4cbc-a88e-ae6174468c73): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_85f5bc3ea252418a9bec1727a0100bff$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('25281cd2-5463-48d4-8f7b-e5b01f905446','5e58bd1b-e455-4b2e-ab60-4145c14abb8d','3cf2cb15-c92d-460e-82ac-4d52bdee0721','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','695ee674-b95d-4ad0-a45b-eaee0845eaff.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:32:41.420 +00:00','2020-03-05 17:32:41.420 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_85f5bc3ea252418a9bec1727a0100bff$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (84427144-352c-4cbc-a88e-ae6174468c73): COMMIT;
{ fileUUID: '25281cd2-5463-48d4-8f7b-e5b01f905446',
  cnodeUserUUID: '5e58bd1b-e455-4b2e-ab60-4145c14abb8d',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: '695ee674-b95d-4ad0-a45b-eaee0845eaff.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: '3cf2cb15-c92d-460e-82ac-4d52bdee0721',
  updatedAt: 2020-03-05T17:32:41.420Z,
  createdAt: 2020-03-05T17:32:41.420Z }
writing to db3...
Executing (bafe8951-f344-41a2-9075-842d32b39e7e): START TRANSACTION;
Executing (bafe8951-f344-41a2-9075-842d32b39e7e): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '5e58bd1b-e455-4b2e-ab60-4145c14abb8d' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = '695ee674-b95d-4ad0-a45b-eaee0845eaff.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '3cf2cb15-c92d-460e-82ac-4d52bdee0721' LIMIT 1;
Executing (bafe8951-f344-41a2-9075-842d32b39e7e): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_5b41714ed89b46fb9e03d6a5b7d9fb37$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('b136d9c2-789f-4cf3-a661-b7d3003e9b32','5e58bd1b-e455-4b2e-ab60-4145c14abb8d','3cf2cb15-c92d-460e-82ac-4d52bdee0721','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','695ee674-b95d-4ad0-a45b-eaee0845eaff.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:32:42.042 +00:00','2020-03-05 17:32:42.042 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_5b41714ed89b46fb9e03d6a5b7d9fb37$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (bafe8951-f344-41a2-9075-842d32b39e7e): COMMIT;
{ fileUUID: 'b136d9c2-789f-4cf3-a661-b7d3003e9b32',
  cnodeUserUUID: '5e58bd1b-e455-4b2e-ab60-4145c14abb8d',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: '695ee674-b95d-4ad0-a45b-eaee0845eaff.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: '3cf2cb15-c92d-460e-82ac-4d52bdee0721',
  updatedAt: 2020-03-05T17:32:42.042Z,
  createdAt: 2020-03-05T17:32:42.042Z }




PROCESSING ROW #50: sourcefile: 9ed4dd5b-f950-4d37-bdd9-e2c98e252cc8.mp3, cnodeUserUUID: 7a4eb201-e400-4877-8063-9f2f249e71c7, trackUUID: 226bafa6-3472-43fe-bce8-77eef24b4b2d, multihash: QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM, dstPath: /file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM
writing to db1...
Executing (1b3bc60f-3561-4fbb-80aa-a0d2e0fa7c33): START TRANSACTION;
Executing (1b3bc60f-3561-4fbb-80aa-a0d2e0fa7c33): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '7a4eb201-e400-4877-8063-9f2f249e71c7' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = '9ed4dd5b-f950-4d37-bdd9-e2c98e252cc8.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '226bafa6-3472-43fe-bce8-77eef24b4b2d' LIMIT 1;
Executing (1b3bc60f-3561-4fbb-80aa-a0d2e0fa7c33): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_62bbe22a257840a1aeacc8a47485baff$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('a2140b89-6196-4c26-9674-917e74176981','7a4eb201-e400-4877-8063-9f2f249e71c7','226bafa6-3472-43fe-bce8-77eef24b4b2d','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','9ed4dd5b-f950-4d37-bdd9-e2c98e252cc8.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:32:42.431 +00:00','2020-03-05 17:32:42.431 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_62bbe22a257840a1aeacc8a47485baff$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (1b3bc60f-3561-4fbb-80aa-a0d2e0fa7c33): COMMIT;
{ fileUUID: 'a2140b89-6196-4c26-9674-917e74176981',
  cnodeUserUUID: '7a4eb201-e400-4877-8063-9f2f249e71c7',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: '9ed4dd5b-f950-4d37-bdd9-e2c98e252cc8.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: '226bafa6-3472-43fe-bce8-77eef24b4b2d',
  updatedAt: 2020-03-05T17:32:42.431Z,
  createdAt: 2020-03-05T17:32:42.431Z }
writing to db2...
Executing (5bebd924-77ac-411b-9971-315b11bf468d): START TRANSACTION;
Executing (5bebd924-77ac-411b-9971-315b11bf468d): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '7a4eb201-e400-4877-8063-9f2f249e71c7' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = '9ed4dd5b-f950-4d37-bdd9-e2c98e252cc8.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '226bafa6-3472-43fe-bce8-77eef24b4b2d' LIMIT 1;
Executing (5bebd924-77ac-411b-9971-315b11bf468d): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_fb68e220a4c9440da5449befddab1f21$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('1ccc4b8d-3004-4091-820e-ca95c6734b59','7a4eb201-e400-4877-8063-9f2f249e71c7','226bafa6-3472-43fe-bce8-77eef24b4b2d','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','9ed4dd5b-f950-4d37-bdd9-e2c98e252cc8.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:32:42.818 +00:00','2020-03-05 17:32:42.818 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_fb68e220a4c9440da5449befddab1f21$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (5bebd924-77ac-411b-9971-315b11bf468d): COMMIT;
{ fileUUID: '1ccc4b8d-3004-4091-820e-ca95c6734b59',
  cnodeUserUUID: '7a4eb201-e400-4877-8063-9f2f249e71c7',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: '9ed4dd5b-f950-4d37-bdd9-e2c98e252cc8.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: '226bafa6-3472-43fe-bce8-77eef24b4b2d',
  updatedAt: 2020-03-05T17:32:42.818Z,
  createdAt: 2020-03-05T17:32:42.818Z }
writing to db3...
Executing (38c88ac2-c101-403f-bde9-3982ca6399fa): START TRANSACTION;
Executing (38c88ac2-c101-403f-bde9-3982ca6399fa): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '7a4eb201-e400-4877-8063-9f2f249e71c7' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = '9ed4dd5b-f950-4d37-bdd9-e2c98e252cc8.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '226bafa6-3472-43fe-bce8-77eef24b4b2d' LIMIT 1;
Executing (38c88ac2-c101-403f-bde9-3982ca6399fa): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_7b761dcd142f472c8f70f59294cff8db$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('716a0ed5-740b-40fc-addb-88ed527ce628','7a4eb201-e400-4877-8063-9f2f249e71c7','226bafa6-3472-43fe-bce8-77eef24b4b2d','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','9ed4dd5b-f950-4d37-bdd9-e2c98e252cc8.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:32:43.207 +00:00','2020-03-05 17:32:43.207 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_7b761dcd142f472c8f70f59294cff8db$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (38c88ac2-c101-403f-bde9-3982ca6399fa): COMMIT;
{ fileUUID: '716a0ed5-740b-40fc-addb-88ed527ce628',
  cnodeUserUUID: '7a4eb201-e400-4877-8063-9f2f249e71c7',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: '9ed4dd5b-f950-4d37-bdd9-e2c98e252cc8.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: '226bafa6-3472-43fe-bce8-77eef24b4b2d',
  updatedAt: 2020-03-05T17:32:43.207Z,
  createdAt: 2020-03-05T17:32:43.207Z }




PROCESSING ROW #51: sourcefile: e34f3b70-3957-4748-9121-c25de864dc41.mp3, cnodeUserUUID: 7d5b4fdc-e7e7-4954-aa0e-38e6f94315cd, trackUUID: 4ce624cd-5c81-4769-a689-a28c6e7dacaa, multihash: QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM, dstPath: /file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM
writing to db1...
Executing (dc6458cb-6b4f-4077-880a-539b97eda75b): START TRANSACTION;
Executing (dc6458cb-6b4f-4077-880a-539b97eda75b): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '7d5b4fdc-e7e7-4954-aa0e-38e6f94315cd' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = 'e34f3b70-3957-4748-9121-c25de864dc41.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '4ce624cd-5c81-4769-a689-a28c6e7dacaa' LIMIT 1;
Executing (dc6458cb-6b4f-4077-880a-539b97eda75b): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_3de2bcc3f452423fbfcdb0dd1997a122$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('d4b0f743-4682-4f2a-8129-f8dd43c75bb0','7d5b4fdc-e7e7-4954-aa0e-38e6f94315cd','4ce624cd-5c81-4769-a689-a28c6e7dacaa','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','e34f3b70-3957-4748-9121-c25de864dc41.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:32:43.597 +00:00','2020-03-05 17:32:43.597 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_3de2bcc3f452423fbfcdb0dd1997a122$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (dc6458cb-6b4f-4077-880a-539b97eda75b): COMMIT;
{ fileUUID: 'd4b0f743-4682-4f2a-8129-f8dd43c75bb0',
  cnodeUserUUID: '7d5b4fdc-e7e7-4954-aa0e-38e6f94315cd',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: 'e34f3b70-3957-4748-9121-c25de864dc41.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: '4ce624cd-5c81-4769-a689-a28c6e7dacaa',
  updatedAt: 2020-03-05T17:32:43.597Z,
  createdAt: 2020-03-05T17:32:43.597Z }
writing to db2...
Executing (ecde613d-cbbd-41c5-b14d-e9ba918b6054): START TRANSACTION;
Executing (ecde613d-cbbd-41c5-b14d-e9ba918b6054): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '7d5b4fdc-e7e7-4954-aa0e-38e6f94315cd' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = 'e34f3b70-3957-4748-9121-c25de864dc41.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '4ce624cd-5c81-4769-a689-a28c6e7dacaa' LIMIT 1;
Executing (ecde613d-cbbd-41c5-b14d-e9ba918b6054): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_d95061f2cd914c03a8aced7f8a18303d$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('874bd8e5-6335-46d0-a049-9025f849bb45','7d5b4fdc-e7e7-4954-aa0e-38e6f94315cd','4ce624cd-5c81-4769-a689-a28c6e7dacaa','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','e34f3b70-3957-4748-9121-c25de864dc41.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:32:44.001 +00:00','2020-03-05 17:32:44.001 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_d95061f2cd914c03a8aced7f8a18303d$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (ecde613d-cbbd-41c5-b14d-e9ba918b6054): COMMIT;
{ fileUUID: '874bd8e5-6335-46d0-a049-9025f849bb45',
  cnodeUserUUID: '7d5b4fdc-e7e7-4954-aa0e-38e6f94315cd',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: 'e34f3b70-3957-4748-9121-c25de864dc41.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: '4ce624cd-5c81-4769-a689-a28c6e7dacaa',
  updatedAt: 2020-03-05T17:32:44.001Z,
  createdAt: 2020-03-05T17:32:44.001Z }
writing to db3...
Executing (ececca47-79c4-463a-87c1-79c15b518fa2): START TRANSACTION;
Executing (ececca47-79c4-463a-87c1-79c15b518fa2): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '7d5b4fdc-e7e7-4954-aa0e-38e6f94315cd' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = 'e34f3b70-3957-4748-9121-c25de864dc41.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '4ce624cd-5c81-4769-a689-a28c6e7dacaa' LIMIT 1;
Executing (ececca47-79c4-463a-87c1-79c15b518fa2): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_4cdb4a641dd94dee8836ac29302da95a$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('949a23d4-74c6-4161-b0aa-48176de9b432','7d5b4fdc-e7e7-4954-aa0e-38e6f94315cd','4ce624cd-5c81-4769-a689-a28c6e7dacaa','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','e34f3b70-3957-4748-9121-c25de864dc41.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:32:44.396 +00:00','2020-03-05 17:32:44.396 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_4cdb4a641dd94dee8836ac29302da95a$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (ececca47-79c4-463a-87c1-79c15b518fa2): COMMIT;
{ fileUUID: '949a23d4-74c6-4161-b0aa-48176de9b432',
  cnodeUserUUID: '7d5b4fdc-e7e7-4954-aa0e-38e6f94315cd',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: 'e34f3b70-3957-4748-9121-c25de864dc41.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: '4ce624cd-5c81-4769-a689-a28c6e7dacaa',
  updatedAt: 2020-03-05T17:32:44.396Z,
  createdAt: 2020-03-05T17:32:44.396Z }




PROCESSING ROW #52: sourcefile: aadeca32-339f-4576-8db1-098d24ff85d6.mp3, cnodeUserUUID: a4027f97-248a-4a97-8f0a-2c893e767ca1, trackUUID: f24724b6-dd88-4534-ac1d-ac2add635098, multihash: QmQLrYxWsyByEU6EeojyZDDTWWujAnTzQhmGUc4tYqMhBU, dstPath: /file_storage/QmQLrYxWsyByEU6EeojyZDDTWWujAnTzQhmGUc4tYqMhBU
writing to db1...
Executing (dc45d9f9-b814-476d-a9a4-aa7bb4e6235b): START TRANSACTION;
Executing (dc45d9f9-b814-476d-a9a4-aa7bb4e6235b): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = 'a4027f97-248a-4a97-8f0a-2c893e767ca1' AND "File"."multihash" = 'QmQLrYxWsyByEU6EeojyZDDTWWujAnTzQhmGUc4tYqMhBU' AND "File"."sourceFile" = 'aadeca32-339f-4576-8db1-098d24ff85d6.mp3' AND "File"."storagePath" = '/file_storage/QmQLrYxWsyByEU6EeojyZDDTWWujAnTzQhmGUc4tYqMhBU' AND "File"."type" = 'copy320' AND "File"."trackUUID" = 'f24724b6-dd88-4534-ac1d-ac2add635098' LIMIT 1;
Executing (dc45d9f9-b814-476d-a9a4-aa7bb4e6235b): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_c454ffa0fcde4389bc1e282887955c3a$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('8f5c8182-c2c9-4792-9039-38cafddb66c9','a4027f97-248a-4a97-8f0a-2c893e767ca1','f24724b6-dd88-4534-ac1d-ac2add635098','QmQLrYxWsyByEU6EeojyZDDTWWujAnTzQhmGUc4tYqMhBU','aadeca32-339f-4576-8db1-098d24ff85d6.mp3','/file_storage/QmQLrYxWsyByEU6EeojyZDDTWWujAnTzQhmGUc4tYqMhBU','copy320','2020-03-05 17:32:44.799 +00:00','2020-03-05 17:32:44.799 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_c454ffa0fcde4389bc1e282887955c3a$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (dc45d9f9-b814-476d-a9a4-aa7bb4e6235b): COMMIT;
{ fileUUID: '8f5c8182-c2c9-4792-9039-38cafddb66c9',
  cnodeUserUUID: 'a4027f97-248a-4a97-8f0a-2c893e767ca1',
  multihash: 'QmQLrYxWsyByEU6EeojyZDDTWWujAnTzQhmGUc4tYqMhBU',
  sourceFile: 'aadeca32-339f-4576-8db1-098d24ff85d6.mp3',
  storagePath:
   '/file_storage/QmQLrYxWsyByEU6EeojyZDDTWWujAnTzQhmGUc4tYqMhBU',
  type: 'copy320',
  trackUUID: 'f24724b6-dd88-4534-ac1d-ac2add635098',
  updatedAt: 2020-03-05T17:32:44.799Z,
  createdAt: 2020-03-05T17:32:44.799Z }
writing to db2...
Executing (914288bb-6dde-4bb8-bab8-5c9e88590e7f): START TRANSACTION;
Executing (914288bb-6dde-4bb8-bab8-5c9e88590e7f): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = 'a4027f97-248a-4a97-8f0a-2c893e767ca1' AND "File"."multihash" = 'QmQLrYxWsyByEU6EeojyZDDTWWujAnTzQhmGUc4tYqMhBU' AND "File"."sourceFile" = 'aadeca32-339f-4576-8db1-098d24ff85d6.mp3' AND "File"."storagePath" = '/file_storage/QmQLrYxWsyByEU6EeojyZDDTWWujAnTzQhmGUc4tYqMhBU' AND "File"."type" = 'copy320' AND "File"."trackUUID" = 'f24724b6-dd88-4534-ac1d-ac2add635098' LIMIT 1;
Executing (914288bb-6dde-4bb8-bab8-5c9e88590e7f): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_f404a3f1e7cb473fb0aa723f2ecca341$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('b82a0e28-5d83-408e-98b7-ff18ccc096a8','a4027f97-248a-4a97-8f0a-2c893e767ca1','f24724b6-dd88-4534-ac1d-ac2add635098','QmQLrYxWsyByEU6EeojyZDDTWWujAnTzQhmGUc4tYqMhBU','aadeca32-339f-4576-8db1-098d24ff85d6.mp3','/file_storage/QmQLrYxWsyByEU6EeojyZDDTWWujAnTzQhmGUc4tYqMhBU','copy320','2020-03-05 17:32:45.207 +00:00','2020-03-05 17:32:45.207 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_f404a3f1e7cb473fb0aa723f2ecca341$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (914288bb-6dde-4bb8-bab8-5c9e88590e7f): COMMIT;
{ fileUUID: 'b82a0e28-5d83-408e-98b7-ff18ccc096a8',
  cnodeUserUUID: 'a4027f97-248a-4a97-8f0a-2c893e767ca1',
  multihash: 'QmQLrYxWsyByEU6EeojyZDDTWWujAnTzQhmGUc4tYqMhBU',
  sourceFile: 'aadeca32-339f-4576-8db1-098d24ff85d6.mp3',
  storagePath:
   '/file_storage/QmQLrYxWsyByEU6EeojyZDDTWWujAnTzQhmGUc4tYqMhBU',
  type: 'copy320',
  trackUUID: 'f24724b6-dd88-4534-ac1d-ac2add635098',
  updatedAt: 2020-03-05T17:32:45.207Z,
  createdAt: 2020-03-05T17:32:45.207Z }
writing to db3...
Executing (ef8bb54d-a3b7-480d-84ee-cf15516249ef): START TRANSACTION;
Executing (ef8bb54d-a3b7-480d-84ee-cf15516249ef): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = 'a4027f97-248a-4a97-8f0a-2c893e767ca1' AND "File"."multihash" = 'QmQLrYxWsyByEU6EeojyZDDTWWujAnTzQhmGUc4tYqMhBU' AND "File"."sourceFile" = 'aadeca32-339f-4576-8db1-098d24ff85d6.mp3' AND "File"."storagePath" = '/file_storage/QmQLrYxWsyByEU6EeojyZDDTWWujAnTzQhmGUc4tYqMhBU' AND "File"."type" = 'copy320' AND "File"."trackUUID" = 'f24724b6-dd88-4534-ac1d-ac2add635098' LIMIT 1;
Executing (ef8bb54d-a3b7-480d-84ee-cf15516249ef): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_4f54885128df401c968d82a92a555b73$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('51abc2ea-8a2b-46c3-be0f-f6226cb87451','a4027f97-248a-4a97-8f0a-2c893e767ca1','f24724b6-dd88-4534-ac1d-ac2add635098','QmQLrYxWsyByEU6EeojyZDDTWWujAnTzQhmGUc4tYqMhBU','aadeca32-339f-4576-8db1-098d24ff85d6.mp3','/file_storage/QmQLrYxWsyByEU6EeojyZDDTWWujAnTzQhmGUc4tYqMhBU','copy320','2020-03-05 17:32:45.593 +00:00','2020-03-05 17:32:45.593 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_4f54885128df401c968d82a92a555b73$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (ef8bb54d-a3b7-480d-84ee-cf15516249ef): COMMIT;
{ fileUUID: '51abc2ea-8a2b-46c3-be0f-f6226cb87451',
  cnodeUserUUID: 'a4027f97-248a-4a97-8f0a-2c893e767ca1',
  multihash: 'QmQLrYxWsyByEU6EeojyZDDTWWujAnTzQhmGUc4tYqMhBU',
  sourceFile: 'aadeca32-339f-4576-8db1-098d24ff85d6.mp3',
  storagePath:
   '/file_storage/QmQLrYxWsyByEU6EeojyZDDTWWujAnTzQhmGUc4tYqMhBU',
  type: 'copy320',
  trackUUID: 'f24724b6-dd88-4534-ac1d-ac2add635098',
  updatedAt: 2020-03-05T17:32:45.593Z,
  createdAt: 2020-03-05T17:32:45.593Z }




PROCESSING ROW #53: sourcefile: f9c2cd6d-857e-4dc4-95b6-b30a2a79737f.mp3, cnodeUserUUID: 89bc01b4-3e41-49f7-8fa5-a260d799793a, trackUUID: 57278a41-19f3-4b43-b302-2eb266bb4e88, multihash: QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM, dstPath: /file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM
writing to db1...
Executing (c520e8ab-7477-4ee8-9565-2fb122ccf166): START TRANSACTION;
Executing (c520e8ab-7477-4ee8-9565-2fb122ccf166): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '89bc01b4-3e41-49f7-8fa5-a260d799793a' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = 'f9c2cd6d-857e-4dc4-95b6-b30a2a79737f.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '57278a41-19f3-4b43-b302-2eb266bb4e88' LIMIT 1;
Executing (c520e8ab-7477-4ee8-9565-2fb122ccf166): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_ecdbbaea885147baa478eebd3ebb3935$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('86e51ba7-052e-4882-a7e1-61ae8bc4541f','89bc01b4-3e41-49f7-8fa5-a260d799793a','57278a41-19f3-4b43-b302-2eb266bb4e88','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','f9c2cd6d-857e-4dc4-95b6-b30a2a79737f.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:32:45.997 +00:00','2020-03-05 17:32:45.997 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_ecdbbaea885147baa478eebd3ebb3935$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (c520e8ab-7477-4ee8-9565-2fb122ccf166): COMMIT;
{ fileUUID: '86e51ba7-052e-4882-a7e1-61ae8bc4541f',
  cnodeUserUUID: '89bc01b4-3e41-49f7-8fa5-a260d799793a',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: 'f9c2cd6d-857e-4dc4-95b6-b30a2a79737f.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: '57278a41-19f3-4b43-b302-2eb266bb4e88',
  updatedAt: 2020-03-05T17:32:45.997Z,
  createdAt: 2020-03-05T17:32:45.997Z }
writing to db2...
Executing (9c9db3e0-48a4-42b0-b16e-6f1aeb0e8a58): START TRANSACTION;
Executing (9c9db3e0-48a4-42b0-b16e-6f1aeb0e8a58): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '89bc01b4-3e41-49f7-8fa5-a260d799793a' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = 'f9c2cd6d-857e-4dc4-95b6-b30a2a79737f.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '57278a41-19f3-4b43-b302-2eb266bb4e88' LIMIT 1;
Executing (9c9db3e0-48a4-42b0-b16e-6f1aeb0e8a58): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_bf0828d6706d4553bb2d0b0843596352$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('664af24e-40f8-487e-beb1-dfba90d6c19b','89bc01b4-3e41-49f7-8fa5-a260d799793a','57278a41-19f3-4b43-b302-2eb266bb4e88','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','f9c2cd6d-857e-4dc4-95b6-b30a2a79737f.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:32:46.394 +00:00','2020-03-05 17:32:46.394 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_bf0828d6706d4553bb2d0b0843596352$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (9c9db3e0-48a4-42b0-b16e-6f1aeb0e8a58): COMMIT;
{ fileUUID: '664af24e-40f8-487e-beb1-dfba90d6c19b',
  cnodeUserUUID: '89bc01b4-3e41-49f7-8fa5-a260d799793a',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: 'f9c2cd6d-857e-4dc4-95b6-b30a2a79737f.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: '57278a41-19f3-4b43-b302-2eb266bb4e88',
  updatedAt: 2020-03-05T17:32:46.394Z,
  createdAt: 2020-03-05T17:32:46.394Z }
writing to db3...
Executing (5d8bbaf0-285e-43b5-875f-e9bfe38f6874): START TRANSACTION;
Executing (5d8bbaf0-285e-43b5-875f-e9bfe38f6874): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '89bc01b4-3e41-49f7-8fa5-a260d799793a' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = 'f9c2cd6d-857e-4dc4-95b6-b30a2a79737f.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '57278a41-19f3-4b43-b302-2eb266bb4e88' LIMIT 1;
Executing (5d8bbaf0-285e-43b5-875f-e9bfe38f6874): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_76bc848d33a84b68b16e4805472390b1$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('85ca20c9-6e20-4297-95e7-1e7b261987a9','89bc01b4-3e41-49f7-8fa5-a260d799793a','57278a41-19f3-4b43-b302-2eb266bb4e88','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','f9c2cd6d-857e-4dc4-95b6-b30a2a79737f.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:32:46.812 +00:00','2020-03-05 17:32:46.812 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_76bc848d33a84b68b16e4805472390b1$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (5d8bbaf0-285e-43b5-875f-e9bfe38f6874): COMMIT;
{ fileUUID: '85ca20c9-6e20-4297-95e7-1e7b261987a9',
  cnodeUserUUID: '89bc01b4-3e41-49f7-8fa5-a260d799793a',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: 'f9c2cd6d-857e-4dc4-95b6-b30a2a79737f.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: '57278a41-19f3-4b43-b302-2eb266bb4e88',
  updatedAt: 2020-03-05T17:32:46.812Z,
  createdAt: 2020-03-05T17:32:46.812Z }




PROCESSING ROW #54: sourcefile: 24f15186-1f2d-4db0-9a15-deca41feca88.mp3, cnodeUserUUID: 008e7672-a74a-434e-af42-62545c66b0a5, trackUUID: d09a707e-de6b-4319-a62b-96b87c8a0c66, multihash: QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM, dstPath: /file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM
writing to db1...
Executing (4f556373-e4b2-4ac0-ae84-79edbd2b43a0): START TRANSACTION;
Executing (4f556373-e4b2-4ac0-ae84-79edbd2b43a0): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '008e7672-a74a-434e-af42-62545c66b0a5' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = '24f15186-1f2d-4db0-9a15-deca41feca88.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = 'd09a707e-de6b-4319-a62b-96b87c8a0c66' LIMIT 1;
Executing (4f556373-e4b2-4ac0-ae84-79edbd2b43a0): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_21b417eeae7b42899d794d522a62c1ad$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('cbe5c8d6-9120-482b-a855-3f70261f5dfc','008e7672-a74a-434e-af42-62545c66b0a5','d09a707e-de6b-4319-a62b-96b87c8a0c66','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','24f15186-1f2d-4db0-9a15-deca41feca88.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:32:47.218 +00:00','2020-03-05 17:32:47.218 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_21b417eeae7b42899d794d522a62c1ad$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (4f556373-e4b2-4ac0-ae84-79edbd2b43a0): COMMIT;
{ fileUUID: 'cbe5c8d6-9120-482b-a855-3f70261f5dfc',
  cnodeUserUUID: '008e7672-a74a-434e-af42-62545c66b0a5',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: '24f15186-1f2d-4db0-9a15-deca41feca88.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: 'd09a707e-de6b-4319-a62b-96b87c8a0c66',
  updatedAt: 2020-03-05T17:32:47.218Z,
  createdAt: 2020-03-05T17:32:47.218Z }
writing to db2...
Executing (19439e4c-2390-42b5-a59b-1977b339869f): START TRANSACTION;
Executing (19439e4c-2390-42b5-a59b-1977b339869f): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '008e7672-a74a-434e-af42-62545c66b0a5' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = '24f15186-1f2d-4db0-9a15-deca41feca88.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = 'd09a707e-de6b-4319-a62b-96b87c8a0c66' LIMIT 1;
Executing (19439e4c-2390-42b5-a59b-1977b339869f): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_e008249912a947f8abf4de6eeba2bf2f$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('92c80f5c-cc90-4b9c-998e-4c28fee23572','008e7672-a74a-434e-af42-62545c66b0a5','d09a707e-de6b-4319-a62b-96b87c8a0c66','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','24f15186-1f2d-4db0-9a15-deca41feca88.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:32:47.621 +00:00','2020-03-05 17:32:47.621 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_e008249912a947f8abf4de6eeba2bf2f$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (19439e4c-2390-42b5-a59b-1977b339869f): COMMIT;
{ fileUUID: '92c80f5c-cc90-4b9c-998e-4c28fee23572',
  cnodeUserUUID: '008e7672-a74a-434e-af42-62545c66b0a5',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: '24f15186-1f2d-4db0-9a15-deca41feca88.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: 'd09a707e-de6b-4319-a62b-96b87c8a0c66',
  updatedAt: 2020-03-05T17:32:47.621Z,
  createdAt: 2020-03-05T17:32:47.621Z }
writing to db3...
Executing (f1de7cf5-3c73-4b26-84c3-c83b5ca99c1e): START TRANSACTION;
Executing (f1de7cf5-3c73-4b26-84c3-c83b5ca99c1e): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '008e7672-a74a-434e-af42-62545c66b0a5' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = '24f15186-1f2d-4db0-9a15-deca41feca88.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = 'd09a707e-de6b-4319-a62b-96b87c8a0c66' LIMIT 1;
Executing (f1de7cf5-3c73-4b26-84c3-c83b5ca99c1e): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_a030bfb35bf44af3b375bcaaa45e55a9$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('1e5d68fe-29dc-4dc1-b021-effa70a208d8','008e7672-a74a-434e-af42-62545c66b0a5','d09a707e-de6b-4319-a62b-96b87c8a0c66','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','24f15186-1f2d-4db0-9a15-deca41feca88.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:32:48.025 +00:00','2020-03-05 17:32:48.025 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_a030bfb35bf44af3b375bcaaa45e55a9$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (f1de7cf5-3c73-4b26-84c3-c83b5ca99c1e): COMMIT;
{ fileUUID: '1e5d68fe-29dc-4dc1-b021-effa70a208d8',
  cnodeUserUUID: '008e7672-a74a-434e-af42-62545c66b0a5',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: '24f15186-1f2d-4db0-9a15-deca41feca88.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: 'd09a707e-de6b-4319-a62b-96b87c8a0c66',
  updatedAt: 2020-03-05T17:32:48.025Z,
  createdAt: 2020-03-05T17:32:48.025Z }




PROCESSING ROW #55: sourcefile: 780a3336-eaa5-443f-8d79-47c2ebf62512.mp3, cnodeUserUUID: c6dd2901-edb2-4e1a-a21e-130d9d6f4caf, trackUUID: aef13dfb-0e5a-41f9-ba96-290e9fd08a47, multihash: QmR5ns9aUTo3L3RgNGAbTstHUKdb1jVmaBaEN51MVY2cko, dstPath: /file_storage/QmR5ns9aUTo3L3RgNGAbTstHUKdb1jVmaBaEN51MVY2cko
writing to db1...
Executing (edb14e3d-e8ab-4e02-9695-1d71090f8a64): START TRANSACTION;
Executing (edb14e3d-e8ab-4e02-9695-1d71090f8a64): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = 'c6dd2901-edb2-4e1a-a21e-130d9d6f4caf' AND "File"."multihash" = 'QmR5ns9aUTo3L3RgNGAbTstHUKdb1jVmaBaEN51MVY2cko' AND "File"."sourceFile" = '780a3336-eaa5-443f-8d79-47c2ebf62512.mp3' AND "File"."storagePath" = '/file_storage/QmR5ns9aUTo3L3RgNGAbTstHUKdb1jVmaBaEN51MVY2cko' AND "File"."type" = 'copy320' AND "File"."trackUUID" = 'aef13dfb-0e5a-41f9-ba96-290e9fd08a47' LIMIT 1;
Executing (edb14e3d-e8ab-4e02-9695-1d71090f8a64): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_337d8925bf6e4cbf9933ab626b650ccd$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('7e2aac3c-3b6d-4db5-8dfe-f8de391e1e28','c6dd2901-edb2-4e1a-a21e-130d9d6f4caf','aef13dfb-0e5a-41f9-ba96-290e9fd08a47','QmR5ns9aUTo3L3RgNGAbTstHUKdb1jVmaBaEN51MVY2cko','780a3336-eaa5-443f-8d79-47c2ebf62512.mp3','/file_storage/QmR5ns9aUTo3L3RgNGAbTstHUKdb1jVmaBaEN51MVY2cko','copy320','2020-03-05 17:32:48.421 +00:00','2020-03-05 17:32:48.421 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_337d8925bf6e4cbf9933ab626b650ccd$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (edb14e3d-e8ab-4e02-9695-1d71090f8a64): COMMIT;
{ fileUUID: '7e2aac3c-3b6d-4db5-8dfe-f8de391e1e28',
  cnodeUserUUID: 'c6dd2901-edb2-4e1a-a21e-130d9d6f4caf',
  multihash: 'QmR5ns9aUTo3L3RgNGAbTstHUKdb1jVmaBaEN51MVY2cko',
  sourceFile: '780a3336-eaa5-443f-8d79-47c2ebf62512.mp3',
  storagePath:
   '/file_storage/QmR5ns9aUTo3L3RgNGAbTstHUKdb1jVmaBaEN51MVY2cko',
  type: 'copy320',
  trackUUID: 'aef13dfb-0e5a-41f9-ba96-290e9fd08a47',
  updatedAt: 2020-03-05T17:32:48.421Z,
  createdAt: 2020-03-05T17:32:48.421Z }
writing to db2...
Executing (f97a0517-f5cc-42bb-a0cd-7f975e32591e): START TRANSACTION;
Executing (f97a0517-f5cc-42bb-a0cd-7f975e32591e): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = 'c6dd2901-edb2-4e1a-a21e-130d9d6f4caf' AND "File"."multihash" = 'QmR5ns9aUTo3L3RgNGAbTstHUKdb1jVmaBaEN51MVY2cko' AND "File"."sourceFile" = '780a3336-eaa5-443f-8d79-47c2ebf62512.mp3' AND "File"."storagePath" = '/file_storage/QmR5ns9aUTo3L3RgNGAbTstHUKdb1jVmaBaEN51MVY2cko' AND "File"."type" = 'copy320' AND "File"."trackUUID" = 'aef13dfb-0e5a-41f9-ba96-290e9fd08a47' LIMIT 1;
Executing (f97a0517-f5cc-42bb-a0cd-7f975e32591e): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_0932780e2ee84746b1b5a3e15a37e4d2$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('42237677-16c3-4e21-a366-46d182342d67','c6dd2901-edb2-4e1a-a21e-130d9d6f4caf','aef13dfb-0e5a-41f9-ba96-290e9fd08a47','QmR5ns9aUTo3L3RgNGAbTstHUKdb1jVmaBaEN51MVY2cko','780a3336-eaa5-443f-8d79-47c2ebf62512.mp3','/file_storage/QmR5ns9aUTo3L3RgNGAbTstHUKdb1jVmaBaEN51MVY2cko','copy320','2020-03-05 17:32:48.804 +00:00','2020-03-05 17:32:48.804 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_0932780e2ee84746b1b5a3e15a37e4d2$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (f97a0517-f5cc-42bb-a0cd-7f975e32591e): COMMIT;
{ fileUUID: '42237677-16c3-4e21-a366-46d182342d67',
  cnodeUserUUID: 'c6dd2901-edb2-4e1a-a21e-130d9d6f4caf',
  multihash: 'QmR5ns9aUTo3L3RgNGAbTstHUKdb1jVmaBaEN51MVY2cko',
  sourceFile: '780a3336-eaa5-443f-8d79-47c2ebf62512.mp3',
  storagePath:
   '/file_storage/QmR5ns9aUTo3L3RgNGAbTstHUKdb1jVmaBaEN51MVY2cko',
  type: 'copy320',
  trackUUID: 'aef13dfb-0e5a-41f9-ba96-290e9fd08a47',
  updatedAt: 2020-03-05T17:32:48.804Z,
  createdAt: 2020-03-05T17:32:48.804Z }
writing to db3...
Executing (6ced95d6-1f68-49c8-a56d-506957fce7c9): START TRANSACTION;
Executing (6ced95d6-1f68-49c8-a56d-506957fce7c9): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = 'c6dd2901-edb2-4e1a-a21e-130d9d6f4caf' AND "File"."multihash" = 'QmR5ns9aUTo3L3RgNGAbTstHUKdb1jVmaBaEN51MVY2cko' AND "File"."sourceFile" = '780a3336-eaa5-443f-8d79-47c2ebf62512.mp3' AND "File"."storagePath" = '/file_storage/QmR5ns9aUTo3L3RgNGAbTstHUKdb1jVmaBaEN51MVY2cko' AND "File"."type" = 'copy320' AND "File"."trackUUID" = 'aef13dfb-0e5a-41f9-ba96-290e9fd08a47' LIMIT 1;
Executing (6ced95d6-1f68-49c8-a56d-506957fce7c9): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_3e93f9fc4ff943df865dbc0b78b8d422$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('30a92d41-e67e-4458-8031-4ce6d1211a3c','c6dd2901-edb2-4e1a-a21e-130d9d6f4caf','aef13dfb-0e5a-41f9-ba96-290e9fd08a47','QmR5ns9aUTo3L3RgNGAbTstHUKdb1jVmaBaEN51MVY2cko','780a3336-eaa5-443f-8d79-47c2ebf62512.mp3','/file_storage/QmR5ns9aUTo3L3RgNGAbTstHUKdb1jVmaBaEN51MVY2cko','copy320','2020-03-05 17:32:49.199 +00:00','2020-03-05 17:32:49.199 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_3e93f9fc4ff943df865dbc0b78b8d422$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (6ced95d6-1f68-49c8-a56d-506957fce7c9): COMMIT;
{ fileUUID: '30a92d41-e67e-4458-8031-4ce6d1211a3c',
  cnodeUserUUID: 'c6dd2901-edb2-4e1a-a21e-130d9d6f4caf',
  multihash: 'QmR5ns9aUTo3L3RgNGAbTstHUKdb1jVmaBaEN51MVY2cko',
  sourceFile: '780a3336-eaa5-443f-8d79-47c2ebf62512.mp3',
  storagePath:
   '/file_storage/QmR5ns9aUTo3L3RgNGAbTstHUKdb1jVmaBaEN51MVY2cko',
  type: 'copy320',
  trackUUID: 'aef13dfb-0e5a-41f9-ba96-290e9fd08a47',
  updatedAt: 2020-03-05T17:32:49.199Z,
  createdAt: 2020-03-05T17:32:49.199Z }




PROCESSING ROW #56: sourcefile: a6b57185-63bc-4055-a806-5e2a4a85f3e3.mp3, cnodeUserUUID: a7994162-bac6-4c39-bcf4-db81be15b2f0, trackUUID: 15ac6873-a224-4ec6-bd13-97efc2c6cc53, multihash: QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM, dstPath: /file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM
writing to db1...
Executing (ef998569-c3e4-453d-9084-341c3006f16f): START TRANSACTION;
Executing (ef998569-c3e4-453d-9084-341c3006f16f): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = 'a7994162-bac6-4c39-bcf4-db81be15b2f0' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = 'a6b57185-63bc-4055-a806-5e2a4a85f3e3.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '15ac6873-a224-4ec6-bd13-97efc2c6cc53' LIMIT 1;
Executing (ef998569-c3e4-453d-9084-341c3006f16f): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_d0a738e71626490d8c8e1adc4a9e581e$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('922cf111-73d9-41b6-8afa-fe72caeac126','a7994162-bac6-4c39-bcf4-db81be15b2f0','15ac6873-a224-4ec6-bd13-97efc2c6cc53','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','a6b57185-63bc-4055-a806-5e2a4a85f3e3.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:32:49.595 +00:00','2020-03-05 17:32:49.595 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_d0a738e71626490d8c8e1adc4a9e581e$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (ef998569-c3e4-453d-9084-341c3006f16f): COMMIT;
{ fileUUID: '922cf111-73d9-41b6-8afa-fe72caeac126',
  cnodeUserUUID: 'a7994162-bac6-4c39-bcf4-db81be15b2f0',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: 'a6b57185-63bc-4055-a806-5e2a4a85f3e3.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: '15ac6873-a224-4ec6-bd13-97efc2c6cc53',
  updatedAt: 2020-03-05T17:32:49.595Z,
  createdAt: 2020-03-05T17:32:49.595Z }
writing to db2...
Executing (22d9ffc5-96b8-42ca-bb64-42a7e537596c): START TRANSACTION;
Executing (22d9ffc5-96b8-42ca-bb64-42a7e537596c): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = 'a7994162-bac6-4c39-bcf4-db81be15b2f0' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = 'a6b57185-63bc-4055-a806-5e2a4a85f3e3.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '15ac6873-a224-4ec6-bd13-97efc2c6cc53' LIMIT 1;
Executing (22d9ffc5-96b8-42ca-bb64-42a7e537596c): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_8ff750cd67f24b7f985520a9f052eb18$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('a88c2331-30a3-4511-a8f7-f639c143a9f7','a7994162-bac6-4c39-bcf4-db81be15b2f0','15ac6873-a224-4ec6-bd13-97efc2c6cc53','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','a6b57185-63bc-4055-a806-5e2a4a85f3e3.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:32:50.004 +00:00','2020-03-05 17:32:50.004 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_8ff750cd67f24b7f985520a9f052eb18$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (22d9ffc5-96b8-42ca-bb64-42a7e537596c): COMMIT;
{ fileUUID: 'a88c2331-30a3-4511-a8f7-f639c143a9f7',
  cnodeUserUUID: 'a7994162-bac6-4c39-bcf4-db81be15b2f0',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: 'a6b57185-63bc-4055-a806-5e2a4a85f3e3.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: '15ac6873-a224-4ec6-bd13-97efc2c6cc53',
  updatedAt: 2020-03-05T17:32:50.004Z,
  createdAt: 2020-03-05T17:32:50.004Z }
writing to db3...
Executing (50369867-b85b-4799-a16a-f0e62648cb8a): START TRANSACTION;
Executing (50369867-b85b-4799-a16a-f0e62648cb8a): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = 'a7994162-bac6-4c39-bcf4-db81be15b2f0' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = 'a6b57185-63bc-4055-a806-5e2a4a85f3e3.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '15ac6873-a224-4ec6-bd13-97efc2c6cc53' LIMIT 1;
Executing (50369867-b85b-4799-a16a-f0e62648cb8a): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_87feeef33a8d474ebb79a290b35a7a98$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('a0190a20-5cdc-4da6-9ba5-e751b96f0974','a7994162-bac6-4c39-bcf4-db81be15b2f0','15ac6873-a224-4ec6-bd13-97efc2c6cc53','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','a6b57185-63bc-4055-a806-5e2a4a85f3e3.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:32:50.417 +00:00','2020-03-05 17:32:50.417 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_87feeef33a8d474ebb79a290b35a7a98$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (50369867-b85b-4799-a16a-f0e62648cb8a): COMMIT;
{ fileUUID: 'a0190a20-5cdc-4da6-9ba5-e751b96f0974',
  cnodeUserUUID: 'a7994162-bac6-4c39-bcf4-db81be15b2f0',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: 'a6b57185-63bc-4055-a806-5e2a4a85f3e3.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: '15ac6873-a224-4ec6-bd13-97efc2c6cc53',
  updatedAt: 2020-03-05T17:32:50.417Z,
  createdAt: 2020-03-05T17:32:50.417Z }




PROCESSING ROW #57: sourcefile: fcb89aad-eab5-4d49-aa5b-d0a0babe4045.mp3, cnodeUserUUID: 0790750f-047f-4258-89bf-97045349f71f, trackUUID: 1ccb5aae-3779-4be6-9831-57cdda55fa0b, multihash: QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM, dstPath: /file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM
writing to db1...
Executing (a475fa33-eb9d-49c2-98c7-75219b6363e9): START TRANSACTION;
Executing (a475fa33-eb9d-49c2-98c7-75219b6363e9): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '0790750f-047f-4258-89bf-97045349f71f' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = 'fcb89aad-eab5-4d49-aa5b-d0a0babe4045.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '1ccb5aae-3779-4be6-9831-57cdda55fa0b' LIMIT 1;
Executing (a475fa33-eb9d-49c2-98c7-75219b6363e9): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_20c9d7a79f2f476d88aded0575f6eebe$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('ea88fc5e-f669-4e9d-93a4-2b2ffa4c486f','0790750f-047f-4258-89bf-97045349f71f','1ccb5aae-3779-4be6-9831-57cdda55fa0b','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','fcb89aad-eab5-4d49-aa5b-d0a0babe4045.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:32:50.830 +00:00','2020-03-05 17:32:50.830 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_20c9d7a79f2f476d88aded0575f6eebe$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (a475fa33-eb9d-49c2-98c7-75219b6363e9): COMMIT;
{ fileUUID: 'ea88fc5e-f669-4e9d-93a4-2b2ffa4c486f',
  cnodeUserUUID: '0790750f-047f-4258-89bf-97045349f71f',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: 'fcb89aad-eab5-4d49-aa5b-d0a0babe4045.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: '1ccb5aae-3779-4be6-9831-57cdda55fa0b',
  updatedAt: 2020-03-05T17:32:50.830Z,
  createdAt: 2020-03-05T17:32:50.830Z }
writing to db2...
Executing (7cc718d7-294d-4ed9-ab6c-9eeb23628149): START TRANSACTION;
Executing (7cc718d7-294d-4ed9-ab6c-9eeb23628149): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '0790750f-047f-4258-89bf-97045349f71f' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = 'fcb89aad-eab5-4d49-aa5b-d0a0babe4045.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '1ccb5aae-3779-4be6-9831-57cdda55fa0b' LIMIT 1;
Executing (7cc718d7-294d-4ed9-ab6c-9eeb23628149): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_34ef18bdf23b47a59dcf69511c937025$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('7470ba2b-9a99-4197-b2d8-cc76532d711d','0790750f-047f-4258-89bf-97045349f71f','1ccb5aae-3779-4be6-9831-57cdda55fa0b','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','fcb89aad-eab5-4d49-aa5b-d0a0babe4045.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:32:51.233 +00:00','2020-03-05 17:32:51.233 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_34ef18bdf23b47a59dcf69511c937025$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (7cc718d7-294d-4ed9-ab6c-9eeb23628149): COMMIT;
{ fileUUID: '7470ba2b-9a99-4197-b2d8-cc76532d711d',
  cnodeUserUUID: '0790750f-047f-4258-89bf-97045349f71f',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: 'fcb89aad-eab5-4d49-aa5b-d0a0babe4045.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: '1ccb5aae-3779-4be6-9831-57cdda55fa0b',
  updatedAt: 2020-03-05T17:32:51.233Z,
  createdAt: 2020-03-05T17:32:51.233Z }
writing to db3...
Executing (ffdef9f4-d76b-4c36-a30e-f1ef19f05caa): START TRANSACTION;
Executing (ffdef9f4-d76b-4c36-a30e-f1ef19f05caa): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '0790750f-047f-4258-89bf-97045349f71f' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = 'fcb89aad-eab5-4d49-aa5b-d0a0babe4045.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '1ccb5aae-3779-4be6-9831-57cdda55fa0b' LIMIT 1;
Executing (ffdef9f4-d76b-4c36-a30e-f1ef19f05caa): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_681ed017e4924290a2ecc55109c164f8$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('a41c1e63-a2e4-464a-b662-1d659e1635b5','0790750f-047f-4258-89bf-97045349f71f','1ccb5aae-3779-4be6-9831-57cdda55fa0b','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','fcb89aad-eab5-4d49-aa5b-d0a0babe4045.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:32:51.649 +00:00','2020-03-05 17:32:51.649 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_681ed017e4924290a2ecc55109c164f8$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (ffdef9f4-d76b-4c36-a30e-f1ef19f05caa): COMMIT;
{ fileUUID: 'a41c1e63-a2e4-464a-b662-1d659e1635b5',
  cnodeUserUUID: '0790750f-047f-4258-89bf-97045349f71f',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: 'fcb89aad-eab5-4d49-aa5b-d0a0babe4045.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: '1ccb5aae-3779-4be6-9831-57cdda55fa0b',
  updatedAt: 2020-03-05T17:32:51.649Z,
  createdAt: 2020-03-05T17:32:51.649Z }




PROCESSING ROW #58: sourcefile: 3af35637-233b-43f6-ae66-04ff85c293c3.mp3, cnodeUserUUID: 9e799d05-73ad-409f-a294-040f57a34106, trackUUID: eda9df93-5665-4776-908c-e8d8b5315916, multihash: QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM, dstPath: /file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM
writing to db1...
Executing (57282655-bbc6-4686-a467-db42aa1ec736): START TRANSACTION;
Executing (57282655-bbc6-4686-a467-db42aa1ec736): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '9e799d05-73ad-409f-a294-040f57a34106' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = '3af35637-233b-43f6-ae66-04ff85c293c3.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = 'eda9df93-5665-4776-908c-e8d8b5315916' LIMIT 1;
Executing (57282655-bbc6-4686-a467-db42aa1ec736): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_1ff3dc54d77a43e68def7d649c652fbd$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('32c47f3f-ee1f-496b-81f3-e70c8709f51b','9e799d05-73ad-409f-a294-040f57a34106','eda9df93-5665-4776-908c-e8d8b5315916','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','3af35637-233b-43f6-ae66-04ff85c293c3.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:32:52.045 +00:00','2020-03-05 17:32:52.045 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_1ff3dc54d77a43e68def7d649c652fbd$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (57282655-bbc6-4686-a467-db42aa1ec736): COMMIT;
{ fileUUID: '32c47f3f-ee1f-496b-81f3-e70c8709f51b',
  cnodeUserUUID: '9e799d05-73ad-409f-a294-040f57a34106',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: '3af35637-233b-43f6-ae66-04ff85c293c3.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: 'eda9df93-5665-4776-908c-e8d8b5315916',
  updatedAt: 2020-03-05T17:32:52.045Z,
  createdAt: 2020-03-05T17:32:52.045Z }
writing to db2...
Executing (2bbfbab2-2fa5-4b2c-a03b-d4887f454f93): START TRANSACTION;
Executing (2bbfbab2-2fa5-4b2c-a03b-d4887f454f93): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '9e799d05-73ad-409f-a294-040f57a34106' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = '3af35637-233b-43f6-ae66-04ff85c293c3.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = 'eda9df93-5665-4776-908c-e8d8b5315916' LIMIT 1;
Executing (2bbfbab2-2fa5-4b2c-a03b-d4887f454f93): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_a591bad5957943e691bfb0dc0d5e7da9$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('58abf4c6-2337-4233-b69f-3dfcf5814169','9e799d05-73ad-409f-a294-040f57a34106','eda9df93-5665-4776-908c-e8d8b5315916','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','3af35637-233b-43f6-ae66-04ff85c293c3.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:32:52.453 +00:00','2020-03-05 17:32:52.453 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_a591bad5957943e691bfb0dc0d5e7da9$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (2bbfbab2-2fa5-4b2c-a03b-d4887f454f93): COMMIT;
{ fileUUID: '58abf4c6-2337-4233-b69f-3dfcf5814169',
  cnodeUserUUID: '9e799d05-73ad-409f-a294-040f57a34106',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: '3af35637-233b-43f6-ae66-04ff85c293c3.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: 'eda9df93-5665-4776-908c-e8d8b5315916',
  updatedAt: 2020-03-05T17:32:52.453Z,
  createdAt: 2020-03-05T17:32:52.453Z }
writing to db3...
Executing (67c937fc-7a51-4eef-9339-7b78c2ccb496): START TRANSACTION;
Executing (67c937fc-7a51-4eef-9339-7b78c2ccb496): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '9e799d05-73ad-409f-a294-040f57a34106' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = '3af35637-233b-43f6-ae66-04ff85c293c3.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = 'eda9df93-5665-4776-908c-e8d8b5315916' LIMIT 1;
Executing (67c937fc-7a51-4eef-9339-7b78c2ccb496): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_ba3f12acc77a40b097e57591aa19e15d$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('478599d7-f40e-4a6e-873e-c358ea52b470','9e799d05-73ad-409f-a294-040f57a34106','eda9df93-5665-4776-908c-e8d8b5315916','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','3af35637-233b-43f6-ae66-04ff85c293c3.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:32:52.855 +00:00','2020-03-05 17:32:52.855 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_ba3f12acc77a40b097e57591aa19e15d$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (67c937fc-7a51-4eef-9339-7b78c2ccb496): COMMIT;
{ fileUUID: '478599d7-f40e-4a6e-873e-c358ea52b470',
  cnodeUserUUID: '9e799d05-73ad-409f-a294-040f57a34106',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: '3af35637-233b-43f6-ae66-04ff85c293c3.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: 'eda9df93-5665-4776-908c-e8d8b5315916',
  updatedAt: 2020-03-05T17:32:52.855Z,
  createdAt: 2020-03-05T17:32:52.855Z }




PROCESSING ROW #59: sourcefile: ff3f436d-c725-4189-8b8e-9e0b243e0510.mp3, cnodeUserUUID: cd03e9d1-e63a-4cf8-a39d-c04f071c22a6, trackUUID: 3fa5f0ac-eb05-4cf8-a27c-e798587c11dc, multihash: QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM, dstPath: /file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM
writing to db1...
Executing (822c173a-d4d2-4cfa-b860-ad2ed6d4f432): START TRANSACTION;
Executing (822c173a-d4d2-4cfa-b860-ad2ed6d4f432): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = 'cd03e9d1-e63a-4cf8-a39d-c04f071c22a6' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = 'ff3f436d-c725-4189-8b8e-9e0b243e0510.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '3fa5f0ac-eb05-4cf8-a27c-e798587c11dc' LIMIT 1;
Executing (822c173a-d4d2-4cfa-b860-ad2ed6d4f432): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_2f63369e6ae342159583a16cc4fdf7c3$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('eeaff80d-c98a-4d8d-b283-d06709d06445','cd03e9d1-e63a-4cf8-a39d-c04f071c22a6','3fa5f0ac-eb05-4cf8-a27c-e798587c11dc','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','ff3f436d-c725-4189-8b8e-9e0b243e0510.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:32:53.273 +00:00','2020-03-05 17:32:53.273 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_2f63369e6ae342159583a16cc4fdf7c3$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (822c173a-d4d2-4cfa-b860-ad2ed6d4f432): COMMIT;
{ fileUUID: 'eeaff80d-c98a-4d8d-b283-d06709d06445',
  cnodeUserUUID: 'cd03e9d1-e63a-4cf8-a39d-c04f071c22a6',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: 'ff3f436d-c725-4189-8b8e-9e0b243e0510.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: '3fa5f0ac-eb05-4cf8-a27c-e798587c11dc',
  updatedAt: 2020-03-05T17:32:53.273Z,
  createdAt: 2020-03-05T17:32:53.273Z }
writing to db2...
Executing (49cedb4c-eb1d-47b3-a828-0013d8dccbed): START TRANSACTION;
Executing (49cedb4c-eb1d-47b3-a828-0013d8dccbed): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = 'cd03e9d1-e63a-4cf8-a39d-c04f071c22a6' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = 'ff3f436d-c725-4189-8b8e-9e0b243e0510.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '3fa5f0ac-eb05-4cf8-a27c-e798587c11dc' LIMIT 1;
Executing (49cedb4c-eb1d-47b3-a828-0013d8dccbed): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_cf5f9cff16774c3099d2cbbb3d286228$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('110f4211-fe9a-40a5-a999-b0a9631a53ca','cd03e9d1-e63a-4cf8-a39d-c04f071c22a6','3fa5f0ac-eb05-4cf8-a27c-e798587c11dc','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','ff3f436d-c725-4189-8b8e-9e0b243e0510.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:32:53.674 +00:00','2020-03-05 17:32:53.674 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_cf5f9cff16774c3099d2cbbb3d286228$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (49cedb4c-eb1d-47b3-a828-0013d8dccbed): COMMIT;
{ fileUUID: '110f4211-fe9a-40a5-a999-b0a9631a53ca',
  cnodeUserUUID: 'cd03e9d1-e63a-4cf8-a39d-c04f071c22a6',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: 'ff3f436d-c725-4189-8b8e-9e0b243e0510.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: '3fa5f0ac-eb05-4cf8-a27c-e798587c11dc',
  updatedAt: 2020-03-05T17:32:53.674Z,
  createdAt: 2020-03-05T17:32:53.674Z }
writing to db3...
Executing (0218939f-4796-4632-bb68-b5cd0134e3fc): START TRANSACTION;
Executing (0218939f-4796-4632-bb68-b5cd0134e3fc): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = 'cd03e9d1-e63a-4cf8-a39d-c04f071c22a6' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = 'ff3f436d-c725-4189-8b8e-9e0b243e0510.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '3fa5f0ac-eb05-4cf8-a27c-e798587c11dc' LIMIT 1;
Executing (0218939f-4796-4632-bb68-b5cd0134e3fc): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_68ce268391e44130bbad234527480f66$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('79d809b4-844b-4d4c-b789-ac120aecec72','cd03e9d1-e63a-4cf8-a39d-c04f071c22a6','3fa5f0ac-eb05-4cf8-a27c-e798587c11dc','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','ff3f436d-c725-4189-8b8e-9e0b243e0510.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:32:54.081 +00:00','2020-03-05 17:32:54.081 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_68ce268391e44130bbad234527480f66$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (0218939f-4796-4632-bb68-b5cd0134e3fc): COMMIT;
{ fileUUID: '79d809b4-844b-4d4c-b789-ac120aecec72',
  cnodeUserUUID: 'cd03e9d1-e63a-4cf8-a39d-c04f071c22a6',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: 'ff3f436d-c725-4189-8b8e-9e0b243e0510.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: '3fa5f0ac-eb05-4cf8-a27c-e798587c11dc',
  updatedAt: 2020-03-05T17:32:54.081Z,
  createdAt: 2020-03-05T17:32:54.081Z }




PROCESSING ROW #60: sourcefile: 3b54a3b7-4721-4bf4-831d-25f587d95583.mp3, cnodeUserUUID: c021c82e-16ca-42c5-9f66-3022649b5cf2, trackUUID: 0f5868d0-8473-4bf9-a359-c1083c1d6282, multihash: QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM, dstPath: /file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM
writing to db1...
Executing (4cfb0e10-eee7-4dec-8892-c7eb33f9fb93): START TRANSACTION;
Executing (4cfb0e10-eee7-4dec-8892-c7eb33f9fb93): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = 'c021c82e-16ca-42c5-9f66-3022649b5cf2' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = '3b54a3b7-4721-4bf4-831d-25f587d95583.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '0f5868d0-8473-4bf9-a359-c1083c1d6282' LIMIT 1;
Executing (4cfb0e10-eee7-4dec-8892-c7eb33f9fb93): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_ae3590bc9c7b417aafa15e7566163146$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('39369c63-efb5-4225-9f6e-0da2ece4175e','c021c82e-16ca-42c5-9f66-3022649b5cf2','0f5868d0-8473-4bf9-a359-c1083c1d6282','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','3b54a3b7-4721-4bf4-831d-25f587d95583.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:32:54.481 +00:00','2020-03-05 17:32:54.481 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_ae3590bc9c7b417aafa15e7566163146$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (4cfb0e10-eee7-4dec-8892-c7eb33f9fb93): COMMIT;
{ fileUUID: '39369c63-efb5-4225-9f6e-0da2ece4175e',
  cnodeUserUUID: 'c021c82e-16ca-42c5-9f66-3022649b5cf2',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: '3b54a3b7-4721-4bf4-831d-25f587d95583.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: '0f5868d0-8473-4bf9-a359-c1083c1d6282',
  updatedAt: 2020-03-05T17:32:54.481Z,
  createdAt: 2020-03-05T17:32:54.481Z }
writing to db2...
Executing (d387e886-fbb7-42b9-aa49-a288202093a1): START TRANSACTION;
Executing (d387e886-fbb7-42b9-aa49-a288202093a1): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = 'c021c82e-16ca-42c5-9f66-3022649b5cf2' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = '3b54a3b7-4721-4bf4-831d-25f587d95583.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '0f5868d0-8473-4bf9-a359-c1083c1d6282' LIMIT 1;
Executing (d387e886-fbb7-42b9-aa49-a288202093a1): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_bc03518e5ad34c6fa9aac75793bd6bf3$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('326f52f2-1573-4992-9480-a6bd6f143677','c021c82e-16ca-42c5-9f66-3022649b5cf2','0f5868d0-8473-4bf9-a359-c1083c1d6282','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','3b54a3b7-4721-4bf4-831d-25f587d95583.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:32:54.883 +00:00','2020-03-05 17:32:54.883 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_bc03518e5ad34c6fa9aac75793bd6bf3$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (d387e886-fbb7-42b9-aa49-a288202093a1): COMMIT;
{ fileUUID: '326f52f2-1573-4992-9480-a6bd6f143677',
  cnodeUserUUID: 'c021c82e-16ca-42c5-9f66-3022649b5cf2',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: '3b54a3b7-4721-4bf4-831d-25f587d95583.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: '0f5868d0-8473-4bf9-a359-c1083c1d6282',
  updatedAt: 2020-03-05T17:32:54.883Z,
  createdAt: 2020-03-05T17:32:54.883Z }
writing to db3...
Executing (a53aa27e-02aa-49c7-b71b-48fab63631b1): START TRANSACTION;
Executing (a53aa27e-02aa-49c7-b71b-48fab63631b1): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = 'c021c82e-16ca-42c5-9f66-3022649b5cf2' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = '3b54a3b7-4721-4bf4-831d-25f587d95583.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '0f5868d0-8473-4bf9-a359-c1083c1d6282' LIMIT 1;
Executing (a53aa27e-02aa-49c7-b71b-48fab63631b1): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_8251c5749f5c47c69b1c7adb79312123$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('997ce633-7f05-468c-a56b-ec1cb71718b4','c021c82e-16ca-42c5-9f66-3022649b5cf2','0f5868d0-8473-4bf9-a359-c1083c1d6282','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','3b54a3b7-4721-4bf4-831d-25f587d95583.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:32:55.286 +00:00','2020-03-05 17:32:55.286 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_8251c5749f5c47c69b1c7adb79312123$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (a53aa27e-02aa-49c7-b71b-48fab63631b1): COMMIT;
{ fileUUID: '997ce633-7f05-468c-a56b-ec1cb71718b4',
  cnodeUserUUID: 'c021c82e-16ca-42c5-9f66-3022649b5cf2',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: '3b54a3b7-4721-4bf4-831d-25f587d95583.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: '0f5868d0-8473-4bf9-a359-c1083c1d6282',
  updatedAt: 2020-03-05T17:32:55.286Z,
  createdAt: 2020-03-05T17:32:55.286Z }




PROCESSING ROW #61: sourcefile: 28a458b1-0abd-4488-9109-37646f4f44a9.mp3, cnodeUserUUID: 32f9ad54-67f1-41b1-a10d-98ac2497b23e, trackUUID: 231c3d62-c7ee-47b9-8265-e3d1c2c9fde3, multihash: QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM, dstPath: /file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM
writing to db1...
Executing (1187abb4-2b5c-4559-9799-93ec7eb53387): START TRANSACTION;
Executing (1187abb4-2b5c-4559-9799-93ec7eb53387): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '32f9ad54-67f1-41b1-a10d-98ac2497b23e' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = '28a458b1-0abd-4488-9109-37646f4f44a9.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '231c3d62-c7ee-47b9-8265-e3d1c2c9fde3' LIMIT 1;
Executing (1187abb4-2b5c-4559-9799-93ec7eb53387): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_3fa3dd71aa95457794c38a3fe97838d6$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('c34616ae-3cd2-4f29-b788-6e1b5c1cc634','32f9ad54-67f1-41b1-a10d-98ac2497b23e','231c3d62-c7ee-47b9-8265-e3d1c2c9fde3','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','28a458b1-0abd-4488-9109-37646f4f44a9.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:32:55.687 +00:00','2020-03-05 17:32:55.687 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_3fa3dd71aa95457794c38a3fe97838d6$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (1187abb4-2b5c-4559-9799-93ec7eb53387): COMMIT;
{ fileUUID: 'c34616ae-3cd2-4f29-b788-6e1b5c1cc634',
  cnodeUserUUID: '32f9ad54-67f1-41b1-a10d-98ac2497b23e',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: '28a458b1-0abd-4488-9109-37646f4f44a9.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: '231c3d62-c7ee-47b9-8265-e3d1c2c9fde3',
  updatedAt: 2020-03-05T17:32:55.687Z,
  createdAt: 2020-03-05T17:32:55.687Z }
writing to db2...
Executing (41f9f56e-6c8d-4842-8983-62bb1e02d534): START TRANSACTION;
Executing (41f9f56e-6c8d-4842-8983-62bb1e02d534): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '32f9ad54-67f1-41b1-a10d-98ac2497b23e' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = '28a458b1-0abd-4488-9109-37646f4f44a9.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '231c3d62-c7ee-47b9-8265-e3d1c2c9fde3' LIMIT 1;
Executing (41f9f56e-6c8d-4842-8983-62bb1e02d534): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_d89a5cb6dedf47dd9d620a104239cd63$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('2c50c5c0-0e1f-4503-bcca-607d90f9cf22','32f9ad54-67f1-41b1-a10d-98ac2497b23e','231c3d62-c7ee-47b9-8265-e3d1c2c9fde3','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','28a458b1-0abd-4488-9109-37646f4f44a9.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:32:56.091 +00:00','2020-03-05 17:32:56.091 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_d89a5cb6dedf47dd9d620a104239cd63$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (41f9f56e-6c8d-4842-8983-62bb1e02d534): COMMIT;
{ fileUUID: '2c50c5c0-0e1f-4503-bcca-607d90f9cf22',
  cnodeUserUUID: '32f9ad54-67f1-41b1-a10d-98ac2497b23e',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: '28a458b1-0abd-4488-9109-37646f4f44a9.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: '231c3d62-c7ee-47b9-8265-e3d1c2c9fde3',
  updatedAt: 2020-03-05T17:32:56.091Z,
  createdAt: 2020-03-05T17:32:56.091Z }
writing to db3...
Executing (5a77ae0f-43cc-489d-b1cf-d03e41c10430): START TRANSACTION;
Executing (5a77ae0f-43cc-489d-b1cf-d03e41c10430): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '32f9ad54-67f1-41b1-a10d-98ac2497b23e' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = '28a458b1-0abd-4488-9109-37646f4f44a9.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '231c3d62-c7ee-47b9-8265-e3d1c2c9fde3' LIMIT 1;
Executing (5a77ae0f-43cc-489d-b1cf-d03e41c10430): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_2a9b55f8463e434280a7b5f779e6373d$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('1cf593be-3857-43e4-86d4-691bf7bb9d59','32f9ad54-67f1-41b1-a10d-98ac2497b23e','231c3d62-c7ee-47b9-8265-e3d1c2c9fde3','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','28a458b1-0abd-4488-9109-37646f4f44a9.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:32:56.478 +00:00','2020-03-05 17:32:56.478 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_2a9b55f8463e434280a7b5f779e6373d$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (5a77ae0f-43cc-489d-b1cf-d03e41c10430): COMMIT;
{ fileUUID: '1cf593be-3857-43e4-86d4-691bf7bb9d59',
  cnodeUserUUID: '32f9ad54-67f1-41b1-a10d-98ac2497b23e',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: '28a458b1-0abd-4488-9109-37646f4f44a9.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: '231c3d62-c7ee-47b9-8265-e3d1c2c9fde3',
  updatedAt: 2020-03-05T17:32:56.478Z,
  createdAt: 2020-03-05T17:32:56.478Z }




PROCESSING ROW #62: sourcefile: 8e8a76f3-8be6-43ac-970c-1e769e1ed7b1.mp3, cnodeUserUUID: c7a6044c-8bf6-4941-a241-56cbed1e4ab1, trackUUID: ef2b724a-6549-4e14-b1b3-8a0edcfdcae7, multihash: QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM, dstPath: /file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM
writing to db1...
Executing (9744bb84-73b2-4f70-b08e-065709b40024): START TRANSACTION;
Executing (9744bb84-73b2-4f70-b08e-065709b40024): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = 'c7a6044c-8bf6-4941-a241-56cbed1e4ab1' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = '8e8a76f3-8be6-43ac-970c-1e769e1ed7b1.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = 'ef2b724a-6549-4e14-b1b3-8a0edcfdcae7' LIMIT 1;
Executing (9744bb84-73b2-4f70-b08e-065709b40024): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_230c84f977a44c85a50b65f441460c5a$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('b3a9d8ed-a452-45e6-bdc9-756233fc80ad','c7a6044c-8bf6-4941-a241-56cbed1e4ab1','ef2b724a-6549-4e14-b1b3-8a0edcfdcae7','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','8e8a76f3-8be6-43ac-970c-1e769e1ed7b1.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:32:56.867 +00:00','2020-03-05 17:32:56.867 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_230c84f977a44c85a50b65f441460c5a$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (9744bb84-73b2-4f70-b08e-065709b40024): COMMIT;
{ fileUUID: 'b3a9d8ed-a452-45e6-bdc9-756233fc80ad',
  cnodeUserUUID: 'c7a6044c-8bf6-4941-a241-56cbed1e4ab1',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: '8e8a76f3-8be6-43ac-970c-1e769e1ed7b1.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: 'ef2b724a-6549-4e14-b1b3-8a0edcfdcae7',
  updatedAt: 2020-03-05T17:32:56.867Z,
  createdAt: 2020-03-05T17:32:56.867Z }
writing to db2...
Executing (cc453e7f-bf56-44c2-8725-f864930a1052): START TRANSACTION;
Executing (cc453e7f-bf56-44c2-8725-f864930a1052): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = 'c7a6044c-8bf6-4941-a241-56cbed1e4ab1' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = '8e8a76f3-8be6-43ac-970c-1e769e1ed7b1.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = 'ef2b724a-6549-4e14-b1b3-8a0edcfdcae7' LIMIT 1;
Executing (cc453e7f-bf56-44c2-8725-f864930a1052): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_339dfde371d2453785dd8c12699056c0$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('4f1e0cef-0d32-496b-bb4c-9b6d74e5326d','c7a6044c-8bf6-4941-a241-56cbed1e4ab1','ef2b724a-6549-4e14-b1b3-8a0edcfdcae7','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','8e8a76f3-8be6-43ac-970c-1e769e1ed7b1.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:32:57.270 +00:00','2020-03-05 17:32:57.270 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_339dfde371d2453785dd8c12699056c0$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (cc453e7f-bf56-44c2-8725-f864930a1052): COMMIT;
{ fileUUID: '4f1e0cef-0d32-496b-bb4c-9b6d74e5326d',
  cnodeUserUUID: 'c7a6044c-8bf6-4941-a241-56cbed1e4ab1',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: '8e8a76f3-8be6-43ac-970c-1e769e1ed7b1.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: 'ef2b724a-6549-4e14-b1b3-8a0edcfdcae7',
  updatedAt: 2020-03-05T17:32:57.270Z,
  createdAt: 2020-03-05T17:32:57.270Z }
writing to db3...
Executing (7aa4e934-2eae-4e54-bc03-1a165f051e33): START TRANSACTION;
Executing (7aa4e934-2eae-4e54-bc03-1a165f051e33): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = 'c7a6044c-8bf6-4941-a241-56cbed1e4ab1' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = '8e8a76f3-8be6-43ac-970c-1e769e1ed7b1.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = 'ef2b724a-6549-4e14-b1b3-8a0edcfdcae7' LIMIT 1;
Executing (7aa4e934-2eae-4e54-bc03-1a165f051e33): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_873bb0ce51484d19a450f176da181b90$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('78cb4b75-7f01-4f5b-b3d4-bbb0488ea421','c7a6044c-8bf6-4941-a241-56cbed1e4ab1','ef2b724a-6549-4e14-b1b3-8a0edcfdcae7','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','8e8a76f3-8be6-43ac-970c-1e769e1ed7b1.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:32:57.665 +00:00','2020-03-05 17:32:57.665 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_873bb0ce51484d19a450f176da181b90$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (7aa4e934-2eae-4e54-bc03-1a165f051e33): COMMIT;
{ fileUUID: '78cb4b75-7f01-4f5b-b3d4-bbb0488ea421',
  cnodeUserUUID: 'c7a6044c-8bf6-4941-a241-56cbed1e4ab1',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: '8e8a76f3-8be6-43ac-970c-1e769e1ed7b1.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: 'ef2b724a-6549-4e14-b1b3-8a0edcfdcae7',
  updatedAt: 2020-03-05T17:32:57.665Z,
  createdAt: 2020-03-05T17:32:57.665Z }




PROCESSING ROW #63: sourcefile: a0d4eb2c-16ba-4413-af10-886ad7e61608.mp3, cnodeUserUUID: 94a91643-574f-4943-b700-39ecefa97c3b, trackUUID: e4eb6549-c209-464d-8437-b551315d7be7, multihash: QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM, dstPath: /file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM
writing to db1...
Executing (c9a8f7c7-7d6e-45fb-b0a9-155cc6979757): START TRANSACTION;
Executing (c9a8f7c7-7d6e-45fb-b0a9-155cc6979757): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '94a91643-574f-4943-b700-39ecefa97c3b' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = 'a0d4eb2c-16ba-4413-af10-886ad7e61608.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = 'e4eb6549-c209-464d-8437-b551315d7be7' LIMIT 1;
Executing (c9a8f7c7-7d6e-45fb-b0a9-155cc6979757): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_ffefef7594664dcd8cadd38690451f76$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('6234cd63-95ac-451b-8937-ad38208582cf','94a91643-574f-4943-b700-39ecefa97c3b','e4eb6549-c209-464d-8437-b551315d7be7','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','a0d4eb2c-16ba-4413-af10-886ad7e61608.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:32:58.083 +00:00','2020-03-05 17:32:58.083 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_ffefef7594664dcd8cadd38690451f76$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (c9a8f7c7-7d6e-45fb-b0a9-155cc6979757): COMMIT;
{ fileUUID: '6234cd63-95ac-451b-8937-ad38208582cf',
  cnodeUserUUID: '94a91643-574f-4943-b700-39ecefa97c3b',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: 'a0d4eb2c-16ba-4413-af10-886ad7e61608.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: 'e4eb6549-c209-464d-8437-b551315d7be7',
  updatedAt: 2020-03-05T17:32:58.083Z,
  createdAt: 2020-03-05T17:32:58.083Z }
writing to db2...
Executing (2aca9030-f6e7-4ae8-8da4-103dfc4c87ee): START TRANSACTION;
Executing (2aca9030-f6e7-4ae8-8da4-103dfc4c87ee): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '94a91643-574f-4943-b700-39ecefa97c3b' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = 'a0d4eb2c-16ba-4413-af10-886ad7e61608.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = 'e4eb6549-c209-464d-8437-b551315d7be7' LIMIT 1;
Executing (2aca9030-f6e7-4ae8-8da4-103dfc4c87ee): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_aed5881a62264d008b88b25b5feb7711$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('c78aea56-07d9-4d91-9fd5-74327cec9259','94a91643-574f-4943-b700-39ecefa97c3b','e4eb6549-c209-464d-8437-b551315d7be7','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','a0d4eb2c-16ba-4413-af10-886ad7e61608.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:32:58.481 +00:00','2020-03-05 17:32:58.481 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_aed5881a62264d008b88b25b5feb7711$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (2aca9030-f6e7-4ae8-8da4-103dfc4c87ee): COMMIT;
{ fileUUID: 'c78aea56-07d9-4d91-9fd5-74327cec9259',
  cnodeUserUUID: '94a91643-574f-4943-b700-39ecefa97c3b',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: 'a0d4eb2c-16ba-4413-af10-886ad7e61608.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: 'e4eb6549-c209-464d-8437-b551315d7be7',
  updatedAt: 2020-03-05T17:32:58.481Z,
  createdAt: 2020-03-05T17:32:58.481Z }
writing to db3...
Executing (a6df5bb9-23db-4fcb-888a-3d0efc6e8afe): START TRANSACTION;
Executing (a6df5bb9-23db-4fcb-888a-3d0efc6e8afe): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '94a91643-574f-4943-b700-39ecefa97c3b' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = 'a0d4eb2c-16ba-4413-af10-886ad7e61608.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = 'e4eb6549-c209-464d-8437-b551315d7be7' LIMIT 1;
Executing (a6df5bb9-23db-4fcb-888a-3d0efc6e8afe): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_fe93238724a64eb2ad642a2635607a67$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('7fe67cf1-3d1d-4cb8-8d7c-121ac122c83e','94a91643-574f-4943-b700-39ecefa97c3b','e4eb6549-c209-464d-8437-b551315d7be7','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','a0d4eb2c-16ba-4413-af10-886ad7e61608.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:32:58.864 +00:00','2020-03-05 17:32:58.864 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_fe93238724a64eb2ad642a2635607a67$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (a6df5bb9-23db-4fcb-888a-3d0efc6e8afe): COMMIT;
{ fileUUID: '7fe67cf1-3d1d-4cb8-8d7c-121ac122c83e',
  cnodeUserUUID: '94a91643-574f-4943-b700-39ecefa97c3b',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: 'a0d4eb2c-16ba-4413-af10-886ad7e61608.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: 'e4eb6549-c209-464d-8437-b551315d7be7',
  updatedAt: 2020-03-05T17:32:58.864Z,
  createdAt: 2020-03-05T17:32:58.864Z }




PROCESSING ROW #64: sourcefile: 8d6e87c8-5f0f-449e-87c3-f986a2c69044.mp3, cnodeUserUUID: 7a5d4556-ac89-41af-aae4-2028b84665e5, trackUUID: a06f77b2-4b4c-4bb8-b86d-c3f415bf14cb, multihash: QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM, dstPath: /file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM
writing to db1...
Executing (cce85dab-5468-4ee9-b096-4c7c0e7b03fa): START TRANSACTION;
Executing (cce85dab-5468-4ee9-b096-4c7c0e7b03fa): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '7a5d4556-ac89-41af-aae4-2028b84665e5' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = '8d6e87c8-5f0f-449e-87c3-f986a2c69044.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = 'a06f77b2-4b4c-4bb8-b86d-c3f415bf14cb' LIMIT 1;
Executing (cce85dab-5468-4ee9-b096-4c7c0e7b03fa): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_5096501264e1465495034be4686cd94a$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('4c5af4d8-b824-4e98-b488-f64187589576','7a5d4556-ac89-41af-aae4-2028b84665e5','a06f77b2-4b4c-4bb8-b86d-c3f415bf14cb','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','8d6e87c8-5f0f-449e-87c3-f986a2c69044.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:32:59.281 +00:00','2020-03-05 17:32:59.281 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_5096501264e1465495034be4686cd94a$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (cce85dab-5468-4ee9-b096-4c7c0e7b03fa): COMMIT;
{ fileUUID: '4c5af4d8-b824-4e98-b488-f64187589576',
  cnodeUserUUID: '7a5d4556-ac89-41af-aae4-2028b84665e5',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: '8d6e87c8-5f0f-449e-87c3-f986a2c69044.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: 'a06f77b2-4b4c-4bb8-b86d-c3f415bf14cb',
  updatedAt: 2020-03-05T17:32:59.281Z,
  createdAt: 2020-03-05T17:32:59.281Z }
writing to db2...
Executing (2b297d2f-8f8a-4f17-a849-8942b00567a3): START TRANSACTION;
Executing (2b297d2f-8f8a-4f17-a849-8942b00567a3): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '7a5d4556-ac89-41af-aae4-2028b84665e5' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = '8d6e87c8-5f0f-449e-87c3-f986a2c69044.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = 'a06f77b2-4b4c-4bb8-b86d-c3f415bf14cb' LIMIT 1;
Executing (2b297d2f-8f8a-4f17-a849-8942b00567a3): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_63b338f19d27487b8fb81e5ec09ce636$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('91745e32-845a-40dd-8d7a-1c742b71c176','7a5d4556-ac89-41af-aae4-2028b84665e5','a06f77b2-4b4c-4bb8-b86d-c3f415bf14cb','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','8d6e87c8-5f0f-449e-87c3-f986a2c69044.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:32:59.693 +00:00','2020-03-05 17:32:59.693 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_63b338f19d27487b8fb81e5ec09ce636$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (2b297d2f-8f8a-4f17-a849-8942b00567a3): COMMIT;
{ fileUUID: '91745e32-845a-40dd-8d7a-1c742b71c176',
  cnodeUserUUID: '7a5d4556-ac89-41af-aae4-2028b84665e5',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: '8d6e87c8-5f0f-449e-87c3-f986a2c69044.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: 'a06f77b2-4b4c-4bb8-b86d-c3f415bf14cb',
  updatedAt: 2020-03-05T17:32:59.693Z,
  createdAt: 2020-03-05T17:32:59.693Z }
writing to db3...
Executing (8fee9666-f777-42bc-a911-d4e0c702ca68): START TRANSACTION;
Executing (8fee9666-f777-42bc-a911-d4e0c702ca68): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '7a5d4556-ac89-41af-aae4-2028b84665e5' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = '8d6e87c8-5f0f-449e-87c3-f986a2c69044.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = 'a06f77b2-4b4c-4bb8-b86d-c3f415bf14cb' LIMIT 1;
Executing (8fee9666-f777-42bc-a911-d4e0c702ca68): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_7e345cafd61441988f48fa335929e8ad$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('26674110-6763-40ea-a3a4-0e7cc4c63707','7a5d4556-ac89-41af-aae4-2028b84665e5','a06f77b2-4b4c-4bb8-b86d-c3f415bf14cb','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','8d6e87c8-5f0f-449e-87c3-f986a2c69044.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:33:00.090 +00:00','2020-03-05 17:33:00.090 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_7e345cafd61441988f48fa335929e8ad$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (8fee9666-f777-42bc-a911-d4e0c702ca68): COMMIT;
{ fileUUID: '26674110-6763-40ea-a3a4-0e7cc4c63707',
  cnodeUserUUID: '7a5d4556-ac89-41af-aae4-2028b84665e5',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: '8d6e87c8-5f0f-449e-87c3-f986a2c69044.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: 'a06f77b2-4b4c-4bb8-b86d-c3f415bf14cb',
  updatedAt: 2020-03-05T17:33:00.090Z,
  createdAt: 2020-03-05T17:33:00.090Z }




PROCESSING ROW #65: sourcefile: 5a279ce1-1dba-46f8-ae35-0dc8ebf33ea0.mp3, cnodeUserUUID: 716a261b-a708-4c4d-82be-a3aff588f5c4, trackUUID: 2b481a60-d7e0-41bf-aac8-fd3e088a68ff, multihash: QmcAD35vXY3h9iXGDF2sLTMTZ4QER63yKVoFrJQUpps6bq, dstPath: /file_storage/QmcAD35vXY3h9iXGDF2sLTMTZ4QER63yKVoFrJQUpps6bq
writing to db1...
Executing (64fac63f-62f9-4d54-9c0e-7dc83d94614c): START TRANSACTION;
Executing (64fac63f-62f9-4d54-9c0e-7dc83d94614c): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '716a261b-a708-4c4d-82be-a3aff588f5c4' AND "File"."multihash" = 'QmcAD35vXY3h9iXGDF2sLTMTZ4QER63yKVoFrJQUpps6bq' AND "File"."sourceFile" = '5a279ce1-1dba-46f8-ae35-0dc8ebf33ea0.mp3' AND "File"."storagePath" = '/file_storage/QmcAD35vXY3h9iXGDF2sLTMTZ4QER63yKVoFrJQUpps6bq' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '2b481a60-d7e0-41bf-aac8-fd3e088a68ff' LIMIT 1;
Executing (64fac63f-62f9-4d54-9c0e-7dc83d94614c): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_782fbbb68acc47f981a29cc548fc290b$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('efc6127d-53ba-49bf-920d-5131181c3cfd','716a261b-a708-4c4d-82be-a3aff588f5c4','2b481a60-d7e0-41bf-aac8-fd3e088a68ff','QmcAD35vXY3h9iXGDF2sLTMTZ4QER63yKVoFrJQUpps6bq','5a279ce1-1dba-46f8-ae35-0dc8ebf33ea0.mp3','/file_storage/QmcAD35vXY3h9iXGDF2sLTMTZ4QER63yKVoFrJQUpps6bq','copy320','2020-03-05 17:33:00.488 +00:00','2020-03-05 17:33:00.488 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_782fbbb68acc47f981a29cc548fc290b$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (64fac63f-62f9-4d54-9c0e-7dc83d94614c): COMMIT;
{ fileUUID: 'efc6127d-53ba-49bf-920d-5131181c3cfd',
  cnodeUserUUID: '716a261b-a708-4c4d-82be-a3aff588f5c4',
  multihash: 'QmcAD35vXY3h9iXGDF2sLTMTZ4QER63yKVoFrJQUpps6bq',
  sourceFile: '5a279ce1-1dba-46f8-ae35-0dc8ebf33ea0.mp3',
  storagePath:
   '/file_storage/QmcAD35vXY3h9iXGDF2sLTMTZ4QER63yKVoFrJQUpps6bq',
  type: 'copy320',
  trackUUID: '2b481a60-d7e0-41bf-aac8-fd3e088a68ff',
  updatedAt: 2020-03-05T17:33:00.488Z,
  createdAt: 2020-03-05T17:33:00.488Z }
writing to db2...
Executing (d5dbca0e-e4b7-49fd-bf85-62952f7f12d4): START TRANSACTION;
Executing (d5dbca0e-e4b7-49fd-bf85-62952f7f12d4): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '716a261b-a708-4c4d-82be-a3aff588f5c4' AND "File"."multihash" = 'QmcAD35vXY3h9iXGDF2sLTMTZ4QER63yKVoFrJQUpps6bq' AND "File"."sourceFile" = '5a279ce1-1dba-46f8-ae35-0dc8ebf33ea0.mp3' AND "File"."storagePath" = '/file_storage/QmcAD35vXY3h9iXGDF2sLTMTZ4QER63yKVoFrJQUpps6bq' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '2b481a60-d7e0-41bf-aac8-fd3e088a68ff' LIMIT 1;
Executing (d5dbca0e-e4b7-49fd-bf85-62952f7f12d4): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_e452974a42c64e1b9f501b583ebe6683$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('e1677be2-7fb4-4a92-aa9e-d9a732719d04','716a261b-a708-4c4d-82be-a3aff588f5c4','2b481a60-d7e0-41bf-aac8-fd3e088a68ff','QmcAD35vXY3h9iXGDF2sLTMTZ4QER63yKVoFrJQUpps6bq','5a279ce1-1dba-46f8-ae35-0dc8ebf33ea0.mp3','/file_storage/QmcAD35vXY3h9iXGDF2sLTMTZ4QER63yKVoFrJQUpps6bq','copy320','2020-03-05 17:33:00.894 +00:00','2020-03-05 17:33:00.894 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_e452974a42c64e1b9f501b583ebe6683$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (d5dbca0e-e4b7-49fd-bf85-62952f7f12d4): COMMIT;
{ fileUUID: 'e1677be2-7fb4-4a92-aa9e-d9a732719d04',
  cnodeUserUUID: '716a261b-a708-4c4d-82be-a3aff588f5c4',
  multihash: 'QmcAD35vXY3h9iXGDF2sLTMTZ4QER63yKVoFrJQUpps6bq',
  sourceFile: '5a279ce1-1dba-46f8-ae35-0dc8ebf33ea0.mp3',
  storagePath:
   '/file_storage/QmcAD35vXY3h9iXGDF2sLTMTZ4QER63yKVoFrJQUpps6bq',
  type: 'copy320',
  trackUUID: '2b481a60-d7e0-41bf-aac8-fd3e088a68ff',
  updatedAt: 2020-03-05T17:33:00.894Z,
  createdAt: 2020-03-05T17:33:00.894Z }
writing to db3...
Executing (85d80dd0-b32e-48b7-9dac-51583311cfec): START TRANSACTION;
Executing (85d80dd0-b32e-48b7-9dac-51583311cfec): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '716a261b-a708-4c4d-82be-a3aff588f5c4' AND "File"."multihash" = 'QmcAD35vXY3h9iXGDF2sLTMTZ4QER63yKVoFrJQUpps6bq' AND "File"."sourceFile" = '5a279ce1-1dba-46f8-ae35-0dc8ebf33ea0.mp3' AND "File"."storagePath" = '/file_storage/QmcAD35vXY3h9iXGDF2sLTMTZ4QER63yKVoFrJQUpps6bq' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '2b481a60-d7e0-41bf-aac8-fd3e088a68ff' LIMIT 1;
Executing (85d80dd0-b32e-48b7-9dac-51583311cfec): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_12b4d040f24b495ea18f63b143ed4b98$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('fb7e8e82-926b-468a-8cfb-e821cb8123b3','716a261b-a708-4c4d-82be-a3aff588f5c4','2b481a60-d7e0-41bf-aac8-fd3e088a68ff','QmcAD35vXY3h9iXGDF2sLTMTZ4QER63yKVoFrJQUpps6bq','5a279ce1-1dba-46f8-ae35-0dc8ebf33ea0.mp3','/file_storage/QmcAD35vXY3h9iXGDF2sLTMTZ4QER63yKVoFrJQUpps6bq','copy320','2020-03-05 17:33:01.285 +00:00','2020-03-05 17:33:01.285 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_12b4d040f24b495ea18f63b143ed4b98$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (85d80dd0-b32e-48b7-9dac-51583311cfec): COMMIT;
{ fileUUID: 'fb7e8e82-926b-468a-8cfb-e821cb8123b3',
  cnodeUserUUID: '716a261b-a708-4c4d-82be-a3aff588f5c4',
  multihash: 'QmcAD35vXY3h9iXGDF2sLTMTZ4QER63yKVoFrJQUpps6bq',
  sourceFile: '5a279ce1-1dba-46f8-ae35-0dc8ebf33ea0.mp3',
  storagePath:
   '/file_storage/QmcAD35vXY3h9iXGDF2sLTMTZ4QER63yKVoFrJQUpps6bq',
  type: 'copy320',
  trackUUID: '2b481a60-d7e0-41bf-aac8-fd3e088a68ff',
  updatedAt: 2020-03-05T17:33:01.285Z,
  createdAt: 2020-03-05T17:33:01.285Z }




PROCESSING ROW #66: sourcefile: f4f92a73-8394-412f-bd22-89460a0c405f.mp3, cnodeUserUUID: 8a18a8bb-ceb0-448f-be77-1170c831f409, trackUUID: 4ad61d60-2ce1-4791-b847-83cac5a19076, multihash: QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM, dstPath: /file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM
writing to db1...
Executing (2dc52deb-69ff-48ea-8457-a693c654d72f): START TRANSACTION;
Executing (2dc52deb-69ff-48ea-8457-a693c654d72f): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '8a18a8bb-ceb0-448f-be77-1170c831f409' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = 'f4f92a73-8394-412f-bd22-89460a0c405f.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '4ad61d60-2ce1-4791-b847-83cac5a19076' LIMIT 1;
Executing (2dc52deb-69ff-48ea-8457-a693c654d72f): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_2eac308c9079415db40bf594e8c5c681$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('d642c2c2-3cc0-4f27-9f2f-ac603306ab11','8a18a8bb-ceb0-448f-be77-1170c831f409','4ad61d60-2ce1-4791-b847-83cac5a19076','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','f4f92a73-8394-412f-bd22-89460a0c405f.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:33:01.678 +00:00','2020-03-05 17:33:01.678 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_2eac308c9079415db40bf594e8c5c681$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (2dc52deb-69ff-48ea-8457-a693c654d72f): COMMIT;
{ fileUUID: 'd642c2c2-3cc0-4f27-9f2f-ac603306ab11',
  cnodeUserUUID: '8a18a8bb-ceb0-448f-be77-1170c831f409',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: 'f4f92a73-8394-412f-bd22-89460a0c405f.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: '4ad61d60-2ce1-4791-b847-83cac5a19076',
  updatedAt: 2020-03-05T17:33:01.678Z,
  createdAt: 2020-03-05T17:33:01.678Z }
writing to db2...
Executing (1832c23a-88e9-4165-8c27-bbd42c7861a3): START TRANSACTION;
Executing (1832c23a-88e9-4165-8c27-bbd42c7861a3): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '8a18a8bb-ceb0-448f-be77-1170c831f409' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = 'f4f92a73-8394-412f-bd22-89460a0c405f.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '4ad61d60-2ce1-4791-b847-83cac5a19076' LIMIT 1;
Executing (1832c23a-88e9-4165-8c27-bbd42c7861a3): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_bc5b74a73ed7418087938721d627ba12$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('a755b724-c031-4ac1-9e17-08657851dfa8','8a18a8bb-ceb0-448f-be77-1170c831f409','4ad61d60-2ce1-4791-b847-83cac5a19076','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','f4f92a73-8394-412f-bd22-89460a0c405f.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:33:02.080 +00:00','2020-03-05 17:33:02.080 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_bc5b74a73ed7418087938721d627ba12$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (1832c23a-88e9-4165-8c27-bbd42c7861a3): COMMIT;
{ fileUUID: 'a755b724-c031-4ac1-9e17-08657851dfa8',
  cnodeUserUUID: '8a18a8bb-ceb0-448f-be77-1170c831f409',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: 'f4f92a73-8394-412f-bd22-89460a0c405f.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: '4ad61d60-2ce1-4791-b847-83cac5a19076',
  updatedAt: 2020-03-05T17:33:02.080Z,
  createdAt: 2020-03-05T17:33:02.080Z }
writing to db3...
Executing (a95839f8-bdb2-4ae7-823e-ef6a9bd0a6f3): START TRANSACTION;
Executing (a95839f8-bdb2-4ae7-823e-ef6a9bd0a6f3): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '8a18a8bb-ceb0-448f-be77-1170c831f409' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = 'f4f92a73-8394-412f-bd22-89460a0c405f.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '4ad61d60-2ce1-4791-b847-83cac5a19076' LIMIT 1;
Executing (a95839f8-bdb2-4ae7-823e-ef6a9bd0a6f3): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_375b6488e0a846e9b5ca600b98aa9685$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('3fdf9eb4-6147-4cae-9b00-d7b2f52aee38','8a18a8bb-ceb0-448f-be77-1170c831f409','4ad61d60-2ce1-4791-b847-83cac5a19076','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','f4f92a73-8394-412f-bd22-89460a0c405f.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:33:02.474 +00:00','2020-03-05 17:33:02.474 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_375b6488e0a846e9b5ca600b98aa9685$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (a95839f8-bdb2-4ae7-823e-ef6a9bd0a6f3): COMMIT;
{ fileUUID: '3fdf9eb4-6147-4cae-9b00-d7b2f52aee38',
  cnodeUserUUID: '8a18a8bb-ceb0-448f-be77-1170c831f409',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: 'f4f92a73-8394-412f-bd22-89460a0c405f.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: '4ad61d60-2ce1-4791-b847-83cac5a19076',
  updatedAt: 2020-03-05T17:33:02.474Z,
  createdAt: 2020-03-05T17:33:02.474Z }




PROCESSING ROW #67: sourcefile: 2d8c3656-b35c-4f6b-b0c6-07c7ee4ed7ae.mp3, cnodeUserUUID: 4cefba97-54fc-4139-8819-795b47e681e0, trackUUID: 511ce9ff-fef2-4097-9d88-5f93dfad274b, multihash: QmePKJNkw7RoEawMWL81aRgWncBtPi7CpuwLyU4eH32LqE, dstPath: /file_storage/QmePKJNkw7RoEawMWL81aRgWncBtPi7CpuwLyU4eH32LqE
writing to db1...
Executing (2f5a9bfe-78da-4887-b4af-332619c12137): START TRANSACTION;
Executing (2f5a9bfe-78da-4887-b4af-332619c12137): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '4cefba97-54fc-4139-8819-795b47e681e0' AND "File"."multihash" = 'QmePKJNkw7RoEawMWL81aRgWncBtPi7CpuwLyU4eH32LqE' AND "File"."sourceFile" = '2d8c3656-b35c-4f6b-b0c6-07c7ee4ed7ae.mp3' AND "File"."storagePath" = '/file_storage/QmePKJNkw7RoEawMWL81aRgWncBtPi7CpuwLyU4eH32LqE' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '511ce9ff-fef2-4097-9d88-5f93dfad274b' LIMIT 1;
Executing (2f5a9bfe-78da-4887-b4af-332619c12137): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_93a521d961e74300a659b626175e1657$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('97cd16d9-7c68-463d-8558-107b7be73bcd','4cefba97-54fc-4139-8819-795b47e681e0','511ce9ff-fef2-4097-9d88-5f93dfad274b','QmePKJNkw7RoEawMWL81aRgWncBtPi7CpuwLyU4eH32LqE','2d8c3656-b35c-4f6b-b0c6-07c7ee4ed7ae.mp3','/file_storage/QmePKJNkw7RoEawMWL81aRgWncBtPi7CpuwLyU4eH32LqE','copy320','2020-03-05 17:33:02.871 +00:00','2020-03-05 17:33:02.871 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_93a521d961e74300a659b626175e1657$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (2f5a9bfe-78da-4887-b4af-332619c12137): COMMIT;
{ fileUUID: '97cd16d9-7c68-463d-8558-107b7be73bcd',
  cnodeUserUUID: '4cefba97-54fc-4139-8819-795b47e681e0',
  multihash: 'QmePKJNkw7RoEawMWL81aRgWncBtPi7CpuwLyU4eH32LqE',
  sourceFile: '2d8c3656-b35c-4f6b-b0c6-07c7ee4ed7ae.mp3',
  storagePath:
   '/file_storage/QmePKJNkw7RoEawMWL81aRgWncBtPi7CpuwLyU4eH32LqE',
  type: 'copy320',
  trackUUID: '511ce9ff-fef2-4097-9d88-5f93dfad274b',
  updatedAt: 2020-03-05T17:33:02.871Z,
  createdAt: 2020-03-05T17:33:02.871Z }
writing to db2...
Executing (21baf853-aedb-4a90-b4af-276e1ecaf359): START TRANSACTION;
Executing (21baf853-aedb-4a90-b4af-276e1ecaf359): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '4cefba97-54fc-4139-8819-795b47e681e0' AND "File"."multihash" = 'QmePKJNkw7RoEawMWL81aRgWncBtPi7CpuwLyU4eH32LqE' AND "File"."sourceFile" = '2d8c3656-b35c-4f6b-b0c6-07c7ee4ed7ae.mp3' AND "File"."storagePath" = '/file_storage/QmePKJNkw7RoEawMWL81aRgWncBtPi7CpuwLyU4eH32LqE' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '511ce9ff-fef2-4097-9d88-5f93dfad274b' LIMIT 1;
Executing (21baf853-aedb-4a90-b4af-276e1ecaf359): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_74f4db7b01ef410eaf64bdea9783733d$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('68602e48-b638-43b5-a19d-0f9561a41ac5','4cefba97-54fc-4139-8819-795b47e681e0','511ce9ff-fef2-4097-9d88-5f93dfad274b','QmePKJNkw7RoEawMWL81aRgWncBtPi7CpuwLyU4eH32LqE','2d8c3656-b35c-4f6b-b0c6-07c7ee4ed7ae.mp3','/file_storage/QmePKJNkw7RoEawMWL81aRgWncBtPi7CpuwLyU4eH32LqE','copy320','2020-03-05 17:33:03.262 +00:00','2020-03-05 17:33:03.262 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_74f4db7b01ef410eaf64bdea9783733d$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (21baf853-aedb-4a90-b4af-276e1ecaf359): COMMIT;
{ fileUUID: '68602e48-b638-43b5-a19d-0f9561a41ac5',
  cnodeUserUUID: '4cefba97-54fc-4139-8819-795b47e681e0',
  multihash: 'QmePKJNkw7RoEawMWL81aRgWncBtPi7CpuwLyU4eH32LqE',
  sourceFile: '2d8c3656-b35c-4f6b-b0c6-07c7ee4ed7ae.mp3',
  storagePath:
   '/file_storage/QmePKJNkw7RoEawMWL81aRgWncBtPi7CpuwLyU4eH32LqE',
  type: 'copy320',
  trackUUID: '511ce9ff-fef2-4097-9d88-5f93dfad274b',
  updatedAt: 2020-03-05T17:33:03.262Z,
  createdAt: 2020-03-05T17:33:03.262Z }
writing to db3...
Executing (e9e37f53-c593-4e9e-b548-4a94ef91e0ca): START TRANSACTION;
Executing (e9e37f53-c593-4e9e-b548-4a94ef91e0ca): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '4cefba97-54fc-4139-8819-795b47e681e0' AND "File"."multihash" = 'QmePKJNkw7RoEawMWL81aRgWncBtPi7CpuwLyU4eH32LqE' AND "File"."sourceFile" = '2d8c3656-b35c-4f6b-b0c6-07c7ee4ed7ae.mp3' AND "File"."storagePath" = '/file_storage/QmePKJNkw7RoEawMWL81aRgWncBtPi7CpuwLyU4eH32LqE' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '511ce9ff-fef2-4097-9d88-5f93dfad274b' LIMIT 1;
Executing (e9e37f53-c593-4e9e-b548-4a94ef91e0ca): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_0d738820e5ac4e1290e647318c290227$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('edc4fdc0-2b08-46ee-aed4-65d576c854c1','4cefba97-54fc-4139-8819-795b47e681e0','511ce9ff-fef2-4097-9d88-5f93dfad274b','QmePKJNkw7RoEawMWL81aRgWncBtPi7CpuwLyU4eH32LqE','2d8c3656-b35c-4f6b-b0c6-07c7ee4ed7ae.mp3','/file_storage/QmePKJNkw7RoEawMWL81aRgWncBtPi7CpuwLyU4eH32LqE','copy320','2020-03-05 17:33:03.648 +00:00','2020-03-05 17:33:03.648 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_0d738820e5ac4e1290e647318c290227$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (e9e37f53-c593-4e9e-b548-4a94ef91e0ca): COMMIT;
{ fileUUID: 'edc4fdc0-2b08-46ee-aed4-65d576c854c1',
  cnodeUserUUID: '4cefba97-54fc-4139-8819-795b47e681e0',
  multihash: 'QmePKJNkw7RoEawMWL81aRgWncBtPi7CpuwLyU4eH32LqE',
  sourceFile: '2d8c3656-b35c-4f6b-b0c6-07c7ee4ed7ae.mp3',
  storagePath:
   '/file_storage/QmePKJNkw7RoEawMWL81aRgWncBtPi7CpuwLyU4eH32LqE',
  type: 'copy320',
  trackUUID: '511ce9ff-fef2-4097-9d88-5f93dfad274b',
  updatedAt: 2020-03-05T17:33:03.648Z,
  createdAt: 2020-03-05T17:33:03.648Z }




PROCESSING ROW #68: sourcefile: 26e6e1b3-dbe0-4eb0-b94b-dba088164fe6.mp3, cnodeUserUUID: 76504aa1-79a3-4a21-b61c-9c615ce0bfe0, trackUUID: 734e7df8-28b2-40cd-b5f3-b3ccc590370d, multihash: QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM, dstPath: /file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM
writing to db1...
Executing (3f558a65-5f35-41f1-a981-935f0cab6aae): START TRANSACTION;
Executing (3f558a65-5f35-41f1-a981-935f0cab6aae): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '76504aa1-79a3-4a21-b61c-9c615ce0bfe0' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = '26e6e1b3-dbe0-4eb0-b94b-dba088164fe6.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '734e7df8-28b2-40cd-b5f3-b3ccc590370d' LIMIT 1;
Executing (3f558a65-5f35-41f1-a981-935f0cab6aae): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_fc4a38ffb0d847f0b13d02605f9106fb$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('ad0779b1-8a79-4f61-8f48-a7316784bc1c','76504aa1-79a3-4a21-b61c-9c615ce0bfe0','734e7df8-28b2-40cd-b5f3-b3ccc590370d','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','26e6e1b3-dbe0-4eb0-b94b-dba088164fe6.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:33:04.045 +00:00','2020-03-05 17:33:04.045 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_fc4a38ffb0d847f0b13d02605f9106fb$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (3f558a65-5f35-41f1-a981-935f0cab6aae): COMMIT;
{ fileUUID: 'ad0779b1-8a79-4f61-8f48-a7316784bc1c',
  cnodeUserUUID: '76504aa1-79a3-4a21-b61c-9c615ce0bfe0',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: '26e6e1b3-dbe0-4eb0-b94b-dba088164fe6.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: '734e7df8-28b2-40cd-b5f3-b3ccc590370d',
  updatedAt: 2020-03-05T17:33:04.045Z,
  createdAt: 2020-03-05T17:33:04.045Z }
writing to db2...
Executing (6d2f6935-07a9-48ed-a9aa-0eaf371426b2): START TRANSACTION;
Executing (6d2f6935-07a9-48ed-a9aa-0eaf371426b2): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '76504aa1-79a3-4a21-b61c-9c615ce0bfe0' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = '26e6e1b3-dbe0-4eb0-b94b-dba088164fe6.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '734e7df8-28b2-40cd-b5f3-b3ccc590370d' LIMIT 1;
Executing (6d2f6935-07a9-48ed-a9aa-0eaf371426b2): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_47a2e6d5f8a94a4e8ada66fea07aef5f$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('d69dd289-28cd-4ace-be12-436cbab99654','76504aa1-79a3-4a21-b61c-9c615ce0bfe0','734e7df8-28b2-40cd-b5f3-b3ccc590370d','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','26e6e1b3-dbe0-4eb0-b94b-dba088164fe6.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:33:04.432 +00:00','2020-03-05 17:33:04.432 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_47a2e6d5f8a94a4e8ada66fea07aef5f$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (6d2f6935-07a9-48ed-a9aa-0eaf371426b2): COMMIT;
{ fileUUID: 'd69dd289-28cd-4ace-be12-436cbab99654',
  cnodeUserUUID: '76504aa1-79a3-4a21-b61c-9c615ce0bfe0',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: '26e6e1b3-dbe0-4eb0-b94b-dba088164fe6.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: '734e7df8-28b2-40cd-b5f3-b3ccc590370d',
  updatedAt: 2020-03-05T17:33:04.432Z,
  createdAt: 2020-03-05T17:33:04.432Z }
writing to db3...
Executing (27affe5d-d343-4622-b58b-0e1109634210): START TRANSACTION;
Executing (27affe5d-d343-4622-b58b-0e1109634210): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '76504aa1-79a3-4a21-b61c-9c615ce0bfe0' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = '26e6e1b3-dbe0-4eb0-b94b-dba088164fe6.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '734e7df8-28b2-40cd-b5f3-b3ccc590370d' LIMIT 1;
Executing (27affe5d-d343-4622-b58b-0e1109634210): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_b772b2a80c154caab09073db9c2c9e1e$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('e3077daa-5506-446d-b33e-52694e4cfc32','76504aa1-79a3-4a21-b61c-9c615ce0bfe0','734e7df8-28b2-40cd-b5f3-b3ccc590370d','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','26e6e1b3-dbe0-4eb0-b94b-dba088164fe6.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:33:04.821 +00:00','2020-03-05 17:33:04.821 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_b772b2a80c154caab09073db9c2c9e1e$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (27affe5d-d343-4622-b58b-0e1109634210): COMMIT;
{ fileUUID: 'e3077daa-5506-446d-b33e-52694e4cfc32',
  cnodeUserUUID: '76504aa1-79a3-4a21-b61c-9c615ce0bfe0',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: '26e6e1b3-dbe0-4eb0-b94b-dba088164fe6.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: '734e7df8-28b2-40cd-b5f3-b3ccc590370d',
  updatedAt: 2020-03-05T17:33:04.821Z,
  createdAt: 2020-03-05T17:33:04.821Z }




PROCESSING ROW #69: sourcefile: 4a161065-8b76-4815-a7cb-e2ad534676a0.mp3, cnodeUserUUID: 34d11c55-5413-43d4-bc52-9b8dfa34107a, trackUUID: fe6ed1e1-6ed7-4b6d-bc24-8ed17d06e64c, multihash: QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM, dstPath: /file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM
writing to db1...
Executing (305d12ef-0fbb-4ea0-a650-310a0bc3203e): START TRANSACTION;
Executing (305d12ef-0fbb-4ea0-a650-310a0bc3203e): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '34d11c55-5413-43d4-bc52-9b8dfa34107a' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = '4a161065-8b76-4815-a7cb-e2ad534676a0.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = 'fe6ed1e1-6ed7-4b6d-bc24-8ed17d06e64c' LIMIT 1;
Executing (305d12ef-0fbb-4ea0-a650-310a0bc3203e): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_f0009bcba83f414d98fc9a237fc99b35$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('8cf6d0bb-65c7-4e35-bb96-02c42fae38fd','34d11c55-5413-43d4-bc52-9b8dfa34107a','fe6ed1e1-6ed7-4b6d-bc24-8ed17d06e64c','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','4a161065-8b76-4815-a7cb-e2ad534676a0.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:33:05.222 +00:00','2020-03-05 17:33:05.222 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_f0009bcba83f414d98fc9a237fc99b35$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (305d12ef-0fbb-4ea0-a650-310a0bc3203e): COMMIT;
{ fileUUID: '8cf6d0bb-65c7-4e35-bb96-02c42fae38fd',
  cnodeUserUUID: '34d11c55-5413-43d4-bc52-9b8dfa34107a',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: '4a161065-8b76-4815-a7cb-e2ad534676a0.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: 'fe6ed1e1-6ed7-4b6d-bc24-8ed17d06e64c',
  updatedAt: 2020-03-05T17:33:05.222Z,
  createdAt: 2020-03-05T17:33:05.222Z }
writing to db2...
Executing (cf0ea20a-7e40-4987-8932-5f7b620de860): START TRANSACTION;
Executing (cf0ea20a-7e40-4987-8932-5f7b620de860): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '34d11c55-5413-43d4-bc52-9b8dfa34107a' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = '4a161065-8b76-4815-a7cb-e2ad534676a0.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = 'fe6ed1e1-6ed7-4b6d-bc24-8ed17d06e64c' LIMIT 1;
Executing (cf0ea20a-7e40-4987-8932-5f7b620de860): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_7ba6935990e145bbb20d479074ec81ff$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('5b56576d-98dc-4dcf-8674-a4b7f117a1fd','34d11c55-5413-43d4-bc52-9b8dfa34107a','fe6ed1e1-6ed7-4b6d-bc24-8ed17d06e64c','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','4a161065-8b76-4815-a7cb-e2ad534676a0.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:33:05.595 +00:00','2020-03-05 17:33:05.595 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_7ba6935990e145bbb20d479074ec81ff$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (cf0ea20a-7e40-4987-8932-5f7b620de860): COMMIT;
{ fileUUID: '5b56576d-98dc-4dcf-8674-a4b7f117a1fd',
  cnodeUserUUID: '34d11c55-5413-43d4-bc52-9b8dfa34107a',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: '4a161065-8b76-4815-a7cb-e2ad534676a0.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: 'fe6ed1e1-6ed7-4b6d-bc24-8ed17d06e64c',
  updatedAt: 2020-03-05T17:33:05.595Z,
  createdAt: 2020-03-05T17:33:05.595Z }
writing to db3...
Executing (875ccba5-70f4-4b04-a0da-38cf7c64aff0): START TRANSACTION;
Executing (875ccba5-70f4-4b04-a0da-38cf7c64aff0): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '34d11c55-5413-43d4-bc52-9b8dfa34107a' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = '4a161065-8b76-4815-a7cb-e2ad534676a0.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = 'fe6ed1e1-6ed7-4b6d-bc24-8ed17d06e64c' LIMIT 1;
Executing (875ccba5-70f4-4b04-a0da-38cf7c64aff0): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_891cc32b690e4aea97bbfa50224d3145$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('68e09ea4-37d5-4a79-9dae-bc70d031ccd9','34d11c55-5413-43d4-bc52-9b8dfa34107a','fe6ed1e1-6ed7-4b6d-bc24-8ed17d06e64c','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','4a161065-8b76-4815-a7cb-e2ad534676a0.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:33:05.981 +00:00','2020-03-05 17:33:05.981 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_891cc32b690e4aea97bbfa50224d3145$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (875ccba5-70f4-4b04-a0da-38cf7c64aff0): COMMIT;
{ fileUUID: '68e09ea4-37d5-4a79-9dae-bc70d031ccd9',
  cnodeUserUUID: '34d11c55-5413-43d4-bc52-9b8dfa34107a',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: '4a161065-8b76-4815-a7cb-e2ad534676a0.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: 'fe6ed1e1-6ed7-4b6d-bc24-8ed17d06e64c',
  updatedAt: 2020-03-05T17:33:05.981Z,
  createdAt: 2020-03-05T17:33:05.981Z }




PROCESSING ROW #70: sourcefile: b3d12b2e-44f5-45b9-9965-eb40f1145cec.mp3, cnodeUserUUID: 32a7009f-59fa-4698-b432-4dffd56da775, trackUUID: 8affb25d-2e5b-4ea7-9402-dac723d2b2ad, multihash: QmcAD35vXY3h9iXGDF2sLTMTZ4QER63yKVoFrJQUpps6bq, dstPath: /file_storage/QmcAD35vXY3h9iXGDF2sLTMTZ4QER63yKVoFrJQUpps6bq
writing to db1...
Executing (33d25d7a-f335-4945-be4c-7af7dd2e06bc): START TRANSACTION;
Executing (33d25d7a-f335-4945-be4c-7af7dd2e06bc): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '32a7009f-59fa-4698-b432-4dffd56da775' AND "File"."multihash" = 'QmcAD35vXY3h9iXGDF2sLTMTZ4QER63yKVoFrJQUpps6bq' AND "File"."sourceFile" = 'b3d12b2e-44f5-45b9-9965-eb40f1145cec.mp3' AND "File"."storagePath" = '/file_storage/QmcAD35vXY3h9iXGDF2sLTMTZ4QER63yKVoFrJQUpps6bq' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '8affb25d-2e5b-4ea7-9402-dac723d2b2ad' LIMIT 1;
Executing (33d25d7a-f335-4945-be4c-7af7dd2e06bc): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_dd7049f8670042ec901f7ed16c697913$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('5270a49b-acae-4961-84bb-9f8384e56ddf','32a7009f-59fa-4698-b432-4dffd56da775','8affb25d-2e5b-4ea7-9402-dac723d2b2ad','QmcAD35vXY3h9iXGDF2sLTMTZ4QER63yKVoFrJQUpps6bq','b3d12b2e-44f5-45b9-9965-eb40f1145cec.mp3','/file_storage/QmcAD35vXY3h9iXGDF2sLTMTZ4QER63yKVoFrJQUpps6bq','copy320','2020-03-05 17:33:06.363 +00:00','2020-03-05 17:33:06.363 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_dd7049f8670042ec901f7ed16c697913$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (33d25d7a-f335-4945-be4c-7af7dd2e06bc): COMMIT;
{ fileUUID: '5270a49b-acae-4961-84bb-9f8384e56ddf',
  cnodeUserUUID: '32a7009f-59fa-4698-b432-4dffd56da775',
  multihash: 'QmcAD35vXY3h9iXGDF2sLTMTZ4QER63yKVoFrJQUpps6bq',
  sourceFile: 'b3d12b2e-44f5-45b9-9965-eb40f1145cec.mp3',
  storagePath:
   '/file_storage/QmcAD35vXY3h9iXGDF2sLTMTZ4QER63yKVoFrJQUpps6bq',
  type: 'copy320',
  trackUUID: '8affb25d-2e5b-4ea7-9402-dac723d2b2ad',
  updatedAt: 2020-03-05T17:33:06.363Z,
  createdAt: 2020-03-05T17:33:06.363Z }
writing to db2...
Executing (22fe35fb-911a-4a87-a2e8-42823750dd17): START TRANSACTION;
Executing (22fe35fb-911a-4a87-a2e8-42823750dd17): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '32a7009f-59fa-4698-b432-4dffd56da775' AND "File"."multihash" = 'QmcAD35vXY3h9iXGDF2sLTMTZ4QER63yKVoFrJQUpps6bq' AND "File"."sourceFile" = 'b3d12b2e-44f5-45b9-9965-eb40f1145cec.mp3' AND "File"."storagePath" = '/file_storage/QmcAD35vXY3h9iXGDF2sLTMTZ4QER63yKVoFrJQUpps6bq' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '8affb25d-2e5b-4ea7-9402-dac723d2b2ad' LIMIT 1;
Executing (22fe35fb-911a-4a87-a2e8-42823750dd17): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_4efacc7c66b34faaa2f1f214847df3df$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('0f038bcc-ae32-446f-98eb-39f5f11a6d47','32a7009f-59fa-4698-b432-4dffd56da775','8affb25d-2e5b-4ea7-9402-dac723d2b2ad','QmcAD35vXY3h9iXGDF2sLTMTZ4QER63yKVoFrJQUpps6bq','b3d12b2e-44f5-45b9-9965-eb40f1145cec.mp3','/file_storage/QmcAD35vXY3h9iXGDF2sLTMTZ4QER63yKVoFrJQUpps6bq','copy320','2020-03-05 17:33:06.758 +00:00','2020-03-05 17:33:06.758 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_4efacc7c66b34faaa2f1f214847df3df$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (22fe35fb-911a-4a87-a2e8-42823750dd17): COMMIT;
{ fileUUID: '0f038bcc-ae32-446f-98eb-39f5f11a6d47',
  cnodeUserUUID: '32a7009f-59fa-4698-b432-4dffd56da775',
  multihash: 'QmcAD35vXY3h9iXGDF2sLTMTZ4QER63yKVoFrJQUpps6bq',
  sourceFile: 'b3d12b2e-44f5-45b9-9965-eb40f1145cec.mp3',
  storagePath:
   '/file_storage/QmcAD35vXY3h9iXGDF2sLTMTZ4QER63yKVoFrJQUpps6bq',
  type: 'copy320',
  trackUUID: '8affb25d-2e5b-4ea7-9402-dac723d2b2ad',
  updatedAt: 2020-03-05T17:33:06.758Z,
  createdAt: 2020-03-05T17:33:06.758Z }
writing to db3...
Executing (d354419d-a38e-4a5a-9bc9-c62c8c0ac4d2): START TRANSACTION;
Executing (d354419d-a38e-4a5a-9bc9-c62c8c0ac4d2): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '32a7009f-59fa-4698-b432-4dffd56da775' AND "File"."multihash" = 'QmcAD35vXY3h9iXGDF2sLTMTZ4QER63yKVoFrJQUpps6bq' AND "File"."sourceFile" = 'b3d12b2e-44f5-45b9-9965-eb40f1145cec.mp3' AND "File"."storagePath" = '/file_storage/QmcAD35vXY3h9iXGDF2sLTMTZ4QER63yKVoFrJQUpps6bq' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '8affb25d-2e5b-4ea7-9402-dac723d2b2ad' LIMIT 1;
Executing (d354419d-a38e-4a5a-9bc9-c62c8c0ac4d2): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_bce8e10e4def492881af65f07b98725e$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('a2438fcf-5cfe-43f9-a2a5-b4e3adcd2c74','32a7009f-59fa-4698-b432-4dffd56da775','8affb25d-2e5b-4ea7-9402-dac723d2b2ad','QmcAD35vXY3h9iXGDF2sLTMTZ4QER63yKVoFrJQUpps6bq','b3d12b2e-44f5-45b9-9965-eb40f1145cec.mp3','/file_storage/QmcAD35vXY3h9iXGDF2sLTMTZ4QER63yKVoFrJQUpps6bq','copy320','2020-03-05 17:33:07.135 +00:00','2020-03-05 17:33:07.135 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_bce8e10e4def492881af65f07b98725e$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (d354419d-a38e-4a5a-9bc9-c62c8c0ac4d2): COMMIT;
{ fileUUID: 'a2438fcf-5cfe-43f9-a2a5-b4e3adcd2c74',
  cnodeUserUUID: '32a7009f-59fa-4698-b432-4dffd56da775',
  multihash: 'QmcAD35vXY3h9iXGDF2sLTMTZ4QER63yKVoFrJQUpps6bq',
  sourceFile: 'b3d12b2e-44f5-45b9-9965-eb40f1145cec.mp3',
  storagePath:
   '/file_storage/QmcAD35vXY3h9iXGDF2sLTMTZ4QER63yKVoFrJQUpps6bq',
  type: 'copy320',
  trackUUID: '8affb25d-2e5b-4ea7-9402-dac723d2b2ad',
  updatedAt: 2020-03-05T17:33:07.135Z,
  createdAt: 2020-03-05T17:33:07.135Z }




PROCESSING ROW #71: sourcefile: 41e4799e-62f7-46d7-96df-2960cded64da.mp3, cnodeUserUUID: fe4ba806-13d6-470a-8575-815e51cbccab, trackUUID: 3294e2ec-21dc-4c6b-9034-5ecda2a0f2d7, multihash: QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM, dstPath: /file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM
writing to db1...
Executing (8412240b-412e-4f00-8809-5e68cae3d3bc): START TRANSACTION;
Executing (8412240b-412e-4f00-8809-5e68cae3d3bc): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = 'fe4ba806-13d6-470a-8575-815e51cbccab' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = '41e4799e-62f7-46d7-96df-2960cded64da.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '3294e2ec-21dc-4c6b-9034-5ecda2a0f2d7' LIMIT 1;
Executing (8412240b-412e-4f00-8809-5e68cae3d3bc): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_2468d8c0960746768e7573fb0573d66d$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('97bf7acc-ba32-47c8-a9cc-ea7af4568e4e','fe4ba806-13d6-470a-8575-815e51cbccab','3294e2ec-21dc-4c6b-9034-5ecda2a0f2d7','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','41e4799e-62f7-46d7-96df-2960cded64da.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:33:07.518 +00:00','2020-03-05 17:33:07.518 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_2468d8c0960746768e7573fb0573d66d$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (8412240b-412e-4f00-8809-5e68cae3d3bc): COMMIT;
{ fileUUID: '97bf7acc-ba32-47c8-a9cc-ea7af4568e4e',
  cnodeUserUUID: 'fe4ba806-13d6-470a-8575-815e51cbccab',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: '41e4799e-62f7-46d7-96df-2960cded64da.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: '3294e2ec-21dc-4c6b-9034-5ecda2a0f2d7',
  updatedAt: 2020-03-05T17:33:07.518Z,
  createdAt: 2020-03-05T17:33:07.518Z }
writing to db2...
Executing (cd05e86a-39a2-449e-8baa-a835a710907a): START TRANSACTION;
Executing (cd05e86a-39a2-449e-8baa-a835a710907a): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = 'fe4ba806-13d6-470a-8575-815e51cbccab' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = '41e4799e-62f7-46d7-96df-2960cded64da.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '3294e2ec-21dc-4c6b-9034-5ecda2a0f2d7' LIMIT 1;
Executing (cd05e86a-39a2-449e-8baa-a835a710907a): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_b5e0095087874c4295240f7f8663f468$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('483890da-f796-4b22-b006-23b5c2a4321d','fe4ba806-13d6-470a-8575-815e51cbccab','3294e2ec-21dc-4c6b-9034-5ecda2a0f2d7','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','41e4799e-62f7-46d7-96df-2960cded64da.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:33:07.909 +00:00','2020-03-05 17:33:07.909 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_b5e0095087874c4295240f7f8663f468$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (cd05e86a-39a2-449e-8baa-a835a710907a): COMMIT;
{ fileUUID: '483890da-f796-4b22-b006-23b5c2a4321d',
  cnodeUserUUID: 'fe4ba806-13d6-470a-8575-815e51cbccab',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: '41e4799e-62f7-46d7-96df-2960cded64da.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: '3294e2ec-21dc-4c6b-9034-5ecda2a0f2d7',
  updatedAt: 2020-03-05T17:33:07.909Z,
  createdAt: 2020-03-05T17:33:07.909Z }
writing to db3...
Executing (6e4db8bd-fd6e-4279-98dc-184e4db44e87): START TRANSACTION;
Executing (6e4db8bd-fd6e-4279-98dc-184e4db44e87): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = 'fe4ba806-13d6-470a-8575-815e51cbccab' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = '41e4799e-62f7-46d7-96df-2960cded64da.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '3294e2ec-21dc-4c6b-9034-5ecda2a0f2d7' LIMIT 1;
Executing (6e4db8bd-fd6e-4279-98dc-184e4db44e87): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_01fafb77aa1c4871beb8e1d9089db539$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('44c3e3de-5a5c-4a6d-b5a8-7797a524e8af','fe4ba806-13d6-470a-8575-815e51cbccab','3294e2ec-21dc-4c6b-9034-5ecda2a0f2d7','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','41e4799e-62f7-46d7-96df-2960cded64da.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:33:08.301 +00:00','2020-03-05 17:33:08.301 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_01fafb77aa1c4871beb8e1d9089db539$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (6e4db8bd-fd6e-4279-98dc-184e4db44e87): COMMIT;
{ fileUUID: '44c3e3de-5a5c-4a6d-b5a8-7797a524e8af',
  cnodeUserUUID: 'fe4ba806-13d6-470a-8575-815e51cbccab',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: '41e4799e-62f7-46d7-96df-2960cded64da.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: '3294e2ec-21dc-4c6b-9034-5ecda2a0f2d7',
  updatedAt: 2020-03-05T17:33:08.301Z,
  createdAt: 2020-03-05T17:33:08.301Z }




PROCESSING ROW #72: sourcefile: d44329d7-cd0b-48d7-bd93-1fcef3cc75e4.mp3, cnodeUserUUID: 29f79798-05be-45a3-b223-7b2fae06168c, trackUUID: c54d68e1-1740-430b-a8e8-06c7aca60699, multihash: QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM, dstPath: /file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM
writing to db1...
Executing (d614a949-de7f-4010-b93e-fded9c990c86): START TRANSACTION;
Executing (d614a949-de7f-4010-b93e-fded9c990c86): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '29f79798-05be-45a3-b223-7b2fae06168c' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = 'd44329d7-cd0b-48d7-bd93-1fcef3cc75e4.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = 'c54d68e1-1740-430b-a8e8-06c7aca60699' LIMIT 1;
Executing (d614a949-de7f-4010-b93e-fded9c990c86): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_ba9da5e93f184a3ba95682ce83bee4f2$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('f3043836-3f98-494e-a769-5af442a5a542','29f79798-05be-45a3-b223-7b2fae06168c','c54d68e1-1740-430b-a8e8-06c7aca60699','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','d44329d7-cd0b-48d7-bd93-1fcef3cc75e4.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:33:08.687 +00:00','2020-03-05 17:33:08.687 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_ba9da5e93f184a3ba95682ce83bee4f2$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (d614a949-de7f-4010-b93e-fded9c990c86): COMMIT;
{ fileUUID: 'f3043836-3f98-494e-a769-5af442a5a542',
  cnodeUserUUID: '29f79798-05be-45a3-b223-7b2fae06168c',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: 'd44329d7-cd0b-48d7-bd93-1fcef3cc75e4.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: 'c54d68e1-1740-430b-a8e8-06c7aca60699',
  updatedAt: 2020-03-05T17:33:08.687Z,
  createdAt: 2020-03-05T17:33:08.687Z }
writing to db2...
Executing (5bf115bb-48cb-4909-b56e-b015cccd2cfc): START TRANSACTION;
Executing (5bf115bb-48cb-4909-b56e-b015cccd2cfc): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '29f79798-05be-45a3-b223-7b2fae06168c' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = 'd44329d7-cd0b-48d7-bd93-1fcef3cc75e4.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = 'c54d68e1-1740-430b-a8e8-06c7aca60699' LIMIT 1;
Executing (5bf115bb-48cb-4909-b56e-b015cccd2cfc): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_fc46ecf8eff4462b8993c391f404a203$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('a8185db8-4930-4027-8f6c-c33eca3b8d6c','29f79798-05be-45a3-b223-7b2fae06168c','c54d68e1-1740-430b-a8e8-06c7aca60699','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','d44329d7-cd0b-48d7-bd93-1fcef3cc75e4.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:33:09.098 +00:00','2020-03-05 17:33:09.098 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_fc46ecf8eff4462b8993c391f404a203$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (5bf115bb-48cb-4909-b56e-b015cccd2cfc): COMMIT;
{ fileUUID: 'a8185db8-4930-4027-8f6c-c33eca3b8d6c',
  cnodeUserUUID: '29f79798-05be-45a3-b223-7b2fae06168c',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: 'd44329d7-cd0b-48d7-bd93-1fcef3cc75e4.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: 'c54d68e1-1740-430b-a8e8-06c7aca60699',
  updatedAt: 2020-03-05T17:33:09.098Z,
  createdAt: 2020-03-05T17:33:09.098Z }
writing to db3...
Executing (5bcaa66c-2f42-4174-b9e7-5a8ebf28fdc8): START TRANSACTION;
Executing (5bcaa66c-2f42-4174-b9e7-5a8ebf28fdc8): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '29f79798-05be-45a3-b223-7b2fae06168c' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = 'd44329d7-cd0b-48d7-bd93-1fcef3cc75e4.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = 'c54d68e1-1740-430b-a8e8-06c7aca60699' LIMIT 1;
Executing (5bcaa66c-2f42-4174-b9e7-5a8ebf28fdc8): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_8d488e2b8b964c699f4dd8a299de89b8$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('3aa1c67d-a8e1-4d84-88e7-9ee208c0d565','29f79798-05be-45a3-b223-7b2fae06168c','c54d68e1-1740-430b-a8e8-06c7aca60699','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','d44329d7-cd0b-48d7-bd93-1fcef3cc75e4.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:33:09.496 +00:00','2020-03-05 17:33:09.496 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_8d488e2b8b964c699f4dd8a299de89b8$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (5bcaa66c-2f42-4174-b9e7-5a8ebf28fdc8): COMMIT;
{ fileUUID: '3aa1c67d-a8e1-4d84-88e7-9ee208c0d565',
  cnodeUserUUID: '29f79798-05be-45a3-b223-7b2fae06168c',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: 'd44329d7-cd0b-48d7-bd93-1fcef3cc75e4.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: 'c54d68e1-1740-430b-a8e8-06c7aca60699',
  updatedAt: 2020-03-05T17:33:09.496Z,
  createdAt: 2020-03-05T17:33:09.496Z }




PROCESSING ROW #73: sourcefile: 2918b377-9806-498c-af55-f20fb488e322.mp3, cnodeUserUUID: 0851f5d3-3943-486a-9c80-8ebd6e66ec88, trackUUID: d777de08-92e5-414c-9a1f-88d9633863aa, multihash: QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM, dstPath: /file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM
writing to db1...
Executing (13f06c20-c9f9-4186-a69f-c7f095cc6f0c): START TRANSACTION;
Executing (13f06c20-c9f9-4186-a69f-c7f095cc6f0c): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '0851f5d3-3943-486a-9c80-8ebd6e66ec88' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = '2918b377-9806-498c-af55-f20fb488e322.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = 'd777de08-92e5-414c-9a1f-88d9633863aa' LIMIT 1;
Executing (13f06c20-c9f9-4186-a69f-c7f095cc6f0c): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_b8157c36151b4ac0ad1a3ecb974cc04b$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('07756372-79a5-427f-b8e4-d534e98280b8','0851f5d3-3943-486a-9c80-8ebd6e66ec88','d777de08-92e5-414c-9a1f-88d9633863aa','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','2918b377-9806-498c-af55-f20fb488e322.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:33:09.894 +00:00','2020-03-05 17:33:09.894 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_b8157c36151b4ac0ad1a3ecb974cc04b$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (13f06c20-c9f9-4186-a69f-c7f095cc6f0c): COMMIT;
{ fileUUID: '07756372-79a5-427f-b8e4-d534e98280b8',
  cnodeUserUUID: '0851f5d3-3943-486a-9c80-8ebd6e66ec88',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: '2918b377-9806-498c-af55-f20fb488e322.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: 'd777de08-92e5-414c-9a1f-88d9633863aa',
  updatedAt: 2020-03-05T17:33:09.894Z,
  createdAt: 2020-03-05T17:33:09.894Z }
writing to db2...
Executing (9ede55ea-dab1-4ea6-9ef8-5e6c5f3428b2): START TRANSACTION;
Executing (9ede55ea-dab1-4ea6-9ef8-5e6c5f3428b2): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '0851f5d3-3943-486a-9c80-8ebd6e66ec88' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = '2918b377-9806-498c-af55-f20fb488e322.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = 'd777de08-92e5-414c-9a1f-88d9633863aa' LIMIT 1;
Executing (9ede55ea-dab1-4ea6-9ef8-5e6c5f3428b2): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_9fbe4d108c144c2d8afbb5090e814317$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('2ffb9a1f-5d13-4833-a704-06b61998217c','0851f5d3-3943-486a-9c80-8ebd6e66ec88','d777de08-92e5-414c-9a1f-88d9633863aa','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','2918b377-9806-498c-af55-f20fb488e322.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:33:10.291 +00:00','2020-03-05 17:33:10.291 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_9fbe4d108c144c2d8afbb5090e814317$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (9ede55ea-dab1-4ea6-9ef8-5e6c5f3428b2): COMMIT;
{ fileUUID: '2ffb9a1f-5d13-4833-a704-06b61998217c',
  cnodeUserUUID: '0851f5d3-3943-486a-9c80-8ebd6e66ec88',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: '2918b377-9806-498c-af55-f20fb488e322.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: 'd777de08-92e5-414c-9a1f-88d9633863aa',
  updatedAt: 2020-03-05T17:33:10.291Z,
  createdAt: 2020-03-05T17:33:10.291Z }
writing to db3...
Executing (97926400-6bdc-462f-af5f-6ae05c1b87de): START TRANSACTION;
Executing (97926400-6bdc-462f-af5f-6ae05c1b87de): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '0851f5d3-3943-486a-9c80-8ebd6e66ec88' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = '2918b377-9806-498c-af55-f20fb488e322.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = 'd777de08-92e5-414c-9a1f-88d9633863aa' LIMIT 1;
Executing (97926400-6bdc-462f-af5f-6ae05c1b87de): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_aefe1902bcef411f9f977f0626b70439$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('cc54efc4-4c24-4009-a6af-14b45cb82eff','0851f5d3-3943-486a-9c80-8ebd6e66ec88','d777de08-92e5-414c-9a1f-88d9633863aa','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','2918b377-9806-498c-af55-f20fb488e322.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:33:10.674 +00:00','2020-03-05 17:33:10.674 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_aefe1902bcef411f9f977f0626b70439$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (97926400-6bdc-462f-af5f-6ae05c1b87de): COMMIT;
{ fileUUID: 'cc54efc4-4c24-4009-a6af-14b45cb82eff',
  cnodeUserUUID: '0851f5d3-3943-486a-9c80-8ebd6e66ec88',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: '2918b377-9806-498c-af55-f20fb488e322.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: 'd777de08-92e5-414c-9a1f-88d9633863aa',
  updatedAt: 2020-03-05T17:33:10.674Z,
  createdAt: 2020-03-05T17:33:10.674Z }




PROCESSING ROW #74: sourcefile: 61f8a32e-ce30-47f7-837c-babcb5121b7e.mp3, cnodeUserUUID: ce848f76-57bd-4ebd-bb7f-ceff7b24a445, trackUUID: 054b74fa-ff42-44a3-b7fd-f96c7800f602, multihash: QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM, dstPath: /file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM
writing to db1...
Executing (81138103-ab2f-406a-915f-1c7192fd116d): START TRANSACTION;
Executing (81138103-ab2f-406a-915f-1c7192fd116d): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = 'ce848f76-57bd-4ebd-bb7f-ceff7b24a445' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = '61f8a32e-ce30-47f7-837c-babcb5121b7e.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '054b74fa-ff42-44a3-b7fd-f96c7800f602' LIMIT 1;
Executing (81138103-ab2f-406a-915f-1c7192fd116d): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_7a22b2b627c94521bfa24f59c4d1cf5a$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('c0c3f7d3-1cb0-4c1c-8dee-d25a03adb580','ce848f76-57bd-4ebd-bb7f-ceff7b24a445','054b74fa-ff42-44a3-b7fd-f96c7800f602','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','61f8a32e-ce30-47f7-837c-babcb5121b7e.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:33:11.073 +00:00','2020-03-05 17:33:11.073 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_7a22b2b627c94521bfa24f59c4d1cf5a$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (81138103-ab2f-406a-915f-1c7192fd116d): COMMIT;
{ fileUUID: 'c0c3f7d3-1cb0-4c1c-8dee-d25a03adb580',
  cnodeUserUUID: 'ce848f76-57bd-4ebd-bb7f-ceff7b24a445',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: '61f8a32e-ce30-47f7-837c-babcb5121b7e.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: '054b74fa-ff42-44a3-b7fd-f96c7800f602',
  updatedAt: 2020-03-05T17:33:11.073Z,
  createdAt: 2020-03-05T17:33:11.073Z }
writing to db2...
Executing (7855815a-e805-4e3b-a8e2-dec832ff145f): START TRANSACTION;
Executing (7855815a-e805-4e3b-a8e2-dec832ff145f): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = 'ce848f76-57bd-4ebd-bb7f-ceff7b24a445' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = '61f8a32e-ce30-47f7-837c-babcb5121b7e.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '054b74fa-ff42-44a3-b7fd-f96c7800f602' LIMIT 1;
Executing (7855815a-e805-4e3b-a8e2-dec832ff145f): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_7eb58070560f499ebac64dcec2e55936$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('448cfa65-5244-42c9-a300-78bb01ee92fe','ce848f76-57bd-4ebd-bb7f-ceff7b24a445','054b74fa-ff42-44a3-b7fd-f96c7800f602','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','61f8a32e-ce30-47f7-837c-babcb5121b7e.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:33:11.465 +00:00','2020-03-05 17:33:11.465 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_7eb58070560f499ebac64dcec2e55936$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (7855815a-e805-4e3b-a8e2-dec832ff145f): COMMIT;
{ fileUUID: '448cfa65-5244-42c9-a300-78bb01ee92fe',
  cnodeUserUUID: 'ce848f76-57bd-4ebd-bb7f-ceff7b24a445',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: '61f8a32e-ce30-47f7-837c-babcb5121b7e.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: '054b74fa-ff42-44a3-b7fd-f96c7800f602',
  updatedAt: 2020-03-05T17:33:11.465Z,
  createdAt: 2020-03-05T17:33:11.465Z }
writing to db3...
Executing (e3708f4a-693b-44d0-bcd7-692e911fdcd0): START TRANSACTION;
Executing (e3708f4a-693b-44d0-bcd7-692e911fdcd0): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = 'ce848f76-57bd-4ebd-bb7f-ceff7b24a445' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = '61f8a32e-ce30-47f7-837c-babcb5121b7e.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '054b74fa-ff42-44a3-b7fd-f96c7800f602' LIMIT 1;
Executing (e3708f4a-693b-44d0-bcd7-692e911fdcd0): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_42324b3bff404703a30457adf9e06b1f$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('62066517-8780-42a5-a6b2-c7505b7331a1','ce848f76-57bd-4ebd-bb7f-ceff7b24a445','054b74fa-ff42-44a3-b7fd-f96c7800f602','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','61f8a32e-ce30-47f7-837c-babcb5121b7e.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:33:11.848 +00:00','2020-03-05 17:33:11.848 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_42324b3bff404703a30457adf9e06b1f$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (e3708f4a-693b-44d0-bcd7-692e911fdcd0): COMMIT;
{ fileUUID: '62066517-8780-42a5-a6b2-c7505b7331a1',
  cnodeUserUUID: 'ce848f76-57bd-4ebd-bb7f-ceff7b24a445',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: '61f8a32e-ce30-47f7-837c-babcb5121b7e.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: '054b74fa-ff42-44a3-b7fd-f96c7800f602',
  updatedAt: 2020-03-05T17:33:11.848Z,
  createdAt: 2020-03-05T17:33:11.848Z }




PROCESSING ROW #75: sourcefile: 632ce11e-1ce4-45a8-ac9b-e37ad84e5e00.mp3, cnodeUserUUID: 186706e0-f937-4b88-9141-599dd9c31c3f, trackUUID: 299e0093-4e6b-402e-8866-752051b865ba, multihash: QmcAD35vXY3h9iXGDF2sLTMTZ4QER63yKVoFrJQUpps6bq, dstPath: /file_storage/QmcAD35vXY3h9iXGDF2sLTMTZ4QER63yKVoFrJQUpps6bq
writing to db1...
Executing (8a891f60-1148-490b-97a6-613a2fd605c7): START TRANSACTION;
Executing (8a891f60-1148-490b-97a6-613a2fd605c7): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '186706e0-f937-4b88-9141-599dd9c31c3f' AND "File"."multihash" = 'QmcAD35vXY3h9iXGDF2sLTMTZ4QER63yKVoFrJQUpps6bq' AND "File"."sourceFile" = '632ce11e-1ce4-45a8-ac9b-e37ad84e5e00.mp3' AND "File"."storagePath" = '/file_storage/QmcAD35vXY3h9iXGDF2sLTMTZ4QER63yKVoFrJQUpps6bq' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '299e0093-4e6b-402e-8866-752051b865ba' LIMIT 1;
Executing (8a891f60-1148-490b-97a6-613a2fd605c7): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_42fe6ad5acf9481b97aad8b73fb363bc$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('f4a6b5f1-dd3a-4383-9f27-42987bb44e5f','186706e0-f937-4b88-9141-599dd9c31c3f','299e0093-4e6b-402e-8866-752051b865ba','QmcAD35vXY3h9iXGDF2sLTMTZ4QER63yKVoFrJQUpps6bq','632ce11e-1ce4-45a8-ac9b-e37ad84e5e00.mp3','/file_storage/QmcAD35vXY3h9iXGDF2sLTMTZ4QER63yKVoFrJQUpps6bq','copy320','2020-03-05 17:33:12.234 +00:00','2020-03-05 17:33:12.234 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_42fe6ad5acf9481b97aad8b73fb363bc$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (8a891f60-1148-490b-97a6-613a2fd605c7): COMMIT;
{ fileUUID: 'f4a6b5f1-dd3a-4383-9f27-42987bb44e5f',
  cnodeUserUUID: '186706e0-f937-4b88-9141-599dd9c31c3f',
  multihash: 'QmcAD35vXY3h9iXGDF2sLTMTZ4QER63yKVoFrJQUpps6bq',
  sourceFile: '632ce11e-1ce4-45a8-ac9b-e37ad84e5e00.mp3',
  storagePath:
   '/file_storage/QmcAD35vXY3h9iXGDF2sLTMTZ4QER63yKVoFrJQUpps6bq',
  type: 'copy320',
  trackUUID: '299e0093-4e6b-402e-8866-752051b865ba',
  updatedAt: 2020-03-05T17:33:12.234Z,
  createdAt: 2020-03-05T17:33:12.234Z }
writing to db2...
Executing (fd6b9416-e28a-4f52-9789-df65a857c557): START TRANSACTION;
Executing (fd6b9416-e28a-4f52-9789-df65a857c557): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '186706e0-f937-4b88-9141-599dd9c31c3f' AND "File"."multihash" = 'QmcAD35vXY3h9iXGDF2sLTMTZ4QER63yKVoFrJQUpps6bq' AND "File"."sourceFile" = '632ce11e-1ce4-45a8-ac9b-e37ad84e5e00.mp3' AND "File"."storagePath" = '/file_storage/QmcAD35vXY3h9iXGDF2sLTMTZ4QER63yKVoFrJQUpps6bq' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '299e0093-4e6b-402e-8866-752051b865ba' LIMIT 1;
Executing (fd6b9416-e28a-4f52-9789-df65a857c557): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_576e13a31bce4706a30d4d8a104629f8$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('3ee9c51d-382a-4254-9184-801d7c876a82','186706e0-f937-4b88-9141-599dd9c31c3f','299e0093-4e6b-402e-8866-752051b865ba','QmcAD35vXY3h9iXGDF2sLTMTZ4QER63yKVoFrJQUpps6bq','632ce11e-1ce4-45a8-ac9b-e37ad84e5e00.mp3','/file_storage/QmcAD35vXY3h9iXGDF2sLTMTZ4QER63yKVoFrJQUpps6bq','copy320','2020-03-05 17:33:12.638 +00:00','2020-03-05 17:33:12.638 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_576e13a31bce4706a30d4d8a104629f8$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (fd6b9416-e28a-4f52-9789-df65a857c557): COMMIT;
{ SequelizeForeignKeyConstraintError: insert or update on table "Files" violates foreign key constraint "Files_trackUUID_fkey"
    at Query.formatError (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/sequelize/lib/dialects/postgres/query.js:296:16)
    at query.catch.err (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/sequelize/lib/dialects/postgres/query.js:86:18)
    at tryCatcher (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/bluebird/js/release/util.js:16:23)
    at Promise._settlePromiseFromHandler (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/bluebird/js/release/promise.js:517:31)
    at Promise._settlePromise (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/bluebird/js/release/promise.js:574:18)
    at Promise._settlePromise0 (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/bluebird/js/release/promise.js:619:10)
    at Promise._settlePromises (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/bluebird/js/release/promise.js:695:18)
    at _drainQueueStep (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/bluebird/js/release/async.js:138:12)
    at _drainQueue (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/bluebird/js/release/async.js:131:9)
    at Async._drainQueues (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/bluebird/js/release/async.js:147:5)
    at Immediate.Async.drainQueues [as _onImmediate] (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/bluebird/js/release/async.js:17:14)
    at runCallback (timers.js:705:18)
    at tryOnImmediate (timers.js:676:5)
    at processImmediate (timers.js:658:5)
  name: 'SequelizeForeignKeyConstraintError',
  parent:
   { error: insert or update on table "Files" violates foreign key constraint "Files_trackUUID_fkey"
       at Connection.parseE (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/pg/lib/connection.js:604:11)
       at Connection.parseMessage (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/pg/lib/connection.js:401:19)
       at Socket.<anonymous> (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/pg/lib/connection.js:121:22)
       at Socket.emit (events.js:198:13)
       at addChunk (_stream_readable.js:288:12)
       at readableAddChunk (_stream_readable.js:269:11)
       at Socket.Readable.push (_stream_readable.js:224:10)
       at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)
     name: 'error',
     length: 865,
     severity: 'ERROR',
     code: '23503',
     detail:
      'Key (trackUUID)=(299e0093-4e6b-402e-8866-752051b865ba) is not present in table "Tracks".',
     hint: undefined,
     position: undefined,
     internalPosition: undefined,
     internalQuery: undefined,
     where:
      'SQL statement "INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES (\'3ee9c51d-382a-4254-9184-801d7c876a82\',\'186706e0-f937-4b88-9141-599dd9c31c3f\',\'299e0093-4e6b-402e-8866-752051b865ba\',\'QmcAD35vXY3h9iXGDF2sLTMTZ4QER63yKVoFrJQUpps6bq\',\'632ce11e-1ce4-45a8-ac9b-e37ad84e5e00.mp3\',\'/file_storage/QmcAD35vXY3h9iXGDF2sLTMTZ4QER63yKVoFrJQUpps6bq\',\'copy320\',\'2020-03-05 17:33:12.638 +00:00\',\'2020-03-05 17:33:12.638 +00:00\') RETURNING *"\nPL/pgSQL function pg_temp_13.testfunc() line 1 at SQL statement',
     schema: 'public',
     table: 'Files',
     column: undefined,
     dataType: undefined,
     constraint: 'Files_trackUUID_fkey',
     file: 'ri_triggers.c',
     line: '3266',
     routine: 'ri_ReportViolation',
     sql:
      'CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_576e13a31bce4706a30d4d8a104629f8$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES (\'3ee9c51d-382a-4254-9184-801d7c876a82\',\'186706e0-f937-4b88-9141-599dd9c31c3f\',\'299e0093-4e6b-402e-8866-752051b865ba\',\'QmcAD35vXY3h9iXGDF2sLTMTZ4QER63yKVoFrJQUpps6bq\',\'632ce11e-1ce4-45a8-ac9b-e37ad84e5e00.mp3\',\'/file_storage/QmcAD35vXY3h9iXGDF2sLTMTZ4QER63yKVoFrJQUpps6bq\',\'copy320\',\'2020-03-05 17:33:12.638 +00:00\',\'2020-03-05 17:33:12.638 +00:00\') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_576e13a31bce4706a30d4d8a104629f8$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();' },
  original:
   { error: insert or update on table "Files" violates foreign key constraint "Files_trackUUID_fkey"
       at Connection.parseE (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/pg/lib/connection.js:604:11)
       at Connection.parseMessage (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/pg/lib/connection.js:401:19)
       at Socket.<anonymous> (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/pg/lib/connection.js:121:22)
       at Socket.emit (events.js:198:13)
       at addChunk (_stream_readable.js:288:12)
       at readableAddChunk (_stream_readable.js:269:11)
       at Socket.Readable.push (_stream_readable.js:224:10)
       at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)
     name: 'error',
     length: 865,
     severity: 'ERROR',
     code: '23503',
     detail:
      'Key (trackUUID)=(299e0093-4e6b-402e-8866-752051b865ba) is not present in table "Tracks".',
     hint: undefined,
     position: undefined,
     internalPosition: undefined,
     internalQuery: undefined,
     where:
      'SQL statement "INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES (\'3ee9c51d-382a-4254-9184-801d7c876a82\',\'186706e0-f937-4b88-9141-599dd9c31c3f\',\'299e0093-4e6b-402e-8866-752051b865ba\',\'QmcAD35vXY3h9iXGDF2sLTMTZ4QER63yKVoFrJQUpps6bq\',\'632ce11e-1ce4-45a8-ac9b-e37ad84e5e00.mp3\',\'/file_storage/QmcAD35vXY3h9iXGDF2sLTMTZ4QER63yKVoFrJQUpps6bq\',\'copy320\',\'2020-03-05 17:33:12.638 +00:00\',\'2020-03-05 17:33:12.638 +00:00\') RETURNING *"\nPL/pgSQL function pg_temp_13.testfunc() line 1 at SQL statement',
     schema: 'public',
     table: 'Files',
     column: undefined,
     dataType: undefined,
     constraint: 'Files_trackUUID_fkey',
     file: 'ri_triggers.c',
     line: '3266',
     routine: 'ri_ReportViolation',
     sql:
      'CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_576e13a31bce4706a30d4d8a104629f8$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES (\'3ee9c51d-382a-4254-9184-801d7c876a82\',\'186706e0-f937-4b88-9141-599dd9c31c3f\',\'299e0093-4e6b-402e-8866-752051b865ba\',\'QmcAD35vXY3h9iXGDF2sLTMTZ4QER63yKVoFrJQUpps6bq\',\'632ce11e-1ce4-45a8-ac9b-e37ad84e5e00.mp3\',\'/file_storage/QmcAD35vXY3h9iXGDF2sLTMTZ4QER63yKVoFrJQUpps6bq\',\'copy320\',\'2020-03-05 17:33:12.638 +00:00\',\'2020-03-05 17:33:12.638 +00:00\') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_576e13a31bce4706a30d4d8a104629f8$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();' },
  sql:
   'CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_576e13a31bce4706a30d4d8a104629f8$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES (\'3ee9c51d-382a-4254-9184-801d7c876a82\',\'186706e0-f937-4b88-9141-599dd9c31c3f\',\'299e0093-4e6b-402e-8866-752051b865ba\',\'QmcAD35vXY3h9iXGDF2sLTMTZ4QER63yKVoFrJQUpps6bq\',\'632ce11e-1ce4-45a8-ac9b-e37ad84e5e00.mp3\',\'/file_storage/QmcAD35vXY3h9iXGDF2sLTMTZ4QER63yKVoFrJQUpps6bq\',\'copy320\',\'2020-03-05 17:33:12.638 +00:00\',\'2020-03-05 17:33:12.638 +00:00\') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_576e13a31bce4706a30d4d8a104629f8$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();',
  fields: null,
  table: 'Files',
  value: undefined,
  index: 'Files_trackUUID_fkey',
  reltype: undefined }
writing to db3...
Executing (c3db3144-317d-4fb8-9f85-c7f7a84da3d1): START TRANSACTION;
Executing (c3db3144-317d-4fb8-9f85-c7f7a84da3d1): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '186706e0-f937-4b88-9141-599dd9c31c3f' AND "File"."multihash" = 'QmcAD35vXY3h9iXGDF2sLTMTZ4QER63yKVoFrJQUpps6bq' AND "File"."sourceFile" = '632ce11e-1ce4-45a8-ac9b-e37ad84e5e00.mp3' AND "File"."storagePath" = '/file_storage/QmcAD35vXY3h9iXGDF2sLTMTZ4QER63yKVoFrJQUpps6bq' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '299e0093-4e6b-402e-8866-752051b865ba' LIMIT 1;
Executing (c3db3144-317d-4fb8-9f85-c7f7a84da3d1): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_24474203880a44c3a6d7810aa408c275$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('e9a69b02-c29b-4c78-a975-eec887b4f4ee','186706e0-f937-4b88-9141-599dd9c31c3f','299e0093-4e6b-402e-8866-752051b865ba','QmcAD35vXY3h9iXGDF2sLTMTZ4QER63yKVoFrJQUpps6bq','632ce11e-1ce4-45a8-ac9b-e37ad84e5e00.mp3','/file_storage/QmcAD35vXY3h9iXGDF2sLTMTZ4QER63yKVoFrJQUpps6bq','copy320','2020-03-05 17:33:13.050 +00:00','2020-03-05 17:33:13.050 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_24474203880a44c3a6d7810aa408c275$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (c3db3144-317d-4fb8-9f85-c7f7a84da3d1): COMMIT;
{ SequelizeForeignKeyConstraintError: insert or update on table "Files" violates foreign key constraint "Files_trackUUID_fkey"
    at Query.formatError (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/sequelize/lib/dialects/postgres/query.js:296:16)
    at query.catch.err (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/sequelize/lib/dialects/postgres/query.js:86:18)
    at tryCatcher (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/bluebird/js/release/util.js:16:23)
    at Promise._settlePromiseFromHandler (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/bluebird/js/release/promise.js:517:31)
    at Promise._settlePromise (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/bluebird/js/release/promise.js:574:18)
    at Promise._settlePromise0 (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/bluebird/js/release/promise.js:619:10)
    at Promise._settlePromises (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/bluebird/js/release/promise.js:695:18)
    at _drainQueueStep (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/bluebird/js/release/async.js:138:12)
    at _drainQueue (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/bluebird/js/release/async.js:131:9)
    at Async._drainQueues (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/bluebird/js/release/async.js:147:5)
    at Immediate.Async.drainQueues [as _onImmediate] (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/bluebird/js/release/async.js:17:14)
    at runCallback (timers.js:705:18)
    at tryOnImmediate (timers.js:676:5)
    at processImmediate (timers.js:658:5)
  name: 'SequelizeForeignKeyConstraintError',
  parent:
   { error: insert or update on table "Files" violates foreign key constraint "Files_trackUUID_fkey"
       at Connection.parseE (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/pg/lib/connection.js:604:11)
       at Connection.parseMessage (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/pg/lib/connection.js:401:19)
       at Socket.<anonymous> (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/pg/lib/connection.js:121:22)
       at Socket.emit (events.js:198:13)
       at addChunk (_stream_readable.js:288:12)
       at readableAddChunk (_stream_readable.js:269:11)
       at Socket.Readable.push (_stream_readable.js:224:10)
       at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)
     name: 'error',
     length: 865,
     severity: 'ERROR',
     code: '23503',
     detail:
      'Key (trackUUID)=(299e0093-4e6b-402e-8866-752051b865ba) is not present in table "Tracks".',
     hint: undefined,
     position: undefined,
     internalPosition: undefined,
     internalQuery: undefined,
     where:
      'SQL statement "INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES (\'e9a69b02-c29b-4c78-a975-eec887b4f4ee\',\'186706e0-f937-4b88-9141-599dd9c31c3f\',\'299e0093-4e6b-402e-8866-752051b865ba\',\'QmcAD35vXY3h9iXGDF2sLTMTZ4QER63yKVoFrJQUpps6bq\',\'632ce11e-1ce4-45a8-ac9b-e37ad84e5e00.mp3\',\'/file_storage/QmcAD35vXY3h9iXGDF2sLTMTZ4QER63yKVoFrJQUpps6bq\',\'copy320\',\'2020-03-05 17:33:13.050 +00:00\',\'2020-03-05 17:33:13.050 +00:00\') RETURNING *"\nPL/pgSQL function pg_temp_67.testfunc() line 1 at SQL statement',
     schema: 'public',
     table: 'Files',
     column: undefined,
     dataType: undefined,
     constraint: 'Files_trackUUID_fkey',
     file: 'ri_triggers.c',
     line: '2783',
     routine: 'ri_ReportViolation',
     sql:
      'CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_24474203880a44c3a6d7810aa408c275$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES (\'e9a69b02-c29b-4c78-a975-eec887b4f4ee\',\'186706e0-f937-4b88-9141-599dd9c31c3f\',\'299e0093-4e6b-402e-8866-752051b865ba\',\'QmcAD35vXY3h9iXGDF2sLTMTZ4QER63yKVoFrJQUpps6bq\',\'632ce11e-1ce4-45a8-ac9b-e37ad84e5e00.mp3\',\'/file_storage/QmcAD35vXY3h9iXGDF2sLTMTZ4QER63yKVoFrJQUpps6bq\',\'copy320\',\'2020-03-05 17:33:13.050 +00:00\',\'2020-03-05 17:33:13.050 +00:00\') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_24474203880a44c3a6d7810aa408c275$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();' },
  original:
   { error: insert or update on table "Files" violates foreign key constraint "Files_trackUUID_fkey"
       at Connection.parseE (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/pg/lib/connection.js:604:11)
       at Connection.parseMessage (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/pg/lib/connection.js:401:19)
       at Socket.<anonymous> (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/pg/lib/connection.js:121:22)
       at Socket.emit (events.js:198:13)
       at addChunk (_stream_readable.js:288:12)
       at readableAddChunk (_stream_readable.js:269:11)
       at Socket.Readable.push (_stream_readable.js:224:10)
       at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)
     name: 'error',
     length: 865,
     severity: 'ERROR',
     code: '23503',
     detail:
      'Key (trackUUID)=(299e0093-4e6b-402e-8866-752051b865ba) is not present in table "Tracks".',
     hint: undefined,
     position: undefined,
     internalPosition: undefined,
     internalQuery: undefined,
     where:
      'SQL statement "INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES (\'e9a69b02-c29b-4c78-a975-eec887b4f4ee\',\'186706e0-f937-4b88-9141-599dd9c31c3f\',\'299e0093-4e6b-402e-8866-752051b865ba\',\'QmcAD35vXY3h9iXGDF2sLTMTZ4QER63yKVoFrJQUpps6bq\',\'632ce11e-1ce4-45a8-ac9b-e37ad84e5e00.mp3\',\'/file_storage/QmcAD35vXY3h9iXGDF2sLTMTZ4QER63yKVoFrJQUpps6bq\',\'copy320\',\'2020-03-05 17:33:13.050 +00:00\',\'2020-03-05 17:33:13.050 +00:00\') RETURNING *"\nPL/pgSQL function pg_temp_67.testfunc() line 1 at SQL statement',
     schema: 'public',
     table: 'Files',
     column: undefined,
     dataType: undefined,
     constraint: 'Files_trackUUID_fkey',
     file: 'ri_triggers.c',
     line: '2783',
     routine: 'ri_ReportViolation',
     sql:
      'CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_24474203880a44c3a6d7810aa408c275$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES (\'e9a69b02-c29b-4c78-a975-eec887b4f4ee\',\'186706e0-f937-4b88-9141-599dd9c31c3f\',\'299e0093-4e6b-402e-8866-752051b865ba\',\'QmcAD35vXY3h9iXGDF2sLTMTZ4QER63yKVoFrJQUpps6bq\',\'632ce11e-1ce4-45a8-ac9b-e37ad84e5e00.mp3\',\'/file_storage/QmcAD35vXY3h9iXGDF2sLTMTZ4QER63yKVoFrJQUpps6bq\',\'copy320\',\'2020-03-05 17:33:13.050 +00:00\',\'2020-03-05 17:33:13.050 +00:00\') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_24474203880a44c3a6d7810aa408c275$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();' },
  sql:
   'CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_24474203880a44c3a6d7810aa408c275$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES (\'e9a69b02-c29b-4c78-a975-eec887b4f4ee\',\'186706e0-f937-4b88-9141-599dd9c31c3f\',\'299e0093-4e6b-402e-8866-752051b865ba\',\'QmcAD35vXY3h9iXGDF2sLTMTZ4QER63yKVoFrJQUpps6bq\',\'632ce11e-1ce4-45a8-ac9b-e37ad84e5e00.mp3\',\'/file_storage/QmcAD35vXY3h9iXGDF2sLTMTZ4QER63yKVoFrJQUpps6bq\',\'copy320\',\'2020-03-05 17:33:13.050 +00:00\',\'2020-03-05 17:33:13.050 +00:00\') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_24474203880a44c3a6d7810aa408c275$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();',
  fields: null,
  table: 'Files',
  value: undefined,
  index: 'Files_trackUUID_fkey',
  reltype: undefined }




PROCESSING ROW #76: sourcefile: 3a21e076-9889-4221-bdaa-f1a55aa01fd4.mp3, cnodeUserUUID: d717088a-1e5c-47c1-b9d8-ced688a7d14b, trackUUID: 86f44b1a-516c-4a9b-be7e-d35b3a1b093b, multihash: QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM, dstPath: /file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM
writing to db1...
Executing (9dd6b32c-4c5a-43cd-b347-496ba48ed1b4): START TRANSACTION;
Executing (9dd6b32c-4c5a-43cd-b347-496ba48ed1b4): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = 'd717088a-1e5c-47c1-b9d8-ced688a7d14b' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = '3a21e076-9889-4221-bdaa-f1a55aa01fd4.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '86f44b1a-516c-4a9b-be7e-d35b3a1b093b' LIMIT 1;
Executing (9dd6b32c-4c5a-43cd-b347-496ba48ed1b4): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_177404f9ee044311b3eb5f1df561530a$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('cb3a9ba9-ff48-48aa-ae91-981cd3ca51c1','d717088a-1e5c-47c1-b9d8-ced688a7d14b','86f44b1a-516c-4a9b-be7e-d35b3a1b093b','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','3a21e076-9889-4221-bdaa-f1a55aa01fd4.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:33:13.441 +00:00','2020-03-05 17:33:13.441 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_177404f9ee044311b3eb5f1df561530a$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (9dd6b32c-4c5a-43cd-b347-496ba48ed1b4): COMMIT;
{ fileUUID: 'cb3a9ba9-ff48-48aa-ae91-981cd3ca51c1',
  cnodeUserUUID: 'd717088a-1e5c-47c1-b9d8-ced688a7d14b',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: '3a21e076-9889-4221-bdaa-f1a55aa01fd4.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: '86f44b1a-516c-4a9b-be7e-d35b3a1b093b',
  updatedAt: 2020-03-05T17:33:13.441Z,
  createdAt: 2020-03-05T17:33:13.441Z }
writing to db2...
Executing (c4f605ee-2b73-45be-8345-93c15824c985): START TRANSACTION;
Executing (c4f605ee-2b73-45be-8345-93c15824c985): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = 'd717088a-1e5c-47c1-b9d8-ced688a7d14b' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = '3a21e076-9889-4221-bdaa-f1a55aa01fd4.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '86f44b1a-516c-4a9b-be7e-d35b3a1b093b' LIMIT 1;
Executing (c4f605ee-2b73-45be-8345-93c15824c985): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_c16b0ca93e464a22acd1262c1ae0015f$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('3ec0b9da-4804-4bde-9564-0b5198140376','d717088a-1e5c-47c1-b9d8-ced688a7d14b','86f44b1a-516c-4a9b-be7e-d35b3a1b093b','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','3a21e076-9889-4221-bdaa-f1a55aa01fd4.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:33:13.836 +00:00','2020-03-05 17:33:13.836 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_c16b0ca93e464a22acd1262c1ae0015f$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (c4f605ee-2b73-45be-8345-93c15824c985): COMMIT;
{ fileUUID: '3ec0b9da-4804-4bde-9564-0b5198140376',
  cnodeUserUUID: 'd717088a-1e5c-47c1-b9d8-ced688a7d14b',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: '3a21e076-9889-4221-bdaa-f1a55aa01fd4.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: '86f44b1a-516c-4a9b-be7e-d35b3a1b093b',
  updatedAt: 2020-03-05T17:33:13.836Z,
  createdAt: 2020-03-05T17:33:13.836Z }
writing to db3...
Executing (882e94da-fda5-415e-9de9-fd2474341fb7): START TRANSACTION;
Executing (882e94da-fda5-415e-9de9-fd2474341fb7): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = 'd717088a-1e5c-47c1-b9d8-ced688a7d14b' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = '3a21e076-9889-4221-bdaa-f1a55aa01fd4.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '86f44b1a-516c-4a9b-be7e-d35b3a1b093b' LIMIT 1;
Executing (882e94da-fda5-415e-9de9-fd2474341fb7): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_ad9b38f9ba9e447e9831c1b303da4281$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('31716a95-72c1-4b1e-afa1-9fe164c3ac57','d717088a-1e5c-47c1-b9d8-ced688a7d14b','86f44b1a-516c-4a9b-be7e-d35b3a1b093b','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','3a21e076-9889-4221-bdaa-f1a55aa01fd4.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:33:14.224 +00:00','2020-03-05 17:33:14.224 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_ad9b38f9ba9e447e9831c1b303da4281$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (882e94da-fda5-415e-9de9-fd2474341fb7): COMMIT;
{ fileUUID: '31716a95-72c1-4b1e-afa1-9fe164c3ac57',
  cnodeUserUUID: 'd717088a-1e5c-47c1-b9d8-ced688a7d14b',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: '3a21e076-9889-4221-bdaa-f1a55aa01fd4.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: '86f44b1a-516c-4a9b-be7e-d35b3a1b093b',
  updatedAt: 2020-03-05T17:33:14.224Z,
  createdAt: 2020-03-05T17:33:14.224Z }




PROCESSING ROW #77: sourcefile: 9217c6a3-2d45-411a-8a16-416bf90c842f.mp3, cnodeUserUUID: 8aefd2ee-77ea-4c0c-9ee3-cb64d794e399, trackUUID: 02fdf106-3cd9-47f6-851c-7adc0f3d798a, multihash: QmPyzFr5osEAZJ7K4W1hYaA86utW6jZfkpvKqmgEGM13Rt, dstPath: /file_storage/QmPyzFr5osEAZJ7K4W1hYaA86utW6jZfkpvKqmgEGM13Rt
writing to db1...
Executing (9cb5eb21-c683-4699-b3d1-ebf6133fe0d3): START TRANSACTION;
Executing (9cb5eb21-c683-4699-b3d1-ebf6133fe0d3): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '8aefd2ee-77ea-4c0c-9ee3-cb64d794e399' AND "File"."multihash" = 'QmPyzFr5osEAZJ7K4W1hYaA86utW6jZfkpvKqmgEGM13Rt' AND "File"."sourceFile" = '9217c6a3-2d45-411a-8a16-416bf90c842f.mp3' AND "File"."storagePath" = '/file_storage/QmPyzFr5osEAZJ7K4W1hYaA86utW6jZfkpvKqmgEGM13Rt' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '02fdf106-3cd9-47f6-851c-7adc0f3d798a' LIMIT 1;
Executing (9cb5eb21-c683-4699-b3d1-ebf6133fe0d3): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_8b5ef45b4c19450fa616bbde7cb2f8b6$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('8d7a48c8-ee57-407b-adae-65eef0d5f884','8aefd2ee-77ea-4c0c-9ee3-cb64d794e399','02fdf106-3cd9-47f6-851c-7adc0f3d798a','QmPyzFr5osEAZJ7K4W1hYaA86utW6jZfkpvKqmgEGM13Rt','9217c6a3-2d45-411a-8a16-416bf90c842f.mp3','/file_storage/QmPyzFr5osEAZJ7K4W1hYaA86utW6jZfkpvKqmgEGM13Rt','copy320','2020-03-05 17:33:14.644 +00:00','2020-03-05 17:33:14.644 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_8b5ef45b4c19450fa616bbde7cb2f8b6$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (9cb5eb21-c683-4699-b3d1-ebf6133fe0d3): COMMIT;
{ fileUUID: '8d7a48c8-ee57-407b-adae-65eef0d5f884',
  cnodeUserUUID: '8aefd2ee-77ea-4c0c-9ee3-cb64d794e399',
  multihash: 'QmPyzFr5osEAZJ7K4W1hYaA86utW6jZfkpvKqmgEGM13Rt',
  sourceFile: '9217c6a3-2d45-411a-8a16-416bf90c842f.mp3',
  storagePath:
   '/file_storage/QmPyzFr5osEAZJ7K4W1hYaA86utW6jZfkpvKqmgEGM13Rt',
  type: 'copy320',
  trackUUID: '02fdf106-3cd9-47f6-851c-7adc0f3d798a',
  updatedAt: 2020-03-05T17:33:14.644Z,
  createdAt: 2020-03-05T17:33:14.644Z }
writing to db2...
Executing (075b7723-36c8-4eca-9114-1187b04689c7): START TRANSACTION;
Executing (075b7723-36c8-4eca-9114-1187b04689c7): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '8aefd2ee-77ea-4c0c-9ee3-cb64d794e399' AND "File"."multihash" = 'QmPyzFr5osEAZJ7K4W1hYaA86utW6jZfkpvKqmgEGM13Rt' AND "File"."sourceFile" = '9217c6a3-2d45-411a-8a16-416bf90c842f.mp3' AND "File"."storagePath" = '/file_storage/QmPyzFr5osEAZJ7K4W1hYaA86utW6jZfkpvKqmgEGM13Rt' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '02fdf106-3cd9-47f6-851c-7adc0f3d798a' LIMIT 1;
Executing (075b7723-36c8-4eca-9114-1187b04689c7): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_68392c9141d34882ac7cbf8bd17703c9$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('86ac959c-47fb-4af3-a1da-5ae189edac3e','8aefd2ee-77ea-4c0c-9ee3-cb64d794e399','02fdf106-3cd9-47f6-851c-7adc0f3d798a','QmPyzFr5osEAZJ7K4W1hYaA86utW6jZfkpvKqmgEGM13Rt','9217c6a3-2d45-411a-8a16-416bf90c842f.mp3','/file_storage/QmPyzFr5osEAZJ7K4W1hYaA86utW6jZfkpvKqmgEGM13Rt','copy320','2020-03-05 17:33:15.040 +00:00','2020-03-05 17:33:15.040 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_68392c9141d34882ac7cbf8bd17703c9$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (075b7723-36c8-4eca-9114-1187b04689c7): COMMIT;
{ fileUUID: '86ac959c-47fb-4af3-a1da-5ae189edac3e',
  cnodeUserUUID: '8aefd2ee-77ea-4c0c-9ee3-cb64d794e399',
  multihash: 'QmPyzFr5osEAZJ7K4W1hYaA86utW6jZfkpvKqmgEGM13Rt',
  sourceFile: '9217c6a3-2d45-411a-8a16-416bf90c842f.mp3',
  storagePath:
   '/file_storage/QmPyzFr5osEAZJ7K4W1hYaA86utW6jZfkpvKqmgEGM13Rt',
  type: 'copy320',
  trackUUID: '02fdf106-3cd9-47f6-851c-7adc0f3d798a',
  updatedAt: 2020-03-05T17:33:15.040Z,
  createdAt: 2020-03-05T17:33:15.040Z }
writing to db3...
Executing (9dd86bb7-3a54-4913-88a0-5d7336bd450f): START TRANSACTION;
Executing (9dd86bb7-3a54-4913-88a0-5d7336bd450f): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '8aefd2ee-77ea-4c0c-9ee3-cb64d794e399' AND "File"."multihash" = 'QmPyzFr5osEAZJ7K4W1hYaA86utW6jZfkpvKqmgEGM13Rt' AND "File"."sourceFile" = '9217c6a3-2d45-411a-8a16-416bf90c842f.mp3' AND "File"."storagePath" = '/file_storage/QmPyzFr5osEAZJ7K4W1hYaA86utW6jZfkpvKqmgEGM13Rt' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '02fdf106-3cd9-47f6-851c-7adc0f3d798a' LIMIT 1;
Executing (9dd86bb7-3a54-4913-88a0-5d7336bd450f): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_8115c017ada046328f60e30a73a1f30a$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('e761e4d3-df1c-42a9-9622-0d4dc5e8257d','8aefd2ee-77ea-4c0c-9ee3-cb64d794e399','02fdf106-3cd9-47f6-851c-7adc0f3d798a','QmPyzFr5osEAZJ7K4W1hYaA86utW6jZfkpvKqmgEGM13Rt','9217c6a3-2d45-411a-8a16-416bf90c842f.mp3','/file_storage/QmPyzFr5osEAZJ7K4W1hYaA86utW6jZfkpvKqmgEGM13Rt','copy320','2020-03-05 17:33:15.427 +00:00','2020-03-05 17:33:15.427 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_8115c017ada046328f60e30a73a1f30a$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (9dd86bb7-3a54-4913-88a0-5d7336bd450f): COMMIT;
{ fileUUID: 'e761e4d3-df1c-42a9-9622-0d4dc5e8257d',
  cnodeUserUUID: '8aefd2ee-77ea-4c0c-9ee3-cb64d794e399',
  multihash: 'QmPyzFr5osEAZJ7K4W1hYaA86utW6jZfkpvKqmgEGM13Rt',
  sourceFile: '9217c6a3-2d45-411a-8a16-416bf90c842f.mp3',
  storagePath:
   '/file_storage/QmPyzFr5osEAZJ7K4W1hYaA86utW6jZfkpvKqmgEGM13Rt',
  type: 'copy320',
  trackUUID: '02fdf106-3cd9-47f6-851c-7adc0f3d798a',
  updatedAt: 2020-03-05T17:33:15.427Z,
  createdAt: 2020-03-05T17:33:15.427Z }




PROCESSING ROW #78: sourcefile: 9f6006ea-7de4-4bcc-89bc-f47167ccade0.mp3, cnodeUserUUID: 50451710-1303-4f06-b927-051791ae9395, trackUUID: 6c0f2832-feca-463a-a50a-1a89176d51f7, multihash: QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM, dstPath: /file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM
writing to db1...
Executing (ab3ea38a-ba67-48f4-a176-1aeeabedb13e): START TRANSACTION;
Executing (ab3ea38a-ba67-48f4-a176-1aeeabedb13e): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '50451710-1303-4f06-b927-051791ae9395' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = '9f6006ea-7de4-4bcc-89bc-f47167ccade0.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '6c0f2832-feca-463a-a50a-1a89176d51f7' LIMIT 1;
Executing (ab3ea38a-ba67-48f4-a176-1aeeabedb13e): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_0ae572fadcb34d2c960227e631101fa1$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('69ebe940-4c56-433b-8792-2bb3d680e231','50451710-1303-4f06-b927-051791ae9395','6c0f2832-feca-463a-a50a-1a89176d51f7','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','9f6006ea-7de4-4bcc-89bc-f47167ccade0.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:33:15.821 +00:00','2020-03-05 17:33:15.821 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_0ae572fadcb34d2c960227e631101fa1$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (ab3ea38a-ba67-48f4-a176-1aeeabedb13e): COMMIT;
{ fileUUID: '69ebe940-4c56-433b-8792-2bb3d680e231',
  cnodeUserUUID: '50451710-1303-4f06-b927-051791ae9395',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: '9f6006ea-7de4-4bcc-89bc-f47167ccade0.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: '6c0f2832-feca-463a-a50a-1a89176d51f7',
  updatedAt: 2020-03-05T17:33:15.821Z,
  createdAt: 2020-03-05T17:33:15.821Z }
writing to db2...
Executing (193c69b0-e824-43dc-935f-0c88467a41f2): START TRANSACTION;
Executing (193c69b0-e824-43dc-935f-0c88467a41f2): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '50451710-1303-4f06-b927-051791ae9395' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = '9f6006ea-7de4-4bcc-89bc-f47167ccade0.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '6c0f2832-feca-463a-a50a-1a89176d51f7' LIMIT 1;
Executing (193c69b0-e824-43dc-935f-0c88467a41f2): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_7168bc5c67e446e3a96b6300b0ff6373$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('719b20f5-5f02-491a-a4e8-f02bbb1c60ac','50451710-1303-4f06-b927-051791ae9395','6c0f2832-feca-463a-a50a-1a89176d51f7','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','9f6006ea-7de4-4bcc-89bc-f47167ccade0.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:33:16.218 +00:00','2020-03-05 17:33:16.218 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_7168bc5c67e446e3a96b6300b0ff6373$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (193c69b0-e824-43dc-935f-0c88467a41f2): COMMIT;
{ fileUUID: '719b20f5-5f02-491a-a4e8-f02bbb1c60ac',
  cnodeUserUUID: '50451710-1303-4f06-b927-051791ae9395',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: '9f6006ea-7de4-4bcc-89bc-f47167ccade0.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: '6c0f2832-feca-463a-a50a-1a89176d51f7',
  updatedAt: 2020-03-05T17:33:16.218Z,
  createdAt: 2020-03-05T17:33:16.218Z }
writing to db3...
Executing (e5452142-4e62-4258-b757-5da28edfde64): START TRANSACTION;
Executing (e5452142-4e62-4258-b757-5da28edfde64): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '50451710-1303-4f06-b927-051791ae9395' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = '9f6006ea-7de4-4bcc-89bc-f47167ccade0.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '6c0f2832-feca-463a-a50a-1a89176d51f7' LIMIT 1;
Executing (e5452142-4e62-4258-b757-5da28edfde64): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_de8684943bec464bb24634a40f66f729$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('3eaf5daf-febd-4692-b417-f4cbf109275f','50451710-1303-4f06-b927-051791ae9395','6c0f2832-feca-463a-a50a-1a89176d51f7','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','9f6006ea-7de4-4bcc-89bc-f47167ccade0.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:33:16.603 +00:00','2020-03-05 17:33:16.603 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_de8684943bec464bb24634a40f66f729$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (e5452142-4e62-4258-b757-5da28edfde64): COMMIT;
{ fileUUID: '3eaf5daf-febd-4692-b417-f4cbf109275f',
  cnodeUserUUID: '50451710-1303-4f06-b927-051791ae9395',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: '9f6006ea-7de4-4bcc-89bc-f47167ccade0.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: '6c0f2832-feca-463a-a50a-1a89176d51f7',
  updatedAt: 2020-03-05T17:33:16.603Z,
  createdAt: 2020-03-05T17:33:16.603Z }




PROCESSING ROW #79: sourcefile: b4b48bf7-6b9d-4ca6-93ff-30e48eab7b86.mp3, cnodeUserUUID: 1350147d-276f-4221-8c54-a597192c1ed9, trackUUID: 1441024c-e074-4f7d-a4d1-33c318b4be1c, multihash: Qmes3BBrffxdeZXt2gpY6qujwMaxxee9oPRbyYZBvVZHir, dstPath: /file_storage/Qmes3BBrffxdeZXt2gpY6qujwMaxxee9oPRbyYZBvVZHir
writing to db1...
Executing (f42cbd97-8132-4e62-94a5-7626ec6c7306): START TRANSACTION;
Executing (f42cbd97-8132-4e62-94a5-7626ec6c7306): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '1350147d-276f-4221-8c54-a597192c1ed9' AND "File"."multihash" = 'Qmes3BBrffxdeZXt2gpY6qujwMaxxee9oPRbyYZBvVZHir' AND "File"."sourceFile" = 'b4b48bf7-6b9d-4ca6-93ff-30e48eab7b86.mp3' AND "File"."storagePath" = '/file_storage/Qmes3BBrffxdeZXt2gpY6qujwMaxxee9oPRbyYZBvVZHir' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '1441024c-e074-4f7d-a4d1-33c318b4be1c' LIMIT 1;
Executing (f42cbd97-8132-4e62-94a5-7626ec6c7306): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_a6ccd0ef0ef9414885e84a859b3f6be3$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('b5d5c1e1-8357-45a7-8b6a-85b8bccff030','1350147d-276f-4221-8c54-a597192c1ed9','1441024c-e074-4f7d-a4d1-33c318b4be1c','Qmes3BBrffxdeZXt2gpY6qujwMaxxee9oPRbyYZBvVZHir','b4b48bf7-6b9d-4ca6-93ff-30e48eab7b86.mp3','/file_storage/Qmes3BBrffxdeZXt2gpY6qujwMaxxee9oPRbyYZBvVZHir','copy320','2020-03-05 17:33:16.978 +00:00','2020-03-05 17:33:16.978 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_a6ccd0ef0ef9414885e84a859b3f6be3$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (f42cbd97-8132-4e62-94a5-7626ec6c7306): COMMIT;
{ fileUUID: 'b5d5c1e1-8357-45a7-8b6a-85b8bccff030',
  cnodeUserUUID: '1350147d-276f-4221-8c54-a597192c1ed9',
  multihash: 'Qmes3BBrffxdeZXt2gpY6qujwMaxxee9oPRbyYZBvVZHir',
  sourceFile: 'b4b48bf7-6b9d-4ca6-93ff-30e48eab7b86.mp3',
  storagePath:
   '/file_storage/Qmes3BBrffxdeZXt2gpY6qujwMaxxee9oPRbyYZBvVZHir',
  type: 'copy320',
  trackUUID: '1441024c-e074-4f7d-a4d1-33c318b4be1c',
  updatedAt: 2020-03-05T17:33:16.978Z,
  createdAt: 2020-03-05T17:33:16.978Z }
writing to db2...
Executing (9bddae12-a3b9-41be-a7c7-ae356a7a5771): START TRANSACTION;
Executing (9bddae12-a3b9-41be-a7c7-ae356a7a5771): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '1350147d-276f-4221-8c54-a597192c1ed9' AND "File"."multihash" = 'Qmes3BBrffxdeZXt2gpY6qujwMaxxee9oPRbyYZBvVZHir' AND "File"."sourceFile" = 'b4b48bf7-6b9d-4ca6-93ff-30e48eab7b86.mp3' AND "File"."storagePath" = '/file_storage/Qmes3BBrffxdeZXt2gpY6qujwMaxxee9oPRbyYZBvVZHir' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '1441024c-e074-4f7d-a4d1-33c318b4be1c' LIMIT 1;
Executing (9bddae12-a3b9-41be-a7c7-ae356a7a5771): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_fcb6a08ae77348fb9ed794f3f5e893fd$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('19068a74-c34f-4a44-81a4-1132842cba01','1350147d-276f-4221-8c54-a597192c1ed9','1441024c-e074-4f7d-a4d1-33c318b4be1c','Qmes3BBrffxdeZXt2gpY6qujwMaxxee9oPRbyYZBvVZHir','b4b48bf7-6b9d-4ca6-93ff-30e48eab7b86.mp3','/file_storage/Qmes3BBrffxdeZXt2gpY6qujwMaxxee9oPRbyYZBvVZHir','copy320','2020-03-05 17:33:17.344 +00:00','2020-03-05 17:33:17.344 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_fcb6a08ae77348fb9ed794f3f5e893fd$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (9bddae12-a3b9-41be-a7c7-ae356a7a5771): COMMIT;
{ fileUUID: '19068a74-c34f-4a44-81a4-1132842cba01',
  cnodeUserUUID: '1350147d-276f-4221-8c54-a597192c1ed9',
  multihash: 'Qmes3BBrffxdeZXt2gpY6qujwMaxxee9oPRbyYZBvVZHir',
  sourceFile: 'b4b48bf7-6b9d-4ca6-93ff-30e48eab7b86.mp3',
  storagePath:
   '/file_storage/Qmes3BBrffxdeZXt2gpY6qujwMaxxee9oPRbyYZBvVZHir',
  type: 'copy320',
  trackUUID: '1441024c-e074-4f7d-a4d1-33c318b4be1c',
  updatedAt: 2020-03-05T17:33:17.344Z,
  createdAt: 2020-03-05T17:33:17.344Z }
writing to db3...
Executing (ed5e9a85-1d90-4f3d-83ef-293ea2a3e996): START TRANSACTION;
Executing (ed5e9a85-1d90-4f3d-83ef-293ea2a3e996): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '1350147d-276f-4221-8c54-a597192c1ed9' AND "File"."multihash" = 'Qmes3BBrffxdeZXt2gpY6qujwMaxxee9oPRbyYZBvVZHir' AND "File"."sourceFile" = 'b4b48bf7-6b9d-4ca6-93ff-30e48eab7b86.mp3' AND "File"."storagePath" = '/file_storage/Qmes3BBrffxdeZXt2gpY6qujwMaxxee9oPRbyYZBvVZHir' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '1441024c-e074-4f7d-a4d1-33c318b4be1c' LIMIT 1;
Executing (ed5e9a85-1d90-4f3d-83ef-293ea2a3e996): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_74dd7e4f822e405b9714195362a64346$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('842b8d21-1f6a-41c0-a451-b7a663daffce','1350147d-276f-4221-8c54-a597192c1ed9','1441024c-e074-4f7d-a4d1-33c318b4be1c','Qmes3BBrffxdeZXt2gpY6qujwMaxxee9oPRbyYZBvVZHir','b4b48bf7-6b9d-4ca6-93ff-30e48eab7b86.mp3','/file_storage/Qmes3BBrffxdeZXt2gpY6qujwMaxxee9oPRbyYZBvVZHir','copy320','2020-03-05 17:33:17.740 +00:00','2020-03-05 17:33:17.740 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_74dd7e4f822e405b9714195362a64346$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (ed5e9a85-1d90-4f3d-83ef-293ea2a3e996): COMMIT;
{ fileUUID: '842b8d21-1f6a-41c0-a451-b7a663daffce',
  cnodeUserUUID: '1350147d-276f-4221-8c54-a597192c1ed9',
  multihash: 'Qmes3BBrffxdeZXt2gpY6qujwMaxxee9oPRbyYZBvVZHir',
  sourceFile: 'b4b48bf7-6b9d-4ca6-93ff-30e48eab7b86.mp3',
  storagePath:
   '/file_storage/Qmes3BBrffxdeZXt2gpY6qujwMaxxee9oPRbyYZBvVZHir',
  type: 'copy320',
  trackUUID: '1441024c-e074-4f7d-a4d1-33c318b4be1c',
  updatedAt: 2020-03-05T17:33:17.740Z,
  createdAt: 2020-03-05T17:33:17.740Z }




PROCESSING ROW #80: sourcefile: 36c817a2-11d3-4765-bea7-4348afc1c32b.mp3, cnodeUserUUID: c07d276f-6080-4fb0-94b4-c6759d48fd77, trackUUID: f1c98f0a-dd0a-4a9d-95f3-589a8e633976, multihash: QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM, dstPath: /file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM
writing to db1...
Executing (c225a1a0-420c-4b88-a479-bb9f43fcce32): START TRANSACTION;
Executing (c225a1a0-420c-4b88-a479-bb9f43fcce32): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = 'c07d276f-6080-4fb0-94b4-c6759d48fd77' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = '36c817a2-11d3-4765-bea7-4348afc1c32b.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = 'f1c98f0a-dd0a-4a9d-95f3-589a8e633976' LIMIT 1;
Executing (c225a1a0-420c-4b88-a479-bb9f43fcce32): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_4c6d3d94ae4044cba652f4dd016dbc9f$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('700effd8-e0c2-4024-a6f3-e2d8ffdfce23','c07d276f-6080-4fb0-94b4-c6759d48fd77','f1c98f0a-dd0a-4a9d-95f3-589a8e633976','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','36c817a2-11d3-4765-bea7-4348afc1c32b.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:33:18.133 +00:00','2020-03-05 17:33:18.133 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_4c6d3d94ae4044cba652f4dd016dbc9f$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (c225a1a0-420c-4b88-a479-bb9f43fcce32): COMMIT;
{ fileUUID: '700effd8-e0c2-4024-a6f3-e2d8ffdfce23',
  cnodeUserUUID: 'c07d276f-6080-4fb0-94b4-c6759d48fd77',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: '36c817a2-11d3-4765-bea7-4348afc1c32b.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: 'f1c98f0a-dd0a-4a9d-95f3-589a8e633976',
  updatedAt: 2020-03-05T17:33:18.133Z,
  createdAt: 2020-03-05T17:33:18.133Z }
writing to db2...
Executing (4a2861d1-dcf6-486d-813b-d9353506b9bd): START TRANSACTION;
Executing (4a2861d1-dcf6-486d-813b-d9353506b9bd): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = 'c07d276f-6080-4fb0-94b4-c6759d48fd77' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = '36c817a2-11d3-4765-bea7-4348afc1c32b.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = 'f1c98f0a-dd0a-4a9d-95f3-589a8e633976' LIMIT 1;
Executing (4a2861d1-dcf6-486d-813b-d9353506b9bd): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_0193c499140a4c5f95789a187381ed3c$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('c3dbb4a7-f88c-4cb6-a9cf-ba46f07c3b20','c07d276f-6080-4fb0-94b4-c6759d48fd77','f1c98f0a-dd0a-4a9d-95f3-589a8e633976','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','36c817a2-11d3-4765-bea7-4348afc1c32b.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:33:18.526 +00:00','2020-03-05 17:33:18.526 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_0193c499140a4c5f95789a187381ed3c$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (4a2861d1-dcf6-486d-813b-d9353506b9bd): COMMIT;
{ fileUUID: 'c3dbb4a7-f88c-4cb6-a9cf-ba46f07c3b20',
  cnodeUserUUID: 'c07d276f-6080-4fb0-94b4-c6759d48fd77',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: '36c817a2-11d3-4765-bea7-4348afc1c32b.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: 'f1c98f0a-dd0a-4a9d-95f3-589a8e633976',
  updatedAt: 2020-03-05T17:33:18.526Z,
  createdAt: 2020-03-05T17:33:18.526Z }
writing to db3...
Executing (066eca20-079a-4547-8035-089655e443e0): START TRANSACTION;
Executing (066eca20-079a-4547-8035-089655e443e0): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = 'c07d276f-6080-4fb0-94b4-c6759d48fd77' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = '36c817a2-11d3-4765-bea7-4348afc1c32b.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = 'f1c98f0a-dd0a-4a9d-95f3-589a8e633976' LIMIT 1;
Executing (066eca20-079a-4547-8035-089655e443e0): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_9cd09e4f142b4482b9c904ac53e222c0$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('6b12777b-897b-48df-946e-ec40c4715248','c07d276f-6080-4fb0-94b4-c6759d48fd77','f1c98f0a-dd0a-4a9d-95f3-589a8e633976','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','36c817a2-11d3-4765-bea7-4348afc1c32b.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:33:18.915 +00:00','2020-03-05 17:33:18.915 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_9cd09e4f142b4482b9c904ac53e222c0$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (066eca20-079a-4547-8035-089655e443e0): COMMIT;
{ fileUUID: '6b12777b-897b-48df-946e-ec40c4715248',
  cnodeUserUUID: 'c07d276f-6080-4fb0-94b4-c6759d48fd77',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: '36c817a2-11d3-4765-bea7-4348afc1c32b.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: 'f1c98f0a-dd0a-4a9d-95f3-589a8e633976',
  updatedAt: 2020-03-05T17:33:18.915Z,
  createdAt: 2020-03-05T17:33:18.915Z }




PROCESSING ROW #81: sourcefile: 8e9eba04-e441-4f5c-8def-ebbd0e95197a.mp3, cnodeUserUUID: d4379ff0-ca4d-4c64-8810-8e076e337c2c, trackUUID: d6c69dcc-f3fc-466f-8d6a-0510d884f905, multihash: QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM, dstPath: /file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM
writing to db1...
Executing (2ffc2755-790a-498e-87eb-67b0725ecc16): START TRANSACTION;
Executing (2ffc2755-790a-498e-87eb-67b0725ecc16): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = 'd4379ff0-ca4d-4c64-8810-8e076e337c2c' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = '8e9eba04-e441-4f5c-8def-ebbd0e95197a.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = 'd6c69dcc-f3fc-466f-8d6a-0510d884f905' LIMIT 1;
Executing (2ffc2755-790a-498e-87eb-67b0725ecc16): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_2e2585c0ff9d40989853499e41c5f067$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('b855c8b8-1150-4453-b2f6-ea0a46d9e0de','d4379ff0-ca4d-4c64-8810-8e076e337c2c','d6c69dcc-f3fc-466f-8d6a-0510d884f905','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','8e9eba04-e441-4f5c-8def-ebbd0e95197a.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:33:19.292 +00:00','2020-03-05 17:33:19.292 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_2e2585c0ff9d40989853499e41c5f067$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (2ffc2755-790a-498e-87eb-67b0725ecc16): COMMIT;
{ fileUUID: 'b855c8b8-1150-4453-b2f6-ea0a46d9e0de',
  cnodeUserUUID: 'd4379ff0-ca4d-4c64-8810-8e076e337c2c',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: '8e9eba04-e441-4f5c-8def-ebbd0e95197a.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: 'd6c69dcc-f3fc-466f-8d6a-0510d884f905',
  updatedAt: 2020-03-05T17:33:19.292Z,
  createdAt: 2020-03-05T17:33:19.292Z }
writing to db2...
Executing (51d69bc0-e45b-4cb2-b0ad-1628f397a793): START TRANSACTION;
Executing (51d69bc0-e45b-4cb2-b0ad-1628f397a793): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = 'd4379ff0-ca4d-4c64-8810-8e076e337c2c' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = '8e9eba04-e441-4f5c-8def-ebbd0e95197a.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = 'd6c69dcc-f3fc-466f-8d6a-0510d884f905' LIMIT 1;
Executing (51d69bc0-e45b-4cb2-b0ad-1628f397a793): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_60d185ce1cc84f8fa1da6fda23a3afff$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('4f350f36-fbb2-4365-9f41-8ca23552e60d','d4379ff0-ca4d-4c64-8810-8e076e337c2c','d6c69dcc-f3fc-466f-8d6a-0510d884f905','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','8e9eba04-e441-4f5c-8def-ebbd0e95197a.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:33:19.680 +00:00','2020-03-05 17:33:19.680 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_60d185ce1cc84f8fa1da6fda23a3afff$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (51d69bc0-e45b-4cb2-b0ad-1628f397a793): COMMIT;
{ fileUUID: '4f350f36-fbb2-4365-9f41-8ca23552e60d',
  cnodeUserUUID: 'd4379ff0-ca4d-4c64-8810-8e076e337c2c',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: '8e9eba04-e441-4f5c-8def-ebbd0e95197a.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: 'd6c69dcc-f3fc-466f-8d6a-0510d884f905',
  updatedAt: 2020-03-05T17:33:19.680Z,
  createdAt: 2020-03-05T17:33:19.680Z }
writing to db3...
Executing (1db39b52-0ac6-481d-8e6a-fe3d70219396): START TRANSACTION;
Executing (1db39b52-0ac6-481d-8e6a-fe3d70219396): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = 'd4379ff0-ca4d-4c64-8810-8e076e337c2c' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = '8e9eba04-e441-4f5c-8def-ebbd0e95197a.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = 'd6c69dcc-f3fc-466f-8d6a-0510d884f905' LIMIT 1;
Executing (1db39b52-0ac6-481d-8e6a-fe3d70219396): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_52d16c0fecb7489db622ff7226f3589f$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('9cde0f31-a55d-467f-be9f-aefd887afb22','d4379ff0-ca4d-4c64-8810-8e076e337c2c','d6c69dcc-f3fc-466f-8d6a-0510d884f905','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','8e9eba04-e441-4f5c-8def-ebbd0e95197a.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:33:20.062 +00:00','2020-03-05 17:33:20.062 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_52d16c0fecb7489db622ff7226f3589f$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (1db39b52-0ac6-481d-8e6a-fe3d70219396): COMMIT;
{ fileUUID: '9cde0f31-a55d-467f-be9f-aefd887afb22',
  cnodeUserUUID: 'd4379ff0-ca4d-4c64-8810-8e076e337c2c',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: '8e9eba04-e441-4f5c-8def-ebbd0e95197a.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: 'd6c69dcc-f3fc-466f-8d6a-0510d884f905',
  updatedAt: 2020-03-05T17:33:20.062Z,
  createdAt: 2020-03-05T17:33:20.062Z }




PROCESSING ROW #82: sourcefile: e1cd9f47-3b15-4afc-a5d4-f41e978205e4.mp3, cnodeUserUUID: 1350147d-276f-4221-8c54-a597192c1ed9, trackUUID: fdaa191e-7cd9-4faf-bcf0-cc12c14a3f70, multihash: QmTCLZNLp2ZCVGa48ZQG38DCpnNFxfZvuxYvpDqBtcoxui, dstPath: /file_storage/QmTCLZNLp2ZCVGa48ZQG38DCpnNFxfZvuxYvpDqBtcoxui
writing to db1...
Executing (a50f5cb6-c09f-44aa-be58-db0731a96729): START TRANSACTION;
Executing (a50f5cb6-c09f-44aa-be58-db0731a96729): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '1350147d-276f-4221-8c54-a597192c1ed9' AND "File"."multihash" = 'QmTCLZNLp2ZCVGa48ZQG38DCpnNFxfZvuxYvpDqBtcoxui' AND "File"."sourceFile" = 'e1cd9f47-3b15-4afc-a5d4-f41e978205e4.mp3' AND "File"."storagePath" = '/file_storage/QmTCLZNLp2ZCVGa48ZQG38DCpnNFxfZvuxYvpDqBtcoxui' AND "File"."type" = 'copy320' AND "File"."trackUUID" = 'fdaa191e-7cd9-4faf-bcf0-cc12c14a3f70' LIMIT 1;
Executing (a50f5cb6-c09f-44aa-be58-db0731a96729): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_aee66bd8cfc24654a761f1ea0e1da12b$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('95a06e20-2203-4211-a3f7-2a13ffacdb83','1350147d-276f-4221-8c54-a597192c1ed9','fdaa191e-7cd9-4faf-bcf0-cc12c14a3f70','QmTCLZNLp2ZCVGa48ZQG38DCpnNFxfZvuxYvpDqBtcoxui','e1cd9f47-3b15-4afc-a5d4-f41e978205e4.mp3','/file_storage/QmTCLZNLp2ZCVGa48ZQG38DCpnNFxfZvuxYvpDqBtcoxui','copy320','2020-03-05 17:33:20.453 +00:00','2020-03-05 17:33:20.453 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_aee66bd8cfc24654a761f1ea0e1da12b$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (a50f5cb6-c09f-44aa-be58-db0731a96729): COMMIT;
{ fileUUID: '95a06e20-2203-4211-a3f7-2a13ffacdb83',
  cnodeUserUUID: '1350147d-276f-4221-8c54-a597192c1ed9',
  multihash: 'QmTCLZNLp2ZCVGa48ZQG38DCpnNFxfZvuxYvpDqBtcoxui',
  sourceFile: 'e1cd9f47-3b15-4afc-a5d4-f41e978205e4.mp3',
  storagePath:
   '/file_storage/QmTCLZNLp2ZCVGa48ZQG38DCpnNFxfZvuxYvpDqBtcoxui',
  type: 'copy320',
  trackUUID: 'fdaa191e-7cd9-4faf-bcf0-cc12c14a3f70',
  updatedAt: 2020-03-05T17:33:20.453Z,
  createdAt: 2020-03-05T17:33:20.453Z }
writing to db2...
Executing (d9b63fe7-5d2d-4366-bbad-8700e8f3939f): START TRANSACTION;
Executing (d9b63fe7-5d2d-4366-bbad-8700e8f3939f): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '1350147d-276f-4221-8c54-a597192c1ed9' AND "File"."multihash" = 'QmTCLZNLp2ZCVGa48ZQG38DCpnNFxfZvuxYvpDqBtcoxui' AND "File"."sourceFile" = 'e1cd9f47-3b15-4afc-a5d4-f41e978205e4.mp3' AND "File"."storagePath" = '/file_storage/QmTCLZNLp2ZCVGa48ZQG38DCpnNFxfZvuxYvpDqBtcoxui' AND "File"."type" = 'copy320' AND "File"."trackUUID" = 'fdaa191e-7cd9-4faf-bcf0-cc12c14a3f70' LIMIT 1;
Executing (d9b63fe7-5d2d-4366-bbad-8700e8f3939f): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_81ec6bec850d44898b3df3dff2ee2241$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('5e208614-54ac-42a0-abca-02af3696eec4','1350147d-276f-4221-8c54-a597192c1ed9','fdaa191e-7cd9-4faf-bcf0-cc12c14a3f70','QmTCLZNLp2ZCVGa48ZQG38DCpnNFxfZvuxYvpDqBtcoxui','e1cd9f47-3b15-4afc-a5d4-f41e978205e4.mp3','/file_storage/QmTCLZNLp2ZCVGa48ZQG38DCpnNFxfZvuxYvpDqBtcoxui','copy320','2020-03-05 17:33:20.835 +00:00','2020-03-05 17:33:20.835 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_81ec6bec850d44898b3df3dff2ee2241$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (d9b63fe7-5d2d-4366-bbad-8700e8f3939f): COMMIT;
{ fileUUID: '5e208614-54ac-42a0-abca-02af3696eec4',
  cnodeUserUUID: '1350147d-276f-4221-8c54-a597192c1ed9',
  multihash: 'QmTCLZNLp2ZCVGa48ZQG38DCpnNFxfZvuxYvpDqBtcoxui',
  sourceFile: 'e1cd9f47-3b15-4afc-a5d4-f41e978205e4.mp3',
  storagePath:
   '/file_storage/QmTCLZNLp2ZCVGa48ZQG38DCpnNFxfZvuxYvpDqBtcoxui',
  type: 'copy320',
  trackUUID: 'fdaa191e-7cd9-4faf-bcf0-cc12c14a3f70',
  updatedAt: 2020-03-05T17:33:20.835Z,
  createdAt: 2020-03-05T17:33:20.835Z }
writing to db3...
Executing (19ab9df8-66cb-4ff6-88fc-7148671eb0ac): START TRANSACTION;
Executing (19ab9df8-66cb-4ff6-88fc-7148671eb0ac): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '1350147d-276f-4221-8c54-a597192c1ed9' AND "File"."multihash" = 'QmTCLZNLp2ZCVGa48ZQG38DCpnNFxfZvuxYvpDqBtcoxui' AND "File"."sourceFile" = 'e1cd9f47-3b15-4afc-a5d4-f41e978205e4.mp3' AND "File"."storagePath" = '/file_storage/QmTCLZNLp2ZCVGa48ZQG38DCpnNFxfZvuxYvpDqBtcoxui' AND "File"."type" = 'copy320' AND "File"."trackUUID" = 'fdaa191e-7cd9-4faf-bcf0-cc12c14a3f70' LIMIT 1;
Executing (19ab9df8-66cb-4ff6-88fc-7148671eb0ac): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_fa205b51d63f40349215d43561889377$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('eda4f528-6fd1-4cbd-a2be-3a3602c2e949','1350147d-276f-4221-8c54-a597192c1ed9','fdaa191e-7cd9-4faf-bcf0-cc12c14a3f70','QmTCLZNLp2ZCVGa48ZQG38DCpnNFxfZvuxYvpDqBtcoxui','e1cd9f47-3b15-4afc-a5d4-f41e978205e4.mp3','/file_storage/QmTCLZNLp2ZCVGa48ZQG38DCpnNFxfZvuxYvpDqBtcoxui','copy320','2020-03-05 17:33:21.238 +00:00','2020-03-05 17:33:21.238 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_fa205b51d63f40349215d43561889377$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (19ab9df8-66cb-4ff6-88fc-7148671eb0ac): COMMIT;
{ fileUUID: 'eda4f528-6fd1-4cbd-a2be-3a3602c2e949',
  cnodeUserUUID: '1350147d-276f-4221-8c54-a597192c1ed9',
  multihash: 'QmTCLZNLp2ZCVGa48ZQG38DCpnNFxfZvuxYvpDqBtcoxui',
  sourceFile: 'e1cd9f47-3b15-4afc-a5d4-f41e978205e4.mp3',
  storagePath:
   '/file_storage/QmTCLZNLp2ZCVGa48ZQG38DCpnNFxfZvuxYvpDqBtcoxui',
  type: 'copy320',
  trackUUID: 'fdaa191e-7cd9-4faf-bcf0-cc12c14a3f70',
  updatedAt: 2020-03-05T17:33:21.238Z,
  createdAt: 2020-03-05T17:33:21.238Z }




PROCESSING ROW #83: sourcefile: 8c0daae9-ebb0-4369-8f7c-2cfcbb012328.mp3, cnodeUserUUID: 25eac378-106e-418f-9be0-6c2802cd3e80, trackUUID: 1fac5d3f-8f4b-407d-8eb8-eb479141195c, multihash: QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM, dstPath: /file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM
writing to db1...
Executing (985379d3-b1d9-4bb9-94e8-a1bf15eb60bf): START TRANSACTION;
Executing (985379d3-b1d9-4bb9-94e8-a1bf15eb60bf): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '25eac378-106e-418f-9be0-6c2802cd3e80' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = '8c0daae9-ebb0-4369-8f7c-2cfcbb012328.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '1fac5d3f-8f4b-407d-8eb8-eb479141195c' LIMIT 1;
Executing (985379d3-b1d9-4bb9-94e8-a1bf15eb60bf): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_19613663438b4871b3130e077124d8aa$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('b76a7df0-db3a-489d-a567-2ec7ada98e54','25eac378-106e-418f-9be0-6c2802cd3e80','1fac5d3f-8f4b-407d-8eb8-eb479141195c','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','8c0daae9-ebb0-4369-8f7c-2cfcbb012328.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:33:21.647 +00:00','2020-03-05 17:33:21.647 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_19613663438b4871b3130e077124d8aa$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (985379d3-b1d9-4bb9-94e8-a1bf15eb60bf): COMMIT;
{ fileUUID: 'b76a7df0-db3a-489d-a567-2ec7ada98e54',
  cnodeUserUUID: '25eac378-106e-418f-9be0-6c2802cd3e80',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: '8c0daae9-ebb0-4369-8f7c-2cfcbb012328.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: '1fac5d3f-8f4b-407d-8eb8-eb479141195c',
  updatedAt: 2020-03-05T17:33:21.647Z,
  createdAt: 2020-03-05T17:33:21.647Z }
writing to db2...
Executing (7e026975-32bd-4141-be4f-6c97ccb0bbc2): START TRANSACTION;
Executing (7e026975-32bd-4141-be4f-6c97ccb0bbc2): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '25eac378-106e-418f-9be0-6c2802cd3e80' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = '8c0daae9-ebb0-4369-8f7c-2cfcbb012328.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '1fac5d3f-8f4b-407d-8eb8-eb479141195c' LIMIT 1;
Executing (7e026975-32bd-4141-be4f-6c97ccb0bbc2): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_0e59c6fa66e94da4858a5889aac91b7e$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('1423f29f-5b54-4929-a59d-4f112b940820','25eac378-106e-418f-9be0-6c2802cd3e80','1fac5d3f-8f4b-407d-8eb8-eb479141195c','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','8c0daae9-ebb0-4369-8f7c-2cfcbb012328.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:33:22.041 +00:00','2020-03-05 17:33:22.041 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_0e59c6fa66e94da4858a5889aac91b7e$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (7e026975-32bd-4141-be4f-6c97ccb0bbc2): COMMIT;
{ fileUUID: '1423f29f-5b54-4929-a59d-4f112b940820',
  cnodeUserUUID: '25eac378-106e-418f-9be0-6c2802cd3e80',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: '8c0daae9-ebb0-4369-8f7c-2cfcbb012328.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: '1fac5d3f-8f4b-407d-8eb8-eb479141195c',
  updatedAt: 2020-03-05T17:33:22.041Z,
  createdAt: 2020-03-05T17:33:22.041Z }
writing to db3...
Executing (b92e4cbd-bdaa-4077-8266-8cba05986501): START TRANSACTION;
Executing (b92e4cbd-bdaa-4077-8266-8cba05986501): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '25eac378-106e-418f-9be0-6c2802cd3e80' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = '8c0daae9-ebb0-4369-8f7c-2cfcbb012328.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '1fac5d3f-8f4b-407d-8eb8-eb479141195c' LIMIT 1;
Executing (b92e4cbd-bdaa-4077-8266-8cba05986501): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_9514091f3c564efaaeca0290ab934816$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('a933a1d0-3931-4bec-87fc-f9b22c9fef95','25eac378-106e-418f-9be0-6c2802cd3e80','1fac5d3f-8f4b-407d-8eb8-eb479141195c','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','8c0daae9-ebb0-4369-8f7c-2cfcbb012328.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:33:22.432 +00:00','2020-03-05 17:33:22.432 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_9514091f3c564efaaeca0290ab934816$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (b92e4cbd-bdaa-4077-8266-8cba05986501): COMMIT;
{ fileUUID: 'a933a1d0-3931-4bec-87fc-f9b22c9fef95',
  cnodeUserUUID: '25eac378-106e-418f-9be0-6c2802cd3e80',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: '8c0daae9-ebb0-4369-8f7c-2cfcbb012328.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: '1fac5d3f-8f4b-407d-8eb8-eb479141195c',
  updatedAt: 2020-03-05T17:33:22.432Z,
  createdAt: 2020-03-05T17:33:22.432Z }




PROCESSING ROW #84: sourcefile: 71caa359-f8ed-4f33-a4fa-48b1d5574466.mp3, cnodeUserUUID: d366127b-4df6-48e9-8af0-992b88c3bd87, trackUUID: 52441ddf-6f7d-4231-9fcf-76ee22fbfe16, multihash: QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM, dstPath: /file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM
writing to db1...
Executing (38cf8f2e-eacb-4a8b-ba15-61a2ad7309be): START TRANSACTION;
Executing (38cf8f2e-eacb-4a8b-ba15-61a2ad7309be): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = 'd366127b-4df6-48e9-8af0-992b88c3bd87' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = '71caa359-f8ed-4f33-a4fa-48b1d5574466.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '52441ddf-6f7d-4231-9fcf-76ee22fbfe16' LIMIT 1;
Executing (38cf8f2e-eacb-4a8b-ba15-61a2ad7309be): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_4fc0ada7018344f092c16b3ee96f57da$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('831c4fb6-c498-4bc1-83e9-842c6feaf299','d366127b-4df6-48e9-8af0-992b88c3bd87','52441ddf-6f7d-4231-9fcf-76ee22fbfe16','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','71caa359-f8ed-4f33-a4fa-48b1d5574466.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:33:22.828 +00:00','2020-03-05 17:33:22.828 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_4fc0ada7018344f092c16b3ee96f57da$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (38cf8f2e-eacb-4a8b-ba15-61a2ad7309be): COMMIT;
{ fileUUID: '831c4fb6-c498-4bc1-83e9-842c6feaf299',
  cnodeUserUUID: 'd366127b-4df6-48e9-8af0-992b88c3bd87',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: '71caa359-f8ed-4f33-a4fa-48b1d5574466.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: '52441ddf-6f7d-4231-9fcf-76ee22fbfe16',
  updatedAt: 2020-03-05T17:33:22.828Z,
  createdAt: 2020-03-05T17:33:22.828Z }
writing to db2...
Executing (bf4e796c-d80f-4f63-86b3-49815609cb57): START TRANSACTION;
Executing (bf4e796c-d80f-4f63-86b3-49815609cb57): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = 'd366127b-4df6-48e9-8af0-992b88c3bd87' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = '71caa359-f8ed-4f33-a4fa-48b1d5574466.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '52441ddf-6f7d-4231-9fcf-76ee22fbfe16' LIMIT 1;
Executing (bf4e796c-d80f-4f63-86b3-49815609cb57): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_22b0a9a841614f589be7bdddf0b2d9e3$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('469357a2-f7e0-4897-a388-b39bf765cb9d','d366127b-4df6-48e9-8af0-992b88c3bd87','52441ddf-6f7d-4231-9fcf-76ee22fbfe16','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','71caa359-f8ed-4f33-a4fa-48b1d5574466.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:33:23.218 +00:00','2020-03-05 17:33:23.218 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_22b0a9a841614f589be7bdddf0b2d9e3$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (bf4e796c-d80f-4f63-86b3-49815609cb57): COMMIT;
{ fileUUID: '469357a2-f7e0-4897-a388-b39bf765cb9d',
  cnodeUserUUID: 'd366127b-4df6-48e9-8af0-992b88c3bd87',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: '71caa359-f8ed-4f33-a4fa-48b1d5574466.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: '52441ddf-6f7d-4231-9fcf-76ee22fbfe16',
  updatedAt: 2020-03-05T17:33:23.218Z,
  createdAt: 2020-03-05T17:33:23.218Z }
writing to db3...
Executing (eeb5a355-b6bc-494b-8afa-e6f64d3f25c0): START TRANSACTION;
Executing (eeb5a355-b6bc-494b-8afa-e6f64d3f25c0): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = 'd366127b-4df6-48e9-8af0-992b88c3bd87' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = '71caa359-f8ed-4f33-a4fa-48b1d5574466.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '52441ddf-6f7d-4231-9fcf-76ee22fbfe16' LIMIT 1;
Executing (eeb5a355-b6bc-494b-8afa-e6f64d3f25c0): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_097130cbf5cd4cc493127dc2b7397943$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('53948aca-f083-4e8c-bc00-8b9f0c981510','d366127b-4df6-48e9-8af0-992b88c3bd87','52441ddf-6f7d-4231-9fcf-76ee22fbfe16','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','71caa359-f8ed-4f33-a4fa-48b1d5574466.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:33:23.614 +00:00','2020-03-05 17:33:23.614 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_097130cbf5cd4cc493127dc2b7397943$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (eeb5a355-b6bc-494b-8afa-e6f64d3f25c0): COMMIT;
{ fileUUID: '53948aca-f083-4e8c-bc00-8b9f0c981510',
  cnodeUserUUID: 'd366127b-4df6-48e9-8af0-992b88c3bd87',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: '71caa359-f8ed-4f33-a4fa-48b1d5574466.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: '52441ddf-6f7d-4231-9fcf-76ee22fbfe16',
  updatedAt: 2020-03-05T17:33:23.614Z,
  createdAt: 2020-03-05T17:33:23.614Z }




PROCESSING ROW #85: sourcefile: 1852af0b-f69e-49d3-9924-3baf1b4b0894.mp3, cnodeUserUUID: 2b7b81e9-2b19-4678-9df8-2ba435adb3ef, trackUUID: d2c0a5f4-10e0-4afd-9f0c-8df8a5160e0f, multihash: QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM, dstPath: /file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM
writing to db1...
Executing (2137fbff-0158-408e-be45-d2cc5ac623da): START TRANSACTION;
Executing (2137fbff-0158-408e-be45-d2cc5ac623da): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '2b7b81e9-2b19-4678-9df8-2ba435adb3ef' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = '1852af0b-f69e-49d3-9924-3baf1b4b0894.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = 'd2c0a5f4-10e0-4afd-9f0c-8df8a5160e0f' LIMIT 1;
Executing (2137fbff-0158-408e-be45-d2cc5ac623da): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_18c39ea1eb634f94ab3a955932621f5c$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('4cf6fc7d-c231-4d78-8c22-9a68ff62d1bb','2b7b81e9-2b19-4678-9df8-2ba435adb3ef','d2c0a5f4-10e0-4afd-9f0c-8df8a5160e0f','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','1852af0b-f69e-49d3-9924-3baf1b4b0894.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:33:24.023 +00:00','2020-03-05 17:33:24.023 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_18c39ea1eb634f94ab3a955932621f5c$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (2137fbff-0158-408e-be45-d2cc5ac623da): COMMIT;
{ fileUUID: '4cf6fc7d-c231-4d78-8c22-9a68ff62d1bb',
  cnodeUserUUID: '2b7b81e9-2b19-4678-9df8-2ba435adb3ef',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: '1852af0b-f69e-49d3-9924-3baf1b4b0894.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: 'd2c0a5f4-10e0-4afd-9f0c-8df8a5160e0f',
  updatedAt: 2020-03-05T17:33:24.023Z,
  createdAt: 2020-03-05T17:33:24.023Z }
writing to db2...
Executing (39fa2aac-91e1-4527-877e-014fea4fa6cd): START TRANSACTION;
Executing (39fa2aac-91e1-4527-877e-014fea4fa6cd): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '2b7b81e9-2b19-4678-9df8-2ba435adb3ef' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = '1852af0b-f69e-49d3-9924-3baf1b4b0894.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = 'd2c0a5f4-10e0-4afd-9f0c-8df8a5160e0f' LIMIT 1;
Executing (39fa2aac-91e1-4527-877e-014fea4fa6cd): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_b17275dcb6c64355beafbef08016bdf7$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('d1fb827b-cf6a-41f0-bac3-2058334cc5c3','2b7b81e9-2b19-4678-9df8-2ba435adb3ef','d2c0a5f4-10e0-4afd-9f0c-8df8a5160e0f','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','1852af0b-f69e-49d3-9924-3baf1b4b0894.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:33:24.405 +00:00','2020-03-05 17:33:24.405 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_b17275dcb6c64355beafbef08016bdf7$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (39fa2aac-91e1-4527-877e-014fea4fa6cd): COMMIT;
{ fileUUID: 'd1fb827b-cf6a-41f0-bac3-2058334cc5c3',
  cnodeUserUUID: '2b7b81e9-2b19-4678-9df8-2ba435adb3ef',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: '1852af0b-f69e-49d3-9924-3baf1b4b0894.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: 'd2c0a5f4-10e0-4afd-9f0c-8df8a5160e0f',
  updatedAt: 2020-03-05T17:33:24.405Z,
  createdAt: 2020-03-05T17:33:24.405Z }
writing to db3...
Executing (43aaaaee-b1e6-460f-87c2-c5c447dcafd7): START TRANSACTION;
Executing (43aaaaee-b1e6-460f-87c2-c5c447dcafd7): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '2b7b81e9-2b19-4678-9df8-2ba435adb3ef' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = '1852af0b-f69e-49d3-9924-3baf1b4b0894.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = 'd2c0a5f4-10e0-4afd-9f0c-8df8a5160e0f' LIMIT 1;
Executing (43aaaaee-b1e6-460f-87c2-c5c447dcafd7): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_f3ecb79815c840f896a4699b97d81313$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('8a91b19b-459f-481b-bf24-c3f9e086b49d','2b7b81e9-2b19-4678-9df8-2ba435adb3ef','d2c0a5f4-10e0-4afd-9f0c-8df8a5160e0f','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','1852af0b-f69e-49d3-9924-3baf1b4b0894.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:33:24.811 +00:00','2020-03-05 17:33:24.811 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_f3ecb79815c840f896a4699b97d81313$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (43aaaaee-b1e6-460f-87c2-c5c447dcafd7): COMMIT;
{ fileUUID: '8a91b19b-459f-481b-bf24-c3f9e086b49d',
  cnodeUserUUID: '2b7b81e9-2b19-4678-9df8-2ba435adb3ef',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: '1852af0b-f69e-49d3-9924-3baf1b4b0894.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: 'd2c0a5f4-10e0-4afd-9f0c-8df8a5160e0f',
  updatedAt: 2020-03-05T17:33:24.811Z,
  createdAt: 2020-03-05T17:33:24.811Z }




PROCESSING ROW #86: sourcefile: cac5f024-fbdb-4308-be22-69e62f52a6c0.mp3, cnodeUserUUID: 07f70e7c-b2ae-4d67-bfb3-6e33620531f3, trackUUID: 6adf0fbd-7371-409f-8b15-0ac231aa9e22, multihash: QmbzBto5YLWyNJjNjbBsGVxT7zqt2jkU3PRwbLWQm3UvTx, dstPath: /file_storage/QmbzBto5YLWyNJjNjbBsGVxT7zqt2jkU3PRwbLWQm3UvTx
writing to db1...
Executing (a163facd-f726-4bf1-9db2-3c161713b310): START TRANSACTION;
Executing (a163facd-f726-4bf1-9db2-3c161713b310): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '07f70e7c-b2ae-4d67-bfb3-6e33620531f3' AND "File"."multihash" = 'QmbzBto5YLWyNJjNjbBsGVxT7zqt2jkU3PRwbLWQm3UvTx' AND "File"."sourceFile" = 'cac5f024-fbdb-4308-be22-69e62f52a6c0.mp3' AND "File"."storagePath" = '/file_storage/QmbzBto5YLWyNJjNjbBsGVxT7zqt2jkU3PRwbLWQm3UvTx' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '6adf0fbd-7371-409f-8b15-0ac231aa9e22' LIMIT 1;
Executing (a163facd-f726-4bf1-9db2-3c161713b310): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_6eda1d9f83c44ca1860f6f1ded9bc84c$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('fb47b44e-5848-41ce-ab74-0930bef70c71','07f70e7c-b2ae-4d67-bfb3-6e33620531f3','6adf0fbd-7371-409f-8b15-0ac231aa9e22','QmbzBto5YLWyNJjNjbBsGVxT7zqt2jkU3PRwbLWQm3UvTx','cac5f024-fbdb-4308-be22-69e62f52a6c0.mp3','/file_storage/QmbzBto5YLWyNJjNjbBsGVxT7zqt2jkU3PRwbLWQm3UvTx','copy320','2020-03-05 17:33:25.232 +00:00','2020-03-05 17:33:25.232 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_6eda1d9f83c44ca1860f6f1ded9bc84c$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (a163facd-f726-4bf1-9db2-3c161713b310): COMMIT;
{ fileUUID: 'fb47b44e-5848-41ce-ab74-0930bef70c71',
  cnodeUserUUID: '07f70e7c-b2ae-4d67-bfb3-6e33620531f3',
  multihash: 'QmbzBto5YLWyNJjNjbBsGVxT7zqt2jkU3PRwbLWQm3UvTx',
  sourceFile: 'cac5f024-fbdb-4308-be22-69e62f52a6c0.mp3',
  storagePath:
   '/file_storage/QmbzBto5YLWyNJjNjbBsGVxT7zqt2jkU3PRwbLWQm3UvTx',
  type: 'copy320',
  trackUUID: '6adf0fbd-7371-409f-8b15-0ac231aa9e22',
  updatedAt: 2020-03-05T17:33:25.232Z,
  createdAt: 2020-03-05T17:33:25.232Z }
writing to db2...
Executing (c8ae16b4-92f7-4958-a70e-62e7aed826a5): START TRANSACTION;
Executing (c8ae16b4-92f7-4958-a70e-62e7aed826a5): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '07f70e7c-b2ae-4d67-bfb3-6e33620531f3' AND "File"."multihash" = 'QmbzBto5YLWyNJjNjbBsGVxT7zqt2jkU3PRwbLWQm3UvTx' AND "File"."sourceFile" = 'cac5f024-fbdb-4308-be22-69e62f52a6c0.mp3' AND "File"."storagePath" = '/file_storage/QmbzBto5YLWyNJjNjbBsGVxT7zqt2jkU3PRwbLWQm3UvTx' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '6adf0fbd-7371-409f-8b15-0ac231aa9e22' LIMIT 1;
Executing (c8ae16b4-92f7-4958-a70e-62e7aed826a5): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_d9f70f0fbfd04cfeb5407712177eaa5e$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('6fb294bb-6773-4aa3-be8d-c88550986f21','07f70e7c-b2ae-4d67-bfb3-6e33620531f3','6adf0fbd-7371-409f-8b15-0ac231aa9e22','QmbzBto5YLWyNJjNjbBsGVxT7zqt2jkU3PRwbLWQm3UvTx','cac5f024-fbdb-4308-be22-69e62f52a6c0.mp3','/file_storage/QmbzBto5YLWyNJjNjbBsGVxT7zqt2jkU3PRwbLWQm3UvTx','copy320','2020-03-05 17:33:25.636 +00:00','2020-03-05 17:33:25.636 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_d9f70f0fbfd04cfeb5407712177eaa5e$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (c8ae16b4-92f7-4958-a70e-62e7aed826a5): COMMIT;
{ fileUUID: '6fb294bb-6773-4aa3-be8d-c88550986f21',
  cnodeUserUUID: '07f70e7c-b2ae-4d67-bfb3-6e33620531f3',
  multihash: 'QmbzBto5YLWyNJjNjbBsGVxT7zqt2jkU3PRwbLWQm3UvTx',
  sourceFile: 'cac5f024-fbdb-4308-be22-69e62f52a6c0.mp3',
  storagePath:
   '/file_storage/QmbzBto5YLWyNJjNjbBsGVxT7zqt2jkU3PRwbLWQm3UvTx',
  type: 'copy320',
  trackUUID: '6adf0fbd-7371-409f-8b15-0ac231aa9e22',
  updatedAt: 2020-03-05T17:33:25.636Z,
  createdAt: 2020-03-05T17:33:25.636Z }
writing to db3...
Executing (48fce8d6-94cb-4cc8-b92f-b70b05c56aea): START TRANSACTION;
Executing (48fce8d6-94cb-4cc8-b92f-b70b05c56aea): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '07f70e7c-b2ae-4d67-bfb3-6e33620531f3' AND "File"."multihash" = 'QmbzBto5YLWyNJjNjbBsGVxT7zqt2jkU3PRwbLWQm3UvTx' AND "File"."sourceFile" = 'cac5f024-fbdb-4308-be22-69e62f52a6c0.mp3' AND "File"."storagePath" = '/file_storage/QmbzBto5YLWyNJjNjbBsGVxT7zqt2jkU3PRwbLWQm3UvTx' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '6adf0fbd-7371-409f-8b15-0ac231aa9e22' LIMIT 1;
Executing (48fce8d6-94cb-4cc8-b92f-b70b05c56aea): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_4aa9fa4a42f0478d8085b488bbdc5051$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('e9424cb0-4284-4e8d-8c36-2b031c749d7d','07f70e7c-b2ae-4d67-bfb3-6e33620531f3','6adf0fbd-7371-409f-8b15-0ac231aa9e22','QmbzBto5YLWyNJjNjbBsGVxT7zqt2jkU3PRwbLWQm3UvTx','cac5f024-fbdb-4308-be22-69e62f52a6c0.mp3','/file_storage/QmbzBto5YLWyNJjNjbBsGVxT7zqt2jkU3PRwbLWQm3UvTx','copy320','2020-03-05 17:33:26.031 +00:00','2020-03-05 17:33:26.031 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_4aa9fa4a42f0478d8085b488bbdc5051$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (48fce8d6-94cb-4cc8-b92f-b70b05c56aea): COMMIT;
{ fileUUID: 'e9424cb0-4284-4e8d-8c36-2b031c749d7d',
  cnodeUserUUID: '07f70e7c-b2ae-4d67-bfb3-6e33620531f3',
  multihash: 'QmbzBto5YLWyNJjNjbBsGVxT7zqt2jkU3PRwbLWQm3UvTx',
  sourceFile: 'cac5f024-fbdb-4308-be22-69e62f52a6c0.mp3',
  storagePath:
   '/file_storage/QmbzBto5YLWyNJjNjbBsGVxT7zqt2jkU3PRwbLWQm3UvTx',
  type: 'copy320',
  trackUUID: '6adf0fbd-7371-409f-8b15-0ac231aa9e22',
  updatedAt: 2020-03-05T17:33:26.031Z,
  createdAt: 2020-03-05T17:33:26.031Z }




PROCESSING ROW #87: sourcefile: 5a3fd501-6f35-44f2-9600-e3120a141f74.mp3, cnodeUserUUID: 2fd64d44-11a7-4163-ad1e-0e4920877b49, trackUUID: fafb8ce5-8c1c-4d87-97a8-c3ded4f07b4b, multihash: QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM, dstPath: /file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM
writing to db1...
Executing (31f49255-81fa-470a-8a6a-d4ab9bda36aa): START TRANSACTION;
Executing (31f49255-81fa-470a-8a6a-d4ab9bda36aa): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '2fd64d44-11a7-4163-ad1e-0e4920877b49' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = '5a3fd501-6f35-44f2-9600-e3120a141f74.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = 'fafb8ce5-8c1c-4d87-97a8-c3ded4f07b4b' LIMIT 1;
Executing (31f49255-81fa-470a-8a6a-d4ab9bda36aa): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_b8f14675836441a298419970ae5ac205$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('dc1ff4a5-b915-455c-a331-208e0c12ec25','2fd64d44-11a7-4163-ad1e-0e4920877b49','fafb8ce5-8c1c-4d87-97a8-c3ded4f07b4b','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','5a3fd501-6f35-44f2-9600-e3120a141f74.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:33:26.438 +00:00','2020-03-05 17:33:26.438 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_b8f14675836441a298419970ae5ac205$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (31f49255-81fa-470a-8a6a-d4ab9bda36aa): COMMIT;
{ fileUUID: 'dc1ff4a5-b915-455c-a331-208e0c12ec25',
  cnodeUserUUID: '2fd64d44-11a7-4163-ad1e-0e4920877b49',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: '5a3fd501-6f35-44f2-9600-e3120a141f74.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: 'fafb8ce5-8c1c-4d87-97a8-c3ded4f07b4b',
  updatedAt: 2020-03-05T17:33:26.438Z,
  createdAt: 2020-03-05T17:33:26.438Z }
writing to db2...
Executing (6a1b7d91-190a-4271-b71a-0ac94b25cf12): START TRANSACTION;
Executing (6a1b7d91-190a-4271-b71a-0ac94b25cf12): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '2fd64d44-11a7-4163-ad1e-0e4920877b49' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = '5a3fd501-6f35-44f2-9600-e3120a141f74.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = 'fafb8ce5-8c1c-4d87-97a8-c3ded4f07b4b' LIMIT 1;
Executing (6a1b7d91-190a-4271-b71a-0ac94b25cf12): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_8a283d96954a449d8843912248d8341f$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('3e353991-247f-4c9d-96ff-68200f86faff','2fd64d44-11a7-4163-ad1e-0e4920877b49','fafb8ce5-8c1c-4d87-97a8-c3ded4f07b4b','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','5a3fd501-6f35-44f2-9600-e3120a141f74.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:33:26.820 +00:00','2020-03-05 17:33:26.820 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_8a283d96954a449d8843912248d8341f$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (6a1b7d91-190a-4271-b71a-0ac94b25cf12): COMMIT;
{ fileUUID: '3e353991-247f-4c9d-96ff-68200f86faff',
  cnodeUserUUID: '2fd64d44-11a7-4163-ad1e-0e4920877b49',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: '5a3fd501-6f35-44f2-9600-e3120a141f74.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: 'fafb8ce5-8c1c-4d87-97a8-c3ded4f07b4b',
  updatedAt: 2020-03-05T17:33:26.820Z,
  createdAt: 2020-03-05T17:33:26.820Z }
writing to db3...
Executing (0afd0370-b00b-49b2-bfd4-381cc01e8d42): START TRANSACTION;
Executing (0afd0370-b00b-49b2-bfd4-381cc01e8d42): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '2fd64d44-11a7-4163-ad1e-0e4920877b49' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = '5a3fd501-6f35-44f2-9600-e3120a141f74.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = 'fafb8ce5-8c1c-4d87-97a8-c3ded4f07b4b' LIMIT 1;
Executing (0afd0370-b00b-49b2-bfd4-381cc01e8d42): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_bb584a3cff174873a44ecb60ad12b726$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('2b31946d-6df4-4fad-80d0-8f979b5c1eb4','2fd64d44-11a7-4163-ad1e-0e4920877b49','fafb8ce5-8c1c-4d87-97a8-c3ded4f07b4b','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','5a3fd501-6f35-44f2-9600-e3120a141f74.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:33:27.221 +00:00','2020-03-05 17:33:27.221 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_bb584a3cff174873a44ecb60ad12b726$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (0afd0370-b00b-49b2-bfd4-381cc01e8d42): COMMIT;
{ fileUUID: '2b31946d-6df4-4fad-80d0-8f979b5c1eb4',
  cnodeUserUUID: '2fd64d44-11a7-4163-ad1e-0e4920877b49',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: '5a3fd501-6f35-44f2-9600-e3120a141f74.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: 'fafb8ce5-8c1c-4d87-97a8-c3ded4f07b4b',
  updatedAt: 2020-03-05T17:33:27.221Z,
  createdAt: 2020-03-05T17:33:27.221Z }




PROCESSING ROW #88: sourcefile: 4aca9b0c-a122-41e3-a24c-9f103054d085.mp3, cnodeUserUUID: 1350147d-276f-4221-8c54-a597192c1ed9, trackUUID: f29cb978-2b05-4537-8b4d-17eb6e42921e, multihash: QmWDufSQLnJUnZxD4jW3q6ZD4PWq5YSENoaeY4C8abDruM, dstPath: /file_storage/QmWDufSQLnJUnZxD4jW3q6ZD4PWq5YSENoaeY4C8abDruM
writing to db1...
Executing (4a48c885-ee29-4aef-833b-2954c7a1031b): START TRANSACTION;
Executing (4a48c885-ee29-4aef-833b-2954c7a1031b): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '1350147d-276f-4221-8c54-a597192c1ed9' AND "File"."multihash" = 'QmWDufSQLnJUnZxD4jW3q6ZD4PWq5YSENoaeY4C8abDruM' AND "File"."sourceFile" = '4aca9b0c-a122-41e3-a24c-9f103054d085.mp3' AND "File"."storagePath" = '/file_storage/QmWDufSQLnJUnZxD4jW3q6ZD4PWq5YSENoaeY4C8abDruM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = 'f29cb978-2b05-4537-8b4d-17eb6e42921e' LIMIT 1;
Executing (4a48c885-ee29-4aef-833b-2954c7a1031b): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_173b05cc31a04e8f8af8df5a721cfbae$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('8733adcb-033d-497d-a544-9684eb807077','1350147d-276f-4221-8c54-a597192c1ed9','f29cb978-2b05-4537-8b4d-17eb6e42921e','QmWDufSQLnJUnZxD4jW3q6ZD4PWq5YSENoaeY4C8abDruM','4aca9b0c-a122-41e3-a24c-9f103054d085.mp3','/file_storage/QmWDufSQLnJUnZxD4jW3q6ZD4PWq5YSENoaeY4C8abDruM','copy320','2020-03-05 17:33:27.628 +00:00','2020-03-05 17:33:27.628 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_173b05cc31a04e8f8af8df5a721cfbae$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (4a48c885-ee29-4aef-833b-2954c7a1031b): COMMIT;
{ fileUUID: '8733adcb-033d-497d-a544-9684eb807077',
  cnodeUserUUID: '1350147d-276f-4221-8c54-a597192c1ed9',
  multihash: 'QmWDufSQLnJUnZxD4jW3q6ZD4PWq5YSENoaeY4C8abDruM',
  sourceFile: '4aca9b0c-a122-41e3-a24c-9f103054d085.mp3',
  storagePath:
   '/file_storage/QmWDufSQLnJUnZxD4jW3q6ZD4PWq5YSENoaeY4C8abDruM',
  type: 'copy320',
  trackUUID: 'f29cb978-2b05-4537-8b4d-17eb6e42921e',
  updatedAt: 2020-03-05T17:33:27.628Z,
  createdAt: 2020-03-05T17:33:27.628Z }
writing to db2...
Executing (290d5989-e4bb-455a-8822-e1b12f2eddf4): START TRANSACTION;
Executing (290d5989-e4bb-455a-8822-e1b12f2eddf4): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '1350147d-276f-4221-8c54-a597192c1ed9' AND "File"."multihash" = 'QmWDufSQLnJUnZxD4jW3q6ZD4PWq5YSENoaeY4C8abDruM' AND "File"."sourceFile" = '4aca9b0c-a122-41e3-a24c-9f103054d085.mp3' AND "File"."storagePath" = '/file_storage/QmWDufSQLnJUnZxD4jW3q6ZD4PWq5YSENoaeY4C8abDruM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = 'f29cb978-2b05-4537-8b4d-17eb6e42921e' LIMIT 1;
Executing (290d5989-e4bb-455a-8822-e1b12f2eddf4): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_e381568bbca74f0f941730ea0f2d4397$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('227a03c8-1ada-41d6-b585-faf7f096996c','1350147d-276f-4221-8c54-a597192c1ed9','f29cb978-2b05-4537-8b4d-17eb6e42921e','QmWDufSQLnJUnZxD4jW3q6ZD4PWq5YSENoaeY4C8abDruM','4aca9b0c-a122-41e3-a24c-9f103054d085.mp3','/file_storage/QmWDufSQLnJUnZxD4jW3q6ZD4PWq5YSENoaeY4C8abDruM','copy320','2020-03-05 17:33:28.046 +00:00','2020-03-05 17:33:28.046 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_e381568bbca74f0f941730ea0f2d4397$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (290d5989-e4bb-455a-8822-e1b12f2eddf4): COMMIT;
{ fileUUID: '227a03c8-1ada-41d6-b585-faf7f096996c',
  cnodeUserUUID: '1350147d-276f-4221-8c54-a597192c1ed9',
  multihash: 'QmWDufSQLnJUnZxD4jW3q6ZD4PWq5YSENoaeY4C8abDruM',
  sourceFile: '4aca9b0c-a122-41e3-a24c-9f103054d085.mp3',
  storagePath:
   '/file_storage/QmWDufSQLnJUnZxD4jW3q6ZD4PWq5YSENoaeY4C8abDruM',
  type: 'copy320',
  trackUUID: 'f29cb978-2b05-4537-8b4d-17eb6e42921e',
  updatedAt: 2020-03-05T17:33:28.046Z,
  createdAt: 2020-03-05T17:33:28.046Z }
writing to db3...
Executing (6726af99-e1d4-484a-8615-ce55e035b976): START TRANSACTION;
Executing (6726af99-e1d4-484a-8615-ce55e035b976): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '1350147d-276f-4221-8c54-a597192c1ed9' AND "File"."multihash" = 'QmWDufSQLnJUnZxD4jW3q6ZD4PWq5YSENoaeY4C8abDruM' AND "File"."sourceFile" = '4aca9b0c-a122-41e3-a24c-9f103054d085.mp3' AND "File"."storagePath" = '/file_storage/QmWDufSQLnJUnZxD4jW3q6ZD4PWq5YSENoaeY4C8abDruM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = 'f29cb978-2b05-4537-8b4d-17eb6e42921e' LIMIT 1;
Executing (6726af99-e1d4-484a-8615-ce55e035b976): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_53d4181af61c4aff9d00e024f6d21baf$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('ea119596-b461-4b61-86af-93b3439a5c5e','1350147d-276f-4221-8c54-a597192c1ed9','f29cb978-2b05-4537-8b4d-17eb6e42921e','QmWDufSQLnJUnZxD4jW3q6ZD4PWq5YSENoaeY4C8abDruM','4aca9b0c-a122-41e3-a24c-9f103054d085.mp3','/file_storage/QmWDufSQLnJUnZxD4jW3q6ZD4PWq5YSENoaeY4C8abDruM','copy320','2020-03-05 17:33:28.445 +00:00','2020-03-05 17:33:28.445 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_53d4181af61c4aff9d00e024f6d21baf$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (6726af99-e1d4-484a-8615-ce55e035b976): COMMIT;
{ fileUUID: 'ea119596-b461-4b61-86af-93b3439a5c5e',
  cnodeUserUUID: '1350147d-276f-4221-8c54-a597192c1ed9',
  multihash: 'QmWDufSQLnJUnZxD4jW3q6ZD4PWq5YSENoaeY4C8abDruM',
  sourceFile: '4aca9b0c-a122-41e3-a24c-9f103054d085.mp3',
  storagePath:
   '/file_storage/QmWDufSQLnJUnZxD4jW3q6ZD4PWq5YSENoaeY4C8abDruM',
  type: 'copy320',
  trackUUID: 'f29cb978-2b05-4537-8b4d-17eb6e42921e',
  updatedAt: 2020-03-05T17:33:28.445Z,
  createdAt: 2020-03-05T17:33:28.445Z }




PROCESSING ROW #89: sourcefile: b82b4f70-e140-4e01-8208-a2f9f1447597.mp3, cnodeUserUUID: 1350147d-276f-4221-8c54-a597192c1ed9, trackUUID: 4271a3cb-a3d8-46a2-80fa-1f649318aba0, multihash: QmVUvkVVj7k7reHHPAjFui44eKFuSvfUvYRTdgzjkrRgku, dstPath: /file_storage/QmVUvkVVj7k7reHHPAjFui44eKFuSvfUvYRTdgzjkrRgku
writing to db1...
Executing (d5e028cc-a02a-4b17-b926-0351b86e7a19): START TRANSACTION;
Executing (d5e028cc-a02a-4b17-b926-0351b86e7a19): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '1350147d-276f-4221-8c54-a597192c1ed9' AND "File"."multihash" = 'QmVUvkVVj7k7reHHPAjFui44eKFuSvfUvYRTdgzjkrRgku' AND "File"."sourceFile" = 'b82b4f70-e140-4e01-8208-a2f9f1447597.mp3' AND "File"."storagePath" = '/file_storage/QmVUvkVVj7k7reHHPAjFui44eKFuSvfUvYRTdgzjkrRgku' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '4271a3cb-a3d8-46a2-80fa-1f649318aba0' LIMIT 1;
Executing (d5e028cc-a02a-4b17-b926-0351b86e7a19): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_be98a318b6f047b0990b1522954497f6$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('f672a332-af08-4fb5-bd0b-bcd8c81be177','1350147d-276f-4221-8c54-a597192c1ed9','4271a3cb-a3d8-46a2-80fa-1f649318aba0','QmVUvkVVj7k7reHHPAjFui44eKFuSvfUvYRTdgzjkrRgku','b82b4f70-e140-4e01-8208-a2f9f1447597.mp3','/file_storage/QmVUvkVVj7k7reHHPAjFui44eKFuSvfUvYRTdgzjkrRgku','copy320','2020-03-05 17:33:28.838 +00:00','2020-03-05 17:33:28.838 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_be98a318b6f047b0990b1522954497f6$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (d5e028cc-a02a-4b17-b926-0351b86e7a19): COMMIT;
{ fileUUID: 'f672a332-af08-4fb5-bd0b-bcd8c81be177',
  cnodeUserUUID: '1350147d-276f-4221-8c54-a597192c1ed9',
  multihash: 'QmVUvkVVj7k7reHHPAjFui44eKFuSvfUvYRTdgzjkrRgku',
  sourceFile: 'b82b4f70-e140-4e01-8208-a2f9f1447597.mp3',
  storagePath:
   '/file_storage/QmVUvkVVj7k7reHHPAjFui44eKFuSvfUvYRTdgzjkrRgku',
  type: 'copy320',
  trackUUID: '4271a3cb-a3d8-46a2-80fa-1f649318aba0',
  updatedAt: 2020-03-05T17:33:28.838Z,
  createdAt: 2020-03-05T17:33:28.838Z }
writing to db2...
Executing (0b8923bb-5810-40c7-979d-17f227082457): START TRANSACTION;
Executing (0b8923bb-5810-40c7-979d-17f227082457): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '1350147d-276f-4221-8c54-a597192c1ed9' AND "File"."multihash" = 'QmVUvkVVj7k7reHHPAjFui44eKFuSvfUvYRTdgzjkrRgku' AND "File"."sourceFile" = 'b82b4f70-e140-4e01-8208-a2f9f1447597.mp3' AND "File"."storagePath" = '/file_storage/QmVUvkVVj7k7reHHPAjFui44eKFuSvfUvYRTdgzjkrRgku' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '4271a3cb-a3d8-46a2-80fa-1f649318aba0' LIMIT 1;
Executing (0b8923bb-5810-40c7-979d-17f227082457): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_f35e616cdc48426796ff59f0b2453517$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('591be4e2-f5a2-4ca3-90e0-bd443ff15aad','1350147d-276f-4221-8c54-a597192c1ed9','4271a3cb-a3d8-46a2-80fa-1f649318aba0','QmVUvkVVj7k7reHHPAjFui44eKFuSvfUvYRTdgzjkrRgku','b82b4f70-e140-4e01-8208-a2f9f1447597.mp3','/file_storage/QmVUvkVVj7k7reHHPAjFui44eKFuSvfUvYRTdgzjkrRgku','copy320','2020-03-05 17:33:29.228 +00:00','2020-03-05 17:33:29.228 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_f35e616cdc48426796ff59f0b2453517$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (0b8923bb-5810-40c7-979d-17f227082457): COMMIT;
{ fileUUID: '591be4e2-f5a2-4ca3-90e0-bd443ff15aad',
  cnodeUserUUID: '1350147d-276f-4221-8c54-a597192c1ed9',
  multihash: 'QmVUvkVVj7k7reHHPAjFui44eKFuSvfUvYRTdgzjkrRgku',
  sourceFile: 'b82b4f70-e140-4e01-8208-a2f9f1447597.mp3',
  storagePath:
   '/file_storage/QmVUvkVVj7k7reHHPAjFui44eKFuSvfUvYRTdgzjkrRgku',
  type: 'copy320',
  trackUUID: '4271a3cb-a3d8-46a2-80fa-1f649318aba0',
  updatedAt: 2020-03-05T17:33:29.228Z,
  createdAt: 2020-03-05T17:33:29.228Z }
writing to db3...
Executing (25a840bd-dcae-4746-a3f3-4993540a6f23): START TRANSACTION;
Executing (25a840bd-dcae-4746-a3f3-4993540a6f23): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '1350147d-276f-4221-8c54-a597192c1ed9' AND "File"."multihash" = 'QmVUvkVVj7k7reHHPAjFui44eKFuSvfUvYRTdgzjkrRgku' AND "File"."sourceFile" = 'b82b4f70-e140-4e01-8208-a2f9f1447597.mp3' AND "File"."storagePath" = '/file_storage/QmVUvkVVj7k7reHHPAjFui44eKFuSvfUvYRTdgzjkrRgku' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '4271a3cb-a3d8-46a2-80fa-1f649318aba0' LIMIT 1;
Executing (25a840bd-dcae-4746-a3f3-4993540a6f23): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_ad5b723837384984b0b4957f2f571c71$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('e9094993-a99f-48f2-97fd-9e0f12847cf4','1350147d-276f-4221-8c54-a597192c1ed9','4271a3cb-a3d8-46a2-80fa-1f649318aba0','QmVUvkVVj7k7reHHPAjFui44eKFuSvfUvYRTdgzjkrRgku','b82b4f70-e140-4e01-8208-a2f9f1447597.mp3','/file_storage/QmVUvkVVj7k7reHHPAjFui44eKFuSvfUvYRTdgzjkrRgku','copy320','2020-03-05 17:33:29.620 +00:00','2020-03-05 17:33:29.620 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_ad5b723837384984b0b4957f2f571c71$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (25a840bd-dcae-4746-a3f3-4993540a6f23): COMMIT;
{ fileUUID: 'e9094993-a99f-48f2-97fd-9e0f12847cf4',
  cnodeUserUUID: '1350147d-276f-4221-8c54-a597192c1ed9',
  multihash: 'QmVUvkVVj7k7reHHPAjFui44eKFuSvfUvYRTdgzjkrRgku',
  sourceFile: 'b82b4f70-e140-4e01-8208-a2f9f1447597.mp3',
  storagePath:
   '/file_storage/QmVUvkVVj7k7reHHPAjFui44eKFuSvfUvYRTdgzjkrRgku',
  type: 'copy320',
  trackUUID: '4271a3cb-a3d8-46a2-80fa-1f649318aba0',
  updatedAt: 2020-03-05T17:33:29.620Z,
  createdAt: 2020-03-05T17:33:29.620Z }




PROCESSING ROW #90: sourcefile: 7ee2ecdf-9d01-4f52-abbd-58b96743b08c.mp3, cnodeUserUUID: 1350147d-276f-4221-8c54-a597192c1ed9, trackUUID: 131c089d-2c45-436a-9b97-8362cc714d26, multihash: QmSRhV8Jb478mEqnTkv4sT4HyK2aE3MzhGAfL5jRSqcMVk, dstPath: /file_storage/QmSRhV8Jb478mEqnTkv4sT4HyK2aE3MzhGAfL5jRSqcMVk
writing to db1...
Executing (1a9f914d-7667-4e22-b10d-5aa73fa7f573): START TRANSACTION;
Executing (1a9f914d-7667-4e22-b10d-5aa73fa7f573): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '1350147d-276f-4221-8c54-a597192c1ed9' AND "File"."multihash" = 'QmSRhV8Jb478mEqnTkv4sT4HyK2aE3MzhGAfL5jRSqcMVk' AND "File"."sourceFile" = '7ee2ecdf-9d01-4f52-abbd-58b96743b08c.mp3' AND "File"."storagePath" = '/file_storage/QmSRhV8Jb478mEqnTkv4sT4HyK2aE3MzhGAfL5jRSqcMVk' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '131c089d-2c45-436a-9b97-8362cc714d26' LIMIT 1;
Executing (1a9f914d-7667-4e22-b10d-5aa73fa7f573): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_6ca0c87cd0cd44b58347bea8ba88cc8b$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('171f9981-df98-4caa-abec-d11181331bee','1350147d-276f-4221-8c54-a597192c1ed9','131c089d-2c45-436a-9b97-8362cc714d26','QmSRhV8Jb478mEqnTkv4sT4HyK2aE3MzhGAfL5jRSqcMVk','7ee2ecdf-9d01-4f52-abbd-58b96743b08c.mp3','/file_storage/QmSRhV8Jb478mEqnTkv4sT4HyK2aE3MzhGAfL5jRSqcMVk','copy320','2020-03-05 17:33:30.004 +00:00','2020-03-05 17:33:30.004 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_6ca0c87cd0cd44b58347bea8ba88cc8b$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (1a9f914d-7667-4e22-b10d-5aa73fa7f573): COMMIT;
{ fileUUID: '171f9981-df98-4caa-abec-d11181331bee',
  cnodeUserUUID: '1350147d-276f-4221-8c54-a597192c1ed9',
  multihash: 'QmSRhV8Jb478mEqnTkv4sT4HyK2aE3MzhGAfL5jRSqcMVk',
  sourceFile: '7ee2ecdf-9d01-4f52-abbd-58b96743b08c.mp3',
  storagePath:
   '/file_storage/QmSRhV8Jb478mEqnTkv4sT4HyK2aE3MzhGAfL5jRSqcMVk',
  type: 'copy320',
  trackUUID: '131c089d-2c45-436a-9b97-8362cc714d26',
  updatedAt: 2020-03-05T17:33:30.004Z,
  createdAt: 2020-03-05T17:33:30.004Z }
writing to db2...
Executing (53598138-43dc-4a96-b60f-0b0431017a86): START TRANSACTION;
Executing (53598138-43dc-4a96-b60f-0b0431017a86): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '1350147d-276f-4221-8c54-a597192c1ed9' AND "File"."multihash" = 'QmSRhV8Jb478mEqnTkv4sT4HyK2aE3MzhGAfL5jRSqcMVk' AND "File"."sourceFile" = '7ee2ecdf-9d01-4f52-abbd-58b96743b08c.mp3' AND "File"."storagePath" = '/file_storage/QmSRhV8Jb478mEqnTkv4sT4HyK2aE3MzhGAfL5jRSqcMVk' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '131c089d-2c45-436a-9b97-8362cc714d26' LIMIT 1;
Executing (53598138-43dc-4a96-b60f-0b0431017a86): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_5fc8686e2484442f94a0700d322db5a2$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('b55aa2df-11a6-4f0f-9121-eafd01401b12','1350147d-276f-4221-8c54-a597192c1ed9','131c089d-2c45-436a-9b97-8362cc714d26','QmSRhV8Jb478mEqnTkv4sT4HyK2aE3MzhGAfL5jRSqcMVk','7ee2ecdf-9d01-4f52-abbd-58b96743b08c.mp3','/file_storage/QmSRhV8Jb478mEqnTkv4sT4HyK2aE3MzhGAfL5jRSqcMVk','copy320','2020-03-05 17:33:30.381 +00:00','2020-03-05 17:33:30.381 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_5fc8686e2484442f94a0700d322db5a2$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (53598138-43dc-4a96-b60f-0b0431017a86): COMMIT;
{ fileUUID: 'b55aa2df-11a6-4f0f-9121-eafd01401b12',
  cnodeUserUUID: '1350147d-276f-4221-8c54-a597192c1ed9',
  multihash: 'QmSRhV8Jb478mEqnTkv4sT4HyK2aE3MzhGAfL5jRSqcMVk',
  sourceFile: '7ee2ecdf-9d01-4f52-abbd-58b96743b08c.mp3',
  storagePath:
   '/file_storage/QmSRhV8Jb478mEqnTkv4sT4HyK2aE3MzhGAfL5jRSqcMVk',
  type: 'copy320',
  trackUUID: '131c089d-2c45-436a-9b97-8362cc714d26',
  updatedAt: 2020-03-05T17:33:30.381Z,
  createdAt: 2020-03-05T17:33:30.381Z }
writing to db3...
Executing (3f9a4472-91b5-433b-a2dd-fa4ca34a76b5): START TRANSACTION;
Executing (3f9a4472-91b5-433b-a2dd-fa4ca34a76b5): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '1350147d-276f-4221-8c54-a597192c1ed9' AND "File"."multihash" = 'QmSRhV8Jb478mEqnTkv4sT4HyK2aE3MzhGAfL5jRSqcMVk' AND "File"."sourceFile" = '7ee2ecdf-9d01-4f52-abbd-58b96743b08c.mp3' AND "File"."storagePath" = '/file_storage/QmSRhV8Jb478mEqnTkv4sT4HyK2aE3MzhGAfL5jRSqcMVk' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '131c089d-2c45-436a-9b97-8362cc714d26' LIMIT 1;
Executing (3f9a4472-91b5-433b-a2dd-fa4ca34a76b5): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_e134cf5dcd7a4dcba590539d0873b75b$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('a06e587b-753c-4b28-800a-4d03dd87bdd5','1350147d-276f-4221-8c54-a597192c1ed9','131c089d-2c45-436a-9b97-8362cc714d26','QmSRhV8Jb478mEqnTkv4sT4HyK2aE3MzhGAfL5jRSqcMVk','7ee2ecdf-9d01-4f52-abbd-58b96743b08c.mp3','/file_storage/QmSRhV8Jb478mEqnTkv4sT4HyK2aE3MzhGAfL5jRSqcMVk','copy320','2020-03-05 17:33:30.775 +00:00','2020-03-05 17:33:30.775 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_e134cf5dcd7a4dcba590539d0873b75b$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (3f9a4472-91b5-433b-a2dd-fa4ca34a76b5): COMMIT;
{ fileUUID: 'a06e587b-753c-4b28-800a-4d03dd87bdd5',
  cnodeUserUUID: '1350147d-276f-4221-8c54-a597192c1ed9',
  multihash: 'QmSRhV8Jb478mEqnTkv4sT4HyK2aE3MzhGAfL5jRSqcMVk',
  sourceFile: '7ee2ecdf-9d01-4f52-abbd-58b96743b08c.mp3',
  storagePath:
   '/file_storage/QmSRhV8Jb478mEqnTkv4sT4HyK2aE3MzhGAfL5jRSqcMVk',
  type: 'copy320',
  trackUUID: '131c089d-2c45-436a-9b97-8362cc714d26',
  updatedAt: 2020-03-05T17:33:30.775Z,
  createdAt: 2020-03-05T17:33:30.775Z }




PROCESSING ROW #91: sourcefile: 6605d59b-0abd-41a7-87d1-08aec5a5df58.mp3, cnodeUserUUID: 3c1fbd0c-f36e-42db-8b17-7cadf894e561, trackUUID: 78eca882-dbbe-4a07-a9dc-c9f8904b30c0, multihash: QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM, dstPath: /file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM
writing to db1...
Executing (fabd58d9-220b-4193-91d7-e5da9220edf6): START TRANSACTION;
Executing (fabd58d9-220b-4193-91d7-e5da9220edf6): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '3c1fbd0c-f36e-42db-8b17-7cadf894e561' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = '6605d59b-0abd-41a7-87d1-08aec5a5df58.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '78eca882-dbbe-4a07-a9dc-c9f8904b30c0' LIMIT 1;
Executing (fabd58d9-220b-4193-91d7-e5da9220edf6): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_f8db6928d6e44e259ffae44e622b0765$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('51f38df1-a197-424f-99c2-58d3e9a65e06','3c1fbd0c-f36e-42db-8b17-7cadf894e561','78eca882-dbbe-4a07-a9dc-c9f8904b30c0','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','6605d59b-0abd-41a7-87d1-08aec5a5df58.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:33:31.178 +00:00','2020-03-05 17:33:31.178 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_f8db6928d6e44e259ffae44e622b0765$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (fabd58d9-220b-4193-91d7-e5da9220edf6): COMMIT;
{ fileUUID: '51f38df1-a197-424f-99c2-58d3e9a65e06',
  cnodeUserUUID: '3c1fbd0c-f36e-42db-8b17-7cadf894e561',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: '6605d59b-0abd-41a7-87d1-08aec5a5df58.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: '78eca882-dbbe-4a07-a9dc-c9f8904b30c0',
  updatedAt: 2020-03-05T17:33:31.178Z,
  createdAt: 2020-03-05T17:33:31.178Z }
writing to db2...
Executing (988ef600-5f66-4931-9275-6be4c319805d): START TRANSACTION;
Executing (988ef600-5f66-4931-9275-6be4c319805d): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '3c1fbd0c-f36e-42db-8b17-7cadf894e561' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = '6605d59b-0abd-41a7-87d1-08aec5a5df58.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '78eca882-dbbe-4a07-a9dc-c9f8904b30c0' LIMIT 1;
Executing (988ef600-5f66-4931-9275-6be4c319805d): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_a91c3e4ebc514696bd6053f524423936$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('268e0c27-561e-40da-8c72-dfa561212070','3c1fbd0c-f36e-42db-8b17-7cadf894e561','78eca882-dbbe-4a07-a9dc-c9f8904b30c0','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','6605d59b-0abd-41a7-87d1-08aec5a5df58.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:33:31.568 +00:00','2020-03-05 17:33:31.568 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_a91c3e4ebc514696bd6053f524423936$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (988ef600-5f66-4931-9275-6be4c319805d): COMMIT;
{ fileUUID: '268e0c27-561e-40da-8c72-dfa561212070',
  cnodeUserUUID: '3c1fbd0c-f36e-42db-8b17-7cadf894e561',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: '6605d59b-0abd-41a7-87d1-08aec5a5df58.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: '78eca882-dbbe-4a07-a9dc-c9f8904b30c0',
  updatedAt: 2020-03-05T17:33:31.568Z,
  createdAt: 2020-03-05T17:33:31.568Z }
writing to db3...
Executing (04a15293-89df-4c15-a25b-8c76e79bd8bc): START TRANSACTION;
Executing (04a15293-89df-4c15-a25b-8c76e79bd8bc): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '3c1fbd0c-f36e-42db-8b17-7cadf894e561' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = '6605d59b-0abd-41a7-87d1-08aec5a5df58.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '78eca882-dbbe-4a07-a9dc-c9f8904b30c0' LIMIT 1;
Executing (04a15293-89df-4c15-a25b-8c76e79bd8bc): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_bc958b7ff0954f6bb0ae69f0be028783$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('1a466d9c-4e09-4f40-bb86-d4c8a35f6ec0','3c1fbd0c-f36e-42db-8b17-7cadf894e561','78eca882-dbbe-4a07-a9dc-c9f8904b30c0','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','6605d59b-0abd-41a7-87d1-08aec5a5df58.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:33:31.964 +00:00','2020-03-05 17:33:31.964 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_bc958b7ff0954f6bb0ae69f0be028783$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (04a15293-89df-4c15-a25b-8c76e79bd8bc): COMMIT;
{ fileUUID: '1a466d9c-4e09-4f40-bb86-d4c8a35f6ec0',
  cnodeUserUUID: '3c1fbd0c-f36e-42db-8b17-7cadf894e561',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: '6605d59b-0abd-41a7-87d1-08aec5a5df58.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: '78eca882-dbbe-4a07-a9dc-c9f8904b30c0',
  updatedAt: 2020-03-05T17:33:31.964Z,
  createdAt: 2020-03-05T17:33:31.964Z }




PROCESSING ROW #92: sourcefile: cb599c09-43f3-49b6-adb7-7433d45755d7.mp3, cnodeUserUUID: 98a9de3a-1710-4053-bd5a-6001681d5562, trackUUID: 463f6139-05b6-4f9b-9d6f-2134d7a67fc8, multihash: QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM, dstPath: /file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM
writing to db1...
Executing (96e9a4fb-254d-44cb-850f-0829e535ce47): START TRANSACTION;
Executing (96e9a4fb-254d-44cb-850f-0829e535ce47): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '98a9de3a-1710-4053-bd5a-6001681d5562' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = 'cb599c09-43f3-49b6-adb7-7433d45755d7.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '463f6139-05b6-4f9b-9d6f-2134d7a67fc8' LIMIT 1;
Executing (96e9a4fb-254d-44cb-850f-0829e535ce47): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_a9abb47c987a421bae85543fe5406951$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('af12c878-97f6-4e06-bf7a-7d3cb01c4edd','98a9de3a-1710-4053-bd5a-6001681d5562','463f6139-05b6-4f9b-9d6f-2134d7a67fc8','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','cb599c09-43f3-49b6-adb7-7433d45755d7.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:33:32.360 +00:00','2020-03-05 17:33:32.360 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_a9abb47c987a421bae85543fe5406951$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (96e9a4fb-254d-44cb-850f-0829e535ce47): COMMIT;
{ fileUUID: 'af12c878-97f6-4e06-bf7a-7d3cb01c4edd',
  cnodeUserUUID: '98a9de3a-1710-4053-bd5a-6001681d5562',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: 'cb599c09-43f3-49b6-adb7-7433d45755d7.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: '463f6139-05b6-4f9b-9d6f-2134d7a67fc8',
  updatedAt: 2020-03-05T17:33:32.360Z,
  createdAt: 2020-03-05T17:33:32.360Z }
writing to db2...
Executing (d058a123-2bee-427f-acaf-8c4cd847a387): START TRANSACTION;
Executing (d058a123-2bee-427f-acaf-8c4cd847a387): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '98a9de3a-1710-4053-bd5a-6001681d5562' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = 'cb599c09-43f3-49b6-adb7-7433d45755d7.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '463f6139-05b6-4f9b-9d6f-2134d7a67fc8' LIMIT 1;
Executing (d058a123-2bee-427f-acaf-8c4cd847a387): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_a3f90e7c4f984a3eafd26aadab04e043$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('bf7f14b9-7343-4afd-9ce3-f23ee983ecae','98a9de3a-1710-4053-bd5a-6001681d5562','463f6139-05b6-4f9b-9d6f-2134d7a67fc8','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','cb599c09-43f3-49b6-adb7-7433d45755d7.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:33:32.745 +00:00','2020-03-05 17:33:32.745 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_a3f90e7c4f984a3eafd26aadab04e043$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (d058a123-2bee-427f-acaf-8c4cd847a387): COMMIT;
{ SequelizeForeignKeyConstraintError: insert or update on table "Files" violates foreign key constraint "Files_cnodeUserUUID_fkey"
    at Query.formatError (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/sequelize/lib/dialects/postgres/query.js:296:16)
    at query.catch.err (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/sequelize/lib/dialects/postgres/query.js:86:18)
    at tryCatcher (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/bluebird/js/release/util.js:16:23)
    at Promise._settlePromiseFromHandler (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/bluebird/js/release/promise.js:517:31)
    at Promise._settlePromise (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/bluebird/js/release/promise.js:574:18)
    at Promise._settlePromise0 (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/bluebird/js/release/promise.js:619:10)
    at Promise._settlePromises (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/bluebird/js/release/promise.js:695:18)
    at _drainQueueStep (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/bluebird/js/release/async.js:138:12)
    at _drainQueue (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/bluebird/js/release/async.js:131:9)
    at Async._drainQueues (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/bluebird/js/release/async.js:147:5)
    at Immediate.Async.drainQueues [as _onImmediate] (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/bluebird/js/release/async.js:17:14)
    at runCallback (timers.js:705:18)
    at tryOnImmediate (timers.js:676:5)
    at processImmediate (timers.js:658:5)
  name: 'SequelizeForeignKeyConstraintError',
  parent:
   { error: insert or update on table "Files" violates foreign key constraint "Files_cnodeUserUUID_fkey"
       at Connection.parseE (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/pg/lib/connection.js:604:11)
       at Connection.parseMessage (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/pg/lib/connection.js:401:19)
       at Socket.<anonymous> (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/pg/lib/connection.js:121:22)
       at Socket.emit (events.js:198:13)
       at addChunk (_stream_readable.js:288:12)
       at readableAddChunk (_stream_readable.js:269:11)
       at Socket.Readable.push (_stream_readable.js:224:10)
       at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)
     name: 'error',
     length: 881,
     severity: 'ERROR',
     code: '23503',
     detail:
      'Key (cnodeUserUUID)=(98a9de3a-1710-4053-bd5a-6001681d5562) is not present in table "CNodeUsers".',
     hint: undefined,
     position: undefined,
     internalPosition: undefined,
     internalQuery: undefined,
     where:
      'SQL statement "INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES (\'bf7f14b9-7343-4afd-9ce3-f23ee983ecae\',\'98a9de3a-1710-4053-bd5a-6001681d5562\',\'463f6139-05b6-4f9b-9d6f-2134d7a67fc8\',\'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM\',\'cb599c09-43f3-49b6-adb7-7433d45755d7.mp3\',\'/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM\',\'copy320\',\'2020-03-05 17:33:32.745 +00:00\',\'2020-03-05 17:33:32.745 +00:00\') RETURNING *"\nPL/pgSQL function pg_temp_12.testfunc() line 1 at SQL statement',
     schema: 'public',
     table: 'Files',
     column: undefined,
     dataType: undefined,
     constraint: 'Files_cnodeUserUUID_fkey',
     file: 'ri_triggers.c',
     line: '3266',
     routine: 'ri_ReportViolation',
     sql:
      'CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_a3f90e7c4f984a3eafd26aadab04e043$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES (\'bf7f14b9-7343-4afd-9ce3-f23ee983ecae\',\'98a9de3a-1710-4053-bd5a-6001681d5562\',\'463f6139-05b6-4f9b-9d6f-2134d7a67fc8\',\'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM\',\'cb599c09-43f3-49b6-adb7-7433d45755d7.mp3\',\'/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM\',\'copy320\',\'2020-03-05 17:33:32.745 +00:00\',\'2020-03-05 17:33:32.745 +00:00\') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_a3f90e7c4f984a3eafd26aadab04e043$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();' },
  original:
   { error: insert or update on table "Files" violates foreign key constraint "Files_cnodeUserUUID_fkey"
       at Connection.parseE (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/pg/lib/connection.js:604:11)
       at Connection.parseMessage (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/pg/lib/connection.js:401:19)
       at Socket.<anonymous> (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/pg/lib/connection.js:121:22)
       at Socket.emit (events.js:198:13)
       at addChunk (_stream_readable.js:288:12)
       at readableAddChunk (_stream_readable.js:269:11)
       at Socket.Readable.push (_stream_readable.js:224:10)
       at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)
     name: 'error',
     length: 881,
     severity: 'ERROR',
     code: '23503',
     detail:
      'Key (cnodeUserUUID)=(98a9de3a-1710-4053-bd5a-6001681d5562) is not present in table "CNodeUsers".',
     hint: undefined,
     position: undefined,
     internalPosition: undefined,
     internalQuery: undefined,
     where:
      'SQL statement "INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES (\'bf7f14b9-7343-4afd-9ce3-f23ee983ecae\',\'98a9de3a-1710-4053-bd5a-6001681d5562\',\'463f6139-05b6-4f9b-9d6f-2134d7a67fc8\',\'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM\',\'cb599c09-43f3-49b6-adb7-7433d45755d7.mp3\',\'/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM\',\'copy320\',\'2020-03-05 17:33:32.745 +00:00\',\'2020-03-05 17:33:32.745 +00:00\') RETURNING *"\nPL/pgSQL function pg_temp_12.testfunc() line 1 at SQL statement',
     schema: 'public',
     table: 'Files',
     column: undefined,
     dataType: undefined,
     constraint: 'Files_cnodeUserUUID_fkey',
     file: 'ri_triggers.c',
     line: '3266',
     routine: 'ri_ReportViolation',
     sql:
      'CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_a3f90e7c4f984a3eafd26aadab04e043$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES (\'bf7f14b9-7343-4afd-9ce3-f23ee983ecae\',\'98a9de3a-1710-4053-bd5a-6001681d5562\',\'463f6139-05b6-4f9b-9d6f-2134d7a67fc8\',\'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM\',\'cb599c09-43f3-49b6-adb7-7433d45755d7.mp3\',\'/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM\',\'copy320\',\'2020-03-05 17:33:32.745 +00:00\',\'2020-03-05 17:33:32.745 +00:00\') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_a3f90e7c4f984a3eafd26aadab04e043$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();' },
  sql:
   'CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_a3f90e7c4f984a3eafd26aadab04e043$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES (\'bf7f14b9-7343-4afd-9ce3-f23ee983ecae\',\'98a9de3a-1710-4053-bd5a-6001681d5562\',\'463f6139-05b6-4f9b-9d6f-2134d7a67fc8\',\'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM\',\'cb599c09-43f3-49b6-adb7-7433d45755d7.mp3\',\'/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM\',\'copy320\',\'2020-03-05 17:33:32.745 +00:00\',\'2020-03-05 17:33:32.745 +00:00\') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_a3f90e7c4f984a3eafd26aadab04e043$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();',
  fields: null,
  table: 'Files',
  value: undefined,
  index: 'Files_cnodeUserUUID_fkey',
  reltype: undefined }
writing to db3...
Executing (fd9c1096-556a-414e-a9f7-71970c96e0ef): START TRANSACTION;
Executing (fd9c1096-556a-414e-a9f7-71970c96e0ef): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '98a9de3a-1710-4053-bd5a-6001681d5562' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = 'cb599c09-43f3-49b6-adb7-7433d45755d7.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '463f6139-05b6-4f9b-9d6f-2134d7a67fc8' LIMIT 1;
Executing (fd9c1096-556a-414e-a9f7-71970c96e0ef): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_762180743254452a9c85ed43dad6ef28$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('f3b33395-ca90-480d-bfbd-293475148fa2','98a9de3a-1710-4053-bd5a-6001681d5562','463f6139-05b6-4f9b-9d6f-2134d7a67fc8','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','cb599c09-43f3-49b6-adb7-7433d45755d7.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:33:33.138 +00:00','2020-03-05 17:33:33.138 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_762180743254452a9c85ed43dad6ef28$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (fd9c1096-556a-414e-a9f7-71970c96e0ef): COMMIT;
{ fileUUID: 'f3b33395-ca90-480d-bfbd-293475148fa2',
  cnodeUserUUID: '98a9de3a-1710-4053-bd5a-6001681d5562',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: 'cb599c09-43f3-49b6-adb7-7433d45755d7.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: '463f6139-05b6-4f9b-9d6f-2134d7a67fc8',
  updatedAt: 2020-03-05T17:33:33.138Z,
  createdAt: 2020-03-05T17:33:33.138Z }




PROCESSING ROW #93: sourcefile: 63d60fad-9922-4d7a-a5fa-cfeab0b45056.aif, cnodeUserUUID: 150144d2-2739-400c-bb1d-a7116901f952, trackUUID: 21d43cbd-a8f8-44a2-a0db-34df9c93e8ce, multihash: QmaFnoY7FUKS1JP8CJ2zKnfJZN8iDLuZ59pxcwDg1v1FD4, dstPath: /file_storage/QmaFnoY7FUKS1JP8CJ2zKnfJZN8iDLuZ59pxcwDg1v1FD4
writing to db1...
Executing (c8d04755-b2e8-421b-a7aa-f72737f751f1): START TRANSACTION;
Executing (c8d04755-b2e8-421b-a7aa-f72737f751f1): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '150144d2-2739-400c-bb1d-a7116901f952' AND "File"."multihash" = 'QmaFnoY7FUKS1JP8CJ2zKnfJZN8iDLuZ59pxcwDg1v1FD4' AND "File"."sourceFile" = '63d60fad-9922-4d7a-a5fa-cfeab0b45056.aif' AND "File"."storagePath" = '/file_storage/QmaFnoY7FUKS1JP8CJ2zKnfJZN8iDLuZ59pxcwDg1v1FD4' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '21d43cbd-a8f8-44a2-a0db-34df9c93e8ce' LIMIT 1;
Executing (c8d04755-b2e8-421b-a7aa-f72737f751f1): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_5fa8b19aef5b4e91bd1af13837db101d$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('836e967a-7414-4d51-8b56-7847078197e9','150144d2-2739-400c-bb1d-a7116901f952','21d43cbd-a8f8-44a2-a0db-34df9c93e8ce','QmaFnoY7FUKS1JP8CJ2zKnfJZN8iDLuZ59pxcwDg1v1FD4','63d60fad-9922-4d7a-a5fa-cfeab0b45056.aif','/file_storage/QmaFnoY7FUKS1JP8CJ2zKnfJZN8iDLuZ59pxcwDg1v1FD4','copy320','2020-03-05 17:33:33.545 +00:00','2020-03-05 17:33:33.545 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_5fa8b19aef5b4e91bd1af13837db101d$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (c8d04755-b2e8-421b-a7aa-f72737f751f1): COMMIT;
{ fileUUID: '836e967a-7414-4d51-8b56-7847078197e9',
  cnodeUserUUID: '150144d2-2739-400c-bb1d-a7116901f952',
  multihash: 'QmaFnoY7FUKS1JP8CJ2zKnfJZN8iDLuZ59pxcwDg1v1FD4',
  sourceFile: '63d60fad-9922-4d7a-a5fa-cfeab0b45056.aif',
  storagePath:
   '/file_storage/QmaFnoY7FUKS1JP8CJ2zKnfJZN8iDLuZ59pxcwDg1v1FD4',
  type: 'copy320',
  trackUUID: '21d43cbd-a8f8-44a2-a0db-34df9c93e8ce',
  updatedAt: 2020-03-05T17:33:33.545Z,
  createdAt: 2020-03-05T17:33:33.545Z }
writing to db2...
Executing (f7b7d64e-6f25-40da-8cbd-ac89255aee5a): START TRANSACTION;
Executing (f7b7d64e-6f25-40da-8cbd-ac89255aee5a): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '150144d2-2739-400c-bb1d-a7116901f952' AND "File"."multihash" = 'QmaFnoY7FUKS1JP8CJ2zKnfJZN8iDLuZ59pxcwDg1v1FD4' AND "File"."sourceFile" = '63d60fad-9922-4d7a-a5fa-cfeab0b45056.aif' AND "File"."storagePath" = '/file_storage/QmaFnoY7FUKS1JP8CJ2zKnfJZN8iDLuZ59pxcwDg1v1FD4' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '21d43cbd-a8f8-44a2-a0db-34df9c93e8ce' LIMIT 1;
Executing (f7b7d64e-6f25-40da-8cbd-ac89255aee5a): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_dff1596809ea45d7bc5436eb17ddaf6f$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('cbacbaaf-6e9a-4e2e-9297-da136fd10677','150144d2-2739-400c-bb1d-a7116901f952','21d43cbd-a8f8-44a2-a0db-34df9c93e8ce','QmaFnoY7FUKS1JP8CJ2zKnfJZN8iDLuZ59pxcwDg1v1FD4','63d60fad-9922-4d7a-a5fa-cfeab0b45056.aif','/file_storage/QmaFnoY7FUKS1JP8CJ2zKnfJZN8iDLuZ59pxcwDg1v1FD4','copy320','2020-03-05 17:33:33.968 +00:00','2020-03-05 17:33:33.968 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_dff1596809ea45d7bc5436eb17ddaf6f$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (f7b7d64e-6f25-40da-8cbd-ac89255aee5a): COMMIT;
{ fileUUID: 'cbacbaaf-6e9a-4e2e-9297-da136fd10677',
  cnodeUserUUID: '150144d2-2739-400c-bb1d-a7116901f952',
  multihash: 'QmaFnoY7FUKS1JP8CJ2zKnfJZN8iDLuZ59pxcwDg1v1FD4',
  sourceFile: '63d60fad-9922-4d7a-a5fa-cfeab0b45056.aif',
  storagePath:
   '/file_storage/QmaFnoY7FUKS1JP8CJ2zKnfJZN8iDLuZ59pxcwDg1v1FD4',
  type: 'copy320',
  trackUUID: '21d43cbd-a8f8-44a2-a0db-34df9c93e8ce',
  updatedAt: 2020-03-05T17:33:33.968Z,
  createdAt: 2020-03-05T17:33:33.968Z }
writing to db3...
Executing (736f08d1-9f9b-40db-9bba-3375c2e25cdd): START TRANSACTION;
Executing (736f08d1-9f9b-40db-9bba-3375c2e25cdd): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '150144d2-2739-400c-bb1d-a7116901f952' AND "File"."multihash" = 'QmaFnoY7FUKS1JP8CJ2zKnfJZN8iDLuZ59pxcwDg1v1FD4' AND "File"."sourceFile" = '63d60fad-9922-4d7a-a5fa-cfeab0b45056.aif' AND "File"."storagePath" = '/file_storage/QmaFnoY7FUKS1JP8CJ2zKnfJZN8iDLuZ59pxcwDg1v1FD4' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '21d43cbd-a8f8-44a2-a0db-34df9c93e8ce' LIMIT 1;
Executing (736f08d1-9f9b-40db-9bba-3375c2e25cdd): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_abc52caa0a2d45f5988167c2c310e785$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('e6a8b034-5273-40d8-b0e6-16ea2136f672','150144d2-2739-400c-bb1d-a7116901f952','21d43cbd-a8f8-44a2-a0db-34df9c93e8ce','QmaFnoY7FUKS1JP8CJ2zKnfJZN8iDLuZ59pxcwDg1v1FD4','63d60fad-9922-4d7a-a5fa-cfeab0b45056.aif','/file_storage/QmaFnoY7FUKS1JP8CJ2zKnfJZN8iDLuZ59pxcwDg1v1FD4','copy320','2020-03-05 17:33:34.362 +00:00','2020-03-05 17:33:34.362 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_abc52caa0a2d45f5988167c2c310e785$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (736f08d1-9f9b-40db-9bba-3375c2e25cdd): COMMIT;
{ fileUUID: 'e6a8b034-5273-40d8-b0e6-16ea2136f672',
  cnodeUserUUID: '150144d2-2739-400c-bb1d-a7116901f952',
  multihash: 'QmaFnoY7FUKS1JP8CJ2zKnfJZN8iDLuZ59pxcwDg1v1FD4',
  sourceFile: '63d60fad-9922-4d7a-a5fa-cfeab0b45056.aif',
  storagePath:
   '/file_storage/QmaFnoY7FUKS1JP8CJ2zKnfJZN8iDLuZ59pxcwDg1v1FD4',
  type: 'copy320',
  trackUUID: '21d43cbd-a8f8-44a2-a0db-34df9c93e8ce',
  updatedAt: 2020-03-05T17:33:34.362Z,
  createdAt: 2020-03-05T17:33:34.362Z }




PROCESSING ROW #94: sourcefile: 478a69aa-72e0-439b-ac77-f1f7d28280ce.mp3, cnodeUserUUID: 975108ee-ed92-4288-8371-95f974c13110, trackUUID: 8285ff82-f4f4-4598-84cf-4099c359a103, multihash: QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM, dstPath: /file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM
writing to db1...
Executing (30a1c98a-2e45-435d-9589-cb683b0c58b8): START TRANSACTION;
Executing (30a1c98a-2e45-435d-9589-cb683b0c58b8): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '975108ee-ed92-4288-8371-95f974c13110' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = '478a69aa-72e0-439b-ac77-f1f7d28280ce.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '8285ff82-f4f4-4598-84cf-4099c359a103' LIMIT 1;
Executing (30a1c98a-2e45-435d-9589-cb683b0c58b8): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_95dcbbf0ba6742a8b189f7977aaab42e$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('8a167d58-dec5-4235-bd6f-90d17fca62e6','975108ee-ed92-4288-8371-95f974c13110','8285ff82-f4f4-4598-84cf-4099c359a103','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','478a69aa-72e0-439b-ac77-f1f7d28280ce.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:33:34.795 +00:00','2020-03-05 17:33:34.795 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_95dcbbf0ba6742a8b189f7977aaab42e$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (30a1c98a-2e45-435d-9589-cb683b0c58b8): COMMIT;
{ fileUUID: '8a167d58-dec5-4235-bd6f-90d17fca62e6',
  cnodeUserUUID: '975108ee-ed92-4288-8371-95f974c13110',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: '478a69aa-72e0-439b-ac77-f1f7d28280ce.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: '8285ff82-f4f4-4598-84cf-4099c359a103',
  updatedAt: 2020-03-05T17:33:34.795Z,
  createdAt: 2020-03-05T17:33:34.795Z }
writing to db2...
Executing (7b53c32a-6473-4188-b814-9c2428af18b3): START TRANSACTION;
Executing (7b53c32a-6473-4188-b814-9c2428af18b3): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '975108ee-ed92-4288-8371-95f974c13110' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = '478a69aa-72e0-439b-ac77-f1f7d28280ce.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '8285ff82-f4f4-4598-84cf-4099c359a103' LIMIT 1;
Executing (7b53c32a-6473-4188-b814-9c2428af18b3): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_97f876ad93ca4a6e97e27d27db0a3008$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('177882e3-2ae8-4817-b595-9eb45cd4f68d','975108ee-ed92-4288-8371-95f974c13110','8285ff82-f4f4-4598-84cf-4099c359a103','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','478a69aa-72e0-439b-ac77-f1f7d28280ce.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:33:35.277 +00:00','2020-03-05 17:33:35.277 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_97f876ad93ca4a6e97e27d27db0a3008$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (7b53c32a-6473-4188-b814-9c2428af18b3): COMMIT;
{ fileUUID: '177882e3-2ae8-4817-b595-9eb45cd4f68d',
  cnodeUserUUID: '975108ee-ed92-4288-8371-95f974c13110',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: '478a69aa-72e0-439b-ac77-f1f7d28280ce.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: '8285ff82-f4f4-4598-84cf-4099c359a103',
  updatedAt: 2020-03-05T17:33:35.277Z,
  createdAt: 2020-03-05T17:33:35.277Z }
writing to db3...
Executing (889dad9b-b278-4f57-85ea-7d474cb004a3): START TRANSACTION;
Executing (889dad9b-b278-4f57-85ea-7d474cb004a3): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '975108ee-ed92-4288-8371-95f974c13110' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = '478a69aa-72e0-439b-ac77-f1f7d28280ce.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '8285ff82-f4f4-4598-84cf-4099c359a103' LIMIT 1;
Executing (889dad9b-b278-4f57-85ea-7d474cb004a3): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_d830027441b94be091e6aba58dd16e9f$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('a83fdf5a-311b-4c50-80b9-a466126b5338','975108ee-ed92-4288-8371-95f974c13110','8285ff82-f4f4-4598-84cf-4099c359a103','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','478a69aa-72e0-439b-ac77-f1f7d28280ce.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:33:35.664 +00:00','2020-03-05 17:33:35.664 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_d830027441b94be091e6aba58dd16e9f$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (889dad9b-b278-4f57-85ea-7d474cb004a3): COMMIT;
{ fileUUID: 'a83fdf5a-311b-4c50-80b9-a466126b5338',
  cnodeUserUUID: '975108ee-ed92-4288-8371-95f974c13110',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: '478a69aa-72e0-439b-ac77-f1f7d28280ce.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: '8285ff82-f4f4-4598-84cf-4099c359a103',
  updatedAt: 2020-03-05T17:33:35.664Z,
  createdAt: 2020-03-05T17:33:35.664Z }




PROCESSING ROW #95: sourcefile: fa18e728-207d-482d-b60b-1bd0cbd7159d.mp3, cnodeUserUUID: 5df1e747-f68e-4b33-818b-54d85390cc81, trackUUID: b2e46c16-9662-4c38-ae11-b3f58a9f7a2a, multihash: QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM, dstPath: /file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM
writing to db1...
Executing (b7d69940-aba0-4029-862c-38ff21fe9b08): START TRANSACTION;
Executing (b7d69940-aba0-4029-862c-38ff21fe9b08): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '5df1e747-f68e-4b33-818b-54d85390cc81' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = 'fa18e728-207d-482d-b60b-1bd0cbd7159d.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = 'b2e46c16-9662-4c38-ae11-b3f58a9f7a2a' LIMIT 1;
Executing (b7d69940-aba0-4029-862c-38ff21fe9b08): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_60bebfcfea7b42f1b1db9d297a044093$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('de28fe59-4bac-485f-99f0-5027dbc1f986','5df1e747-f68e-4b33-818b-54d85390cc81','b2e46c16-9662-4c38-ae11-b3f58a9f7a2a','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','fa18e728-207d-482d-b60b-1bd0cbd7159d.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:33:36.064 +00:00','2020-03-05 17:33:36.064 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_60bebfcfea7b42f1b1db9d297a044093$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (b7d69940-aba0-4029-862c-38ff21fe9b08): COMMIT;
{ fileUUID: 'de28fe59-4bac-485f-99f0-5027dbc1f986',
  cnodeUserUUID: '5df1e747-f68e-4b33-818b-54d85390cc81',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: 'fa18e728-207d-482d-b60b-1bd0cbd7159d.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: 'b2e46c16-9662-4c38-ae11-b3f58a9f7a2a',
  updatedAt: 2020-03-05T17:33:36.064Z,
  createdAt: 2020-03-05T17:33:36.064Z }
writing to db2...
Executing (191e0810-070f-4b80-9c87-c82552c105f6): START TRANSACTION;
Executing (191e0810-070f-4b80-9c87-c82552c105f6): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '5df1e747-f68e-4b33-818b-54d85390cc81' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = 'fa18e728-207d-482d-b60b-1bd0cbd7159d.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = 'b2e46c16-9662-4c38-ae11-b3f58a9f7a2a' LIMIT 1;
Executing (191e0810-070f-4b80-9c87-c82552c105f6): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_4ac360cb670841f098445d844cdd8ba9$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('4e1388c1-eb75-41e0-9f1c-5b3b32d65393','5df1e747-f68e-4b33-818b-54d85390cc81','b2e46c16-9662-4c38-ae11-b3f58a9f7a2a','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','fa18e728-207d-482d-b60b-1bd0cbd7159d.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:33:36.464 +00:00','2020-03-05 17:33:36.464 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_4ac360cb670841f098445d844cdd8ba9$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (191e0810-070f-4b80-9c87-c82552c105f6): COMMIT;
{ fileUUID: '4e1388c1-eb75-41e0-9f1c-5b3b32d65393',
  cnodeUserUUID: '5df1e747-f68e-4b33-818b-54d85390cc81',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: 'fa18e728-207d-482d-b60b-1bd0cbd7159d.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: 'b2e46c16-9662-4c38-ae11-b3f58a9f7a2a',
  updatedAt: 2020-03-05T17:33:36.464Z,
  createdAt: 2020-03-05T17:33:36.464Z }
writing to db3...
Executing (c611b57b-12f9-49e1-b58b-a0501f8046cf): START TRANSACTION;
Executing (c611b57b-12f9-49e1-b58b-a0501f8046cf): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '5df1e747-f68e-4b33-818b-54d85390cc81' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = 'fa18e728-207d-482d-b60b-1bd0cbd7159d.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = 'b2e46c16-9662-4c38-ae11-b3f58a9f7a2a' LIMIT 1;
Executing (c611b57b-12f9-49e1-b58b-a0501f8046cf): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_aa34829285a646f5b84e135c8de9ac24$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('66e45525-cd96-45ef-8e57-608c13b3d9dd','5df1e747-f68e-4b33-818b-54d85390cc81','b2e46c16-9662-4c38-ae11-b3f58a9f7a2a','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','fa18e728-207d-482d-b60b-1bd0cbd7159d.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:33:36.854 +00:00','2020-03-05 17:33:36.854 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_aa34829285a646f5b84e135c8de9ac24$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (c611b57b-12f9-49e1-b58b-a0501f8046cf): COMMIT;
{ fileUUID: '66e45525-cd96-45ef-8e57-608c13b3d9dd',
  cnodeUserUUID: '5df1e747-f68e-4b33-818b-54d85390cc81',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: 'fa18e728-207d-482d-b60b-1bd0cbd7159d.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: 'b2e46c16-9662-4c38-ae11-b3f58a9f7a2a',
  updatedAt: 2020-03-05T17:33:36.854Z,
  createdAt: 2020-03-05T17:33:36.854Z }




PROCESSING ROW #96: sourcefile: 668eab16-0733-4272-92bf-7c474798eda2.mp3, cnodeUserUUID: 99e92218-04dd-4441-b8f0-34ffee8471da, trackUUID: 05c6d7a3-7d86-4326-af83-97a528d82a82, multihash: QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM, dstPath: /file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM
writing to db1...
Executing (4c6675b3-2f4c-4856-a7c3-1e8bca5759cd): START TRANSACTION;
Executing (4c6675b3-2f4c-4856-a7c3-1e8bca5759cd): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '99e92218-04dd-4441-b8f0-34ffee8471da' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = '668eab16-0733-4272-92bf-7c474798eda2.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '05c6d7a3-7d86-4326-af83-97a528d82a82' LIMIT 1;
Executing (4c6675b3-2f4c-4856-a7c3-1e8bca5759cd): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_4bbd5868a48849c28fdf73ba96475db5$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('d639f8cc-49c4-4e84-8fce-64eaaa1da18f','99e92218-04dd-4441-b8f0-34ffee8471da','05c6d7a3-7d86-4326-af83-97a528d82a82','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','668eab16-0733-4272-92bf-7c474798eda2.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:33:37.261 +00:00','2020-03-05 17:33:37.261 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_4bbd5868a48849c28fdf73ba96475db5$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (4c6675b3-2f4c-4856-a7c3-1e8bca5759cd): COMMIT;
{ fileUUID: 'd639f8cc-49c4-4e84-8fce-64eaaa1da18f',
  cnodeUserUUID: '99e92218-04dd-4441-b8f0-34ffee8471da',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: '668eab16-0733-4272-92bf-7c474798eda2.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: '05c6d7a3-7d86-4326-af83-97a528d82a82',
  updatedAt: 2020-03-05T17:33:37.261Z,
  createdAt: 2020-03-05T17:33:37.261Z }
writing to db2...
Executing (227cdb07-f92c-4c8d-96ae-34453990800e): START TRANSACTION;
Executing (227cdb07-f92c-4c8d-96ae-34453990800e): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '99e92218-04dd-4441-b8f0-34ffee8471da' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = '668eab16-0733-4272-92bf-7c474798eda2.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '05c6d7a3-7d86-4326-af83-97a528d82a82' LIMIT 1;
Executing (227cdb07-f92c-4c8d-96ae-34453990800e): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_992075215f654cbb9bc69cffc325250d$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('91d92afa-9390-439a-9627-30f4891e4d54','99e92218-04dd-4441-b8f0-34ffee8471da','05c6d7a3-7d86-4326-af83-97a528d82a82','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','668eab16-0733-4272-92bf-7c474798eda2.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:33:37.650 +00:00','2020-03-05 17:33:37.650 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_992075215f654cbb9bc69cffc325250d$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (227cdb07-f92c-4c8d-96ae-34453990800e): COMMIT;
{ fileUUID: '91d92afa-9390-439a-9627-30f4891e4d54',
  cnodeUserUUID: '99e92218-04dd-4441-b8f0-34ffee8471da',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: '668eab16-0733-4272-92bf-7c474798eda2.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: '05c6d7a3-7d86-4326-af83-97a528d82a82',
  updatedAt: 2020-03-05T17:33:37.650Z,
  createdAt: 2020-03-05T17:33:37.650Z }
writing to db3...
Executing (c4588b79-47bf-442b-8486-0f6c430d8dc0): START TRANSACTION;
Executing (c4588b79-47bf-442b-8486-0f6c430d8dc0): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '99e92218-04dd-4441-b8f0-34ffee8471da' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = '668eab16-0733-4272-92bf-7c474798eda2.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '05c6d7a3-7d86-4326-af83-97a528d82a82' LIMIT 1;
Executing (c4588b79-47bf-442b-8486-0f6c430d8dc0): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_bc336229e0584c2cb194f6a62a42cf85$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('383e75e2-fac4-4347-9aa8-1bc838f68645','99e92218-04dd-4441-b8f0-34ffee8471da','05c6d7a3-7d86-4326-af83-97a528d82a82','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','668eab16-0733-4272-92bf-7c474798eda2.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:33:38.018 +00:00','2020-03-05 17:33:38.018 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_bc336229e0584c2cb194f6a62a42cf85$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (c4588b79-47bf-442b-8486-0f6c430d8dc0): COMMIT;
{ fileUUID: '383e75e2-fac4-4347-9aa8-1bc838f68645',
  cnodeUserUUID: '99e92218-04dd-4441-b8f0-34ffee8471da',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: '668eab16-0733-4272-92bf-7c474798eda2.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: '05c6d7a3-7d86-4326-af83-97a528d82a82',
  updatedAt: 2020-03-05T17:33:38.018Z,
  createdAt: 2020-03-05T17:33:38.018Z }




PROCESSING ROW #97: sourcefile: 34e64761-0019-4c4b-aa4c-8d5b501f8ef2.mp3, cnodeUserUUID: f4408f43-2c1b-4d6c-aef6-da45a4867304, trackUUID: 0c41eb02-a47f-413f-8431-0623ef59b603, multihash: QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM, dstPath: /file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM
writing to db1...
Executing (b32c1371-b5ce-4db9-b926-685deacc80fc): START TRANSACTION;
Executing (b32c1371-b5ce-4db9-b926-685deacc80fc): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = 'f4408f43-2c1b-4d6c-aef6-da45a4867304' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = '34e64761-0019-4c4b-aa4c-8d5b501f8ef2.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '0c41eb02-a47f-413f-8431-0623ef59b603' LIMIT 1;
Executing (b32c1371-b5ce-4db9-b926-685deacc80fc): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_7eb9b49f49454df6b0b048124ad24957$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('b3b7397b-d163-4936-b5de-220360f3da3e','f4408f43-2c1b-4d6c-aef6-da45a4867304','0c41eb02-a47f-413f-8431-0623ef59b603','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','34e64761-0019-4c4b-aa4c-8d5b501f8ef2.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:33:38.418 +00:00','2020-03-05 17:33:38.418 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_7eb9b49f49454df6b0b048124ad24957$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (b32c1371-b5ce-4db9-b926-685deacc80fc): COMMIT;
{ fileUUID: 'b3b7397b-d163-4936-b5de-220360f3da3e',
  cnodeUserUUID: 'f4408f43-2c1b-4d6c-aef6-da45a4867304',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: '34e64761-0019-4c4b-aa4c-8d5b501f8ef2.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: '0c41eb02-a47f-413f-8431-0623ef59b603',
  updatedAt: 2020-03-05T17:33:38.418Z,
  createdAt: 2020-03-05T17:33:38.418Z }
writing to db2...
Executing (36b58cc3-e62e-4040-b14f-e0f6e067c687): START TRANSACTION;
Executing (36b58cc3-e62e-4040-b14f-e0f6e067c687): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = 'f4408f43-2c1b-4d6c-aef6-da45a4867304' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = '34e64761-0019-4c4b-aa4c-8d5b501f8ef2.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '0c41eb02-a47f-413f-8431-0623ef59b603' LIMIT 1;
Executing (36b58cc3-e62e-4040-b14f-e0f6e067c687): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_1ea2580db3ec435696359811063bba59$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('7ad74dae-51ff-4e27-adec-f568d8401aac','f4408f43-2c1b-4d6c-aef6-da45a4867304','0c41eb02-a47f-413f-8431-0623ef59b603','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','34e64761-0019-4c4b-aa4c-8d5b501f8ef2.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:33:38.822 +00:00','2020-03-05 17:33:38.822 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_1ea2580db3ec435696359811063bba59$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (36b58cc3-e62e-4040-b14f-e0f6e067c687): COMMIT;
{ fileUUID: '7ad74dae-51ff-4e27-adec-f568d8401aac',
  cnodeUserUUID: 'f4408f43-2c1b-4d6c-aef6-da45a4867304',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: '34e64761-0019-4c4b-aa4c-8d5b501f8ef2.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: '0c41eb02-a47f-413f-8431-0623ef59b603',
  updatedAt: 2020-03-05T17:33:38.822Z,
  createdAt: 2020-03-05T17:33:38.822Z }
writing to db3...
Executing (defcc192-e772-4e22-a49b-57c7fe2c5094): START TRANSACTION;
Executing (defcc192-e772-4e22-a49b-57c7fe2c5094): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = 'f4408f43-2c1b-4d6c-aef6-da45a4867304' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = '34e64761-0019-4c4b-aa4c-8d5b501f8ef2.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '0c41eb02-a47f-413f-8431-0623ef59b603' LIMIT 1;
Executing (defcc192-e772-4e22-a49b-57c7fe2c5094): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_26b2a0d45ef840fea1f7c04ea50b2813$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('51d3b1f5-fa77-48a2-8e68-d21b43e2c079','f4408f43-2c1b-4d6c-aef6-da45a4867304','0c41eb02-a47f-413f-8431-0623ef59b603','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','34e64761-0019-4c4b-aa4c-8d5b501f8ef2.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:33:39.205 +00:00','2020-03-05 17:33:39.205 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_26b2a0d45ef840fea1f7c04ea50b2813$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (defcc192-e772-4e22-a49b-57c7fe2c5094): COMMIT;
{ fileUUID: '51d3b1f5-fa77-48a2-8e68-d21b43e2c079',
  cnodeUserUUID: 'f4408f43-2c1b-4d6c-aef6-da45a4867304',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: '34e64761-0019-4c4b-aa4c-8d5b501f8ef2.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: '0c41eb02-a47f-413f-8431-0623ef59b603',
  updatedAt: 2020-03-05T17:33:39.205Z,
  createdAt: 2020-03-05T17:33:39.205Z }




PROCESSING ROW #98: sourcefile: 75675e01-52b8-4830-8913-f20b828ea810.mp3, cnodeUserUUID: 4cefba97-54fc-4139-8819-795b47e681e0, trackUUID: d82bf0eb-2119-4c74-b167-ca5e5c69f8ab, multihash: QmcqTxwtCyv8UdUKd3DKjDFdQe87zvRYkfHHy3AFP7Wvhf, dstPath: /file_storage/QmcqTxwtCyv8UdUKd3DKjDFdQe87zvRYkfHHy3AFP7Wvhf
writing to db1...
Executing (600f3a85-ffef-42db-b745-8d15f45bc00c): START TRANSACTION;
Executing (600f3a85-ffef-42db-b745-8d15f45bc00c): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '4cefba97-54fc-4139-8819-795b47e681e0' AND "File"."multihash" = 'QmcqTxwtCyv8UdUKd3DKjDFdQe87zvRYkfHHy3AFP7Wvhf' AND "File"."sourceFile" = '75675e01-52b8-4830-8913-f20b828ea810.mp3' AND "File"."storagePath" = '/file_storage/QmcqTxwtCyv8UdUKd3DKjDFdQe87zvRYkfHHy3AFP7Wvhf' AND "File"."type" = 'copy320' AND "File"."trackUUID" = 'd82bf0eb-2119-4c74-b167-ca5e5c69f8ab' LIMIT 1;
Executing (600f3a85-ffef-42db-b745-8d15f45bc00c): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_280927f58ecd4889b45ba180fb84d33c$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('46dd0d4f-ba25-4836-926d-6a0b555a9d57','4cefba97-54fc-4139-8819-795b47e681e0','d82bf0eb-2119-4c74-b167-ca5e5c69f8ab','QmcqTxwtCyv8UdUKd3DKjDFdQe87zvRYkfHHy3AFP7Wvhf','75675e01-52b8-4830-8913-f20b828ea810.mp3','/file_storage/QmcqTxwtCyv8UdUKd3DKjDFdQe87zvRYkfHHy3AFP7Wvhf','copy320','2020-03-05 17:33:39.594 +00:00','2020-03-05 17:33:39.594 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_280927f58ecd4889b45ba180fb84d33c$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (600f3a85-ffef-42db-b745-8d15f45bc00c): COMMIT;
{ fileUUID: '46dd0d4f-ba25-4836-926d-6a0b555a9d57',
  cnodeUserUUID: '4cefba97-54fc-4139-8819-795b47e681e0',
  multihash: 'QmcqTxwtCyv8UdUKd3DKjDFdQe87zvRYkfHHy3AFP7Wvhf',
  sourceFile: '75675e01-52b8-4830-8913-f20b828ea810.mp3',
  storagePath:
   '/file_storage/QmcqTxwtCyv8UdUKd3DKjDFdQe87zvRYkfHHy3AFP7Wvhf',
  type: 'copy320',
  trackUUID: 'd82bf0eb-2119-4c74-b167-ca5e5c69f8ab',
  updatedAt: 2020-03-05T17:33:39.594Z,
  createdAt: 2020-03-05T17:33:39.594Z }
writing to db2...
Executing (24b380cc-13dd-417b-943a-1c91ac97ad81): START TRANSACTION;
Executing (24b380cc-13dd-417b-943a-1c91ac97ad81): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '4cefba97-54fc-4139-8819-795b47e681e0' AND "File"."multihash" = 'QmcqTxwtCyv8UdUKd3DKjDFdQe87zvRYkfHHy3AFP7Wvhf' AND "File"."sourceFile" = '75675e01-52b8-4830-8913-f20b828ea810.mp3' AND "File"."storagePath" = '/file_storage/QmcqTxwtCyv8UdUKd3DKjDFdQe87zvRYkfHHy3AFP7Wvhf' AND "File"."type" = 'copy320' AND "File"."trackUUID" = 'd82bf0eb-2119-4c74-b167-ca5e5c69f8ab' LIMIT 1;
Executing (24b380cc-13dd-417b-943a-1c91ac97ad81): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_7011cf235e594d2fb767f5a052b87c0a$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('8a2f8287-61de-4e5a-92a9-ce5ad000cebb','4cefba97-54fc-4139-8819-795b47e681e0','d82bf0eb-2119-4c74-b167-ca5e5c69f8ab','QmcqTxwtCyv8UdUKd3DKjDFdQe87zvRYkfHHy3AFP7Wvhf','75675e01-52b8-4830-8913-f20b828ea810.mp3','/file_storage/QmcqTxwtCyv8UdUKd3DKjDFdQe87zvRYkfHHy3AFP7Wvhf','copy320','2020-03-05 17:33:40.008 +00:00','2020-03-05 17:33:40.008 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_7011cf235e594d2fb767f5a052b87c0a$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (24b380cc-13dd-417b-943a-1c91ac97ad81): COMMIT;
{ fileUUID: '8a2f8287-61de-4e5a-92a9-ce5ad000cebb',
  cnodeUserUUID: '4cefba97-54fc-4139-8819-795b47e681e0',
  multihash: 'QmcqTxwtCyv8UdUKd3DKjDFdQe87zvRYkfHHy3AFP7Wvhf',
  sourceFile: '75675e01-52b8-4830-8913-f20b828ea810.mp3',
  storagePath:
   '/file_storage/QmcqTxwtCyv8UdUKd3DKjDFdQe87zvRYkfHHy3AFP7Wvhf',
  type: 'copy320',
  trackUUID: 'd82bf0eb-2119-4c74-b167-ca5e5c69f8ab',
  updatedAt: 2020-03-05T17:33:40.008Z,
  createdAt: 2020-03-05T17:33:40.008Z }
writing to db3...
Executing (95458207-3507-4e67-b114-062ac2006509): START TRANSACTION;
Executing (95458207-3507-4e67-b114-062ac2006509): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '4cefba97-54fc-4139-8819-795b47e681e0' AND "File"."multihash" = 'QmcqTxwtCyv8UdUKd3DKjDFdQe87zvRYkfHHy3AFP7Wvhf' AND "File"."sourceFile" = '75675e01-52b8-4830-8913-f20b828ea810.mp3' AND "File"."storagePath" = '/file_storage/QmcqTxwtCyv8UdUKd3DKjDFdQe87zvRYkfHHy3AFP7Wvhf' AND "File"."type" = 'copy320' AND "File"."trackUUID" = 'd82bf0eb-2119-4c74-b167-ca5e5c69f8ab' LIMIT 1;
Executing (95458207-3507-4e67-b114-062ac2006509): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_44fc8fed0bd24024a02854f7e8a8e476$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('44be7b61-ea31-4a9f-a85e-4bc500a18fb5','4cefba97-54fc-4139-8819-795b47e681e0','d82bf0eb-2119-4c74-b167-ca5e5c69f8ab','QmcqTxwtCyv8UdUKd3DKjDFdQe87zvRYkfHHy3AFP7Wvhf','75675e01-52b8-4830-8913-f20b828ea810.mp3','/file_storage/QmcqTxwtCyv8UdUKd3DKjDFdQe87zvRYkfHHy3AFP7Wvhf','copy320','2020-03-05 17:33:40.408 +00:00','2020-03-05 17:33:40.408 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_44fc8fed0bd24024a02854f7e8a8e476$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (95458207-3507-4e67-b114-062ac2006509): COMMIT;
{ SequelizeForeignKeyConstraintError: insert or update on table "Files" violates foreign key constraint "Files_trackUUID_fkey"
    at Query.formatError (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/sequelize/lib/dialects/postgres/query.js:296:16)
    at query.catch.err (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/sequelize/lib/dialects/postgres/query.js:86:18)
    at tryCatcher (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/bluebird/js/release/util.js:16:23)
    at Promise._settlePromiseFromHandler (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/bluebird/js/release/promise.js:517:31)
    at Promise._settlePromise (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/bluebird/js/release/promise.js:574:18)
    at Promise._settlePromise0 (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/bluebird/js/release/promise.js:619:10)
    at Promise._settlePromises (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/bluebird/js/release/promise.js:695:18)
    at _drainQueueStep (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/bluebird/js/release/async.js:138:12)
    at _drainQueue (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/bluebird/js/release/async.js:131:9)
    at Async._drainQueues (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/bluebird/js/release/async.js:147:5)
    at Immediate.Async.drainQueues [as _onImmediate] (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/bluebird/js/release/async.js:17:14)
    at runCallback (timers.js:705:18)
    at tryOnImmediate (timers.js:676:5)
    at processImmediate (timers.js:658:5)
  name: 'SequelizeForeignKeyConstraintError',
  parent:
   { error: insert or update on table "Files" violates foreign key constraint "Files_trackUUID_fkey"
       at Connection.parseE (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/pg/lib/connection.js:604:11)
       at Connection.parseMessage (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/pg/lib/connection.js:401:19)
       at Socket.<anonymous> (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/pg/lib/connection.js:121:22)
       at Socket.emit (events.js:198:13)
       at addChunk (_stream_readable.js:288:12)
       at readableAddChunk (_stream_readable.js:269:11)
       at Socket.Readable.push (_stream_readable.js:224:10)
       at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)
     name: 'error',
     length: 865,
     severity: 'ERROR',
     code: '23503',
     detail:
      'Key (trackUUID)=(d82bf0eb-2119-4c74-b167-ca5e5c69f8ab) is not present in table "Tracks".',
     hint: undefined,
     position: undefined,
     internalPosition: undefined,
     internalQuery: undefined,
     where:
      'SQL statement "INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES (\'44be7b61-ea31-4a9f-a85e-4bc500a18fb5\',\'4cefba97-54fc-4139-8819-795b47e681e0\',\'d82bf0eb-2119-4c74-b167-ca5e5c69f8ab\',\'QmcqTxwtCyv8UdUKd3DKjDFdQe87zvRYkfHHy3AFP7Wvhf\',\'75675e01-52b8-4830-8913-f20b828ea810.mp3\',\'/file_storage/QmcqTxwtCyv8UdUKd3DKjDFdQe87zvRYkfHHy3AFP7Wvhf\',\'copy320\',\'2020-03-05 17:33:40.408 +00:00\',\'2020-03-05 17:33:40.408 +00:00\') RETURNING *"\nPL/pgSQL function pg_temp_68.testfunc() line 1 at SQL statement',
     schema: 'public',
     table: 'Files',
     column: undefined,
     dataType: undefined,
     constraint: 'Files_trackUUID_fkey',
     file: 'ri_triggers.c',
     line: '2783',
     routine: 'ri_ReportViolation',
     sql:
      'CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_44fc8fed0bd24024a02854f7e8a8e476$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES (\'44be7b61-ea31-4a9f-a85e-4bc500a18fb5\',\'4cefba97-54fc-4139-8819-795b47e681e0\',\'d82bf0eb-2119-4c74-b167-ca5e5c69f8ab\',\'QmcqTxwtCyv8UdUKd3DKjDFdQe87zvRYkfHHy3AFP7Wvhf\',\'75675e01-52b8-4830-8913-f20b828ea810.mp3\',\'/file_storage/QmcqTxwtCyv8UdUKd3DKjDFdQe87zvRYkfHHy3AFP7Wvhf\',\'copy320\',\'2020-03-05 17:33:40.408 +00:00\',\'2020-03-05 17:33:40.408 +00:00\') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_44fc8fed0bd24024a02854f7e8a8e476$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();' },
  original:
   { error: insert or update on table "Files" violates foreign key constraint "Files_trackUUID_fkey"
       at Connection.parseE (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/pg/lib/connection.js:604:11)
       at Connection.parseMessage (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/pg/lib/connection.js:401:19)
       at Socket.<anonymous> (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/pg/lib/connection.js:121:22)
       at Socket.emit (events.js:198:13)
       at addChunk (_stream_readable.js:288:12)
       at readableAddChunk (_stream_readable.js:269:11)
       at Socket.Readable.push (_stream_readable.js:224:10)
       at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)
     name: 'error',
     length: 865,
     severity: 'ERROR',
     code: '23503',
     detail:
      'Key (trackUUID)=(d82bf0eb-2119-4c74-b167-ca5e5c69f8ab) is not present in table "Tracks".',
     hint: undefined,
     position: undefined,
     internalPosition: undefined,
     internalQuery: undefined,
     where:
      'SQL statement "INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES (\'44be7b61-ea31-4a9f-a85e-4bc500a18fb5\',\'4cefba97-54fc-4139-8819-795b47e681e0\',\'d82bf0eb-2119-4c74-b167-ca5e5c69f8ab\',\'QmcqTxwtCyv8UdUKd3DKjDFdQe87zvRYkfHHy3AFP7Wvhf\',\'75675e01-52b8-4830-8913-f20b828ea810.mp3\',\'/file_storage/QmcqTxwtCyv8UdUKd3DKjDFdQe87zvRYkfHHy3AFP7Wvhf\',\'copy320\',\'2020-03-05 17:33:40.408 +00:00\',\'2020-03-05 17:33:40.408 +00:00\') RETURNING *"\nPL/pgSQL function pg_temp_68.testfunc() line 1 at SQL statement',
     schema: 'public',
     table: 'Files',
     column: undefined,
     dataType: undefined,
     constraint: 'Files_trackUUID_fkey',
     file: 'ri_triggers.c',
     line: '2783',
     routine: 'ri_ReportViolation',
     sql:
      'CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_44fc8fed0bd24024a02854f7e8a8e476$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES (\'44be7b61-ea31-4a9f-a85e-4bc500a18fb5\',\'4cefba97-54fc-4139-8819-795b47e681e0\',\'d82bf0eb-2119-4c74-b167-ca5e5c69f8ab\',\'QmcqTxwtCyv8UdUKd3DKjDFdQe87zvRYkfHHy3AFP7Wvhf\',\'75675e01-52b8-4830-8913-f20b828ea810.mp3\',\'/file_storage/QmcqTxwtCyv8UdUKd3DKjDFdQe87zvRYkfHHy3AFP7Wvhf\',\'copy320\',\'2020-03-05 17:33:40.408 +00:00\',\'2020-03-05 17:33:40.408 +00:00\') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_44fc8fed0bd24024a02854f7e8a8e476$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();' },
  sql:
   'CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_44fc8fed0bd24024a02854f7e8a8e476$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES (\'44be7b61-ea31-4a9f-a85e-4bc500a18fb5\',\'4cefba97-54fc-4139-8819-795b47e681e0\',\'d82bf0eb-2119-4c74-b167-ca5e5c69f8ab\',\'QmcqTxwtCyv8UdUKd3DKjDFdQe87zvRYkfHHy3AFP7Wvhf\',\'75675e01-52b8-4830-8913-f20b828ea810.mp3\',\'/file_storage/QmcqTxwtCyv8UdUKd3DKjDFdQe87zvRYkfHHy3AFP7Wvhf\',\'copy320\',\'2020-03-05 17:33:40.408 +00:00\',\'2020-03-05 17:33:40.408 +00:00\') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_44fc8fed0bd24024a02854f7e8a8e476$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();',
  fields: null,
  table: 'Files',
  value: undefined,
  index: 'Files_trackUUID_fkey',
  reltype: undefined }




PROCESSING ROW #99: sourcefile: 48dc9ef8-c2b3-43a5-8eb5-59a9ae9b81c6.mp3, cnodeUserUUID: cb82272d-524f-4dd8-b7e4-3d9eaea58a17, trackUUID: 7c4d2c89-2e8a-4ffd-998b-2744929be969, multihash: QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM, dstPath: /file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM
writing to db1...
Executing (3cf23992-e004-4162-a532-6da977474850): START TRANSACTION;
Executing (3cf23992-e004-4162-a532-6da977474850): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = 'cb82272d-524f-4dd8-b7e4-3d9eaea58a17' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = '48dc9ef8-c2b3-43a5-8eb5-59a9ae9b81c6.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '7c4d2c89-2e8a-4ffd-998b-2744929be969' LIMIT 1;
Executing (3cf23992-e004-4162-a532-6da977474850): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_1350a8b3f04740929ac07519d2922ab5$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('958dc059-df5a-45f8-857a-5f588f308d6c','cb82272d-524f-4dd8-b7e4-3d9eaea58a17','7c4d2c89-2e8a-4ffd-998b-2744929be969','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','48dc9ef8-c2b3-43a5-8eb5-59a9ae9b81c6.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:33:40.804 +00:00','2020-03-05 17:33:40.804 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_1350a8b3f04740929ac07519d2922ab5$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (3cf23992-e004-4162-a532-6da977474850): COMMIT;
{ fileUUID: '958dc059-df5a-45f8-857a-5f588f308d6c',
  cnodeUserUUID: 'cb82272d-524f-4dd8-b7e4-3d9eaea58a17',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: '48dc9ef8-c2b3-43a5-8eb5-59a9ae9b81c6.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: '7c4d2c89-2e8a-4ffd-998b-2744929be969',
  updatedAt: 2020-03-05T17:33:40.804Z,
  createdAt: 2020-03-05T17:33:40.804Z }
writing to db2...
Executing (53e046d3-4d42-4970-a1fa-f9816a91ced1): START TRANSACTION;
Executing (53e046d3-4d42-4970-a1fa-f9816a91ced1): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = 'cb82272d-524f-4dd8-b7e4-3d9eaea58a17' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = '48dc9ef8-c2b3-43a5-8eb5-59a9ae9b81c6.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '7c4d2c89-2e8a-4ffd-998b-2744929be969' LIMIT 1;
Executing (53e046d3-4d42-4970-a1fa-f9816a91ced1): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_c06f268246ee455fafe8ece8bb331091$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('9f4d3c45-c66d-4935-af84-2f14f8bd9fc8','cb82272d-524f-4dd8-b7e4-3d9eaea58a17','7c4d2c89-2e8a-4ffd-998b-2744929be969','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','48dc9ef8-c2b3-43a5-8eb5-59a9ae9b81c6.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:33:41.192 +00:00','2020-03-05 17:33:41.192 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_c06f268246ee455fafe8ece8bb331091$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (53e046d3-4d42-4970-a1fa-f9816a91ced1): COMMIT;
{ fileUUID: '9f4d3c45-c66d-4935-af84-2f14f8bd9fc8',
  cnodeUserUUID: 'cb82272d-524f-4dd8-b7e4-3d9eaea58a17',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: '48dc9ef8-c2b3-43a5-8eb5-59a9ae9b81c6.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: '7c4d2c89-2e8a-4ffd-998b-2744929be969',
  updatedAt: 2020-03-05T17:33:41.192Z,
  createdAt: 2020-03-05T17:33:41.192Z }
writing to db3...
Executing (e4cbdb38-383c-43ea-841a-c3fb74f3169f): START TRANSACTION;
Executing (e4cbdb38-383c-43ea-841a-c3fb74f3169f): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = 'cb82272d-524f-4dd8-b7e4-3d9eaea58a17' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = '48dc9ef8-c2b3-43a5-8eb5-59a9ae9b81c6.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '7c4d2c89-2e8a-4ffd-998b-2744929be969' LIMIT 1;
Executing (e4cbdb38-383c-43ea-841a-c3fb74f3169f): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_dfee9bce2cb64c738309115648c46b77$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('d93b4fd6-7609-4979-8a66-37ecdf52609c','cb82272d-524f-4dd8-b7e4-3d9eaea58a17','7c4d2c89-2e8a-4ffd-998b-2744929be969','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','48dc9ef8-c2b3-43a5-8eb5-59a9ae9b81c6.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:33:41.583 +00:00','2020-03-05 17:33:41.583 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_dfee9bce2cb64c738309115648c46b77$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (e4cbdb38-383c-43ea-841a-c3fb74f3169f): COMMIT;
{ fileUUID: 'd93b4fd6-7609-4979-8a66-37ecdf52609c',
  cnodeUserUUID: 'cb82272d-524f-4dd8-b7e4-3d9eaea58a17',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: '48dc9ef8-c2b3-43a5-8eb5-59a9ae9b81c6.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: '7c4d2c89-2e8a-4ffd-998b-2744929be969',
  updatedAt: 2020-03-05T17:33:41.583Z,
  createdAt: 2020-03-05T17:33:41.583Z }




PROCESSING ROW #100: sourcefile: 13a71bf7-c294-4df2-812d-e4ffac02e329.mp3, cnodeUserUUID: 150144d2-2739-400c-bb1d-a7116901f952, trackUUID: 5c3982a2-ba92-432d-a961-3c5a36c65a09, multihash: QmQLrYxWsyByEU6EeojyZDDTWWujAnTzQhmGUc4tYqMhBU, dstPath: /file_storage/QmQLrYxWsyByEU6EeojyZDDTWWujAnTzQhmGUc4tYqMhBU
writing to db1...
Executing (c8aa4bf4-afd0-4ab3-bc98-626d5a1b4c8a): START TRANSACTION;
Executing (c8aa4bf4-afd0-4ab3-bc98-626d5a1b4c8a): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '150144d2-2739-400c-bb1d-a7116901f952' AND "File"."multihash" = 'QmQLrYxWsyByEU6EeojyZDDTWWujAnTzQhmGUc4tYqMhBU' AND "File"."sourceFile" = '13a71bf7-c294-4df2-812d-e4ffac02e329.mp3' AND "File"."storagePath" = '/file_storage/QmQLrYxWsyByEU6EeojyZDDTWWujAnTzQhmGUc4tYqMhBU' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '5c3982a2-ba92-432d-a961-3c5a36c65a09' LIMIT 1;
Executing (c8aa4bf4-afd0-4ab3-bc98-626d5a1b4c8a): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_8713e082586646a7a19fdc0d14689d50$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('1237e005-abcc-4459-b341-447601f9dcc0','150144d2-2739-400c-bb1d-a7116901f952','5c3982a2-ba92-432d-a961-3c5a36c65a09','QmQLrYxWsyByEU6EeojyZDDTWWujAnTzQhmGUc4tYqMhBU','13a71bf7-c294-4df2-812d-e4ffac02e329.mp3','/file_storage/QmQLrYxWsyByEU6EeojyZDDTWWujAnTzQhmGUc4tYqMhBU','copy320','2020-03-05 17:33:41.965 +00:00','2020-03-05 17:33:41.965 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_8713e082586646a7a19fdc0d14689d50$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (c8aa4bf4-afd0-4ab3-bc98-626d5a1b4c8a): COMMIT;
{ fileUUID: '1237e005-abcc-4459-b341-447601f9dcc0',
  cnodeUserUUID: '150144d2-2739-400c-bb1d-a7116901f952',
  multihash: 'QmQLrYxWsyByEU6EeojyZDDTWWujAnTzQhmGUc4tYqMhBU',
  sourceFile: '13a71bf7-c294-4df2-812d-e4ffac02e329.mp3',
  storagePath:
   '/file_storage/QmQLrYxWsyByEU6EeojyZDDTWWujAnTzQhmGUc4tYqMhBU',
  type: 'copy320',
  trackUUID: '5c3982a2-ba92-432d-a961-3c5a36c65a09',
  updatedAt: 2020-03-05T17:33:41.965Z,
  createdAt: 2020-03-05T17:33:41.965Z }
writing to db2...
Executing (9edacc86-b6c6-4605-b070-b3f736041a28): START TRANSACTION;
Executing (9edacc86-b6c6-4605-b070-b3f736041a28): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '150144d2-2739-400c-bb1d-a7116901f952' AND "File"."multihash" = 'QmQLrYxWsyByEU6EeojyZDDTWWujAnTzQhmGUc4tYqMhBU' AND "File"."sourceFile" = '13a71bf7-c294-4df2-812d-e4ffac02e329.mp3' AND "File"."storagePath" = '/file_storage/QmQLrYxWsyByEU6EeojyZDDTWWujAnTzQhmGUc4tYqMhBU' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '5c3982a2-ba92-432d-a961-3c5a36c65a09' LIMIT 1;
Executing (9edacc86-b6c6-4605-b070-b3f736041a28): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_e47adbfeba63441c9b002bd590ba5904$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('d6cc6faa-4a8e-4bca-b619-39db904ba7a0','150144d2-2739-400c-bb1d-a7116901f952','5c3982a2-ba92-432d-a961-3c5a36c65a09','QmQLrYxWsyByEU6EeojyZDDTWWujAnTzQhmGUc4tYqMhBU','13a71bf7-c294-4df2-812d-e4ffac02e329.mp3','/file_storage/QmQLrYxWsyByEU6EeojyZDDTWWujAnTzQhmGUc4tYqMhBU','copy320','2020-03-05 17:33:42.358 +00:00','2020-03-05 17:33:42.358 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_e47adbfeba63441c9b002bd590ba5904$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (9edacc86-b6c6-4605-b070-b3f736041a28): COMMIT;
{ SequelizeForeignKeyConstraintError: insert or update on table "Files" violates foreign key constraint "Files_trackUUID_fkey"
    at Query.formatError (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/sequelize/lib/dialects/postgres/query.js:296:16)
    at query.catch.err (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/sequelize/lib/dialects/postgres/query.js:86:18)
    at tryCatcher (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/bluebird/js/release/util.js:16:23)
    at Promise._settlePromiseFromHandler (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/bluebird/js/release/promise.js:517:31)
    at Promise._settlePromise (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/bluebird/js/release/promise.js:574:18)
    at Promise._settlePromise0 (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/bluebird/js/release/promise.js:619:10)
    at Promise._settlePromises (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/bluebird/js/release/promise.js:695:18)
    at _drainQueueStep (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/bluebird/js/release/async.js:138:12)
    at _drainQueue (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/bluebird/js/release/async.js:131:9)
    at Async._drainQueues (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/bluebird/js/release/async.js:147:5)
    at Immediate.Async.drainQueues [as _onImmediate] (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/bluebird/js/release/async.js:17:14)
    at runCallback (timers.js:705:18)
    at tryOnImmediate (timers.js:676:5)
    at processImmediate (timers.js:658:5)
  name: 'SequelizeForeignKeyConstraintError',
  parent:
   { error: insert or update on table "Files" violates foreign key constraint "Files_trackUUID_fkey"
       at Connection.parseE (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/pg/lib/connection.js:604:11)
       at Connection.parseMessage (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/pg/lib/connection.js:401:19)
       at Socket.<anonymous> (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/pg/lib/connection.js:121:22)
       at Socket.emit (events.js:198:13)
       at addChunk (_stream_readable.js:288:12)
       at readableAddChunk (_stream_readable.js:269:11)
       at Socket.Readable.push (_stream_readable.js:224:10)
       at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)
     name: 'error',
     length: 865,
     severity: 'ERROR',
     code: '23503',
     detail:
      'Key (trackUUID)=(5c3982a2-ba92-432d-a961-3c5a36c65a09) is not present in table "Tracks".',
     hint: undefined,
     position: undefined,
     internalPosition: undefined,
     internalQuery: undefined,
     where:
      'SQL statement "INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES (\'d6cc6faa-4a8e-4bca-b619-39db904ba7a0\',\'150144d2-2739-400c-bb1d-a7116901f952\',\'5c3982a2-ba92-432d-a961-3c5a36c65a09\',\'QmQLrYxWsyByEU6EeojyZDDTWWujAnTzQhmGUc4tYqMhBU\',\'13a71bf7-c294-4df2-812d-e4ffac02e329.mp3\',\'/file_storage/QmQLrYxWsyByEU6EeojyZDDTWWujAnTzQhmGUc4tYqMhBU\',\'copy320\',\'2020-03-05 17:33:42.358 +00:00\',\'2020-03-05 17:33:42.358 +00:00\') RETURNING *"\nPL/pgSQL function pg_temp_13.testfunc() line 1 at SQL statement',
     schema: 'public',
     table: 'Files',
     column: undefined,
     dataType: undefined,
     constraint: 'Files_trackUUID_fkey',
     file: 'ri_triggers.c',
     line: '3266',
     routine: 'ri_ReportViolation',
     sql:
      'CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_e47adbfeba63441c9b002bd590ba5904$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES (\'d6cc6faa-4a8e-4bca-b619-39db904ba7a0\',\'150144d2-2739-400c-bb1d-a7116901f952\',\'5c3982a2-ba92-432d-a961-3c5a36c65a09\',\'QmQLrYxWsyByEU6EeojyZDDTWWujAnTzQhmGUc4tYqMhBU\',\'13a71bf7-c294-4df2-812d-e4ffac02e329.mp3\',\'/file_storage/QmQLrYxWsyByEU6EeojyZDDTWWujAnTzQhmGUc4tYqMhBU\',\'copy320\',\'2020-03-05 17:33:42.358 +00:00\',\'2020-03-05 17:33:42.358 +00:00\') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_e47adbfeba63441c9b002bd590ba5904$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();' },
  original:
   { error: insert or update on table "Files" violates foreign key constraint "Files_trackUUID_fkey"
       at Connection.parseE (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/pg/lib/connection.js:604:11)
       at Connection.parseMessage (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/pg/lib/connection.js:401:19)
       at Socket.<anonymous> (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/pg/lib/connection.js:121:22)
       at Socket.emit (events.js:198:13)
       at addChunk (_stream_readable.js:288:12)
       at readableAddChunk (_stream_readable.js:269:11)
       at Socket.Readable.push (_stream_readable.js:224:10)
       at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)
     name: 'error',
     length: 865,
     severity: 'ERROR',
     code: '23503',
     detail:
      'Key (trackUUID)=(5c3982a2-ba92-432d-a961-3c5a36c65a09) is not present in table "Tracks".',
     hint: undefined,
     position: undefined,
     internalPosition: undefined,
     internalQuery: undefined,
     where:
      'SQL statement "INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES (\'d6cc6faa-4a8e-4bca-b619-39db904ba7a0\',\'150144d2-2739-400c-bb1d-a7116901f952\',\'5c3982a2-ba92-432d-a961-3c5a36c65a09\',\'QmQLrYxWsyByEU6EeojyZDDTWWujAnTzQhmGUc4tYqMhBU\',\'13a71bf7-c294-4df2-812d-e4ffac02e329.mp3\',\'/file_storage/QmQLrYxWsyByEU6EeojyZDDTWWujAnTzQhmGUc4tYqMhBU\',\'copy320\',\'2020-03-05 17:33:42.358 +00:00\',\'2020-03-05 17:33:42.358 +00:00\') RETURNING *"\nPL/pgSQL function pg_temp_13.testfunc() line 1 at SQL statement',
     schema: 'public',
     table: 'Files',
     column: undefined,
     dataType: undefined,
     constraint: 'Files_trackUUID_fkey',
     file: 'ri_triggers.c',
     line: '3266',
     routine: 'ri_ReportViolation',
     sql:
      'CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_e47adbfeba63441c9b002bd590ba5904$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES (\'d6cc6faa-4a8e-4bca-b619-39db904ba7a0\',\'150144d2-2739-400c-bb1d-a7116901f952\',\'5c3982a2-ba92-432d-a961-3c5a36c65a09\',\'QmQLrYxWsyByEU6EeojyZDDTWWujAnTzQhmGUc4tYqMhBU\',\'13a71bf7-c294-4df2-812d-e4ffac02e329.mp3\',\'/file_storage/QmQLrYxWsyByEU6EeojyZDDTWWujAnTzQhmGUc4tYqMhBU\',\'copy320\',\'2020-03-05 17:33:42.358 +00:00\',\'2020-03-05 17:33:42.358 +00:00\') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_e47adbfeba63441c9b002bd590ba5904$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();' },
  sql:
   'CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_e47adbfeba63441c9b002bd590ba5904$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES (\'d6cc6faa-4a8e-4bca-b619-39db904ba7a0\',\'150144d2-2739-400c-bb1d-a7116901f952\',\'5c3982a2-ba92-432d-a961-3c5a36c65a09\',\'QmQLrYxWsyByEU6EeojyZDDTWWujAnTzQhmGUc4tYqMhBU\',\'13a71bf7-c294-4df2-812d-e4ffac02e329.mp3\',\'/file_storage/QmQLrYxWsyByEU6EeojyZDDTWWujAnTzQhmGUc4tYqMhBU\',\'copy320\',\'2020-03-05 17:33:42.358 +00:00\',\'2020-03-05 17:33:42.358 +00:00\') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_e47adbfeba63441c9b002bd590ba5904$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();',
  fields: null,
  table: 'Files',
  value: undefined,
  index: 'Files_trackUUID_fkey',
  reltype: undefined }
writing to db3...
Executing (f13c8736-43dd-43df-beda-5182f1e2ca4d): START TRANSACTION;
Executing (f13c8736-43dd-43df-beda-5182f1e2ca4d): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '150144d2-2739-400c-bb1d-a7116901f952' AND "File"."multihash" = 'QmQLrYxWsyByEU6EeojyZDDTWWujAnTzQhmGUc4tYqMhBU' AND "File"."sourceFile" = '13a71bf7-c294-4df2-812d-e4ffac02e329.mp3' AND "File"."storagePath" = '/file_storage/QmQLrYxWsyByEU6EeojyZDDTWWujAnTzQhmGUc4tYqMhBU' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '5c3982a2-ba92-432d-a961-3c5a36c65a09' LIMIT 1;
Executing (f13c8736-43dd-43df-beda-5182f1e2ca4d): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_50e193b248744bb5b34be149d665b141$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('d877318e-3613-48f8-bbf5-183735484099','150144d2-2739-400c-bb1d-a7116901f952','5c3982a2-ba92-432d-a961-3c5a36c65a09','QmQLrYxWsyByEU6EeojyZDDTWWujAnTzQhmGUc4tYqMhBU','13a71bf7-c294-4df2-812d-e4ffac02e329.mp3','/file_storage/QmQLrYxWsyByEU6EeojyZDDTWWujAnTzQhmGUc4tYqMhBU','copy320','2020-03-05 17:33:42.750 +00:00','2020-03-05 17:33:42.750 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_50e193b248744bb5b34be149d665b141$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (f13c8736-43dd-43df-beda-5182f1e2ca4d): COMMIT;
{ fileUUID: 'd877318e-3613-48f8-bbf5-183735484099',
  cnodeUserUUID: '150144d2-2739-400c-bb1d-a7116901f952',
  multihash: 'QmQLrYxWsyByEU6EeojyZDDTWWujAnTzQhmGUc4tYqMhBU',
  sourceFile: '13a71bf7-c294-4df2-812d-e4ffac02e329.mp3',
  storagePath:
   '/file_storage/QmQLrYxWsyByEU6EeojyZDDTWWujAnTzQhmGUc4tYqMhBU',
  type: 'copy320',
  trackUUID: '5c3982a2-ba92-432d-a961-3c5a36c65a09',
  updatedAt: 2020-03-05T17:33:42.750Z,
  createdAt: 2020-03-05T17:33:42.750Z }




PROCESSING ROW #101: sourcefile: 626e6627-4710-4aea-9545-efc28363a963.mp3, cnodeUserUUID: 9c42f367-64e1-44f3-bb4c-0a4bb794373a, trackUUID: 9136f961-dd02-4760-a881-8040cf47f1d4, multihash: QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM, dstPath: /file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM
writing to db1...
Executing (3bd5153f-1e64-48af-b72a-499bcba6838f): START TRANSACTION;
Executing (3bd5153f-1e64-48af-b72a-499bcba6838f): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '9c42f367-64e1-44f3-bb4c-0a4bb794373a' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = '626e6627-4710-4aea-9545-efc28363a963.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '9136f961-dd02-4760-a881-8040cf47f1d4' LIMIT 1;
Executing (3bd5153f-1e64-48af-b72a-499bcba6838f): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_8c0c05493a934c2592fa9a6c228f9954$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('baa0d3e9-a726-499b-90ef-a779e402956f','9c42f367-64e1-44f3-bb4c-0a4bb794373a','9136f961-dd02-4760-a881-8040cf47f1d4','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','626e6627-4710-4aea-9545-efc28363a963.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:33:43.167 +00:00','2020-03-05 17:33:43.167 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_8c0c05493a934c2592fa9a6c228f9954$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (3bd5153f-1e64-48af-b72a-499bcba6838f): COMMIT;
{ fileUUID: 'baa0d3e9-a726-499b-90ef-a779e402956f',
  cnodeUserUUID: '9c42f367-64e1-44f3-bb4c-0a4bb794373a',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: '626e6627-4710-4aea-9545-efc28363a963.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: '9136f961-dd02-4760-a881-8040cf47f1d4',
  updatedAt: 2020-03-05T17:33:43.167Z,
  createdAt: 2020-03-05T17:33:43.167Z }
writing to db2...
Executing (72f31300-035b-4f04-ad35-0119f7970e3f): START TRANSACTION;
Executing (72f31300-035b-4f04-ad35-0119f7970e3f): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '9c42f367-64e1-44f3-bb4c-0a4bb794373a' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = '626e6627-4710-4aea-9545-efc28363a963.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '9136f961-dd02-4760-a881-8040cf47f1d4' LIMIT 1;
Executing (72f31300-035b-4f04-ad35-0119f7970e3f): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_68180a946a8440ca999cda6ce23bd25d$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('481ced41-4a55-4cfa-a26a-9212246e9831','9c42f367-64e1-44f3-bb4c-0a4bb794373a','9136f961-dd02-4760-a881-8040cf47f1d4','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','626e6627-4710-4aea-9545-efc28363a963.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:33:43.553 +00:00','2020-03-05 17:33:43.553 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_68180a946a8440ca999cda6ce23bd25d$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (72f31300-035b-4f04-ad35-0119f7970e3f): COMMIT;
{ fileUUID: '481ced41-4a55-4cfa-a26a-9212246e9831',
  cnodeUserUUID: '9c42f367-64e1-44f3-bb4c-0a4bb794373a',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: '626e6627-4710-4aea-9545-efc28363a963.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: '9136f961-dd02-4760-a881-8040cf47f1d4',
  updatedAt: 2020-03-05T17:33:43.553Z,
  createdAt: 2020-03-05T17:33:43.553Z }
writing to db3...
Executing (118694d8-3272-422e-9af4-98f8e1077945): START TRANSACTION;
Executing (118694d8-3272-422e-9af4-98f8e1077945): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '9c42f367-64e1-44f3-bb4c-0a4bb794373a' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = '626e6627-4710-4aea-9545-efc28363a963.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '9136f961-dd02-4760-a881-8040cf47f1d4' LIMIT 1;
Executing (118694d8-3272-422e-9af4-98f8e1077945): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_9912e68dfd8843168c854ed7a20b30d1$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('64cbc7f4-80ed-46c3-9a40-6d6cd1c7b50b','9c42f367-64e1-44f3-bb4c-0a4bb794373a','9136f961-dd02-4760-a881-8040cf47f1d4','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','626e6627-4710-4aea-9545-efc28363a963.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:33:43.943 +00:00','2020-03-05 17:33:43.943 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_9912e68dfd8843168c854ed7a20b30d1$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (118694d8-3272-422e-9af4-98f8e1077945): COMMIT;
{ fileUUID: '64cbc7f4-80ed-46c3-9a40-6d6cd1c7b50b',
  cnodeUserUUID: '9c42f367-64e1-44f3-bb4c-0a4bb794373a',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: '626e6627-4710-4aea-9545-efc28363a963.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: '9136f961-dd02-4760-a881-8040cf47f1d4',
  updatedAt: 2020-03-05T17:33:43.943Z,
  createdAt: 2020-03-05T17:33:43.943Z }




PROCESSING ROW #102: sourcefile: 648f2efc-4b93-4ab8-a025-aa7eb287fa75.mp3, cnodeUserUUID: 249cc2c6-a82d-4253-9e4f-faf0191b587d, trackUUID: 94c3ff9e-6118-4671-b575-e5c0cc608a2b, multihash: QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM, dstPath: /file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM
writing to db1...
Executing (4010bd6f-ed77-448a-8277-89256835985e): START TRANSACTION;
Executing (4010bd6f-ed77-448a-8277-89256835985e): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '249cc2c6-a82d-4253-9e4f-faf0191b587d' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = '648f2efc-4b93-4ab8-a025-aa7eb287fa75.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '94c3ff9e-6118-4671-b575-e5c0cc608a2b' LIMIT 1;
Executing (4010bd6f-ed77-448a-8277-89256835985e): COMMIT;
{ fileUUID: '5400a6d9-02f6-46cf-83f4-fe2f325afe2d',
  cnodeUserUUID: '249cc2c6-a82d-4253-9e4f-faf0191b587d',
  trackUUID: '94c3ff9e-6118-4671-b575-e5c0cc608a2b',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: '648f2efc-4b93-4ab8-a025-aa7eb287fa75.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  createdAt: 2020-03-05T00:24:19.013Z,
  updatedAt: 2020-03-05T00:24:19.013Z }
writing to db2...
Executing (207c9cc5-659c-491f-acb7-1d59080892c8): START TRANSACTION;
Executing (207c9cc5-659c-491f-acb7-1d59080892c8): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '249cc2c6-a82d-4253-9e4f-faf0191b587d' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = '648f2efc-4b93-4ab8-a025-aa7eb287fa75.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '94c3ff9e-6118-4671-b575-e5c0cc608a2b' LIMIT 1;
Executing (207c9cc5-659c-491f-acb7-1d59080892c8): COMMIT;
{ fileUUID: '5400a6d9-02f6-46cf-83f4-fe2f325afe2d',
  cnodeUserUUID: '249cc2c6-a82d-4253-9e4f-faf0191b587d',
  trackUUID: '94c3ff9e-6118-4671-b575-e5c0cc608a2b',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: '648f2efc-4b93-4ab8-a025-aa7eb287fa75.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  createdAt: 2020-03-05T00:21:10.997Z,
  updatedAt: 2020-03-05T00:21:10.997Z }
writing to db3...
Executing (4267e04f-2280-47f7-b934-43a517bb0d87): START TRANSACTION;
Executing (4267e04f-2280-47f7-b934-43a517bb0d87): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '249cc2c6-a82d-4253-9e4f-faf0191b587d' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = '648f2efc-4b93-4ab8-a025-aa7eb287fa75.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '94c3ff9e-6118-4671-b575-e5c0cc608a2b' LIMIT 1;
Executing (4267e04f-2280-47f7-b934-43a517bb0d87): COMMIT;
{ fileUUID: '4cbf99ab-ac43-44c6-8766-58c6efbd5bfb',
  cnodeUserUUID: '249cc2c6-a82d-4253-9e4f-faf0191b587d',
  trackUUID: '94c3ff9e-6118-4671-b575-e5c0cc608a2b',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: '648f2efc-4b93-4ab8-a025-aa7eb287fa75.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  createdAt: 2020-03-05T00:21:11.651Z,
  updatedAt: 2020-03-05T00:21:11.651Z }




PROCESSING ROW #103: sourcefile: f871d982-6ba5-467e-9bb1-9c9188dc83ca.mp3, cnodeUserUUID: 8d20c190-acc1-44d9-a646-df7f35546731, trackUUID: b8aad561-2099-4688-bbba-362b91912a2d, multihash: QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM, dstPath: /file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM
writing to db1...
Executing (f5751e46-360d-46dc-ac0b-ae98cfe1559c): START TRANSACTION;
Executing (f5751e46-360d-46dc-ac0b-ae98cfe1559c): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '8d20c190-acc1-44d9-a646-df7f35546731' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = 'f871d982-6ba5-467e-9bb1-9c9188dc83ca.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = 'b8aad561-2099-4688-bbba-362b91912a2d' LIMIT 1;
Executing (f5751e46-360d-46dc-ac0b-ae98cfe1559c): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_76c08f5364ca47558a3b9a1c98e08064$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('7e251ab8-947e-4b20-8d92-2026bc707d32','8d20c190-acc1-44d9-a646-df7f35546731','b8aad561-2099-4688-bbba-362b91912a2d','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','f871d982-6ba5-467e-9bb1-9c9188dc83ca.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:33:45.207 +00:00','2020-03-05 17:33:45.207 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_76c08f5364ca47558a3b9a1c98e08064$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (f5751e46-360d-46dc-ac0b-ae98cfe1559c): COMMIT;
{ fileUUID: '7e251ab8-947e-4b20-8d92-2026bc707d32',
  cnodeUserUUID: '8d20c190-acc1-44d9-a646-df7f35546731',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: 'f871d982-6ba5-467e-9bb1-9c9188dc83ca.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: 'b8aad561-2099-4688-bbba-362b91912a2d',
  updatedAt: 2020-03-05T17:33:45.207Z,
  createdAt: 2020-03-05T17:33:45.207Z }
writing to db2...
Executing (ddd3ce91-3dcc-4345-8c5d-b0bdd8190501): START TRANSACTION;
Executing (ddd3ce91-3dcc-4345-8c5d-b0bdd8190501): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '8d20c190-acc1-44d9-a646-df7f35546731' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = 'f871d982-6ba5-467e-9bb1-9c9188dc83ca.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = 'b8aad561-2099-4688-bbba-362b91912a2d' LIMIT 1;
Executing (ddd3ce91-3dcc-4345-8c5d-b0bdd8190501): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_7f7af265e6be4148a07c48af98240e7e$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('c86d2885-2376-48c7-835e-78daf4b282ac','8d20c190-acc1-44d9-a646-df7f35546731','b8aad561-2099-4688-bbba-362b91912a2d','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','f871d982-6ba5-467e-9bb1-9c9188dc83ca.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:33:45.609 +00:00','2020-03-05 17:33:45.609 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_7f7af265e6be4148a07c48af98240e7e$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (ddd3ce91-3dcc-4345-8c5d-b0bdd8190501): COMMIT;
{ fileUUID: 'c86d2885-2376-48c7-835e-78daf4b282ac',
  cnodeUserUUID: '8d20c190-acc1-44d9-a646-df7f35546731',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: 'f871d982-6ba5-467e-9bb1-9c9188dc83ca.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: 'b8aad561-2099-4688-bbba-362b91912a2d',
  updatedAt: 2020-03-05T17:33:45.609Z,
  createdAt: 2020-03-05T17:33:45.609Z }
writing to db3...
Executing (eabdd60d-364c-4bfe-a6f1-2e5015b1d7a4): START TRANSACTION;
Executing (eabdd60d-364c-4bfe-a6f1-2e5015b1d7a4): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '8d20c190-acc1-44d9-a646-df7f35546731' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = 'f871d982-6ba5-467e-9bb1-9c9188dc83ca.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = 'b8aad561-2099-4688-bbba-362b91912a2d' LIMIT 1;
Executing (eabdd60d-364c-4bfe-a6f1-2e5015b1d7a4): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_7b212316f48a49aabbaae335eb3b6edd$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('5a84cc18-8068-4977-822f-a4ed4386d188','8d20c190-acc1-44d9-a646-df7f35546731','b8aad561-2099-4688-bbba-362b91912a2d','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','f871d982-6ba5-467e-9bb1-9c9188dc83ca.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:33:46.006 +00:00','2020-03-05 17:33:46.006 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_7b212316f48a49aabbaae335eb3b6edd$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (eabdd60d-364c-4bfe-a6f1-2e5015b1d7a4): COMMIT;
{ fileUUID: '5a84cc18-8068-4977-822f-a4ed4386d188',
  cnodeUserUUID: '8d20c190-acc1-44d9-a646-df7f35546731',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: 'f871d982-6ba5-467e-9bb1-9c9188dc83ca.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: 'b8aad561-2099-4688-bbba-362b91912a2d',
  updatedAt: 2020-03-05T17:33:46.006Z,
  createdAt: 2020-03-05T17:33:46.006Z }




PROCESSING ROW #104: sourcefile: 237a872a-66a1-4e40-bd3e-97fd17965d3a.mp3, cnodeUserUUID: 1c49f33e-2d92-429b-bac2-1e1e8ee38292, trackUUID: 0a8e95ff-74ae-41ca-8089-604987169a19, multihash: QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM, dstPath: /file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM
writing to db1...
Executing (231474ba-f309-42e0-8f78-34eeb6b063dc): START TRANSACTION;
Executing (231474ba-f309-42e0-8f78-34eeb6b063dc): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '1c49f33e-2d92-429b-bac2-1e1e8ee38292' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = '237a872a-66a1-4e40-bd3e-97fd17965d3a.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '0a8e95ff-74ae-41ca-8089-604987169a19' LIMIT 1;
Executing (231474ba-f309-42e0-8f78-34eeb6b063dc): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_06672445f6ab49fd95d8471a765062c7$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('321243ba-e6c5-47f3-a7f9-8bff5fbcb039','1c49f33e-2d92-429b-bac2-1e1e8ee38292','0a8e95ff-74ae-41ca-8089-604987169a19','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','237a872a-66a1-4e40-bd3e-97fd17965d3a.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:33:46.403 +00:00','2020-03-05 17:33:46.403 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_06672445f6ab49fd95d8471a765062c7$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (231474ba-f309-42e0-8f78-34eeb6b063dc): COMMIT;
{ fileUUID: '321243ba-e6c5-47f3-a7f9-8bff5fbcb039',
  cnodeUserUUID: '1c49f33e-2d92-429b-bac2-1e1e8ee38292',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: '237a872a-66a1-4e40-bd3e-97fd17965d3a.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: '0a8e95ff-74ae-41ca-8089-604987169a19',
  updatedAt: 2020-03-05T17:33:46.403Z,
  createdAt: 2020-03-05T17:33:46.403Z }
writing to db2...
Executing (e120d65e-fa06-4742-990d-9b4505c3a4bd): START TRANSACTION;
Executing (e120d65e-fa06-4742-990d-9b4505c3a4bd): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '1c49f33e-2d92-429b-bac2-1e1e8ee38292' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = '237a872a-66a1-4e40-bd3e-97fd17965d3a.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '0a8e95ff-74ae-41ca-8089-604987169a19' LIMIT 1;
Executing (e120d65e-fa06-4742-990d-9b4505c3a4bd): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_d55ceab2594e40bb9c5ba0223668bca7$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('55f04eb7-b932-4f67-aca2-0e6c9dca7d01','1c49f33e-2d92-429b-bac2-1e1e8ee38292','0a8e95ff-74ae-41ca-8089-604987169a19','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','237a872a-66a1-4e40-bd3e-97fd17965d3a.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:33:46.797 +00:00','2020-03-05 17:33:46.797 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_d55ceab2594e40bb9c5ba0223668bca7$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (e120d65e-fa06-4742-990d-9b4505c3a4bd): COMMIT;
{ fileUUID: '55f04eb7-b932-4f67-aca2-0e6c9dca7d01',
  cnodeUserUUID: '1c49f33e-2d92-429b-bac2-1e1e8ee38292',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: '237a872a-66a1-4e40-bd3e-97fd17965d3a.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: '0a8e95ff-74ae-41ca-8089-604987169a19',
  updatedAt: 2020-03-05T17:33:46.797Z,
  createdAt: 2020-03-05T17:33:46.797Z }
writing to db3...
Executing (c8d7bb98-5d4e-46b3-9d3a-af57a9f933bb): START TRANSACTION;
Executing (c8d7bb98-5d4e-46b3-9d3a-af57a9f933bb): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '1c49f33e-2d92-429b-bac2-1e1e8ee38292' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = '237a872a-66a1-4e40-bd3e-97fd17965d3a.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '0a8e95ff-74ae-41ca-8089-604987169a19' LIMIT 1;
Executing (c8d7bb98-5d4e-46b3-9d3a-af57a9f933bb): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_adbe6a099c964e5d97a0a981f1eb0bf2$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('1112bcac-f8a7-4836-b2d5-05991cc4540e','1c49f33e-2d92-429b-bac2-1e1e8ee38292','0a8e95ff-74ae-41ca-8089-604987169a19','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','237a872a-66a1-4e40-bd3e-97fd17965d3a.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:33:47.191 +00:00','2020-03-05 17:33:47.191 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_adbe6a099c964e5d97a0a981f1eb0bf2$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (c8d7bb98-5d4e-46b3-9d3a-af57a9f933bb): COMMIT;
{ fileUUID: '1112bcac-f8a7-4836-b2d5-05991cc4540e',
  cnodeUserUUID: '1c49f33e-2d92-429b-bac2-1e1e8ee38292',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: '237a872a-66a1-4e40-bd3e-97fd17965d3a.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: '0a8e95ff-74ae-41ca-8089-604987169a19',
  updatedAt: 2020-03-05T17:33:47.191Z,
  createdAt: 2020-03-05T17:33:47.191Z }




PROCESSING ROW #105: sourcefile: ab5ed8ab-c5e7-4b4e-ae5d-ae377965e436.mp3, cnodeUserUUID: a4027f97-248a-4a97-8f0a-2c893e767ca1, trackUUID: c641c161-6aea-4888-8eed-efb32e41f2cb, multihash: QmQLrYxWsyByEU6EeojyZDDTWWujAnTzQhmGUc4tYqMhBU, dstPath: /file_storage/QmQLrYxWsyByEU6EeojyZDDTWWujAnTzQhmGUc4tYqMhBU
writing to db1...
Executing (4dd5bf21-f3a0-4a27-a7d7-4a2ad34a38a1): START TRANSACTION;
Executing (4dd5bf21-f3a0-4a27-a7d7-4a2ad34a38a1): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = 'a4027f97-248a-4a97-8f0a-2c893e767ca1' AND "File"."multihash" = 'QmQLrYxWsyByEU6EeojyZDDTWWujAnTzQhmGUc4tYqMhBU' AND "File"."sourceFile" = 'ab5ed8ab-c5e7-4b4e-ae5d-ae377965e436.mp3' AND "File"."storagePath" = '/file_storage/QmQLrYxWsyByEU6EeojyZDDTWWujAnTzQhmGUc4tYqMhBU' AND "File"."type" = 'copy320' AND "File"."trackUUID" = 'c641c161-6aea-4888-8eed-efb32e41f2cb' LIMIT 1;
Executing (4dd5bf21-f3a0-4a27-a7d7-4a2ad34a38a1): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_ecdb55e26d8746e9bace86fa13cdd6f4$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('5e9a39a9-e296-4363-b594-79c3972ed14c','a4027f97-248a-4a97-8f0a-2c893e767ca1','c641c161-6aea-4888-8eed-efb32e41f2cb','QmQLrYxWsyByEU6EeojyZDDTWWujAnTzQhmGUc4tYqMhBU','ab5ed8ab-c5e7-4b4e-ae5d-ae377965e436.mp3','/file_storage/QmQLrYxWsyByEU6EeojyZDDTWWujAnTzQhmGUc4tYqMhBU','copy320','2020-03-05 17:33:47.575 +00:00','2020-03-05 17:33:47.575 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_ecdb55e26d8746e9bace86fa13cdd6f4$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (4dd5bf21-f3a0-4a27-a7d7-4a2ad34a38a1): COMMIT;
{ fileUUID: '5e9a39a9-e296-4363-b594-79c3972ed14c',
  cnodeUserUUID: 'a4027f97-248a-4a97-8f0a-2c893e767ca1',
  multihash: 'QmQLrYxWsyByEU6EeojyZDDTWWujAnTzQhmGUc4tYqMhBU',
  sourceFile: 'ab5ed8ab-c5e7-4b4e-ae5d-ae377965e436.mp3',
  storagePath:
   '/file_storage/QmQLrYxWsyByEU6EeojyZDDTWWujAnTzQhmGUc4tYqMhBU',
  type: 'copy320',
  trackUUID: 'c641c161-6aea-4888-8eed-efb32e41f2cb',
  updatedAt: 2020-03-05T17:33:47.575Z,
  createdAt: 2020-03-05T17:33:47.575Z }
writing to db2...
Executing (a783b04f-f395-4cbb-8a54-cb008a646ea3): START TRANSACTION;
Executing (a783b04f-f395-4cbb-8a54-cb008a646ea3): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = 'a4027f97-248a-4a97-8f0a-2c893e767ca1' AND "File"."multihash" = 'QmQLrYxWsyByEU6EeojyZDDTWWujAnTzQhmGUc4tYqMhBU' AND "File"."sourceFile" = 'ab5ed8ab-c5e7-4b4e-ae5d-ae377965e436.mp3' AND "File"."storagePath" = '/file_storage/QmQLrYxWsyByEU6EeojyZDDTWWujAnTzQhmGUc4tYqMhBU' AND "File"."type" = 'copy320' AND "File"."trackUUID" = 'c641c161-6aea-4888-8eed-efb32e41f2cb' LIMIT 1;
Executing (a783b04f-f395-4cbb-8a54-cb008a646ea3): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_746704216ec14576aba9daf0e1eb976d$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('60ca66e5-08fe-4561-a93c-b8f39c377119','a4027f97-248a-4a97-8f0a-2c893e767ca1','c641c161-6aea-4888-8eed-efb32e41f2cb','QmQLrYxWsyByEU6EeojyZDDTWWujAnTzQhmGUc4tYqMhBU','ab5ed8ab-c5e7-4b4e-ae5d-ae377965e436.mp3','/file_storage/QmQLrYxWsyByEU6EeojyZDDTWWujAnTzQhmGUc4tYqMhBU','copy320','2020-03-05 17:33:47.962 +00:00','2020-03-05 17:33:47.962 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_746704216ec14576aba9daf0e1eb976d$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (a783b04f-f395-4cbb-8a54-cb008a646ea3): COMMIT;
{ fileUUID: '60ca66e5-08fe-4561-a93c-b8f39c377119',
  cnodeUserUUID: 'a4027f97-248a-4a97-8f0a-2c893e767ca1',
  multihash: 'QmQLrYxWsyByEU6EeojyZDDTWWujAnTzQhmGUc4tYqMhBU',
  sourceFile: 'ab5ed8ab-c5e7-4b4e-ae5d-ae377965e436.mp3',
  storagePath:
   '/file_storage/QmQLrYxWsyByEU6EeojyZDDTWWujAnTzQhmGUc4tYqMhBU',
  type: 'copy320',
  trackUUID: 'c641c161-6aea-4888-8eed-efb32e41f2cb',
  updatedAt: 2020-03-05T17:33:47.962Z,
  createdAt: 2020-03-05T17:33:47.962Z }
writing to db3...
Executing (0c3a2455-6beb-49cd-9bd1-724e725fb9dc): START TRANSACTION;
Executing (0c3a2455-6beb-49cd-9bd1-724e725fb9dc): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = 'a4027f97-248a-4a97-8f0a-2c893e767ca1' AND "File"."multihash" = 'QmQLrYxWsyByEU6EeojyZDDTWWujAnTzQhmGUc4tYqMhBU' AND "File"."sourceFile" = 'ab5ed8ab-c5e7-4b4e-ae5d-ae377965e436.mp3' AND "File"."storagePath" = '/file_storage/QmQLrYxWsyByEU6EeojyZDDTWWujAnTzQhmGUc4tYqMhBU' AND "File"."type" = 'copy320' AND "File"."trackUUID" = 'c641c161-6aea-4888-8eed-efb32e41f2cb' LIMIT 1;
Executing (0c3a2455-6beb-49cd-9bd1-724e725fb9dc): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_8623670ac43941edbf5b5cdc3f5f83ba$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('5a58de34-f326-4583-9d5a-561f2e7feff0','a4027f97-248a-4a97-8f0a-2c893e767ca1','c641c161-6aea-4888-8eed-efb32e41f2cb','QmQLrYxWsyByEU6EeojyZDDTWWujAnTzQhmGUc4tYqMhBU','ab5ed8ab-c5e7-4b4e-ae5d-ae377965e436.mp3','/file_storage/QmQLrYxWsyByEU6EeojyZDDTWWujAnTzQhmGUc4tYqMhBU','copy320','2020-03-05 17:33:48.354 +00:00','2020-03-05 17:33:48.354 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_8623670ac43941edbf5b5cdc3f5f83ba$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (0c3a2455-6beb-49cd-9bd1-724e725fb9dc): COMMIT;
{ fileUUID: '5a58de34-f326-4583-9d5a-561f2e7feff0',
  cnodeUserUUID: 'a4027f97-248a-4a97-8f0a-2c893e767ca1',
  multihash: 'QmQLrYxWsyByEU6EeojyZDDTWWujAnTzQhmGUc4tYqMhBU',
  sourceFile: 'ab5ed8ab-c5e7-4b4e-ae5d-ae377965e436.mp3',
  storagePath:
   '/file_storage/QmQLrYxWsyByEU6EeojyZDDTWWujAnTzQhmGUc4tYqMhBU',
  type: 'copy320',
  trackUUID: 'c641c161-6aea-4888-8eed-efb32e41f2cb',
  updatedAt: 2020-03-05T17:33:48.354Z,
  createdAt: 2020-03-05T17:33:48.354Z }




PROCESSING ROW #106: sourcefile: 87032df9-0938-45da-8fec-94318d14a1e9.mp3, cnodeUserUUID: 06417024-6152-4710-b445-df999e42d951, trackUUID: e2a9c9f7-98c9-455f-826c-d3bd909cdad4, multihash: QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM, dstPath: /file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM
writing to db1...
Executing (01317464-8d6d-4ab9-b5e7-d380ca21d3c3): START TRANSACTION;
Executing (01317464-8d6d-4ab9-b5e7-d380ca21d3c3): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '06417024-6152-4710-b445-df999e42d951' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = '87032df9-0938-45da-8fec-94318d14a1e9.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = 'e2a9c9f7-98c9-455f-826c-d3bd909cdad4' LIMIT 1;
Executing (01317464-8d6d-4ab9-b5e7-d380ca21d3c3): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_69907936577347c78e746a4385c18568$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('6bf945cd-5051-44ef-a353-6937e6887830','06417024-6152-4710-b445-df999e42d951','e2a9c9f7-98c9-455f-826c-d3bd909cdad4','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','87032df9-0938-45da-8fec-94318d14a1e9.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:33:48.738 +00:00','2020-03-05 17:33:48.738 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_69907936577347c78e746a4385c18568$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (01317464-8d6d-4ab9-b5e7-d380ca21d3c3): COMMIT;
{ fileUUID: '6bf945cd-5051-44ef-a353-6937e6887830',
  cnodeUserUUID: '06417024-6152-4710-b445-df999e42d951',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: '87032df9-0938-45da-8fec-94318d14a1e9.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: 'e2a9c9f7-98c9-455f-826c-d3bd909cdad4',
  updatedAt: 2020-03-05T17:33:48.738Z,
  createdAt: 2020-03-05T17:33:48.738Z }
writing to db2...
Executing (1371c1ae-7157-4060-b545-a957bf65bd45): START TRANSACTION;
Executing (1371c1ae-7157-4060-b545-a957bf65bd45): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '06417024-6152-4710-b445-df999e42d951' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = '87032df9-0938-45da-8fec-94318d14a1e9.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = 'e2a9c9f7-98c9-455f-826c-d3bd909cdad4' LIMIT 1;
Executing (1371c1ae-7157-4060-b545-a957bf65bd45): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_3392ff9e607d403399e4a89d5511b060$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('8bd381f4-ac39-4abd-b5a0-3ac2d30a7685','06417024-6152-4710-b445-df999e42d951','e2a9c9f7-98c9-455f-826c-d3bd909cdad4','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','87032df9-0938-45da-8fec-94318d14a1e9.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:33:49.157 +00:00','2020-03-05 17:33:49.157 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_3392ff9e607d403399e4a89d5511b060$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (1371c1ae-7157-4060-b545-a957bf65bd45): COMMIT;
{ fileUUID: '8bd381f4-ac39-4abd-b5a0-3ac2d30a7685',
  cnodeUserUUID: '06417024-6152-4710-b445-df999e42d951',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: '87032df9-0938-45da-8fec-94318d14a1e9.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: 'e2a9c9f7-98c9-455f-826c-d3bd909cdad4',
  updatedAt: 2020-03-05T17:33:49.157Z,
  createdAt: 2020-03-05T17:33:49.157Z }
writing to db3...
Executing (39c95952-ee27-4df4-ae1d-3a456ba9d432): START TRANSACTION;
Executing (39c95952-ee27-4df4-ae1d-3a456ba9d432): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '06417024-6152-4710-b445-df999e42d951' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = '87032df9-0938-45da-8fec-94318d14a1e9.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = 'e2a9c9f7-98c9-455f-826c-d3bd909cdad4' LIMIT 1;
Executing (39c95952-ee27-4df4-ae1d-3a456ba9d432): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_51c2341215e045388e293c996ce9afd0$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('97bca868-ca37-44f9-902a-7a977cc3a080','06417024-6152-4710-b445-df999e42d951','e2a9c9f7-98c9-455f-826c-d3bd909cdad4','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','87032df9-0938-45da-8fec-94318d14a1e9.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:33:49.549 +00:00','2020-03-05 17:33:49.549 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_51c2341215e045388e293c996ce9afd0$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (39c95952-ee27-4df4-ae1d-3a456ba9d432): COMMIT;
{ fileUUID: '97bca868-ca37-44f9-902a-7a977cc3a080',
  cnodeUserUUID: '06417024-6152-4710-b445-df999e42d951',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: '87032df9-0938-45da-8fec-94318d14a1e9.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: 'e2a9c9f7-98c9-455f-826c-d3bd909cdad4',
  updatedAt: 2020-03-05T17:33:49.549Z,
  createdAt: 2020-03-05T17:33:49.549Z }




PROCESSING ROW #107: sourcefile: a6ed9b4f-37a6-45c7-b441-4e225f7c784d.mp3, cnodeUserUUID: f3ee1d4a-4bc2-45ab-9335-96d4456f1e15, trackUUID: a85a77b8-522e-4d5c-87ac-f0045e1ff0b8, multihash: QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM, dstPath: /file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM
writing to db1...
Executing (d5f6301a-9255-47f2-ba55-bef87d4dbf62): START TRANSACTION;
Executing (d5f6301a-9255-47f2-ba55-bef87d4dbf62): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = 'f3ee1d4a-4bc2-45ab-9335-96d4456f1e15' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = 'a6ed9b4f-37a6-45c7-b441-4e225f7c784d.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = 'a85a77b8-522e-4d5c-87ac-f0045e1ff0b8' LIMIT 1;
Executing (d5f6301a-9255-47f2-ba55-bef87d4dbf62): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_656bc9b4fe34413a84484d41d66707c8$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('58025719-297a-4759-946d-9e9c8995bdf3','f3ee1d4a-4bc2-45ab-9335-96d4456f1e15','a85a77b8-522e-4d5c-87ac-f0045e1ff0b8','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','a6ed9b4f-37a6-45c7-b441-4e225f7c784d.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:33:49.938 +00:00','2020-03-05 17:33:49.938 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_656bc9b4fe34413a84484d41d66707c8$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (d5f6301a-9255-47f2-ba55-bef87d4dbf62): COMMIT;
{ fileUUID: '58025719-297a-4759-946d-9e9c8995bdf3',
  cnodeUserUUID: 'f3ee1d4a-4bc2-45ab-9335-96d4456f1e15',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: 'a6ed9b4f-37a6-45c7-b441-4e225f7c784d.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: 'a85a77b8-522e-4d5c-87ac-f0045e1ff0b8',
  updatedAt: 2020-03-05T17:33:49.938Z,
  createdAt: 2020-03-05T17:33:49.938Z }
writing to db2...
Executing (71052554-5ae0-4937-adfc-3ee826a06c6a): START TRANSACTION;
Executing (71052554-5ae0-4937-adfc-3ee826a06c6a): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = 'f3ee1d4a-4bc2-45ab-9335-96d4456f1e15' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = 'a6ed9b4f-37a6-45c7-b441-4e225f7c784d.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = 'a85a77b8-522e-4d5c-87ac-f0045e1ff0b8' LIMIT 1;
Executing (71052554-5ae0-4937-adfc-3ee826a06c6a): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_898ff257723c4fce9b43ffa486b168a1$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('0669ff80-0fe0-4d78-bfee-36619de01c28','f3ee1d4a-4bc2-45ab-9335-96d4456f1e15','a85a77b8-522e-4d5c-87ac-f0045e1ff0b8','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','a6ed9b4f-37a6-45c7-b441-4e225f7c784d.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:33:50.329 +00:00','2020-03-05 17:33:50.329 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_898ff257723c4fce9b43ffa486b168a1$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (71052554-5ae0-4937-adfc-3ee826a06c6a): COMMIT;
{ fileUUID: '0669ff80-0fe0-4d78-bfee-36619de01c28',
  cnodeUserUUID: 'f3ee1d4a-4bc2-45ab-9335-96d4456f1e15',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: 'a6ed9b4f-37a6-45c7-b441-4e225f7c784d.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: 'a85a77b8-522e-4d5c-87ac-f0045e1ff0b8',
  updatedAt: 2020-03-05T17:33:50.329Z,
  createdAt: 2020-03-05T17:33:50.329Z }
writing to db3...
Executing (8d86b01c-0505-4500-99c3-06c9cc82a9bb): START TRANSACTION;
Executing (8d86b01c-0505-4500-99c3-06c9cc82a9bb): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = 'f3ee1d4a-4bc2-45ab-9335-96d4456f1e15' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = 'a6ed9b4f-37a6-45c7-b441-4e225f7c784d.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = 'a85a77b8-522e-4d5c-87ac-f0045e1ff0b8' LIMIT 1;
Executing (8d86b01c-0505-4500-99c3-06c9cc82a9bb): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_2b9ff6b10e7b42ffbe94c3a2015202c9$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('1a7ac25c-e221-4298-9c41-f33c70088d3f','f3ee1d4a-4bc2-45ab-9335-96d4456f1e15','a85a77b8-522e-4d5c-87ac-f0045e1ff0b8','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','a6ed9b4f-37a6-45c7-b441-4e225f7c784d.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:33:50.724 +00:00','2020-03-05 17:33:50.724 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_2b9ff6b10e7b42ffbe94c3a2015202c9$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (8d86b01c-0505-4500-99c3-06c9cc82a9bb): COMMIT;
{ fileUUID: '1a7ac25c-e221-4298-9c41-f33c70088d3f',
  cnodeUserUUID: 'f3ee1d4a-4bc2-45ab-9335-96d4456f1e15',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: 'a6ed9b4f-37a6-45c7-b441-4e225f7c784d.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: 'a85a77b8-522e-4d5c-87ac-f0045e1ff0b8',
  updatedAt: 2020-03-05T17:33:50.724Z,
  createdAt: 2020-03-05T17:33:50.724Z }




PROCESSING ROW #108: sourcefile: bae97bc2-8d5d-400d-9b6c-1eb687da08e0.mp3, cnodeUserUUID: 104442c5-e302-4c56-a71a-30e2b598c7bf, trackUUID: 60f67194-0094-4fac-8382-99fdf9a7d0a1, multihash: QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM, dstPath: /file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM
writing to db1...
Executing (63ec96a0-db0d-47ca-974c-f33d635d64d0): START TRANSACTION;
Executing (63ec96a0-db0d-47ca-974c-f33d635d64d0): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '104442c5-e302-4c56-a71a-30e2b598c7bf' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = 'bae97bc2-8d5d-400d-9b6c-1eb687da08e0.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '60f67194-0094-4fac-8382-99fdf9a7d0a1' LIMIT 1;
Executing (63ec96a0-db0d-47ca-974c-f33d635d64d0): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_26500f8c7794441ca18abe0eb160d7a7$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('e86f1213-1192-49f0-930d-037e763ea819','104442c5-e302-4c56-a71a-30e2b598c7bf','60f67194-0094-4fac-8382-99fdf9a7d0a1','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','bae97bc2-8d5d-400d-9b6c-1eb687da08e0.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:33:51.120 +00:00','2020-03-05 17:33:51.120 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_26500f8c7794441ca18abe0eb160d7a7$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (63ec96a0-db0d-47ca-974c-f33d635d64d0): COMMIT;
{ fileUUID: 'e86f1213-1192-49f0-930d-037e763ea819',
  cnodeUserUUID: '104442c5-e302-4c56-a71a-30e2b598c7bf',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: 'bae97bc2-8d5d-400d-9b6c-1eb687da08e0.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: '60f67194-0094-4fac-8382-99fdf9a7d0a1',
  updatedAt: 2020-03-05T17:33:51.120Z,
  createdAt: 2020-03-05T17:33:51.120Z }
writing to db2...
Executing (4336ef3a-a817-4c9c-a913-fc80b18586ce): START TRANSACTION;
Executing (4336ef3a-a817-4c9c-a913-fc80b18586ce): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '104442c5-e302-4c56-a71a-30e2b598c7bf' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = 'bae97bc2-8d5d-400d-9b6c-1eb687da08e0.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '60f67194-0094-4fac-8382-99fdf9a7d0a1' LIMIT 1;
Executing (4336ef3a-a817-4c9c-a913-fc80b18586ce): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_81184a6369eb45a58bb2ee03d0c3b4aa$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('eaabc59d-8de2-4dd9-afba-5e4920c44ef1','104442c5-e302-4c56-a71a-30e2b598c7bf','60f67194-0094-4fac-8382-99fdf9a7d0a1','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','bae97bc2-8d5d-400d-9b6c-1eb687da08e0.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:33:51.527 +00:00','2020-03-05 17:33:51.527 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_81184a6369eb45a58bb2ee03d0c3b4aa$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (4336ef3a-a817-4c9c-a913-fc80b18586ce): COMMIT;
{ fileUUID: 'eaabc59d-8de2-4dd9-afba-5e4920c44ef1',
  cnodeUserUUID: '104442c5-e302-4c56-a71a-30e2b598c7bf',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: 'bae97bc2-8d5d-400d-9b6c-1eb687da08e0.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: '60f67194-0094-4fac-8382-99fdf9a7d0a1',
  updatedAt: 2020-03-05T17:33:51.527Z,
  createdAt: 2020-03-05T17:33:51.527Z }
writing to db3...
Executing (6da133dd-8cfb-4b58-a7c0-9f5642b6eb2a): START TRANSACTION;
Executing (6da133dd-8cfb-4b58-a7c0-9f5642b6eb2a): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '104442c5-e302-4c56-a71a-30e2b598c7bf' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = 'bae97bc2-8d5d-400d-9b6c-1eb687da08e0.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '60f67194-0094-4fac-8382-99fdf9a7d0a1' LIMIT 1;
Executing (6da133dd-8cfb-4b58-a7c0-9f5642b6eb2a): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_47cfa892cd5e445c9fa61579f6ca8c5a$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('4e2492a0-7b49-4c5c-a3d8-43a010ec9b1d','104442c5-e302-4c56-a71a-30e2b598c7bf','60f67194-0094-4fac-8382-99fdf9a7d0a1','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','bae97bc2-8d5d-400d-9b6c-1eb687da08e0.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:33:51.913 +00:00','2020-03-05 17:33:51.913 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_47cfa892cd5e445c9fa61579f6ca8c5a$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (6da133dd-8cfb-4b58-a7c0-9f5642b6eb2a): COMMIT;
{ SequelizeForeignKeyConstraintError: insert or update on table "Files" violates foreign key constraint "Files_cnodeUserUUID_fkey"
    at Query.formatError (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/sequelize/lib/dialects/postgres/query.js:296:16)
    at query.catch.err (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/sequelize/lib/dialects/postgres/query.js:86:18)
    at tryCatcher (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/bluebird/js/release/util.js:16:23)
    at Promise._settlePromiseFromHandler (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/bluebird/js/release/promise.js:517:31)
    at Promise._settlePromise (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/bluebird/js/release/promise.js:574:18)
    at Promise._settlePromise0 (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/bluebird/js/release/promise.js:619:10)
    at Promise._settlePromises (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/bluebird/js/release/promise.js:695:18)
    at _drainQueueStep (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/bluebird/js/release/async.js:138:12)
    at _drainQueue (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/bluebird/js/release/async.js:131:9)
    at Async._drainQueues (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/bluebird/js/release/async.js:147:5)
    at Immediate.Async.drainQueues [as _onImmediate] (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/bluebird/js/release/async.js:17:14)
    at runCallback (timers.js:705:18)
    at tryOnImmediate (timers.js:676:5)
    at processImmediate (timers.js:658:5)
  name: 'SequelizeForeignKeyConstraintError',
  parent:
   { error: insert or update on table "Files" violates foreign key constraint "Files_cnodeUserUUID_fkey"
       at Connection.parseE (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/pg/lib/connection.js:604:11)
       at Connection.parseMessage (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/pg/lib/connection.js:401:19)
       at Socket.<anonymous> (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/pg/lib/connection.js:121:22)
       at Socket.emit (events.js:198:13)
       at addChunk (_stream_readable.js:288:12)
       at readableAddChunk (_stream_readable.js:269:11)
       at Socket.Readable.push (_stream_readable.js:224:10)
       at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)
     name: 'error',
     length: 881,
     severity: 'ERROR',
     code: '23503',
     detail:
      'Key (cnodeUserUUID)=(104442c5-e302-4c56-a71a-30e2b598c7bf) is not present in table "CNodeUsers".',
     hint: undefined,
     position: undefined,
     internalPosition: undefined,
     internalQuery: undefined,
     where:
      'SQL statement "INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES (\'4e2492a0-7b49-4c5c-a3d8-43a010ec9b1d\',\'104442c5-e302-4c56-a71a-30e2b598c7bf\',\'60f67194-0094-4fac-8382-99fdf9a7d0a1\',\'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM\',\'bae97bc2-8d5d-400d-9b6c-1eb687da08e0.mp3\',\'/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM\',\'copy320\',\'2020-03-05 17:33:51.913 +00:00\',\'2020-03-05 17:33:51.913 +00:00\') RETURNING *"\nPL/pgSQL function pg_temp_68.testfunc() line 1 at SQL statement',
     schema: 'public',
     table: 'Files',
     column: undefined,
     dataType: undefined,
     constraint: 'Files_cnodeUserUUID_fkey',
     file: 'ri_triggers.c',
     line: '2783',
     routine: 'ri_ReportViolation',
     sql:
      'CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_47cfa892cd5e445c9fa61579f6ca8c5a$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES (\'4e2492a0-7b49-4c5c-a3d8-43a010ec9b1d\',\'104442c5-e302-4c56-a71a-30e2b598c7bf\',\'60f67194-0094-4fac-8382-99fdf9a7d0a1\',\'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM\',\'bae97bc2-8d5d-400d-9b6c-1eb687da08e0.mp3\',\'/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM\',\'copy320\',\'2020-03-05 17:33:51.913 +00:00\',\'2020-03-05 17:33:51.913 +00:00\') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_47cfa892cd5e445c9fa61579f6ca8c5a$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();' },
  original:
   { error: insert or update on table "Files" violates foreign key constraint "Files_cnodeUserUUID_fkey"
       at Connection.parseE (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/pg/lib/connection.js:604:11)
       at Connection.parseMessage (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/pg/lib/connection.js:401:19)
       at Socket.<anonymous> (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/pg/lib/connection.js:121:22)
       at Socket.emit (events.js:198:13)
       at addChunk (_stream_readable.js:288:12)
       at readableAddChunk (_stream_readable.js:269:11)
       at Socket.Readable.push (_stream_readable.js:224:10)
       at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)
     name: 'error',
     length: 881,
     severity: 'ERROR',
     code: '23503',
     detail:
      'Key (cnodeUserUUID)=(104442c5-e302-4c56-a71a-30e2b598c7bf) is not present in table "CNodeUsers".',
     hint: undefined,
     position: undefined,
     internalPosition: undefined,
     internalQuery: undefined,
     where:
      'SQL statement "INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES (\'4e2492a0-7b49-4c5c-a3d8-43a010ec9b1d\',\'104442c5-e302-4c56-a71a-30e2b598c7bf\',\'60f67194-0094-4fac-8382-99fdf9a7d0a1\',\'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM\',\'bae97bc2-8d5d-400d-9b6c-1eb687da08e0.mp3\',\'/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM\',\'copy320\',\'2020-03-05 17:33:51.913 +00:00\',\'2020-03-05 17:33:51.913 +00:00\') RETURNING *"\nPL/pgSQL function pg_temp_68.testfunc() line 1 at SQL statement',
     schema: 'public',
     table: 'Files',
     column: undefined,
     dataType: undefined,
     constraint: 'Files_cnodeUserUUID_fkey',
     file: 'ri_triggers.c',
     line: '2783',
     routine: 'ri_ReportViolation',
     sql:
      'CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_47cfa892cd5e445c9fa61579f6ca8c5a$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES (\'4e2492a0-7b49-4c5c-a3d8-43a010ec9b1d\',\'104442c5-e302-4c56-a71a-30e2b598c7bf\',\'60f67194-0094-4fac-8382-99fdf9a7d0a1\',\'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM\',\'bae97bc2-8d5d-400d-9b6c-1eb687da08e0.mp3\',\'/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM\',\'copy320\',\'2020-03-05 17:33:51.913 +00:00\',\'2020-03-05 17:33:51.913 +00:00\') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_47cfa892cd5e445c9fa61579f6ca8c5a$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();' },
  sql:
   'CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_47cfa892cd5e445c9fa61579f6ca8c5a$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES (\'4e2492a0-7b49-4c5c-a3d8-43a010ec9b1d\',\'104442c5-e302-4c56-a71a-30e2b598c7bf\',\'60f67194-0094-4fac-8382-99fdf9a7d0a1\',\'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM\',\'bae97bc2-8d5d-400d-9b6c-1eb687da08e0.mp3\',\'/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM\',\'copy320\',\'2020-03-05 17:33:51.913 +00:00\',\'2020-03-05 17:33:51.913 +00:00\') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_47cfa892cd5e445c9fa61579f6ca8c5a$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();',
  fields: null,
  table: 'Files',
  value: undefined,
  index: 'Files_cnodeUserUUID_fkey',
  reltype: undefined }




PROCESSING ROW #109: sourcefile: 1e0f8d77-0c4c-4d1e-a9e9-ac495e450b2c.mp3, cnodeUserUUID: 1350147d-276f-4221-8c54-a597192c1ed9, trackUUID: bd6f927c-bbf1-4c94-80ed-0485f1d62af9, multihash: QmdiMLvfejgBo224NkJhaQ2vxbrGT8ViRaWfBpgnMoEVAk, dstPath: /file_storage/QmdiMLvfejgBo224NkJhaQ2vxbrGT8ViRaWfBpgnMoEVAk
writing to db1...
Executing (6e9ee277-0d07-44ec-97d4-8326680c0720): START TRANSACTION;
Executing (6e9ee277-0d07-44ec-97d4-8326680c0720): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '1350147d-276f-4221-8c54-a597192c1ed9' AND "File"."multihash" = 'QmdiMLvfejgBo224NkJhaQ2vxbrGT8ViRaWfBpgnMoEVAk' AND "File"."sourceFile" = '1e0f8d77-0c4c-4d1e-a9e9-ac495e450b2c.mp3' AND "File"."storagePath" = '/file_storage/QmdiMLvfejgBo224NkJhaQ2vxbrGT8ViRaWfBpgnMoEVAk' AND "File"."type" = 'copy320' AND "File"."trackUUID" = 'bd6f927c-bbf1-4c94-80ed-0485f1d62af9' LIMIT 1;
Executing (6e9ee277-0d07-44ec-97d4-8326680c0720): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_0eb51c9e70b741258791dba29d028736$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('08d18db2-4232-4f3c-b3db-a39667dbf3ba','1350147d-276f-4221-8c54-a597192c1ed9','bd6f927c-bbf1-4c94-80ed-0485f1d62af9','QmdiMLvfejgBo224NkJhaQ2vxbrGT8ViRaWfBpgnMoEVAk','1e0f8d77-0c4c-4d1e-a9e9-ac495e450b2c.mp3','/file_storage/QmdiMLvfejgBo224NkJhaQ2vxbrGT8ViRaWfBpgnMoEVAk','copy320','2020-03-05 17:33:52.318 +00:00','2020-03-05 17:33:52.318 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_0eb51c9e70b741258791dba29d028736$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (6e9ee277-0d07-44ec-97d4-8326680c0720): COMMIT;
{ fileUUID: '08d18db2-4232-4f3c-b3db-a39667dbf3ba',
  cnodeUserUUID: '1350147d-276f-4221-8c54-a597192c1ed9',
  multihash: 'QmdiMLvfejgBo224NkJhaQ2vxbrGT8ViRaWfBpgnMoEVAk',
  sourceFile: '1e0f8d77-0c4c-4d1e-a9e9-ac495e450b2c.mp3',
  storagePath:
   '/file_storage/QmdiMLvfejgBo224NkJhaQ2vxbrGT8ViRaWfBpgnMoEVAk',
  type: 'copy320',
  trackUUID: 'bd6f927c-bbf1-4c94-80ed-0485f1d62af9',
  updatedAt: 2020-03-05T17:33:52.318Z,
  createdAt: 2020-03-05T17:33:52.318Z }
writing to db2...
Executing (9cebeb0d-f389-42b2-a350-01e06afbe5b2): START TRANSACTION;
Executing (9cebeb0d-f389-42b2-a350-01e06afbe5b2): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '1350147d-276f-4221-8c54-a597192c1ed9' AND "File"."multihash" = 'QmdiMLvfejgBo224NkJhaQ2vxbrGT8ViRaWfBpgnMoEVAk' AND "File"."sourceFile" = '1e0f8d77-0c4c-4d1e-a9e9-ac495e450b2c.mp3' AND "File"."storagePath" = '/file_storage/QmdiMLvfejgBo224NkJhaQ2vxbrGT8ViRaWfBpgnMoEVAk' AND "File"."type" = 'copy320' AND "File"."trackUUID" = 'bd6f927c-bbf1-4c94-80ed-0485f1d62af9' LIMIT 1;
Executing (9cebeb0d-f389-42b2-a350-01e06afbe5b2): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_2bc59f4c284948acb131397396b475d7$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('f01a6c45-a1d9-4914-9c1f-8ed13b9cb619','1350147d-276f-4221-8c54-a597192c1ed9','bd6f927c-bbf1-4c94-80ed-0485f1d62af9','QmdiMLvfejgBo224NkJhaQ2vxbrGT8ViRaWfBpgnMoEVAk','1e0f8d77-0c4c-4d1e-a9e9-ac495e450b2c.mp3','/file_storage/QmdiMLvfejgBo224NkJhaQ2vxbrGT8ViRaWfBpgnMoEVAk','copy320','2020-03-05 17:33:52.703 +00:00','2020-03-05 17:33:52.703 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_2bc59f4c284948acb131397396b475d7$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (9cebeb0d-f389-42b2-a350-01e06afbe5b2): COMMIT;
{ fileUUID: 'f01a6c45-a1d9-4914-9c1f-8ed13b9cb619',
  cnodeUserUUID: '1350147d-276f-4221-8c54-a597192c1ed9',
  multihash: 'QmdiMLvfejgBo224NkJhaQ2vxbrGT8ViRaWfBpgnMoEVAk',
  sourceFile: '1e0f8d77-0c4c-4d1e-a9e9-ac495e450b2c.mp3',
  storagePath:
   '/file_storage/QmdiMLvfejgBo224NkJhaQ2vxbrGT8ViRaWfBpgnMoEVAk',
  type: 'copy320',
  trackUUID: 'bd6f927c-bbf1-4c94-80ed-0485f1d62af9',
  updatedAt: 2020-03-05T17:33:52.703Z,
  createdAt: 2020-03-05T17:33:52.703Z }
writing to db3...
Executing (26dd748b-4a62-424c-8b8b-9fc3b3c4e3de): START TRANSACTION;
Executing (26dd748b-4a62-424c-8b8b-9fc3b3c4e3de): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '1350147d-276f-4221-8c54-a597192c1ed9' AND "File"."multihash" = 'QmdiMLvfejgBo224NkJhaQ2vxbrGT8ViRaWfBpgnMoEVAk' AND "File"."sourceFile" = '1e0f8d77-0c4c-4d1e-a9e9-ac495e450b2c.mp3' AND "File"."storagePath" = '/file_storage/QmdiMLvfejgBo224NkJhaQ2vxbrGT8ViRaWfBpgnMoEVAk' AND "File"."type" = 'copy320' AND "File"."trackUUID" = 'bd6f927c-bbf1-4c94-80ed-0485f1d62af9' LIMIT 1;
Executing (26dd748b-4a62-424c-8b8b-9fc3b3c4e3de): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_52421f4b2b2b459fa9bfb44db0c91b78$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('06f92061-559c-4bb1-ab0e-4248d4b1b6fe','1350147d-276f-4221-8c54-a597192c1ed9','bd6f927c-bbf1-4c94-80ed-0485f1d62af9','QmdiMLvfejgBo224NkJhaQ2vxbrGT8ViRaWfBpgnMoEVAk','1e0f8d77-0c4c-4d1e-a9e9-ac495e450b2c.mp3','/file_storage/QmdiMLvfejgBo224NkJhaQ2vxbrGT8ViRaWfBpgnMoEVAk','copy320','2020-03-05 17:33:53.096 +00:00','2020-03-05 17:33:53.096 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_52421f4b2b2b459fa9bfb44db0c91b78$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (26dd748b-4a62-424c-8b8b-9fc3b3c4e3de): COMMIT;
{ fileUUID: '06f92061-559c-4bb1-ab0e-4248d4b1b6fe',
  cnodeUserUUID: '1350147d-276f-4221-8c54-a597192c1ed9',
  multihash: 'QmdiMLvfejgBo224NkJhaQ2vxbrGT8ViRaWfBpgnMoEVAk',
  sourceFile: '1e0f8d77-0c4c-4d1e-a9e9-ac495e450b2c.mp3',
  storagePath:
   '/file_storage/QmdiMLvfejgBo224NkJhaQ2vxbrGT8ViRaWfBpgnMoEVAk',
  type: 'copy320',
  trackUUID: 'bd6f927c-bbf1-4c94-80ed-0485f1d62af9',
  updatedAt: 2020-03-05T17:33:53.096Z,
  createdAt: 2020-03-05T17:33:53.096Z }




PROCESSING ROW #110: sourcefile: 983ece2a-2e0d-475e-992d-576aa033ec0a.mp3, cnodeUserUUID: 1350147d-276f-4221-8c54-a597192c1ed9, trackUUID: d740f229-23e1-4711-92dd-50a600041d16, multihash: Qmckbd4YBBQnhxiRFYRbTENSBDhJAojeNKrX3bP267A9Q3, dstPath: /file_storage/Qmckbd4YBBQnhxiRFYRbTENSBDhJAojeNKrX3bP267A9Q3
writing to db1...
Executing (7033cf9c-1041-4d65-a0e1-bfbc24f94bac): START TRANSACTION;
Executing (7033cf9c-1041-4d65-a0e1-bfbc24f94bac): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '1350147d-276f-4221-8c54-a597192c1ed9' AND "File"."multihash" = 'Qmckbd4YBBQnhxiRFYRbTENSBDhJAojeNKrX3bP267A9Q3' AND "File"."sourceFile" = '983ece2a-2e0d-475e-992d-576aa033ec0a.mp3' AND "File"."storagePath" = '/file_storage/Qmckbd4YBBQnhxiRFYRbTENSBDhJAojeNKrX3bP267A9Q3' AND "File"."type" = 'copy320' AND "File"."trackUUID" = 'd740f229-23e1-4711-92dd-50a600041d16' LIMIT 1;
Executing (7033cf9c-1041-4d65-a0e1-bfbc24f94bac): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_ec436373fb07441aa081daee13c129c5$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('b3b100eb-7561-4c4c-8411-c705524e521f','1350147d-276f-4221-8c54-a597192c1ed9','d740f229-23e1-4711-92dd-50a600041d16','Qmckbd4YBBQnhxiRFYRbTENSBDhJAojeNKrX3bP267A9Q3','983ece2a-2e0d-475e-992d-576aa033ec0a.mp3','/file_storage/Qmckbd4YBBQnhxiRFYRbTENSBDhJAojeNKrX3bP267A9Q3','copy320','2020-03-05 17:33:53.480 +00:00','2020-03-05 17:33:53.480 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_ec436373fb07441aa081daee13c129c5$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (7033cf9c-1041-4d65-a0e1-bfbc24f94bac): COMMIT;
{ fileUUID: 'b3b100eb-7561-4c4c-8411-c705524e521f',
  cnodeUserUUID: '1350147d-276f-4221-8c54-a597192c1ed9',
  multihash: 'Qmckbd4YBBQnhxiRFYRbTENSBDhJAojeNKrX3bP267A9Q3',
  sourceFile: '983ece2a-2e0d-475e-992d-576aa033ec0a.mp3',
  storagePath:
   '/file_storage/Qmckbd4YBBQnhxiRFYRbTENSBDhJAojeNKrX3bP267A9Q3',
  type: 'copy320',
  trackUUID: 'd740f229-23e1-4711-92dd-50a600041d16',
  updatedAt: 2020-03-05T17:33:53.480Z,
  createdAt: 2020-03-05T17:33:53.480Z }
writing to db2...
Executing (6da8fc5b-91ed-49a4-a928-609c7186ca12): START TRANSACTION;
Executing (6da8fc5b-91ed-49a4-a928-609c7186ca12): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '1350147d-276f-4221-8c54-a597192c1ed9' AND "File"."multihash" = 'Qmckbd4YBBQnhxiRFYRbTENSBDhJAojeNKrX3bP267A9Q3' AND "File"."sourceFile" = '983ece2a-2e0d-475e-992d-576aa033ec0a.mp3' AND "File"."storagePath" = '/file_storage/Qmckbd4YBBQnhxiRFYRbTENSBDhJAojeNKrX3bP267A9Q3' AND "File"."type" = 'copy320' AND "File"."trackUUID" = 'd740f229-23e1-4711-92dd-50a600041d16' LIMIT 1;
Executing (6da8fc5b-91ed-49a4-a928-609c7186ca12): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_e13ab1b9f94d4349aa3c69a3dc3d96f3$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('5bbc0b4c-3605-4f76-b1ff-d86439bbb768','1350147d-276f-4221-8c54-a597192c1ed9','d740f229-23e1-4711-92dd-50a600041d16','Qmckbd4YBBQnhxiRFYRbTENSBDhJAojeNKrX3bP267A9Q3','983ece2a-2e0d-475e-992d-576aa033ec0a.mp3','/file_storage/Qmckbd4YBBQnhxiRFYRbTENSBDhJAojeNKrX3bP267A9Q3','copy320','2020-03-05 17:33:53.885 +00:00','2020-03-05 17:33:53.885 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_e13ab1b9f94d4349aa3c69a3dc3d96f3$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (6da8fc5b-91ed-49a4-a928-609c7186ca12): COMMIT;
{ fileUUID: '5bbc0b4c-3605-4f76-b1ff-d86439bbb768',
  cnodeUserUUID: '1350147d-276f-4221-8c54-a597192c1ed9',
  multihash: 'Qmckbd4YBBQnhxiRFYRbTENSBDhJAojeNKrX3bP267A9Q3',
  sourceFile: '983ece2a-2e0d-475e-992d-576aa033ec0a.mp3',
  storagePath:
   '/file_storage/Qmckbd4YBBQnhxiRFYRbTENSBDhJAojeNKrX3bP267A9Q3',
  type: 'copy320',
  trackUUID: 'd740f229-23e1-4711-92dd-50a600041d16',
  updatedAt: 2020-03-05T17:33:53.885Z,
  createdAt: 2020-03-05T17:33:53.885Z }
writing to db3...
Executing (1ef851c8-c443-4ae6-87e6-09d034e7aa1c): START TRANSACTION;
Executing (1ef851c8-c443-4ae6-87e6-09d034e7aa1c): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '1350147d-276f-4221-8c54-a597192c1ed9' AND "File"."multihash" = 'Qmckbd4YBBQnhxiRFYRbTENSBDhJAojeNKrX3bP267A9Q3' AND "File"."sourceFile" = '983ece2a-2e0d-475e-992d-576aa033ec0a.mp3' AND "File"."storagePath" = '/file_storage/Qmckbd4YBBQnhxiRFYRbTENSBDhJAojeNKrX3bP267A9Q3' AND "File"."type" = 'copy320' AND "File"."trackUUID" = 'd740f229-23e1-4711-92dd-50a600041d16' LIMIT 1;
Executing (1ef851c8-c443-4ae6-87e6-09d034e7aa1c): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_446c7f4392bb404da5694eb76acf78f1$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('9923dda5-b159-4712-a3c9-2bacc1454fd0','1350147d-276f-4221-8c54-a597192c1ed9','d740f229-23e1-4711-92dd-50a600041d16','Qmckbd4YBBQnhxiRFYRbTENSBDhJAojeNKrX3bP267A9Q3','983ece2a-2e0d-475e-992d-576aa033ec0a.mp3','/file_storage/Qmckbd4YBBQnhxiRFYRbTENSBDhJAojeNKrX3bP267A9Q3','copy320','2020-03-05 17:33:54.268 +00:00','2020-03-05 17:33:54.268 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_446c7f4392bb404da5694eb76acf78f1$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (1ef851c8-c443-4ae6-87e6-09d034e7aa1c): COMMIT;
{ fileUUID: '9923dda5-b159-4712-a3c9-2bacc1454fd0',
  cnodeUserUUID: '1350147d-276f-4221-8c54-a597192c1ed9',
  multihash: 'Qmckbd4YBBQnhxiRFYRbTENSBDhJAojeNKrX3bP267A9Q3',
  sourceFile: '983ece2a-2e0d-475e-992d-576aa033ec0a.mp3',
  storagePath:
   '/file_storage/Qmckbd4YBBQnhxiRFYRbTENSBDhJAojeNKrX3bP267A9Q3',
  type: 'copy320',
  trackUUID: 'd740f229-23e1-4711-92dd-50a600041d16',
  updatedAt: 2020-03-05T17:33:54.268Z,
  createdAt: 2020-03-05T17:33:54.268Z }




PROCESSING ROW #111: sourcefile: 273abf1a-5578-4a9e-9f86-6db8d5cc59a1.mp3, cnodeUserUUID: dd7b21d1-7f18-479c-9277-daf0188ad1dc, trackUUID: 56cf4207-d07d-4663-94c1-77219234af95, multihash: QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM, dstPath: /file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM
writing to db1...
Executing (d3973824-9a6d-4507-ab87-724789615b4b): START TRANSACTION;
Executing (d3973824-9a6d-4507-ab87-724789615b4b): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = 'dd7b21d1-7f18-479c-9277-daf0188ad1dc' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = '273abf1a-5578-4a9e-9f86-6db8d5cc59a1.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '56cf4207-d07d-4663-94c1-77219234af95' LIMIT 1;
Executing (d3973824-9a6d-4507-ab87-724789615b4b): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_1e1fb4a07ec34cf0b29cd4177d30da65$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('601a1bdd-8ab9-429b-8393-f50b0d7a2081','dd7b21d1-7f18-479c-9277-daf0188ad1dc','56cf4207-d07d-4663-94c1-77219234af95','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','273abf1a-5578-4a9e-9f86-6db8d5cc59a1.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:33:54.644 +00:00','2020-03-05 17:33:54.644 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_1e1fb4a07ec34cf0b29cd4177d30da65$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (d3973824-9a6d-4507-ab87-724789615b4b): COMMIT;
{ fileUUID: '601a1bdd-8ab9-429b-8393-f50b0d7a2081',
  cnodeUserUUID: 'dd7b21d1-7f18-479c-9277-daf0188ad1dc',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: '273abf1a-5578-4a9e-9f86-6db8d5cc59a1.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: '56cf4207-d07d-4663-94c1-77219234af95',
  updatedAt: 2020-03-05T17:33:54.644Z,
  createdAt: 2020-03-05T17:33:54.644Z }
writing to db2...
Executing (cea4446d-5962-4fca-9cb8-99dd42f78929): START TRANSACTION;
Executing (cea4446d-5962-4fca-9cb8-99dd42f78929): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = 'dd7b21d1-7f18-479c-9277-daf0188ad1dc' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = '273abf1a-5578-4a9e-9f86-6db8d5cc59a1.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '56cf4207-d07d-4663-94c1-77219234af95' LIMIT 1;
Executing (cea4446d-5962-4fca-9cb8-99dd42f78929): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_948f4e966eed4b7d930f37e8bfa6e136$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('202163c4-3f9f-4f7e-aac0-9518823dcf0d','dd7b21d1-7f18-479c-9277-daf0188ad1dc','56cf4207-d07d-4663-94c1-77219234af95','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','273abf1a-5578-4a9e-9f86-6db8d5cc59a1.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:33:55.025 +00:00','2020-03-05 17:33:55.025 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_948f4e966eed4b7d930f37e8bfa6e136$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (cea4446d-5962-4fca-9cb8-99dd42f78929): COMMIT;
{ fileUUID: '202163c4-3f9f-4f7e-aac0-9518823dcf0d',
  cnodeUserUUID: 'dd7b21d1-7f18-479c-9277-daf0188ad1dc',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: '273abf1a-5578-4a9e-9f86-6db8d5cc59a1.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: '56cf4207-d07d-4663-94c1-77219234af95',
  updatedAt: 2020-03-05T17:33:55.025Z,
  createdAt: 2020-03-05T17:33:55.025Z }
writing to db3...
Executing (c91ce52e-d3d3-4330-8fd1-581ba1eacf2a): START TRANSACTION;
Executing (c91ce52e-d3d3-4330-8fd1-581ba1eacf2a): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = 'dd7b21d1-7f18-479c-9277-daf0188ad1dc' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = '273abf1a-5578-4a9e-9f86-6db8d5cc59a1.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '56cf4207-d07d-4663-94c1-77219234af95' LIMIT 1;
Executing (c91ce52e-d3d3-4330-8fd1-581ba1eacf2a): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_bea03f1d978f49af93ad4168f1d619cb$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('68aa4879-ee14-4c3c-8c9a-1a412a59a01f','dd7b21d1-7f18-479c-9277-daf0188ad1dc','56cf4207-d07d-4663-94c1-77219234af95','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','273abf1a-5578-4a9e-9f86-6db8d5cc59a1.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:33:55.421 +00:00','2020-03-05 17:33:55.421 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_bea03f1d978f49af93ad4168f1d619cb$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (c91ce52e-d3d3-4330-8fd1-581ba1eacf2a): COMMIT;
{ fileUUID: '68aa4879-ee14-4c3c-8c9a-1a412a59a01f',
  cnodeUserUUID: 'dd7b21d1-7f18-479c-9277-daf0188ad1dc',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: '273abf1a-5578-4a9e-9f86-6db8d5cc59a1.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: '56cf4207-d07d-4663-94c1-77219234af95',
  updatedAt: 2020-03-05T17:33:55.421Z,
  createdAt: 2020-03-05T17:33:55.421Z }




PROCESSING ROW #112: sourcefile: cdd887d6-cb55-41a7-85a0-0f7ba3f02e2a.mp3, cnodeUserUUID: a4027f97-248a-4a97-8f0a-2c893e767ca1, trackUUID: bb6de633-fb27-456a-b446-f9812dee9d0e, multihash: QmQLrYxWsyByEU6EeojyZDDTWWujAnTzQhmGUc4tYqMhBU, dstPath: /file_storage/QmQLrYxWsyByEU6EeojyZDDTWWujAnTzQhmGUc4tYqMhBU
writing to db1...
Executing (bab62490-83af-4c47-8042-e02cd5c29a17): START TRANSACTION;
Executing (bab62490-83af-4c47-8042-e02cd5c29a17): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = 'a4027f97-248a-4a97-8f0a-2c893e767ca1' AND "File"."multihash" = 'QmQLrYxWsyByEU6EeojyZDDTWWujAnTzQhmGUc4tYqMhBU' AND "File"."sourceFile" = 'cdd887d6-cb55-41a7-85a0-0f7ba3f02e2a.mp3' AND "File"."storagePath" = '/file_storage/QmQLrYxWsyByEU6EeojyZDDTWWujAnTzQhmGUc4tYqMhBU' AND "File"."type" = 'copy320' AND "File"."trackUUID" = 'bb6de633-fb27-456a-b446-f9812dee9d0e' LIMIT 1;
Executing (bab62490-83af-4c47-8042-e02cd5c29a17): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_81bb78b532444407991c7837a016b9a2$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('e002570e-413a-4584-b8c9-c6be847b23a9','a4027f97-248a-4a97-8f0a-2c893e767ca1','bb6de633-fb27-456a-b446-f9812dee9d0e','QmQLrYxWsyByEU6EeojyZDDTWWujAnTzQhmGUc4tYqMhBU','cdd887d6-cb55-41a7-85a0-0f7ba3f02e2a.mp3','/file_storage/QmQLrYxWsyByEU6EeojyZDDTWWujAnTzQhmGUc4tYqMhBU','copy320','2020-03-05 17:33:55.829 +00:00','2020-03-05 17:33:55.829 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_81bb78b532444407991c7837a016b9a2$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (bab62490-83af-4c47-8042-e02cd5c29a17): COMMIT;
{ fileUUID: 'e002570e-413a-4584-b8c9-c6be847b23a9',
  cnodeUserUUID: 'a4027f97-248a-4a97-8f0a-2c893e767ca1',
  multihash: 'QmQLrYxWsyByEU6EeojyZDDTWWujAnTzQhmGUc4tYqMhBU',
  sourceFile: 'cdd887d6-cb55-41a7-85a0-0f7ba3f02e2a.mp3',
  storagePath:
   '/file_storage/QmQLrYxWsyByEU6EeojyZDDTWWujAnTzQhmGUc4tYqMhBU',
  type: 'copy320',
  trackUUID: 'bb6de633-fb27-456a-b446-f9812dee9d0e',
  updatedAt: 2020-03-05T17:33:55.829Z,
  createdAt: 2020-03-05T17:33:55.829Z }
writing to db2...
Executing (a6b6cb2d-94c6-4c5d-86ed-327668271302): START TRANSACTION;
Executing (a6b6cb2d-94c6-4c5d-86ed-327668271302): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = 'a4027f97-248a-4a97-8f0a-2c893e767ca1' AND "File"."multihash" = 'QmQLrYxWsyByEU6EeojyZDDTWWujAnTzQhmGUc4tYqMhBU' AND "File"."sourceFile" = 'cdd887d6-cb55-41a7-85a0-0f7ba3f02e2a.mp3' AND "File"."storagePath" = '/file_storage/QmQLrYxWsyByEU6EeojyZDDTWWujAnTzQhmGUc4tYqMhBU' AND "File"."type" = 'copy320' AND "File"."trackUUID" = 'bb6de633-fb27-456a-b446-f9812dee9d0e' LIMIT 1;
Executing (a6b6cb2d-94c6-4c5d-86ed-327668271302): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_b5572eec90c3486c97aabb104808f4ed$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('b5618a14-d185-4721-9c91-e404053ad421','a4027f97-248a-4a97-8f0a-2c893e767ca1','bb6de633-fb27-456a-b446-f9812dee9d0e','QmQLrYxWsyByEU6EeojyZDDTWWujAnTzQhmGUc4tYqMhBU','cdd887d6-cb55-41a7-85a0-0f7ba3f02e2a.mp3','/file_storage/QmQLrYxWsyByEU6EeojyZDDTWWujAnTzQhmGUc4tYqMhBU','copy320','2020-03-05 17:33:56.233 +00:00','2020-03-05 17:33:56.233 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_b5572eec90c3486c97aabb104808f4ed$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (a6b6cb2d-94c6-4c5d-86ed-327668271302): COMMIT;
{ fileUUID: 'b5618a14-d185-4721-9c91-e404053ad421',
  cnodeUserUUID: 'a4027f97-248a-4a97-8f0a-2c893e767ca1',
  multihash: 'QmQLrYxWsyByEU6EeojyZDDTWWujAnTzQhmGUc4tYqMhBU',
  sourceFile: 'cdd887d6-cb55-41a7-85a0-0f7ba3f02e2a.mp3',
  storagePath:
   '/file_storage/QmQLrYxWsyByEU6EeojyZDDTWWujAnTzQhmGUc4tYqMhBU',
  type: 'copy320',
  trackUUID: 'bb6de633-fb27-456a-b446-f9812dee9d0e',
  updatedAt: 2020-03-05T17:33:56.233Z,
  createdAt: 2020-03-05T17:33:56.233Z }
writing to db3...
Executing (46076533-bc44-4e8a-a6d6-5d284f52dc65): START TRANSACTION;
Executing (46076533-bc44-4e8a-a6d6-5d284f52dc65): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = 'a4027f97-248a-4a97-8f0a-2c893e767ca1' AND "File"."multihash" = 'QmQLrYxWsyByEU6EeojyZDDTWWujAnTzQhmGUc4tYqMhBU' AND "File"."sourceFile" = 'cdd887d6-cb55-41a7-85a0-0f7ba3f02e2a.mp3' AND "File"."storagePath" = '/file_storage/QmQLrYxWsyByEU6EeojyZDDTWWujAnTzQhmGUc4tYqMhBU' AND "File"."type" = 'copy320' AND "File"."trackUUID" = 'bb6de633-fb27-456a-b446-f9812dee9d0e' LIMIT 1;
Executing (46076533-bc44-4e8a-a6d6-5d284f52dc65): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_8dd14066539e4a198b3aa11e1039edba$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('70843d7d-7a81-42f6-9c5b-5dac80f37324','a4027f97-248a-4a97-8f0a-2c893e767ca1','bb6de633-fb27-456a-b446-f9812dee9d0e','QmQLrYxWsyByEU6EeojyZDDTWWujAnTzQhmGUc4tYqMhBU','cdd887d6-cb55-41a7-85a0-0f7ba3f02e2a.mp3','/file_storage/QmQLrYxWsyByEU6EeojyZDDTWWujAnTzQhmGUc4tYqMhBU','copy320','2020-03-05 17:33:56.654 +00:00','2020-03-05 17:33:56.654 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_8dd14066539e4a198b3aa11e1039edba$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (46076533-bc44-4e8a-a6d6-5d284f52dc65): COMMIT;
{ fileUUID: '70843d7d-7a81-42f6-9c5b-5dac80f37324',
  cnodeUserUUID: 'a4027f97-248a-4a97-8f0a-2c893e767ca1',
  multihash: 'QmQLrYxWsyByEU6EeojyZDDTWWujAnTzQhmGUc4tYqMhBU',
  sourceFile: 'cdd887d6-cb55-41a7-85a0-0f7ba3f02e2a.mp3',
  storagePath:
   '/file_storage/QmQLrYxWsyByEU6EeojyZDDTWWujAnTzQhmGUc4tYqMhBU',
  type: 'copy320',
  trackUUID: 'bb6de633-fb27-456a-b446-f9812dee9d0e',
  updatedAt: 2020-03-05T17:33:56.654Z,
  createdAt: 2020-03-05T17:33:56.654Z }




PROCESSING ROW #113: sourcefile: 11db6d80-e41f-4c9f-86fd-b3d574c6138b.mp3, cnodeUserUUID: 186706e0-f937-4b88-9141-599dd9c31c3f, trackUUID: 299e0093-4e6b-402e-8866-752051b865ba, multihash: QmcAD35vXY3h9iXGDF2sLTMTZ4QER63yKVoFrJQUpps6bq, dstPath: /file_storage/QmcAD35vXY3h9iXGDF2sLTMTZ4QER63yKVoFrJQUpps6bq
writing to db1...
Executing (3d67b4dd-c22d-478a-8d29-f6f3e7f23544): START TRANSACTION;
Executing (3d67b4dd-c22d-478a-8d29-f6f3e7f23544): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '186706e0-f937-4b88-9141-599dd9c31c3f' AND "File"."multihash" = 'QmcAD35vXY3h9iXGDF2sLTMTZ4QER63yKVoFrJQUpps6bq' AND "File"."sourceFile" = '11db6d80-e41f-4c9f-86fd-b3d574c6138b.mp3' AND "File"."storagePath" = '/file_storage/QmcAD35vXY3h9iXGDF2sLTMTZ4QER63yKVoFrJQUpps6bq' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '299e0093-4e6b-402e-8866-752051b865ba' LIMIT 1;
Executing (3d67b4dd-c22d-478a-8d29-f6f3e7f23544): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_124a309041bc48ed990dd63c067371d1$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('984a0ac2-e38d-446b-820f-efa948ec8c98','186706e0-f937-4b88-9141-599dd9c31c3f','299e0093-4e6b-402e-8866-752051b865ba','QmcAD35vXY3h9iXGDF2sLTMTZ4QER63yKVoFrJQUpps6bq','11db6d80-e41f-4c9f-86fd-b3d574c6138b.mp3','/file_storage/QmcAD35vXY3h9iXGDF2sLTMTZ4QER63yKVoFrJQUpps6bq','copy320','2020-03-05 17:33:57.044 +00:00','2020-03-05 17:33:57.044 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_124a309041bc48ed990dd63c067371d1$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (3d67b4dd-c22d-478a-8d29-f6f3e7f23544): COMMIT;
{ fileUUID: '984a0ac2-e38d-446b-820f-efa948ec8c98',
  cnodeUserUUID: '186706e0-f937-4b88-9141-599dd9c31c3f',
  multihash: 'QmcAD35vXY3h9iXGDF2sLTMTZ4QER63yKVoFrJQUpps6bq',
  sourceFile: '11db6d80-e41f-4c9f-86fd-b3d574c6138b.mp3',
  storagePath:
   '/file_storage/QmcAD35vXY3h9iXGDF2sLTMTZ4QER63yKVoFrJQUpps6bq',
  type: 'copy320',
  trackUUID: '299e0093-4e6b-402e-8866-752051b865ba',
  updatedAt: 2020-03-05T17:33:57.044Z,
  createdAt: 2020-03-05T17:33:57.044Z }
writing to db2...
Executing (f52ce5de-fed5-419b-98c5-9bbd222f2f7c): START TRANSACTION;
Executing (f52ce5de-fed5-419b-98c5-9bbd222f2f7c): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '186706e0-f937-4b88-9141-599dd9c31c3f' AND "File"."multihash" = 'QmcAD35vXY3h9iXGDF2sLTMTZ4QER63yKVoFrJQUpps6bq' AND "File"."sourceFile" = '11db6d80-e41f-4c9f-86fd-b3d574c6138b.mp3' AND "File"."storagePath" = '/file_storage/QmcAD35vXY3h9iXGDF2sLTMTZ4QER63yKVoFrJQUpps6bq' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '299e0093-4e6b-402e-8866-752051b865ba' LIMIT 1;
Executing (f52ce5de-fed5-419b-98c5-9bbd222f2f7c): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_042cd0d9b16247a09df9de8e60c85564$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('fc33f667-bd17-4562-91bd-bf27bf837ebe','186706e0-f937-4b88-9141-599dd9c31c3f','299e0093-4e6b-402e-8866-752051b865ba','QmcAD35vXY3h9iXGDF2sLTMTZ4QER63yKVoFrJQUpps6bq','11db6d80-e41f-4c9f-86fd-b3d574c6138b.mp3','/file_storage/QmcAD35vXY3h9iXGDF2sLTMTZ4QER63yKVoFrJQUpps6bq','copy320','2020-03-05 17:33:57.447 +00:00','2020-03-05 17:33:57.447 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_042cd0d9b16247a09df9de8e60c85564$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (f52ce5de-fed5-419b-98c5-9bbd222f2f7c): COMMIT;
{ SequelizeForeignKeyConstraintError: insert or update on table "Files" violates foreign key constraint "Files_trackUUID_fkey"
    at Query.formatError (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/sequelize/lib/dialects/postgres/query.js:296:16)
    at query.catch.err (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/sequelize/lib/dialects/postgres/query.js:86:18)
    at tryCatcher (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/bluebird/js/release/util.js:16:23)
    at Promise._settlePromiseFromHandler (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/bluebird/js/release/promise.js:517:31)
    at Promise._settlePromise (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/bluebird/js/release/promise.js:574:18)
    at Promise._settlePromise0 (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/bluebird/js/release/promise.js:619:10)
    at Promise._settlePromises (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/bluebird/js/release/promise.js:695:18)
    at _drainQueueStep (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/bluebird/js/release/async.js:138:12)
    at _drainQueue (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/bluebird/js/release/async.js:131:9)
    at Async._drainQueues (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/bluebird/js/release/async.js:147:5)
    at Immediate.Async.drainQueues [as _onImmediate] (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/bluebird/js/release/async.js:17:14)
    at runCallback (timers.js:705:18)
    at tryOnImmediate (timers.js:676:5)
    at processImmediate (timers.js:658:5)
  name: 'SequelizeForeignKeyConstraintError',
  parent:
   { error: insert or update on table "Files" violates foreign key constraint "Files_trackUUID_fkey"
       at Connection.parseE (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/pg/lib/connection.js:604:11)
       at Connection.parseMessage (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/pg/lib/connection.js:401:19)
       at Socket.<anonymous> (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/pg/lib/connection.js:121:22)
       at Socket.emit (events.js:198:13)
       at addChunk (_stream_readable.js:288:12)
       at readableAddChunk (_stream_readable.js:269:11)
       at Socket.Readable.push (_stream_readable.js:224:10)
       at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)
     name: 'error',
     length: 865,
     severity: 'ERROR',
     code: '23503',
     detail:
      'Key (trackUUID)=(299e0093-4e6b-402e-8866-752051b865ba) is not present in table "Tracks".',
     hint: undefined,
     position: undefined,
     internalPosition: undefined,
     internalQuery: undefined,
     where:
      'SQL statement "INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES (\'fc33f667-bd17-4562-91bd-bf27bf837ebe\',\'186706e0-f937-4b88-9141-599dd9c31c3f\',\'299e0093-4e6b-402e-8866-752051b865ba\',\'QmcAD35vXY3h9iXGDF2sLTMTZ4QER63yKVoFrJQUpps6bq\',\'11db6d80-e41f-4c9f-86fd-b3d574c6138b.mp3\',\'/file_storage/QmcAD35vXY3h9iXGDF2sLTMTZ4QER63yKVoFrJQUpps6bq\',\'copy320\',\'2020-03-05 17:33:57.447 +00:00\',\'2020-03-05 17:33:57.447 +00:00\') RETURNING *"\nPL/pgSQL function pg_temp_10.testfunc() line 1 at SQL statement',
     schema: 'public',
     table: 'Files',
     column: undefined,
     dataType: undefined,
     constraint: 'Files_trackUUID_fkey',
     file: 'ri_triggers.c',
     line: '3266',
     routine: 'ri_ReportViolation',
     sql:
      'CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_042cd0d9b16247a09df9de8e60c85564$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES (\'fc33f667-bd17-4562-91bd-bf27bf837ebe\',\'186706e0-f937-4b88-9141-599dd9c31c3f\',\'299e0093-4e6b-402e-8866-752051b865ba\',\'QmcAD35vXY3h9iXGDF2sLTMTZ4QER63yKVoFrJQUpps6bq\',\'11db6d80-e41f-4c9f-86fd-b3d574c6138b.mp3\',\'/file_storage/QmcAD35vXY3h9iXGDF2sLTMTZ4QER63yKVoFrJQUpps6bq\',\'copy320\',\'2020-03-05 17:33:57.447 +00:00\',\'2020-03-05 17:33:57.447 +00:00\') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_042cd0d9b16247a09df9de8e60c85564$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();' },
  original:
   { error: insert or update on table "Files" violates foreign key constraint "Files_trackUUID_fkey"
       at Connection.parseE (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/pg/lib/connection.js:604:11)
       at Connection.parseMessage (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/pg/lib/connection.js:401:19)
       at Socket.<anonymous> (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/pg/lib/connection.js:121:22)
       at Socket.emit (events.js:198:13)
       at addChunk (_stream_readable.js:288:12)
       at readableAddChunk (_stream_readable.js:269:11)
       at Socket.Readable.push (_stream_readable.js:224:10)
       at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)
     name: 'error',
     length: 865,
     severity: 'ERROR',
     code: '23503',
     detail:
      'Key (trackUUID)=(299e0093-4e6b-402e-8866-752051b865ba) is not present in table "Tracks".',
     hint: undefined,
     position: undefined,
     internalPosition: undefined,
     internalQuery: undefined,
     where:
      'SQL statement "INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES (\'fc33f667-bd17-4562-91bd-bf27bf837ebe\',\'186706e0-f937-4b88-9141-599dd9c31c3f\',\'299e0093-4e6b-402e-8866-752051b865ba\',\'QmcAD35vXY3h9iXGDF2sLTMTZ4QER63yKVoFrJQUpps6bq\',\'11db6d80-e41f-4c9f-86fd-b3d574c6138b.mp3\',\'/file_storage/QmcAD35vXY3h9iXGDF2sLTMTZ4QER63yKVoFrJQUpps6bq\',\'copy320\',\'2020-03-05 17:33:57.447 +00:00\',\'2020-03-05 17:33:57.447 +00:00\') RETURNING *"\nPL/pgSQL function pg_temp_10.testfunc() line 1 at SQL statement',
     schema: 'public',
     table: 'Files',
     column: undefined,
     dataType: undefined,
     constraint: 'Files_trackUUID_fkey',
     file: 'ri_triggers.c',
     line: '3266',
     routine: 'ri_ReportViolation',
     sql:
      'CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_042cd0d9b16247a09df9de8e60c85564$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES (\'fc33f667-bd17-4562-91bd-bf27bf837ebe\',\'186706e0-f937-4b88-9141-599dd9c31c3f\',\'299e0093-4e6b-402e-8866-752051b865ba\',\'QmcAD35vXY3h9iXGDF2sLTMTZ4QER63yKVoFrJQUpps6bq\',\'11db6d80-e41f-4c9f-86fd-b3d574c6138b.mp3\',\'/file_storage/QmcAD35vXY3h9iXGDF2sLTMTZ4QER63yKVoFrJQUpps6bq\',\'copy320\',\'2020-03-05 17:33:57.447 +00:00\',\'2020-03-05 17:33:57.447 +00:00\') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_042cd0d9b16247a09df9de8e60c85564$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();' },
  sql:
   'CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_042cd0d9b16247a09df9de8e60c85564$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES (\'fc33f667-bd17-4562-91bd-bf27bf837ebe\',\'186706e0-f937-4b88-9141-599dd9c31c3f\',\'299e0093-4e6b-402e-8866-752051b865ba\',\'QmcAD35vXY3h9iXGDF2sLTMTZ4QER63yKVoFrJQUpps6bq\',\'11db6d80-e41f-4c9f-86fd-b3d574c6138b.mp3\',\'/file_storage/QmcAD35vXY3h9iXGDF2sLTMTZ4QER63yKVoFrJQUpps6bq\',\'copy320\',\'2020-03-05 17:33:57.447 +00:00\',\'2020-03-05 17:33:57.447 +00:00\') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_042cd0d9b16247a09df9de8e60c85564$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();',
  fields: null,
  table: 'Files',
  value: undefined,
  index: 'Files_trackUUID_fkey',
  reltype: undefined }
writing to db3...
Executing (05430306-3e6d-4ab7-9bae-0c0329de64d6): START TRANSACTION;
Executing (05430306-3e6d-4ab7-9bae-0c0329de64d6): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '186706e0-f937-4b88-9141-599dd9c31c3f' AND "File"."multihash" = 'QmcAD35vXY3h9iXGDF2sLTMTZ4QER63yKVoFrJQUpps6bq' AND "File"."sourceFile" = '11db6d80-e41f-4c9f-86fd-b3d574c6138b.mp3' AND "File"."storagePath" = '/file_storage/QmcAD35vXY3h9iXGDF2sLTMTZ4QER63yKVoFrJQUpps6bq' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '299e0093-4e6b-402e-8866-752051b865ba' LIMIT 1;
Executing (05430306-3e6d-4ab7-9bae-0c0329de64d6): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_9d64698832f44e0fa381e06022631656$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('4c4ab565-934b-464f-abe0-f09c38eb207b','186706e0-f937-4b88-9141-599dd9c31c3f','299e0093-4e6b-402e-8866-752051b865ba','QmcAD35vXY3h9iXGDF2sLTMTZ4QER63yKVoFrJQUpps6bq','11db6d80-e41f-4c9f-86fd-b3d574c6138b.mp3','/file_storage/QmcAD35vXY3h9iXGDF2sLTMTZ4QER63yKVoFrJQUpps6bq','copy320','2020-03-05 17:33:57.835 +00:00','2020-03-05 17:33:57.835 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_9d64698832f44e0fa381e06022631656$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (05430306-3e6d-4ab7-9bae-0c0329de64d6): COMMIT;
{ SequelizeForeignKeyConstraintError: insert or update on table "Files" violates foreign key constraint "Files_trackUUID_fkey"
    at Query.formatError (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/sequelize/lib/dialects/postgres/query.js:296:16)
    at query.catch.err (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/sequelize/lib/dialects/postgres/query.js:86:18)
    at tryCatcher (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/bluebird/js/release/util.js:16:23)
    at Promise._settlePromiseFromHandler (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/bluebird/js/release/promise.js:517:31)
    at Promise._settlePromise (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/bluebird/js/release/promise.js:574:18)
    at Promise._settlePromise0 (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/bluebird/js/release/promise.js:619:10)
    at Promise._settlePromises (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/bluebird/js/release/promise.js:695:18)
    at _drainQueueStep (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/bluebird/js/release/async.js:138:12)
    at _drainQueue (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/bluebird/js/release/async.js:131:9)
    at Async._drainQueues (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/bluebird/js/release/async.js:147:5)
    at Immediate.Async.drainQueues [as _onImmediate] (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/bluebird/js/release/async.js:17:14)
    at runCallback (timers.js:705:18)
    at tryOnImmediate (timers.js:676:5)
    at processImmediate (timers.js:658:5)
  name: 'SequelizeForeignKeyConstraintError',
  parent:
   { error: insert or update on table "Files" violates foreign key constraint "Files_trackUUID_fkey"
       at Connection.parseE (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/pg/lib/connection.js:604:11)
       at Connection.parseMessage (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/pg/lib/connection.js:401:19)
       at Socket.<anonymous> (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/pg/lib/connection.js:121:22)
       at Socket.emit (events.js:198:13)
       at addChunk (_stream_readable.js:288:12)
       at readableAddChunk (_stream_readable.js:269:11)
       at Socket.Readable.push (_stream_readable.js:224:10)
       at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)
     name: 'error',
     length: 865,
     severity: 'ERROR',
     code: '23503',
     detail:
      'Key (trackUUID)=(299e0093-4e6b-402e-8866-752051b865ba) is not present in table "Tracks".',
     hint: undefined,
     position: undefined,
     internalPosition: undefined,
     internalQuery: undefined,
     where:
      'SQL statement "INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES (\'4c4ab565-934b-464f-abe0-f09c38eb207b\',\'186706e0-f937-4b88-9141-599dd9c31c3f\',\'299e0093-4e6b-402e-8866-752051b865ba\',\'QmcAD35vXY3h9iXGDF2sLTMTZ4QER63yKVoFrJQUpps6bq\',\'11db6d80-e41f-4c9f-86fd-b3d574c6138b.mp3\',\'/file_storage/QmcAD35vXY3h9iXGDF2sLTMTZ4QER63yKVoFrJQUpps6bq\',\'copy320\',\'2020-03-05 17:33:57.835 +00:00\',\'2020-03-05 17:33:57.835 +00:00\') RETURNING *"\nPL/pgSQL function pg_temp_68.testfunc() line 1 at SQL statement',
     schema: 'public',
     table: 'Files',
     column: undefined,
     dataType: undefined,
     constraint: 'Files_trackUUID_fkey',
     file: 'ri_triggers.c',
     line: '2783',
     routine: 'ri_ReportViolation',
     sql:
      'CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_9d64698832f44e0fa381e06022631656$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES (\'4c4ab565-934b-464f-abe0-f09c38eb207b\',\'186706e0-f937-4b88-9141-599dd9c31c3f\',\'299e0093-4e6b-402e-8866-752051b865ba\',\'QmcAD35vXY3h9iXGDF2sLTMTZ4QER63yKVoFrJQUpps6bq\',\'11db6d80-e41f-4c9f-86fd-b3d574c6138b.mp3\',\'/file_storage/QmcAD35vXY3h9iXGDF2sLTMTZ4QER63yKVoFrJQUpps6bq\',\'copy320\',\'2020-03-05 17:33:57.835 +00:00\',\'2020-03-05 17:33:57.835 +00:00\') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_9d64698832f44e0fa381e06022631656$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();' },
  original:
   { error: insert or update on table "Files" violates foreign key constraint "Files_trackUUID_fkey"
       at Connection.parseE (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/pg/lib/connection.js:604:11)
       at Connection.parseMessage (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/pg/lib/connection.js:401:19)
       at Socket.<anonymous> (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/pg/lib/connection.js:121:22)
       at Socket.emit (events.js:198:13)
       at addChunk (_stream_readable.js:288:12)
       at readableAddChunk (_stream_readable.js:269:11)
       at Socket.Readable.push (_stream_readable.js:224:10)
       at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)
     name: 'error',
     length: 865,
     severity: 'ERROR',
     code: '23503',
     detail:
      'Key (trackUUID)=(299e0093-4e6b-402e-8866-752051b865ba) is not present in table "Tracks".',
     hint: undefined,
     position: undefined,
     internalPosition: undefined,
     internalQuery: undefined,
     where:
      'SQL statement "INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES (\'4c4ab565-934b-464f-abe0-f09c38eb207b\',\'186706e0-f937-4b88-9141-599dd9c31c3f\',\'299e0093-4e6b-402e-8866-752051b865ba\',\'QmcAD35vXY3h9iXGDF2sLTMTZ4QER63yKVoFrJQUpps6bq\',\'11db6d80-e41f-4c9f-86fd-b3d574c6138b.mp3\',\'/file_storage/QmcAD35vXY3h9iXGDF2sLTMTZ4QER63yKVoFrJQUpps6bq\',\'copy320\',\'2020-03-05 17:33:57.835 +00:00\',\'2020-03-05 17:33:57.835 +00:00\') RETURNING *"\nPL/pgSQL function pg_temp_68.testfunc() line 1 at SQL statement',
     schema: 'public',
     table: 'Files',
     column: undefined,
     dataType: undefined,
     constraint: 'Files_trackUUID_fkey',
     file: 'ri_triggers.c',
     line: '2783',
     routine: 'ri_ReportViolation',
     sql:
      'CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_9d64698832f44e0fa381e06022631656$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES (\'4c4ab565-934b-464f-abe0-f09c38eb207b\',\'186706e0-f937-4b88-9141-599dd9c31c3f\',\'299e0093-4e6b-402e-8866-752051b865ba\',\'QmcAD35vXY3h9iXGDF2sLTMTZ4QER63yKVoFrJQUpps6bq\',\'11db6d80-e41f-4c9f-86fd-b3d574c6138b.mp3\',\'/file_storage/QmcAD35vXY3h9iXGDF2sLTMTZ4QER63yKVoFrJQUpps6bq\',\'copy320\',\'2020-03-05 17:33:57.835 +00:00\',\'2020-03-05 17:33:57.835 +00:00\') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_9d64698832f44e0fa381e06022631656$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();' },
  sql:
   'CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_9d64698832f44e0fa381e06022631656$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES (\'4c4ab565-934b-464f-abe0-f09c38eb207b\',\'186706e0-f937-4b88-9141-599dd9c31c3f\',\'299e0093-4e6b-402e-8866-752051b865ba\',\'QmcAD35vXY3h9iXGDF2sLTMTZ4QER63yKVoFrJQUpps6bq\',\'11db6d80-e41f-4c9f-86fd-b3d574c6138b.mp3\',\'/file_storage/QmcAD35vXY3h9iXGDF2sLTMTZ4QER63yKVoFrJQUpps6bq\',\'copy320\',\'2020-03-05 17:33:57.835 +00:00\',\'2020-03-05 17:33:57.835 +00:00\') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_9d64698832f44e0fa381e06022631656$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();',
  fields: null,
  table: 'Files',
  value: undefined,
  index: 'Files_trackUUID_fkey',
  reltype: undefined }




PROCESSING ROW #114: sourcefile: 46af39e6-c2a8-4473-a7af-26a6aac6dedc.mp3, cnodeUserUUID: 038da146-25cc-45ac-bca1-d5268d513806, trackUUID: 9b85d29e-4c7d-449a-92bc-bd2abe402a69, multihash: QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM, dstPath: /file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM
writing to db1...
Executing (4b464a8c-a0c1-44d2-b906-9e16e57552d8): START TRANSACTION;
Executing (4b464a8c-a0c1-44d2-b906-9e16e57552d8): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '038da146-25cc-45ac-bca1-d5268d513806' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = '46af39e6-c2a8-4473-a7af-26a6aac6dedc.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '9b85d29e-4c7d-449a-92bc-bd2abe402a69' LIMIT 1;
Executing (4b464a8c-a0c1-44d2-b906-9e16e57552d8): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_6e9dcd893f354eebab60a983b971e226$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('dfff87fd-a247-4005-be93-00aa7cdc801e','038da146-25cc-45ac-bca1-d5268d513806','9b85d29e-4c7d-449a-92bc-bd2abe402a69','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','46af39e6-c2a8-4473-a7af-26a6aac6dedc.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:33:58.225 +00:00','2020-03-05 17:33:58.225 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_6e9dcd893f354eebab60a983b971e226$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (4b464a8c-a0c1-44d2-b906-9e16e57552d8): COMMIT;
{ fileUUID: 'dfff87fd-a247-4005-be93-00aa7cdc801e',
  cnodeUserUUID: '038da146-25cc-45ac-bca1-d5268d513806',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: '46af39e6-c2a8-4473-a7af-26a6aac6dedc.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: '9b85d29e-4c7d-449a-92bc-bd2abe402a69',
  updatedAt: 2020-03-05T17:33:58.225Z,
  createdAt: 2020-03-05T17:33:58.225Z }
writing to db2...
Executing (3b748b2f-5ef1-4462-968d-3a9113f7c67f): START TRANSACTION;
Executing (3b748b2f-5ef1-4462-968d-3a9113f7c67f): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '038da146-25cc-45ac-bca1-d5268d513806' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = '46af39e6-c2a8-4473-a7af-26a6aac6dedc.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '9b85d29e-4c7d-449a-92bc-bd2abe402a69' LIMIT 1;
Executing (3b748b2f-5ef1-4462-968d-3a9113f7c67f): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_f2a053a31d8543cf8351e31c8a7fba0f$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('ffab8916-7722-400d-b28b-8f7f43bf76e0','038da146-25cc-45ac-bca1-d5268d513806','9b85d29e-4c7d-449a-92bc-bd2abe402a69','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','46af39e6-c2a8-4473-a7af-26a6aac6dedc.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:33:58.608 +00:00','2020-03-05 17:33:58.608 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_f2a053a31d8543cf8351e31c8a7fba0f$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (3b748b2f-5ef1-4462-968d-3a9113f7c67f): COMMIT;
{ fileUUID: 'ffab8916-7722-400d-b28b-8f7f43bf76e0',
  cnodeUserUUID: '038da146-25cc-45ac-bca1-d5268d513806',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: '46af39e6-c2a8-4473-a7af-26a6aac6dedc.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: '9b85d29e-4c7d-449a-92bc-bd2abe402a69',
  updatedAt: 2020-03-05T17:33:58.608Z,
  createdAt: 2020-03-05T17:33:58.608Z }
writing to db3...
Executing (f14c3633-8691-4fc6-8c17-e4046ea7b559): START TRANSACTION;
Executing (f14c3633-8691-4fc6-8c17-e4046ea7b559): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '038da146-25cc-45ac-bca1-d5268d513806' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = '46af39e6-c2a8-4473-a7af-26a6aac6dedc.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '9b85d29e-4c7d-449a-92bc-bd2abe402a69' LIMIT 1;
Executing (f14c3633-8691-4fc6-8c17-e4046ea7b559): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_ee24ba11ea944863839ff9afa5d5359e$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('6b4b043c-77dd-4eab-8e78-d64f0b2ba1fb','038da146-25cc-45ac-bca1-d5268d513806','9b85d29e-4c7d-449a-92bc-bd2abe402a69','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','46af39e6-c2a8-4473-a7af-26a6aac6dedc.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:33:59.002 +00:00','2020-03-05 17:33:59.002 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_ee24ba11ea944863839ff9afa5d5359e$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (f14c3633-8691-4fc6-8c17-e4046ea7b559): COMMIT;
{ fileUUID: '6b4b043c-77dd-4eab-8e78-d64f0b2ba1fb',
  cnodeUserUUID: '038da146-25cc-45ac-bca1-d5268d513806',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: '46af39e6-c2a8-4473-a7af-26a6aac6dedc.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: '9b85d29e-4c7d-449a-92bc-bd2abe402a69',
  updatedAt: 2020-03-05T17:33:59.002Z,
  createdAt: 2020-03-05T17:33:59.002Z }




PROCESSING ROW #115: sourcefile: d8561f6b-f9bc-4c79-9c18-930746062178.mp3, cnodeUserUUID: 1350147d-276f-4221-8c54-a597192c1ed9, trackUUID: 684a22cc-0798-46f1-b808-88c996f060aa, multihash: Qma8jX7NgHecG4cuUDrK66CuuH391fSsFDCcPnLXbthark, dstPath: /file_storage/Qma8jX7NgHecG4cuUDrK66CuuH391fSsFDCcPnLXbthark
writing to db1...
Executing (eb5b6de5-b54b-4fd8-aa44-0f39595e0f88): START TRANSACTION;
Executing (eb5b6de5-b54b-4fd8-aa44-0f39595e0f88): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '1350147d-276f-4221-8c54-a597192c1ed9' AND "File"."multihash" = 'Qma8jX7NgHecG4cuUDrK66CuuH391fSsFDCcPnLXbthark' AND "File"."sourceFile" = 'd8561f6b-f9bc-4c79-9c18-930746062178.mp3' AND "File"."storagePath" = '/file_storage/Qma8jX7NgHecG4cuUDrK66CuuH391fSsFDCcPnLXbthark' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '684a22cc-0798-46f1-b808-88c996f060aa' LIMIT 1;
Executing (eb5b6de5-b54b-4fd8-aa44-0f39595e0f88): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_e9d16b41a5af4e3bb7c9a4fe063b0f72$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('7d8ab24e-6eac-41cc-915b-6389cca72891','1350147d-276f-4221-8c54-a597192c1ed9','684a22cc-0798-46f1-b808-88c996f060aa','Qma8jX7NgHecG4cuUDrK66CuuH391fSsFDCcPnLXbthark','d8561f6b-f9bc-4c79-9c18-930746062178.mp3','/file_storage/Qma8jX7NgHecG4cuUDrK66CuuH391fSsFDCcPnLXbthark','copy320','2020-03-05 17:33:59.398 +00:00','2020-03-05 17:33:59.398 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_e9d16b41a5af4e3bb7c9a4fe063b0f72$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (eb5b6de5-b54b-4fd8-aa44-0f39595e0f88): COMMIT;
{ fileUUID: '7d8ab24e-6eac-41cc-915b-6389cca72891',
  cnodeUserUUID: '1350147d-276f-4221-8c54-a597192c1ed9',
  multihash: 'Qma8jX7NgHecG4cuUDrK66CuuH391fSsFDCcPnLXbthark',
  sourceFile: 'd8561f6b-f9bc-4c79-9c18-930746062178.mp3',
  storagePath:
   '/file_storage/Qma8jX7NgHecG4cuUDrK66CuuH391fSsFDCcPnLXbthark',
  type: 'copy320',
  trackUUID: '684a22cc-0798-46f1-b808-88c996f060aa',
  updatedAt: 2020-03-05T17:33:59.398Z,
  createdAt: 2020-03-05T17:33:59.398Z }
writing to db2...
Executing (b74878a0-3053-4377-8f63-438fa47365fd): START TRANSACTION;
Executing (b74878a0-3053-4377-8f63-438fa47365fd): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '1350147d-276f-4221-8c54-a597192c1ed9' AND "File"."multihash" = 'Qma8jX7NgHecG4cuUDrK66CuuH391fSsFDCcPnLXbthark' AND "File"."sourceFile" = 'd8561f6b-f9bc-4c79-9c18-930746062178.mp3' AND "File"."storagePath" = '/file_storage/Qma8jX7NgHecG4cuUDrK66CuuH391fSsFDCcPnLXbthark' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '684a22cc-0798-46f1-b808-88c996f060aa' LIMIT 1;
Executing (b74878a0-3053-4377-8f63-438fa47365fd): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_cf59f1c3de044c0ba1ddb24ce4b7f2f7$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('66672fcd-526b-4596-b4cd-09e110487ee3','1350147d-276f-4221-8c54-a597192c1ed9','684a22cc-0798-46f1-b808-88c996f060aa','Qma8jX7NgHecG4cuUDrK66CuuH391fSsFDCcPnLXbthark','d8561f6b-f9bc-4c79-9c18-930746062178.mp3','/file_storage/Qma8jX7NgHecG4cuUDrK66CuuH391fSsFDCcPnLXbthark','copy320','2020-03-05 17:33:59.788 +00:00','2020-03-05 17:33:59.788 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_cf59f1c3de044c0ba1ddb24ce4b7f2f7$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (b74878a0-3053-4377-8f63-438fa47365fd): COMMIT;
{ fileUUID: '66672fcd-526b-4596-b4cd-09e110487ee3',
  cnodeUserUUID: '1350147d-276f-4221-8c54-a597192c1ed9',
  multihash: 'Qma8jX7NgHecG4cuUDrK66CuuH391fSsFDCcPnLXbthark',
  sourceFile: 'd8561f6b-f9bc-4c79-9c18-930746062178.mp3',
  storagePath:
   '/file_storage/Qma8jX7NgHecG4cuUDrK66CuuH391fSsFDCcPnLXbthark',
  type: 'copy320',
  trackUUID: '684a22cc-0798-46f1-b808-88c996f060aa',
  updatedAt: 2020-03-05T17:33:59.788Z,
  createdAt: 2020-03-05T17:33:59.788Z }
writing to db3...
Executing (6e4dc662-4295-4fe6-901e-f0a699cbc0d6): START TRANSACTION;
Executing (6e4dc662-4295-4fe6-901e-f0a699cbc0d6): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '1350147d-276f-4221-8c54-a597192c1ed9' AND "File"."multihash" = 'Qma8jX7NgHecG4cuUDrK66CuuH391fSsFDCcPnLXbthark' AND "File"."sourceFile" = 'd8561f6b-f9bc-4c79-9c18-930746062178.mp3' AND "File"."storagePath" = '/file_storage/Qma8jX7NgHecG4cuUDrK66CuuH391fSsFDCcPnLXbthark' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '684a22cc-0798-46f1-b808-88c996f060aa' LIMIT 1;
Executing (6e4dc662-4295-4fe6-901e-f0a699cbc0d6): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_bcc4638d529241d4aac1eaad8ba6c455$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('1fda4e55-f23c-4a89-990f-18db95fa812b','1350147d-276f-4221-8c54-a597192c1ed9','684a22cc-0798-46f1-b808-88c996f060aa','Qma8jX7NgHecG4cuUDrK66CuuH391fSsFDCcPnLXbthark','d8561f6b-f9bc-4c79-9c18-930746062178.mp3','/file_storage/Qma8jX7NgHecG4cuUDrK66CuuH391fSsFDCcPnLXbthark','copy320','2020-03-05 17:34:00.176 +00:00','2020-03-05 17:34:00.176 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_bcc4638d529241d4aac1eaad8ba6c455$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (6e4dc662-4295-4fe6-901e-f0a699cbc0d6): COMMIT;
{ fileUUID: '1fda4e55-f23c-4a89-990f-18db95fa812b',
  cnodeUserUUID: '1350147d-276f-4221-8c54-a597192c1ed9',
  multihash: 'Qma8jX7NgHecG4cuUDrK66CuuH391fSsFDCcPnLXbthark',
  sourceFile: 'd8561f6b-f9bc-4c79-9c18-930746062178.mp3',
  storagePath:
   '/file_storage/Qma8jX7NgHecG4cuUDrK66CuuH391fSsFDCcPnLXbthark',
  type: 'copy320',
  trackUUID: '684a22cc-0798-46f1-b808-88c996f060aa',
  updatedAt: 2020-03-05T17:34:00.176Z,
  createdAt: 2020-03-05T17:34:00.176Z }




PROCESSING ROW #116: sourcefile: da5520f5-e920-4cb1-895f-80683ef51725.mp3, cnodeUserUUID: e20f3f94-cb94-4754-8242-bbc3ac758bae, trackUUID: b807985a-68ff-4a04-9e16-c8c10990c5eb, multihash: QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM, dstPath: /file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM
writing to db1...
Executing (f07b501c-35e9-49ca-bbf7-2975bf6aae21): START TRANSACTION;
Executing (f07b501c-35e9-49ca-bbf7-2975bf6aae21): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = 'e20f3f94-cb94-4754-8242-bbc3ac758bae' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = 'da5520f5-e920-4cb1-895f-80683ef51725.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = 'b807985a-68ff-4a04-9e16-c8c10990c5eb' LIMIT 1;
Executing (f07b501c-35e9-49ca-bbf7-2975bf6aae21): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_97cd908e8aa74420a601a7cca7217af1$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('d063d996-7171-459a-80fc-c700e6939e13','e20f3f94-cb94-4754-8242-bbc3ac758bae','b807985a-68ff-4a04-9e16-c8c10990c5eb','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','da5520f5-e920-4cb1-895f-80683ef51725.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:34:00.558 +00:00','2020-03-05 17:34:00.558 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_97cd908e8aa74420a601a7cca7217af1$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (f07b501c-35e9-49ca-bbf7-2975bf6aae21): COMMIT;
{ fileUUID: 'd063d996-7171-459a-80fc-c700e6939e13',
  cnodeUserUUID: 'e20f3f94-cb94-4754-8242-bbc3ac758bae',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: 'da5520f5-e920-4cb1-895f-80683ef51725.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: 'b807985a-68ff-4a04-9e16-c8c10990c5eb',
  updatedAt: 2020-03-05T17:34:00.558Z,
  createdAt: 2020-03-05T17:34:00.558Z }
writing to db2...
Executing (b7b58a57-4edb-412d-a5ed-45d3a1470348): START TRANSACTION;
Executing (b7b58a57-4edb-412d-a5ed-45d3a1470348): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = 'e20f3f94-cb94-4754-8242-bbc3ac758bae' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = 'da5520f5-e920-4cb1-895f-80683ef51725.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = 'b807985a-68ff-4a04-9e16-c8c10990c5eb' LIMIT 1;
Executing (b7b58a57-4edb-412d-a5ed-45d3a1470348): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_8940886f49544839a18591211ab5a6da$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('24c485bd-7c27-463a-abc2-65637ec0d2f4','e20f3f94-cb94-4754-8242-bbc3ac758bae','b807985a-68ff-4a04-9e16-c8c10990c5eb','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','da5520f5-e920-4cb1-895f-80683ef51725.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:34:00.948 +00:00','2020-03-05 17:34:00.948 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_8940886f49544839a18591211ab5a6da$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (b7b58a57-4edb-412d-a5ed-45d3a1470348): COMMIT;
{ fileUUID: '24c485bd-7c27-463a-abc2-65637ec0d2f4',
  cnodeUserUUID: 'e20f3f94-cb94-4754-8242-bbc3ac758bae',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: 'da5520f5-e920-4cb1-895f-80683ef51725.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: 'b807985a-68ff-4a04-9e16-c8c10990c5eb',
  updatedAt: 2020-03-05T17:34:00.948Z,
  createdAt: 2020-03-05T17:34:00.948Z }
writing to db3...
Executing (94a7f0d3-179a-4fc0-b115-b4b7cbe6aa3b): START TRANSACTION;
Executing (94a7f0d3-179a-4fc0-b115-b4b7cbe6aa3b): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = 'e20f3f94-cb94-4754-8242-bbc3ac758bae' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = 'da5520f5-e920-4cb1-895f-80683ef51725.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = 'b807985a-68ff-4a04-9e16-c8c10990c5eb' LIMIT 1;
Executing (94a7f0d3-179a-4fc0-b115-b4b7cbe6aa3b): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_36cbb1dc9355488cb149d8a5393cc23b$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('c17f6937-e76c-4d24-b8ae-e6274857fbc6','e20f3f94-cb94-4754-8242-bbc3ac758bae','b807985a-68ff-4a04-9e16-c8c10990c5eb','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','da5520f5-e920-4cb1-895f-80683ef51725.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:34:01.338 +00:00','2020-03-05 17:34:01.338 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_36cbb1dc9355488cb149d8a5393cc23b$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (94a7f0d3-179a-4fc0-b115-b4b7cbe6aa3b): COMMIT;
{ fileUUID: 'c17f6937-e76c-4d24-b8ae-e6274857fbc6',
  cnodeUserUUID: 'e20f3f94-cb94-4754-8242-bbc3ac758bae',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: 'da5520f5-e920-4cb1-895f-80683ef51725.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: 'b807985a-68ff-4a04-9e16-c8c10990c5eb',
  updatedAt: 2020-03-05T17:34:01.338Z,
  createdAt: 2020-03-05T17:34:01.338Z }




PROCESSING ROW #117: sourcefile: 3ac7d027-24d2-41ce-bbe9-aec2d7aed375.aif, cnodeUserUUID: 186706e0-f937-4b88-9141-599dd9c31c3f, trackUUID: 1f47da29-5af3-4550-b634-7c5c57412f84, multihash: QmaFnoY7FUKS1JP8CJ2zKnfJZN8iDLuZ59pxcwDg1v1FD4, dstPath: /file_storage/QmaFnoY7FUKS1JP8CJ2zKnfJZN8iDLuZ59pxcwDg1v1FD4
writing to db1...
Executing (86e100d0-8d9e-41f1-9213-a614bc6dd983): START TRANSACTION;
Executing (86e100d0-8d9e-41f1-9213-a614bc6dd983): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '186706e0-f937-4b88-9141-599dd9c31c3f' AND "File"."multihash" = 'QmaFnoY7FUKS1JP8CJ2zKnfJZN8iDLuZ59pxcwDg1v1FD4' AND "File"."sourceFile" = '3ac7d027-24d2-41ce-bbe9-aec2d7aed375.aif' AND "File"."storagePath" = '/file_storage/QmaFnoY7FUKS1JP8CJ2zKnfJZN8iDLuZ59pxcwDg1v1FD4' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '1f47da29-5af3-4550-b634-7c5c57412f84' LIMIT 1;
Executing (86e100d0-8d9e-41f1-9213-a614bc6dd983): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_9d2864abcbbf434da51e5b07634bcd08$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('476a78e5-32dd-4269-abe1-123a015ed0dd','186706e0-f937-4b88-9141-599dd9c31c3f','1f47da29-5af3-4550-b634-7c5c57412f84','QmaFnoY7FUKS1JP8CJ2zKnfJZN8iDLuZ59pxcwDg1v1FD4','3ac7d027-24d2-41ce-bbe9-aec2d7aed375.aif','/file_storage/QmaFnoY7FUKS1JP8CJ2zKnfJZN8iDLuZ59pxcwDg1v1FD4','copy320','2020-03-05 17:34:01.729 +00:00','2020-03-05 17:34:01.729 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_9d2864abcbbf434da51e5b07634bcd08$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (86e100d0-8d9e-41f1-9213-a614bc6dd983): COMMIT;
{ fileUUID: '476a78e5-32dd-4269-abe1-123a015ed0dd',
  cnodeUserUUID: '186706e0-f937-4b88-9141-599dd9c31c3f',
  multihash: 'QmaFnoY7FUKS1JP8CJ2zKnfJZN8iDLuZ59pxcwDg1v1FD4',
  sourceFile: '3ac7d027-24d2-41ce-bbe9-aec2d7aed375.aif',
  storagePath:
   '/file_storage/QmaFnoY7FUKS1JP8CJ2zKnfJZN8iDLuZ59pxcwDg1v1FD4',
  type: 'copy320',
  trackUUID: '1f47da29-5af3-4550-b634-7c5c57412f84',
  updatedAt: 2020-03-05T17:34:01.729Z,
  createdAt: 2020-03-05T17:34:01.729Z }
writing to db2...
Executing (ae6fcb7f-ae48-480f-8f58-e051cf7624cb): START TRANSACTION;
Executing (ae6fcb7f-ae48-480f-8f58-e051cf7624cb): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '186706e0-f937-4b88-9141-599dd9c31c3f' AND "File"."multihash" = 'QmaFnoY7FUKS1JP8CJ2zKnfJZN8iDLuZ59pxcwDg1v1FD4' AND "File"."sourceFile" = '3ac7d027-24d2-41ce-bbe9-aec2d7aed375.aif' AND "File"."storagePath" = '/file_storage/QmaFnoY7FUKS1JP8CJ2zKnfJZN8iDLuZ59pxcwDg1v1FD4' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '1f47da29-5af3-4550-b634-7c5c57412f84' LIMIT 1;
Executing (ae6fcb7f-ae48-480f-8f58-e051cf7624cb): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_3b3d45822faf4b599f84c59ba9197030$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('474b6edf-9477-4ed3-a570-581ffd39fc3c','186706e0-f937-4b88-9141-599dd9c31c3f','1f47da29-5af3-4550-b634-7c5c57412f84','QmaFnoY7FUKS1JP8CJ2zKnfJZN8iDLuZ59pxcwDg1v1FD4','3ac7d027-24d2-41ce-bbe9-aec2d7aed375.aif','/file_storage/QmaFnoY7FUKS1JP8CJ2zKnfJZN8iDLuZ59pxcwDg1v1FD4','copy320','2020-03-05 17:34:02.123 +00:00','2020-03-05 17:34:02.123 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_3b3d45822faf4b599f84c59ba9197030$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (ae6fcb7f-ae48-480f-8f58-e051cf7624cb): COMMIT;
{ fileUUID: '474b6edf-9477-4ed3-a570-581ffd39fc3c',
  cnodeUserUUID: '186706e0-f937-4b88-9141-599dd9c31c3f',
  multihash: 'QmaFnoY7FUKS1JP8CJ2zKnfJZN8iDLuZ59pxcwDg1v1FD4',
  sourceFile: '3ac7d027-24d2-41ce-bbe9-aec2d7aed375.aif',
  storagePath:
   '/file_storage/QmaFnoY7FUKS1JP8CJ2zKnfJZN8iDLuZ59pxcwDg1v1FD4',
  type: 'copy320',
  trackUUID: '1f47da29-5af3-4550-b634-7c5c57412f84',
  updatedAt: 2020-03-05T17:34:02.123Z,
  createdAt: 2020-03-05T17:34:02.123Z }
writing to db3...
Executing (f35b18bd-c940-4676-a9c2-f9eabe4ae5f1): START TRANSACTION;
Executing (f35b18bd-c940-4676-a9c2-f9eabe4ae5f1): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '186706e0-f937-4b88-9141-599dd9c31c3f' AND "File"."multihash" = 'QmaFnoY7FUKS1JP8CJ2zKnfJZN8iDLuZ59pxcwDg1v1FD4' AND "File"."sourceFile" = '3ac7d027-24d2-41ce-bbe9-aec2d7aed375.aif' AND "File"."storagePath" = '/file_storage/QmaFnoY7FUKS1JP8CJ2zKnfJZN8iDLuZ59pxcwDg1v1FD4' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '1f47da29-5af3-4550-b634-7c5c57412f84' LIMIT 1;
Executing (f35b18bd-c940-4676-a9c2-f9eabe4ae5f1): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_8251a4aa632f4cbb8d9f8349a4744bb8$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('54dd3766-651c-428e-b25c-b333815ddb08','186706e0-f937-4b88-9141-599dd9c31c3f','1f47da29-5af3-4550-b634-7c5c57412f84','QmaFnoY7FUKS1JP8CJ2zKnfJZN8iDLuZ59pxcwDg1v1FD4','3ac7d027-24d2-41ce-bbe9-aec2d7aed375.aif','/file_storage/QmaFnoY7FUKS1JP8CJ2zKnfJZN8iDLuZ59pxcwDg1v1FD4','copy320','2020-03-05 17:34:02.509 +00:00','2020-03-05 17:34:02.509 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_8251a4aa632f4cbb8d9f8349a4744bb8$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (f35b18bd-c940-4676-a9c2-f9eabe4ae5f1): COMMIT;
{ fileUUID: '54dd3766-651c-428e-b25c-b333815ddb08',
  cnodeUserUUID: '186706e0-f937-4b88-9141-599dd9c31c3f',
  multihash: 'QmaFnoY7FUKS1JP8CJ2zKnfJZN8iDLuZ59pxcwDg1v1FD4',
  sourceFile: '3ac7d027-24d2-41ce-bbe9-aec2d7aed375.aif',
  storagePath:
   '/file_storage/QmaFnoY7FUKS1JP8CJ2zKnfJZN8iDLuZ59pxcwDg1v1FD4',
  type: 'copy320',
  trackUUID: '1f47da29-5af3-4550-b634-7c5c57412f84',
  updatedAt: 2020-03-05T17:34:02.509Z,
  createdAt: 2020-03-05T17:34:02.509Z }




PROCESSING ROW #118: sourcefile: 1c44ca09-25ad-439e-ab74-f3cdb3bcbcdc.mp3, cnodeUserUUID: 804d98d9-6ce4-4810-88ea-44ac5ca9d739, trackUUID: c0db3f56-90da-4023-a4d6-122b421edfec, multihash: QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM, dstPath: /file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM
writing to db1...
Executing (95431469-1714-4a4c-8e57-d96a8a119b5c): START TRANSACTION;
Executing (95431469-1714-4a4c-8e57-d96a8a119b5c): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '804d98d9-6ce4-4810-88ea-44ac5ca9d739' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = '1c44ca09-25ad-439e-ab74-f3cdb3bcbcdc.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = 'c0db3f56-90da-4023-a4d6-122b421edfec' LIMIT 1;
Executing (95431469-1714-4a4c-8e57-d96a8a119b5c): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_0ca4aa6901e747a4a5195366e0904456$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('1fe08ab9-6f6d-45f6-a88e-7c4ca4779aee','804d98d9-6ce4-4810-88ea-44ac5ca9d739','c0db3f56-90da-4023-a4d6-122b421edfec','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','1c44ca09-25ad-439e-ab74-f3cdb3bcbcdc.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:34:02.905 +00:00','2020-03-05 17:34:02.905 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_0ca4aa6901e747a4a5195366e0904456$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (95431469-1714-4a4c-8e57-d96a8a119b5c): COMMIT;
{ fileUUID: '1fe08ab9-6f6d-45f6-a88e-7c4ca4779aee',
  cnodeUserUUID: '804d98d9-6ce4-4810-88ea-44ac5ca9d739',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: '1c44ca09-25ad-439e-ab74-f3cdb3bcbcdc.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: 'c0db3f56-90da-4023-a4d6-122b421edfec',
  updatedAt: 2020-03-05T17:34:02.905Z,
  createdAt: 2020-03-05T17:34:02.905Z }
writing to db2...
Executing (37918fb3-97fb-4586-a652-0723fc9b2eca): START TRANSACTION;
Executing (37918fb3-97fb-4586-a652-0723fc9b2eca): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '804d98d9-6ce4-4810-88ea-44ac5ca9d739' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = '1c44ca09-25ad-439e-ab74-f3cdb3bcbcdc.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = 'c0db3f56-90da-4023-a4d6-122b421edfec' LIMIT 1;
Executing (37918fb3-97fb-4586-a652-0723fc9b2eca): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_e5994f7169f543819b75ce33630672ab$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('e3cab87e-95ce-456b-85a0-f793b4e017ac','804d98d9-6ce4-4810-88ea-44ac5ca9d739','c0db3f56-90da-4023-a4d6-122b421edfec','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','1c44ca09-25ad-439e-ab74-f3cdb3bcbcdc.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:34:03.294 +00:00','2020-03-05 17:34:03.294 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_e5994f7169f543819b75ce33630672ab$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (37918fb3-97fb-4586-a652-0723fc9b2eca): COMMIT;
{ fileUUID: 'e3cab87e-95ce-456b-85a0-f793b4e017ac',
  cnodeUserUUID: '804d98d9-6ce4-4810-88ea-44ac5ca9d739',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: '1c44ca09-25ad-439e-ab74-f3cdb3bcbcdc.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: 'c0db3f56-90da-4023-a4d6-122b421edfec',
  updatedAt: 2020-03-05T17:34:03.294Z,
  createdAt: 2020-03-05T17:34:03.294Z }
writing to db3...
Executing (43cc02ca-8d01-4199-8102-17c856889190): START TRANSACTION;
Executing (43cc02ca-8d01-4199-8102-17c856889190): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '804d98d9-6ce4-4810-88ea-44ac5ca9d739' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = '1c44ca09-25ad-439e-ab74-f3cdb3bcbcdc.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = 'c0db3f56-90da-4023-a4d6-122b421edfec' LIMIT 1;
Executing (43cc02ca-8d01-4199-8102-17c856889190): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_eede6a1f4912420f8affd21e719fca9a$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('d972f5af-a5e2-4f1e-bbcd-f7e8a82c08ee','804d98d9-6ce4-4810-88ea-44ac5ca9d739','c0db3f56-90da-4023-a4d6-122b421edfec','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','1c44ca09-25ad-439e-ab74-f3cdb3bcbcdc.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:34:03.691 +00:00','2020-03-05 17:34:03.691 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_eede6a1f4912420f8affd21e719fca9a$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (43cc02ca-8d01-4199-8102-17c856889190): COMMIT;
{ fileUUID: 'd972f5af-a5e2-4f1e-bbcd-f7e8a82c08ee',
  cnodeUserUUID: '804d98d9-6ce4-4810-88ea-44ac5ca9d739',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: '1c44ca09-25ad-439e-ab74-f3cdb3bcbcdc.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: 'c0db3f56-90da-4023-a4d6-122b421edfec',
  updatedAt: 2020-03-05T17:34:03.691Z,
  createdAt: 2020-03-05T17:34:03.691Z }




PROCESSING ROW #119: sourcefile: ac9b8096-4015-4ee3-9e43-6dc303035798.mp3, cnodeUserUUID: f4150916-83b8-4e33-9dac-efc52a35a052, trackUUID: 863deb2d-8868-4fdd-8203-3a76a676d7d2, multihash: QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM, dstPath: /file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM
writing to db1...
Executing (2904f55e-3b92-41d8-abac-126e2b274059): START TRANSACTION;
Executing (2904f55e-3b92-41d8-abac-126e2b274059): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = 'f4150916-83b8-4e33-9dac-efc52a35a052' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = 'ac9b8096-4015-4ee3-9e43-6dc303035798.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '863deb2d-8868-4fdd-8203-3a76a676d7d2' LIMIT 1;
Executing (2904f55e-3b92-41d8-abac-126e2b274059): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_b209c17eb16547b69fdee5ffb5b7317c$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('a0fef0ab-4e5c-46f0-b3db-0acb18512871','f4150916-83b8-4e33-9dac-efc52a35a052','863deb2d-8868-4fdd-8203-3a76a676d7d2','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','ac9b8096-4015-4ee3-9e43-6dc303035798.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:34:04.093 +00:00','2020-03-05 17:34:04.093 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_b209c17eb16547b69fdee5ffb5b7317c$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (2904f55e-3b92-41d8-abac-126e2b274059): COMMIT;
{ fileUUID: 'a0fef0ab-4e5c-46f0-b3db-0acb18512871',
  cnodeUserUUID: 'f4150916-83b8-4e33-9dac-efc52a35a052',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: 'ac9b8096-4015-4ee3-9e43-6dc303035798.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: '863deb2d-8868-4fdd-8203-3a76a676d7d2',
  updatedAt: 2020-03-05T17:34:04.093Z,
  createdAt: 2020-03-05T17:34:04.093Z }
writing to db2...
Executing (cf990b96-a4f9-4776-b5c7-edd1763dc6af): START TRANSACTION;
Executing (cf990b96-a4f9-4776-b5c7-edd1763dc6af): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = 'f4150916-83b8-4e33-9dac-efc52a35a052' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = 'ac9b8096-4015-4ee3-9e43-6dc303035798.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '863deb2d-8868-4fdd-8203-3a76a676d7d2' LIMIT 1;
Executing (cf990b96-a4f9-4776-b5c7-edd1763dc6af): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_6d805dcba7af4df5a6e552dd728321fe$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('f4c75371-80a6-4060-a5d5-de66effec492','f4150916-83b8-4e33-9dac-efc52a35a052','863deb2d-8868-4fdd-8203-3a76a676d7d2','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','ac9b8096-4015-4ee3-9e43-6dc303035798.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:34:04.490 +00:00','2020-03-05 17:34:04.490 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_6d805dcba7af4df5a6e552dd728321fe$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (cf990b96-a4f9-4776-b5c7-edd1763dc6af): COMMIT;
{ fileUUID: 'f4c75371-80a6-4060-a5d5-de66effec492',
  cnodeUserUUID: 'f4150916-83b8-4e33-9dac-efc52a35a052',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: 'ac9b8096-4015-4ee3-9e43-6dc303035798.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: '863deb2d-8868-4fdd-8203-3a76a676d7d2',
  updatedAt: 2020-03-05T17:34:04.490Z,
  createdAt: 2020-03-05T17:34:04.490Z }
writing to db3...
Executing (7ff7025e-1d4d-4fc4-8bcf-19183d20bc20): START TRANSACTION;
Executing (7ff7025e-1d4d-4fc4-8bcf-19183d20bc20): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = 'f4150916-83b8-4e33-9dac-efc52a35a052' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = 'ac9b8096-4015-4ee3-9e43-6dc303035798.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '863deb2d-8868-4fdd-8203-3a76a676d7d2' LIMIT 1;
Executing (7ff7025e-1d4d-4fc4-8bcf-19183d20bc20): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_27be1bc75933455d91abe7955a5e6e31$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('70828814-e893-493d-a7f4-cd1fc4b8c1d3','f4150916-83b8-4e33-9dac-efc52a35a052','863deb2d-8868-4fdd-8203-3a76a676d7d2','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','ac9b8096-4015-4ee3-9e43-6dc303035798.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:34:04.884 +00:00','2020-03-05 17:34:04.884 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_27be1bc75933455d91abe7955a5e6e31$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (7ff7025e-1d4d-4fc4-8bcf-19183d20bc20): COMMIT;
{ fileUUID: '70828814-e893-493d-a7f4-cd1fc4b8c1d3',
  cnodeUserUUID: 'f4150916-83b8-4e33-9dac-efc52a35a052',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: 'ac9b8096-4015-4ee3-9e43-6dc303035798.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: '863deb2d-8868-4fdd-8203-3a76a676d7d2',
  updatedAt: 2020-03-05T17:34:04.884Z,
  createdAt: 2020-03-05T17:34:04.884Z }




PROCESSING ROW #120: sourcefile: 1d1baefa-c13c-4fb8-ad12-a5b90c8a39b7.mp3, cnodeUserUUID: 2364cbca-7ad9-47b4-a284-65cefc3fc043, trackUUID: cf86b87c-4ccd-48fa-9c5b-39f5af06d18b, multihash: QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM, dstPath: /file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM
writing to db1...
Executing (40528d50-6365-4e22-a8ab-9c24d271e08c): START TRANSACTION;
Executing (40528d50-6365-4e22-a8ab-9c24d271e08c): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '2364cbca-7ad9-47b4-a284-65cefc3fc043' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = '1d1baefa-c13c-4fb8-ad12-a5b90c8a39b7.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = 'cf86b87c-4ccd-48fa-9c5b-39f5af06d18b' LIMIT 1;
Executing (40528d50-6365-4e22-a8ab-9c24d271e08c): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_02a6d5389b4947ef87bfe82528de7e5a$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('839b2f75-5405-435e-8200-ae2b740dbf5e','2364cbca-7ad9-47b4-a284-65cefc3fc043','cf86b87c-4ccd-48fa-9c5b-39f5af06d18b','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','1d1baefa-c13c-4fb8-ad12-a5b90c8a39b7.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:34:05.284 +00:00','2020-03-05 17:34:05.284 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_02a6d5389b4947ef87bfe82528de7e5a$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (40528d50-6365-4e22-a8ab-9c24d271e08c): COMMIT;
{ fileUUID: '839b2f75-5405-435e-8200-ae2b740dbf5e',
  cnodeUserUUID: '2364cbca-7ad9-47b4-a284-65cefc3fc043',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: '1d1baefa-c13c-4fb8-ad12-a5b90c8a39b7.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: 'cf86b87c-4ccd-48fa-9c5b-39f5af06d18b',
  updatedAt: 2020-03-05T17:34:05.284Z,
  createdAt: 2020-03-05T17:34:05.284Z }
writing to db2...
Executing (6f7c27e3-4416-41d4-8fb2-7ace3f048ff9): START TRANSACTION;
Executing (6f7c27e3-4416-41d4-8fb2-7ace3f048ff9): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '2364cbca-7ad9-47b4-a284-65cefc3fc043' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = '1d1baefa-c13c-4fb8-ad12-a5b90c8a39b7.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = 'cf86b87c-4ccd-48fa-9c5b-39f5af06d18b' LIMIT 1;
Executing (6f7c27e3-4416-41d4-8fb2-7ace3f048ff9): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_890801dcb3bb4f20bb684767aac9db9e$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('ca00549c-f6f0-4afe-84bc-11437a5f8439','2364cbca-7ad9-47b4-a284-65cefc3fc043','cf86b87c-4ccd-48fa-9c5b-39f5af06d18b','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','1d1baefa-c13c-4fb8-ad12-a5b90c8a39b7.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:34:05.663 +00:00','2020-03-05 17:34:05.663 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_890801dcb3bb4f20bb684767aac9db9e$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (6f7c27e3-4416-41d4-8fb2-7ace3f048ff9): COMMIT;
{ fileUUID: 'ca00549c-f6f0-4afe-84bc-11437a5f8439',
  cnodeUserUUID: '2364cbca-7ad9-47b4-a284-65cefc3fc043',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: '1d1baefa-c13c-4fb8-ad12-a5b90c8a39b7.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: 'cf86b87c-4ccd-48fa-9c5b-39f5af06d18b',
  updatedAt: 2020-03-05T17:34:05.663Z,
  createdAt: 2020-03-05T17:34:05.663Z }
writing to db3...
Executing (0bc00d77-15c5-4dad-a18a-a837d8710e09): START TRANSACTION;
Executing (0bc00d77-15c5-4dad-a18a-a837d8710e09): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '2364cbca-7ad9-47b4-a284-65cefc3fc043' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = '1d1baefa-c13c-4fb8-ad12-a5b90c8a39b7.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = 'cf86b87c-4ccd-48fa-9c5b-39f5af06d18b' LIMIT 1;
Executing (0bc00d77-15c5-4dad-a18a-a837d8710e09): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_a0544c1260464982a34ca36888b6648d$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('11857215-5e84-4fb2-aa63-e52a5690f332','2364cbca-7ad9-47b4-a284-65cefc3fc043','cf86b87c-4ccd-48fa-9c5b-39f5af06d18b','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','1d1baefa-c13c-4fb8-ad12-a5b90c8a39b7.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:34:06.087 +00:00','2020-03-05 17:34:06.087 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_a0544c1260464982a34ca36888b6648d$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (0bc00d77-15c5-4dad-a18a-a837d8710e09): COMMIT;
{ fileUUID: '11857215-5e84-4fb2-aa63-e52a5690f332',
  cnodeUserUUID: '2364cbca-7ad9-47b4-a284-65cefc3fc043',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: '1d1baefa-c13c-4fb8-ad12-a5b90c8a39b7.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: 'cf86b87c-4ccd-48fa-9c5b-39f5af06d18b',
  updatedAt: 2020-03-05T17:34:06.087Z,
  createdAt: 2020-03-05T17:34:06.087Z }




PROCESSING ROW #121: sourcefile: adaf1f32-22c2-4fbe-bdd8-9cf07c0bef9a.mp3, cnodeUserUUID: 8aefd2ee-77ea-4c0c-9ee3-cb64d794e399, trackUUID: be2deb06-adc6-4a6a-8180-7f3c537f5ccd, multihash: QmcAD35vXY3h9iXGDF2sLTMTZ4QER63yKVoFrJQUpps6bq, dstPath: /file_storage/QmcAD35vXY3h9iXGDF2sLTMTZ4QER63yKVoFrJQUpps6bq
writing to db1...
Executing (222fa338-e0a6-4c85-9ae0-348dec13727b): START TRANSACTION;
Executing (222fa338-e0a6-4c85-9ae0-348dec13727b): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '8aefd2ee-77ea-4c0c-9ee3-cb64d794e399' AND "File"."multihash" = 'QmcAD35vXY3h9iXGDF2sLTMTZ4QER63yKVoFrJQUpps6bq' AND "File"."sourceFile" = 'adaf1f32-22c2-4fbe-bdd8-9cf07c0bef9a.mp3' AND "File"."storagePath" = '/file_storage/QmcAD35vXY3h9iXGDF2sLTMTZ4QER63yKVoFrJQUpps6bq' AND "File"."type" = 'copy320' AND "File"."trackUUID" = 'be2deb06-adc6-4a6a-8180-7f3c537f5ccd' LIMIT 1;
Executing (222fa338-e0a6-4c85-9ae0-348dec13727b): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_8f6dc1145bd548d0b2593335fa4715a5$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('84afb16b-e988-43e9-99c1-9c5f6a0b8aa4','8aefd2ee-77ea-4c0c-9ee3-cb64d794e399','be2deb06-adc6-4a6a-8180-7f3c537f5ccd','QmcAD35vXY3h9iXGDF2sLTMTZ4QER63yKVoFrJQUpps6bq','adaf1f32-22c2-4fbe-bdd8-9cf07c0bef9a.mp3','/file_storage/QmcAD35vXY3h9iXGDF2sLTMTZ4QER63yKVoFrJQUpps6bq','copy320','2020-03-05 17:34:06.474 +00:00','2020-03-05 17:34:06.474 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_8f6dc1145bd548d0b2593335fa4715a5$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (222fa338-e0a6-4c85-9ae0-348dec13727b): COMMIT;
{ fileUUID: '84afb16b-e988-43e9-99c1-9c5f6a0b8aa4',
  cnodeUserUUID: '8aefd2ee-77ea-4c0c-9ee3-cb64d794e399',
  multihash: 'QmcAD35vXY3h9iXGDF2sLTMTZ4QER63yKVoFrJQUpps6bq',
  sourceFile: 'adaf1f32-22c2-4fbe-bdd8-9cf07c0bef9a.mp3',
  storagePath:
   '/file_storage/QmcAD35vXY3h9iXGDF2sLTMTZ4QER63yKVoFrJQUpps6bq',
  type: 'copy320',
  trackUUID: 'be2deb06-adc6-4a6a-8180-7f3c537f5ccd',
  updatedAt: 2020-03-05T17:34:06.474Z,
  createdAt: 2020-03-05T17:34:06.474Z }
writing to db2...
Executing (832913b6-c8aa-422d-9c19-2f60d0cd9013): START TRANSACTION;
Executing (832913b6-c8aa-422d-9c19-2f60d0cd9013): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '8aefd2ee-77ea-4c0c-9ee3-cb64d794e399' AND "File"."multihash" = 'QmcAD35vXY3h9iXGDF2sLTMTZ4QER63yKVoFrJQUpps6bq' AND "File"."sourceFile" = 'adaf1f32-22c2-4fbe-bdd8-9cf07c0bef9a.mp3' AND "File"."storagePath" = '/file_storage/QmcAD35vXY3h9iXGDF2sLTMTZ4QER63yKVoFrJQUpps6bq' AND "File"."type" = 'copy320' AND "File"."trackUUID" = 'be2deb06-adc6-4a6a-8180-7f3c537f5ccd' LIMIT 1;
Executing (832913b6-c8aa-422d-9c19-2f60d0cd9013): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_030ba52d7697415182227e08a51d952f$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('da0d4d30-d060-416c-a17e-2c6ef1767410','8aefd2ee-77ea-4c0c-9ee3-cb64d794e399','be2deb06-adc6-4a6a-8180-7f3c537f5ccd','QmcAD35vXY3h9iXGDF2sLTMTZ4QER63yKVoFrJQUpps6bq','adaf1f32-22c2-4fbe-bdd8-9cf07c0bef9a.mp3','/file_storage/QmcAD35vXY3h9iXGDF2sLTMTZ4QER63yKVoFrJQUpps6bq','copy320','2020-03-05 17:34:06.888 +00:00','2020-03-05 17:34:06.888 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_030ba52d7697415182227e08a51d952f$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (832913b6-c8aa-422d-9c19-2f60d0cd9013): COMMIT;
{ fileUUID: 'da0d4d30-d060-416c-a17e-2c6ef1767410',
  cnodeUserUUID: '8aefd2ee-77ea-4c0c-9ee3-cb64d794e399',
  multihash: 'QmcAD35vXY3h9iXGDF2sLTMTZ4QER63yKVoFrJQUpps6bq',
  sourceFile: 'adaf1f32-22c2-4fbe-bdd8-9cf07c0bef9a.mp3',
  storagePath:
   '/file_storage/QmcAD35vXY3h9iXGDF2sLTMTZ4QER63yKVoFrJQUpps6bq',
  type: 'copy320',
  trackUUID: 'be2deb06-adc6-4a6a-8180-7f3c537f5ccd',
  updatedAt: 2020-03-05T17:34:06.888Z,
  createdAt: 2020-03-05T17:34:06.888Z }
writing to db3...
Executing (91c2f81c-667b-4faf-92e2-6300e5c221fe): START TRANSACTION;
Executing (91c2f81c-667b-4faf-92e2-6300e5c221fe): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '8aefd2ee-77ea-4c0c-9ee3-cb64d794e399' AND "File"."multihash" = 'QmcAD35vXY3h9iXGDF2sLTMTZ4QER63yKVoFrJQUpps6bq' AND "File"."sourceFile" = 'adaf1f32-22c2-4fbe-bdd8-9cf07c0bef9a.mp3' AND "File"."storagePath" = '/file_storage/QmcAD35vXY3h9iXGDF2sLTMTZ4QER63yKVoFrJQUpps6bq' AND "File"."type" = 'copy320' AND "File"."trackUUID" = 'be2deb06-adc6-4a6a-8180-7f3c537f5ccd' LIMIT 1;
Executing (91c2f81c-667b-4faf-92e2-6300e5c221fe): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_e239d3bbfd9a471798aa5d6bd7e65c46$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('e9f36dcb-b72f-4076-b7c6-fb486c96d428','8aefd2ee-77ea-4c0c-9ee3-cb64d794e399','be2deb06-adc6-4a6a-8180-7f3c537f5ccd','QmcAD35vXY3h9iXGDF2sLTMTZ4QER63yKVoFrJQUpps6bq','adaf1f32-22c2-4fbe-bdd8-9cf07c0bef9a.mp3','/file_storage/QmcAD35vXY3h9iXGDF2sLTMTZ4QER63yKVoFrJQUpps6bq','copy320','2020-03-05 17:34:07.303 +00:00','2020-03-05 17:34:07.303 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_e239d3bbfd9a471798aa5d6bd7e65c46$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (91c2f81c-667b-4faf-92e2-6300e5c221fe): COMMIT;
{ fileUUID: 'e9f36dcb-b72f-4076-b7c6-fb486c96d428',
  cnodeUserUUID: '8aefd2ee-77ea-4c0c-9ee3-cb64d794e399',
  multihash: 'QmcAD35vXY3h9iXGDF2sLTMTZ4QER63yKVoFrJQUpps6bq',
  sourceFile: 'adaf1f32-22c2-4fbe-bdd8-9cf07c0bef9a.mp3',
  storagePath:
   '/file_storage/QmcAD35vXY3h9iXGDF2sLTMTZ4QER63yKVoFrJQUpps6bq',
  type: 'copy320',
  trackUUID: 'be2deb06-adc6-4a6a-8180-7f3c537f5ccd',
  updatedAt: 2020-03-05T17:34:07.303Z,
  createdAt: 2020-03-05T17:34:07.303Z }




PROCESSING ROW #122: sourcefile: f41fce17-f185-4701-9eee-375b46e61c98.mp3, cnodeUserUUID: f077b5ed-2aaf-42ea-8b3a-4c5f8168d507, trackUUID: 7e15d336-45a0-434c-af17-5c097f33525b, multihash: QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM, dstPath: /file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM
writing to db1...
Executing (835950f6-314f-414a-b822-85a4da66b6e1): START TRANSACTION;
Executing (835950f6-314f-414a-b822-85a4da66b6e1): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = 'f077b5ed-2aaf-42ea-8b3a-4c5f8168d507' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = 'f41fce17-f185-4701-9eee-375b46e61c98.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '7e15d336-45a0-434c-af17-5c097f33525b' LIMIT 1;
Executing (835950f6-314f-414a-b822-85a4da66b6e1): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_cd19bcdc0f6f49b0bd4b93e8cef585b5$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('b637c97b-0a16-4e4f-b4dd-49343e915e6f','f077b5ed-2aaf-42ea-8b3a-4c5f8168d507','7e15d336-45a0-434c-af17-5c097f33525b','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','f41fce17-f185-4701-9eee-375b46e61c98.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:34:07.706 +00:00','2020-03-05 17:34:07.706 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_cd19bcdc0f6f49b0bd4b93e8cef585b5$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (835950f6-314f-414a-b822-85a4da66b6e1): COMMIT;
{ fileUUID: 'b637c97b-0a16-4e4f-b4dd-49343e915e6f',
  cnodeUserUUID: 'f077b5ed-2aaf-42ea-8b3a-4c5f8168d507',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: 'f41fce17-f185-4701-9eee-375b46e61c98.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: '7e15d336-45a0-434c-af17-5c097f33525b',
  updatedAt: 2020-03-05T17:34:07.706Z,
  createdAt: 2020-03-05T17:34:07.706Z }
writing to db2...
Executing (231c59c5-9b8e-430f-a529-fac0cb2fcd87): START TRANSACTION;
Executing (231c59c5-9b8e-430f-a529-fac0cb2fcd87): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = 'f077b5ed-2aaf-42ea-8b3a-4c5f8168d507' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = 'f41fce17-f185-4701-9eee-375b46e61c98.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '7e15d336-45a0-434c-af17-5c097f33525b' LIMIT 1;
Executing (231c59c5-9b8e-430f-a529-fac0cb2fcd87): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_4a9fe81bae98458998bea9b2e735b9c5$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('aeff7ccc-c0e8-4a8b-971b-4f693b81b3c2','f077b5ed-2aaf-42ea-8b3a-4c5f8168d507','7e15d336-45a0-434c-af17-5c097f33525b','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','f41fce17-f185-4701-9eee-375b46e61c98.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:34:08.121 +00:00','2020-03-05 17:34:08.121 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_4a9fe81bae98458998bea9b2e735b9c5$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (231c59c5-9b8e-430f-a529-fac0cb2fcd87): COMMIT;
{ fileUUID: 'aeff7ccc-c0e8-4a8b-971b-4f693b81b3c2',
  cnodeUserUUID: 'f077b5ed-2aaf-42ea-8b3a-4c5f8168d507',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: 'f41fce17-f185-4701-9eee-375b46e61c98.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: '7e15d336-45a0-434c-af17-5c097f33525b',
  updatedAt: 2020-03-05T17:34:08.121Z,
  createdAt: 2020-03-05T17:34:08.121Z }
writing to db3...
Executing (887c3911-9621-41af-a556-0a2b83fb519d): START TRANSACTION;
Executing (887c3911-9621-41af-a556-0a2b83fb519d): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = 'f077b5ed-2aaf-42ea-8b3a-4c5f8168d507' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = 'f41fce17-f185-4701-9eee-375b46e61c98.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '7e15d336-45a0-434c-af17-5c097f33525b' LIMIT 1;
Executing (887c3911-9621-41af-a556-0a2b83fb519d): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_6c235dc9846a401db508df9933910eba$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('42fde712-e688-401d-a2bc-ba5a1fd9cb23','f077b5ed-2aaf-42ea-8b3a-4c5f8168d507','7e15d336-45a0-434c-af17-5c097f33525b','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','f41fce17-f185-4701-9eee-375b46e61c98.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:34:08.520 +00:00','2020-03-05 17:34:08.520 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_6c235dc9846a401db508df9933910eba$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (887c3911-9621-41af-a556-0a2b83fb519d): COMMIT;
{ fileUUID: '42fde712-e688-401d-a2bc-ba5a1fd9cb23',
  cnodeUserUUID: 'f077b5ed-2aaf-42ea-8b3a-4c5f8168d507',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: 'f41fce17-f185-4701-9eee-375b46e61c98.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: '7e15d336-45a0-434c-af17-5c097f33525b',
  updatedAt: 2020-03-05T17:34:08.520Z,
  createdAt: 2020-03-05T17:34:08.520Z }




PROCESSING ROW #123: sourcefile: 6da63a71-11f2-414f-8f60-791a9894eae0.mp3, cnodeUserUUID: 25ba2e3e-9926-40f8-96e3-d46c9052d4d5, trackUUID: 613df6c4-fb75-4b05-a687-8ff812b223c8, multihash: QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM, dstPath: /file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM
writing to db1...
Executing (2cf89236-1bdb-4e71-a36b-6a1b99d96840): START TRANSACTION;
Executing (2cf89236-1bdb-4e71-a36b-6a1b99d96840): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '25ba2e3e-9926-40f8-96e3-d46c9052d4d5' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = '6da63a71-11f2-414f-8f60-791a9894eae0.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '613df6c4-fb75-4b05-a687-8ff812b223c8' LIMIT 1;
Executing (2cf89236-1bdb-4e71-a36b-6a1b99d96840): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_ac99d714c89140498780e1edb0b481a6$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('e3b3a14c-646e-41c0-b9b3-cb595f8b64b7','25ba2e3e-9926-40f8-96e3-d46c9052d4d5','613df6c4-fb75-4b05-a687-8ff812b223c8','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','6da63a71-11f2-414f-8f60-791a9894eae0.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:34:08.911 +00:00','2020-03-05 17:34:08.911 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_ac99d714c89140498780e1edb0b481a6$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (2cf89236-1bdb-4e71-a36b-6a1b99d96840): COMMIT;
{ fileUUID: 'e3b3a14c-646e-41c0-b9b3-cb595f8b64b7',
  cnodeUserUUID: '25ba2e3e-9926-40f8-96e3-d46c9052d4d5',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: '6da63a71-11f2-414f-8f60-791a9894eae0.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: '613df6c4-fb75-4b05-a687-8ff812b223c8',
  updatedAt: 2020-03-05T17:34:08.911Z,
  createdAt: 2020-03-05T17:34:08.911Z }
writing to db2...
Executing (3969066c-91c7-41ff-84bd-ac6348633273): START TRANSACTION;
Executing (3969066c-91c7-41ff-84bd-ac6348633273): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '25ba2e3e-9926-40f8-96e3-d46c9052d4d5' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = '6da63a71-11f2-414f-8f60-791a9894eae0.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '613df6c4-fb75-4b05-a687-8ff812b223c8' LIMIT 1;
Executing (3969066c-91c7-41ff-84bd-ac6348633273): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_d0618dada59c4a989f6ff33ca8ae6727$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('4f00789e-a10e-43cb-a904-a32ae0a74ca2','25ba2e3e-9926-40f8-96e3-d46c9052d4d5','613df6c4-fb75-4b05-a687-8ff812b223c8','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','6da63a71-11f2-414f-8f60-791a9894eae0.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:34:09.315 +00:00','2020-03-05 17:34:09.315 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_d0618dada59c4a989f6ff33ca8ae6727$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (3969066c-91c7-41ff-84bd-ac6348633273): COMMIT;
{ fileUUID: '4f00789e-a10e-43cb-a904-a32ae0a74ca2',
  cnodeUserUUID: '25ba2e3e-9926-40f8-96e3-d46c9052d4d5',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: '6da63a71-11f2-414f-8f60-791a9894eae0.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: '613df6c4-fb75-4b05-a687-8ff812b223c8',
  updatedAt: 2020-03-05T17:34:09.315Z,
  createdAt: 2020-03-05T17:34:09.315Z }
writing to db3...
Executing (f6485724-8a2a-4e5f-8bf8-1bdf4424d2d8): START TRANSACTION;
Executing (f6485724-8a2a-4e5f-8bf8-1bdf4424d2d8): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '25ba2e3e-9926-40f8-96e3-d46c9052d4d5' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = '6da63a71-11f2-414f-8f60-791a9894eae0.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '613df6c4-fb75-4b05-a687-8ff812b223c8' LIMIT 1;
Executing (f6485724-8a2a-4e5f-8bf8-1bdf4424d2d8): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_3a4150c51f1e40909da66120e58afa70$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('c06661ff-9582-4092-8394-e5d51c6ef030','25ba2e3e-9926-40f8-96e3-d46c9052d4d5','613df6c4-fb75-4b05-a687-8ff812b223c8','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','6da63a71-11f2-414f-8f60-791a9894eae0.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:34:09.698 +00:00','2020-03-05 17:34:09.698 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_3a4150c51f1e40909da66120e58afa70$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (f6485724-8a2a-4e5f-8bf8-1bdf4424d2d8): COMMIT;
{ fileUUID: 'c06661ff-9582-4092-8394-e5d51c6ef030',
  cnodeUserUUID: '25ba2e3e-9926-40f8-96e3-d46c9052d4d5',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: '6da63a71-11f2-414f-8f60-791a9894eae0.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: '613df6c4-fb75-4b05-a687-8ff812b223c8',
  updatedAt: 2020-03-05T17:34:09.698Z,
  createdAt: 2020-03-05T17:34:09.698Z }




PROCESSING ROW #124: sourcefile: a8e0e5d5-55d8-493a-bac2-2e351950de95.mp3, cnodeUserUUID: 9da7b1bc-60f7-4484-9c6c-c9d233103d58, trackUUID: 44c81159-e2f9-4276-ac71-e2bdee710362, multihash: QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM, dstPath: /file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM
writing to db1...
Executing (9661205b-b8ee-4a0c-ae2b-c6066c1e483e): START TRANSACTION;
Executing (9661205b-b8ee-4a0c-ae2b-c6066c1e483e): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '9da7b1bc-60f7-4484-9c6c-c9d233103d58' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = 'a8e0e5d5-55d8-493a-bac2-2e351950de95.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '44c81159-e2f9-4276-ac71-e2bdee710362' LIMIT 1;
Executing (9661205b-b8ee-4a0c-ae2b-c6066c1e483e): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_ed0f76423de74733abdc514ebaafed1b$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('fd34fcae-ea45-4a15-b1b3-6de99bac7eb3','9da7b1bc-60f7-4484-9c6c-c9d233103d58','44c81159-e2f9-4276-ac71-e2bdee710362','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','a8e0e5d5-55d8-493a-bac2-2e351950de95.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:34:10.087 +00:00','2020-03-05 17:34:10.087 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_ed0f76423de74733abdc514ebaafed1b$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (9661205b-b8ee-4a0c-ae2b-c6066c1e483e): COMMIT;
{ fileUUID: 'fd34fcae-ea45-4a15-b1b3-6de99bac7eb3',
  cnodeUserUUID: '9da7b1bc-60f7-4484-9c6c-c9d233103d58',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: 'a8e0e5d5-55d8-493a-bac2-2e351950de95.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: '44c81159-e2f9-4276-ac71-e2bdee710362',
  updatedAt: 2020-03-05T17:34:10.087Z,
  createdAt: 2020-03-05T17:34:10.087Z }
writing to db2...
Executing (ec40a44b-9e3f-4e44-95f1-0d256b5f30ec): START TRANSACTION;
Executing (ec40a44b-9e3f-4e44-95f1-0d256b5f30ec): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '9da7b1bc-60f7-4484-9c6c-c9d233103d58' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = 'a8e0e5d5-55d8-493a-bac2-2e351950de95.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '44c81159-e2f9-4276-ac71-e2bdee710362' LIMIT 1;
Executing (ec40a44b-9e3f-4e44-95f1-0d256b5f30ec): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_75ee978d4dda4b2f8d9748e697adda2a$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('b89a708d-c43f-4623-85e9-93b9e93b8efe','9da7b1bc-60f7-4484-9c6c-c9d233103d58','44c81159-e2f9-4276-ac71-e2bdee710362','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','a8e0e5d5-55d8-493a-bac2-2e351950de95.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:34:10.475 +00:00','2020-03-05 17:34:10.475 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_75ee978d4dda4b2f8d9748e697adda2a$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (ec40a44b-9e3f-4e44-95f1-0d256b5f30ec): COMMIT;
{ fileUUID: 'b89a708d-c43f-4623-85e9-93b9e93b8efe',
  cnodeUserUUID: '9da7b1bc-60f7-4484-9c6c-c9d233103d58',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: 'a8e0e5d5-55d8-493a-bac2-2e351950de95.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: '44c81159-e2f9-4276-ac71-e2bdee710362',
  updatedAt: 2020-03-05T17:34:10.475Z,
  createdAt: 2020-03-05T17:34:10.475Z }
writing to db3...
Executing (03ef4d75-4280-430e-b4ed-448b85f3850c): START TRANSACTION;
Executing (03ef4d75-4280-430e-b4ed-448b85f3850c): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '9da7b1bc-60f7-4484-9c6c-c9d233103d58' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = 'a8e0e5d5-55d8-493a-bac2-2e351950de95.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '44c81159-e2f9-4276-ac71-e2bdee710362' LIMIT 1;
Executing (03ef4d75-4280-430e-b4ed-448b85f3850c): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_52d46aa815284e3eb1fb371a7f7f0723$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('7d32add1-e067-4505-bfd8-91fb9969f701','9da7b1bc-60f7-4484-9c6c-c9d233103d58','44c81159-e2f9-4276-ac71-e2bdee710362','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','a8e0e5d5-55d8-493a-bac2-2e351950de95.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:34:10.858 +00:00','2020-03-05 17:34:10.858 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_52d46aa815284e3eb1fb371a7f7f0723$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (03ef4d75-4280-430e-b4ed-448b85f3850c): COMMIT;
{ fileUUID: '7d32add1-e067-4505-bfd8-91fb9969f701',
  cnodeUserUUID: '9da7b1bc-60f7-4484-9c6c-c9d233103d58',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: 'a8e0e5d5-55d8-493a-bac2-2e351950de95.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: '44c81159-e2f9-4276-ac71-e2bdee710362',
  updatedAt: 2020-03-05T17:34:10.858Z,
  createdAt: 2020-03-05T17:34:10.858Z }




PROCESSING ROW #125: sourcefile: 79821f47-b06e-4cb9-83f4-05e76a5030b9.mp3, cnodeUserUUID: c6dd2901-edb2-4e1a-a21e-130d9d6f4caf, trackUUID: b62292a7-bcc0-4ea2-9a3d-6070b87d0285, multihash: QmVY7ZppvuDMyawGWpx1zZEyMwpwjNxMUoT76iPYAxVPLj, dstPath: /file_storage/QmVY7ZppvuDMyawGWpx1zZEyMwpwjNxMUoT76iPYAxVPLj
writing to db1...
Executing (ebdc3de0-934a-460d-8739-4338ea17e14a): START TRANSACTION;
Executing (ebdc3de0-934a-460d-8739-4338ea17e14a): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = 'c6dd2901-edb2-4e1a-a21e-130d9d6f4caf' AND "File"."multihash" = 'QmVY7ZppvuDMyawGWpx1zZEyMwpwjNxMUoT76iPYAxVPLj' AND "File"."sourceFile" = '79821f47-b06e-4cb9-83f4-05e76a5030b9.mp3' AND "File"."storagePath" = '/file_storage/QmVY7ZppvuDMyawGWpx1zZEyMwpwjNxMUoT76iPYAxVPLj' AND "File"."type" = 'copy320' AND "File"."trackUUID" = 'b62292a7-bcc0-4ea2-9a3d-6070b87d0285' LIMIT 1;
Executing (ebdc3de0-934a-460d-8739-4338ea17e14a): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_0dd163e95bd2418ea495322c93b61ebe$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('4c2d73d8-13f7-49a9-b9a6-d486ae2951b2','c6dd2901-edb2-4e1a-a21e-130d9d6f4caf','b62292a7-bcc0-4ea2-9a3d-6070b87d0285','QmVY7ZppvuDMyawGWpx1zZEyMwpwjNxMUoT76iPYAxVPLj','79821f47-b06e-4cb9-83f4-05e76a5030b9.mp3','/file_storage/QmVY7ZppvuDMyawGWpx1zZEyMwpwjNxMUoT76iPYAxVPLj','copy320','2020-03-05 17:34:11.254 +00:00','2020-03-05 17:34:11.254 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_0dd163e95bd2418ea495322c93b61ebe$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (ebdc3de0-934a-460d-8739-4338ea17e14a): COMMIT;
{ fileUUID: '4c2d73d8-13f7-49a9-b9a6-d486ae2951b2',
  cnodeUserUUID: 'c6dd2901-edb2-4e1a-a21e-130d9d6f4caf',
  multihash: 'QmVY7ZppvuDMyawGWpx1zZEyMwpwjNxMUoT76iPYAxVPLj',
  sourceFile: '79821f47-b06e-4cb9-83f4-05e76a5030b9.mp3',
  storagePath:
   '/file_storage/QmVY7ZppvuDMyawGWpx1zZEyMwpwjNxMUoT76iPYAxVPLj',
  type: 'copy320',
  trackUUID: 'b62292a7-bcc0-4ea2-9a3d-6070b87d0285',
  updatedAt: 2020-03-05T17:34:11.254Z,
  createdAt: 2020-03-05T17:34:11.254Z }
writing to db2...
Executing (b70aa7ee-f285-437d-8e3f-eb0a5bafc8db): START TRANSACTION;
Executing (b70aa7ee-f285-437d-8e3f-eb0a5bafc8db): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = 'c6dd2901-edb2-4e1a-a21e-130d9d6f4caf' AND "File"."multihash" = 'QmVY7ZppvuDMyawGWpx1zZEyMwpwjNxMUoT76iPYAxVPLj' AND "File"."sourceFile" = '79821f47-b06e-4cb9-83f4-05e76a5030b9.mp3' AND "File"."storagePath" = '/file_storage/QmVY7ZppvuDMyawGWpx1zZEyMwpwjNxMUoT76iPYAxVPLj' AND "File"."type" = 'copy320' AND "File"."trackUUID" = 'b62292a7-bcc0-4ea2-9a3d-6070b87d0285' LIMIT 1;
Executing (b70aa7ee-f285-437d-8e3f-eb0a5bafc8db): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_871cb12612e247e3ae4471750490f9ee$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('6b8b3c53-40c5-45c8-9e7f-12686c1d5838','c6dd2901-edb2-4e1a-a21e-130d9d6f4caf','b62292a7-bcc0-4ea2-9a3d-6070b87d0285','QmVY7ZppvuDMyawGWpx1zZEyMwpwjNxMUoT76iPYAxVPLj','79821f47-b06e-4cb9-83f4-05e76a5030b9.mp3','/file_storage/QmVY7ZppvuDMyawGWpx1zZEyMwpwjNxMUoT76iPYAxVPLj','copy320','2020-03-05 17:34:11.642 +00:00','2020-03-05 17:34:11.642 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_871cb12612e247e3ae4471750490f9ee$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (b70aa7ee-f285-437d-8e3f-eb0a5bafc8db): COMMIT;
{ fileUUID: '6b8b3c53-40c5-45c8-9e7f-12686c1d5838',
  cnodeUserUUID: 'c6dd2901-edb2-4e1a-a21e-130d9d6f4caf',
  multihash: 'QmVY7ZppvuDMyawGWpx1zZEyMwpwjNxMUoT76iPYAxVPLj',
  sourceFile: '79821f47-b06e-4cb9-83f4-05e76a5030b9.mp3',
  storagePath:
   '/file_storage/QmVY7ZppvuDMyawGWpx1zZEyMwpwjNxMUoT76iPYAxVPLj',
  type: 'copy320',
  trackUUID: 'b62292a7-bcc0-4ea2-9a3d-6070b87d0285',
  updatedAt: 2020-03-05T17:34:11.642Z,
  createdAt: 2020-03-05T17:34:11.642Z }
writing to db3...
Executing (146d143b-5d29-46a8-8934-5c0fa9dfd348): START TRANSACTION;
Executing (146d143b-5d29-46a8-8934-5c0fa9dfd348): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = 'c6dd2901-edb2-4e1a-a21e-130d9d6f4caf' AND "File"."multihash" = 'QmVY7ZppvuDMyawGWpx1zZEyMwpwjNxMUoT76iPYAxVPLj' AND "File"."sourceFile" = '79821f47-b06e-4cb9-83f4-05e76a5030b9.mp3' AND "File"."storagePath" = '/file_storage/QmVY7ZppvuDMyawGWpx1zZEyMwpwjNxMUoT76iPYAxVPLj' AND "File"."type" = 'copy320' AND "File"."trackUUID" = 'b62292a7-bcc0-4ea2-9a3d-6070b87d0285' LIMIT 1;
Executing (146d143b-5d29-46a8-8934-5c0fa9dfd348): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_d08810d830ad4fef9efed01e3a9bd793$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('bf430267-6daa-4999-bbf8-1eb299aa1fa4','c6dd2901-edb2-4e1a-a21e-130d9d6f4caf','b62292a7-bcc0-4ea2-9a3d-6070b87d0285','QmVY7ZppvuDMyawGWpx1zZEyMwpwjNxMUoT76iPYAxVPLj','79821f47-b06e-4cb9-83f4-05e76a5030b9.mp3','/file_storage/QmVY7ZppvuDMyawGWpx1zZEyMwpwjNxMUoT76iPYAxVPLj','copy320','2020-03-05 17:34:12.046 +00:00','2020-03-05 17:34:12.046 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_d08810d830ad4fef9efed01e3a9bd793$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (146d143b-5d29-46a8-8934-5c0fa9dfd348): COMMIT;
{ fileUUID: 'bf430267-6daa-4999-bbf8-1eb299aa1fa4',
  cnodeUserUUID: 'c6dd2901-edb2-4e1a-a21e-130d9d6f4caf',
  multihash: 'QmVY7ZppvuDMyawGWpx1zZEyMwpwjNxMUoT76iPYAxVPLj',
  sourceFile: '79821f47-b06e-4cb9-83f4-05e76a5030b9.mp3',
  storagePath:
   '/file_storage/QmVY7ZppvuDMyawGWpx1zZEyMwpwjNxMUoT76iPYAxVPLj',
  type: 'copy320',
  trackUUID: 'b62292a7-bcc0-4ea2-9a3d-6070b87d0285',
  updatedAt: 2020-03-05T17:34:12.046Z,
  createdAt: 2020-03-05T17:34:12.046Z }




PROCESSING ROW #126: sourcefile: ef4a01a2-8866-4202-9681-249f5e28e7f7.mp3, cnodeUserUUID: c6dd2901-edb2-4e1a-a21e-130d9d6f4caf, trackUUID: 6b583944-8663-4b71-ac5f-dbf666eb253f, multihash: QmSRhV8Jb478mEqnTkv4sT4HyK2aE3MzhGAfL5jRSqcMVk, dstPath: /file_storage/QmSRhV8Jb478mEqnTkv4sT4HyK2aE3MzhGAfL5jRSqcMVk
writing to db1...
Executing (37e39940-7c4d-4823-aa70-edd10c2dbb7a): START TRANSACTION;
Executing (37e39940-7c4d-4823-aa70-edd10c2dbb7a): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = 'c6dd2901-edb2-4e1a-a21e-130d9d6f4caf' AND "File"."multihash" = 'QmSRhV8Jb478mEqnTkv4sT4HyK2aE3MzhGAfL5jRSqcMVk' AND "File"."sourceFile" = 'ef4a01a2-8866-4202-9681-249f5e28e7f7.mp3' AND "File"."storagePath" = '/file_storage/QmSRhV8Jb478mEqnTkv4sT4HyK2aE3MzhGAfL5jRSqcMVk' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '6b583944-8663-4b71-ac5f-dbf666eb253f' LIMIT 1;
Executing (37e39940-7c4d-4823-aa70-edd10c2dbb7a): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_cddf79c1fc62466491aa18629e1c4681$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('2d15f44a-bc37-48f7-8997-5904af66bffa','c6dd2901-edb2-4e1a-a21e-130d9d6f4caf','6b583944-8663-4b71-ac5f-dbf666eb253f','QmSRhV8Jb478mEqnTkv4sT4HyK2aE3MzhGAfL5jRSqcMVk','ef4a01a2-8866-4202-9681-249f5e28e7f7.mp3','/file_storage/QmSRhV8Jb478mEqnTkv4sT4HyK2aE3MzhGAfL5jRSqcMVk','copy320','2020-03-05 17:34:12.438 +00:00','2020-03-05 17:34:12.438 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_cddf79c1fc62466491aa18629e1c4681$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (37e39940-7c4d-4823-aa70-edd10c2dbb7a): COMMIT;
{ fileUUID: '2d15f44a-bc37-48f7-8997-5904af66bffa',
  cnodeUserUUID: 'c6dd2901-edb2-4e1a-a21e-130d9d6f4caf',
  multihash: 'QmSRhV8Jb478mEqnTkv4sT4HyK2aE3MzhGAfL5jRSqcMVk',
  sourceFile: 'ef4a01a2-8866-4202-9681-249f5e28e7f7.mp3',
  storagePath:
   '/file_storage/QmSRhV8Jb478mEqnTkv4sT4HyK2aE3MzhGAfL5jRSqcMVk',
  type: 'copy320',
  trackUUID: '6b583944-8663-4b71-ac5f-dbf666eb253f',
  updatedAt: 2020-03-05T17:34:12.438Z,
  createdAt: 2020-03-05T17:34:12.438Z }
writing to db2...
Executing (1d4f77b2-1339-4705-8d01-fbab0a27669b): START TRANSACTION;
Executing (1d4f77b2-1339-4705-8d01-fbab0a27669b): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = 'c6dd2901-edb2-4e1a-a21e-130d9d6f4caf' AND "File"."multihash" = 'QmSRhV8Jb478mEqnTkv4sT4HyK2aE3MzhGAfL5jRSqcMVk' AND "File"."sourceFile" = 'ef4a01a2-8866-4202-9681-249f5e28e7f7.mp3' AND "File"."storagePath" = '/file_storage/QmSRhV8Jb478mEqnTkv4sT4HyK2aE3MzhGAfL5jRSqcMVk' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '6b583944-8663-4b71-ac5f-dbf666eb253f' LIMIT 1;
Executing (1d4f77b2-1339-4705-8d01-fbab0a27669b): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_916f1c6899834c11b63f82ca561fb7a9$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('91564951-1795-4603-85b9-6be211449026','c6dd2901-edb2-4e1a-a21e-130d9d6f4caf','6b583944-8663-4b71-ac5f-dbf666eb253f','QmSRhV8Jb478mEqnTkv4sT4HyK2aE3MzhGAfL5jRSqcMVk','ef4a01a2-8866-4202-9681-249f5e28e7f7.mp3','/file_storage/QmSRhV8Jb478mEqnTkv4sT4HyK2aE3MzhGAfL5jRSqcMVk','copy320','2020-03-05 17:34:12.818 +00:00','2020-03-05 17:34:12.818 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_916f1c6899834c11b63f82ca561fb7a9$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (1d4f77b2-1339-4705-8d01-fbab0a27669b): COMMIT;
{ fileUUID: '91564951-1795-4603-85b9-6be211449026',
  cnodeUserUUID: 'c6dd2901-edb2-4e1a-a21e-130d9d6f4caf',
  multihash: 'QmSRhV8Jb478mEqnTkv4sT4HyK2aE3MzhGAfL5jRSqcMVk',
  sourceFile: 'ef4a01a2-8866-4202-9681-249f5e28e7f7.mp3',
  storagePath:
   '/file_storage/QmSRhV8Jb478mEqnTkv4sT4HyK2aE3MzhGAfL5jRSqcMVk',
  type: 'copy320',
  trackUUID: '6b583944-8663-4b71-ac5f-dbf666eb253f',
  updatedAt: 2020-03-05T17:34:12.818Z,
  createdAt: 2020-03-05T17:34:12.818Z }
writing to db3...
Executing (b112e238-d795-484d-a689-65df52708ae5): START TRANSACTION;
Executing (b112e238-d795-484d-a689-65df52708ae5): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = 'c6dd2901-edb2-4e1a-a21e-130d9d6f4caf' AND "File"."multihash" = 'QmSRhV8Jb478mEqnTkv4sT4HyK2aE3MzhGAfL5jRSqcMVk' AND "File"."sourceFile" = 'ef4a01a2-8866-4202-9681-249f5e28e7f7.mp3' AND "File"."storagePath" = '/file_storage/QmSRhV8Jb478mEqnTkv4sT4HyK2aE3MzhGAfL5jRSqcMVk' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '6b583944-8663-4b71-ac5f-dbf666eb253f' LIMIT 1;
Executing (b112e238-d795-484d-a689-65df52708ae5): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_4625b72b74ab45588a64d5cccdd9620e$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('a01012bb-d043-426e-a546-513a229089f5','c6dd2901-edb2-4e1a-a21e-130d9d6f4caf','6b583944-8663-4b71-ac5f-dbf666eb253f','QmSRhV8Jb478mEqnTkv4sT4HyK2aE3MzhGAfL5jRSqcMVk','ef4a01a2-8866-4202-9681-249f5e28e7f7.mp3','/file_storage/QmSRhV8Jb478mEqnTkv4sT4HyK2aE3MzhGAfL5jRSqcMVk','copy320','2020-03-05 17:34:13.225 +00:00','2020-03-05 17:34:13.225 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_4625b72b74ab45588a64d5cccdd9620e$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (b112e238-d795-484d-a689-65df52708ae5): COMMIT;
{ fileUUID: 'a01012bb-d043-426e-a546-513a229089f5',
  cnodeUserUUID: 'c6dd2901-edb2-4e1a-a21e-130d9d6f4caf',
  multihash: 'QmSRhV8Jb478mEqnTkv4sT4HyK2aE3MzhGAfL5jRSqcMVk',
  sourceFile: 'ef4a01a2-8866-4202-9681-249f5e28e7f7.mp3',
  storagePath:
   '/file_storage/QmSRhV8Jb478mEqnTkv4sT4HyK2aE3MzhGAfL5jRSqcMVk',
  type: 'copy320',
  trackUUID: '6b583944-8663-4b71-ac5f-dbf666eb253f',
  updatedAt: 2020-03-05T17:34:13.225Z,
  createdAt: 2020-03-05T17:34:13.225Z }




PROCESSING ROW #127: sourcefile: e6b0e828-5458-4405-8bc4-7054c2cd48b2.mp3, cnodeUserUUID: 8aefd2ee-77ea-4c0c-9ee3-cb64d794e399, trackUUID: b362c565-7c96-45eb-b456-5d648511030f, multihash: QmcAD35vXY3h9iXGDF2sLTMTZ4QER63yKVoFrJQUpps6bq, dstPath: /file_storage/QmcAD35vXY3h9iXGDF2sLTMTZ4QER63yKVoFrJQUpps6bq
writing to db1...
Executing (13910927-e578-4f79-a7ce-b930a8060d72): START TRANSACTION;
Executing (13910927-e578-4f79-a7ce-b930a8060d72): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '8aefd2ee-77ea-4c0c-9ee3-cb64d794e399' AND "File"."multihash" = 'QmcAD35vXY3h9iXGDF2sLTMTZ4QER63yKVoFrJQUpps6bq' AND "File"."sourceFile" = 'e6b0e828-5458-4405-8bc4-7054c2cd48b2.mp3' AND "File"."storagePath" = '/file_storage/QmcAD35vXY3h9iXGDF2sLTMTZ4QER63yKVoFrJQUpps6bq' AND "File"."type" = 'copy320' AND "File"."trackUUID" = 'b362c565-7c96-45eb-b456-5d648511030f' LIMIT 1;
Executing (13910927-e578-4f79-a7ce-b930a8060d72): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_23edfd6799344bfaa15ebf59e7e684b5$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('31814e57-a81d-409e-9a40-c9b1d854cadc','8aefd2ee-77ea-4c0c-9ee3-cb64d794e399','b362c565-7c96-45eb-b456-5d648511030f','QmcAD35vXY3h9iXGDF2sLTMTZ4QER63yKVoFrJQUpps6bq','e6b0e828-5458-4405-8bc4-7054c2cd48b2.mp3','/file_storage/QmcAD35vXY3h9iXGDF2sLTMTZ4QER63yKVoFrJQUpps6bq','copy320','2020-03-05 17:34:13.614 +00:00','2020-03-05 17:34:13.614 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_23edfd6799344bfaa15ebf59e7e684b5$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (13910927-e578-4f79-a7ce-b930a8060d72): COMMIT;
{ fileUUID: '31814e57-a81d-409e-9a40-c9b1d854cadc',
  cnodeUserUUID: '8aefd2ee-77ea-4c0c-9ee3-cb64d794e399',
  multihash: 'QmcAD35vXY3h9iXGDF2sLTMTZ4QER63yKVoFrJQUpps6bq',
  sourceFile: 'e6b0e828-5458-4405-8bc4-7054c2cd48b2.mp3',
  storagePath:
   '/file_storage/QmcAD35vXY3h9iXGDF2sLTMTZ4QER63yKVoFrJQUpps6bq',
  type: 'copy320',
  trackUUID: 'b362c565-7c96-45eb-b456-5d648511030f',
  updatedAt: 2020-03-05T17:34:13.614Z,
  createdAt: 2020-03-05T17:34:13.614Z }
writing to db2...
Executing (0f724fc9-0cab-4dc9-916f-01168dd3d227): START TRANSACTION;
Executing (0f724fc9-0cab-4dc9-916f-01168dd3d227): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '8aefd2ee-77ea-4c0c-9ee3-cb64d794e399' AND "File"."multihash" = 'QmcAD35vXY3h9iXGDF2sLTMTZ4QER63yKVoFrJQUpps6bq' AND "File"."sourceFile" = 'e6b0e828-5458-4405-8bc4-7054c2cd48b2.mp3' AND "File"."storagePath" = '/file_storage/QmcAD35vXY3h9iXGDF2sLTMTZ4QER63yKVoFrJQUpps6bq' AND "File"."type" = 'copy320' AND "File"."trackUUID" = 'b362c565-7c96-45eb-b456-5d648511030f' LIMIT 1;
Executing (0f724fc9-0cab-4dc9-916f-01168dd3d227): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_3ab036c833104691af30b3d0caab2fbe$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('939e5cac-a781-48e1-8f0a-83a42fe1f49d','8aefd2ee-77ea-4c0c-9ee3-cb64d794e399','b362c565-7c96-45eb-b456-5d648511030f','QmcAD35vXY3h9iXGDF2sLTMTZ4QER63yKVoFrJQUpps6bq','e6b0e828-5458-4405-8bc4-7054c2cd48b2.mp3','/file_storage/QmcAD35vXY3h9iXGDF2sLTMTZ4QER63yKVoFrJQUpps6bq','copy320','2020-03-05 17:34:14.005 +00:00','2020-03-05 17:34:14.005 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_3ab036c833104691af30b3d0caab2fbe$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (0f724fc9-0cab-4dc9-916f-01168dd3d227): COMMIT;
{ fileUUID: '939e5cac-a781-48e1-8f0a-83a42fe1f49d',
  cnodeUserUUID: '8aefd2ee-77ea-4c0c-9ee3-cb64d794e399',
  multihash: 'QmcAD35vXY3h9iXGDF2sLTMTZ4QER63yKVoFrJQUpps6bq',
  sourceFile: 'e6b0e828-5458-4405-8bc4-7054c2cd48b2.mp3',
  storagePath:
   '/file_storage/QmcAD35vXY3h9iXGDF2sLTMTZ4QER63yKVoFrJQUpps6bq',
  type: 'copy320',
  trackUUID: 'b362c565-7c96-45eb-b456-5d648511030f',
  updatedAt: 2020-03-05T17:34:14.005Z,
  createdAt: 2020-03-05T17:34:14.005Z }
writing to db3...
Executing (9e8981ef-7bd7-46e6-9618-513599345932): START TRANSACTION;
Executing (9e8981ef-7bd7-46e6-9618-513599345932): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '8aefd2ee-77ea-4c0c-9ee3-cb64d794e399' AND "File"."multihash" = 'QmcAD35vXY3h9iXGDF2sLTMTZ4QER63yKVoFrJQUpps6bq' AND "File"."sourceFile" = 'e6b0e828-5458-4405-8bc4-7054c2cd48b2.mp3' AND "File"."storagePath" = '/file_storage/QmcAD35vXY3h9iXGDF2sLTMTZ4QER63yKVoFrJQUpps6bq' AND "File"."type" = 'copy320' AND "File"."trackUUID" = 'b362c565-7c96-45eb-b456-5d648511030f' LIMIT 1;
Executing (9e8981ef-7bd7-46e6-9618-513599345932): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_cdce044fb18041619639c8e474300486$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('f3cd3960-a526-4e54-bf5e-a31f0cc569ed','8aefd2ee-77ea-4c0c-9ee3-cb64d794e399','b362c565-7c96-45eb-b456-5d648511030f','QmcAD35vXY3h9iXGDF2sLTMTZ4QER63yKVoFrJQUpps6bq','e6b0e828-5458-4405-8bc4-7054c2cd48b2.mp3','/file_storage/QmcAD35vXY3h9iXGDF2sLTMTZ4QER63yKVoFrJQUpps6bq','copy320','2020-03-05 17:34:14.397 +00:00','2020-03-05 17:34:14.397 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_cdce044fb18041619639c8e474300486$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (9e8981ef-7bd7-46e6-9618-513599345932): COMMIT;
{ fileUUID: 'f3cd3960-a526-4e54-bf5e-a31f0cc569ed',
  cnodeUserUUID: '8aefd2ee-77ea-4c0c-9ee3-cb64d794e399',
  multihash: 'QmcAD35vXY3h9iXGDF2sLTMTZ4QER63yKVoFrJQUpps6bq',
  sourceFile: 'e6b0e828-5458-4405-8bc4-7054c2cd48b2.mp3',
  storagePath:
   '/file_storage/QmcAD35vXY3h9iXGDF2sLTMTZ4QER63yKVoFrJQUpps6bq',
  type: 'copy320',
  trackUUID: 'b362c565-7c96-45eb-b456-5d648511030f',
  updatedAt: 2020-03-05T17:34:14.397Z,
  createdAt: 2020-03-05T17:34:14.397Z }




PROCESSING ROW #128: sourcefile: 28129345-b006-44fe-b829-2829bf119280.mp3, cnodeUserUUID: 8aefd2ee-77ea-4c0c-9ee3-cb64d794e399, trackUUID: 2bc0c11f-b58e-4e7a-b6df-6adc9e0f64b0, multihash: QmcAD35vXY3h9iXGDF2sLTMTZ4QER63yKVoFrJQUpps6bq, dstPath: /file_storage/QmcAD35vXY3h9iXGDF2sLTMTZ4QER63yKVoFrJQUpps6bq
writing to db1...
Executing (4c88ee61-5c24-4508-afb2-7632b2c4bb67): START TRANSACTION;
Executing (4c88ee61-5c24-4508-afb2-7632b2c4bb67): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '8aefd2ee-77ea-4c0c-9ee3-cb64d794e399' AND "File"."multihash" = 'QmcAD35vXY3h9iXGDF2sLTMTZ4QER63yKVoFrJQUpps6bq' AND "File"."sourceFile" = '28129345-b006-44fe-b829-2829bf119280.mp3' AND "File"."storagePath" = '/file_storage/QmcAD35vXY3h9iXGDF2sLTMTZ4QER63yKVoFrJQUpps6bq' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '2bc0c11f-b58e-4e7a-b6df-6adc9e0f64b0' LIMIT 1;
Executing (4c88ee61-5c24-4508-afb2-7632b2c4bb67): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_0d4963b9f7094c85a12036bc96178f59$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('d9c02242-c308-4337-b27c-3b36fccde192','8aefd2ee-77ea-4c0c-9ee3-cb64d794e399','2bc0c11f-b58e-4e7a-b6df-6adc9e0f64b0','QmcAD35vXY3h9iXGDF2sLTMTZ4QER63yKVoFrJQUpps6bq','28129345-b006-44fe-b829-2829bf119280.mp3','/file_storage/QmcAD35vXY3h9iXGDF2sLTMTZ4QER63yKVoFrJQUpps6bq','copy320','2020-03-05 17:34:14.792 +00:00','2020-03-05 17:34:14.792 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_0d4963b9f7094c85a12036bc96178f59$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (4c88ee61-5c24-4508-afb2-7632b2c4bb67): COMMIT;
{ fileUUID: 'd9c02242-c308-4337-b27c-3b36fccde192',
  cnodeUserUUID: '8aefd2ee-77ea-4c0c-9ee3-cb64d794e399',
  multihash: 'QmcAD35vXY3h9iXGDF2sLTMTZ4QER63yKVoFrJQUpps6bq',
  sourceFile: '28129345-b006-44fe-b829-2829bf119280.mp3',
  storagePath:
   '/file_storage/QmcAD35vXY3h9iXGDF2sLTMTZ4QER63yKVoFrJQUpps6bq',
  type: 'copy320',
  trackUUID: '2bc0c11f-b58e-4e7a-b6df-6adc9e0f64b0',
  updatedAt: 2020-03-05T17:34:14.792Z,
  createdAt: 2020-03-05T17:34:14.792Z }
writing to db2...
Executing (8f7fe87e-32da-494f-ab45-9d373532622e): START TRANSACTION;
Executing (8f7fe87e-32da-494f-ab45-9d373532622e): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '8aefd2ee-77ea-4c0c-9ee3-cb64d794e399' AND "File"."multihash" = 'QmcAD35vXY3h9iXGDF2sLTMTZ4QER63yKVoFrJQUpps6bq' AND "File"."sourceFile" = '28129345-b006-44fe-b829-2829bf119280.mp3' AND "File"."storagePath" = '/file_storage/QmcAD35vXY3h9iXGDF2sLTMTZ4QER63yKVoFrJQUpps6bq' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '2bc0c11f-b58e-4e7a-b6df-6adc9e0f64b0' LIMIT 1;
Executing (8f7fe87e-32da-494f-ab45-9d373532622e): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_b96ce53517e14e2fbf73c7900210a563$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('5ff16f84-33e9-4fb9-a87d-1ae02569a0f9','8aefd2ee-77ea-4c0c-9ee3-cb64d794e399','2bc0c11f-b58e-4e7a-b6df-6adc9e0f64b0','QmcAD35vXY3h9iXGDF2sLTMTZ4QER63yKVoFrJQUpps6bq','28129345-b006-44fe-b829-2829bf119280.mp3','/file_storage/QmcAD35vXY3h9iXGDF2sLTMTZ4QER63yKVoFrJQUpps6bq','copy320','2020-03-05 17:34:15.185 +00:00','2020-03-05 17:34:15.185 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_b96ce53517e14e2fbf73c7900210a563$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (8f7fe87e-32da-494f-ab45-9d373532622e): COMMIT;
{ fileUUID: '5ff16f84-33e9-4fb9-a87d-1ae02569a0f9',
  cnodeUserUUID: '8aefd2ee-77ea-4c0c-9ee3-cb64d794e399',
  multihash: 'QmcAD35vXY3h9iXGDF2sLTMTZ4QER63yKVoFrJQUpps6bq',
  sourceFile: '28129345-b006-44fe-b829-2829bf119280.mp3',
  storagePath:
   '/file_storage/QmcAD35vXY3h9iXGDF2sLTMTZ4QER63yKVoFrJQUpps6bq',
  type: 'copy320',
  trackUUID: '2bc0c11f-b58e-4e7a-b6df-6adc9e0f64b0',
  updatedAt: 2020-03-05T17:34:15.185Z,
  createdAt: 2020-03-05T17:34:15.185Z }
writing to db3...
Executing (8e390728-29dc-4967-8b83-c4903b8325bb): START TRANSACTION;
Executing (8e390728-29dc-4967-8b83-c4903b8325bb): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '8aefd2ee-77ea-4c0c-9ee3-cb64d794e399' AND "File"."multihash" = 'QmcAD35vXY3h9iXGDF2sLTMTZ4QER63yKVoFrJQUpps6bq' AND "File"."sourceFile" = '28129345-b006-44fe-b829-2829bf119280.mp3' AND "File"."storagePath" = '/file_storage/QmcAD35vXY3h9iXGDF2sLTMTZ4QER63yKVoFrJQUpps6bq' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '2bc0c11f-b58e-4e7a-b6df-6adc9e0f64b0' LIMIT 1;
Executing (8e390728-29dc-4967-8b83-c4903b8325bb): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_9f7b5fc7d85847ed8d7dee84e1951601$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('8c107e3e-bbc3-4a0a-b145-6bdabbfdab7b','8aefd2ee-77ea-4c0c-9ee3-cb64d794e399','2bc0c11f-b58e-4e7a-b6df-6adc9e0f64b0','QmcAD35vXY3h9iXGDF2sLTMTZ4QER63yKVoFrJQUpps6bq','28129345-b006-44fe-b829-2829bf119280.mp3','/file_storage/QmcAD35vXY3h9iXGDF2sLTMTZ4QER63yKVoFrJQUpps6bq','copy320','2020-03-05 17:34:15.575 +00:00','2020-03-05 17:34:15.575 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_9f7b5fc7d85847ed8d7dee84e1951601$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (8e390728-29dc-4967-8b83-c4903b8325bb): COMMIT;
{ fileUUID: '8c107e3e-bbc3-4a0a-b145-6bdabbfdab7b',
  cnodeUserUUID: '8aefd2ee-77ea-4c0c-9ee3-cb64d794e399',
  multihash: 'QmcAD35vXY3h9iXGDF2sLTMTZ4QER63yKVoFrJQUpps6bq',
  sourceFile: '28129345-b006-44fe-b829-2829bf119280.mp3',
  storagePath:
   '/file_storage/QmcAD35vXY3h9iXGDF2sLTMTZ4QER63yKVoFrJQUpps6bq',
  type: 'copy320',
  trackUUID: '2bc0c11f-b58e-4e7a-b6df-6adc9e0f64b0',
  updatedAt: 2020-03-05T17:34:15.575Z,
  createdAt: 2020-03-05T17:34:15.575Z }




PROCESSING ROW #129: sourcefile: 1f7030d2-5621-4c50-a8f6-01203f6f516f.mp3, cnodeUserUUID: f26a3bf5-0801-4614-8026-f4672ae276d5, trackUUID: 28b0df05-e868-450d-9586-f1fd9e0711ea, multihash: QmRcoRviee9kYQGvxF17XPYmVzd4g9VC9vVTtY9qEcExza, dstPath: /file_storage/QmRcoRviee9kYQGvxF17XPYmVzd4g9VC9vVTtY9qEcExza
writing to db1...
Executing (d1914ad7-7366-4ed4-8305-e94a379b887b): START TRANSACTION;
Executing (d1914ad7-7366-4ed4-8305-e94a379b887b): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = 'f26a3bf5-0801-4614-8026-f4672ae276d5' AND "File"."multihash" = 'QmRcoRviee9kYQGvxF17XPYmVzd4g9VC9vVTtY9qEcExza' AND "File"."sourceFile" = '1f7030d2-5621-4c50-a8f6-01203f6f516f.mp3' AND "File"."storagePath" = '/file_storage/QmRcoRviee9kYQGvxF17XPYmVzd4g9VC9vVTtY9qEcExza' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '28b0df05-e868-450d-9586-f1fd9e0711ea' LIMIT 1;
Executing (d1914ad7-7366-4ed4-8305-e94a379b887b): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_5686364d57c249a1b0a892cfa606daa7$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('8d73c016-d2cd-4da5-8ef1-8fe52bfd8946','f26a3bf5-0801-4614-8026-f4672ae276d5','28b0df05-e868-450d-9586-f1fd9e0711ea','QmRcoRviee9kYQGvxF17XPYmVzd4g9VC9vVTtY9qEcExza','1f7030d2-5621-4c50-a8f6-01203f6f516f.mp3','/file_storage/QmRcoRviee9kYQGvxF17XPYmVzd4g9VC9vVTtY9qEcExza','copy320','2020-03-05 17:34:15.964 +00:00','2020-03-05 17:34:15.964 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_5686364d57c249a1b0a892cfa606daa7$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (d1914ad7-7366-4ed4-8305-e94a379b887b): COMMIT;
{ fileUUID: '8d73c016-d2cd-4da5-8ef1-8fe52bfd8946',
  cnodeUserUUID: 'f26a3bf5-0801-4614-8026-f4672ae276d5',
  multihash: 'QmRcoRviee9kYQGvxF17XPYmVzd4g9VC9vVTtY9qEcExza',
  sourceFile: '1f7030d2-5621-4c50-a8f6-01203f6f516f.mp3',
  storagePath:
   '/file_storage/QmRcoRviee9kYQGvxF17XPYmVzd4g9VC9vVTtY9qEcExza',
  type: 'copy320',
  trackUUID: '28b0df05-e868-450d-9586-f1fd9e0711ea',
  updatedAt: 2020-03-05T17:34:15.964Z,
  createdAt: 2020-03-05T17:34:15.964Z }
writing to db2...
Executing (37dc0816-70ed-41ae-9b87-81fba70ab97c): START TRANSACTION;
Executing (37dc0816-70ed-41ae-9b87-81fba70ab97c): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = 'f26a3bf5-0801-4614-8026-f4672ae276d5' AND "File"."multihash" = 'QmRcoRviee9kYQGvxF17XPYmVzd4g9VC9vVTtY9qEcExza' AND "File"."sourceFile" = '1f7030d2-5621-4c50-a8f6-01203f6f516f.mp3' AND "File"."storagePath" = '/file_storage/QmRcoRviee9kYQGvxF17XPYmVzd4g9VC9vVTtY9qEcExza' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '28b0df05-e868-450d-9586-f1fd9e0711ea' LIMIT 1;
Executing (37dc0816-70ed-41ae-9b87-81fba70ab97c): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_91fffb60893f4e86bb5e5ffc88a9ebd8$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('d1b72724-1ee1-4a77-a7fb-f87ff35dbd0c','f26a3bf5-0801-4614-8026-f4672ae276d5','28b0df05-e868-450d-9586-f1fd9e0711ea','QmRcoRviee9kYQGvxF17XPYmVzd4g9VC9vVTtY9qEcExza','1f7030d2-5621-4c50-a8f6-01203f6f516f.mp3','/file_storage/QmRcoRviee9kYQGvxF17XPYmVzd4g9VC9vVTtY9qEcExza','copy320','2020-03-05 17:34:16.354 +00:00','2020-03-05 17:34:16.354 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_91fffb60893f4e86bb5e5ffc88a9ebd8$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (37dc0816-70ed-41ae-9b87-81fba70ab97c): COMMIT;
{ fileUUID: 'd1b72724-1ee1-4a77-a7fb-f87ff35dbd0c',
  cnodeUserUUID: 'f26a3bf5-0801-4614-8026-f4672ae276d5',
  multihash: 'QmRcoRviee9kYQGvxF17XPYmVzd4g9VC9vVTtY9qEcExza',
  sourceFile: '1f7030d2-5621-4c50-a8f6-01203f6f516f.mp3',
  storagePath:
   '/file_storage/QmRcoRviee9kYQGvxF17XPYmVzd4g9VC9vVTtY9qEcExza',
  type: 'copy320',
  trackUUID: '28b0df05-e868-450d-9586-f1fd9e0711ea',
  updatedAt: 2020-03-05T17:34:16.354Z,
  createdAt: 2020-03-05T17:34:16.354Z }
writing to db3...
Executing (7124fe72-298b-4a05-89f2-891c9b7edfaa): START TRANSACTION;
Executing (7124fe72-298b-4a05-89f2-891c9b7edfaa): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = 'f26a3bf5-0801-4614-8026-f4672ae276d5' AND "File"."multihash" = 'QmRcoRviee9kYQGvxF17XPYmVzd4g9VC9vVTtY9qEcExza' AND "File"."sourceFile" = '1f7030d2-5621-4c50-a8f6-01203f6f516f.mp3' AND "File"."storagePath" = '/file_storage/QmRcoRviee9kYQGvxF17XPYmVzd4g9VC9vVTtY9qEcExza' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '28b0df05-e868-450d-9586-f1fd9e0711ea' LIMIT 1;
Executing (7124fe72-298b-4a05-89f2-891c9b7edfaa): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_b9a9777d1b384677822d1489e91ba622$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('64fe721e-3e22-4651-ac79-fcd274fab1f2','f26a3bf5-0801-4614-8026-f4672ae276d5','28b0df05-e868-450d-9586-f1fd9e0711ea','QmRcoRviee9kYQGvxF17XPYmVzd4g9VC9vVTtY9qEcExza','1f7030d2-5621-4c50-a8f6-01203f6f516f.mp3','/file_storage/QmRcoRviee9kYQGvxF17XPYmVzd4g9VC9vVTtY9qEcExza','copy320','2020-03-05 17:34:16.747 +00:00','2020-03-05 17:34:16.747 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_b9a9777d1b384677822d1489e91ba622$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (7124fe72-298b-4a05-89f2-891c9b7edfaa): COMMIT;
{ fileUUID: '64fe721e-3e22-4651-ac79-fcd274fab1f2',
  cnodeUserUUID: 'f26a3bf5-0801-4614-8026-f4672ae276d5',
  multihash: 'QmRcoRviee9kYQGvxF17XPYmVzd4g9VC9vVTtY9qEcExza',
  sourceFile: '1f7030d2-5621-4c50-a8f6-01203f6f516f.mp3',
  storagePath:
   '/file_storage/QmRcoRviee9kYQGvxF17XPYmVzd4g9VC9vVTtY9qEcExza',
  type: 'copy320',
  trackUUID: '28b0df05-e868-450d-9586-f1fd9e0711ea',
  updatedAt: 2020-03-05T17:34:16.747Z,
  createdAt: 2020-03-05T17:34:16.747Z }




PROCESSING ROW #130: sourcefile: 07c619e4-8229-46e4-aaba-f6e6f7238861.mp3, cnodeUserUUID: c6dd2901-edb2-4e1a-a21e-130d9d6f4caf, trackUUID: 0d12e19c-68c6-42bc-86cd-74b1d38a04e0, multihash: QmfLCmXdHuQngog1p5osxhuxfU9RvTMQBkcTHFzkuh3SNV, dstPath: /file_storage/QmfLCmXdHuQngog1p5osxhuxfU9RvTMQBkcTHFzkuh3SNV
writing to db1...
Executing (c3b54664-7f54-4359-bf34-976879da6f0b): START TRANSACTION;
Executing (c3b54664-7f54-4359-bf34-976879da6f0b): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = 'c6dd2901-edb2-4e1a-a21e-130d9d6f4caf' AND "File"."multihash" = 'QmfLCmXdHuQngog1p5osxhuxfU9RvTMQBkcTHFzkuh3SNV' AND "File"."sourceFile" = '07c619e4-8229-46e4-aaba-f6e6f7238861.mp3' AND "File"."storagePath" = '/file_storage/QmfLCmXdHuQngog1p5osxhuxfU9RvTMQBkcTHFzkuh3SNV' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '0d12e19c-68c6-42bc-86cd-74b1d38a04e0' LIMIT 1;
Executing (c3b54664-7f54-4359-bf34-976879da6f0b): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_eebca3f9aad440b38192e7a72faa0aee$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('8702b2d4-ac72-48fb-bc83-4ddf4fd59971','c6dd2901-edb2-4e1a-a21e-130d9d6f4caf','0d12e19c-68c6-42bc-86cd-74b1d38a04e0','QmfLCmXdHuQngog1p5osxhuxfU9RvTMQBkcTHFzkuh3SNV','07c619e4-8229-46e4-aaba-f6e6f7238861.mp3','/file_storage/QmfLCmXdHuQngog1p5osxhuxfU9RvTMQBkcTHFzkuh3SNV','copy320','2020-03-05 17:34:17.147 +00:00','2020-03-05 17:34:17.147 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_eebca3f9aad440b38192e7a72faa0aee$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (c3b54664-7f54-4359-bf34-976879da6f0b): COMMIT;
{ fileUUID: '8702b2d4-ac72-48fb-bc83-4ddf4fd59971',
  cnodeUserUUID: 'c6dd2901-edb2-4e1a-a21e-130d9d6f4caf',
  multihash: 'QmfLCmXdHuQngog1p5osxhuxfU9RvTMQBkcTHFzkuh3SNV',
  sourceFile: '07c619e4-8229-46e4-aaba-f6e6f7238861.mp3',
  storagePath:
   '/file_storage/QmfLCmXdHuQngog1p5osxhuxfU9RvTMQBkcTHFzkuh3SNV',
  type: 'copy320',
  trackUUID: '0d12e19c-68c6-42bc-86cd-74b1d38a04e0',
  updatedAt: 2020-03-05T17:34:17.147Z,
  createdAt: 2020-03-05T17:34:17.147Z }
writing to db2...
Executing (28e6969a-4f2b-4ad1-85ee-4a2e4691b49f): START TRANSACTION;
Executing (28e6969a-4f2b-4ad1-85ee-4a2e4691b49f): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = 'c6dd2901-edb2-4e1a-a21e-130d9d6f4caf' AND "File"."multihash" = 'QmfLCmXdHuQngog1p5osxhuxfU9RvTMQBkcTHFzkuh3SNV' AND "File"."sourceFile" = '07c619e4-8229-46e4-aaba-f6e6f7238861.mp3' AND "File"."storagePath" = '/file_storage/QmfLCmXdHuQngog1p5osxhuxfU9RvTMQBkcTHFzkuh3SNV' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '0d12e19c-68c6-42bc-86cd-74b1d38a04e0' LIMIT 1;
Executing (28e6969a-4f2b-4ad1-85ee-4a2e4691b49f): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_b9a53f44afe842f7b87fee592168c8b0$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('e970766f-724b-411d-8bde-6bf302f99813','c6dd2901-edb2-4e1a-a21e-130d9d6f4caf','0d12e19c-68c6-42bc-86cd-74b1d38a04e0','QmfLCmXdHuQngog1p5osxhuxfU9RvTMQBkcTHFzkuh3SNV','07c619e4-8229-46e4-aaba-f6e6f7238861.mp3','/file_storage/QmfLCmXdHuQngog1p5osxhuxfU9RvTMQBkcTHFzkuh3SNV','copy320','2020-03-05 17:34:17.530 +00:00','2020-03-05 17:34:17.530 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_b9a53f44afe842f7b87fee592168c8b0$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (28e6969a-4f2b-4ad1-85ee-4a2e4691b49f): COMMIT;
{ fileUUID: 'e970766f-724b-411d-8bde-6bf302f99813',
  cnodeUserUUID: 'c6dd2901-edb2-4e1a-a21e-130d9d6f4caf',
  multihash: 'QmfLCmXdHuQngog1p5osxhuxfU9RvTMQBkcTHFzkuh3SNV',
  sourceFile: '07c619e4-8229-46e4-aaba-f6e6f7238861.mp3',
  storagePath:
   '/file_storage/QmfLCmXdHuQngog1p5osxhuxfU9RvTMQBkcTHFzkuh3SNV',
  type: 'copy320',
  trackUUID: '0d12e19c-68c6-42bc-86cd-74b1d38a04e0',
  updatedAt: 2020-03-05T17:34:17.530Z,
  createdAt: 2020-03-05T17:34:17.530Z }
writing to db3...
Executing (7047f35c-f990-45cf-a3f5-e909f88065c9): START TRANSACTION;
Executing (7047f35c-f990-45cf-a3f5-e909f88065c9): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = 'c6dd2901-edb2-4e1a-a21e-130d9d6f4caf' AND "File"."multihash" = 'QmfLCmXdHuQngog1p5osxhuxfU9RvTMQBkcTHFzkuh3SNV' AND "File"."sourceFile" = '07c619e4-8229-46e4-aaba-f6e6f7238861.mp3' AND "File"."storagePath" = '/file_storage/QmfLCmXdHuQngog1p5osxhuxfU9RvTMQBkcTHFzkuh3SNV' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '0d12e19c-68c6-42bc-86cd-74b1d38a04e0' LIMIT 1;
Executing (7047f35c-f990-45cf-a3f5-e909f88065c9): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_08b4ab96a5e24958a07616c4d74fc6b6$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('8024d286-c4d4-409b-9434-88155a3e0fd0','c6dd2901-edb2-4e1a-a21e-130d9d6f4caf','0d12e19c-68c6-42bc-86cd-74b1d38a04e0','QmfLCmXdHuQngog1p5osxhuxfU9RvTMQBkcTHFzkuh3SNV','07c619e4-8229-46e4-aaba-f6e6f7238861.mp3','/file_storage/QmfLCmXdHuQngog1p5osxhuxfU9RvTMQBkcTHFzkuh3SNV','copy320','2020-03-05 17:34:17.914 +00:00','2020-03-05 17:34:17.914 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_08b4ab96a5e24958a07616c4d74fc6b6$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (7047f35c-f990-45cf-a3f5-e909f88065c9): COMMIT;
{ fileUUID: '8024d286-c4d4-409b-9434-88155a3e0fd0',
  cnodeUserUUID: 'c6dd2901-edb2-4e1a-a21e-130d9d6f4caf',
  multihash: 'QmfLCmXdHuQngog1p5osxhuxfU9RvTMQBkcTHFzkuh3SNV',
  sourceFile: '07c619e4-8229-46e4-aaba-f6e6f7238861.mp3',
  storagePath:
   '/file_storage/QmfLCmXdHuQngog1p5osxhuxfU9RvTMQBkcTHFzkuh3SNV',
  type: 'copy320',
  trackUUID: '0d12e19c-68c6-42bc-86cd-74b1d38a04e0',
  updatedAt: 2020-03-05T17:34:17.914Z,
  createdAt: 2020-03-05T17:34:17.914Z }




PROCESSING ROW #131: sourcefile: 10d6580d-29a5-4a24-bc32-132c1f9ea47a.mp3, cnodeUserUUID: a62d18a0-683a-4c20-b579-dacef8bc5d79, trackUUID: 21631c6d-2aca-43b0-8314-85974b2c800b, multihash: QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM, dstPath: /file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM
writing to db1...
Executing (fe29bd8d-4a42-4cd4-8740-657103d45cab): START TRANSACTION;
Executing (fe29bd8d-4a42-4cd4-8740-657103d45cab): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = 'a62d18a0-683a-4c20-b579-dacef8bc5d79' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = '10d6580d-29a5-4a24-bc32-132c1f9ea47a.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '21631c6d-2aca-43b0-8314-85974b2c800b' LIMIT 1;
Executing (fe29bd8d-4a42-4cd4-8740-657103d45cab): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_614ca5d562a14c8ab2960a7c8e5050c5$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('6234877a-6f30-495f-95e4-8a566dc25ddb','a62d18a0-683a-4c20-b579-dacef8bc5d79','21631c6d-2aca-43b0-8314-85974b2c800b','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','10d6580d-29a5-4a24-bc32-132c1f9ea47a.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:34:18.305 +00:00','2020-03-05 17:34:18.305 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_614ca5d562a14c8ab2960a7c8e5050c5$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (fe29bd8d-4a42-4cd4-8740-657103d45cab): COMMIT;
{ fileUUID: '6234877a-6f30-495f-95e4-8a566dc25ddb',
  cnodeUserUUID: 'a62d18a0-683a-4c20-b579-dacef8bc5d79',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: '10d6580d-29a5-4a24-bc32-132c1f9ea47a.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: '21631c6d-2aca-43b0-8314-85974b2c800b',
  updatedAt: 2020-03-05T17:34:18.305Z,
  createdAt: 2020-03-05T17:34:18.305Z }
writing to db2...
Executing (6ccd5c54-e546-4cb4-845b-260ede6026b0): START TRANSACTION;
Executing (6ccd5c54-e546-4cb4-845b-260ede6026b0): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = 'a62d18a0-683a-4c20-b579-dacef8bc5d79' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = '10d6580d-29a5-4a24-bc32-132c1f9ea47a.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '21631c6d-2aca-43b0-8314-85974b2c800b' LIMIT 1;
Executing (6ccd5c54-e546-4cb4-845b-260ede6026b0): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_09b19ff1e258474083e763f0b66a94a7$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('ba539c1b-cfef-435a-b687-87577e4dcbe9','a62d18a0-683a-4c20-b579-dacef8bc5d79','21631c6d-2aca-43b0-8314-85974b2c800b','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','10d6580d-29a5-4a24-bc32-132c1f9ea47a.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:34:18.698 +00:00','2020-03-05 17:34:18.698 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_09b19ff1e258474083e763f0b66a94a7$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (6ccd5c54-e546-4cb4-845b-260ede6026b0): COMMIT;
{ fileUUID: 'ba539c1b-cfef-435a-b687-87577e4dcbe9',
  cnodeUserUUID: 'a62d18a0-683a-4c20-b579-dacef8bc5d79',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: '10d6580d-29a5-4a24-bc32-132c1f9ea47a.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: '21631c6d-2aca-43b0-8314-85974b2c800b',
  updatedAt: 2020-03-05T17:34:18.698Z,
  createdAt: 2020-03-05T17:34:18.698Z }
writing to db3...
Executing (8cd03e7f-cbce-404d-9e47-ba4c4b521500): START TRANSACTION;
Executing (8cd03e7f-cbce-404d-9e47-ba4c4b521500): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = 'a62d18a0-683a-4c20-b579-dacef8bc5d79' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = '10d6580d-29a5-4a24-bc32-132c1f9ea47a.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '21631c6d-2aca-43b0-8314-85974b2c800b' LIMIT 1;
Executing (8cd03e7f-cbce-404d-9e47-ba4c4b521500): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_fe0b8bc267984a6a9a313262bbf8e267$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('3ce9fb91-d26d-42ba-9702-704bfda97f46','a62d18a0-683a-4c20-b579-dacef8bc5d79','21631c6d-2aca-43b0-8314-85974b2c800b','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','10d6580d-29a5-4a24-bc32-132c1f9ea47a.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:34:19.098 +00:00','2020-03-05 17:34:19.098 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_fe0b8bc267984a6a9a313262bbf8e267$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (8cd03e7f-cbce-404d-9e47-ba4c4b521500): COMMIT;
{ fileUUID: '3ce9fb91-d26d-42ba-9702-704bfda97f46',
  cnodeUserUUID: 'a62d18a0-683a-4c20-b579-dacef8bc5d79',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: '10d6580d-29a5-4a24-bc32-132c1f9ea47a.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: '21631c6d-2aca-43b0-8314-85974b2c800b',
  updatedAt: 2020-03-05T17:34:19.098Z,
  createdAt: 2020-03-05T17:34:19.098Z }




PROCESSING ROW #132: sourcefile: d6f59438-c61b-473e-8313-e69c670aa502.mp3, cnodeUserUUID: 780f44d4-c54a-4422-874e-fa583fd60bef, trackUUID: 4709e51a-97e1-41c3-b539-8616c65691bf, multihash: QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM, dstPath: /file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM
writing to db1...
Executing (3c4ba279-4c8f-4612-b63a-2fe6b7eb2a1b): START TRANSACTION;
Executing (3c4ba279-4c8f-4612-b63a-2fe6b7eb2a1b): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '780f44d4-c54a-4422-874e-fa583fd60bef' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = 'd6f59438-c61b-473e-8313-e69c670aa502.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '4709e51a-97e1-41c3-b539-8616c65691bf' LIMIT 1;
Executing (3c4ba279-4c8f-4612-b63a-2fe6b7eb2a1b): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_4364b3b7f61d4589b3458d0aa7e93956$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('4a9ea371-56bf-4021-a8a7-152969ad71da','780f44d4-c54a-4422-874e-fa583fd60bef','4709e51a-97e1-41c3-b539-8616c65691bf','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','d6f59438-c61b-473e-8313-e69c670aa502.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:34:19.525 +00:00','2020-03-05 17:34:19.525 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_4364b3b7f61d4589b3458d0aa7e93956$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (3c4ba279-4c8f-4612-b63a-2fe6b7eb2a1b): COMMIT;
{ fileUUID: '4a9ea371-56bf-4021-a8a7-152969ad71da',
  cnodeUserUUID: '780f44d4-c54a-4422-874e-fa583fd60bef',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: 'd6f59438-c61b-473e-8313-e69c670aa502.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: '4709e51a-97e1-41c3-b539-8616c65691bf',
  updatedAt: 2020-03-05T17:34:19.525Z,
  createdAt: 2020-03-05T17:34:19.525Z }
writing to db2...
Executing (dca3d672-1655-4b25-8919-dc1933e7c3ad): START TRANSACTION;
Executing (dca3d672-1655-4b25-8919-dc1933e7c3ad): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '780f44d4-c54a-4422-874e-fa583fd60bef' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = 'd6f59438-c61b-473e-8313-e69c670aa502.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '4709e51a-97e1-41c3-b539-8616c65691bf' LIMIT 1;
Executing (dca3d672-1655-4b25-8919-dc1933e7c3ad): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_02118f0883a34b58ad243518fdafc230$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('e2264ebc-54a4-4b6d-9670-9b865a29f53c','780f44d4-c54a-4422-874e-fa583fd60bef','4709e51a-97e1-41c3-b539-8616c65691bf','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','d6f59438-c61b-473e-8313-e69c670aa502.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:34:19.941 +00:00','2020-03-05 17:34:19.941 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_02118f0883a34b58ad243518fdafc230$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (dca3d672-1655-4b25-8919-dc1933e7c3ad): COMMIT;
{ fileUUID: 'e2264ebc-54a4-4b6d-9670-9b865a29f53c',
  cnodeUserUUID: '780f44d4-c54a-4422-874e-fa583fd60bef',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: 'd6f59438-c61b-473e-8313-e69c670aa502.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: '4709e51a-97e1-41c3-b539-8616c65691bf',
  updatedAt: 2020-03-05T17:34:19.941Z,
  createdAt: 2020-03-05T17:34:19.941Z }
writing to db3...
Executing (77cdfe03-0be6-49f4-8b99-31236f819848): START TRANSACTION;
Executing (77cdfe03-0be6-49f4-8b99-31236f819848): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '780f44d4-c54a-4422-874e-fa583fd60bef' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = 'd6f59438-c61b-473e-8313-e69c670aa502.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '4709e51a-97e1-41c3-b539-8616c65691bf' LIMIT 1;
Executing (77cdfe03-0be6-49f4-8b99-31236f819848): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_11e81ff3b6064f0eb6091b20b144da39$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('3feb7e9a-d9ef-415c-96e3-809a152126df','780f44d4-c54a-4422-874e-fa583fd60bef','4709e51a-97e1-41c3-b539-8616c65691bf','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','d6f59438-c61b-473e-8313-e69c670aa502.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:34:20.355 +00:00','2020-03-05 17:34:20.355 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_11e81ff3b6064f0eb6091b20b144da39$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (77cdfe03-0be6-49f4-8b99-31236f819848): COMMIT;
{ fileUUID: '3feb7e9a-d9ef-415c-96e3-809a152126df',
  cnodeUserUUID: '780f44d4-c54a-4422-874e-fa583fd60bef',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: 'd6f59438-c61b-473e-8313-e69c670aa502.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: '4709e51a-97e1-41c3-b539-8616c65691bf',
  updatedAt: 2020-03-05T17:34:20.355Z,
  createdAt: 2020-03-05T17:34:20.355Z }




PROCESSING ROW #133: sourcefile: 28b9873e-f55f-47c7-9570-6c7d35a9a38a.mp3, cnodeUserUUID: 2233f901-92b7-4415-8ab5-c5379ef3e5c9, trackUUID: 82acb0dd-735f-46be-8a80-dc4680487d3f, multihash: QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM, dstPath: /file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM
writing to db1...
Executing (c569084c-bc3f-4321-b798-12da4b549457): START TRANSACTION;
Executing (c569084c-bc3f-4321-b798-12da4b549457): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '2233f901-92b7-4415-8ab5-c5379ef3e5c9' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = '28b9873e-f55f-47c7-9570-6c7d35a9a38a.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '82acb0dd-735f-46be-8a80-dc4680487d3f' LIMIT 1;
Executing (c569084c-bc3f-4321-b798-12da4b549457): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_aeb80db3dfcc4afd99cf3ba12f6d82fc$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('2c7aaac2-7de6-40c6-96c2-d63305effcd5','2233f901-92b7-4415-8ab5-c5379ef3e5c9','82acb0dd-735f-46be-8a80-dc4680487d3f','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','28b9873e-f55f-47c7-9570-6c7d35a9a38a.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:34:20.762 +00:00','2020-03-05 17:34:20.762 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_aeb80db3dfcc4afd99cf3ba12f6d82fc$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (c569084c-bc3f-4321-b798-12da4b549457): COMMIT;
{ fileUUID: '2c7aaac2-7de6-40c6-96c2-d63305effcd5',
  cnodeUserUUID: '2233f901-92b7-4415-8ab5-c5379ef3e5c9',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: '28b9873e-f55f-47c7-9570-6c7d35a9a38a.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: '82acb0dd-735f-46be-8a80-dc4680487d3f',
  updatedAt: 2020-03-05T17:34:20.762Z,
  createdAt: 2020-03-05T17:34:20.762Z }
writing to db2...
Executing (b375d0ef-3110-4ccb-8a40-3917bc4081c9): START TRANSACTION;
Executing (b375d0ef-3110-4ccb-8a40-3917bc4081c9): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '2233f901-92b7-4415-8ab5-c5379ef3e5c9' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = '28b9873e-f55f-47c7-9570-6c7d35a9a38a.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '82acb0dd-735f-46be-8a80-dc4680487d3f' LIMIT 1;
Executing (b375d0ef-3110-4ccb-8a40-3917bc4081c9): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_3175453e2095406594f5eb68d0bd92b1$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('23c8d253-3276-4219-8cf7-5ffa72d55184','2233f901-92b7-4415-8ab5-c5379ef3e5c9','82acb0dd-735f-46be-8a80-dc4680487d3f','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','28b9873e-f55f-47c7-9570-6c7d35a9a38a.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:34:21.158 +00:00','2020-03-05 17:34:21.158 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_3175453e2095406594f5eb68d0bd92b1$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (b375d0ef-3110-4ccb-8a40-3917bc4081c9): COMMIT;
{ fileUUID: '23c8d253-3276-4219-8cf7-5ffa72d55184',
  cnodeUserUUID: '2233f901-92b7-4415-8ab5-c5379ef3e5c9',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: '28b9873e-f55f-47c7-9570-6c7d35a9a38a.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: '82acb0dd-735f-46be-8a80-dc4680487d3f',
  updatedAt: 2020-03-05T17:34:21.158Z,
  createdAt: 2020-03-05T17:34:21.158Z }
writing to db3...
Executing (1d9a0ad8-af19-4888-acaf-70298d88b8f9): START TRANSACTION;
Executing (1d9a0ad8-af19-4888-acaf-70298d88b8f9): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '2233f901-92b7-4415-8ab5-c5379ef3e5c9' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = '28b9873e-f55f-47c7-9570-6c7d35a9a38a.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '82acb0dd-735f-46be-8a80-dc4680487d3f' LIMIT 1;
Executing (1d9a0ad8-af19-4888-acaf-70298d88b8f9): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_8211a5528010454e8b06c30941fc39d9$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('3b3800bc-9fe7-4fb6-94f5-433473b7ca43','2233f901-92b7-4415-8ab5-c5379ef3e5c9','82acb0dd-735f-46be-8a80-dc4680487d3f','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','28b9873e-f55f-47c7-9570-6c7d35a9a38a.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:34:21.545 +00:00','2020-03-05 17:34:21.545 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_8211a5528010454e8b06c30941fc39d9$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (1d9a0ad8-af19-4888-acaf-70298d88b8f9): COMMIT;
{ fileUUID: '3b3800bc-9fe7-4fb6-94f5-433473b7ca43',
  cnodeUserUUID: '2233f901-92b7-4415-8ab5-c5379ef3e5c9',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: '28b9873e-f55f-47c7-9570-6c7d35a9a38a.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: '82acb0dd-735f-46be-8a80-dc4680487d3f',
  updatedAt: 2020-03-05T17:34:21.545Z,
  createdAt: 2020-03-05T17:34:21.545Z }




PROCESSING ROW #134: sourcefile: ff00e7fc-3773-4ac0-b742-d983b4a08490.mp3, cnodeUserUUID: 1ab7fe3f-3475-4f0b-a501-1a1e3f217801, trackUUID: e499e509-26e5-4ebb-bf64-c36f6751f38f, multihash: QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM, dstPath: /file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM
writing to db1...
Executing (218ac97d-a250-482a-b921-81e1dd49b8f6): START TRANSACTION;
Executing (218ac97d-a250-482a-b921-81e1dd49b8f6): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '1ab7fe3f-3475-4f0b-a501-1a1e3f217801' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = 'ff00e7fc-3773-4ac0-b742-d983b4a08490.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = 'e499e509-26e5-4ebb-bf64-c36f6751f38f' LIMIT 1;
Executing (218ac97d-a250-482a-b921-81e1dd49b8f6): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_30e907bfd4fe430f8d54cf11604a6366$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('0f9e496f-3a4b-475c-82a2-4b61d9b2957e','1ab7fe3f-3475-4f0b-a501-1a1e3f217801','e499e509-26e5-4ebb-bf64-c36f6751f38f','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','ff00e7fc-3773-4ac0-b742-d983b4a08490.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:34:21.934 +00:00','2020-03-05 17:34:21.934 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_30e907bfd4fe430f8d54cf11604a6366$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (218ac97d-a250-482a-b921-81e1dd49b8f6): COMMIT;
{ fileUUID: '0f9e496f-3a4b-475c-82a2-4b61d9b2957e',
  cnodeUserUUID: '1ab7fe3f-3475-4f0b-a501-1a1e3f217801',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: 'ff00e7fc-3773-4ac0-b742-d983b4a08490.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: 'e499e509-26e5-4ebb-bf64-c36f6751f38f',
  updatedAt: 2020-03-05T17:34:21.934Z,
  createdAt: 2020-03-05T17:34:21.934Z }
writing to db2...
Executing (f57aa743-3e4e-41a1-8ad1-be28d7726f61): START TRANSACTION;
Executing (f57aa743-3e4e-41a1-8ad1-be28d7726f61): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '1ab7fe3f-3475-4f0b-a501-1a1e3f217801' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = 'ff00e7fc-3773-4ac0-b742-d983b4a08490.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = 'e499e509-26e5-4ebb-bf64-c36f6751f38f' LIMIT 1;
Executing (f57aa743-3e4e-41a1-8ad1-be28d7726f61): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_57142530ae9f479bad69e0303f362f23$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('95ee64af-e6ec-46db-aa6a-ae04f4c57e07','1ab7fe3f-3475-4f0b-a501-1a1e3f217801','e499e509-26e5-4ebb-bf64-c36f6751f38f','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','ff00e7fc-3773-4ac0-b742-d983b4a08490.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:34:22.317 +00:00','2020-03-05 17:34:22.317 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_57142530ae9f479bad69e0303f362f23$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (f57aa743-3e4e-41a1-8ad1-be28d7726f61): COMMIT;
{ fileUUID: '95ee64af-e6ec-46db-aa6a-ae04f4c57e07',
  cnodeUserUUID: '1ab7fe3f-3475-4f0b-a501-1a1e3f217801',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: 'ff00e7fc-3773-4ac0-b742-d983b4a08490.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: 'e499e509-26e5-4ebb-bf64-c36f6751f38f',
  updatedAt: 2020-03-05T17:34:22.317Z,
  createdAt: 2020-03-05T17:34:22.317Z }
writing to db3...
Executing (e68062fa-75e7-49d1-b96d-9649239d000b): START TRANSACTION;
Executing (e68062fa-75e7-49d1-b96d-9649239d000b): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '1ab7fe3f-3475-4f0b-a501-1a1e3f217801' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = 'ff00e7fc-3773-4ac0-b742-d983b4a08490.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = 'e499e509-26e5-4ebb-bf64-c36f6751f38f' LIMIT 1;
Executing (e68062fa-75e7-49d1-b96d-9649239d000b): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_1fe58e4505fb45aca1da6af93fdfbfe8$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('0c491be5-cc18-447d-b5f0-618f6f7afc10','1ab7fe3f-3475-4f0b-a501-1a1e3f217801','e499e509-26e5-4ebb-bf64-c36f6751f38f','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','ff00e7fc-3773-4ac0-b742-d983b4a08490.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:34:22.704 +00:00','2020-03-05 17:34:22.704 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_1fe58e4505fb45aca1da6af93fdfbfe8$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (e68062fa-75e7-49d1-b96d-9649239d000b): COMMIT;
{ fileUUID: '0c491be5-cc18-447d-b5f0-618f6f7afc10',
  cnodeUserUUID: '1ab7fe3f-3475-4f0b-a501-1a1e3f217801',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: 'ff00e7fc-3773-4ac0-b742-d983b4a08490.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: 'e499e509-26e5-4ebb-bf64-c36f6751f38f',
  updatedAt: 2020-03-05T17:34:22.704Z,
  createdAt: 2020-03-05T17:34:22.704Z }




PROCESSING ROW #135: sourcefile: d4fa9495-b92f-4b1b-9b30-698874aa9042.mp3, cnodeUserUUID: 35e9de74-a8fa-47c5-89e4-ae0c4a392c84, trackUUID: 7004f2b4-e0cc-409f-8d67-794dbeaedc37, multihash: QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM, dstPath: /file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM
writing to db1...
Executing (729b4d41-611d-4c07-8550-9a3020532dec): START TRANSACTION;
Executing (729b4d41-611d-4c07-8550-9a3020532dec): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '35e9de74-a8fa-47c5-89e4-ae0c4a392c84' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = 'd4fa9495-b92f-4b1b-9b30-698874aa9042.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '7004f2b4-e0cc-409f-8d67-794dbeaedc37' LIMIT 1;
Executing (729b4d41-611d-4c07-8550-9a3020532dec): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_95f9e61680724c748e56f96c97530b1e$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('a428ba4f-74c2-49a6-b17b-9db536788693','35e9de74-a8fa-47c5-89e4-ae0c4a392c84','7004f2b4-e0cc-409f-8d67-794dbeaedc37','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','d4fa9495-b92f-4b1b-9b30-698874aa9042.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:34:23.090 +00:00','2020-03-05 17:34:23.090 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_95f9e61680724c748e56f96c97530b1e$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (729b4d41-611d-4c07-8550-9a3020532dec): COMMIT;
{ fileUUID: 'a428ba4f-74c2-49a6-b17b-9db536788693',
  cnodeUserUUID: '35e9de74-a8fa-47c5-89e4-ae0c4a392c84',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: 'd4fa9495-b92f-4b1b-9b30-698874aa9042.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: '7004f2b4-e0cc-409f-8d67-794dbeaedc37',
  updatedAt: 2020-03-05T17:34:23.090Z,
  createdAt: 2020-03-05T17:34:23.090Z }
writing to db2...
Executing (db90288e-2543-4b54-9092-b7c1ca383807): START TRANSACTION;
Executing (db90288e-2543-4b54-9092-b7c1ca383807): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '35e9de74-a8fa-47c5-89e4-ae0c4a392c84' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = 'd4fa9495-b92f-4b1b-9b30-698874aa9042.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '7004f2b4-e0cc-409f-8d67-794dbeaedc37' LIMIT 1;
Executing (db90288e-2543-4b54-9092-b7c1ca383807): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_f62f80b71e9e416eb83af62ae1fac259$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('cb33c193-168c-4626-ba1b-e47c5544ffcc','35e9de74-a8fa-47c5-89e4-ae0c4a392c84','7004f2b4-e0cc-409f-8d67-794dbeaedc37','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','d4fa9495-b92f-4b1b-9b30-698874aa9042.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:34:23.475 +00:00','2020-03-05 17:34:23.475 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_f62f80b71e9e416eb83af62ae1fac259$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (db90288e-2543-4b54-9092-b7c1ca383807): COMMIT;
{ fileUUID: 'cb33c193-168c-4626-ba1b-e47c5544ffcc',
  cnodeUserUUID: '35e9de74-a8fa-47c5-89e4-ae0c4a392c84',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: 'd4fa9495-b92f-4b1b-9b30-698874aa9042.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: '7004f2b4-e0cc-409f-8d67-794dbeaedc37',
  updatedAt: 2020-03-05T17:34:23.475Z,
  createdAt: 2020-03-05T17:34:23.475Z }
writing to db3...
Executing (b0253e61-8d63-4a7b-839c-d4f0f2f41e2d): START TRANSACTION;
Executing (b0253e61-8d63-4a7b-839c-d4f0f2f41e2d): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '35e9de74-a8fa-47c5-89e4-ae0c4a392c84' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = 'd4fa9495-b92f-4b1b-9b30-698874aa9042.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '7004f2b4-e0cc-409f-8d67-794dbeaedc37' LIMIT 1;
Executing (b0253e61-8d63-4a7b-839c-d4f0f2f41e2d): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_988401f757534e4883688b2a72354a87$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('b4a3487f-5925-4301-828b-069a008d2317','35e9de74-a8fa-47c5-89e4-ae0c4a392c84','7004f2b4-e0cc-409f-8d67-794dbeaedc37','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','d4fa9495-b92f-4b1b-9b30-698874aa9042.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:34:23.861 +00:00','2020-03-05 17:34:23.861 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_988401f757534e4883688b2a72354a87$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (b0253e61-8d63-4a7b-839c-d4f0f2f41e2d): COMMIT;
{ fileUUID: 'b4a3487f-5925-4301-828b-069a008d2317',
  cnodeUserUUID: '35e9de74-a8fa-47c5-89e4-ae0c4a392c84',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: 'd4fa9495-b92f-4b1b-9b30-698874aa9042.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: '7004f2b4-e0cc-409f-8d67-794dbeaedc37',
  updatedAt: 2020-03-05T17:34:23.861Z,
  createdAt: 2020-03-05T17:34:23.861Z }




PROCESSING ROW #136: sourcefile: c00515cf-4010-424f-8938-cf097db4d0de.mp3, cnodeUserUUID: bc017d61-296f-456f-ab8c-c43c52bf44e8, trackUUID: 19b47ad3-f17a-4e94-8213-4ea659646254, multihash: QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM, dstPath: /file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM
writing to db1...
Executing (a77a1e97-5003-4bc7-8520-9a650b63653a): START TRANSACTION;
Executing (a77a1e97-5003-4bc7-8520-9a650b63653a): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = 'bc017d61-296f-456f-ab8c-c43c52bf44e8' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = 'c00515cf-4010-424f-8938-cf097db4d0de.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '19b47ad3-f17a-4e94-8213-4ea659646254' LIMIT 1;
Executing (a77a1e97-5003-4bc7-8520-9a650b63653a): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_38fb19ac34ce46ec94842c34679147d5$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('f3c28900-b171-4070-b91d-5de07e69abe2','bc017d61-296f-456f-ab8c-c43c52bf44e8','19b47ad3-f17a-4e94-8213-4ea659646254','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','c00515cf-4010-424f-8938-cf097db4d0de.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:34:24.252 +00:00','2020-03-05 17:34:24.252 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_38fb19ac34ce46ec94842c34679147d5$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (a77a1e97-5003-4bc7-8520-9a650b63653a): COMMIT;
{ fileUUID: 'f3c28900-b171-4070-b91d-5de07e69abe2',
  cnodeUserUUID: 'bc017d61-296f-456f-ab8c-c43c52bf44e8',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: 'c00515cf-4010-424f-8938-cf097db4d0de.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: '19b47ad3-f17a-4e94-8213-4ea659646254',
  updatedAt: 2020-03-05T17:34:24.252Z,
  createdAt: 2020-03-05T17:34:24.252Z }
writing to db2...
Executing (70e45d4f-6b6a-4280-8838-08ca1dd743e1): START TRANSACTION;
Executing (70e45d4f-6b6a-4280-8838-08ca1dd743e1): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = 'bc017d61-296f-456f-ab8c-c43c52bf44e8' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = 'c00515cf-4010-424f-8938-cf097db4d0de.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '19b47ad3-f17a-4e94-8213-4ea659646254' LIMIT 1;
Executing (70e45d4f-6b6a-4280-8838-08ca1dd743e1): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_1d921460d1064fcca815760dfd9aa33b$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('426d4154-eb2a-4ba7-8d8f-71d2f6d1a22c','bc017d61-296f-456f-ab8c-c43c52bf44e8','19b47ad3-f17a-4e94-8213-4ea659646254','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','c00515cf-4010-424f-8938-cf097db4d0de.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:34:24.648 +00:00','2020-03-05 17:34:24.648 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_1d921460d1064fcca815760dfd9aa33b$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (70e45d4f-6b6a-4280-8838-08ca1dd743e1): COMMIT;
{ fileUUID: '426d4154-eb2a-4ba7-8d8f-71d2f6d1a22c',
  cnodeUserUUID: 'bc017d61-296f-456f-ab8c-c43c52bf44e8',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: 'c00515cf-4010-424f-8938-cf097db4d0de.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: '19b47ad3-f17a-4e94-8213-4ea659646254',
  updatedAt: 2020-03-05T17:34:24.648Z,
  createdAt: 2020-03-05T17:34:24.648Z }
writing to db3...
Executing (46e289c3-1d48-4233-b887-c43091a04cf5): START TRANSACTION;
Executing (46e289c3-1d48-4233-b887-c43091a04cf5): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = 'bc017d61-296f-456f-ab8c-c43c52bf44e8' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = 'c00515cf-4010-424f-8938-cf097db4d0de.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '19b47ad3-f17a-4e94-8213-4ea659646254' LIMIT 1;
Executing (46e289c3-1d48-4233-b887-c43091a04cf5): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_71873497a06b45f19bca12e531b2419e$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('557d7708-9552-4ada-bd3f-c3f467297d27','bc017d61-296f-456f-ab8c-c43c52bf44e8','19b47ad3-f17a-4e94-8213-4ea659646254','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','c00515cf-4010-424f-8938-cf097db4d0de.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:34:25.045 +00:00','2020-03-05 17:34:25.045 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_71873497a06b45f19bca12e531b2419e$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (46e289c3-1d48-4233-b887-c43091a04cf5): COMMIT;
{ fileUUID: '557d7708-9552-4ada-bd3f-c3f467297d27',
  cnodeUserUUID: 'bc017d61-296f-456f-ab8c-c43c52bf44e8',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: 'c00515cf-4010-424f-8938-cf097db4d0de.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: '19b47ad3-f17a-4e94-8213-4ea659646254',
  updatedAt: 2020-03-05T17:34:25.045Z,
  createdAt: 2020-03-05T17:34:25.045Z }




PROCESSING ROW #137: sourcefile: 465c1aca-3ac0-42f9-847b-c09e3dd1db0c.mp3, cnodeUserUUID: 150144d2-2739-400c-bb1d-a7116901f952, trackUUID: da7bbf26-11a0-47fe-87a7-a77881e7b46c, multihash: QmPT5EZm5qxsZsH1To8Lkp5YCh1ycbb3w7BU95q1owDMJh, dstPath: /file_storage/QmPT5EZm5qxsZsH1To8Lkp5YCh1ycbb3w7BU95q1owDMJh
writing to db1...
Executing (4b372abc-a933-4e80-a58b-c57d20634cf0): START TRANSACTION;
Executing (4b372abc-a933-4e80-a58b-c57d20634cf0): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '150144d2-2739-400c-bb1d-a7116901f952' AND "File"."multihash" = 'QmPT5EZm5qxsZsH1To8Lkp5YCh1ycbb3w7BU95q1owDMJh' AND "File"."sourceFile" = '465c1aca-3ac0-42f9-847b-c09e3dd1db0c.mp3' AND "File"."storagePath" = '/file_storage/QmPT5EZm5qxsZsH1To8Lkp5YCh1ycbb3w7BU95q1owDMJh' AND "File"."type" = 'copy320' AND "File"."trackUUID" = 'da7bbf26-11a0-47fe-87a7-a77881e7b46c' LIMIT 1;
Executing (4b372abc-a933-4e80-a58b-c57d20634cf0): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_6506dd2d087646a1b74b68441dd12c28$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('883ae05a-590c-44c8-90a2-eb048a080999','150144d2-2739-400c-bb1d-a7116901f952','da7bbf26-11a0-47fe-87a7-a77881e7b46c','QmPT5EZm5qxsZsH1To8Lkp5YCh1ycbb3w7BU95q1owDMJh','465c1aca-3ac0-42f9-847b-c09e3dd1db0c.mp3','/file_storage/QmPT5EZm5qxsZsH1To8Lkp5YCh1ycbb3w7BU95q1owDMJh','copy320','2020-03-05 17:34:25.445 +00:00','2020-03-05 17:34:25.445 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_6506dd2d087646a1b74b68441dd12c28$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (4b372abc-a933-4e80-a58b-c57d20634cf0): COMMIT;
{ fileUUID: '883ae05a-590c-44c8-90a2-eb048a080999',
  cnodeUserUUID: '150144d2-2739-400c-bb1d-a7116901f952',
  multihash: 'QmPT5EZm5qxsZsH1To8Lkp5YCh1ycbb3w7BU95q1owDMJh',
  sourceFile: '465c1aca-3ac0-42f9-847b-c09e3dd1db0c.mp3',
  storagePath:
   '/file_storage/QmPT5EZm5qxsZsH1To8Lkp5YCh1ycbb3w7BU95q1owDMJh',
  type: 'copy320',
  trackUUID: 'da7bbf26-11a0-47fe-87a7-a77881e7b46c',
  updatedAt: 2020-03-05T17:34:25.445Z,
  createdAt: 2020-03-05T17:34:25.445Z }
writing to db2...
Executing (112a8887-471a-4d6a-802c-71c4394a67b5): START TRANSACTION;
Executing (112a8887-471a-4d6a-802c-71c4394a67b5): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '150144d2-2739-400c-bb1d-a7116901f952' AND "File"."multihash" = 'QmPT5EZm5qxsZsH1To8Lkp5YCh1ycbb3w7BU95q1owDMJh' AND "File"."sourceFile" = '465c1aca-3ac0-42f9-847b-c09e3dd1db0c.mp3' AND "File"."storagePath" = '/file_storage/QmPT5EZm5qxsZsH1To8Lkp5YCh1ycbb3w7BU95q1owDMJh' AND "File"."type" = 'copy320' AND "File"."trackUUID" = 'da7bbf26-11a0-47fe-87a7-a77881e7b46c' LIMIT 1;
Executing (112a8887-471a-4d6a-802c-71c4394a67b5): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_6697f6eb07ac46e4a3988e14e3fa9ff7$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('63644e46-14cb-41d5-9281-7c2f1de6f251','150144d2-2739-400c-bb1d-a7116901f952','da7bbf26-11a0-47fe-87a7-a77881e7b46c','QmPT5EZm5qxsZsH1To8Lkp5YCh1ycbb3w7BU95q1owDMJh','465c1aca-3ac0-42f9-847b-c09e3dd1db0c.mp3','/file_storage/QmPT5EZm5qxsZsH1To8Lkp5YCh1ycbb3w7BU95q1owDMJh','copy320','2020-03-05 17:34:25.840 +00:00','2020-03-05 17:34:25.840 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_6697f6eb07ac46e4a3988e14e3fa9ff7$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (112a8887-471a-4d6a-802c-71c4394a67b5): COMMIT;
{ fileUUID: '63644e46-14cb-41d5-9281-7c2f1de6f251',
  cnodeUserUUID: '150144d2-2739-400c-bb1d-a7116901f952',
  multihash: 'QmPT5EZm5qxsZsH1To8Lkp5YCh1ycbb3w7BU95q1owDMJh',
  sourceFile: '465c1aca-3ac0-42f9-847b-c09e3dd1db0c.mp3',
  storagePath:
   '/file_storage/QmPT5EZm5qxsZsH1To8Lkp5YCh1ycbb3w7BU95q1owDMJh',
  type: 'copy320',
  trackUUID: 'da7bbf26-11a0-47fe-87a7-a77881e7b46c',
  updatedAt: 2020-03-05T17:34:25.840Z,
  createdAt: 2020-03-05T17:34:25.840Z }
writing to db3...
Executing (0821b7bc-eef5-456c-ad9d-fbe17724b7d3): START TRANSACTION;
Executing (0821b7bc-eef5-456c-ad9d-fbe17724b7d3): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '150144d2-2739-400c-bb1d-a7116901f952' AND "File"."multihash" = 'QmPT5EZm5qxsZsH1To8Lkp5YCh1ycbb3w7BU95q1owDMJh' AND "File"."sourceFile" = '465c1aca-3ac0-42f9-847b-c09e3dd1db0c.mp3' AND "File"."storagePath" = '/file_storage/QmPT5EZm5qxsZsH1To8Lkp5YCh1ycbb3w7BU95q1owDMJh' AND "File"."type" = 'copy320' AND "File"."trackUUID" = 'da7bbf26-11a0-47fe-87a7-a77881e7b46c' LIMIT 1;
Executing (0821b7bc-eef5-456c-ad9d-fbe17724b7d3): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_3701c8406caa436899114c415ccd6496$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('2c35c4ae-c9fb-401a-a8b8-2b66a3704ef2','150144d2-2739-400c-bb1d-a7116901f952','da7bbf26-11a0-47fe-87a7-a77881e7b46c','QmPT5EZm5qxsZsH1To8Lkp5YCh1ycbb3w7BU95q1owDMJh','465c1aca-3ac0-42f9-847b-c09e3dd1db0c.mp3','/file_storage/QmPT5EZm5qxsZsH1To8Lkp5YCh1ycbb3w7BU95q1owDMJh','copy320','2020-03-05 17:34:26.233 +00:00','2020-03-05 17:34:26.233 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_3701c8406caa436899114c415ccd6496$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (0821b7bc-eef5-456c-ad9d-fbe17724b7d3): COMMIT;
{ fileUUID: '2c35c4ae-c9fb-401a-a8b8-2b66a3704ef2',
  cnodeUserUUID: '150144d2-2739-400c-bb1d-a7116901f952',
  multihash: 'QmPT5EZm5qxsZsH1To8Lkp5YCh1ycbb3w7BU95q1owDMJh',
  sourceFile: '465c1aca-3ac0-42f9-847b-c09e3dd1db0c.mp3',
  storagePath:
   '/file_storage/QmPT5EZm5qxsZsH1To8Lkp5YCh1ycbb3w7BU95q1owDMJh',
  type: 'copy320',
  trackUUID: 'da7bbf26-11a0-47fe-87a7-a77881e7b46c',
  updatedAt: 2020-03-05T17:34:26.233Z,
  createdAt: 2020-03-05T17:34:26.233Z }




PROCESSING ROW #138: sourcefile: 1b7fbec7-a0e7-41f9-9bf6-404b28542aee.mp3, cnodeUserUUID: d1d7b33d-f60b-411a-90e5-20ebee2d0911, trackUUID: 0fffa2ac-b4fb-4c96-909b-e317504102ca, multihash: QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM, dstPath: /file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM
writing to db1...
Executing (59e8ad65-aace-4cf6-b293-c767d8f24285): START TRANSACTION;
Executing (59e8ad65-aace-4cf6-b293-c767d8f24285): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = 'd1d7b33d-f60b-411a-90e5-20ebee2d0911' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = '1b7fbec7-a0e7-41f9-9bf6-404b28542aee.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '0fffa2ac-b4fb-4c96-909b-e317504102ca' LIMIT 1;
Executing (59e8ad65-aace-4cf6-b293-c767d8f24285): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_0ffeac5025dc468fb02fb3055e2f8397$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('cd3145e8-da84-48a7-a2d9-ebc6fe846163','d1d7b33d-f60b-411a-90e5-20ebee2d0911','0fffa2ac-b4fb-4c96-909b-e317504102ca','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','1b7fbec7-a0e7-41f9-9bf6-404b28542aee.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:34:26.630 +00:00','2020-03-05 17:34:26.630 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_0ffeac5025dc468fb02fb3055e2f8397$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (59e8ad65-aace-4cf6-b293-c767d8f24285): COMMIT;
{ fileUUID: 'cd3145e8-da84-48a7-a2d9-ebc6fe846163',
  cnodeUserUUID: 'd1d7b33d-f60b-411a-90e5-20ebee2d0911',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: '1b7fbec7-a0e7-41f9-9bf6-404b28542aee.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: '0fffa2ac-b4fb-4c96-909b-e317504102ca',
  updatedAt: 2020-03-05T17:34:26.630Z,
  createdAt: 2020-03-05T17:34:26.630Z }
writing to db2...
Executing (6fd2a6c2-1b9a-4de7-b57d-53989c728f2f): START TRANSACTION;
Executing (6fd2a6c2-1b9a-4de7-b57d-53989c728f2f): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = 'd1d7b33d-f60b-411a-90e5-20ebee2d0911' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = '1b7fbec7-a0e7-41f9-9bf6-404b28542aee.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '0fffa2ac-b4fb-4c96-909b-e317504102ca' LIMIT 1;
Executing (6fd2a6c2-1b9a-4de7-b57d-53989c728f2f): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_98e5705d72a24b998917fa7db0edbea4$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('ada54d43-0b6d-41f8-8476-24079191ca9f','d1d7b33d-f60b-411a-90e5-20ebee2d0911','0fffa2ac-b4fb-4c96-909b-e317504102ca','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','1b7fbec7-a0e7-41f9-9bf6-404b28542aee.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:34:27.039 +00:00','2020-03-05 17:34:27.039 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_98e5705d72a24b998917fa7db0edbea4$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (6fd2a6c2-1b9a-4de7-b57d-53989c728f2f): COMMIT;
{ fileUUID: 'ada54d43-0b6d-41f8-8476-24079191ca9f',
  cnodeUserUUID: 'd1d7b33d-f60b-411a-90e5-20ebee2d0911',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: '1b7fbec7-a0e7-41f9-9bf6-404b28542aee.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: '0fffa2ac-b4fb-4c96-909b-e317504102ca',
  updatedAt: 2020-03-05T17:34:27.039Z,
  createdAt: 2020-03-05T17:34:27.039Z }
writing to db3...
Executing (19d7a464-0cb3-4c37-b5ee-1eb19a18a6f9): START TRANSACTION;
Executing (19d7a464-0cb3-4c37-b5ee-1eb19a18a6f9): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = 'd1d7b33d-f60b-411a-90e5-20ebee2d0911' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = '1b7fbec7-a0e7-41f9-9bf6-404b28542aee.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '0fffa2ac-b4fb-4c96-909b-e317504102ca' LIMIT 1;
Executing (19d7a464-0cb3-4c37-b5ee-1eb19a18a6f9): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_d6f9d6c2032343cbbded77d70b440f74$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('72446add-ac86-4db2-b5b7-7d9005046543','d1d7b33d-f60b-411a-90e5-20ebee2d0911','0fffa2ac-b4fb-4c96-909b-e317504102ca','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','1b7fbec7-a0e7-41f9-9bf6-404b28542aee.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:34:27.436 +00:00','2020-03-05 17:34:27.436 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_d6f9d6c2032343cbbded77d70b440f74$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (19d7a464-0cb3-4c37-b5ee-1eb19a18a6f9): COMMIT;
{ fileUUID: '72446add-ac86-4db2-b5b7-7d9005046543',
  cnodeUserUUID: 'd1d7b33d-f60b-411a-90e5-20ebee2d0911',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: '1b7fbec7-a0e7-41f9-9bf6-404b28542aee.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: '0fffa2ac-b4fb-4c96-909b-e317504102ca',
  updatedAt: 2020-03-05T17:34:27.436Z,
  createdAt: 2020-03-05T17:34:27.436Z }




PROCESSING ROW #139: sourcefile: 12947ae7-d6ea-416c-a7e8-4811e281e0b5.mp3, cnodeUserUUID: a4027f97-248a-4a97-8f0a-2c893e767ca1, trackUUID: f24724b6-dd88-4534-ac1d-ac2add635098, multihash: QmQLrYxWsyByEU6EeojyZDDTWWujAnTzQhmGUc4tYqMhBU, dstPath: /file_storage/QmQLrYxWsyByEU6EeojyZDDTWWujAnTzQhmGUc4tYqMhBU
writing to db1...
Executing (a7c8e740-660b-4adc-aef4-532e80ea3e48): START TRANSACTION;
Executing (a7c8e740-660b-4adc-aef4-532e80ea3e48): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = 'a4027f97-248a-4a97-8f0a-2c893e767ca1' AND "File"."multihash" = 'QmQLrYxWsyByEU6EeojyZDDTWWujAnTzQhmGUc4tYqMhBU' AND "File"."sourceFile" = '12947ae7-d6ea-416c-a7e8-4811e281e0b5.mp3' AND "File"."storagePath" = '/file_storage/QmQLrYxWsyByEU6EeojyZDDTWWujAnTzQhmGUc4tYqMhBU' AND "File"."type" = 'copy320' AND "File"."trackUUID" = 'f24724b6-dd88-4534-ac1d-ac2add635098' LIMIT 1;
Executing (a7c8e740-660b-4adc-aef4-532e80ea3e48): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_eded3be40e5644869c7b7c6ec8ffe1ec$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('4e3c38cc-e19b-4b10-81d3-ffb884ab20b7','a4027f97-248a-4a97-8f0a-2c893e767ca1','f24724b6-dd88-4534-ac1d-ac2add635098','QmQLrYxWsyByEU6EeojyZDDTWWujAnTzQhmGUc4tYqMhBU','12947ae7-d6ea-416c-a7e8-4811e281e0b5.mp3','/file_storage/QmQLrYxWsyByEU6EeojyZDDTWWujAnTzQhmGUc4tYqMhBU','copy320','2020-03-05 17:34:27.848 +00:00','2020-03-05 17:34:27.848 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_eded3be40e5644869c7b7c6ec8ffe1ec$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (a7c8e740-660b-4adc-aef4-532e80ea3e48): COMMIT;
{ fileUUID: '4e3c38cc-e19b-4b10-81d3-ffb884ab20b7',
  cnodeUserUUID: 'a4027f97-248a-4a97-8f0a-2c893e767ca1',
  multihash: 'QmQLrYxWsyByEU6EeojyZDDTWWujAnTzQhmGUc4tYqMhBU',
  sourceFile: '12947ae7-d6ea-416c-a7e8-4811e281e0b5.mp3',
  storagePath:
   '/file_storage/QmQLrYxWsyByEU6EeojyZDDTWWujAnTzQhmGUc4tYqMhBU',
  type: 'copy320',
  trackUUID: 'f24724b6-dd88-4534-ac1d-ac2add635098',
  updatedAt: 2020-03-05T17:34:27.848Z,
  createdAt: 2020-03-05T17:34:27.848Z }
writing to db2...
Executing (5ac1921e-9fc1-47a8-aeec-87bb60379e06): START TRANSACTION;
Executing (5ac1921e-9fc1-47a8-aeec-87bb60379e06): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = 'a4027f97-248a-4a97-8f0a-2c893e767ca1' AND "File"."multihash" = 'QmQLrYxWsyByEU6EeojyZDDTWWujAnTzQhmGUc4tYqMhBU' AND "File"."sourceFile" = '12947ae7-d6ea-416c-a7e8-4811e281e0b5.mp3' AND "File"."storagePath" = '/file_storage/QmQLrYxWsyByEU6EeojyZDDTWWujAnTzQhmGUc4tYqMhBU' AND "File"."type" = 'copy320' AND "File"."trackUUID" = 'f24724b6-dd88-4534-ac1d-ac2add635098' LIMIT 1;
Executing (5ac1921e-9fc1-47a8-aeec-87bb60379e06): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_35e4a06b376046669918831216f4ed11$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('51ffd978-3327-4c10-82ec-748f3420b37f','a4027f97-248a-4a97-8f0a-2c893e767ca1','f24724b6-dd88-4534-ac1d-ac2add635098','QmQLrYxWsyByEU6EeojyZDDTWWujAnTzQhmGUc4tYqMhBU','12947ae7-d6ea-416c-a7e8-4811e281e0b5.mp3','/file_storage/QmQLrYxWsyByEU6EeojyZDDTWWujAnTzQhmGUc4tYqMhBU','copy320','2020-03-05 17:34:28.227 +00:00','2020-03-05 17:34:28.227 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_35e4a06b376046669918831216f4ed11$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (5ac1921e-9fc1-47a8-aeec-87bb60379e06): COMMIT;
{ fileUUID: '51ffd978-3327-4c10-82ec-748f3420b37f',
  cnodeUserUUID: 'a4027f97-248a-4a97-8f0a-2c893e767ca1',
  multihash: 'QmQLrYxWsyByEU6EeojyZDDTWWujAnTzQhmGUc4tYqMhBU',
  sourceFile: '12947ae7-d6ea-416c-a7e8-4811e281e0b5.mp3',
  storagePath:
   '/file_storage/QmQLrYxWsyByEU6EeojyZDDTWWujAnTzQhmGUc4tYqMhBU',
  type: 'copy320',
  trackUUID: 'f24724b6-dd88-4534-ac1d-ac2add635098',
  updatedAt: 2020-03-05T17:34:28.227Z,
  createdAt: 2020-03-05T17:34:28.227Z }
writing to db3...
Executing (5ebafe72-7145-4f8a-b11a-6e0a7a274fdb): START TRANSACTION;
Executing (5ebafe72-7145-4f8a-b11a-6e0a7a274fdb): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = 'a4027f97-248a-4a97-8f0a-2c893e767ca1' AND "File"."multihash" = 'QmQLrYxWsyByEU6EeojyZDDTWWujAnTzQhmGUc4tYqMhBU' AND "File"."sourceFile" = '12947ae7-d6ea-416c-a7e8-4811e281e0b5.mp3' AND "File"."storagePath" = '/file_storage/QmQLrYxWsyByEU6EeojyZDDTWWujAnTzQhmGUc4tYqMhBU' AND "File"."type" = 'copy320' AND "File"."trackUUID" = 'f24724b6-dd88-4534-ac1d-ac2add635098' LIMIT 1;
Executing (5ebafe72-7145-4f8a-b11a-6e0a7a274fdb): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_1a3e02e23a494c028ede19616ded03ad$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('1d94a273-6441-4f94-b230-92d256a67524','a4027f97-248a-4a97-8f0a-2c893e767ca1','f24724b6-dd88-4534-ac1d-ac2add635098','QmQLrYxWsyByEU6EeojyZDDTWWujAnTzQhmGUc4tYqMhBU','12947ae7-d6ea-416c-a7e8-4811e281e0b5.mp3','/file_storage/QmQLrYxWsyByEU6EeojyZDDTWWujAnTzQhmGUc4tYqMhBU','copy320','2020-03-05 17:34:28.624 +00:00','2020-03-05 17:34:28.624 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_1a3e02e23a494c028ede19616ded03ad$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (5ebafe72-7145-4f8a-b11a-6e0a7a274fdb): COMMIT;
{ fileUUID: '1d94a273-6441-4f94-b230-92d256a67524',
  cnodeUserUUID: 'a4027f97-248a-4a97-8f0a-2c893e767ca1',
  multihash: 'QmQLrYxWsyByEU6EeojyZDDTWWujAnTzQhmGUc4tYqMhBU',
  sourceFile: '12947ae7-d6ea-416c-a7e8-4811e281e0b5.mp3',
  storagePath:
   '/file_storage/QmQLrYxWsyByEU6EeojyZDDTWWujAnTzQhmGUc4tYqMhBU',
  type: 'copy320',
  trackUUID: 'f24724b6-dd88-4534-ac1d-ac2add635098',
  updatedAt: 2020-03-05T17:34:28.624Z,
  createdAt: 2020-03-05T17:34:28.624Z }




PROCESSING ROW #140: sourcefile: 9f7b1817-364a-4cd7-b90d-6dfc3b5dc1eb.mp3, cnodeUserUUID: 1881f62d-1ce5-4474-a305-85b65526d989, trackUUID: 68583a47-7cfb-4829-b1be-e474c9fbdbdd, multihash: QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM, dstPath: /file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM
writing to db1...
Executing (9aeb2b38-01e4-4bfb-92ea-dbb4b559cf8e): START TRANSACTION;
Executing (9aeb2b38-01e4-4bfb-92ea-dbb4b559cf8e): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '1881f62d-1ce5-4474-a305-85b65526d989' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = '9f7b1817-364a-4cd7-b90d-6dfc3b5dc1eb.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '68583a47-7cfb-4829-b1be-e474c9fbdbdd' LIMIT 1;
Executing (9aeb2b38-01e4-4bfb-92ea-dbb4b559cf8e): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_b7fbc38ea05c44d6a4573b83715e2e77$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('405c723d-49d1-4628-a71d-4af7faa7329c','1881f62d-1ce5-4474-a305-85b65526d989','68583a47-7cfb-4829-b1be-e474c9fbdbdd','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','9f7b1817-364a-4cd7-b90d-6dfc3b5dc1eb.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:34:29.012 +00:00','2020-03-05 17:34:29.012 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_b7fbc38ea05c44d6a4573b83715e2e77$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (9aeb2b38-01e4-4bfb-92ea-dbb4b559cf8e): COMMIT;
{ fileUUID: '405c723d-49d1-4628-a71d-4af7faa7329c',
  cnodeUserUUID: '1881f62d-1ce5-4474-a305-85b65526d989',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: '9f7b1817-364a-4cd7-b90d-6dfc3b5dc1eb.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: '68583a47-7cfb-4829-b1be-e474c9fbdbdd',
  updatedAt: 2020-03-05T17:34:29.012Z,
  createdAt: 2020-03-05T17:34:29.012Z }
writing to db2...
Executing (433dcede-b30d-440a-9a20-8e17d3e4a870): START TRANSACTION;
Executing (433dcede-b30d-440a-9a20-8e17d3e4a870): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '1881f62d-1ce5-4474-a305-85b65526d989' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = '9f7b1817-364a-4cd7-b90d-6dfc3b5dc1eb.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '68583a47-7cfb-4829-b1be-e474c9fbdbdd' LIMIT 1;
Executing (433dcede-b30d-440a-9a20-8e17d3e4a870): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_999f44888eea4da68d3e79564ea36a06$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('cbbe981a-54af-4328-a640-d50a56d0d7e5','1881f62d-1ce5-4474-a305-85b65526d989','68583a47-7cfb-4829-b1be-e474c9fbdbdd','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','9f7b1817-364a-4cd7-b90d-6dfc3b5dc1eb.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:34:29.395 +00:00','2020-03-05 17:34:29.395 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_999f44888eea4da68d3e79564ea36a06$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (433dcede-b30d-440a-9a20-8e17d3e4a870): COMMIT;
{ fileUUID: 'cbbe981a-54af-4328-a640-d50a56d0d7e5',
  cnodeUserUUID: '1881f62d-1ce5-4474-a305-85b65526d989',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: '9f7b1817-364a-4cd7-b90d-6dfc3b5dc1eb.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: '68583a47-7cfb-4829-b1be-e474c9fbdbdd',
  updatedAt: 2020-03-05T17:34:29.395Z,
  createdAt: 2020-03-05T17:34:29.395Z }
writing to db3...
Executing (55d4c8e8-6f99-4444-b0f0-881464f22593): START TRANSACTION;
Executing (55d4c8e8-6f99-4444-b0f0-881464f22593): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '1881f62d-1ce5-4474-a305-85b65526d989' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = '9f7b1817-364a-4cd7-b90d-6dfc3b5dc1eb.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '68583a47-7cfb-4829-b1be-e474c9fbdbdd' LIMIT 1;
Executing (55d4c8e8-6f99-4444-b0f0-881464f22593): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_c71e8218ce294c19bae8959a2e89d40b$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('ed814afc-963b-439e-b941-5c57795cf447','1881f62d-1ce5-4474-a305-85b65526d989','68583a47-7cfb-4829-b1be-e474c9fbdbdd','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','9f7b1817-364a-4cd7-b90d-6dfc3b5dc1eb.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:34:29.802 +00:00','2020-03-05 17:34:29.802 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_c71e8218ce294c19bae8959a2e89d40b$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (55d4c8e8-6f99-4444-b0f0-881464f22593): COMMIT;
{ fileUUID: 'ed814afc-963b-439e-b941-5c57795cf447',
  cnodeUserUUID: '1881f62d-1ce5-4474-a305-85b65526d989',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: '9f7b1817-364a-4cd7-b90d-6dfc3b5dc1eb.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: '68583a47-7cfb-4829-b1be-e474c9fbdbdd',
  updatedAt: 2020-03-05T17:34:29.802Z,
  createdAt: 2020-03-05T17:34:29.802Z }




PROCESSING ROW #141: sourcefile: 50d498a0-e22a-438f-abc4-64c45c0cde83.mp3, cnodeUserUUID: 29cadb77-f1ee-4a20-af37-f72fd5fa8a87, trackUUID: e3265d3d-b1d7-48c9-aed3-a0bb8599c3ba, multihash: QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM, dstPath: /file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM
writing to db1...
Executing (0632e6e3-2aca-448b-afdf-2b65bac3f248): START TRANSACTION;
Executing (0632e6e3-2aca-448b-afdf-2b65bac3f248): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '29cadb77-f1ee-4a20-af37-f72fd5fa8a87' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = '50d498a0-e22a-438f-abc4-64c45c0cde83.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = 'e3265d3d-b1d7-48c9-aed3-a0bb8599c3ba' LIMIT 1;
Executing (0632e6e3-2aca-448b-afdf-2b65bac3f248): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_d9e1bc428364473c9a58b0833f7e6c5e$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('e62df170-a819-4954-adc1-de581e4e6a62','29cadb77-f1ee-4a20-af37-f72fd5fa8a87','e3265d3d-b1d7-48c9-aed3-a0bb8599c3ba','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','50d498a0-e22a-438f-abc4-64c45c0cde83.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:34:30.194 +00:00','2020-03-05 17:34:30.194 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_d9e1bc428364473c9a58b0833f7e6c5e$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (0632e6e3-2aca-448b-afdf-2b65bac3f248): COMMIT;
{ fileUUID: 'e62df170-a819-4954-adc1-de581e4e6a62',
  cnodeUserUUID: '29cadb77-f1ee-4a20-af37-f72fd5fa8a87',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: '50d498a0-e22a-438f-abc4-64c45c0cde83.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: 'e3265d3d-b1d7-48c9-aed3-a0bb8599c3ba',
  updatedAt: 2020-03-05T17:34:30.194Z,
  createdAt: 2020-03-05T17:34:30.194Z }
writing to db2...
Executing (b75c6285-20c8-436c-ba86-f23feabcad51): START TRANSACTION;
Executing (b75c6285-20c8-436c-ba86-f23feabcad51): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '29cadb77-f1ee-4a20-af37-f72fd5fa8a87' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = '50d498a0-e22a-438f-abc4-64c45c0cde83.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = 'e3265d3d-b1d7-48c9-aed3-a0bb8599c3ba' LIMIT 1;
Executing (b75c6285-20c8-436c-ba86-f23feabcad51): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_ed3ebc50131f4e149231050f71655be5$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('9c8c10a9-cbb8-4a3c-8034-ea30fe30b3e1','29cadb77-f1ee-4a20-af37-f72fd5fa8a87','e3265d3d-b1d7-48c9-aed3-a0bb8599c3ba','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','50d498a0-e22a-438f-abc4-64c45c0cde83.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:34:30.574 +00:00','2020-03-05 17:34:30.574 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_ed3ebc50131f4e149231050f71655be5$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (b75c6285-20c8-436c-ba86-f23feabcad51): COMMIT;
{ fileUUID: '9c8c10a9-cbb8-4a3c-8034-ea30fe30b3e1',
  cnodeUserUUID: '29cadb77-f1ee-4a20-af37-f72fd5fa8a87',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: '50d498a0-e22a-438f-abc4-64c45c0cde83.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: 'e3265d3d-b1d7-48c9-aed3-a0bb8599c3ba',
  updatedAt: 2020-03-05T17:34:30.574Z,
  createdAt: 2020-03-05T17:34:30.574Z }
writing to db3...
Executing (8116dc46-7cef-42af-bdb9-095619ed7117): START TRANSACTION;
Executing (8116dc46-7cef-42af-bdb9-095619ed7117): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '29cadb77-f1ee-4a20-af37-f72fd5fa8a87' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = '50d498a0-e22a-438f-abc4-64c45c0cde83.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = 'e3265d3d-b1d7-48c9-aed3-a0bb8599c3ba' LIMIT 1;
Executing (8116dc46-7cef-42af-bdb9-095619ed7117): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_e03ddb913bb84c8cac3d0bdf8877f5b9$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('6e2d9506-970a-4bf7-a2f9-7da455fd27b1','29cadb77-f1ee-4a20-af37-f72fd5fa8a87','e3265d3d-b1d7-48c9-aed3-a0bb8599c3ba','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','50d498a0-e22a-438f-abc4-64c45c0cde83.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:34:30.954 +00:00','2020-03-05 17:34:30.954 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_e03ddb913bb84c8cac3d0bdf8877f5b9$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (8116dc46-7cef-42af-bdb9-095619ed7117): COMMIT;
{ fileUUID: '6e2d9506-970a-4bf7-a2f9-7da455fd27b1',
  cnodeUserUUID: '29cadb77-f1ee-4a20-af37-f72fd5fa8a87',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: '50d498a0-e22a-438f-abc4-64c45c0cde83.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: 'e3265d3d-b1d7-48c9-aed3-a0bb8599c3ba',
  updatedAt: 2020-03-05T17:34:30.954Z,
  createdAt: 2020-03-05T17:34:30.954Z }




PROCESSING ROW #142: sourcefile: 07eb3474-1978-4ec4-82fb-21966897e4a0.mp3, cnodeUserUUID: f4f4253e-b9ed-473b-8e9d-600b5a8fc37f, trackUUID: 82bdb792-c36c-45aa-a930-1b361ce909a9, multihash: QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM, dstPath: /file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM
writing to db1...
Executing (7e3e572c-e3c0-4f10-80b5-2879ff92c6c6): START TRANSACTION;
Executing (7e3e572c-e3c0-4f10-80b5-2879ff92c6c6): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = 'f4f4253e-b9ed-473b-8e9d-600b5a8fc37f' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = '07eb3474-1978-4ec4-82fb-21966897e4a0.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '82bdb792-c36c-45aa-a930-1b361ce909a9' LIMIT 1;
Executing (7e3e572c-e3c0-4f10-80b5-2879ff92c6c6): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_c6a1914c4e8447b2a1ab7010e66bd3e5$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('9da15f9a-642e-46de-a40d-ce6a61659979','f4f4253e-b9ed-473b-8e9d-600b5a8fc37f','82bdb792-c36c-45aa-a930-1b361ce909a9','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','07eb3474-1978-4ec4-82fb-21966897e4a0.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:34:31.345 +00:00','2020-03-05 17:34:31.345 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_c6a1914c4e8447b2a1ab7010e66bd3e5$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (7e3e572c-e3c0-4f10-80b5-2879ff92c6c6): COMMIT;
{ fileUUID: '9da15f9a-642e-46de-a40d-ce6a61659979',
  cnodeUserUUID: 'f4f4253e-b9ed-473b-8e9d-600b5a8fc37f',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: '07eb3474-1978-4ec4-82fb-21966897e4a0.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: '82bdb792-c36c-45aa-a930-1b361ce909a9',
  updatedAt: 2020-03-05T17:34:31.345Z,
  createdAt: 2020-03-05T17:34:31.345Z }
writing to db2...
Executing (92144eda-dced-436b-8ebc-f8fc6b2bf547): START TRANSACTION;
Executing (92144eda-dced-436b-8ebc-f8fc6b2bf547): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = 'f4f4253e-b9ed-473b-8e9d-600b5a8fc37f' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = '07eb3474-1978-4ec4-82fb-21966897e4a0.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '82bdb792-c36c-45aa-a930-1b361ce909a9' LIMIT 1;
Executing (92144eda-dced-436b-8ebc-f8fc6b2bf547): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_9414e941b37d426ebf56d4647ae66cf1$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('76d46894-a1bd-4cc4-9fa3-137eac8693d5','f4f4253e-b9ed-473b-8e9d-600b5a8fc37f','82bdb792-c36c-45aa-a930-1b361ce909a9','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','07eb3474-1978-4ec4-82fb-21966897e4a0.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:34:31.734 +00:00','2020-03-05 17:34:31.734 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_9414e941b37d426ebf56d4647ae66cf1$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (92144eda-dced-436b-8ebc-f8fc6b2bf547): COMMIT;
{ fileUUID: '76d46894-a1bd-4cc4-9fa3-137eac8693d5',
  cnodeUserUUID: 'f4f4253e-b9ed-473b-8e9d-600b5a8fc37f',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: '07eb3474-1978-4ec4-82fb-21966897e4a0.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: '82bdb792-c36c-45aa-a930-1b361ce909a9',
  updatedAt: 2020-03-05T17:34:31.734Z,
  createdAt: 2020-03-05T17:34:31.734Z }
writing to db3...
Executing (990a9eb0-e75d-485c-a138-79ddf5f4e518): START TRANSACTION;
Executing (990a9eb0-e75d-485c-a138-79ddf5f4e518): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = 'f4f4253e-b9ed-473b-8e9d-600b5a8fc37f' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = '07eb3474-1978-4ec4-82fb-21966897e4a0.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '82bdb792-c36c-45aa-a930-1b361ce909a9' LIMIT 1;
Executing (990a9eb0-e75d-485c-a138-79ddf5f4e518): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_be6a9896bad84ba08a971339c477b2fc$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('29a9dd15-ab35-4d92-966f-2ef6fba67b25','f4f4253e-b9ed-473b-8e9d-600b5a8fc37f','82bdb792-c36c-45aa-a930-1b361ce909a9','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','07eb3474-1978-4ec4-82fb-21966897e4a0.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:34:32.125 +00:00','2020-03-05 17:34:32.125 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_be6a9896bad84ba08a971339c477b2fc$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (990a9eb0-e75d-485c-a138-79ddf5f4e518): COMMIT;
{ fileUUID: '29a9dd15-ab35-4d92-966f-2ef6fba67b25',
  cnodeUserUUID: 'f4f4253e-b9ed-473b-8e9d-600b5a8fc37f',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: '07eb3474-1978-4ec4-82fb-21966897e4a0.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: '82bdb792-c36c-45aa-a930-1b361ce909a9',
  updatedAt: 2020-03-05T17:34:32.125Z,
  createdAt: 2020-03-05T17:34:32.125Z }




PROCESSING ROW #143: sourcefile: e81efe7a-3f3f-4102-859a-a26e83f6e394.mp3, cnodeUserUUID: f3768b2d-27c7-478e-baa9-2c1158299bba, trackUUID: 944d2860-fd32-4f0c-a26a-b9480669edd9, multihash: QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM, dstPath: /file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM
writing to db1...
Executing (41f47c9f-2869-4630-a177-4b0220cc91ec): START TRANSACTION;
Executing (41f47c9f-2869-4630-a177-4b0220cc91ec): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = 'f3768b2d-27c7-478e-baa9-2c1158299bba' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = 'e81efe7a-3f3f-4102-859a-a26e83f6e394.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '944d2860-fd32-4f0c-a26a-b9480669edd9' LIMIT 1;
Executing (41f47c9f-2869-4630-a177-4b0220cc91ec): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_1f315afd1a744a338deaa3b5d21209fd$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('bc0af30e-e0b4-4b9d-93a3-df2a36ca4143','f3768b2d-27c7-478e-baa9-2c1158299bba','944d2860-fd32-4f0c-a26a-b9480669edd9','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','e81efe7a-3f3f-4102-859a-a26e83f6e394.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:34:32.516 +00:00','2020-03-05 17:34:32.516 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_1f315afd1a744a338deaa3b5d21209fd$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (41f47c9f-2869-4630-a177-4b0220cc91ec): COMMIT;
{ fileUUID: 'bc0af30e-e0b4-4b9d-93a3-df2a36ca4143',
  cnodeUserUUID: 'f3768b2d-27c7-478e-baa9-2c1158299bba',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: 'e81efe7a-3f3f-4102-859a-a26e83f6e394.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: '944d2860-fd32-4f0c-a26a-b9480669edd9',
  updatedAt: 2020-03-05T17:34:32.516Z,
  createdAt: 2020-03-05T17:34:32.516Z }
writing to db2...
Executing (0a5fe24d-cb0f-4f61-a9ca-f73756638685): START TRANSACTION;
Executing (0a5fe24d-cb0f-4f61-a9ca-f73756638685): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = 'f3768b2d-27c7-478e-baa9-2c1158299bba' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = 'e81efe7a-3f3f-4102-859a-a26e83f6e394.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '944d2860-fd32-4f0c-a26a-b9480669edd9' LIMIT 1;
Executing (0a5fe24d-cb0f-4f61-a9ca-f73756638685): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_e70aeec94c7a42cdabfeda8843372a51$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('38cb6cce-ce16-434e-bc89-ddc9fb8b9b06','f3768b2d-27c7-478e-baa9-2c1158299bba','944d2860-fd32-4f0c-a26a-b9480669edd9','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','e81efe7a-3f3f-4102-859a-a26e83f6e394.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:34:32.920 +00:00','2020-03-05 17:34:32.920 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_e70aeec94c7a42cdabfeda8843372a51$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (0a5fe24d-cb0f-4f61-a9ca-f73756638685): COMMIT;
{ fileUUID: '38cb6cce-ce16-434e-bc89-ddc9fb8b9b06',
  cnodeUserUUID: 'f3768b2d-27c7-478e-baa9-2c1158299bba',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: 'e81efe7a-3f3f-4102-859a-a26e83f6e394.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: '944d2860-fd32-4f0c-a26a-b9480669edd9',
  updatedAt: 2020-03-05T17:34:32.920Z,
  createdAt: 2020-03-05T17:34:32.920Z }
writing to db3...
Executing (0027c2da-be01-4eb5-9b1a-05b7a6a95245): START TRANSACTION;
Executing (0027c2da-be01-4eb5-9b1a-05b7a6a95245): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = 'f3768b2d-27c7-478e-baa9-2c1158299bba' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = 'e81efe7a-3f3f-4102-859a-a26e83f6e394.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '944d2860-fd32-4f0c-a26a-b9480669edd9' LIMIT 1;
Executing (0027c2da-be01-4eb5-9b1a-05b7a6a95245): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_5ea12c63d6c44555914b9bbf163ae202$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('eb0f4b78-d394-4e46-8b6d-9ff3dac73169','f3768b2d-27c7-478e-baa9-2c1158299bba','944d2860-fd32-4f0c-a26a-b9480669edd9','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','e81efe7a-3f3f-4102-859a-a26e83f6e394.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:34:33.322 +00:00','2020-03-05 17:34:33.322 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_5ea12c63d6c44555914b9bbf163ae202$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (0027c2da-be01-4eb5-9b1a-05b7a6a95245): COMMIT;
{ fileUUID: 'eb0f4b78-d394-4e46-8b6d-9ff3dac73169',
  cnodeUserUUID: 'f3768b2d-27c7-478e-baa9-2c1158299bba',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: 'e81efe7a-3f3f-4102-859a-a26e83f6e394.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: '944d2860-fd32-4f0c-a26a-b9480669edd9',
  updatedAt: 2020-03-05T17:34:33.322Z,
  createdAt: 2020-03-05T17:34:33.322Z }




PROCESSING ROW #144: sourcefile: fa7d9e0e-1ae8-4d5e-8eff-a7f82d88e930.mp3, cnodeUserUUID: ab912eab-ea94-469d-bd82-b740d04f9642, trackUUID: 9d11fda0-ba7b-4a18-869a-3bc648d07826, multihash: QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM, dstPath: /file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM
writing to db1...
Executing (6702439e-7443-484c-96c4-bfd8342a509b): START TRANSACTION;
Executing (6702439e-7443-484c-96c4-bfd8342a509b): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = 'ab912eab-ea94-469d-bd82-b740d04f9642' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = 'fa7d9e0e-1ae8-4d5e-8eff-a7f82d88e930.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '9d11fda0-ba7b-4a18-869a-3bc648d07826' LIMIT 1;
Executing (6702439e-7443-484c-96c4-bfd8342a509b): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_7df55e64e91049d28ba84b30a79574f5$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('d10e548e-1c64-440b-9e95-04854e1bfd0f','ab912eab-ea94-469d-bd82-b740d04f9642','9d11fda0-ba7b-4a18-869a-3bc648d07826','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','fa7d9e0e-1ae8-4d5e-8eff-a7f82d88e930.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:34:33.728 +00:00','2020-03-05 17:34:33.728 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_7df55e64e91049d28ba84b30a79574f5$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (6702439e-7443-484c-96c4-bfd8342a509b): COMMIT;
{ fileUUID: 'd10e548e-1c64-440b-9e95-04854e1bfd0f',
  cnodeUserUUID: 'ab912eab-ea94-469d-bd82-b740d04f9642',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: 'fa7d9e0e-1ae8-4d5e-8eff-a7f82d88e930.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: '9d11fda0-ba7b-4a18-869a-3bc648d07826',
  updatedAt: 2020-03-05T17:34:33.728Z,
  createdAt: 2020-03-05T17:34:33.728Z }
writing to db2...
Executing (821294d9-029b-4769-b570-99d4a8faf724): START TRANSACTION;
Executing (821294d9-029b-4769-b570-99d4a8faf724): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = 'ab912eab-ea94-469d-bd82-b740d04f9642' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = 'fa7d9e0e-1ae8-4d5e-8eff-a7f82d88e930.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '9d11fda0-ba7b-4a18-869a-3bc648d07826' LIMIT 1;
Executing (821294d9-029b-4769-b570-99d4a8faf724): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_e003df6cb9c945559e065a2a0f4fa5ff$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('5e23284f-2889-4e16-a5de-a17653eda5d8','ab912eab-ea94-469d-bd82-b740d04f9642','9d11fda0-ba7b-4a18-869a-3bc648d07826','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','fa7d9e0e-1ae8-4d5e-8eff-a7f82d88e930.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:34:34.124 +00:00','2020-03-05 17:34:34.124 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_e003df6cb9c945559e065a2a0f4fa5ff$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (821294d9-029b-4769-b570-99d4a8faf724): COMMIT;
{ SequelizeForeignKeyConstraintError: insert or update on table "Files" violates foreign key constraint "Files_cnodeUserUUID_fkey"
    at Query.formatError (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/sequelize/lib/dialects/postgres/query.js:296:16)
    at query.catch.err (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/sequelize/lib/dialects/postgres/query.js:86:18)
    at tryCatcher (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/bluebird/js/release/util.js:16:23)
    at Promise._settlePromiseFromHandler (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/bluebird/js/release/promise.js:517:31)
    at Promise._settlePromise (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/bluebird/js/release/promise.js:574:18)
    at Promise._settlePromise0 (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/bluebird/js/release/promise.js:619:10)
    at Promise._settlePromises (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/bluebird/js/release/promise.js:695:18)
    at _drainQueueStep (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/bluebird/js/release/async.js:138:12)
    at _drainQueue (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/bluebird/js/release/async.js:131:9)
    at Async._drainQueues (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/bluebird/js/release/async.js:147:5)
    at Immediate.Async.drainQueues [as _onImmediate] (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/bluebird/js/release/async.js:17:14)
    at runCallback (timers.js:705:18)
    at tryOnImmediate (timers.js:676:5)
    at processImmediate (timers.js:658:5)
  name: 'SequelizeForeignKeyConstraintError',
  parent:
   { error: insert or update on table "Files" violates foreign key constraint "Files_cnodeUserUUID_fkey"
       at Connection.parseE (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/pg/lib/connection.js:604:11)
       at Connection.parseMessage (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/pg/lib/connection.js:401:19)
       at Socket.<anonymous> (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/pg/lib/connection.js:121:22)
       at Socket.emit (events.js:198:13)
       at addChunk (_stream_readable.js:288:12)
       at readableAddChunk (_stream_readable.js:269:11)
       at Socket.Readable.push (_stream_readable.js:224:10)
       at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)
     name: 'error',
     length: 881,
     severity: 'ERROR',
     code: '23503',
     detail:
      'Key (cnodeUserUUID)=(ab912eab-ea94-469d-bd82-b740d04f9642) is not present in table "CNodeUsers".',
     hint: undefined,
     position: undefined,
     internalPosition: undefined,
     internalQuery: undefined,
     where:
      'SQL statement "INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES (\'5e23284f-2889-4e16-a5de-a17653eda5d8\',\'ab912eab-ea94-469d-bd82-b740d04f9642\',\'9d11fda0-ba7b-4a18-869a-3bc648d07826\',\'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM\',\'fa7d9e0e-1ae8-4d5e-8eff-a7f82d88e930.mp3\',\'/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM\',\'copy320\',\'2020-03-05 17:34:34.124 +00:00\',\'2020-03-05 17:34:34.124 +00:00\') RETURNING *"\nPL/pgSQL function pg_temp_11.testfunc() line 1 at SQL statement',
     schema: 'public',
     table: 'Files',
     column: undefined,
     dataType: undefined,
     constraint: 'Files_cnodeUserUUID_fkey',
     file: 'ri_triggers.c',
     line: '3266',
     routine: 'ri_ReportViolation',
     sql:
      'CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_e003df6cb9c945559e065a2a0f4fa5ff$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES (\'5e23284f-2889-4e16-a5de-a17653eda5d8\',\'ab912eab-ea94-469d-bd82-b740d04f9642\',\'9d11fda0-ba7b-4a18-869a-3bc648d07826\',\'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM\',\'fa7d9e0e-1ae8-4d5e-8eff-a7f82d88e930.mp3\',\'/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM\',\'copy320\',\'2020-03-05 17:34:34.124 +00:00\',\'2020-03-05 17:34:34.124 +00:00\') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_e003df6cb9c945559e065a2a0f4fa5ff$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();' },
  original:
   { error: insert or update on table "Files" violates foreign key constraint "Files_cnodeUserUUID_fkey"
       at Connection.parseE (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/pg/lib/connection.js:604:11)
       at Connection.parseMessage (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/pg/lib/connection.js:401:19)
       at Socket.<anonymous> (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/pg/lib/connection.js:121:22)
       at Socket.emit (events.js:198:13)
       at addChunk (_stream_readable.js:288:12)
       at readableAddChunk (_stream_readable.js:269:11)
       at Socket.Readable.push (_stream_readable.js:224:10)
       at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)
     name: 'error',
     length: 881,
     severity: 'ERROR',
     code: '23503',
     detail:
      'Key (cnodeUserUUID)=(ab912eab-ea94-469d-bd82-b740d04f9642) is not present in table "CNodeUsers".',
     hint: undefined,
     position: undefined,
     internalPosition: undefined,
     internalQuery: undefined,
     where:
      'SQL statement "INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES (\'5e23284f-2889-4e16-a5de-a17653eda5d8\',\'ab912eab-ea94-469d-bd82-b740d04f9642\',\'9d11fda0-ba7b-4a18-869a-3bc648d07826\',\'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM\',\'fa7d9e0e-1ae8-4d5e-8eff-a7f82d88e930.mp3\',\'/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM\',\'copy320\',\'2020-03-05 17:34:34.124 +00:00\',\'2020-03-05 17:34:34.124 +00:00\') RETURNING *"\nPL/pgSQL function pg_temp_11.testfunc() line 1 at SQL statement',
     schema: 'public',
     table: 'Files',
     column: undefined,
     dataType: undefined,
     constraint: 'Files_cnodeUserUUID_fkey',
     file: 'ri_triggers.c',
     line: '3266',
     routine: 'ri_ReportViolation',
     sql:
      'CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_e003df6cb9c945559e065a2a0f4fa5ff$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES (\'5e23284f-2889-4e16-a5de-a17653eda5d8\',\'ab912eab-ea94-469d-bd82-b740d04f9642\',\'9d11fda0-ba7b-4a18-869a-3bc648d07826\',\'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM\',\'fa7d9e0e-1ae8-4d5e-8eff-a7f82d88e930.mp3\',\'/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM\',\'copy320\',\'2020-03-05 17:34:34.124 +00:00\',\'2020-03-05 17:34:34.124 +00:00\') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_e003df6cb9c945559e065a2a0f4fa5ff$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();' },
  sql:
   'CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_e003df6cb9c945559e065a2a0f4fa5ff$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES (\'5e23284f-2889-4e16-a5de-a17653eda5d8\',\'ab912eab-ea94-469d-bd82-b740d04f9642\',\'9d11fda0-ba7b-4a18-869a-3bc648d07826\',\'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM\',\'fa7d9e0e-1ae8-4d5e-8eff-a7f82d88e930.mp3\',\'/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM\',\'copy320\',\'2020-03-05 17:34:34.124 +00:00\',\'2020-03-05 17:34:34.124 +00:00\') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_e003df6cb9c945559e065a2a0f4fa5ff$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();',
  fields: null,
  table: 'Files',
  value: undefined,
  index: 'Files_cnodeUserUUID_fkey',
  reltype: undefined }
writing to db3...
Executing (4413f27c-2018-4c7c-a493-e114d2fe28fa): START TRANSACTION;
Executing (4413f27c-2018-4c7c-a493-e114d2fe28fa): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = 'ab912eab-ea94-469d-bd82-b740d04f9642' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = 'fa7d9e0e-1ae8-4d5e-8eff-a7f82d88e930.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '9d11fda0-ba7b-4a18-869a-3bc648d07826' LIMIT 1;
Executing (4413f27c-2018-4c7c-a493-e114d2fe28fa): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_467d58707b1f4b7984f990b0166fb4b8$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('04e37460-09fc-4828-8cd0-4af459bedd48','ab912eab-ea94-469d-bd82-b740d04f9642','9d11fda0-ba7b-4a18-869a-3bc648d07826','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','fa7d9e0e-1ae8-4d5e-8eff-a7f82d88e930.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:34:34.518 +00:00','2020-03-05 17:34:34.518 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_467d58707b1f4b7984f990b0166fb4b8$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (4413f27c-2018-4c7c-a493-e114d2fe28fa): COMMIT;
{ fileUUID: '04e37460-09fc-4828-8cd0-4af459bedd48',
  cnodeUserUUID: 'ab912eab-ea94-469d-bd82-b740d04f9642',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: 'fa7d9e0e-1ae8-4d5e-8eff-a7f82d88e930.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: '9d11fda0-ba7b-4a18-869a-3bc648d07826',
  updatedAt: 2020-03-05T17:34:34.518Z,
  createdAt: 2020-03-05T17:34:34.518Z }




PROCESSING ROW #145: sourcefile: ad8e8207-04bd-4dba-b477-39a809d8c3a8.mp3, cnodeUserUUID: 716a261b-a708-4c4d-82be-a3aff588f5c4, trackUUID: 40f7db20-ac58-4ee8-a15b-ad0eb00f424e, multihash: QmcAD35vXY3h9iXGDF2sLTMTZ4QER63yKVoFrJQUpps6bq, dstPath: /file_storage/QmcAD35vXY3h9iXGDF2sLTMTZ4QER63yKVoFrJQUpps6bq
writing to db1...
Executing (f6c06cf0-bc97-45f1-b9a2-511f7fe547cb): START TRANSACTION;
Executing (f6c06cf0-bc97-45f1-b9a2-511f7fe547cb): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '716a261b-a708-4c4d-82be-a3aff588f5c4' AND "File"."multihash" = 'QmcAD35vXY3h9iXGDF2sLTMTZ4QER63yKVoFrJQUpps6bq' AND "File"."sourceFile" = 'ad8e8207-04bd-4dba-b477-39a809d8c3a8.mp3' AND "File"."storagePath" = '/file_storage/QmcAD35vXY3h9iXGDF2sLTMTZ4QER63yKVoFrJQUpps6bq' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '40f7db20-ac58-4ee8-a15b-ad0eb00f424e' LIMIT 1;
Executing (f6c06cf0-bc97-45f1-b9a2-511f7fe547cb): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_524eba77b2cb456280c5077068a5319d$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('6900f2c7-508d-4b97-b514-958493b5ce55','716a261b-a708-4c4d-82be-a3aff588f5c4','40f7db20-ac58-4ee8-a15b-ad0eb00f424e','QmcAD35vXY3h9iXGDF2sLTMTZ4QER63yKVoFrJQUpps6bq','ad8e8207-04bd-4dba-b477-39a809d8c3a8.mp3','/file_storage/QmcAD35vXY3h9iXGDF2sLTMTZ4QER63yKVoFrJQUpps6bq','copy320','2020-03-05 17:34:34.904 +00:00','2020-03-05 17:34:34.904 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_524eba77b2cb456280c5077068a5319d$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (f6c06cf0-bc97-45f1-b9a2-511f7fe547cb): COMMIT;
{ fileUUID: '6900f2c7-508d-4b97-b514-958493b5ce55',
  cnodeUserUUID: '716a261b-a708-4c4d-82be-a3aff588f5c4',
  multihash: 'QmcAD35vXY3h9iXGDF2sLTMTZ4QER63yKVoFrJQUpps6bq',
  sourceFile: 'ad8e8207-04bd-4dba-b477-39a809d8c3a8.mp3',
  storagePath:
   '/file_storage/QmcAD35vXY3h9iXGDF2sLTMTZ4QER63yKVoFrJQUpps6bq',
  type: 'copy320',
  trackUUID: '40f7db20-ac58-4ee8-a15b-ad0eb00f424e',
  updatedAt: 2020-03-05T17:34:34.904Z,
  createdAt: 2020-03-05T17:34:34.904Z }
writing to db2...
Executing (208e4eb7-adcb-4b62-be27-bd7b133b8c20): START TRANSACTION;
Executing (208e4eb7-adcb-4b62-be27-bd7b133b8c20): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '716a261b-a708-4c4d-82be-a3aff588f5c4' AND "File"."multihash" = 'QmcAD35vXY3h9iXGDF2sLTMTZ4QER63yKVoFrJQUpps6bq' AND "File"."sourceFile" = 'ad8e8207-04bd-4dba-b477-39a809d8c3a8.mp3' AND "File"."storagePath" = '/file_storage/QmcAD35vXY3h9iXGDF2sLTMTZ4QER63yKVoFrJQUpps6bq' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '40f7db20-ac58-4ee8-a15b-ad0eb00f424e' LIMIT 1;
Executing (208e4eb7-adcb-4b62-be27-bd7b133b8c20): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_28ce0bdf941741d295090d3c28d4220e$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('d3e6da22-e209-4bfa-954a-b3d75cf63e8e','716a261b-a708-4c4d-82be-a3aff588f5c4','40f7db20-ac58-4ee8-a15b-ad0eb00f424e','QmcAD35vXY3h9iXGDF2sLTMTZ4QER63yKVoFrJQUpps6bq','ad8e8207-04bd-4dba-b477-39a809d8c3a8.mp3','/file_storage/QmcAD35vXY3h9iXGDF2sLTMTZ4QER63yKVoFrJQUpps6bq','copy320','2020-03-05 17:34:35.312 +00:00','2020-03-05 17:34:35.312 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_28ce0bdf941741d295090d3c28d4220e$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (208e4eb7-adcb-4b62-be27-bd7b133b8c20): COMMIT;
{ fileUUID: 'd3e6da22-e209-4bfa-954a-b3d75cf63e8e',
  cnodeUserUUID: '716a261b-a708-4c4d-82be-a3aff588f5c4',
  multihash: 'QmcAD35vXY3h9iXGDF2sLTMTZ4QER63yKVoFrJQUpps6bq',
  sourceFile: 'ad8e8207-04bd-4dba-b477-39a809d8c3a8.mp3',
  storagePath:
   '/file_storage/QmcAD35vXY3h9iXGDF2sLTMTZ4QER63yKVoFrJQUpps6bq',
  type: 'copy320',
  trackUUID: '40f7db20-ac58-4ee8-a15b-ad0eb00f424e',
  updatedAt: 2020-03-05T17:34:35.312Z,
  createdAt: 2020-03-05T17:34:35.312Z }
writing to db3...
Executing (1a1afff2-f1d2-4f28-a153-c9393fc5440e): START TRANSACTION;
Executing (1a1afff2-f1d2-4f28-a153-c9393fc5440e): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '716a261b-a708-4c4d-82be-a3aff588f5c4' AND "File"."multihash" = 'QmcAD35vXY3h9iXGDF2sLTMTZ4QER63yKVoFrJQUpps6bq' AND "File"."sourceFile" = 'ad8e8207-04bd-4dba-b477-39a809d8c3a8.mp3' AND "File"."storagePath" = '/file_storage/QmcAD35vXY3h9iXGDF2sLTMTZ4QER63yKVoFrJQUpps6bq' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '40f7db20-ac58-4ee8-a15b-ad0eb00f424e' LIMIT 1;
Executing (1a1afff2-f1d2-4f28-a153-c9393fc5440e): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_01149af044ea43fd93b292d6cc7d4d39$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('423b4631-ace9-4d21-b8e9-c8a140b917c3','716a261b-a708-4c4d-82be-a3aff588f5c4','40f7db20-ac58-4ee8-a15b-ad0eb00f424e','QmcAD35vXY3h9iXGDF2sLTMTZ4QER63yKVoFrJQUpps6bq','ad8e8207-04bd-4dba-b477-39a809d8c3a8.mp3','/file_storage/QmcAD35vXY3h9iXGDF2sLTMTZ4QER63yKVoFrJQUpps6bq','copy320','2020-03-05 17:34:35.700 +00:00','2020-03-05 17:34:35.700 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_01149af044ea43fd93b292d6cc7d4d39$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (1a1afff2-f1d2-4f28-a153-c9393fc5440e): COMMIT;
{ fileUUID: '423b4631-ace9-4d21-b8e9-c8a140b917c3',
  cnodeUserUUID: '716a261b-a708-4c4d-82be-a3aff588f5c4',
  multihash: 'QmcAD35vXY3h9iXGDF2sLTMTZ4QER63yKVoFrJQUpps6bq',
  sourceFile: 'ad8e8207-04bd-4dba-b477-39a809d8c3a8.mp3',
  storagePath:
   '/file_storage/QmcAD35vXY3h9iXGDF2sLTMTZ4QER63yKVoFrJQUpps6bq',
  type: 'copy320',
  trackUUID: '40f7db20-ac58-4ee8-a15b-ad0eb00f424e',
  updatedAt: 2020-03-05T17:34:35.700Z,
  createdAt: 2020-03-05T17:34:35.700Z }




PROCESSING ROW #146: sourcefile: e55edcfe-5f9e-449c-8a22-acec684d2ff0.mp3, cnodeUserUUID: 7cc2749f-1b71-4069-8872-1e43e27ea08c, trackUUID: d1efaf26-1cdc-4d3f-87c4-4a9998e6404c, multihash: QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM, dstPath: /file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM
writing to db1...
Executing (7cf603ad-5a45-433d-93f2-db6570365ca1): START TRANSACTION;
Executing (7cf603ad-5a45-433d-93f2-db6570365ca1): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '7cc2749f-1b71-4069-8872-1e43e27ea08c' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = 'e55edcfe-5f9e-449c-8a22-acec684d2ff0.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = 'd1efaf26-1cdc-4d3f-87c4-4a9998e6404c' LIMIT 1;
Executing (7cf603ad-5a45-433d-93f2-db6570365ca1): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_c5a017ff5dac49ad956646a7f8cbae53$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('fd218e64-ba9c-4f5b-bde8-1b6c73f2f499','7cc2749f-1b71-4069-8872-1e43e27ea08c','d1efaf26-1cdc-4d3f-87c4-4a9998e6404c','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','e55edcfe-5f9e-449c-8a22-acec684d2ff0.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:34:36.101 +00:00','2020-03-05 17:34:36.101 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_c5a017ff5dac49ad956646a7f8cbae53$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (7cf603ad-5a45-433d-93f2-db6570365ca1): COMMIT;
{ fileUUID: 'fd218e64-ba9c-4f5b-bde8-1b6c73f2f499',
  cnodeUserUUID: '7cc2749f-1b71-4069-8872-1e43e27ea08c',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: 'e55edcfe-5f9e-449c-8a22-acec684d2ff0.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: 'd1efaf26-1cdc-4d3f-87c4-4a9998e6404c',
  updatedAt: 2020-03-05T17:34:36.101Z,
  createdAt: 2020-03-05T17:34:36.101Z }
writing to db2...
Executing (a15f5c34-cd3a-4d42-8869-54c947896048): START TRANSACTION;
Executing (a15f5c34-cd3a-4d42-8869-54c947896048): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '7cc2749f-1b71-4069-8872-1e43e27ea08c' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = 'e55edcfe-5f9e-449c-8a22-acec684d2ff0.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = 'd1efaf26-1cdc-4d3f-87c4-4a9998e6404c' LIMIT 1;
Executing (a15f5c34-cd3a-4d42-8869-54c947896048): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_6679722719fe435b8ff7c02b92b394c7$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('f7b0618c-2278-4a58-bcb8-6ceae83b6b65','7cc2749f-1b71-4069-8872-1e43e27ea08c','d1efaf26-1cdc-4d3f-87c4-4a9998e6404c','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','e55edcfe-5f9e-449c-8a22-acec684d2ff0.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:34:36.520 +00:00','2020-03-05 17:34:36.520 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_6679722719fe435b8ff7c02b92b394c7$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (a15f5c34-cd3a-4d42-8869-54c947896048): COMMIT;
{ fileUUID: 'f7b0618c-2278-4a58-bcb8-6ceae83b6b65',
  cnodeUserUUID: '7cc2749f-1b71-4069-8872-1e43e27ea08c',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: 'e55edcfe-5f9e-449c-8a22-acec684d2ff0.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: 'd1efaf26-1cdc-4d3f-87c4-4a9998e6404c',
  updatedAt: 2020-03-05T17:34:36.520Z,
  createdAt: 2020-03-05T17:34:36.520Z }
writing to db3...
Executing (db75f395-b44c-46fa-8023-6bcefc25c93b): START TRANSACTION;
Executing (db75f395-b44c-46fa-8023-6bcefc25c93b): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '7cc2749f-1b71-4069-8872-1e43e27ea08c' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = 'e55edcfe-5f9e-449c-8a22-acec684d2ff0.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = 'd1efaf26-1cdc-4d3f-87c4-4a9998e6404c' LIMIT 1;
Executing (db75f395-b44c-46fa-8023-6bcefc25c93b): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_152d7aaad83f4f61891f7cf71c061e24$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('78800c1d-3383-459b-9b34-ae34955f1c4b','7cc2749f-1b71-4069-8872-1e43e27ea08c','d1efaf26-1cdc-4d3f-87c4-4a9998e6404c','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','e55edcfe-5f9e-449c-8a22-acec684d2ff0.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:34:36.919 +00:00','2020-03-05 17:34:36.919 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_152d7aaad83f4f61891f7cf71c061e24$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (db75f395-b44c-46fa-8023-6bcefc25c93b): COMMIT;
{ fileUUID: '78800c1d-3383-459b-9b34-ae34955f1c4b',
  cnodeUserUUID: '7cc2749f-1b71-4069-8872-1e43e27ea08c',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: 'e55edcfe-5f9e-449c-8a22-acec684d2ff0.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: 'd1efaf26-1cdc-4d3f-87c4-4a9998e6404c',
  updatedAt: 2020-03-05T17:34:36.919Z,
  createdAt: 2020-03-05T17:34:36.919Z }




PROCESSING ROW #147: sourcefile: 9fa158d2-9d1e-42f8-84f2-01995f56c446.mp3, cnodeUserUUID: 6eb784b6-cec7-4d75-a995-12311a737ad7, trackUUID: 48a76722-8b18-4385-aa05-ea5eb8fb22d2, multihash: QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM, dstPath: /file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM
writing to db1...
Executing (5fb084ef-656a-41d4-9ad5-d2c6432848f4): START TRANSACTION;
Executing (5fb084ef-656a-41d4-9ad5-d2c6432848f4): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '6eb784b6-cec7-4d75-a995-12311a737ad7' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = '9fa158d2-9d1e-42f8-84f2-01995f56c446.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '48a76722-8b18-4385-aa05-ea5eb8fb22d2' LIMIT 1;
Executing (5fb084ef-656a-41d4-9ad5-d2c6432848f4): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_e8daf173b49b4b4eb6ded0322fef2e2d$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('1f1a38e3-7101-4129-9668-a098393ed1be','6eb784b6-cec7-4d75-a995-12311a737ad7','48a76722-8b18-4385-aa05-ea5eb8fb22d2','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','9fa158d2-9d1e-42f8-84f2-01995f56c446.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:34:37.333 +00:00','2020-03-05 17:34:37.333 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_e8daf173b49b4b4eb6ded0322fef2e2d$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (5fb084ef-656a-41d4-9ad5-d2c6432848f4): COMMIT;
{ fileUUID: '1f1a38e3-7101-4129-9668-a098393ed1be',
  cnodeUserUUID: '6eb784b6-cec7-4d75-a995-12311a737ad7',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: '9fa158d2-9d1e-42f8-84f2-01995f56c446.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: '48a76722-8b18-4385-aa05-ea5eb8fb22d2',
  updatedAt: 2020-03-05T17:34:37.333Z,
  createdAt: 2020-03-05T17:34:37.333Z }
writing to db2...
Executing (3b157587-69b7-4dae-9c01-535864b99922): START TRANSACTION;
Executing (3b157587-69b7-4dae-9c01-535864b99922): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '6eb784b6-cec7-4d75-a995-12311a737ad7' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = '9fa158d2-9d1e-42f8-84f2-01995f56c446.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '48a76722-8b18-4385-aa05-ea5eb8fb22d2' LIMIT 1;
Executing (3b157587-69b7-4dae-9c01-535864b99922): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_eeb16f0117cf49f1b5fc08845263a010$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('38210a84-ea6f-4e57-b423-61f17d910326','6eb784b6-cec7-4d75-a995-12311a737ad7','48a76722-8b18-4385-aa05-ea5eb8fb22d2','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','9fa158d2-9d1e-42f8-84f2-01995f56c446.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:34:37.741 +00:00','2020-03-05 17:34:37.741 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_eeb16f0117cf49f1b5fc08845263a010$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (3b157587-69b7-4dae-9c01-535864b99922): COMMIT;
{ fileUUID: '38210a84-ea6f-4e57-b423-61f17d910326',
  cnodeUserUUID: '6eb784b6-cec7-4d75-a995-12311a737ad7',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: '9fa158d2-9d1e-42f8-84f2-01995f56c446.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: '48a76722-8b18-4385-aa05-ea5eb8fb22d2',
  updatedAt: 2020-03-05T17:34:37.741Z,
  createdAt: 2020-03-05T17:34:37.741Z }
writing to db3...
Executing (0da5d19c-5066-4852-aa92-aa42d9534791): START TRANSACTION;
Executing (0da5d19c-5066-4852-aa92-aa42d9534791): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '6eb784b6-cec7-4d75-a995-12311a737ad7' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = '9fa158d2-9d1e-42f8-84f2-01995f56c446.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '48a76722-8b18-4385-aa05-ea5eb8fb22d2' LIMIT 1;
Executing (0da5d19c-5066-4852-aa92-aa42d9534791): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_8ef5ddd8cd464cf7a161dee34d785844$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('95019279-b791-4ff6-aadc-3c09989afe15','6eb784b6-cec7-4d75-a995-12311a737ad7','48a76722-8b18-4385-aa05-ea5eb8fb22d2','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','9fa158d2-9d1e-42f8-84f2-01995f56c446.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:34:38.128 +00:00','2020-03-05 17:34:38.128 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_8ef5ddd8cd464cf7a161dee34d785844$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (0da5d19c-5066-4852-aa92-aa42d9534791): COMMIT;
{ fileUUID: '95019279-b791-4ff6-aadc-3c09989afe15',
  cnodeUserUUID: '6eb784b6-cec7-4d75-a995-12311a737ad7',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: '9fa158d2-9d1e-42f8-84f2-01995f56c446.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: '48a76722-8b18-4385-aa05-ea5eb8fb22d2',
  updatedAt: 2020-03-05T17:34:38.128Z,
  createdAt: 2020-03-05T17:34:38.128Z }




PROCESSING ROW #148: sourcefile: c073adb5-daed-4c4a-84b3-a7cd8437dcfd.mp3, cnodeUserUUID: 1350147d-276f-4221-8c54-a597192c1ed9, trackUUID: 5c4ffc1a-153d-4e84-a9f5-abb657c9ff4f, multihash: QmVY7ZppvuDMyawGWpx1zZEyMwpwjNxMUoT76iPYAxVPLj, dstPath: /file_storage/QmVY7ZppvuDMyawGWpx1zZEyMwpwjNxMUoT76iPYAxVPLj
writing to db1...
Executing (a7f3b67c-2990-4e70-9803-2a1b0a33d20c): START TRANSACTION;
Executing (a7f3b67c-2990-4e70-9803-2a1b0a33d20c): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '1350147d-276f-4221-8c54-a597192c1ed9' AND "File"."multihash" = 'QmVY7ZppvuDMyawGWpx1zZEyMwpwjNxMUoT76iPYAxVPLj' AND "File"."sourceFile" = 'c073adb5-daed-4c4a-84b3-a7cd8437dcfd.mp3' AND "File"."storagePath" = '/file_storage/QmVY7ZppvuDMyawGWpx1zZEyMwpwjNxMUoT76iPYAxVPLj' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '5c4ffc1a-153d-4e84-a9f5-abb657c9ff4f' LIMIT 1;
Executing (a7f3b67c-2990-4e70-9803-2a1b0a33d20c): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_630e36608cea43f4ac0bcebc7dcdb649$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('75b3edb7-452a-446f-849f-0f5e2ee275d7','1350147d-276f-4221-8c54-a597192c1ed9','5c4ffc1a-153d-4e84-a9f5-abb657c9ff4f','QmVY7ZppvuDMyawGWpx1zZEyMwpwjNxMUoT76iPYAxVPLj','c073adb5-daed-4c4a-84b3-a7cd8437dcfd.mp3','/file_storage/QmVY7ZppvuDMyawGWpx1zZEyMwpwjNxMUoT76iPYAxVPLj','copy320','2020-03-05 17:34:38.531 +00:00','2020-03-05 17:34:38.531 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_630e36608cea43f4ac0bcebc7dcdb649$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (a7f3b67c-2990-4e70-9803-2a1b0a33d20c): COMMIT;
{ fileUUID: '75b3edb7-452a-446f-849f-0f5e2ee275d7',
  cnodeUserUUID: '1350147d-276f-4221-8c54-a597192c1ed9',
  multihash: 'QmVY7ZppvuDMyawGWpx1zZEyMwpwjNxMUoT76iPYAxVPLj',
  sourceFile: 'c073adb5-daed-4c4a-84b3-a7cd8437dcfd.mp3',
  storagePath:
   '/file_storage/QmVY7ZppvuDMyawGWpx1zZEyMwpwjNxMUoT76iPYAxVPLj',
  type: 'copy320',
  trackUUID: '5c4ffc1a-153d-4e84-a9f5-abb657c9ff4f',
  updatedAt: 2020-03-05T17:34:38.531Z,
  createdAt: 2020-03-05T17:34:38.531Z }
writing to db2...
Executing (9170ec70-6e9f-43f5-b370-6db09f13eb91): START TRANSACTION;
Executing (9170ec70-6e9f-43f5-b370-6db09f13eb91): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '1350147d-276f-4221-8c54-a597192c1ed9' AND "File"."multihash" = 'QmVY7ZppvuDMyawGWpx1zZEyMwpwjNxMUoT76iPYAxVPLj' AND "File"."sourceFile" = 'c073adb5-daed-4c4a-84b3-a7cd8437dcfd.mp3' AND "File"."storagePath" = '/file_storage/QmVY7ZppvuDMyawGWpx1zZEyMwpwjNxMUoT76iPYAxVPLj' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '5c4ffc1a-153d-4e84-a9f5-abb657c9ff4f' LIMIT 1;
Executing (9170ec70-6e9f-43f5-b370-6db09f13eb91): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_ffff80f5f8b5490bb306b42b583d7206$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('f8d46b38-08ff-44cb-a7b4-ac761b7dba7a','1350147d-276f-4221-8c54-a597192c1ed9','5c4ffc1a-153d-4e84-a9f5-abb657c9ff4f','QmVY7ZppvuDMyawGWpx1zZEyMwpwjNxMUoT76iPYAxVPLj','c073adb5-daed-4c4a-84b3-a7cd8437dcfd.mp3','/file_storage/QmVY7ZppvuDMyawGWpx1zZEyMwpwjNxMUoT76iPYAxVPLj','copy320','2020-03-05 17:34:38.945 +00:00','2020-03-05 17:34:38.945 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_ffff80f5f8b5490bb306b42b583d7206$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (9170ec70-6e9f-43f5-b370-6db09f13eb91): COMMIT;
{ fileUUID: 'f8d46b38-08ff-44cb-a7b4-ac761b7dba7a',
  cnodeUserUUID: '1350147d-276f-4221-8c54-a597192c1ed9',
  multihash: 'QmVY7ZppvuDMyawGWpx1zZEyMwpwjNxMUoT76iPYAxVPLj',
  sourceFile: 'c073adb5-daed-4c4a-84b3-a7cd8437dcfd.mp3',
  storagePath:
   '/file_storage/QmVY7ZppvuDMyawGWpx1zZEyMwpwjNxMUoT76iPYAxVPLj',
  type: 'copy320',
  trackUUID: '5c4ffc1a-153d-4e84-a9f5-abb657c9ff4f',
  updatedAt: 2020-03-05T17:34:38.945Z,
  createdAt: 2020-03-05T17:34:38.945Z }
writing to db3...
Executing (e6640367-11fd-4e5f-ad89-ba58817ddff4): START TRANSACTION;
Executing (e6640367-11fd-4e5f-ad89-ba58817ddff4): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '1350147d-276f-4221-8c54-a597192c1ed9' AND "File"."multihash" = 'QmVY7ZppvuDMyawGWpx1zZEyMwpwjNxMUoT76iPYAxVPLj' AND "File"."sourceFile" = 'c073adb5-daed-4c4a-84b3-a7cd8437dcfd.mp3' AND "File"."storagePath" = '/file_storage/QmVY7ZppvuDMyawGWpx1zZEyMwpwjNxMUoT76iPYAxVPLj' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '5c4ffc1a-153d-4e84-a9f5-abb657c9ff4f' LIMIT 1;
Executing (e6640367-11fd-4e5f-ad89-ba58817ddff4): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_41c754e5b1cb473a90ebac619e20f8f3$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('ed1c1935-3e7b-49ce-ab4a-993eec6bd8f3','1350147d-276f-4221-8c54-a597192c1ed9','5c4ffc1a-153d-4e84-a9f5-abb657c9ff4f','QmVY7ZppvuDMyawGWpx1zZEyMwpwjNxMUoT76iPYAxVPLj','c073adb5-daed-4c4a-84b3-a7cd8437dcfd.mp3','/file_storage/QmVY7ZppvuDMyawGWpx1zZEyMwpwjNxMUoT76iPYAxVPLj','copy320','2020-03-05 17:34:39.348 +00:00','2020-03-05 17:34:39.348 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_41c754e5b1cb473a90ebac619e20f8f3$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (e6640367-11fd-4e5f-ad89-ba58817ddff4): COMMIT;
{ fileUUID: 'ed1c1935-3e7b-49ce-ab4a-993eec6bd8f3',
  cnodeUserUUID: '1350147d-276f-4221-8c54-a597192c1ed9',
  multihash: 'QmVY7ZppvuDMyawGWpx1zZEyMwpwjNxMUoT76iPYAxVPLj',
  sourceFile: 'c073adb5-daed-4c4a-84b3-a7cd8437dcfd.mp3',
  storagePath:
   '/file_storage/QmVY7ZppvuDMyawGWpx1zZEyMwpwjNxMUoT76iPYAxVPLj',
  type: 'copy320',
  trackUUID: '5c4ffc1a-153d-4e84-a9f5-abb657c9ff4f',
  updatedAt: 2020-03-05T17:34:39.348Z,
  createdAt: 2020-03-05T17:34:39.348Z }




PROCESSING ROW #149: sourcefile: de1edfd5-6e7f-4a7a-871a-75092efc8b42.mp3, cnodeUserUUID: 1350147d-276f-4221-8c54-a597192c1ed9, trackUUID: 1da35d84-fd5a-4400-aecd-070a9fa9e8b7, multihash: QmcqTxwtCyv8UdUKd3DKjDFdQe87zvRYkfHHy3AFP7Wvhf, dstPath: /file_storage/QmcqTxwtCyv8UdUKd3DKjDFdQe87zvRYkfHHy3AFP7Wvhf
writing to db1...
Executing (7eee20f1-c4b7-45e5-bbd1-a52966789364): START TRANSACTION;
Executing (7eee20f1-c4b7-45e5-bbd1-a52966789364): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '1350147d-276f-4221-8c54-a597192c1ed9' AND "File"."multihash" = 'QmcqTxwtCyv8UdUKd3DKjDFdQe87zvRYkfHHy3AFP7Wvhf' AND "File"."sourceFile" = 'de1edfd5-6e7f-4a7a-871a-75092efc8b42.mp3' AND "File"."storagePath" = '/file_storage/QmcqTxwtCyv8UdUKd3DKjDFdQe87zvRYkfHHy3AFP7Wvhf' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '1da35d84-fd5a-4400-aecd-070a9fa9e8b7' LIMIT 1;
Executing (7eee20f1-c4b7-45e5-bbd1-a52966789364): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_33fe1610c56c4e569a5639e4d2845bfd$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('27712155-9367-4ed3-8740-4b844598d00d','1350147d-276f-4221-8c54-a597192c1ed9','1da35d84-fd5a-4400-aecd-070a9fa9e8b7','QmcqTxwtCyv8UdUKd3DKjDFdQe87zvRYkfHHy3AFP7Wvhf','de1edfd5-6e7f-4a7a-871a-75092efc8b42.mp3','/file_storage/QmcqTxwtCyv8UdUKd3DKjDFdQe87zvRYkfHHy3AFP7Wvhf','copy320','2020-03-05 17:34:39.729 +00:00','2020-03-05 17:34:39.729 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_33fe1610c56c4e569a5639e4d2845bfd$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (7eee20f1-c4b7-45e5-bbd1-a52966789364): COMMIT;
{ fileUUID: '27712155-9367-4ed3-8740-4b844598d00d',
  cnodeUserUUID: '1350147d-276f-4221-8c54-a597192c1ed9',
  multihash: 'QmcqTxwtCyv8UdUKd3DKjDFdQe87zvRYkfHHy3AFP7Wvhf',
  sourceFile: 'de1edfd5-6e7f-4a7a-871a-75092efc8b42.mp3',
  storagePath:
   '/file_storage/QmcqTxwtCyv8UdUKd3DKjDFdQe87zvRYkfHHy3AFP7Wvhf',
  type: 'copy320',
  trackUUID: '1da35d84-fd5a-4400-aecd-070a9fa9e8b7',
  updatedAt: 2020-03-05T17:34:39.729Z,
  createdAt: 2020-03-05T17:34:39.729Z }
writing to db2...
Executing (41046af7-0927-4b64-86a2-a61bd0d32fa0): START TRANSACTION;
Executing (41046af7-0927-4b64-86a2-a61bd0d32fa0): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '1350147d-276f-4221-8c54-a597192c1ed9' AND "File"."multihash" = 'QmcqTxwtCyv8UdUKd3DKjDFdQe87zvRYkfHHy3AFP7Wvhf' AND "File"."sourceFile" = 'de1edfd5-6e7f-4a7a-871a-75092efc8b42.mp3' AND "File"."storagePath" = '/file_storage/QmcqTxwtCyv8UdUKd3DKjDFdQe87zvRYkfHHy3AFP7Wvhf' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '1da35d84-fd5a-4400-aecd-070a9fa9e8b7' LIMIT 1;
Executing (41046af7-0927-4b64-86a2-a61bd0d32fa0): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_c748d6215d0e4580910e1c56247dfb93$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('63a84c31-b286-4e63-8621-e06ced7e0274','1350147d-276f-4221-8c54-a597192c1ed9','1da35d84-fd5a-4400-aecd-070a9fa9e8b7','QmcqTxwtCyv8UdUKd3DKjDFdQe87zvRYkfHHy3AFP7Wvhf','de1edfd5-6e7f-4a7a-871a-75092efc8b42.mp3','/file_storage/QmcqTxwtCyv8UdUKd3DKjDFdQe87zvRYkfHHy3AFP7Wvhf','copy320','2020-03-05 17:34:40.115 +00:00','2020-03-05 17:34:40.115 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_c748d6215d0e4580910e1c56247dfb93$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (41046af7-0927-4b64-86a2-a61bd0d32fa0): COMMIT;
{ fileUUID: '63a84c31-b286-4e63-8621-e06ced7e0274',
  cnodeUserUUID: '1350147d-276f-4221-8c54-a597192c1ed9',
  multihash: 'QmcqTxwtCyv8UdUKd3DKjDFdQe87zvRYkfHHy3AFP7Wvhf',
  sourceFile: 'de1edfd5-6e7f-4a7a-871a-75092efc8b42.mp3',
  storagePath:
   '/file_storage/QmcqTxwtCyv8UdUKd3DKjDFdQe87zvRYkfHHy3AFP7Wvhf',
  type: 'copy320',
  trackUUID: '1da35d84-fd5a-4400-aecd-070a9fa9e8b7',
  updatedAt: 2020-03-05T17:34:40.115Z,
  createdAt: 2020-03-05T17:34:40.115Z }
writing to db3...
Executing (cfed8a20-2207-44ff-b42a-5e48e385f432): START TRANSACTION;
Executing (cfed8a20-2207-44ff-b42a-5e48e385f432): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '1350147d-276f-4221-8c54-a597192c1ed9' AND "File"."multihash" = 'QmcqTxwtCyv8UdUKd3DKjDFdQe87zvRYkfHHy3AFP7Wvhf' AND "File"."sourceFile" = 'de1edfd5-6e7f-4a7a-871a-75092efc8b42.mp3' AND "File"."storagePath" = '/file_storage/QmcqTxwtCyv8UdUKd3DKjDFdQe87zvRYkfHHy3AFP7Wvhf' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '1da35d84-fd5a-4400-aecd-070a9fa9e8b7' LIMIT 1;
Executing (cfed8a20-2207-44ff-b42a-5e48e385f432): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_9c5057862a784b8db5759587b6dc1dad$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('1518f46f-c1b3-4bb9-939f-27012053a921','1350147d-276f-4221-8c54-a597192c1ed9','1da35d84-fd5a-4400-aecd-070a9fa9e8b7','QmcqTxwtCyv8UdUKd3DKjDFdQe87zvRYkfHHy3AFP7Wvhf','de1edfd5-6e7f-4a7a-871a-75092efc8b42.mp3','/file_storage/QmcqTxwtCyv8UdUKd3DKjDFdQe87zvRYkfHHy3AFP7Wvhf','copy320','2020-03-05 17:34:40.497 +00:00','2020-03-05 17:34:40.497 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_9c5057862a784b8db5759587b6dc1dad$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (cfed8a20-2207-44ff-b42a-5e48e385f432): COMMIT;
{ fileUUID: '1518f46f-c1b3-4bb9-939f-27012053a921',
  cnodeUserUUID: '1350147d-276f-4221-8c54-a597192c1ed9',
  multihash: 'QmcqTxwtCyv8UdUKd3DKjDFdQe87zvRYkfHHy3AFP7Wvhf',
  sourceFile: 'de1edfd5-6e7f-4a7a-871a-75092efc8b42.mp3',
  storagePath:
   '/file_storage/QmcqTxwtCyv8UdUKd3DKjDFdQe87zvRYkfHHy3AFP7Wvhf',
  type: 'copy320',
  trackUUID: '1da35d84-fd5a-4400-aecd-070a9fa9e8b7',
  updatedAt: 2020-03-05T17:34:40.497Z,
  createdAt: 2020-03-05T17:34:40.497Z }




PROCESSING ROW #150: sourcefile: 23c355b3-467c-4c8d-81dc-8873cfb67bf2.mp3, cnodeUserUUID: 91b0a6b8-687a-4047-a2b4-42be58e3a590, trackUUID: d3e2461a-b3b0-4c11-bd90-b0fa5085ebf2, multihash: QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM, dstPath: /file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM
writing to db1...
Executing (ab6cb0a5-fc70-436d-b2e9-34076ef393d0): START TRANSACTION;
Executing (ab6cb0a5-fc70-436d-b2e9-34076ef393d0): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '91b0a6b8-687a-4047-a2b4-42be58e3a590' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = '23c355b3-467c-4c8d-81dc-8873cfb67bf2.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = 'd3e2461a-b3b0-4c11-bd90-b0fa5085ebf2' LIMIT 1;
Executing (ab6cb0a5-fc70-436d-b2e9-34076ef393d0): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_3f752c867a444fdcac8016622a2dc982$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('24dcbde4-36f7-4668-ad12-4ae2ee69a39f','91b0a6b8-687a-4047-a2b4-42be58e3a590','d3e2461a-b3b0-4c11-bd90-b0fa5085ebf2','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','23c355b3-467c-4c8d-81dc-8873cfb67bf2.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:34:40.878 +00:00','2020-03-05 17:34:40.878 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_3f752c867a444fdcac8016622a2dc982$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (ab6cb0a5-fc70-436d-b2e9-34076ef393d0): COMMIT;
{ fileUUID: '24dcbde4-36f7-4668-ad12-4ae2ee69a39f',
  cnodeUserUUID: '91b0a6b8-687a-4047-a2b4-42be58e3a590',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: '23c355b3-467c-4c8d-81dc-8873cfb67bf2.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: 'd3e2461a-b3b0-4c11-bd90-b0fa5085ebf2',
  updatedAt: 2020-03-05T17:34:40.878Z,
  createdAt: 2020-03-05T17:34:40.878Z }
writing to db2...
Executing (c9ae265b-c0f4-4c59-9c02-81fbdb7e3bf4): START TRANSACTION;
Executing (c9ae265b-c0f4-4c59-9c02-81fbdb7e3bf4): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '91b0a6b8-687a-4047-a2b4-42be58e3a590' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = '23c355b3-467c-4c8d-81dc-8873cfb67bf2.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = 'd3e2461a-b3b0-4c11-bd90-b0fa5085ebf2' LIMIT 1;
Executing (c9ae265b-c0f4-4c59-9c02-81fbdb7e3bf4): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_faa4177feac34c3b84ba86eea90ceb6e$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('bb8920fb-135b-41dd-9cb1-eefb4e7e2304','91b0a6b8-687a-4047-a2b4-42be58e3a590','d3e2461a-b3b0-4c11-bd90-b0fa5085ebf2','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','23c355b3-467c-4c8d-81dc-8873cfb67bf2.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:34:41.274 +00:00','2020-03-05 17:34:41.274 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_faa4177feac34c3b84ba86eea90ceb6e$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (c9ae265b-c0f4-4c59-9c02-81fbdb7e3bf4): COMMIT;
{ fileUUID: 'bb8920fb-135b-41dd-9cb1-eefb4e7e2304',
  cnodeUserUUID: '91b0a6b8-687a-4047-a2b4-42be58e3a590',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: '23c355b3-467c-4c8d-81dc-8873cfb67bf2.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: 'd3e2461a-b3b0-4c11-bd90-b0fa5085ebf2',
  updatedAt: 2020-03-05T17:34:41.274Z,
  createdAt: 2020-03-05T17:34:41.274Z }
writing to db3...
Executing (b1d3345c-282a-4739-b59a-dd8605b0ba4f): START TRANSACTION;
Executing (b1d3345c-282a-4739-b59a-dd8605b0ba4f): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '91b0a6b8-687a-4047-a2b4-42be58e3a590' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = '23c355b3-467c-4c8d-81dc-8873cfb67bf2.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = 'd3e2461a-b3b0-4c11-bd90-b0fa5085ebf2' LIMIT 1;
Executing (b1d3345c-282a-4739-b59a-dd8605b0ba4f): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_f9f1fe088bfa41f8831310438eb95944$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('79c3376a-3fef-47f8-8362-82941458db35','91b0a6b8-687a-4047-a2b4-42be58e3a590','d3e2461a-b3b0-4c11-bd90-b0fa5085ebf2','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','23c355b3-467c-4c8d-81dc-8873cfb67bf2.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:34:41.657 +00:00','2020-03-05 17:34:41.657 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_f9f1fe088bfa41f8831310438eb95944$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (b1d3345c-282a-4739-b59a-dd8605b0ba4f): COMMIT;
{ fileUUID: '79c3376a-3fef-47f8-8362-82941458db35',
  cnodeUserUUID: '91b0a6b8-687a-4047-a2b4-42be58e3a590',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: '23c355b3-467c-4c8d-81dc-8873cfb67bf2.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: 'd3e2461a-b3b0-4c11-bd90-b0fa5085ebf2',
  updatedAt: 2020-03-05T17:34:41.657Z,
  createdAt: 2020-03-05T17:34:41.657Z }




PROCESSING ROW #151: sourcefile: 97674641-c823-4c35-a2e1-84b2f4027301.mp3, cnodeUserUUID: b8181879-723e-4fb3-8e56-a7ba5580810d, trackUUID: d856e7eb-8206-42be-aea6-67f9fff3ce27, multihash: QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM, dstPath: /file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM
writing to db1...
Executing (bd4e7519-2bcf-449b-9163-6da6b20c9e8d): START TRANSACTION;
Executing (bd4e7519-2bcf-449b-9163-6da6b20c9e8d): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = 'b8181879-723e-4fb3-8e56-a7ba5580810d' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = '97674641-c823-4c35-a2e1-84b2f4027301.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = 'd856e7eb-8206-42be-aea6-67f9fff3ce27' LIMIT 1;
Executing (bd4e7519-2bcf-449b-9163-6da6b20c9e8d): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_969155af3e8a4dc093b875eb7edfae0d$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('14f8e712-4196-4c5b-ae3d-6cf79fd9e5c7','b8181879-723e-4fb3-8e56-a7ba5580810d','d856e7eb-8206-42be-aea6-67f9fff3ce27','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','97674641-c823-4c35-a2e1-84b2f4027301.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:34:42.045 +00:00','2020-03-05 17:34:42.045 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_969155af3e8a4dc093b875eb7edfae0d$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (bd4e7519-2bcf-449b-9163-6da6b20c9e8d): COMMIT;
{ fileUUID: '14f8e712-4196-4c5b-ae3d-6cf79fd9e5c7',
  cnodeUserUUID: 'b8181879-723e-4fb3-8e56-a7ba5580810d',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: '97674641-c823-4c35-a2e1-84b2f4027301.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: 'd856e7eb-8206-42be-aea6-67f9fff3ce27',
  updatedAt: 2020-03-05T17:34:42.045Z,
  createdAt: 2020-03-05T17:34:42.045Z }
writing to db2...
Executing (453a3d1d-fe4c-4a94-8013-85e567e53e63): START TRANSACTION;
Executing (453a3d1d-fe4c-4a94-8013-85e567e53e63): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = 'b8181879-723e-4fb3-8e56-a7ba5580810d' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = '97674641-c823-4c35-a2e1-84b2f4027301.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = 'd856e7eb-8206-42be-aea6-67f9fff3ce27' LIMIT 1;
Executing (453a3d1d-fe4c-4a94-8013-85e567e53e63): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_62844ef7b5f24d0f8c4443e699d48315$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('f0ef8050-1e1d-4dee-9870-e61e603a0351','b8181879-723e-4fb3-8e56-a7ba5580810d','d856e7eb-8206-42be-aea6-67f9fff3ce27','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','97674641-c823-4c35-a2e1-84b2f4027301.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:34:42.438 +00:00','2020-03-05 17:34:42.438 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_62844ef7b5f24d0f8c4443e699d48315$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (453a3d1d-fe4c-4a94-8013-85e567e53e63): COMMIT;
{ fileUUID: 'f0ef8050-1e1d-4dee-9870-e61e603a0351',
  cnodeUserUUID: 'b8181879-723e-4fb3-8e56-a7ba5580810d',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: '97674641-c823-4c35-a2e1-84b2f4027301.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: 'd856e7eb-8206-42be-aea6-67f9fff3ce27',
  updatedAt: 2020-03-05T17:34:42.438Z,
  createdAt: 2020-03-05T17:34:42.438Z }
writing to db3...
Executing (130dca62-ff59-4334-9202-7dac534b33f7): START TRANSACTION;
Executing (130dca62-ff59-4334-9202-7dac534b33f7): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = 'b8181879-723e-4fb3-8e56-a7ba5580810d' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = '97674641-c823-4c35-a2e1-84b2f4027301.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = 'd856e7eb-8206-42be-aea6-67f9fff3ce27' LIMIT 1;
Executing (130dca62-ff59-4334-9202-7dac534b33f7): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_6f2ada7f96314a4686ea2bc6e067e44c$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('ba404b37-cc25-4d9a-a2d1-48d024682542','b8181879-723e-4fb3-8e56-a7ba5580810d','d856e7eb-8206-42be-aea6-67f9fff3ce27','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','97674641-c823-4c35-a2e1-84b2f4027301.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:34:42.830 +00:00','2020-03-05 17:34:42.830 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_6f2ada7f96314a4686ea2bc6e067e44c$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (130dca62-ff59-4334-9202-7dac534b33f7): COMMIT;
{ fileUUID: 'ba404b37-cc25-4d9a-a2d1-48d024682542',
  cnodeUserUUID: 'b8181879-723e-4fb3-8e56-a7ba5580810d',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: '97674641-c823-4c35-a2e1-84b2f4027301.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: 'd856e7eb-8206-42be-aea6-67f9fff3ce27',
  updatedAt: 2020-03-05T17:34:42.830Z,
  createdAt: 2020-03-05T17:34:42.830Z }




PROCESSING ROW #152: sourcefile: f30c04fc-6bae-4132-940b-1a1057bc6c28.mp3, cnodeUserUUID: 9631a648-5772-4261-8adf-ce76a5f355cc, trackUUID: 8761a697-52e2-4c05-98f9-932cd75b15c1, multihash: QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM, dstPath: /file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM
writing to db1...
Executing (d7b3641e-3a9e-4796-a069-93dc0255edbd): START TRANSACTION;
Executing (d7b3641e-3a9e-4796-a069-93dc0255edbd): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '9631a648-5772-4261-8adf-ce76a5f355cc' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = 'f30c04fc-6bae-4132-940b-1a1057bc6c28.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '8761a697-52e2-4c05-98f9-932cd75b15c1' LIMIT 1;
Executing (d7b3641e-3a9e-4796-a069-93dc0255edbd): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_3976fe3f65024d18a47f2117981f3cb8$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('f408501b-18d9-46cc-8003-969285ca897d','9631a648-5772-4261-8adf-ce76a5f355cc','8761a697-52e2-4c05-98f9-932cd75b15c1','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','f30c04fc-6bae-4132-940b-1a1057bc6c28.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:34:43.243 +00:00','2020-03-05 17:34:43.243 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_3976fe3f65024d18a47f2117981f3cb8$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (d7b3641e-3a9e-4796-a069-93dc0255edbd): COMMIT;
{ fileUUID: 'f408501b-18d9-46cc-8003-969285ca897d',
  cnodeUserUUID: '9631a648-5772-4261-8adf-ce76a5f355cc',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: 'f30c04fc-6bae-4132-940b-1a1057bc6c28.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: '8761a697-52e2-4c05-98f9-932cd75b15c1',
  updatedAt: 2020-03-05T17:34:43.243Z,
  createdAt: 2020-03-05T17:34:43.243Z }
writing to db2...
Executing (ecddee02-f030-43d6-8345-fa799bef471b): START TRANSACTION;
Executing (ecddee02-f030-43d6-8345-fa799bef471b): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '9631a648-5772-4261-8adf-ce76a5f355cc' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = 'f30c04fc-6bae-4132-940b-1a1057bc6c28.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '8761a697-52e2-4c05-98f9-932cd75b15c1' LIMIT 1;
Executing (ecddee02-f030-43d6-8345-fa799bef471b): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_59b729a4eade4ed3a7548c684bc5b15a$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('6cfd559c-2eda-4f87-b8bd-6107cec9d991','9631a648-5772-4261-8adf-ce76a5f355cc','8761a697-52e2-4c05-98f9-932cd75b15c1','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','f30c04fc-6bae-4132-940b-1a1057bc6c28.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:34:43.650 +00:00','2020-03-05 17:34:43.650 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_59b729a4eade4ed3a7548c684bc5b15a$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (ecddee02-f030-43d6-8345-fa799bef471b): COMMIT;
{ fileUUID: '6cfd559c-2eda-4f87-b8bd-6107cec9d991',
  cnodeUserUUID: '9631a648-5772-4261-8adf-ce76a5f355cc',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: 'f30c04fc-6bae-4132-940b-1a1057bc6c28.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: '8761a697-52e2-4c05-98f9-932cd75b15c1',
  updatedAt: 2020-03-05T17:34:43.650Z,
  createdAt: 2020-03-05T17:34:43.650Z }
writing to db3...
Executing (033d3141-be55-4f70-b4e5-47745592bfbb): START TRANSACTION;
Executing (033d3141-be55-4f70-b4e5-47745592bfbb): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '9631a648-5772-4261-8adf-ce76a5f355cc' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = 'f30c04fc-6bae-4132-940b-1a1057bc6c28.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '8761a697-52e2-4c05-98f9-932cd75b15c1' LIMIT 1;
Executing (033d3141-be55-4f70-b4e5-47745592bfbb): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_0670c5f11c334bd2a644e41e6230c957$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('907f3a0e-3435-4ec0-8a2d-d8bd7456d3d3','9631a648-5772-4261-8adf-ce76a5f355cc','8761a697-52e2-4c05-98f9-932cd75b15c1','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','f30c04fc-6bae-4132-940b-1a1057bc6c28.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:34:44.041 +00:00','2020-03-05 17:34:44.041 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_0670c5f11c334bd2a644e41e6230c957$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (033d3141-be55-4f70-b4e5-47745592bfbb): COMMIT;
{ fileUUID: '907f3a0e-3435-4ec0-8a2d-d8bd7456d3d3',
  cnodeUserUUID: '9631a648-5772-4261-8adf-ce76a5f355cc',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: 'f30c04fc-6bae-4132-940b-1a1057bc6c28.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: '8761a697-52e2-4c05-98f9-932cd75b15c1',
  updatedAt: 2020-03-05T17:34:44.041Z,
  createdAt: 2020-03-05T17:34:44.041Z }




PROCESSING ROW #153: sourcefile: 876502e1-92cd-4c2f-9580-c7b5cb3cf0e1.mp3, cnodeUserUUID: fd414d52-939d-449a-ab2e-ecd1156a178c, trackUUID: edce2a60-ca48-47a6-abb2-39c7e2bc57a1, multihash: QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM, dstPath: /file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM
writing to db1...
Executing (b1927e81-7a7a-45c5-81fa-0aef5158e50d): START TRANSACTION;
Executing (b1927e81-7a7a-45c5-81fa-0aef5158e50d): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = 'fd414d52-939d-449a-ab2e-ecd1156a178c' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = '876502e1-92cd-4c2f-9580-c7b5cb3cf0e1.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = 'edce2a60-ca48-47a6-abb2-39c7e2bc57a1' LIMIT 1;
Executing (b1927e81-7a7a-45c5-81fa-0aef5158e50d): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_ea67d8b28a1940b1b3f7fe936463b1e2$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('023843da-22cf-4ff3-9741-7649e27cdd36','fd414d52-939d-449a-ab2e-ecd1156a178c','edce2a60-ca48-47a6-abb2-39c7e2bc57a1','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','876502e1-92cd-4c2f-9580-c7b5cb3cf0e1.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:34:44.434 +00:00','2020-03-05 17:34:44.434 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_ea67d8b28a1940b1b3f7fe936463b1e2$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (b1927e81-7a7a-45c5-81fa-0aef5158e50d): COMMIT;
{ fileUUID: '023843da-22cf-4ff3-9741-7649e27cdd36',
  cnodeUserUUID: 'fd414d52-939d-449a-ab2e-ecd1156a178c',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: '876502e1-92cd-4c2f-9580-c7b5cb3cf0e1.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: 'edce2a60-ca48-47a6-abb2-39c7e2bc57a1',
  updatedAt: 2020-03-05T17:34:44.434Z,
  createdAt: 2020-03-05T17:34:44.434Z }
writing to db2...
Executing (a0d35a19-2e79-4e6f-b066-cda254715b49): START TRANSACTION;
Executing (a0d35a19-2e79-4e6f-b066-cda254715b49): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = 'fd414d52-939d-449a-ab2e-ecd1156a178c' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = '876502e1-92cd-4c2f-9580-c7b5cb3cf0e1.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = 'edce2a60-ca48-47a6-abb2-39c7e2bc57a1' LIMIT 1;
Executing (a0d35a19-2e79-4e6f-b066-cda254715b49): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_05891b4b70914d46a6f91f7080e5da15$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('e7009eee-fb07-4482-8791-2e96d00f2c46','fd414d52-939d-449a-ab2e-ecd1156a178c','edce2a60-ca48-47a6-abb2-39c7e2bc57a1','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','876502e1-92cd-4c2f-9580-c7b5cb3cf0e1.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:34:44.840 +00:00','2020-03-05 17:34:44.840 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_05891b4b70914d46a6f91f7080e5da15$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (a0d35a19-2e79-4e6f-b066-cda254715b49): COMMIT;
{ fileUUID: 'e7009eee-fb07-4482-8791-2e96d00f2c46',
  cnodeUserUUID: 'fd414d52-939d-449a-ab2e-ecd1156a178c',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: '876502e1-92cd-4c2f-9580-c7b5cb3cf0e1.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: 'edce2a60-ca48-47a6-abb2-39c7e2bc57a1',
  updatedAt: 2020-03-05T17:34:44.840Z,
  createdAt: 2020-03-05T17:34:44.840Z }
writing to db3...
Executing (1e0b0782-f28a-4c83-83aa-1aa4435f15b8): START TRANSACTION;
Executing (1e0b0782-f28a-4c83-83aa-1aa4435f15b8): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = 'fd414d52-939d-449a-ab2e-ecd1156a178c' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = '876502e1-92cd-4c2f-9580-c7b5cb3cf0e1.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = 'edce2a60-ca48-47a6-abb2-39c7e2bc57a1' LIMIT 1;
Executing (1e0b0782-f28a-4c83-83aa-1aa4435f15b8): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_e4002a552ee142d7b4136cca1e251df0$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('8822dde9-010e-4bce-a655-c767e9d2abe8','fd414d52-939d-449a-ab2e-ecd1156a178c','edce2a60-ca48-47a6-abb2-39c7e2bc57a1','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','876502e1-92cd-4c2f-9580-c7b5cb3cf0e1.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:34:45.250 +00:00','2020-03-05 17:34:45.250 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_e4002a552ee142d7b4136cca1e251df0$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (1e0b0782-f28a-4c83-83aa-1aa4435f15b8): COMMIT;
{ fileUUID: '8822dde9-010e-4bce-a655-c767e9d2abe8',
  cnodeUserUUID: 'fd414d52-939d-449a-ab2e-ecd1156a178c',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: '876502e1-92cd-4c2f-9580-c7b5cb3cf0e1.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: 'edce2a60-ca48-47a6-abb2-39c7e2bc57a1',
  updatedAt: 2020-03-05T17:34:45.250Z,
  createdAt: 2020-03-05T17:34:45.250Z }




PROCESSING ROW #154: sourcefile: 59003ca9-1abf-45be-9813-da5974aedbe9.mp3, cnodeUserUUID: bed90256-5501-4040-a89a-e16be139ecd4, trackUUID: a76c665e-8983-4ca4-b07f-1310cc9d3546, multihash: QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM, dstPath: /file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM
writing to db1...
Executing (52f22d35-7e00-4621-a4e7-26b454ee97ea): START TRANSACTION;
Executing (52f22d35-7e00-4621-a4e7-26b454ee97ea): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = 'bed90256-5501-4040-a89a-e16be139ecd4' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = '59003ca9-1abf-45be-9813-da5974aedbe9.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = 'a76c665e-8983-4ca4-b07f-1310cc9d3546' LIMIT 1;
Executing (52f22d35-7e00-4621-a4e7-26b454ee97ea): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_1409d4a43d66405c8338b5df5347545d$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('aa01ca1d-5c52-425c-8aa7-dadea770a1f7','bed90256-5501-4040-a89a-e16be139ecd4','a76c665e-8983-4ca4-b07f-1310cc9d3546','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','59003ca9-1abf-45be-9813-da5974aedbe9.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:34:45.658 +00:00','2020-03-05 17:34:45.658 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_1409d4a43d66405c8338b5df5347545d$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (52f22d35-7e00-4621-a4e7-26b454ee97ea): COMMIT;
{ fileUUID: 'aa01ca1d-5c52-425c-8aa7-dadea770a1f7',
  cnodeUserUUID: 'bed90256-5501-4040-a89a-e16be139ecd4',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: '59003ca9-1abf-45be-9813-da5974aedbe9.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: 'a76c665e-8983-4ca4-b07f-1310cc9d3546',
  updatedAt: 2020-03-05T17:34:45.658Z,
  createdAt: 2020-03-05T17:34:45.658Z }
writing to db2...
Executing (f4c6574a-8efd-4a30-a87a-085737f80bd8): START TRANSACTION;
Executing (f4c6574a-8efd-4a30-a87a-085737f80bd8): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = 'bed90256-5501-4040-a89a-e16be139ecd4' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = '59003ca9-1abf-45be-9813-da5974aedbe9.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = 'a76c665e-8983-4ca4-b07f-1310cc9d3546' LIMIT 1;
Executing (f4c6574a-8efd-4a30-a87a-085737f80bd8): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_50ebe2458fdb4005a79c96d90419ba69$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('1d3ec133-2ad9-4d4c-afec-e62b3c34389e','bed90256-5501-4040-a89a-e16be139ecd4','a76c665e-8983-4ca4-b07f-1310cc9d3546','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','59003ca9-1abf-45be-9813-da5974aedbe9.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:34:46.054 +00:00','2020-03-05 17:34:46.054 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_50ebe2458fdb4005a79c96d90419ba69$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (f4c6574a-8efd-4a30-a87a-085737f80bd8): COMMIT;
{ fileUUID: '1d3ec133-2ad9-4d4c-afec-e62b3c34389e',
  cnodeUserUUID: 'bed90256-5501-4040-a89a-e16be139ecd4',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: '59003ca9-1abf-45be-9813-da5974aedbe9.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: 'a76c665e-8983-4ca4-b07f-1310cc9d3546',
  updatedAt: 2020-03-05T17:34:46.054Z,
  createdAt: 2020-03-05T17:34:46.054Z }
writing to db3...
Executing (1c04500c-e3fc-4e90-8919-5adc5acca0c0): START TRANSACTION;
Executing (1c04500c-e3fc-4e90-8919-5adc5acca0c0): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = 'bed90256-5501-4040-a89a-e16be139ecd4' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = '59003ca9-1abf-45be-9813-da5974aedbe9.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = 'a76c665e-8983-4ca4-b07f-1310cc9d3546' LIMIT 1;
Executing (1c04500c-e3fc-4e90-8919-5adc5acca0c0): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_2682758d5f4747a7907c90870535e6a1$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('71838360-2539-4d12-bb6d-e1af29a8be28','bed90256-5501-4040-a89a-e16be139ecd4','a76c665e-8983-4ca4-b07f-1310cc9d3546','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','59003ca9-1abf-45be-9813-da5974aedbe9.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:34:46.458 +00:00','2020-03-05 17:34:46.458 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_2682758d5f4747a7907c90870535e6a1$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (1c04500c-e3fc-4e90-8919-5adc5acca0c0): COMMIT;
{ fileUUID: '71838360-2539-4d12-bb6d-e1af29a8be28',
  cnodeUserUUID: 'bed90256-5501-4040-a89a-e16be139ecd4',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: '59003ca9-1abf-45be-9813-da5974aedbe9.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: 'a76c665e-8983-4ca4-b07f-1310cc9d3546',
  updatedAt: 2020-03-05T17:34:46.458Z,
  createdAt: 2020-03-05T17:34:46.458Z }




PROCESSING ROW #155: sourcefile: a0e10628-44b4-4d6a-8dd6-9b39ec5894cc.mp3, cnodeUserUUID: c6dd2901-edb2-4e1a-a21e-130d9d6f4caf, trackUUID: 268fc7fa-bee2-427c-9cd9-ce5f33d805c9, multihash: Qmckbd4YBBQnhxiRFYRbTENSBDhJAojeNKrX3bP267A9Q3, dstPath: /file_storage/Qmckbd4YBBQnhxiRFYRbTENSBDhJAojeNKrX3bP267A9Q3
writing to db1...
Executing (e47927fd-6eb2-467e-afea-765214564ea3): START TRANSACTION;
Executing (e47927fd-6eb2-467e-afea-765214564ea3): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = 'c6dd2901-edb2-4e1a-a21e-130d9d6f4caf' AND "File"."multihash" = 'Qmckbd4YBBQnhxiRFYRbTENSBDhJAojeNKrX3bP267A9Q3' AND "File"."sourceFile" = 'a0e10628-44b4-4d6a-8dd6-9b39ec5894cc.mp3' AND "File"."storagePath" = '/file_storage/Qmckbd4YBBQnhxiRFYRbTENSBDhJAojeNKrX3bP267A9Q3' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '268fc7fa-bee2-427c-9cd9-ce5f33d805c9' LIMIT 1;
Executing (e47927fd-6eb2-467e-afea-765214564ea3): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_95c3b91819274e15938fd9e60e74bcae$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('ccb173d5-a43f-4f64-87a9-de93e0d0dc1b','c6dd2901-edb2-4e1a-a21e-130d9d6f4caf','268fc7fa-bee2-427c-9cd9-ce5f33d805c9','Qmckbd4YBBQnhxiRFYRbTENSBDhJAojeNKrX3bP267A9Q3','a0e10628-44b4-4d6a-8dd6-9b39ec5894cc.mp3','/file_storage/Qmckbd4YBBQnhxiRFYRbTENSBDhJAojeNKrX3bP267A9Q3','copy320','2020-03-05 17:34:46.855 +00:00','2020-03-05 17:34:46.855 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_95c3b91819274e15938fd9e60e74bcae$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (e47927fd-6eb2-467e-afea-765214564ea3): COMMIT;
{ fileUUID: 'ccb173d5-a43f-4f64-87a9-de93e0d0dc1b',
  cnodeUserUUID: 'c6dd2901-edb2-4e1a-a21e-130d9d6f4caf',
  multihash: 'Qmckbd4YBBQnhxiRFYRbTENSBDhJAojeNKrX3bP267A9Q3',
  sourceFile: 'a0e10628-44b4-4d6a-8dd6-9b39ec5894cc.mp3',
  storagePath:
   '/file_storage/Qmckbd4YBBQnhxiRFYRbTENSBDhJAojeNKrX3bP267A9Q3',
  type: 'copy320',
  trackUUID: '268fc7fa-bee2-427c-9cd9-ce5f33d805c9',
  updatedAt: 2020-03-05T17:34:46.855Z,
  createdAt: 2020-03-05T17:34:46.855Z }
writing to db2...
Executing (0df54a40-3019-4146-9920-31a564b55bf8): START TRANSACTION;
Executing (0df54a40-3019-4146-9920-31a564b55bf8): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = 'c6dd2901-edb2-4e1a-a21e-130d9d6f4caf' AND "File"."multihash" = 'Qmckbd4YBBQnhxiRFYRbTENSBDhJAojeNKrX3bP267A9Q3' AND "File"."sourceFile" = 'a0e10628-44b4-4d6a-8dd6-9b39ec5894cc.mp3' AND "File"."storagePath" = '/file_storage/Qmckbd4YBBQnhxiRFYRbTENSBDhJAojeNKrX3bP267A9Q3' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '268fc7fa-bee2-427c-9cd9-ce5f33d805c9' LIMIT 1;
Executing (0df54a40-3019-4146-9920-31a564b55bf8): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_2200fa240a2b4997b8dd1ef113f0c800$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('3bb7ab73-102e-458a-8a53-1a5e4e28b7c2','c6dd2901-edb2-4e1a-a21e-130d9d6f4caf','268fc7fa-bee2-427c-9cd9-ce5f33d805c9','Qmckbd4YBBQnhxiRFYRbTENSBDhJAojeNKrX3bP267A9Q3','a0e10628-44b4-4d6a-8dd6-9b39ec5894cc.mp3','/file_storage/Qmckbd4YBBQnhxiRFYRbTENSBDhJAojeNKrX3bP267A9Q3','copy320','2020-03-05 17:34:47.250 +00:00','2020-03-05 17:34:47.250 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_2200fa240a2b4997b8dd1ef113f0c800$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (0df54a40-3019-4146-9920-31a564b55bf8): COMMIT;
{ fileUUID: '3bb7ab73-102e-458a-8a53-1a5e4e28b7c2',
  cnodeUserUUID: 'c6dd2901-edb2-4e1a-a21e-130d9d6f4caf',
  multihash: 'Qmckbd4YBBQnhxiRFYRbTENSBDhJAojeNKrX3bP267A9Q3',
  sourceFile: 'a0e10628-44b4-4d6a-8dd6-9b39ec5894cc.mp3',
  storagePath:
   '/file_storage/Qmckbd4YBBQnhxiRFYRbTENSBDhJAojeNKrX3bP267A9Q3',
  type: 'copy320',
  trackUUID: '268fc7fa-bee2-427c-9cd9-ce5f33d805c9',
  updatedAt: 2020-03-05T17:34:47.250Z,
  createdAt: 2020-03-05T17:34:47.250Z }
writing to db3...
Executing (6f14a015-9656-4a01-98d6-a392a55d0948): START TRANSACTION;
Executing (6f14a015-9656-4a01-98d6-a392a55d0948): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = 'c6dd2901-edb2-4e1a-a21e-130d9d6f4caf' AND "File"."multihash" = 'Qmckbd4YBBQnhxiRFYRbTENSBDhJAojeNKrX3bP267A9Q3' AND "File"."sourceFile" = 'a0e10628-44b4-4d6a-8dd6-9b39ec5894cc.mp3' AND "File"."storagePath" = '/file_storage/Qmckbd4YBBQnhxiRFYRbTENSBDhJAojeNKrX3bP267A9Q3' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '268fc7fa-bee2-427c-9cd9-ce5f33d805c9' LIMIT 1;
Executing (6f14a015-9656-4a01-98d6-a392a55d0948): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_25fd420355d44bd6908a8c4de4dec1ac$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('6b158c9b-764e-494c-817c-5044e20812d6','c6dd2901-edb2-4e1a-a21e-130d9d6f4caf','268fc7fa-bee2-427c-9cd9-ce5f33d805c9','Qmckbd4YBBQnhxiRFYRbTENSBDhJAojeNKrX3bP267A9Q3','a0e10628-44b4-4d6a-8dd6-9b39ec5894cc.mp3','/file_storage/Qmckbd4YBBQnhxiRFYRbTENSBDhJAojeNKrX3bP267A9Q3','copy320','2020-03-05 17:34:47.667 +00:00','2020-03-05 17:34:47.667 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_25fd420355d44bd6908a8c4de4dec1ac$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (6f14a015-9656-4a01-98d6-a392a55d0948): COMMIT;
{ fileUUID: '6b158c9b-764e-494c-817c-5044e20812d6',
  cnodeUserUUID: 'c6dd2901-edb2-4e1a-a21e-130d9d6f4caf',
  multihash: 'Qmckbd4YBBQnhxiRFYRbTENSBDhJAojeNKrX3bP267A9Q3',
  sourceFile: 'a0e10628-44b4-4d6a-8dd6-9b39ec5894cc.mp3',
  storagePath:
   '/file_storage/Qmckbd4YBBQnhxiRFYRbTENSBDhJAojeNKrX3bP267A9Q3',
  type: 'copy320',
  trackUUID: '268fc7fa-bee2-427c-9cd9-ce5f33d805c9',
  updatedAt: 2020-03-05T17:34:47.667Z,
  createdAt: 2020-03-05T17:34:47.667Z }




PROCESSING ROW #156: sourcefile: b8959a0b-c856-4008-931d-be6fe22b0e8f.mp3, cnodeUserUUID: 4cefba97-54fc-4139-8819-795b47e681e0, trackUUID: 47cfe6f8-e459-4026-9792-9e116d2a2db8, multihash: QmYCAaTjBANHR6aaidJdZ3BsYYy6m127A4wPFqFrF1KLRi, dstPath: /file_storage/QmYCAaTjBANHR6aaidJdZ3BsYYy6m127A4wPFqFrF1KLRi
writing to db1...
Executing (011d60e7-201d-4a4d-91be-a08918a0380e): START TRANSACTION;
Executing (011d60e7-201d-4a4d-91be-a08918a0380e): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '4cefba97-54fc-4139-8819-795b47e681e0' AND "File"."multihash" = 'QmYCAaTjBANHR6aaidJdZ3BsYYy6m127A4wPFqFrF1KLRi' AND "File"."sourceFile" = 'b8959a0b-c856-4008-931d-be6fe22b0e8f.mp3' AND "File"."storagePath" = '/file_storage/QmYCAaTjBANHR6aaidJdZ3BsYYy6m127A4wPFqFrF1KLRi' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '47cfe6f8-e459-4026-9792-9e116d2a2db8' LIMIT 1;
Executing (011d60e7-201d-4a4d-91be-a08918a0380e): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_be438b69575a40ae8140840596c6fdab$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('ffaae2c3-6ee5-48b9-9a66-c80cad68125f','4cefba97-54fc-4139-8819-795b47e681e0','47cfe6f8-e459-4026-9792-9e116d2a2db8','QmYCAaTjBANHR6aaidJdZ3BsYYy6m127A4wPFqFrF1KLRi','b8959a0b-c856-4008-931d-be6fe22b0e8f.mp3','/file_storage/QmYCAaTjBANHR6aaidJdZ3BsYYy6m127A4wPFqFrF1KLRi','copy320','2020-03-05 17:34:48.062 +00:00','2020-03-05 17:34:48.062 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_be438b69575a40ae8140840596c6fdab$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (011d60e7-201d-4a4d-91be-a08918a0380e): COMMIT;
{ fileUUID: 'ffaae2c3-6ee5-48b9-9a66-c80cad68125f',
  cnodeUserUUID: '4cefba97-54fc-4139-8819-795b47e681e0',
  multihash: 'QmYCAaTjBANHR6aaidJdZ3BsYYy6m127A4wPFqFrF1KLRi',
  sourceFile: 'b8959a0b-c856-4008-931d-be6fe22b0e8f.mp3',
  storagePath:
   '/file_storage/QmYCAaTjBANHR6aaidJdZ3BsYYy6m127A4wPFqFrF1KLRi',
  type: 'copy320',
  trackUUID: '47cfe6f8-e459-4026-9792-9e116d2a2db8',
  updatedAt: 2020-03-05T17:34:48.062Z,
  createdAt: 2020-03-05T17:34:48.062Z }
writing to db2...
Executing (6369eafe-2b62-42f4-b9a1-b981c02eea9c): START TRANSACTION;
Executing (6369eafe-2b62-42f4-b9a1-b981c02eea9c): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '4cefba97-54fc-4139-8819-795b47e681e0' AND "File"."multihash" = 'QmYCAaTjBANHR6aaidJdZ3BsYYy6m127A4wPFqFrF1KLRi' AND "File"."sourceFile" = 'b8959a0b-c856-4008-931d-be6fe22b0e8f.mp3' AND "File"."storagePath" = '/file_storage/QmYCAaTjBANHR6aaidJdZ3BsYYy6m127A4wPFqFrF1KLRi' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '47cfe6f8-e459-4026-9792-9e116d2a2db8' LIMIT 1;
Executing (6369eafe-2b62-42f4-b9a1-b981c02eea9c): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_465e07f2a7354cc2b337fc4c81a63f69$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('15dbb199-68f1-4b1a-8009-96169cb688d5','4cefba97-54fc-4139-8819-795b47e681e0','47cfe6f8-e459-4026-9792-9e116d2a2db8','QmYCAaTjBANHR6aaidJdZ3BsYYy6m127A4wPFqFrF1KLRi','b8959a0b-c856-4008-931d-be6fe22b0e8f.mp3','/file_storage/QmYCAaTjBANHR6aaidJdZ3BsYYy6m127A4wPFqFrF1KLRi','copy320','2020-03-05 17:34:48.458 +00:00','2020-03-05 17:34:48.458 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_465e07f2a7354cc2b337fc4c81a63f69$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (6369eafe-2b62-42f4-b9a1-b981c02eea9c): COMMIT;
{ fileUUID: '15dbb199-68f1-4b1a-8009-96169cb688d5',
  cnodeUserUUID: '4cefba97-54fc-4139-8819-795b47e681e0',
  multihash: 'QmYCAaTjBANHR6aaidJdZ3BsYYy6m127A4wPFqFrF1KLRi',
  sourceFile: 'b8959a0b-c856-4008-931d-be6fe22b0e8f.mp3',
  storagePath:
   '/file_storage/QmYCAaTjBANHR6aaidJdZ3BsYYy6m127A4wPFqFrF1KLRi',
  type: 'copy320',
  trackUUID: '47cfe6f8-e459-4026-9792-9e116d2a2db8',
  updatedAt: 2020-03-05T17:34:48.458Z,
  createdAt: 2020-03-05T17:34:48.458Z }
writing to db3...
Executing (cefe9d3b-9a27-4e2b-b189-2f6e51caa732): START TRANSACTION;
Executing (cefe9d3b-9a27-4e2b-b189-2f6e51caa732): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '4cefba97-54fc-4139-8819-795b47e681e0' AND "File"."multihash" = 'QmYCAaTjBANHR6aaidJdZ3BsYYy6m127A4wPFqFrF1KLRi' AND "File"."sourceFile" = 'b8959a0b-c856-4008-931d-be6fe22b0e8f.mp3' AND "File"."storagePath" = '/file_storage/QmYCAaTjBANHR6aaidJdZ3BsYYy6m127A4wPFqFrF1KLRi' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '47cfe6f8-e459-4026-9792-9e116d2a2db8' LIMIT 1;
Executing (cefe9d3b-9a27-4e2b-b189-2f6e51caa732): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_44668fb661bd49d199a5fa540aebbc0e$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('195f0fe2-225f-4b67-8282-1eb661f6e0a4','4cefba97-54fc-4139-8819-795b47e681e0','47cfe6f8-e459-4026-9792-9e116d2a2db8','QmYCAaTjBANHR6aaidJdZ3BsYYy6m127A4wPFqFrF1KLRi','b8959a0b-c856-4008-931d-be6fe22b0e8f.mp3','/file_storage/QmYCAaTjBANHR6aaidJdZ3BsYYy6m127A4wPFqFrF1KLRi','copy320','2020-03-05 17:34:48.851 +00:00','2020-03-05 17:34:48.851 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_44668fb661bd49d199a5fa540aebbc0e$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (cefe9d3b-9a27-4e2b-b189-2f6e51caa732): COMMIT;
{ SequelizeForeignKeyConstraintError: insert or update on table "Files" violates foreign key constraint "Files_trackUUID_fkey"
    at Query.formatError (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/sequelize/lib/dialects/postgres/query.js:296:16)
    at query.catch.err (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/sequelize/lib/dialects/postgres/query.js:86:18)
    at tryCatcher (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/bluebird/js/release/util.js:16:23)
    at Promise._settlePromiseFromHandler (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/bluebird/js/release/promise.js:517:31)
    at Promise._settlePromise (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/bluebird/js/release/promise.js:574:18)
    at Promise._settlePromise0 (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/bluebird/js/release/promise.js:619:10)
    at Promise._settlePromises (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/bluebird/js/release/promise.js:695:18)
    at _drainQueueStep (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/bluebird/js/release/async.js:138:12)
    at _drainQueue (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/bluebird/js/release/async.js:131:9)
    at Async._drainQueues (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/bluebird/js/release/async.js:147:5)
    at Immediate.Async.drainQueues [as _onImmediate] (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/bluebird/js/release/async.js:17:14)
    at runCallback (timers.js:705:18)
    at tryOnImmediate (timers.js:676:5)
    at processImmediate (timers.js:658:5)
  name: 'SequelizeForeignKeyConstraintError',
  parent:
   { error: insert or update on table "Files" violates foreign key constraint "Files_trackUUID_fkey"
       at Connection.parseE (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/pg/lib/connection.js:604:11)
       at Connection.parseMessage (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/pg/lib/connection.js:401:19)
       at Socket.<anonymous> (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/pg/lib/connection.js:121:22)
       at Socket.emit (events.js:198:13)
       at addChunk (_stream_readable.js:288:12)
       at readableAddChunk (_stream_readable.js:269:11)
       at Socket.Readable.push (_stream_readable.js:224:10)
       at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)
     name: 'error',
     length: 865,
     severity: 'ERROR',
     code: '23503',
     detail:
      'Key (trackUUID)=(47cfe6f8-e459-4026-9792-9e116d2a2db8) is not present in table "Tracks".',
     hint: undefined,
     position: undefined,
     internalPosition: undefined,
     internalQuery: undefined,
     where:
      'SQL statement "INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES (\'195f0fe2-225f-4b67-8282-1eb661f6e0a4\',\'4cefba97-54fc-4139-8819-795b47e681e0\',\'47cfe6f8-e459-4026-9792-9e116d2a2db8\',\'QmYCAaTjBANHR6aaidJdZ3BsYYy6m127A4wPFqFrF1KLRi\',\'b8959a0b-c856-4008-931d-be6fe22b0e8f.mp3\',\'/file_storage/QmYCAaTjBANHR6aaidJdZ3BsYYy6m127A4wPFqFrF1KLRi\',\'copy320\',\'2020-03-05 17:34:48.851 +00:00\',\'2020-03-05 17:34:48.851 +00:00\') RETURNING *"\nPL/pgSQL function pg_temp_65.testfunc() line 1 at SQL statement',
     schema: 'public',
     table: 'Files',
     column: undefined,
     dataType: undefined,
     constraint: 'Files_trackUUID_fkey',
     file: 'ri_triggers.c',
     line: '2783',
     routine: 'ri_ReportViolation',
     sql:
      'CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_44668fb661bd49d199a5fa540aebbc0e$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES (\'195f0fe2-225f-4b67-8282-1eb661f6e0a4\',\'4cefba97-54fc-4139-8819-795b47e681e0\',\'47cfe6f8-e459-4026-9792-9e116d2a2db8\',\'QmYCAaTjBANHR6aaidJdZ3BsYYy6m127A4wPFqFrF1KLRi\',\'b8959a0b-c856-4008-931d-be6fe22b0e8f.mp3\',\'/file_storage/QmYCAaTjBANHR6aaidJdZ3BsYYy6m127A4wPFqFrF1KLRi\',\'copy320\',\'2020-03-05 17:34:48.851 +00:00\',\'2020-03-05 17:34:48.851 +00:00\') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_44668fb661bd49d199a5fa540aebbc0e$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();' },
  original:
   { error: insert or update on table "Files" violates foreign key constraint "Files_trackUUID_fkey"
       at Connection.parseE (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/pg/lib/connection.js:604:11)
       at Connection.parseMessage (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/pg/lib/connection.js:401:19)
       at Socket.<anonymous> (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/pg/lib/connection.js:121:22)
       at Socket.emit (events.js:198:13)
       at addChunk (_stream_readable.js:288:12)
       at readableAddChunk (_stream_readable.js:269:11)
       at Socket.Readable.push (_stream_readable.js:224:10)
       at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)
     name: 'error',
     length: 865,
     severity: 'ERROR',
     code: '23503',
     detail:
      'Key (trackUUID)=(47cfe6f8-e459-4026-9792-9e116d2a2db8) is not present in table "Tracks".',
     hint: undefined,
     position: undefined,
     internalPosition: undefined,
     internalQuery: undefined,
     where:
      'SQL statement "INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES (\'195f0fe2-225f-4b67-8282-1eb661f6e0a4\',\'4cefba97-54fc-4139-8819-795b47e681e0\',\'47cfe6f8-e459-4026-9792-9e116d2a2db8\',\'QmYCAaTjBANHR6aaidJdZ3BsYYy6m127A4wPFqFrF1KLRi\',\'b8959a0b-c856-4008-931d-be6fe22b0e8f.mp3\',\'/file_storage/QmYCAaTjBANHR6aaidJdZ3BsYYy6m127A4wPFqFrF1KLRi\',\'copy320\',\'2020-03-05 17:34:48.851 +00:00\',\'2020-03-05 17:34:48.851 +00:00\') RETURNING *"\nPL/pgSQL function pg_temp_65.testfunc() line 1 at SQL statement',
     schema: 'public',
     table: 'Files',
     column: undefined,
     dataType: undefined,
     constraint: 'Files_trackUUID_fkey',
     file: 'ri_triggers.c',
     line: '2783',
     routine: 'ri_ReportViolation',
     sql:
      'CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_44668fb661bd49d199a5fa540aebbc0e$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES (\'195f0fe2-225f-4b67-8282-1eb661f6e0a4\',\'4cefba97-54fc-4139-8819-795b47e681e0\',\'47cfe6f8-e459-4026-9792-9e116d2a2db8\',\'QmYCAaTjBANHR6aaidJdZ3BsYYy6m127A4wPFqFrF1KLRi\',\'b8959a0b-c856-4008-931d-be6fe22b0e8f.mp3\',\'/file_storage/QmYCAaTjBANHR6aaidJdZ3BsYYy6m127A4wPFqFrF1KLRi\',\'copy320\',\'2020-03-05 17:34:48.851 +00:00\',\'2020-03-05 17:34:48.851 +00:00\') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_44668fb661bd49d199a5fa540aebbc0e$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();' },
  sql:
   'CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_44668fb661bd49d199a5fa540aebbc0e$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES (\'195f0fe2-225f-4b67-8282-1eb661f6e0a4\',\'4cefba97-54fc-4139-8819-795b47e681e0\',\'47cfe6f8-e459-4026-9792-9e116d2a2db8\',\'QmYCAaTjBANHR6aaidJdZ3BsYYy6m127A4wPFqFrF1KLRi\',\'b8959a0b-c856-4008-931d-be6fe22b0e8f.mp3\',\'/file_storage/QmYCAaTjBANHR6aaidJdZ3BsYYy6m127A4wPFqFrF1KLRi\',\'copy320\',\'2020-03-05 17:34:48.851 +00:00\',\'2020-03-05 17:34:48.851 +00:00\') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_44668fb661bd49d199a5fa540aebbc0e$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();',
  fields: null,
  table: 'Files',
  value: undefined,
  index: 'Files_trackUUID_fkey',
  reltype: undefined }




PROCESSING ROW #157: sourcefile: d68168b3-4c44-4ab8-9cb5-a811dd3efed8.mp3, cnodeUserUUID: 3ad07641-059d-427d-9ee4-257306abe1b7, trackUUID: a3d99efe-3cdf-4778-ac4f-48d792560c9a, multihash: QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM, dstPath: /file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM
writing to db1...
Executing (1521abd6-e809-490a-80c9-9ced3c2edb05): START TRANSACTION;
Executing (1521abd6-e809-490a-80c9-9ced3c2edb05): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '3ad07641-059d-427d-9ee4-257306abe1b7' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = 'd68168b3-4c44-4ab8-9cb5-a811dd3efed8.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = 'a3d99efe-3cdf-4778-ac4f-48d792560c9a' LIMIT 1;
Executing (1521abd6-e809-490a-80c9-9ced3c2edb05): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_610e479ff1fa4c17a1686e79e84085cc$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('cab05906-e49d-46e4-a38e-5c61fe5aeb07','3ad07641-059d-427d-9ee4-257306abe1b7','a3d99efe-3cdf-4778-ac4f-48d792560c9a','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','d68168b3-4c44-4ab8-9cb5-a811dd3efed8.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:34:49.244 +00:00','2020-03-05 17:34:49.244 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_610e479ff1fa4c17a1686e79e84085cc$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (1521abd6-e809-490a-80c9-9ced3c2edb05): COMMIT;
{ fileUUID: 'cab05906-e49d-46e4-a38e-5c61fe5aeb07',
  cnodeUserUUID: '3ad07641-059d-427d-9ee4-257306abe1b7',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: 'd68168b3-4c44-4ab8-9cb5-a811dd3efed8.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: 'a3d99efe-3cdf-4778-ac4f-48d792560c9a',
  updatedAt: 2020-03-05T17:34:49.244Z,
  createdAt: 2020-03-05T17:34:49.244Z }
writing to db2...
Executing (49e38a5e-3a30-43f4-a1cb-6f8e27e6e1b4): START TRANSACTION;
Executing (49e38a5e-3a30-43f4-a1cb-6f8e27e6e1b4): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '3ad07641-059d-427d-9ee4-257306abe1b7' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = 'd68168b3-4c44-4ab8-9cb5-a811dd3efed8.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = 'a3d99efe-3cdf-4778-ac4f-48d792560c9a' LIMIT 1;
Executing (49e38a5e-3a30-43f4-a1cb-6f8e27e6e1b4): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_e76e0577138b4cbbbff359df4b15115f$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('97799c22-817c-45a1-b2c5-f73b362a1a7b','3ad07641-059d-427d-9ee4-257306abe1b7','a3d99efe-3cdf-4778-ac4f-48d792560c9a','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','d68168b3-4c44-4ab8-9cb5-a811dd3efed8.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:34:49.646 +00:00','2020-03-05 17:34:49.646 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_e76e0577138b4cbbbff359df4b15115f$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (49e38a5e-3a30-43f4-a1cb-6f8e27e6e1b4): COMMIT;
{ fileUUID: '97799c22-817c-45a1-b2c5-f73b362a1a7b',
  cnodeUserUUID: '3ad07641-059d-427d-9ee4-257306abe1b7',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: 'd68168b3-4c44-4ab8-9cb5-a811dd3efed8.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: 'a3d99efe-3cdf-4778-ac4f-48d792560c9a',
  updatedAt: 2020-03-05T17:34:49.646Z,
  createdAt: 2020-03-05T17:34:49.646Z }
writing to db3...
Executing (d199d4ca-8e4c-48a7-8b73-ccf0b1dcac17): START TRANSACTION;
Executing (d199d4ca-8e4c-48a7-8b73-ccf0b1dcac17): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '3ad07641-059d-427d-9ee4-257306abe1b7' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = 'd68168b3-4c44-4ab8-9cb5-a811dd3efed8.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = 'a3d99efe-3cdf-4778-ac4f-48d792560c9a' LIMIT 1;
Executing (d199d4ca-8e4c-48a7-8b73-ccf0b1dcac17): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_074441a24a614afc8d897af5f504ac02$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('5d932393-fbc4-4046-aa2f-ceafc705c5ce','3ad07641-059d-427d-9ee4-257306abe1b7','a3d99efe-3cdf-4778-ac4f-48d792560c9a','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','d68168b3-4c44-4ab8-9cb5-a811dd3efed8.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:34:50.044 +00:00','2020-03-05 17:34:50.044 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_074441a24a614afc8d897af5f504ac02$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (d199d4ca-8e4c-48a7-8b73-ccf0b1dcac17): COMMIT;
{ fileUUID: '5d932393-fbc4-4046-aa2f-ceafc705c5ce',
  cnodeUserUUID: '3ad07641-059d-427d-9ee4-257306abe1b7',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: 'd68168b3-4c44-4ab8-9cb5-a811dd3efed8.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: 'a3d99efe-3cdf-4778-ac4f-48d792560c9a',
  updatedAt: 2020-03-05T17:34:50.044Z,
  createdAt: 2020-03-05T17:34:50.044Z }




PROCESSING ROW #158: sourcefile: d367dac3-26ca-412c-b0ad-253c32d9915e.mp3, cnodeUserUUID: 8aefd2ee-77ea-4c0c-9ee3-cb64d794e399, trackUUID: 11f7e6f2-6afc-4582-a60a-b06a88783e2e, multihash: QmcAD35vXY3h9iXGDF2sLTMTZ4QER63yKVoFrJQUpps6bq, dstPath: /file_storage/QmcAD35vXY3h9iXGDF2sLTMTZ4QER63yKVoFrJQUpps6bq
writing to db1...
Executing (1635ff01-aa8f-4d6a-b5a2-0622aa75d5bf): START TRANSACTION;
Executing (1635ff01-aa8f-4d6a-b5a2-0622aa75d5bf): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '8aefd2ee-77ea-4c0c-9ee3-cb64d794e399' AND "File"."multihash" = 'QmcAD35vXY3h9iXGDF2sLTMTZ4QER63yKVoFrJQUpps6bq' AND "File"."sourceFile" = 'd367dac3-26ca-412c-b0ad-253c32d9915e.mp3' AND "File"."storagePath" = '/file_storage/QmcAD35vXY3h9iXGDF2sLTMTZ4QER63yKVoFrJQUpps6bq' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '11f7e6f2-6afc-4582-a60a-b06a88783e2e' LIMIT 1;
Executing (1635ff01-aa8f-4d6a-b5a2-0622aa75d5bf): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_e99a7d37f0944c1ebf600839405d5f99$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('791cd727-4209-4e5a-92f9-f440376acb26','8aefd2ee-77ea-4c0c-9ee3-cb64d794e399','11f7e6f2-6afc-4582-a60a-b06a88783e2e','QmcAD35vXY3h9iXGDF2sLTMTZ4QER63yKVoFrJQUpps6bq','d367dac3-26ca-412c-b0ad-253c32d9915e.mp3','/file_storage/QmcAD35vXY3h9iXGDF2sLTMTZ4QER63yKVoFrJQUpps6bq','copy320','2020-03-05 17:34:50.436 +00:00','2020-03-05 17:34:50.436 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_e99a7d37f0944c1ebf600839405d5f99$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (1635ff01-aa8f-4d6a-b5a2-0622aa75d5bf): COMMIT;
{ fileUUID: '791cd727-4209-4e5a-92f9-f440376acb26',
  cnodeUserUUID: '8aefd2ee-77ea-4c0c-9ee3-cb64d794e399',
  multihash: 'QmcAD35vXY3h9iXGDF2sLTMTZ4QER63yKVoFrJQUpps6bq',
  sourceFile: 'd367dac3-26ca-412c-b0ad-253c32d9915e.mp3',
  storagePath:
   '/file_storage/QmcAD35vXY3h9iXGDF2sLTMTZ4QER63yKVoFrJQUpps6bq',
  type: 'copy320',
  trackUUID: '11f7e6f2-6afc-4582-a60a-b06a88783e2e',
  updatedAt: 2020-03-05T17:34:50.436Z,
  createdAt: 2020-03-05T17:34:50.436Z }
writing to db2...
Executing (6da7efb4-6420-4dc9-9438-954a93d65177): START TRANSACTION;
Executing (6da7efb4-6420-4dc9-9438-954a93d65177): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '8aefd2ee-77ea-4c0c-9ee3-cb64d794e399' AND "File"."multihash" = 'QmcAD35vXY3h9iXGDF2sLTMTZ4QER63yKVoFrJQUpps6bq' AND "File"."sourceFile" = 'd367dac3-26ca-412c-b0ad-253c32d9915e.mp3' AND "File"."storagePath" = '/file_storage/QmcAD35vXY3h9iXGDF2sLTMTZ4QER63yKVoFrJQUpps6bq' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '11f7e6f2-6afc-4582-a60a-b06a88783e2e' LIMIT 1;
Executing (6da7efb4-6420-4dc9-9438-954a93d65177): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_f10ba359edf94bbbb7eae9c50efb7a0f$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('6e03a7d0-c4a4-4290-aee3-c7fd13024166','8aefd2ee-77ea-4c0c-9ee3-cb64d794e399','11f7e6f2-6afc-4582-a60a-b06a88783e2e','QmcAD35vXY3h9iXGDF2sLTMTZ4QER63yKVoFrJQUpps6bq','d367dac3-26ca-412c-b0ad-253c32d9915e.mp3','/file_storage/QmcAD35vXY3h9iXGDF2sLTMTZ4QER63yKVoFrJQUpps6bq','copy320','2020-03-05 17:34:50.824 +00:00','2020-03-05 17:34:50.824 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_f10ba359edf94bbbb7eae9c50efb7a0f$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (6da7efb4-6420-4dc9-9438-954a93d65177): COMMIT;
{ fileUUID: '6e03a7d0-c4a4-4290-aee3-c7fd13024166',
  cnodeUserUUID: '8aefd2ee-77ea-4c0c-9ee3-cb64d794e399',
  multihash: 'QmcAD35vXY3h9iXGDF2sLTMTZ4QER63yKVoFrJQUpps6bq',
  sourceFile: 'd367dac3-26ca-412c-b0ad-253c32d9915e.mp3',
  storagePath:
   '/file_storage/QmcAD35vXY3h9iXGDF2sLTMTZ4QER63yKVoFrJQUpps6bq',
  type: 'copy320',
  trackUUID: '11f7e6f2-6afc-4582-a60a-b06a88783e2e',
  updatedAt: 2020-03-05T17:34:50.824Z,
  createdAt: 2020-03-05T17:34:50.824Z }
writing to db3...
Executing (c24c14ae-b45b-452c-84c7-59dba53c71d6): START TRANSACTION;
Executing (c24c14ae-b45b-452c-84c7-59dba53c71d6): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '8aefd2ee-77ea-4c0c-9ee3-cb64d794e399' AND "File"."multihash" = 'QmcAD35vXY3h9iXGDF2sLTMTZ4QER63yKVoFrJQUpps6bq' AND "File"."sourceFile" = 'd367dac3-26ca-412c-b0ad-253c32d9915e.mp3' AND "File"."storagePath" = '/file_storage/QmcAD35vXY3h9iXGDF2sLTMTZ4QER63yKVoFrJQUpps6bq' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '11f7e6f2-6afc-4582-a60a-b06a88783e2e' LIMIT 1;
Executing (c24c14ae-b45b-452c-84c7-59dba53c71d6): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_a6ac05eea01e46b7b352f9a53e38841e$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('45dcee80-4772-43e0-8d0c-168a0a69c431','8aefd2ee-77ea-4c0c-9ee3-cb64d794e399','11f7e6f2-6afc-4582-a60a-b06a88783e2e','QmcAD35vXY3h9iXGDF2sLTMTZ4QER63yKVoFrJQUpps6bq','d367dac3-26ca-412c-b0ad-253c32d9915e.mp3','/file_storage/QmcAD35vXY3h9iXGDF2sLTMTZ4QER63yKVoFrJQUpps6bq','copy320','2020-03-05 17:34:51.243 +00:00','2020-03-05 17:34:51.243 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_a6ac05eea01e46b7b352f9a53e38841e$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (c24c14ae-b45b-452c-84c7-59dba53c71d6): COMMIT;
{ fileUUID: '45dcee80-4772-43e0-8d0c-168a0a69c431',
  cnodeUserUUID: '8aefd2ee-77ea-4c0c-9ee3-cb64d794e399',
  multihash: 'QmcAD35vXY3h9iXGDF2sLTMTZ4QER63yKVoFrJQUpps6bq',
  sourceFile: 'd367dac3-26ca-412c-b0ad-253c32d9915e.mp3',
  storagePath:
   '/file_storage/QmcAD35vXY3h9iXGDF2sLTMTZ4QER63yKVoFrJQUpps6bq',
  type: 'copy320',
  trackUUID: '11f7e6f2-6afc-4582-a60a-b06a88783e2e',
  updatedAt: 2020-03-05T17:34:51.243Z,
  createdAt: 2020-03-05T17:34:51.243Z }




PROCESSING ROW #159: sourcefile: 87c8981c-b7f5-4782-a350-4e3fc254594c.mp3, cnodeUserUUID: e2cfd07d-7e32-40d7-82b3-0422bbd57938, trackUUID: 505a4389-b731-4464-a6a3-1e4a17c0edb7, multihash: QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM, dstPath: /file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM
writing to db1...
Executing (53d4fdcf-eae3-49ce-b1d7-6e0343b76225): START TRANSACTION;
Executing (53d4fdcf-eae3-49ce-b1d7-6e0343b76225): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = 'e2cfd07d-7e32-40d7-82b3-0422bbd57938' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = '87c8981c-b7f5-4782-a350-4e3fc254594c.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '505a4389-b731-4464-a6a3-1e4a17c0edb7' LIMIT 1;
Executing (53d4fdcf-eae3-49ce-b1d7-6e0343b76225): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_ac40d60da77640ce8d3be13282fecfd7$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('e395743b-845c-49b4-8b94-fc38577a45f6','e2cfd07d-7e32-40d7-82b3-0422bbd57938','505a4389-b731-4464-a6a3-1e4a17c0edb7','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','87c8981c-b7f5-4782-a350-4e3fc254594c.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:34:51.655 +00:00','2020-03-05 17:34:51.655 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_ac40d60da77640ce8d3be13282fecfd7$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (53d4fdcf-eae3-49ce-b1d7-6e0343b76225): COMMIT;
{ fileUUID: 'e395743b-845c-49b4-8b94-fc38577a45f6',
  cnodeUserUUID: 'e2cfd07d-7e32-40d7-82b3-0422bbd57938',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: '87c8981c-b7f5-4782-a350-4e3fc254594c.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: '505a4389-b731-4464-a6a3-1e4a17c0edb7',
  updatedAt: 2020-03-05T17:34:51.655Z,
  createdAt: 2020-03-05T17:34:51.655Z }
writing to db2...
Executing (bb88cb96-5749-49c0-8700-3b468d76fb1f): START TRANSACTION;
Executing (bb88cb96-5749-49c0-8700-3b468d76fb1f): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = 'e2cfd07d-7e32-40d7-82b3-0422bbd57938' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = '87c8981c-b7f5-4782-a350-4e3fc254594c.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '505a4389-b731-4464-a6a3-1e4a17c0edb7' LIMIT 1;
Executing (bb88cb96-5749-49c0-8700-3b468d76fb1f): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_dcab466242434b719df34ade4342a87e$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('dcc76787-80d3-4cc7-a7a4-b3e71c86d3db','e2cfd07d-7e32-40d7-82b3-0422bbd57938','505a4389-b731-4464-a6a3-1e4a17c0edb7','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','87c8981c-b7f5-4782-a350-4e3fc254594c.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:34:52.065 +00:00','2020-03-05 17:34:52.065 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_dcab466242434b719df34ade4342a87e$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (bb88cb96-5749-49c0-8700-3b468d76fb1f): COMMIT;
{ fileUUID: 'dcc76787-80d3-4cc7-a7a4-b3e71c86d3db',
  cnodeUserUUID: 'e2cfd07d-7e32-40d7-82b3-0422bbd57938',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: '87c8981c-b7f5-4782-a350-4e3fc254594c.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: '505a4389-b731-4464-a6a3-1e4a17c0edb7',
  updatedAt: 2020-03-05T17:34:52.065Z,
  createdAt: 2020-03-05T17:34:52.065Z }
writing to db3...
Executing (4de25202-f7ac-4c6a-9830-f1573955b735): START TRANSACTION;
Executing (4de25202-f7ac-4c6a-9830-f1573955b735): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = 'e2cfd07d-7e32-40d7-82b3-0422bbd57938' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = '87c8981c-b7f5-4782-a350-4e3fc254594c.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '505a4389-b731-4464-a6a3-1e4a17c0edb7' LIMIT 1;
Executing (4de25202-f7ac-4c6a-9830-f1573955b735): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_326b8c5666c94b81b042d96f781b40f9$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('6e9af217-7d8b-4829-9743-6f5158b5143a','e2cfd07d-7e32-40d7-82b3-0422bbd57938','505a4389-b731-4464-a6a3-1e4a17c0edb7','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','87c8981c-b7f5-4782-a350-4e3fc254594c.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:34:52.468 +00:00','2020-03-05 17:34:52.468 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_326b8c5666c94b81b042d96f781b40f9$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (4de25202-f7ac-4c6a-9830-f1573955b735): COMMIT;
{ fileUUID: '6e9af217-7d8b-4829-9743-6f5158b5143a',
  cnodeUserUUID: 'e2cfd07d-7e32-40d7-82b3-0422bbd57938',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: '87c8981c-b7f5-4782-a350-4e3fc254594c.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: '505a4389-b731-4464-a6a3-1e4a17c0edb7',
  updatedAt: 2020-03-05T17:34:52.468Z,
  createdAt: 2020-03-05T17:34:52.468Z }




PROCESSING ROW #160: sourcefile: 3ae544c5-d4ef-4595-a8bd-29f16f895363.mp3, cnodeUserUUID: 5ac18816-98ac-438a-a5c0-c3ff061afa1f, trackUUID: 5a3fab71-f495-4d7c-9e51-0073ce52e11d, multihash: QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM, dstPath: /file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM
writing to db1...
Executing (3ff63296-8b58-4a39-b356-f6d241e82bed): START TRANSACTION;
Executing (3ff63296-8b58-4a39-b356-f6d241e82bed): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '5ac18816-98ac-438a-a5c0-c3ff061afa1f' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = '3ae544c5-d4ef-4595-a8bd-29f16f895363.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '5a3fab71-f495-4d7c-9e51-0073ce52e11d' LIMIT 1;
Executing (3ff63296-8b58-4a39-b356-f6d241e82bed): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_9b0bb60d3fb34d538c122241f56d072f$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('5bb83d86-9ee8-4999-a11f-08021ee6137c','5ac18816-98ac-438a-a5c0-c3ff061afa1f','5a3fab71-f495-4d7c-9e51-0073ce52e11d','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','3ae544c5-d4ef-4595-a8bd-29f16f895363.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:34:52.886 +00:00','2020-03-05 17:34:52.886 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_9b0bb60d3fb34d538c122241f56d072f$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (3ff63296-8b58-4a39-b356-f6d241e82bed): COMMIT;
{ fileUUID: '5bb83d86-9ee8-4999-a11f-08021ee6137c',
  cnodeUserUUID: '5ac18816-98ac-438a-a5c0-c3ff061afa1f',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: '3ae544c5-d4ef-4595-a8bd-29f16f895363.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: '5a3fab71-f495-4d7c-9e51-0073ce52e11d',
  updatedAt: 2020-03-05T17:34:52.886Z,
  createdAt: 2020-03-05T17:34:52.886Z }
writing to db2...
Executing (e121a471-f07e-4bda-ac40-4a54a111fced): START TRANSACTION;
Executing (e121a471-f07e-4bda-ac40-4a54a111fced): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '5ac18816-98ac-438a-a5c0-c3ff061afa1f' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = '3ae544c5-d4ef-4595-a8bd-29f16f895363.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '5a3fab71-f495-4d7c-9e51-0073ce52e11d' LIMIT 1;
Executing (e121a471-f07e-4bda-ac40-4a54a111fced): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_36031c70fde845a4961839ec1788e92a$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('9f98f05b-37c5-4525-8e2b-61016cea8542','5ac18816-98ac-438a-a5c0-c3ff061afa1f','5a3fab71-f495-4d7c-9e51-0073ce52e11d','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','3ae544c5-d4ef-4595-a8bd-29f16f895363.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:34:53.274 +00:00','2020-03-05 17:34:53.274 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_36031c70fde845a4961839ec1788e92a$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (e121a471-f07e-4bda-ac40-4a54a111fced): COMMIT;
{ fileUUID: '9f98f05b-37c5-4525-8e2b-61016cea8542',
  cnodeUserUUID: '5ac18816-98ac-438a-a5c0-c3ff061afa1f',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: '3ae544c5-d4ef-4595-a8bd-29f16f895363.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: '5a3fab71-f495-4d7c-9e51-0073ce52e11d',
  updatedAt: 2020-03-05T17:34:53.274Z,
  createdAt: 2020-03-05T17:34:53.274Z }
writing to db3...
Executing (4c15fcd4-9f30-4fa7-858e-5c3470534a28): START TRANSACTION;
Executing (4c15fcd4-9f30-4fa7-858e-5c3470534a28): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '5ac18816-98ac-438a-a5c0-c3ff061afa1f' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = '3ae544c5-d4ef-4595-a8bd-29f16f895363.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '5a3fab71-f495-4d7c-9e51-0073ce52e11d' LIMIT 1;
Executing (4c15fcd4-9f30-4fa7-858e-5c3470534a28): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_8a837416409247b2a94c052aad305720$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('e663cf09-8768-4f92-8867-1946c74abd69','5ac18816-98ac-438a-a5c0-c3ff061afa1f','5a3fab71-f495-4d7c-9e51-0073ce52e11d','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','3ae544c5-d4ef-4595-a8bd-29f16f895363.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:34:53.672 +00:00','2020-03-05 17:34:53.672 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_8a837416409247b2a94c052aad305720$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (4c15fcd4-9f30-4fa7-858e-5c3470534a28): COMMIT;
{ fileUUID: 'e663cf09-8768-4f92-8867-1946c74abd69',
  cnodeUserUUID: '5ac18816-98ac-438a-a5c0-c3ff061afa1f',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: '3ae544c5-d4ef-4595-a8bd-29f16f895363.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: '5a3fab71-f495-4d7c-9e51-0073ce52e11d',
  updatedAt: 2020-03-05T17:34:53.672Z,
  createdAt: 2020-03-05T17:34:53.672Z }




PROCESSING ROW #161: sourcefile: 1985bc91-84c7-484e-a478-d7aa86686280.mp3, cnodeUserUUID: a8ff10fc-c1fa-4a41-aced-44e535b4787b, trackUUID: e89ec67d-227f-48f9-8ebc-4f900c2e474a, multihash: QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM, dstPath: /file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM
writing to db1...
Executing (fde9dea9-eef7-4ff7-a6f0-b0db648684d0): START TRANSACTION;
Executing (fde9dea9-eef7-4ff7-a6f0-b0db648684d0): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = 'a8ff10fc-c1fa-4a41-aced-44e535b4787b' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = '1985bc91-84c7-484e-a478-d7aa86686280.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = 'e89ec67d-227f-48f9-8ebc-4f900c2e474a' LIMIT 1;
Executing (fde9dea9-eef7-4ff7-a6f0-b0db648684d0): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_df9966c9a8c54207b99f1ac5bf2eb9e7$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('3bfaa551-e046-47e3-89e3-bdd1b561b12f','a8ff10fc-c1fa-4a41-aced-44e535b4787b','e89ec67d-227f-48f9-8ebc-4f900c2e474a','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','1985bc91-84c7-484e-a478-d7aa86686280.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:34:54.066 +00:00','2020-03-05 17:34:54.066 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_df9966c9a8c54207b99f1ac5bf2eb9e7$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (fde9dea9-eef7-4ff7-a6f0-b0db648684d0): COMMIT;
{ fileUUID: '3bfaa551-e046-47e3-89e3-bdd1b561b12f',
  cnodeUserUUID: 'a8ff10fc-c1fa-4a41-aced-44e535b4787b',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: '1985bc91-84c7-484e-a478-d7aa86686280.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: 'e89ec67d-227f-48f9-8ebc-4f900c2e474a',
  updatedAt: 2020-03-05T17:34:54.066Z,
  createdAt: 2020-03-05T17:34:54.066Z }
writing to db2...
Executing (c4c7e2a4-29c0-4850-8fb4-7586cba3a757): START TRANSACTION;
Executing (c4c7e2a4-29c0-4850-8fb4-7586cba3a757): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = 'a8ff10fc-c1fa-4a41-aced-44e535b4787b' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = '1985bc91-84c7-484e-a478-d7aa86686280.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = 'e89ec67d-227f-48f9-8ebc-4f900c2e474a' LIMIT 1;
Executing (c4c7e2a4-29c0-4850-8fb4-7586cba3a757): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_fd6723a66bce4dfd9d71684ad9d08465$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('4cd8af93-d909-49ff-ac7b-da3dd1b9b249','a8ff10fc-c1fa-4a41-aced-44e535b4787b','e89ec67d-227f-48f9-8ebc-4f900c2e474a','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','1985bc91-84c7-484e-a478-d7aa86686280.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:34:54.477 +00:00','2020-03-05 17:34:54.477 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_fd6723a66bce4dfd9d71684ad9d08465$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (c4c7e2a4-29c0-4850-8fb4-7586cba3a757): COMMIT;
{ fileUUID: '4cd8af93-d909-49ff-ac7b-da3dd1b9b249',
  cnodeUserUUID: 'a8ff10fc-c1fa-4a41-aced-44e535b4787b',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: '1985bc91-84c7-484e-a478-d7aa86686280.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: 'e89ec67d-227f-48f9-8ebc-4f900c2e474a',
  updatedAt: 2020-03-05T17:34:54.477Z,
  createdAt: 2020-03-05T17:34:54.477Z }
writing to db3...
Executing (2ae87db8-08c8-416f-88be-78dcda5ed4e5): START TRANSACTION;
Executing (2ae87db8-08c8-416f-88be-78dcda5ed4e5): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = 'a8ff10fc-c1fa-4a41-aced-44e535b4787b' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = '1985bc91-84c7-484e-a478-d7aa86686280.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = 'e89ec67d-227f-48f9-8ebc-4f900c2e474a' LIMIT 1;
Executing (2ae87db8-08c8-416f-88be-78dcda5ed4e5): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_0b4c481ea8ec44c7b85f9c26aa2a57bc$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('def2d836-7240-4031-87da-f0102bdc3447','a8ff10fc-c1fa-4a41-aced-44e535b4787b','e89ec67d-227f-48f9-8ebc-4f900c2e474a','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','1985bc91-84c7-484e-a478-d7aa86686280.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:34:54.905 +00:00','2020-03-05 17:34:54.905 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_0b4c481ea8ec44c7b85f9c26aa2a57bc$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (2ae87db8-08c8-416f-88be-78dcda5ed4e5): COMMIT;
{ fileUUID: 'def2d836-7240-4031-87da-f0102bdc3447',
  cnodeUserUUID: 'a8ff10fc-c1fa-4a41-aced-44e535b4787b',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: '1985bc91-84c7-484e-a478-d7aa86686280.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: 'e89ec67d-227f-48f9-8ebc-4f900c2e474a',
  updatedAt: 2020-03-05T17:34:54.905Z,
  createdAt: 2020-03-05T17:34:54.905Z }




PROCESSING ROW #162: sourcefile: 3039e66f-dcb0-4ad6-bb75-1d0b51717645.mp3, cnodeUserUUID: 7b388389-3527-4746-a1d7-729aef7019a9, trackUUID: 8832e2b6-d476-4798-b9aa-819bc82bc188, multihash: QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM, dstPath: /file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM
writing to db1...
Executing (ab2a43ce-4d54-4ce4-b010-bb1c143dbb28): START TRANSACTION;
Executing (ab2a43ce-4d54-4ce4-b010-bb1c143dbb28): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '7b388389-3527-4746-a1d7-729aef7019a9' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = '3039e66f-dcb0-4ad6-bb75-1d0b51717645.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '8832e2b6-d476-4798-b9aa-819bc82bc188' LIMIT 1;
Executing (ab2a43ce-4d54-4ce4-b010-bb1c143dbb28): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_e76a784651ab46afa0738f7d0eae78a5$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('dc42af6a-d109-451b-8c88-6de965f83031','7b388389-3527-4746-a1d7-729aef7019a9','8832e2b6-d476-4798-b9aa-819bc82bc188','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','3039e66f-dcb0-4ad6-bb75-1d0b51717645.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:34:55.320 +00:00','2020-03-05 17:34:55.320 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_e76a784651ab46afa0738f7d0eae78a5$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (ab2a43ce-4d54-4ce4-b010-bb1c143dbb28): COMMIT;
{ fileUUID: 'dc42af6a-d109-451b-8c88-6de965f83031',
  cnodeUserUUID: '7b388389-3527-4746-a1d7-729aef7019a9',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: '3039e66f-dcb0-4ad6-bb75-1d0b51717645.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: '8832e2b6-d476-4798-b9aa-819bc82bc188',
  updatedAt: 2020-03-05T17:34:55.320Z,
  createdAt: 2020-03-05T17:34:55.320Z }
writing to db2...
Executing (1ce0f5b6-82d2-4fd9-88af-c054d7f89d8c): START TRANSACTION;
Executing (1ce0f5b6-82d2-4fd9-88af-c054d7f89d8c): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '7b388389-3527-4746-a1d7-729aef7019a9' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = '3039e66f-dcb0-4ad6-bb75-1d0b51717645.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '8832e2b6-d476-4798-b9aa-819bc82bc188' LIMIT 1;
Executing (1ce0f5b6-82d2-4fd9-88af-c054d7f89d8c): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_71f222d19e604dcbbe987303eb1cf0d9$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('b08a9de8-b284-4a49-8fc3-37ee08630413','7b388389-3527-4746-a1d7-729aef7019a9','8832e2b6-d476-4798-b9aa-819bc82bc188','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','3039e66f-dcb0-4ad6-bb75-1d0b51717645.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:34:55.728 +00:00','2020-03-05 17:34:55.728 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_71f222d19e604dcbbe987303eb1cf0d9$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (1ce0f5b6-82d2-4fd9-88af-c054d7f89d8c): COMMIT;
{ fileUUID: 'b08a9de8-b284-4a49-8fc3-37ee08630413',
  cnodeUserUUID: '7b388389-3527-4746-a1d7-729aef7019a9',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: '3039e66f-dcb0-4ad6-bb75-1d0b51717645.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: '8832e2b6-d476-4798-b9aa-819bc82bc188',
  updatedAt: 2020-03-05T17:34:55.728Z,
  createdAt: 2020-03-05T17:34:55.728Z }
writing to db3...
Executing (e0a22be4-6c76-4809-acfb-ef558aa07b32): START TRANSACTION;
Executing (e0a22be4-6c76-4809-acfb-ef558aa07b32): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '7b388389-3527-4746-a1d7-729aef7019a9' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = '3039e66f-dcb0-4ad6-bb75-1d0b51717645.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '8832e2b6-d476-4798-b9aa-819bc82bc188' LIMIT 1;
Executing (e0a22be4-6c76-4809-acfb-ef558aa07b32): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_5daf5236718b405297eac7c750edc558$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('1447c79a-6003-402a-904c-d6cac3491391','7b388389-3527-4746-a1d7-729aef7019a9','8832e2b6-d476-4798-b9aa-819bc82bc188','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','3039e66f-dcb0-4ad6-bb75-1d0b51717645.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:34:56.132 +00:00','2020-03-05 17:34:56.132 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_5daf5236718b405297eac7c750edc558$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (e0a22be4-6c76-4809-acfb-ef558aa07b32): COMMIT;
{ fileUUID: '1447c79a-6003-402a-904c-d6cac3491391',
  cnodeUserUUID: '7b388389-3527-4746-a1d7-729aef7019a9',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: '3039e66f-dcb0-4ad6-bb75-1d0b51717645.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: '8832e2b6-d476-4798-b9aa-819bc82bc188',
  updatedAt: 2020-03-05T17:34:56.132Z,
  createdAt: 2020-03-05T17:34:56.132Z }




PROCESSING ROW #163: sourcefile: e90088d2-1080-4da1-b4fe-f6d85bf1dd03.mp3, cnodeUserUUID: 83f7e256-7372-4889-b149-9e25d0ed5c1a, trackUUID: 3f870fc5-a142-4021-8c13-19a4539ba986, multihash: QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM, dstPath: /file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM
writing to db1...
Executing (e3862864-a92a-451f-818b-aa563e0efd32): START TRANSACTION;
Executing (e3862864-a92a-451f-818b-aa563e0efd32): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '83f7e256-7372-4889-b149-9e25d0ed5c1a' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = 'e90088d2-1080-4da1-b4fe-f6d85bf1dd03.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '3f870fc5-a142-4021-8c13-19a4539ba986' LIMIT 1;
Executing (e3862864-a92a-451f-818b-aa563e0efd32): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_73b04447ac644a889ddf1bcbe02c2f7f$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('49b620c3-3830-4bf9-b314-f885870452b9','83f7e256-7372-4889-b149-9e25d0ed5c1a','3f870fc5-a142-4021-8c13-19a4539ba986','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','e90088d2-1080-4da1-b4fe-f6d85bf1dd03.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:34:56.553 +00:00','2020-03-05 17:34:56.553 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_73b04447ac644a889ddf1bcbe02c2f7f$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (e3862864-a92a-451f-818b-aa563e0efd32): COMMIT;
{ fileUUID: '49b620c3-3830-4bf9-b314-f885870452b9',
  cnodeUserUUID: '83f7e256-7372-4889-b149-9e25d0ed5c1a',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: 'e90088d2-1080-4da1-b4fe-f6d85bf1dd03.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: '3f870fc5-a142-4021-8c13-19a4539ba986',
  updatedAt: 2020-03-05T17:34:56.553Z,
  createdAt: 2020-03-05T17:34:56.553Z }
writing to db2...
Executing (51c935bb-e4d5-40f4-bc48-603a64b093bc): START TRANSACTION;
Executing (51c935bb-e4d5-40f4-bc48-603a64b093bc): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '83f7e256-7372-4889-b149-9e25d0ed5c1a' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = 'e90088d2-1080-4da1-b4fe-f6d85bf1dd03.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '3f870fc5-a142-4021-8c13-19a4539ba986' LIMIT 1;
Executing (51c935bb-e4d5-40f4-bc48-603a64b093bc): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_37a652fdd0154d6ca286ebf07b3f8f73$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('101659fe-e135-4bd6-9437-edf19d957c00','83f7e256-7372-4889-b149-9e25d0ed5c1a','3f870fc5-a142-4021-8c13-19a4539ba986','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','e90088d2-1080-4da1-b4fe-f6d85bf1dd03.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:34:57.037 +00:00','2020-03-05 17:34:57.037 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_37a652fdd0154d6ca286ebf07b3f8f73$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (51c935bb-e4d5-40f4-bc48-603a64b093bc): COMMIT;
{ fileUUID: '101659fe-e135-4bd6-9437-edf19d957c00',
  cnodeUserUUID: '83f7e256-7372-4889-b149-9e25d0ed5c1a',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: 'e90088d2-1080-4da1-b4fe-f6d85bf1dd03.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: '3f870fc5-a142-4021-8c13-19a4539ba986',
  updatedAt: 2020-03-05T17:34:57.037Z,
  createdAt: 2020-03-05T17:34:57.037Z }
writing to db3...
Executing (f0fb8ad3-e329-452b-86bd-dde5da2ed865): START TRANSACTION;
Executing (f0fb8ad3-e329-452b-86bd-dde5da2ed865): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '83f7e256-7372-4889-b149-9e25d0ed5c1a' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = 'e90088d2-1080-4da1-b4fe-f6d85bf1dd03.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '3f870fc5-a142-4021-8c13-19a4539ba986' LIMIT 1;
Executing (f0fb8ad3-e329-452b-86bd-dde5da2ed865): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_4aac6b05eb3d4b3591b270d1a8769460$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('52c3a474-20b4-4840-8237-b3d62a03b683','83f7e256-7372-4889-b149-9e25d0ed5c1a','3f870fc5-a142-4021-8c13-19a4539ba986','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','e90088d2-1080-4da1-b4fe-f6d85bf1dd03.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:34:57.445 +00:00','2020-03-05 17:34:57.445 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_4aac6b05eb3d4b3591b270d1a8769460$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (f0fb8ad3-e329-452b-86bd-dde5da2ed865): COMMIT;
{ fileUUID: '52c3a474-20b4-4840-8237-b3d62a03b683',
  cnodeUserUUID: '83f7e256-7372-4889-b149-9e25d0ed5c1a',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: 'e90088d2-1080-4da1-b4fe-f6d85bf1dd03.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: '3f870fc5-a142-4021-8c13-19a4539ba986',
  updatedAt: 2020-03-05T17:34:57.445Z,
  createdAt: 2020-03-05T17:34:57.445Z }




PROCESSING ROW #164: sourcefile: fdf368ea-6042-4ddf-8bfb-2eacfa6461d4.mp3, cnodeUserUUID: 1350147d-276f-4221-8c54-a597192c1ed9, trackUUID: 7d85a054-ac9f-494f-bc91-39ad6349e7d9, multihash: Qmbnz7aZECy6LqGFhtD9kZpKAhXviU2L4dx5EBCSRmoM8V, dstPath: /file_storage/Qmbnz7aZECy6LqGFhtD9kZpKAhXviU2L4dx5EBCSRmoM8V
writing to db1...
Executing (f644bd0e-3df3-41cf-aad4-5c847a43b380): START TRANSACTION;
Executing (f644bd0e-3df3-41cf-aad4-5c847a43b380): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '1350147d-276f-4221-8c54-a597192c1ed9' AND "File"."multihash" = 'Qmbnz7aZECy6LqGFhtD9kZpKAhXviU2L4dx5EBCSRmoM8V' AND "File"."sourceFile" = 'fdf368ea-6042-4ddf-8bfb-2eacfa6461d4.mp3' AND "File"."storagePath" = '/file_storage/Qmbnz7aZECy6LqGFhtD9kZpKAhXviU2L4dx5EBCSRmoM8V' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '7d85a054-ac9f-494f-bc91-39ad6349e7d9' LIMIT 1;
Executing (f644bd0e-3df3-41cf-aad4-5c847a43b380): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_4973010d90b14b58883984e616978f5e$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('ba4e5d84-f365-4f87-a8b0-c974092971e9','1350147d-276f-4221-8c54-a597192c1ed9','7d85a054-ac9f-494f-bc91-39ad6349e7d9','Qmbnz7aZECy6LqGFhtD9kZpKAhXviU2L4dx5EBCSRmoM8V','fdf368ea-6042-4ddf-8bfb-2eacfa6461d4.mp3','/file_storage/Qmbnz7aZECy6LqGFhtD9kZpKAhXviU2L4dx5EBCSRmoM8V','copy320','2020-03-05 17:34:57.846 +00:00','2020-03-05 17:34:57.846 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_4973010d90b14b58883984e616978f5e$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (f644bd0e-3df3-41cf-aad4-5c847a43b380): COMMIT;
{ fileUUID: 'ba4e5d84-f365-4f87-a8b0-c974092971e9',
  cnodeUserUUID: '1350147d-276f-4221-8c54-a597192c1ed9',
  multihash: 'Qmbnz7aZECy6LqGFhtD9kZpKAhXviU2L4dx5EBCSRmoM8V',
  sourceFile: 'fdf368ea-6042-4ddf-8bfb-2eacfa6461d4.mp3',
  storagePath:
   '/file_storage/Qmbnz7aZECy6LqGFhtD9kZpKAhXviU2L4dx5EBCSRmoM8V',
  type: 'copy320',
  trackUUID: '7d85a054-ac9f-494f-bc91-39ad6349e7d9',
  updatedAt: 2020-03-05T17:34:57.846Z,
  createdAt: 2020-03-05T17:34:57.846Z }
writing to db2...
Executing (ca6908e8-12fc-4bc5-9a38-f17c8061f524): START TRANSACTION;
Executing (ca6908e8-12fc-4bc5-9a38-f17c8061f524): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '1350147d-276f-4221-8c54-a597192c1ed9' AND "File"."multihash" = 'Qmbnz7aZECy6LqGFhtD9kZpKAhXviU2L4dx5EBCSRmoM8V' AND "File"."sourceFile" = 'fdf368ea-6042-4ddf-8bfb-2eacfa6461d4.mp3' AND "File"."storagePath" = '/file_storage/Qmbnz7aZECy6LqGFhtD9kZpKAhXviU2L4dx5EBCSRmoM8V' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '7d85a054-ac9f-494f-bc91-39ad6349e7d9' LIMIT 1;
Executing (ca6908e8-12fc-4bc5-9a38-f17c8061f524): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_11b60f4012074eb495dba9f9355f0501$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('9ea7ca69-eebe-4de2-9ac2-8c8786ef410e','1350147d-276f-4221-8c54-a597192c1ed9','7d85a054-ac9f-494f-bc91-39ad6349e7d9','Qmbnz7aZECy6LqGFhtD9kZpKAhXviU2L4dx5EBCSRmoM8V','fdf368ea-6042-4ddf-8bfb-2eacfa6461d4.mp3','/file_storage/Qmbnz7aZECy6LqGFhtD9kZpKAhXviU2L4dx5EBCSRmoM8V','copy320','2020-03-05 17:34:58.240 +00:00','2020-03-05 17:34:58.240 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_11b60f4012074eb495dba9f9355f0501$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (ca6908e8-12fc-4bc5-9a38-f17c8061f524): COMMIT;
{ fileUUID: '9ea7ca69-eebe-4de2-9ac2-8c8786ef410e',
  cnodeUserUUID: '1350147d-276f-4221-8c54-a597192c1ed9',
  multihash: 'Qmbnz7aZECy6LqGFhtD9kZpKAhXviU2L4dx5EBCSRmoM8V',
  sourceFile: 'fdf368ea-6042-4ddf-8bfb-2eacfa6461d4.mp3',
  storagePath:
   '/file_storage/Qmbnz7aZECy6LqGFhtD9kZpKAhXviU2L4dx5EBCSRmoM8V',
  type: 'copy320',
  trackUUID: '7d85a054-ac9f-494f-bc91-39ad6349e7d9',
  updatedAt: 2020-03-05T17:34:58.240Z,
  createdAt: 2020-03-05T17:34:58.240Z }
writing to db3...
Executing (79b53567-1f41-4032-b908-c65130b3e6e8): START TRANSACTION;
Executing (79b53567-1f41-4032-b908-c65130b3e6e8): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '1350147d-276f-4221-8c54-a597192c1ed9' AND "File"."multihash" = 'Qmbnz7aZECy6LqGFhtD9kZpKAhXviU2L4dx5EBCSRmoM8V' AND "File"."sourceFile" = 'fdf368ea-6042-4ddf-8bfb-2eacfa6461d4.mp3' AND "File"."storagePath" = '/file_storage/Qmbnz7aZECy6LqGFhtD9kZpKAhXviU2L4dx5EBCSRmoM8V' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '7d85a054-ac9f-494f-bc91-39ad6349e7d9' LIMIT 1;
Executing (79b53567-1f41-4032-b908-c65130b3e6e8): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_992ee2a11a4d4f94922d61e0f75eb0cd$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('ba909ea0-84d3-4f16-8dc5-d432492da855','1350147d-276f-4221-8c54-a597192c1ed9','7d85a054-ac9f-494f-bc91-39ad6349e7d9','Qmbnz7aZECy6LqGFhtD9kZpKAhXviU2L4dx5EBCSRmoM8V','fdf368ea-6042-4ddf-8bfb-2eacfa6461d4.mp3','/file_storage/Qmbnz7aZECy6LqGFhtD9kZpKAhXviU2L4dx5EBCSRmoM8V','copy320','2020-03-05 17:34:58.648 +00:00','2020-03-05 17:34:58.648 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_992ee2a11a4d4f94922d61e0f75eb0cd$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (79b53567-1f41-4032-b908-c65130b3e6e8): COMMIT;
{ fileUUID: 'ba909ea0-84d3-4f16-8dc5-d432492da855',
  cnodeUserUUID: '1350147d-276f-4221-8c54-a597192c1ed9',
  multihash: 'Qmbnz7aZECy6LqGFhtD9kZpKAhXviU2L4dx5EBCSRmoM8V',
  sourceFile: 'fdf368ea-6042-4ddf-8bfb-2eacfa6461d4.mp3',
  storagePath:
   '/file_storage/Qmbnz7aZECy6LqGFhtD9kZpKAhXviU2L4dx5EBCSRmoM8V',
  type: 'copy320',
  trackUUID: '7d85a054-ac9f-494f-bc91-39ad6349e7d9',
  updatedAt: 2020-03-05T17:34:58.648Z,
  createdAt: 2020-03-05T17:34:58.648Z }




PROCESSING ROW #165: sourcefile: 83ac0d2b-f8f7-4285-8bf2-c9336a7cb936.mp3, cnodeUserUUID: 5bbb70ab-742d-40f8-ab73-36f5b8d01e52, trackUUID: 05b3baff-afd7-47fd-aba7-7a6ed4d04a65, multihash: QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM, dstPath: /file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM
writing to db1...
Executing (7f933ae5-c361-4eb8-8666-39a1bcd682ed): START TRANSACTION;
Executing (7f933ae5-c361-4eb8-8666-39a1bcd682ed): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '5bbb70ab-742d-40f8-ab73-36f5b8d01e52' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = '83ac0d2b-f8f7-4285-8bf2-c9336a7cb936.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '05b3baff-afd7-47fd-aba7-7a6ed4d04a65' LIMIT 1;
Executing (7f933ae5-c361-4eb8-8666-39a1bcd682ed): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_7f7c1dd8d6344aefaa6a6c679f35ae40$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('ab597998-5938-43df-8532-3b8613bbd50a','5bbb70ab-742d-40f8-ab73-36f5b8d01e52','05b3baff-afd7-47fd-aba7-7a6ed4d04a65','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','83ac0d2b-f8f7-4285-8bf2-c9336a7cb936.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:34:59.045 +00:00','2020-03-05 17:34:59.045 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_7f7c1dd8d6344aefaa6a6c679f35ae40$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (7f933ae5-c361-4eb8-8666-39a1bcd682ed): COMMIT;
{ fileUUID: 'ab597998-5938-43df-8532-3b8613bbd50a',
  cnodeUserUUID: '5bbb70ab-742d-40f8-ab73-36f5b8d01e52',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: '83ac0d2b-f8f7-4285-8bf2-c9336a7cb936.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: '05b3baff-afd7-47fd-aba7-7a6ed4d04a65',
  updatedAt: 2020-03-05T17:34:59.045Z,
  createdAt: 2020-03-05T17:34:59.045Z }
writing to db2...
Executing (1364ae1a-a1eb-4ab3-bcd3-ecf3821707ab): START TRANSACTION;
Executing (1364ae1a-a1eb-4ab3-bcd3-ecf3821707ab): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '5bbb70ab-742d-40f8-ab73-36f5b8d01e52' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = '83ac0d2b-f8f7-4285-8bf2-c9336a7cb936.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '05b3baff-afd7-47fd-aba7-7a6ed4d04a65' LIMIT 1;
Executing (1364ae1a-a1eb-4ab3-bcd3-ecf3821707ab): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_970bfa4d65034fed92bcfebf67b475ee$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('fbd456e5-ff1b-4dcc-a6f8-b74319770e3d','5bbb70ab-742d-40f8-ab73-36f5b8d01e52','05b3baff-afd7-47fd-aba7-7a6ed4d04a65','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','83ac0d2b-f8f7-4285-8bf2-c9336a7cb936.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:34:59.441 +00:00','2020-03-05 17:34:59.441 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_970bfa4d65034fed92bcfebf67b475ee$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (1364ae1a-a1eb-4ab3-bcd3-ecf3821707ab): COMMIT;
{ fileUUID: 'fbd456e5-ff1b-4dcc-a6f8-b74319770e3d',
  cnodeUserUUID: '5bbb70ab-742d-40f8-ab73-36f5b8d01e52',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: '83ac0d2b-f8f7-4285-8bf2-c9336a7cb936.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: '05b3baff-afd7-47fd-aba7-7a6ed4d04a65',
  updatedAt: 2020-03-05T17:34:59.441Z,
  createdAt: 2020-03-05T17:34:59.441Z }
writing to db3...
Executing (81f1dfb8-b046-4cba-a973-f0a93c9dcbae): START TRANSACTION;
Executing (81f1dfb8-b046-4cba-a973-f0a93c9dcbae): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '5bbb70ab-742d-40f8-ab73-36f5b8d01e52' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = '83ac0d2b-f8f7-4285-8bf2-c9336a7cb936.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '05b3baff-afd7-47fd-aba7-7a6ed4d04a65' LIMIT 1;
Executing (81f1dfb8-b046-4cba-a973-f0a93c9dcbae): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_610705ed493740c4b46bda69f104d5b8$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('2eba2435-b912-47e4-8e0d-2be9fcdda326','5bbb70ab-742d-40f8-ab73-36f5b8d01e52','05b3baff-afd7-47fd-aba7-7a6ed4d04a65','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','83ac0d2b-f8f7-4285-8bf2-c9336a7cb936.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:34:59.838 +00:00','2020-03-05 17:34:59.838 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_610705ed493740c4b46bda69f104d5b8$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (81f1dfb8-b046-4cba-a973-f0a93c9dcbae): COMMIT;
{ fileUUID: '2eba2435-b912-47e4-8e0d-2be9fcdda326',
  cnodeUserUUID: '5bbb70ab-742d-40f8-ab73-36f5b8d01e52',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: '83ac0d2b-f8f7-4285-8bf2-c9336a7cb936.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: '05b3baff-afd7-47fd-aba7-7a6ed4d04a65',
  updatedAt: 2020-03-05T17:34:59.838Z,
  createdAt: 2020-03-05T17:34:59.838Z }




PROCESSING ROW #166: sourcefile: d3ce3a8c-28ec-4fcb-a51a-ed39f598492e.mp3, cnodeUserUUID: 4af1b67d-88d1-4f06-8877-76cd1bbc28a2, trackUUID: ea8ec8f1-de64-48c0-8f0c-80dcc8fe1e89, multihash: QmPffC1uB5Hv3em1N2cPrD1YnvtoHUaEbJerFK2UpMab6J, dstPath: /file_storage/QmPffC1uB5Hv3em1N2cPrD1YnvtoHUaEbJerFK2UpMab6J
writing to db1...
Executing (46bbc1d4-0044-4019-91c4-17093f1465d9): START TRANSACTION;
Executing (46bbc1d4-0044-4019-91c4-17093f1465d9): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '4af1b67d-88d1-4f06-8877-76cd1bbc28a2' AND "File"."multihash" = 'QmPffC1uB5Hv3em1N2cPrD1YnvtoHUaEbJerFK2UpMab6J' AND "File"."sourceFile" = 'd3ce3a8c-28ec-4fcb-a51a-ed39f598492e.mp3' AND "File"."storagePath" = '/file_storage/QmPffC1uB5Hv3em1N2cPrD1YnvtoHUaEbJerFK2UpMab6J' AND "File"."type" = 'copy320' AND "File"."trackUUID" = 'ea8ec8f1-de64-48c0-8f0c-80dcc8fe1e89' LIMIT 1;
Executing (46bbc1d4-0044-4019-91c4-17093f1465d9): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_48464ecd45da4d3ab8fb2cea32a438c0$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('0bcd3b0f-92bf-45e6-8c50-2a00a36b11c2','4af1b67d-88d1-4f06-8877-76cd1bbc28a2','ea8ec8f1-de64-48c0-8f0c-80dcc8fe1e89','QmPffC1uB5Hv3em1N2cPrD1YnvtoHUaEbJerFK2UpMab6J','d3ce3a8c-28ec-4fcb-a51a-ed39f598492e.mp3','/file_storage/QmPffC1uB5Hv3em1N2cPrD1YnvtoHUaEbJerFK2UpMab6J','copy320','2020-03-05 17:35:00.234 +00:00','2020-03-05 17:35:00.234 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_48464ecd45da4d3ab8fb2cea32a438c0$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (46bbc1d4-0044-4019-91c4-17093f1465d9): COMMIT;
{ fileUUID: '0bcd3b0f-92bf-45e6-8c50-2a00a36b11c2',
  cnodeUserUUID: '4af1b67d-88d1-4f06-8877-76cd1bbc28a2',
  multihash: 'QmPffC1uB5Hv3em1N2cPrD1YnvtoHUaEbJerFK2UpMab6J',
  sourceFile: 'd3ce3a8c-28ec-4fcb-a51a-ed39f598492e.mp3',
  storagePath:
   '/file_storage/QmPffC1uB5Hv3em1N2cPrD1YnvtoHUaEbJerFK2UpMab6J',
  type: 'copy320',
  trackUUID: 'ea8ec8f1-de64-48c0-8f0c-80dcc8fe1e89',
  updatedAt: 2020-03-05T17:35:00.234Z,
  createdAt: 2020-03-05T17:35:00.234Z }
writing to db2...
Executing (303e0c81-92c2-4c13-a3e5-f53c72226043): START TRANSACTION;
Executing (303e0c81-92c2-4c13-a3e5-f53c72226043): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '4af1b67d-88d1-4f06-8877-76cd1bbc28a2' AND "File"."multihash" = 'QmPffC1uB5Hv3em1N2cPrD1YnvtoHUaEbJerFK2UpMab6J' AND "File"."sourceFile" = 'd3ce3a8c-28ec-4fcb-a51a-ed39f598492e.mp3' AND "File"."storagePath" = '/file_storage/QmPffC1uB5Hv3em1N2cPrD1YnvtoHUaEbJerFK2UpMab6J' AND "File"."type" = 'copy320' AND "File"."trackUUID" = 'ea8ec8f1-de64-48c0-8f0c-80dcc8fe1e89' LIMIT 1;
Executing (303e0c81-92c2-4c13-a3e5-f53c72226043): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_31bb54b0f41e4b0c84b32af2f57d74b1$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('40f32a3f-2dc9-4c05-a39f-9983722c50a2','4af1b67d-88d1-4f06-8877-76cd1bbc28a2','ea8ec8f1-de64-48c0-8f0c-80dcc8fe1e89','QmPffC1uB5Hv3em1N2cPrD1YnvtoHUaEbJerFK2UpMab6J','d3ce3a8c-28ec-4fcb-a51a-ed39f598492e.mp3','/file_storage/QmPffC1uB5Hv3em1N2cPrD1YnvtoHUaEbJerFK2UpMab6J','copy320','2020-03-05 17:35:00.626 +00:00','2020-03-05 17:35:00.626 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_31bb54b0f41e4b0c84b32af2f57d74b1$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (303e0c81-92c2-4c13-a3e5-f53c72226043): COMMIT;
{ SequelizeForeignKeyConstraintError: insert or update on table "Files" violates foreign key constraint "Files_trackUUID_fkey"
    at Query.formatError (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/sequelize/lib/dialects/postgres/query.js:296:16)
    at query.catch.err (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/sequelize/lib/dialects/postgres/query.js:86:18)
    at tryCatcher (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/bluebird/js/release/util.js:16:23)
    at Promise._settlePromiseFromHandler (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/bluebird/js/release/promise.js:517:31)
    at Promise._settlePromise (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/bluebird/js/release/promise.js:574:18)
    at Promise._settlePromise0 (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/bluebird/js/release/promise.js:619:10)
    at Promise._settlePromises (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/bluebird/js/release/promise.js:695:18)
    at _drainQueueStep (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/bluebird/js/release/async.js:138:12)
    at _drainQueue (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/bluebird/js/release/async.js:131:9)
    at Async._drainQueues (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/bluebird/js/release/async.js:147:5)
    at Immediate.Async.drainQueues [as _onImmediate] (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/bluebird/js/release/async.js:17:14)
    at runCallback (timers.js:705:18)
    at tryOnImmediate (timers.js:676:5)
    at processImmediate (timers.js:658:5)
  name: 'SequelizeForeignKeyConstraintError',
  parent:
   { error: insert or update on table "Files" violates foreign key constraint "Files_trackUUID_fkey"
       at Connection.parseE (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/pg/lib/connection.js:604:11)
       at Connection.parseMessage (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/pg/lib/connection.js:401:19)
       at Socket.<anonymous> (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/pg/lib/connection.js:121:22)
       at Socket.emit (events.js:198:13)
       at addChunk (_stream_readable.js:288:12)
       at readableAddChunk (_stream_readable.js:269:11)
       at Socket.Readable.push (_stream_readable.js:224:10)
       at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)
     name: 'error',
     length: 865,
     severity: 'ERROR',
     code: '23503',
     detail:
      'Key (trackUUID)=(ea8ec8f1-de64-48c0-8f0c-80dcc8fe1e89) is not present in table "Tracks".',
     hint: undefined,
     position: undefined,
     internalPosition: undefined,
     internalQuery: undefined,
     where:
      'SQL statement "INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES (\'40f32a3f-2dc9-4c05-a39f-9983722c50a2\',\'4af1b67d-88d1-4f06-8877-76cd1bbc28a2\',\'ea8ec8f1-de64-48c0-8f0c-80dcc8fe1e89\',\'QmPffC1uB5Hv3em1N2cPrD1YnvtoHUaEbJerFK2UpMab6J\',\'d3ce3a8c-28ec-4fcb-a51a-ed39f598492e.mp3\',\'/file_storage/QmPffC1uB5Hv3em1N2cPrD1YnvtoHUaEbJerFK2UpMab6J\',\'copy320\',\'2020-03-05 17:35:00.626 +00:00\',\'2020-03-05 17:35:00.626 +00:00\') RETURNING *"\nPL/pgSQL function pg_temp_14.testfunc() line 1 at SQL statement',
     schema: 'public',
     table: 'Files',
     column: undefined,
     dataType: undefined,
     constraint: 'Files_trackUUID_fkey',
     file: 'ri_triggers.c',
     line: '3266',
     routine: 'ri_ReportViolation',
     sql:
      'CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_31bb54b0f41e4b0c84b32af2f57d74b1$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES (\'40f32a3f-2dc9-4c05-a39f-9983722c50a2\',\'4af1b67d-88d1-4f06-8877-76cd1bbc28a2\',\'ea8ec8f1-de64-48c0-8f0c-80dcc8fe1e89\',\'QmPffC1uB5Hv3em1N2cPrD1YnvtoHUaEbJerFK2UpMab6J\',\'d3ce3a8c-28ec-4fcb-a51a-ed39f598492e.mp3\',\'/file_storage/QmPffC1uB5Hv3em1N2cPrD1YnvtoHUaEbJerFK2UpMab6J\',\'copy320\',\'2020-03-05 17:35:00.626 +00:00\',\'2020-03-05 17:35:00.626 +00:00\') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_31bb54b0f41e4b0c84b32af2f57d74b1$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();' },
  original:
   { error: insert or update on table "Files" violates foreign key constraint "Files_trackUUID_fkey"
       at Connection.parseE (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/pg/lib/connection.js:604:11)
       at Connection.parseMessage (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/pg/lib/connection.js:401:19)
       at Socket.<anonymous> (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/pg/lib/connection.js:121:22)
       at Socket.emit (events.js:198:13)
       at addChunk (_stream_readable.js:288:12)
       at readableAddChunk (_stream_readable.js:269:11)
       at Socket.Readable.push (_stream_readable.js:224:10)
       at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)
     name: 'error',
     length: 865,
     severity: 'ERROR',
     code: '23503',
     detail:
      'Key (trackUUID)=(ea8ec8f1-de64-48c0-8f0c-80dcc8fe1e89) is not present in table "Tracks".',
     hint: undefined,
     position: undefined,
     internalPosition: undefined,
     internalQuery: undefined,
     where:
      'SQL statement "INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES (\'40f32a3f-2dc9-4c05-a39f-9983722c50a2\',\'4af1b67d-88d1-4f06-8877-76cd1bbc28a2\',\'ea8ec8f1-de64-48c0-8f0c-80dcc8fe1e89\',\'QmPffC1uB5Hv3em1N2cPrD1YnvtoHUaEbJerFK2UpMab6J\',\'d3ce3a8c-28ec-4fcb-a51a-ed39f598492e.mp3\',\'/file_storage/QmPffC1uB5Hv3em1N2cPrD1YnvtoHUaEbJerFK2UpMab6J\',\'copy320\',\'2020-03-05 17:35:00.626 +00:00\',\'2020-03-05 17:35:00.626 +00:00\') RETURNING *"\nPL/pgSQL function pg_temp_14.testfunc() line 1 at SQL statement',
     schema: 'public',
     table: 'Files',
     column: undefined,
     dataType: undefined,
     constraint: 'Files_trackUUID_fkey',
     file: 'ri_triggers.c',
     line: '3266',
     routine: 'ri_ReportViolation',
     sql:
      'CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_31bb54b0f41e4b0c84b32af2f57d74b1$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES (\'40f32a3f-2dc9-4c05-a39f-9983722c50a2\',\'4af1b67d-88d1-4f06-8877-76cd1bbc28a2\',\'ea8ec8f1-de64-48c0-8f0c-80dcc8fe1e89\',\'QmPffC1uB5Hv3em1N2cPrD1YnvtoHUaEbJerFK2UpMab6J\',\'d3ce3a8c-28ec-4fcb-a51a-ed39f598492e.mp3\',\'/file_storage/QmPffC1uB5Hv3em1N2cPrD1YnvtoHUaEbJerFK2UpMab6J\',\'copy320\',\'2020-03-05 17:35:00.626 +00:00\',\'2020-03-05 17:35:00.626 +00:00\') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_31bb54b0f41e4b0c84b32af2f57d74b1$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();' },
  sql:
   'CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_31bb54b0f41e4b0c84b32af2f57d74b1$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES (\'40f32a3f-2dc9-4c05-a39f-9983722c50a2\',\'4af1b67d-88d1-4f06-8877-76cd1bbc28a2\',\'ea8ec8f1-de64-48c0-8f0c-80dcc8fe1e89\',\'QmPffC1uB5Hv3em1N2cPrD1YnvtoHUaEbJerFK2UpMab6J\',\'d3ce3a8c-28ec-4fcb-a51a-ed39f598492e.mp3\',\'/file_storage/QmPffC1uB5Hv3em1N2cPrD1YnvtoHUaEbJerFK2UpMab6J\',\'copy320\',\'2020-03-05 17:35:00.626 +00:00\',\'2020-03-05 17:35:00.626 +00:00\') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_31bb54b0f41e4b0c84b32af2f57d74b1$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();',
  fields: null,
  table: 'Files',
  value: undefined,
  index: 'Files_trackUUID_fkey',
  reltype: undefined }
writing to db3...
Executing (38b07715-9d64-4995-8849-ec342abc1cf4): START TRANSACTION;
Executing (38b07715-9d64-4995-8849-ec342abc1cf4): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '4af1b67d-88d1-4f06-8877-76cd1bbc28a2' AND "File"."multihash" = 'QmPffC1uB5Hv3em1N2cPrD1YnvtoHUaEbJerFK2UpMab6J' AND "File"."sourceFile" = 'd3ce3a8c-28ec-4fcb-a51a-ed39f598492e.mp3' AND "File"."storagePath" = '/file_storage/QmPffC1uB5Hv3em1N2cPrD1YnvtoHUaEbJerFK2UpMab6J' AND "File"."type" = 'copy320' AND "File"."trackUUID" = 'ea8ec8f1-de64-48c0-8f0c-80dcc8fe1e89' LIMIT 1;
Executing (38b07715-9d64-4995-8849-ec342abc1cf4): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_bdf73dab4b2f4525a868d27e30e76af0$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('b553c490-ac0d-4a3a-96f0-862354910e2c','4af1b67d-88d1-4f06-8877-76cd1bbc28a2','ea8ec8f1-de64-48c0-8f0c-80dcc8fe1e89','QmPffC1uB5Hv3em1N2cPrD1YnvtoHUaEbJerFK2UpMab6J','d3ce3a8c-28ec-4fcb-a51a-ed39f598492e.mp3','/file_storage/QmPffC1uB5Hv3em1N2cPrD1YnvtoHUaEbJerFK2UpMab6J','copy320','2020-03-05 17:35:01.016 +00:00','2020-03-05 17:35:01.016 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_bdf73dab4b2f4525a868d27e30e76af0$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (38b07715-9d64-4995-8849-ec342abc1cf4): COMMIT;
{ SequelizeForeignKeyConstraintError: insert or update on table "Files" violates foreign key constraint "Files_trackUUID_fkey"
    at Query.formatError (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/sequelize/lib/dialects/postgres/query.js:296:16)
    at query.catch.err (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/sequelize/lib/dialects/postgres/query.js:86:18)
    at tryCatcher (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/bluebird/js/release/util.js:16:23)
    at Promise._settlePromiseFromHandler (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/bluebird/js/release/promise.js:517:31)
    at Promise._settlePromise (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/bluebird/js/release/promise.js:574:18)
    at Promise._settlePromise0 (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/bluebird/js/release/promise.js:619:10)
    at Promise._settlePromises (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/bluebird/js/release/promise.js:695:18)
    at _drainQueueStep (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/bluebird/js/release/async.js:138:12)
    at _drainQueue (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/bluebird/js/release/async.js:131:9)
    at Async._drainQueues (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/bluebird/js/release/async.js:147:5)
    at Immediate.Async.drainQueues [as _onImmediate] (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/bluebird/js/release/async.js:17:14)
    at runCallback (timers.js:705:18)
    at tryOnImmediate (timers.js:676:5)
    at processImmediate (timers.js:658:5)
  name: 'SequelizeForeignKeyConstraintError',
  parent:
   { error: insert or update on table "Files" violates foreign key constraint "Files_trackUUID_fkey"
       at Connection.parseE (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/pg/lib/connection.js:604:11)
       at Connection.parseMessage (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/pg/lib/connection.js:401:19)
       at Socket.<anonymous> (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/pg/lib/connection.js:121:22)
       at Socket.emit (events.js:198:13)
       at addChunk (_stream_readable.js:288:12)
       at readableAddChunk (_stream_readable.js:269:11)
       at Socket.Readable.push (_stream_readable.js:224:10)
       at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)
     name: 'error',
     length: 865,
     severity: 'ERROR',
     code: '23503',
     detail:
      'Key (trackUUID)=(ea8ec8f1-de64-48c0-8f0c-80dcc8fe1e89) is not present in table "Tracks".',
     hint: undefined,
     position: undefined,
     internalPosition: undefined,
     internalQuery: undefined,
     where:
      'SQL statement "INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES (\'b553c490-ac0d-4a3a-96f0-862354910e2c\',\'4af1b67d-88d1-4f06-8877-76cd1bbc28a2\',\'ea8ec8f1-de64-48c0-8f0c-80dcc8fe1e89\',\'QmPffC1uB5Hv3em1N2cPrD1YnvtoHUaEbJerFK2UpMab6J\',\'d3ce3a8c-28ec-4fcb-a51a-ed39f598492e.mp3\',\'/file_storage/QmPffC1uB5Hv3em1N2cPrD1YnvtoHUaEbJerFK2UpMab6J\',\'copy320\',\'2020-03-05 17:35:01.016 +00:00\',\'2020-03-05 17:35:01.016 +00:00\') RETURNING *"\nPL/pgSQL function pg_temp_65.testfunc() line 1 at SQL statement',
     schema: 'public',
     table: 'Files',
     column: undefined,
     dataType: undefined,
     constraint: 'Files_trackUUID_fkey',
     file: 'ri_triggers.c',
     line: '2783',
     routine: 'ri_ReportViolation',
     sql:
      'CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_bdf73dab4b2f4525a868d27e30e76af0$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES (\'b553c490-ac0d-4a3a-96f0-862354910e2c\',\'4af1b67d-88d1-4f06-8877-76cd1bbc28a2\',\'ea8ec8f1-de64-48c0-8f0c-80dcc8fe1e89\',\'QmPffC1uB5Hv3em1N2cPrD1YnvtoHUaEbJerFK2UpMab6J\',\'d3ce3a8c-28ec-4fcb-a51a-ed39f598492e.mp3\',\'/file_storage/QmPffC1uB5Hv3em1N2cPrD1YnvtoHUaEbJerFK2UpMab6J\',\'copy320\',\'2020-03-05 17:35:01.016 +00:00\',\'2020-03-05 17:35:01.016 +00:00\') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_bdf73dab4b2f4525a868d27e30e76af0$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();' },
  original:
   { error: insert or update on table "Files" violates foreign key constraint "Files_trackUUID_fkey"
       at Connection.parseE (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/pg/lib/connection.js:604:11)
       at Connection.parseMessage (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/pg/lib/connection.js:401:19)
       at Socket.<anonymous> (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/pg/lib/connection.js:121:22)
       at Socket.emit (events.js:198:13)
       at addChunk (_stream_readable.js:288:12)
       at readableAddChunk (_stream_readable.js:269:11)
       at Socket.Readable.push (_stream_readable.js:224:10)
       at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)
     name: 'error',
     length: 865,
     severity: 'ERROR',
     code: '23503',
     detail:
      'Key (trackUUID)=(ea8ec8f1-de64-48c0-8f0c-80dcc8fe1e89) is not present in table "Tracks".',
     hint: undefined,
     position: undefined,
     internalPosition: undefined,
     internalQuery: undefined,
     where:
      'SQL statement "INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES (\'b553c490-ac0d-4a3a-96f0-862354910e2c\',\'4af1b67d-88d1-4f06-8877-76cd1bbc28a2\',\'ea8ec8f1-de64-48c0-8f0c-80dcc8fe1e89\',\'QmPffC1uB5Hv3em1N2cPrD1YnvtoHUaEbJerFK2UpMab6J\',\'d3ce3a8c-28ec-4fcb-a51a-ed39f598492e.mp3\',\'/file_storage/QmPffC1uB5Hv3em1N2cPrD1YnvtoHUaEbJerFK2UpMab6J\',\'copy320\',\'2020-03-05 17:35:01.016 +00:00\',\'2020-03-05 17:35:01.016 +00:00\') RETURNING *"\nPL/pgSQL function pg_temp_65.testfunc() line 1 at SQL statement',
     schema: 'public',
     table: 'Files',
     column: undefined,
     dataType: undefined,
     constraint: 'Files_trackUUID_fkey',
     file: 'ri_triggers.c',
     line: '2783',
     routine: 'ri_ReportViolation',
     sql:
      'CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_bdf73dab4b2f4525a868d27e30e76af0$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES (\'b553c490-ac0d-4a3a-96f0-862354910e2c\',\'4af1b67d-88d1-4f06-8877-76cd1bbc28a2\',\'ea8ec8f1-de64-48c0-8f0c-80dcc8fe1e89\',\'QmPffC1uB5Hv3em1N2cPrD1YnvtoHUaEbJerFK2UpMab6J\',\'d3ce3a8c-28ec-4fcb-a51a-ed39f598492e.mp3\',\'/file_storage/QmPffC1uB5Hv3em1N2cPrD1YnvtoHUaEbJerFK2UpMab6J\',\'copy320\',\'2020-03-05 17:35:01.016 +00:00\',\'2020-03-05 17:35:01.016 +00:00\') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_bdf73dab4b2f4525a868d27e30e76af0$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();' },
  sql:
   'CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_bdf73dab4b2f4525a868d27e30e76af0$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES (\'b553c490-ac0d-4a3a-96f0-862354910e2c\',\'4af1b67d-88d1-4f06-8877-76cd1bbc28a2\',\'ea8ec8f1-de64-48c0-8f0c-80dcc8fe1e89\',\'QmPffC1uB5Hv3em1N2cPrD1YnvtoHUaEbJerFK2UpMab6J\',\'d3ce3a8c-28ec-4fcb-a51a-ed39f598492e.mp3\',\'/file_storage/QmPffC1uB5Hv3em1N2cPrD1YnvtoHUaEbJerFK2UpMab6J\',\'copy320\',\'2020-03-05 17:35:01.016 +00:00\',\'2020-03-05 17:35:01.016 +00:00\') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_bdf73dab4b2f4525a868d27e30e76af0$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();',
  fields: null,
  table: 'Files',
  value: undefined,
  index: 'Files_trackUUID_fkey',
  reltype: undefined }




PROCESSING ROW #167: sourcefile: 79bac3bf-7550-4743-8fcd-aec3e0aca58b.mp3, cnodeUserUUID: f26a3bf5-0801-4614-8026-f4672ae276d5, trackUUID: 3bb4384a-e242-46c5-b7e0-c2d2560312c1, multihash: QmRcoRviee9kYQGvxF17XPYmVzd4g9VC9vVTtY9qEcExza, dstPath: /file_storage/QmRcoRviee9kYQGvxF17XPYmVzd4g9VC9vVTtY9qEcExza
writing to db1...
Executing (3a99e1dc-7049-4ffa-9abc-a13f60f42ba2): START TRANSACTION;
Executing (3a99e1dc-7049-4ffa-9abc-a13f60f42ba2): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = 'f26a3bf5-0801-4614-8026-f4672ae276d5' AND "File"."multihash" = 'QmRcoRviee9kYQGvxF17XPYmVzd4g9VC9vVTtY9qEcExza' AND "File"."sourceFile" = '79bac3bf-7550-4743-8fcd-aec3e0aca58b.mp3' AND "File"."storagePath" = '/file_storage/QmRcoRviee9kYQGvxF17XPYmVzd4g9VC9vVTtY9qEcExza' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '3bb4384a-e242-46c5-b7e0-c2d2560312c1' LIMIT 1;
Executing (3a99e1dc-7049-4ffa-9abc-a13f60f42ba2): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_0b482fac4f9e4bc89f08f2a465b7f23b$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('4d0d2a31-d21e-424f-adde-8ad7ea3c2c5b','f26a3bf5-0801-4614-8026-f4672ae276d5','3bb4384a-e242-46c5-b7e0-c2d2560312c1','QmRcoRviee9kYQGvxF17XPYmVzd4g9VC9vVTtY9qEcExza','79bac3bf-7550-4743-8fcd-aec3e0aca58b.mp3','/file_storage/QmRcoRviee9kYQGvxF17XPYmVzd4g9VC9vVTtY9qEcExza','copy320','2020-03-05 17:35:01.484 +00:00','2020-03-05 17:35:01.484 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_0b482fac4f9e4bc89f08f2a465b7f23b$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (3a99e1dc-7049-4ffa-9abc-a13f60f42ba2): COMMIT;
{ fileUUID: '4d0d2a31-d21e-424f-adde-8ad7ea3c2c5b',
  cnodeUserUUID: 'f26a3bf5-0801-4614-8026-f4672ae276d5',
  multihash: 'QmRcoRviee9kYQGvxF17XPYmVzd4g9VC9vVTtY9qEcExza',
  sourceFile: '79bac3bf-7550-4743-8fcd-aec3e0aca58b.mp3',
  storagePath:
   '/file_storage/QmRcoRviee9kYQGvxF17XPYmVzd4g9VC9vVTtY9qEcExza',
  type: 'copy320',
  trackUUID: '3bb4384a-e242-46c5-b7e0-c2d2560312c1',
  updatedAt: 2020-03-05T17:35:01.484Z,
  createdAt: 2020-03-05T17:35:01.484Z }
writing to db2...
Executing (a5e448d2-e7b1-4a3a-b853-56ecdab1b25b): START TRANSACTION;
Executing (a5e448d2-e7b1-4a3a-b853-56ecdab1b25b): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = 'f26a3bf5-0801-4614-8026-f4672ae276d5' AND "File"."multihash" = 'QmRcoRviee9kYQGvxF17XPYmVzd4g9VC9vVTtY9qEcExza' AND "File"."sourceFile" = '79bac3bf-7550-4743-8fcd-aec3e0aca58b.mp3' AND "File"."storagePath" = '/file_storage/QmRcoRviee9kYQGvxF17XPYmVzd4g9VC9vVTtY9qEcExza' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '3bb4384a-e242-46c5-b7e0-c2d2560312c1' LIMIT 1;
Executing (a5e448d2-e7b1-4a3a-b853-56ecdab1b25b): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_1758fcca9c2444c388da096643bc8b62$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('e1591328-d5fd-4665-a18b-d49b536f707e','f26a3bf5-0801-4614-8026-f4672ae276d5','3bb4384a-e242-46c5-b7e0-c2d2560312c1','QmRcoRviee9kYQGvxF17XPYmVzd4g9VC9vVTtY9qEcExza','79bac3bf-7550-4743-8fcd-aec3e0aca58b.mp3','/file_storage/QmRcoRviee9kYQGvxF17XPYmVzd4g9VC9vVTtY9qEcExza','copy320','2020-03-05 17:35:01.890 +00:00','2020-03-05 17:35:01.890 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_1758fcca9c2444c388da096643bc8b62$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (a5e448d2-e7b1-4a3a-b853-56ecdab1b25b): COMMIT;
{ fileUUID: 'e1591328-d5fd-4665-a18b-d49b536f707e',
  cnodeUserUUID: 'f26a3bf5-0801-4614-8026-f4672ae276d5',
  multihash: 'QmRcoRviee9kYQGvxF17XPYmVzd4g9VC9vVTtY9qEcExza',
  sourceFile: '79bac3bf-7550-4743-8fcd-aec3e0aca58b.mp3',
  storagePath:
   '/file_storage/QmRcoRviee9kYQGvxF17XPYmVzd4g9VC9vVTtY9qEcExza',
  type: 'copy320',
  trackUUID: '3bb4384a-e242-46c5-b7e0-c2d2560312c1',
  updatedAt: 2020-03-05T17:35:01.890Z,
  createdAt: 2020-03-05T17:35:01.890Z }
writing to db3...
Executing (2213f090-8fff-4d74-9520-a24683c15d0d): START TRANSACTION;
Executing (2213f090-8fff-4d74-9520-a24683c15d0d): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = 'f26a3bf5-0801-4614-8026-f4672ae276d5' AND "File"."multihash" = 'QmRcoRviee9kYQGvxF17XPYmVzd4g9VC9vVTtY9qEcExza' AND "File"."sourceFile" = '79bac3bf-7550-4743-8fcd-aec3e0aca58b.mp3' AND "File"."storagePath" = '/file_storage/QmRcoRviee9kYQGvxF17XPYmVzd4g9VC9vVTtY9qEcExza' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '3bb4384a-e242-46c5-b7e0-c2d2560312c1' LIMIT 1;
Executing (2213f090-8fff-4d74-9520-a24683c15d0d): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_998315a7e4f94e33809cc2914125cca9$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('b15e1952-cfad-4728-a725-d04325399757','f26a3bf5-0801-4614-8026-f4672ae276d5','3bb4384a-e242-46c5-b7e0-c2d2560312c1','QmRcoRviee9kYQGvxF17XPYmVzd4g9VC9vVTtY9qEcExza','79bac3bf-7550-4743-8fcd-aec3e0aca58b.mp3','/file_storage/QmRcoRviee9kYQGvxF17XPYmVzd4g9VC9vVTtY9qEcExza','copy320','2020-03-05 17:35:02.308 +00:00','2020-03-05 17:35:02.308 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_998315a7e4f94e33809cc2914125cca9$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (2213f090-8fff-4d74-9520-a24683c15d0d): COMMIT;
{ fileUUID: 'b15e1952-cfad-4728-a725-d04325399757',
  cnodeUserUUID: 'f26a3bf5-0801-4614-8026-f4672ae276d5',
  multihash: 'QmRcoRviee9kYQGvxF17XPYmVzd4g9VC9vVTtY9qEcExza',
  sourceFile: '79bac3bf-7550-4743-8fcd-aec3e0aca58b.mp3',
  storagePath:
   '/file_storage/QmRcoRviee9kYQGvxF17XPYmVzd4g9VC9vVTtY9qEcExza',
  type: 'copy320',
  trackUUID: '3bb4384a-e242-46c5-b7e0-c2d2560312c1',
  updatedAt: 2020-03-05T17:35:02.308Z,
  createdAt: 2020-03-05T17:35:02.308Z }




PROCESSING ROW #168: sourcefile: 08b2c2b4-11ae-4351-9bb9-334a5979cba8.mp3, cnodeUserUUID: 0e1f90bd-a915-463b-88a1-5779bb3548a8, trackUUID: 6faf2a7e-6efe-45a5-8afa-b1ffdf45d4b5, multihash: QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM, dstPath: /file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM
writing to db1...
Executing (15bc4223-eb45-49c5-902d-590eda87d325): START TRANSACTION;
Executing (15bc4223-eb45-49c5-902d-590eda87d325): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '0e1f90bd-a915-463b-88a1-5779bb3548a8' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = '08b2c2b4-11ae-4351-9bb9-334a5979cba8.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '6faf2a7e-6efe-45a5-8afa-b1ffdf45d4b5' LIMIT 1;
Executing (15bc4223-eb45-49c5-902d-590eda87d325): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_81597b1019f24e519bf1adbb3d3a80b4$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('5fbae6d3-8884-43c8-8f1d-aa810b37b5cd','0e1f90bd-a915-463b-88a1-5779bb3548a8','6faf2a7e-6efe-45a5-8afa-b1ffdf45d4b5','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','08b2c2b4-11ae-4351-9bb9-334a5979cba8.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:35:02.699 +00:00','2020-03-05 17:35:02.699 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_81597b1019f24e519bf1adbb3d3a80b4$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (15bc4223-eb45-49c5-902d-590eda87d325): COMMIT;
{ fileUUID: '5fbae6d3-8884-43c8-8f1d-aa810b37b5cd',
  cnodeUserUUID: '0e1f90bd-a915-463b-88a1-5779bb3548a8',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: '08b2c2b4-11ae-4351-9bb9-334a5979cba8.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: '6faf2a7e-6efe-45a5-8afa-b1ffdf45d4b5',
  updatedAt: 2020-03-05T17:35:02.699Z,
  createdAt: 2020-03-05T17:35:02.699Z }
writing to db2...
Executing (21ff634f-5504-45d0-bc69-384cdac3aca6): START TRANSACTION;
Executing (21ff634f-5504-45d0-bc69-384cdac3aca6): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '0e1f90bd-a915-463b-88a1-5779bb3548a8' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = '08b2c2b4-11ae-4351-9bb9-334a5979cba8.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '6faf2a7e-6efe-45a5-8afa-b1ffdf45d4b5' LIMIT 1;
Executing (21ff634f-5504-45d0-bc69-384cdac3aca6): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_656d298255c949859a86195fdc8f7001$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('744e2f9a-dc68-4212-8bad-50765428a41c','0e1f90bd-a915-463b-88a1-5779bb3548a8','6faf2a7e-6efe-45a5-8afa-b1ffdf45d4b5','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','08b2c2b4-11ae-4351-9bb9-334a5979cba8.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:35:03.098 +00:00','2020-03-05 17:35:03.098 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_656d298255c949859a86195fdc8f7001$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (21ff634f-5504-45d0-bc69-384cdac3aca6): COMMIT;
{ fileUUID: '744e2f9a-dc68-4212-8bad-50765428a41c',
  cnodeUserUUID: '0e1f90bd-a915-463b-88a1-5779bb3548a8',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: '08b2c2b4-11ae-4351-9bb9-334a5979cba8.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: '6faf2a7e-6efe-45a5-8afa-b1ffdf45d4b5',
  updatedAt: 2020-03-05T17:35:03.098Z,
  createdAt: 2020-03-05T17:35:03.098Z }
writing to db3...
Executing (9481c421-7ded-41dc-9c8c-2dc89e3012e7): START TRANSACTION;
Executing (9481c421-7ded-41dc-9c8c-2dc89e3012e7): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '0e1f90bd-a915-463b-88a1-5779bb3548a8' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = '08b2c2b4-11ae-4351-9bb9-334a5979cba8.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '6faf2a7e-6efe-45a5-8afa-b1ffdf45d4b5' LIMIT 1;
Executing (9481c421-7ded-41dc-9c8c-2dc89e3012e7): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_adcc1db72e73456fa0b132571778e558$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('c3c50bd4-32c1-46a5-8afa-52098a43025d','0e1f90bd-a915-463b-88a1-5779bb3548a8','6faf2a7e-6efe-45a5-8afa-b1ffdf45d4b5','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','08b2c2b4-11ae-4351-9bb9-334a5979cba8.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:35:03.483 +00:00','2020-03-05 17:35:03.483 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_adcc1db72e73456fa0b132571778e558$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (9481c421-7ded-41dc-9c8c-2dc89e3012e7): COMMIT;
{ fileUUID: 'c3c50bd4-32c1-46a5-8afa-52098a43025d',
  cnodeUserUUID: '0e1f90bd-a915-463b-88a1-5779bb3548a8',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: '08b2c2b4-11ae-4351-9bb9-334a5979cba8.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: '6faf2a7e-6efe-45a5-8afa-b1ffdf45d4b5',
  updatedAt: 2020-03-05T17:35:03.483Z,
  createdAt: 2020-03-05T17:35:03.483Z }




PROCESSING ROW #169: sourcefile: cb3d7931-8d35-420d-ab6c-165c2e63cdb0.mp3, cnodeUserUUID: f8a9d1b6-24f1-461f-8671-c96bd564b13c, trackUUID: 63c9d85e-9e2f-4702-b88f-6b041baa7ca3, multihash: QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM, dstPath: /file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM
writing to db1...
Executing (10d186ec-5384-40f6-b8fc-925edd030fcb): START TRANSACTION;
Executing (10d186ec-5384-40f6-b8fc-925edd030fcb): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = 'f8a9d1b6-24f1-461f-8671-c96bd564b13c' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = 'cb3d7931-8d35-420d-ab6c-165c2e63cdb0.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '63c9d85e-9e2f-4702-b88f-6b041baa7ca3' LIMIT 1;
Executing (10d186ec-5384-40f6-b8fc-925edd030fcb): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_29181ec343d642138eaa7e1c9c334496$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('093a4c14-da8d-45a0-9c20-c27fdc89f420','f8a9d1b6-24f1-461f-8671-c96bd564b13c','63c9d85e-9e2f-4702-b88f-6b041baa7ca3','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','cb3d7931-8d35-420d-ab6c-165c2e63cdb0.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:35:03.876 +00:00','2020-03-05 17:35:03.876 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_29181ec343d642138eaa7e1c9c334496$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (10d186ec-5384-40f6-b8fc-925edd030fcb): COMMIT;
{ fileUUID: '093a4c14-da8d-45a0-9c20-c27fdc89f420',
  cnodeUserUUID: 'f8a9d1b6-24f1-461f-8671-c96bd564b13c',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: 'cb3d7931-8d35-420d-ab6c-165c2e63cdb0.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: '63c9d85e-9e2f-4702-b88f-6b041baa7ca3',
  updatedAt: 2020-03-05T17:35:03.876Z,
  createdAt: 2020-03-05T17:35:03.876Z }
writing to db2...
Executing (7a4d4751-311e-43cb-a235-3cc795f584c6): START TRANSACTION;
Executing (7a4d4751-311e-43cb-a235-3cc795f584c6): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = 'f8a9d1b6-24f1-461f-8671-c96bd564b13c' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = 'cb3d7931-8d35-420d-ab6c-165c2e63cdb0.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '63c9d85e-9e2f-4702-b88f-6b041baa7ca3' LIMIT 1;
Executing (7a4d4751-311e-43cb-a235-3cc795f584c6): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_852f1e863ce240b0a7088519517946c8$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('0b4845ec-684f-4f26-a3a9-f694d274fa30','f8a9d1b6-24f1-461f-8671-c96bd564b13c','63c9d85e-9e2f-4702-b88f-6b041baa7ca3','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','cb3d7931-8d35-420d-ab6c-165c2e63cdb0.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:35:04.276 +00:00','2020-03-05 17:35:04.276 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_852f1e863ce240b0a7088519517946c8$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (7a4d4751-311e-43cb-a235-3cc795f584c6): COMMIT;
{ fileUUID: '0b4845ec-684f-4f26-a3a9-f694d274fa30',
  cnodeUserUUID: 'f8a9d1b6-24f1-461f-8671-c96bd564b13c',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: 'cb3d7931-8d35-420d-ab6c-165c2e63cdb0.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: '63c9d85e-9e2f-4702-b88f-6b041baa7ca3',
  updatedAt: 2020-03-05T17:35:04.276Z,
  createdAt: 2020-03-05T17:35:04.276Z }
writing to db3...
Executing (7b886e67-ff85-4dfc-8ea5-29d6bad4b5f8): START TRANSACTION;
Executing (7b886e67-ff85-4dfc-8ea5-29d6bad4b5f8): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = 'f8a9d1b6-24f1-461f-8671-c96bd564b13c' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = 'cb3d7931-8d35-420d-ab6c-165c2e63cdb0.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '63c9d85e-9e2f-4702-b88f-6b041baa7ca3' LIMIT 1;
Executing (7b886e67-ff85-4dfc-8ea5-29d6bad4b5f8): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_24b4c057b7eb4f549ef282c78cde4f52$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('135c519d-e80e-41fc-abb9-e993a8077c74','f8a9d1b6-24f1-461f-8671-c96bd564b13c','63c9d85e-9e2f-4702-b88f-6b041baa7ca3','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','cb3d7931-8d35-420d-ab6c-165c2e63cdb0.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:35:04.688 +00:00','2020-03-05 17:35:04.688 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_24b4c057b7eb4f549ef282c78cde4f52$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (7b886e67-ff85-4dfc-8ea5-29d6bad4b5f8): COMMIT;
{ fileUUID: '135c519d-e80e-41fc-abb9-e993a8077c74',
  cnodeUserUUID: 'f8a9d1b6-24f1-461f-8671-c96bd564b13c',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: 'cb3d7931-8d35-420d-ab6c-165c2e63cdb0.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: '63c9d85e-9e2f-4702-b88f-6b041baa7ca3',
  updatedAt: 2020-03-05T17:35:04.688Z,
  createdAt: 2020-03-05T17:35:04.688Z }




PROCESSING ROW #170: sourcefile: bda43c19-fc72-4526-a2eb-09ed2be8eaaf.mp3, cnodeUserUUID: acdbdcca-a688-455e-8619-976973ce5a43, trackUUID: b478085a-27d3-4c2f-9bb2-59db7742cc42, multihash: QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM, dstPath: /file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM
writing to db1...
Executing (10165130-a27b-4688-a9f5-e9b09f205f0e): START TRANSACTION;
Executing (10165130-a27b-4688-a9f5-e9b09f205f0e): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = 'acdbdcca-a688-455e-8619-976973ce5a43' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = 'bda43c19-fc72-4526-a2eb-09ed2be8eaaf.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = 'b478085a-27d3-4c2f-9bb2-59db7742cc42' LIMIT 1;
Executing (10165130-a27b-4688-a9f5-e9b09f205f0e): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_15b32fc4366641388bf671223d99bef7$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('b2993a6f-45a8-45b2-bf4d-d1865668ae60','acdbdcca-a688-455e-8619-976973ce5a43','b478085a-27d3-4c2f-9bb2-59db7742cc42','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','bda43c19-fc72-4526-a2eb-09ed2be8eaaf.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:35:05.087 +00:00','2020-03-05 17:35:05.087 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_15b32fc4366641388bf671223d99bef7$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (10165130-a27b-4688-a9f5-e9b09f205f0e): COMMIT;
{ fileUUID: 'b2993a6f-45a8-45b2-bf4d-d1865668ae60',
  cnodeUserUUID: 'acdbdcca-a688-455e-8619-976973ce5a43',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: 'bda43c19-fc72-4526-a2eb-09ed2be8eaaf.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: 'b478085a-27d3-4c2f-9bb2-59db7742cc42',
  updatedAt: 2020-03-05T17:35:05.087Z,
  createdAt: 2020-03-05T17:35:05.087Z }
writing to db2...
Executing (49989ac6-45ab-41ae-a4ab-2da31e2e750b): START TRANSACTION;
Executing (49989ac6-45ab-41ae-a4ab-2da31e2e750b): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = 'acdbdcca-a688-455e-8619-976973ce5a43' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = 'bda43c19-fc72-4526-a2eb-09ed2be8eaaf.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = 'b478085a-27d3-4c2f-9bb2-59db7742cc42' LIMIT 1;
Executing (49989ac6-45ab-41ae-a4ab-2da31e2e750b): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_884541e5b20344538e837e76336d85c0$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('876b7e78-ae82-47c4-ab8a-f96699c21779','acdbdcca-a688-455e-8619-976973ce5a43','b478085a-27d3-4c2f-9bb2-59db7742cc42','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','bda43c19-fc72-4526-a2eb-09ed2be8eaaf.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:35:05.481 +00:00','2020-03-05 17:35:05.481 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_884541e5b20344538e837e76336d85c0$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (49989ac6-45ab-41ae-a4ab-2da31e2e750b): COMMIT;
{ fileUUID: '876b7e78-ae82-47c4-ab8a-f96699c21779',
  cnodeUserUUID: 'acdbdcca-a688-455e-8619-976973ce5a43',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: 'bda43c19-fc72-4526-a2eb-09ed2be8eaaf.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: 'b478085a-27d3-4c2f-9bb2-59db7742cc42',
  updatedAt: 2020-03-05T17:35:05.481Z,
  createdAt: 2020-03-05T17:35:05.481Z }
writing to db3...
Executing (bb99f1f1-87cc-4636-abf8-294e51a2b2c0): START TRANSACTION;
Executing (bb99f1f1-87cc-4636-abf8-294e51a2b2c0): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = 'acdbdcca-a688-455e-8619-976973ce5a43' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = 'bda43c19-fc72-4526-a2eb-09ed2be8eaaf.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = 'b478085a-27d3-4c2f-9bb2-59db7742cc42' LIMIT 1;
Executing (bb99f1f1-87cc-4636-abf8-294e51a2b2c0): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_fc69bc220c994d6caf45cb8ca02d6a7d$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('01ef3e4a-b2d3-40a8-8cd8-80578ff8f038','acdbdcca-a688-455e-8619-976973ce5a43','b478085a-27d3-4c2f-9bb2-59db7742cc42','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','bda43c19-fc72-4526-a2eb-09ed2be8eaaf.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:35:05.885 +00:00','2020-03-05 17:35:05.885 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_fc69bc220c994d6caf45cb8ca02d6a7d$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (bb99f1f1-87cc-4636-abf8-294e51a2b2c0): COMMIT;
{ fileUUID: '01ef3e4a-b2d3-40a8-8cd8-80578ff8f038',
  cnodeUserUUID: 'acdbdcca-a688-455e-8619-976973ce5a43',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: 'bda43c19-fc72-4526-a2eb-09ed2be8eaaf.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: 'b478085a-27d3-4c2f-9bb2-59db7742cc42',
  updatedAt: 2020-03-05T17:35:05.885Z,
  createdAt: 2020-03-05T17:35:05.885Z }




PROCESSING ROW #171: sourcefile: ab8c32ca-82ad-45d3-82dd-acb19845d6ea.mp3, cnodeUserUUID: 9a7e9399-1529-4907-919c-ce389f0ab6fc, trackUUID: a3fa2e6f-822c-44bf-bff5-30ec59af49a8, multihash: QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM, dstPath: /file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM
writing to db1...
Executing (439d4248-cfaa-4991-8fce-699e8ad90840): START TRANSACTION;
Executing (439d4248-cfaa-4991-8fce-699e8ad90840): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '9a7e9399-1529-4907-919c-ce389f0ab6fc' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = 'ab8c32ca-82ad-45d3-82dd-acb19845d6ea.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = 'a3fa2e6f-822c-44bf-bff5-30ec59af49a8' LIMIT 1;
Executing (439d4248-cfaa-4991-8fce-699e8ad90840): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_d0ce9a10cdd74e5ea510c3b0f0d57960$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('8f8a52e5-ac7d-4861-8407-64ea8ff5e608','9a7e9399-1529-4907-919c-ce389f0ab6fc','a3fa2e6f-822c-44bf-bff5-30ec59af49a8','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','ab8c32ca-82ad-45d3-82dd-acb19845d6ea.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:35:06.289 +00:00','2020-03-05 17:35:06.289 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_d0ce9a10cdd74e5ea510c3b0f0d57960$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (439d4248-cfaa-4991-8fce-699e8ad90840): COMMIT;
{ fileUUID: '8f8a52e5-ac7d-4861-8407-64ea8ff5e608',
  cnodeUserUUID: '9a7e9399-1529-4907-919c-ce389f0ab6fc',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: 'ab8c32ca-82ad-45d3-82dd-acb19845d6ea.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: 'a3fa2e6f-822c-44bf-bff5-30ec59af49a8',
  updatedAt: 2020-03-05T17:35:06.289Z,
  createdAt: 2020-03-05T17:35:06.289Z }
writing to db2...
Executing (8811ba90-4dbc-4196-9b5a-a568ccb14ad3): START TRANSACTION;
Executing (8811ba90-4dbc-4196-9b5a-a568ccb14ad3): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '9a7e9399-1529-4907-919c-ce389f0ab6fc' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = 'ab8c32ca-82ad-45d3-82dd-acb19845d6ea.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = 'a3fa2e6f-822c-44bf-bff5-30ec59af49a8' LIMIT 1;
Executing (8811ba90-4dbc-4196-9b5a-a568ccb14ad3): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_a383027353de4df296d64bb771b7f306$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('5f705464-b1ab-4798-b026-a3ee9e6a62ed','9a7e9399-1529-4907-919c-ce389f0ab6fc','a3fa2e6f-822c-44bf-bff5-30ec59af49a8','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','ab8c32ca-82ad-45d3-82dd-acb19845d6ea.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:35:06.696 +00:00','2020-03-05 17:35:06.696 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_a383027353de4df296d64bb771b7f306$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (8811ba90-4dbc-4196-9b5a-a568ccb14ad3): COMMIT;
{ fileUUID: '5f705464-b1ab-4798-b026-a3ee9e6a62ed',
  cnodeUserUUID: '9a7e9399-1529-4907-919c-ce389f0ab6fc',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: 'ab8c32ca-82ad-45d3-82dd-acb19845d6ea.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: 'a3fa2e6f-822c-44bf-bff5-30ec59af49a8',
  updatedAt: 2020-03-05T17:35:06.696Z,
  createdAt: 2020-03-05T17:35:06.696Z }
writing to db3...
Executing (5219598e-45c0-4533-8027-8f4e0d7844ac): START TRANSACTION;
Executing (5219598e-45c0-4533-8027-8f4e0d7844ac): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '9a7e9399-1529-4907-919c-ce389f0ab6fc' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = 'ab8c32ca-82ad-45d3-82dd-acb19845d6ea.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = 'a3fa2e6f-822c-44bf-bff5-30ec59af49a8' LIMIT 1;
Executing (5219598e-45c0-4533-8027-8f4e0d7844ac): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_f1fe16845bd1470c9783c1b79c309907$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('e718b809-6033-4405-bf8c-705a9a82a647','9a7e9399-1529-4907-919c-ce389f0ab6fc','a3fa2e6f-822c-44bf-bff5-30ec59af49a8','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','ab8c32ca-82ad-45d3-82dd-acb19845d6ea.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:35:07.087 +00:00','2020-03-05 17:35:07.087 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_f1fe16845bd1470c9783c1b79c309907$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (5219598e-45c0-4533-8027-8f4e0d7844ac): COMMIT;
{ fileUUID: 'e718b809-6033-4405-bf8c-705a9a82a647',
  cnodeUserUUID: '9a7e9399-1529-4907-919c-ce389f0ab6fc',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: 'ab8c32ca-82ad-45d3-82dd-acb19845d6ea.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: 'a3fa2e6f-822c-44bf-bff5-30ec59af49a8',
  updatedAt: 2020-03-05T17:35:07.087Z,
  createdAt: 2020-03-05T17:35:07.087Z }




PROCESSING ROW #172: sourcefile: ed80b2a2-1859-42ec-ad10-f703db88fa22.mp3, cnodeUserUUID: d1b6786c-5f2e-4977-adc8-673f7ffb2310, trackUUID: 17f2adb5-dcda-4069-9072-72240199be34, multihash: QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM, dstPath: /file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM
writing to db1...
Executing (e1244901-f888-4266-a569-b8a7441537f2): START TRANSACTION;
Executing (e1244901-f888-4266-a569-b8a7441537f2): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = 'd1b6786c-5f2e-4977-adc8-673f7ffb2310' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = 'ed80b2a2-1859-42ec-ad10-f703db88fa22.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '17f2adb5-dcda-4069-9072-72240199be34' LIMIT 1;
Executing (e1244901-f888-4266-a569-b8a7441537f2): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_f3db0928001048869a1b19a928de0752$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('ed665c38-fe7d-4a28-994e-2625dbbe896c','d1b6786c-5f2e-4977-adc8-673f7ffb2310','17f2adb5-dcda-4069-9072-72240199be34','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','ed80b2a2-1859-42ec-ad10-f703db88fa22.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:35:07.493 +00:00','2020-03-05 17:35:07.493 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_f3db0928001048869a1b19a928de0752$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (e1244901-f888-4266-a569-b8a7441537f2): COMMIT;
{ fileUUID: 'ed665c38-fe7d-4a28-994e-2625dbbe896c',
  cnodeUserUUID: 'd1b6786c-5f2e-4977-adc8-673f7ffb2310',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: 'ed80b2a2-1859-42ec-ad10-f703db88fa22.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: '17f2adb5-dcda-4069-9072-72240199be34',
  updatedAt: 2020-03-05T17:35:07.493Z,
  createdAt: 2020-03-05T17:35:07.493Z }
writing to db2...
Executing (5d8622be-16cc-4465-9983-b89fc5f402a2): START TRANSACTION;
Executing (5d8622be-16cc-4465-9983-b89fc5f402a2): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = 'd1b6786c-5f2e-4977-adc8-673f7ffb2310' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = 'ed80b2a2-1859-42ec-ad10-f703db88fa22.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '17f2adb5-dcda-4069-9072-72240199be34' LIMIT 1;
Executing (5d8622be-16cc-4465-9983-b89fc5f402a2): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_9df3fb5f64de4ae78f784abd70ff6995$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('97559e7e-6bf2-4a17-8ba8-c1e431e09c20','d1b6786c-5f2e-4977-adc8-673f7ffb2310','17f2adb5-dcda-4069-9072-72240199be34','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','ed80b2a2-1859-42ec-ad10-f703db88fa22.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:35:07.890 +00:00','2020-03-05 17:35:07.890 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_9df3fb5f64de4ae78f784abd70ff6995$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (5d8622be-16cc-4465-9983-b89fc5f402a2): COMMIT;
{ SequelizeForeignKeyConstraintError: insert or update on table "Files" violates foreign key constraint "Files_cnodeUserUUID_fkey"
    at Query.formatError (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/sequelize/lib/dialects/postgres/query.js:296:16)
    at query.catch.err (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/sequelize/lib/dialects/postgres/query.js:86:18)
    at tryCatcher (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/bluebird/js/release/util.js:16:23)
    at Promise._settlePromiseFromHandler (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/bluebird/js/release/promise.js:517:31)
    at Promise._settlePromise (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/bluebird/js/release/promise.js:574:18)
    at Promise._settlePromise0 (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/bluebird/js/release/promise.js:619:10)
    at Promise._settlePromises (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/bluebird/js/release/promise.js:695:18)
    at _drainQueueStep (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/bluebird/js/release/async.js:138:12)
    at _drainQueue (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/bluebird/js/release/async.js:131:9)
    at Async._drainQueues (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/bluebird/js/release/async.js:147:5)
    at Immediate.Async.drainQueues [as _onImmediate] (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/bluebird/js/release/async.js:17:14)
    at runCallback (timers.js:705:18)
    at tryOnImmediate (timers.js:676:5)
    at processImmediate (timers.js:658:5)
  name: 'SequelizeForeignKeyConstraintError',
  parent:
   { error: insert or update on table "Files" violates foreign key constraint "Files_cnodeUserUUID_fkey"
       at Connection.parseE (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/pg/lib/connection.js:604:11)
       at Connection.parseMessage (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/pg/lib/connection.js:401:19)
       at Socket.<anonymous> (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/pg/lib/connection.js:121:22)
       at Socket.emit (events.js:198:13)
       at addChunk (_stream_readable.js:288:12)
       at readableAddChunk (_stream_readable.js:269:11)
       at Socket.Readable.push (_stream_readable.js:224:10)
       at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)
     name: 'error',
     length: 881,
     severity: 'ERROR',
     code: '23503',
     detail:
      'Key (cnodeUserUUID)=(d1b6786c-5f2e-4977-adc8-673f7ffb2310) is not present in table "CNodeUsers".',
     hint: undefined,
     position: undefined,
     internalPosition: undefined,
     internalQuery: undefined,
     where:
      'SQL statement "INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES (\'97559e7e-6bf2-4a17-8ba8-c1e431e09c20\',\'d1b6786c-5f2e-4977-adc8-673f7ffb2310\',\'17f2adb5-dcda-4069-9072-72240199be34\',\'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM\',\'ed80b2a2-1859-42ec-ad10-f703db88fa22.mp3\',\'/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM\',\'copy320\',\'2020-03-05 17:35:07.890 +00:00\',\'2020-03-05 17:35:07.890 +00:00\') RETURNING *"\nPL/pgSQL function pg_temp_12.testfunc() line 1 at SQL statement',
     schema: 'public',
     table: 'Files',
     column: undefined,
     dataType: undefined,
     constraint: 'Files_cnodeUserUUID_fkey',
     file: 'ri_triggers.c',
     line: '3266',
     routine: 'ri_ReportViolation',
     sql:
      'CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_9df3fb5f64de4ae78f784abd70ff6995$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES (\'97559e7e-6bf2-4a17-8ba8-c1e431e09c20\',\'d1b6786c-5f2e-4977-adc8-673f7ffb2310\',\'17f2adb5-dcda-4069-9072-72240199be34\',\'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM\',\'ed80b2a2-1859-42ec-ad10-f703db88fa22.mp3\',\'/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM\',\'copy320\',\'2020-03-05 17:35:07.890 +00:00\',\'2020-03-05 17:35:07.890 +00:00\') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_9df3fb5f64de4ae78f784abd70ff6995$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();' },
  original:
   { error: insert or update on table "Files" violates foreign key constraint "Files_cnodeUserUUID_fkey"
       at Connection.parseE (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/pg/lib/connection.js:604:11)
       at Connection.parseMessage (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/pg/lib/connection.js:401:19)
       at Socket.<anonymous> (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/pg/lib/connection.js:121:22)
       at Socket.emit (events.js:198:13)
       at addChunk (_stream_readable.js:288:12)
       at readableAddChunk (_stream_readable.js:269:11)
       at Socket.Readable.push (_stream_readable.js:224:10)
       at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)
     name: 'error',
     length: 881,
     severity: 'ERROR',
     code: '23503',
     detail:
      'Key (cnodeUserUUID)=(d1b6786c-5f2e-4977-adc8-673f7ffb2310) is not present in table "CNodeUsers".',
     hint: undefined,
     position: undefined,
     internalPosition: undefined,
     internalQuery: undefined,
     where:
      'SQL statement "INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES (\'97559e7e-6bf2-4a17-8ba8-c1e431e09c20\',\'d1b6786c-5f2e-4977-adc8-673f7ffb2310\',\'17f2adb5-dcda-4069-9072-72240199be34\',\'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM\',\'ed80b2a2-1859-42ec-ad10-f703db88fa22.mp3\',\'/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM\',\'copy320\',\'2020-03-05 17:35:07.890 +00:00\',\'2020-03-05 17:35:07.890 +00:00\') RETURNING *"\nPL/pgSQL function pg_temp_12.testfunc() line 1 at SQL statement',
     schema: 'public',
     table: 'Files',
     column: undefined,
     dataType: undefined,
     constraint: 'Files_cnodeUserUUID_fkey',
     file: 'ri_triggers.c',
     line: '3266',
     routine: 'ri_ReportViolation',
     sql:
      'CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_9df3fb5f64de4ae78f784abd70ff6995$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES (\'97559e7e-6bf2-4a17-8ba8-c1e431e09c20\',\'d1b6786c-5f2e-4977-adc8-673f7ffb2310\',\'17f2adb5-dcda-4069-9072-72240199be34\',\'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM\',\'ed80b2a2-1859-42ec-ad10-f703db88fa22.mp3\',\'/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM\',\'copy320\',\'2020-03-05 17:35:07.890 +00:00\',\'2020-03-05 17:35:07.890 +00:00\') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_9df3fb5f64de4ae78f784abd70ff6995$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();' },
  sql:
   'CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_9df3fb5f64de4ae78f784abd70ff6995$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES (\'97559e7e-6bf2-4a17-8ba8-c1e431e09c20\',\'d1b6786c-5f2e-4977-adc8-673f7ffb2310\',\'17f2adb5-dcda-4069-9072-72240199be34\',\'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM\',\'ed80b2a2-1859-42ec-ad10-f703db88fa22.mp3\',\'/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM\',\'copy320\',\'2020-03-05 17:35:07.890 +00:00\',\'2020-03-05 17:35:07.890 +00:00\') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_9df3fb5f64de4ae78f784abd70ff6995$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();',
  fields: null,
  table: 'Files',
  value: undefined,
  index: 'Files_cnodeUserUUID_fkey',
  reltype: undefined }
writing to db3...
Executing (facdd73d-c1e1-45d6-8e9a-9d28b6f69719): START TRANSACTION;
Executing (facdd73d-c1e1-45d6-8e9a-9d28b6f69719): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = 'd1b6786c-5f2e-4977-adc8-673f7ffb2310' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = 'ed80b2a2-1859-42ec-ad10-f703db88fa22.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '17f2adb5-dcda-4069-9072-72240199be34' LIMIT 1;
Executing (facdd73d-c1e1-45d6-8e9a-9d28b6f69719): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_9887eef3f0bc4e5e9bba14d4a451165f$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('6fc36675-710f-49cf-8730-a0497d804edf','d1b6786c-5f2e-4977-adc8-673f7ffb2310','17f2adb5-dcda-4069-9072-72240199be34','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','ed80b2a2-1859-42ec-ad10-f703db88fa22.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:35:08.291 +00:00','2020-03-05 17:35:08.291 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_9887eef3f0bc4e5e9bba14d4a451165f$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (facdd73d-c1e1-45d6-8e9a-9d28b6f69719): COMMIT;
{ fileUUID: '6fc36675-710f-49cf-8730-a0497d804edf',
  cnodeUserUUID: 'd1b6786c-5f2e-4977-adc8-673f7ffb2310',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: 'ed80b2a2-1859-42ec-ad10-f703db88fa22.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: '17f2adb5-dcda-4069-9072-72240199be34',
  updatedAt: 2020-03-05T17:35:08.291Z,
  createdAt: 2020-03-05T17:35:08.291Z }




PROCESSING ROW #173: sourcefile: 0ebd685d-35ee-4333-b781-7a20163d6464.mp3, cnodeUserUUID: 5f22f5e7-f040-4a5f-bd79-9b1c4d8deb5b, trackUUID: 2d00d365-0727-40ba-a164-cafe824576ad, multihash: QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM, dstPath: /file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM
writing to db1...
Executing (365c0dfb-acd0-4a37-b134-c4b1fbd5e58a): START TRANSACTION;
Executing (365c0dfb-acd0-4a37-b134-c4b1fbd5e58a): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '5f22f5e7-f040-4a5f-bd79-9b1c4d8deb5b' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = '0ebd685d-35ee-4333-b781-7a20163d6464.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '2d00d365-0727-40ba-a164-cafe824576ad' LIMIT 1;
Executing (365c0dfb-acd0-4a37-b134-c4b1fbd5e58a): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_b92f26cdaaef4a3bb4c7860931f746b2$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('489521c9-9869-4ba7-9a7d-2aef5c01819d','5f22f5e7-f040-4a5f-bd79-9b1c4d8deb5b','2d00d365-0727-40ba-a164-cafe824576ad','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','0ebd685d-35ee-4333-b781-7a20163d6464.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:35:08.715 +00:00','2020-03-05 17:35:08.715 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_b92f26cdaaef4a3bb4c7860931f746b2$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (365c0dfb-acd0-4a37-b134-c4b1fbd5e58a): COMMIT;
{ fileUUID: '489521c9-9869-4ba7-9a7d-2aef5c01819d',
  cnodeUserUUID: '5f22f5e7-f040-4a5f-bd79-9b1c4d8deb5b',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: '0ebd685d-35ee-4333-b781-7a20163d6464.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: '2d00d365-0727-40ba-a164-cafe824576ad',
  updatedAt: 2020-03-05T17:35:08.715Z,
  createdAt: 2020-03-05T17:35:08.715Z }
writing to db2...
Executing (af827e40-8925-4bbb-9531-5b6a50468684): START TRANSACTION;
Executing (af827e40-8925-4bbb-9531-5b6a50468684): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '5f22f5e7-f040-4a5f-bd79-9b1c4d8deb5b' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = '0ebd685d-35ee-4333-b781-7a20163d6464.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '2d00d365-0727-40ba-a164-cafe824576ad' LIMIT 1;
Executing (af827e40-8925-4bbb-9531-5b6a50468684): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_b40ede6ca1fe430db4cb811ae86afbc4$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('125f509a-3459-4154-be12-01ce9c472c8a','5f22f5e7-f040-4a5f-bd79-9b1c4d8deb5b','2d00d365-0727-40ba-a164-cafe824576ad','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','0ebd685d-35ee-4333-b781-7a20163d6464.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:35:09.109 +00:00','2020-03-05 17:35:09.109 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_b40ede6ca1fe430db4cb811ae86afbc4$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (af827e40-8925-4bbb-9531-5b6a50468684): COMMIT;
{ fileUUID: '125f509a-3459-4154-be12-01ce9c472c8a',
  cnodeUserUUID: '5f22f5e7-f040-4a5f-bd79-9b1c4d8deb5b',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: '0ebd685d-35ee-4333-b781-7a20163d6464.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: '2d00d365-0727-40ba-a164-cafe824576ad',
  updatedAt: 2020-03-05T17:35:09.109Z,
  createdAt: 2020-03-05T17:35:09.109Z }
writing to db3...
Executing (1e07b6fe-c0fb-4a40-a439-a562749ba428): START TRANSACTION;
Executing (1e07b6fe-c0fb-4a40-a439-a562749ba428): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '5f22f5e7-f040-4a5f-bd79-9b1c4d8deb5b' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = '0ebd685d-35ee-4333-b781-7a20163d6464.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '2d00d365-0727-40ba-a164-cafe824576ad' LIMIT 1;
Executing (1e07b6fe-c0fb-4a40-a439-a562749ba428): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_797d28cb9fcb4aebbaf76b811fa564db$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('377ffc9c-e3f5-4412-8d50-d44895e08655','5f22f5e7-f040-4a5f-bd79-9b1c4d8deb5b','2d00d365-0727-40ba-a164-cafe824576ad','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','0ebd685d-35ee-4333-b781-7a20163d6464.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:35:09.505 +00:00','2020-03-05 17:35:09.505 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_797d28cb9fcb4aebbaf76b811fa564db$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (1e07b6fe-c0fb-4a40-a439-a562749ba428): COMMIT;
{ fileUUID: '377ffc9c-e3f5-4412-8d50-d44895e08655',
  cnodeUserUUID: '5f22f5e7-f040-4a5f-bd79-9b1c4d8deb5b',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: '0ebd685d-35ee-4333-b781-7a20163d6464.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: '2d00d365-0727-40ba-a164-cafe824576ad',
  updatedAt: 2020-03-05T17:35:09.505Z,
  createdAt: 2020-03-05T17:35:09.505Z }




PROCESSING ROW #174: sourcefile: a1962223-6420-4161-84fc-7b36817c4d8f.mp3, cnodeUserUUID: b8f15282-9cdd-45e8-b092-ac99439c0c3b, trackUUID: be19f53e-709a-4693-85a6-0294c384c6fb, multihash: QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM, dstPath: /file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM
writing to db1...
Executing (3067e1da-3c40-4475-a16c-8729b9897fa6): START TRANSACTION;
Executing (3067e1da-3c40-4475-a16c-8729b9897fa6): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = 'b8f15282-9cdd-45e8-b092-ac99439c0c3b' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = 'a1962223-6420-4161-84fc-7b36817c4d8f.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = 'be19f53e-709a-4693-85a6-0294c384c6fb' LIMIT 1;
Executing (3067e1da-3c40-4475-a16c-8729b9897fa6): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_5b251b1f07d54ac4bb2e76471775ebbf$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('0d53c295-accf-429e-a614-e029923441ec','b8f15282-9cdd-45e8-b092-ac99439c0c3b','be19f53e-709a-4693-85a6-0294c384c6fb','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','a1962223-6420-4161-84fc-7b36817c4d8f.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:35:09.889 +00:00','2020-03-05 17:35:09.889 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_5b251b1f07d54ac4bb2e76471775ebbf$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (3067e1da-3c40-4475-a16c-8729b9897fa6): COMMIT;
{ fileUUID: '0d53c295-accf-429e-a614-e029923441ec',
  cnodeUserUUID: 'b8f15282-9cdd-45e8-b092-ac99439c0c3b',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: 'a1962223-6420-4161-84fc-7b36817c4d8f.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: 'be19f53e-709a-4693-85a6-0294c384c6fb',
  updatedAt: 2020-03-05T17:35:09.889Z,
  createdAt: 2020-03-05T17:35:09.889Z }
writing to db2...
Executing (c3e93615-8aba-413d-81b4-b51f11d6fb96): START TRANSACTION;
Executing (c3e93615-8aba-413d-81b4-b51f11d6fb96): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = 'b8f15282-9cdd-45e8-b092-ac99439c0c3b' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = 'a1962223-6420-4161-84fc-7b36817c4d8f.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = 'be19f53e-709a-4693-85a6-0294c384c6fb' LIMIT 1;
Executing (c3e93615-8aba-413d-81b4-b51f11d6fb96): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_f4f0610f3ed3402da5d090f8167faf7f$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('092451f8-b54d-4a8f-9e12-4e54917cb77e','b8f15282-9cdd-45e8-b092-ac99439c0c3b','be19f53e-709a-4693-85a6-0294c384c6fb','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','a1962223-6420-4161-84fc-7b36817c4d8f.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:35:10.275 +00:00','2020-03-05 17:35:10.275 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_f4f0610f3ed3402da5d090f8167faf7f$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (c3e93615-8aba-413d-81b4-b51f11d6fb96): COMMIT;
{ fileUUID: '092451f8-b54d-4a8f-9e12-4e54917cb77e',
  cnodeUserUUID: 'b8f15282-9cdd-45e8-b092-ac99439c0c3b',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: 'a1962223-6420-4161-84fc-7b36817c4d8f.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: 'be19f53e-709a-4693-85a6-0294c384c6fb',
  updatedAt: 2020-03-05T17:35:10.275Z,
  createdAt: 2020-03-05T17:35:10.275Z }
writing to db3...
Executing (5cd58eb9-9b47-418c-8330-7668dda06a33): START TRANSACTION;
Executing (5cd58eb9-9b47-418c-8330-7668dda06a33): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = 'b8f15282-9cdd-45e8-b092-ac99439c0c3b' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = 'a1962223-6420-4161-84fc-7b36817c4d8f.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = 'be19f53e-709a-4693-85a6-0294c384c6fb' LIMIT 1;
Executing (5cd58eb9-9b47-418c-8330-7668dda06a33): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_852c4a89a04e46d2b76526a0c986f7d3$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('84c67fb6-f8db-4b4c-8274-e3f4aaa2f961','b8f15282-9cdd-45e8-b092-ac99439c0c3b','be19f53e-709a-4693-85a6-0294c384c6fb','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','a1962223-6420-4161-84fc-7b36817c4d8f.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:35:10.665 +00:00','2020-03-05 17:35:10.665 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_852c4a89a04e46d2b76526a0c986f7d3$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (5cd58eb9-9b47-418c-8330-7668dda06a33): COMMIT;
{ fileUUID: '84c67fb6-f8db-4b4c-8274-e3f4aaa2f961',
  cnodeUserUUID: 'b8f15282-9cdd-45e8-b092-ac99439c0c3b',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: 'a1962223-6420-4161-84fc-7b36817c4d8f.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: 'be19f53e-709a-4693-85a6-0294c384c6fb',
  updatedAt: 2020-03-05T17:35:10.665Z,
  createdAt: 2020-03-05T17:35:10.665Z }




PROCESSING ROW #175: sourcefile: 3537bba2-dd0e-4426-a7c0-bdd4a3aaddef.mp3, cnodeUserUUID: 3bb116a1-529f-407d-bd7e-6b2aa55cd1f5, trackUUID: 7016c194-4eb2-4c7a-8521-f57e08b62772, multihash: QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM, dstPath: /file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM
writing to db1...
Executing (04cbde00-5932-41cf-b937-9cefb089d524): START TRANSACTION;
Executing (04cbde00-5932-41cf-b937-9cefb089d524): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '3bb116a1-529f-407d-bd7e-6b2aa55cd1f5' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = '3537bba2-dd0e-4426-a7c0-bdd4a3aaddef.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '7016c194-4eb2-4c7a-8521-f57e08b62772' LIMIT 1;
Executing (04cbde00-5932-41cf-b937-9cefb089d524): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_971f2341975f41d7818904e27ea12ffd$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('fe6646ad-2ffd-41a2-8bc2-0a7b193caf76','3bb116a1-529f-407d-bd7e-6b2aa55cd1f5','7016c194-4eb2-4c7a-8521-f57e08b62772','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','3537bba2-dd0e-4426-a7c0-bdd4a3aaddef.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:35:11.048 +00:00','2020-03-05 17:35:11.048 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_971f2341975f41d7818904e27ea12ffd$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (04cbde00-5932-41cf-b937-9cefb089d524): COMMIT;
{ fileUUID: 'fe6646ad-2ffd-41a2-8bc2-0a7b193caf76',
  cnodeUserUUID: '3bb116a1-529f-407d-bd7e-6b2aa55cd1f5',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: '3537bba2-dd0e-4426-a7c0-bdd4a3aaddef.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: '7016c194-4eb2-4c7a-8521-f57e08b62772',
  updatedAt: 2020-03-05T17:35:11.048Z,
  createdAt: 2020-03-05T17:35:11.048Z }
writing to db2...
Executing (02466901-1f20-405f-bc87-f44754400707): START TRANSACTION;
Executing (02466901-1f20-405f-bc87-f44754400707): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '3bb116a1-529f-407d-bd7e-6b2aa55cd1f5' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = '3537bba2-dd0e-4426-a7c0-bdd4a3aaddef.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '7016c194-4eb2-4c7a-8521-f57e08b62772' LIMIT 1;
Executing (02466901-1f20-405f-bc87-f44754400707): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_4e8662a0689e4dbcb51e41f4207ac4a0$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('e1257341-4069-4381-91b1-ba3cd67e90e9','3bb116a1-529f-407d-bd7e-6b2aa55cd1f5','7016c194-4eb2-4c7a-8521-f57e08b62772','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','3537bba2-dd0e-4426-a7c0-bdd4a3aaddef.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:35:11.446 +00:00','2020-03-05 17:35:11.446 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_4e8662a0689e4dbcb51e41f4207ac4a0$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (02466901-1f20-405f-bc87-f44754400707): COMMIT;
{ SequelizeForeignKeyConstraintError: insert or update on table "Files" violates foreign key constraint "Files_cnodeUserUUID_fkey"
    at Query.formatError (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/sequelize/lib/dialects/postgres/query.js:296:16)
    at query.catch.err (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/sequelize/lib/dialects/postgres/query.js:86:18)
    at tryCatcher (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/bluebird/js/release/util.js:16:23)
    at Promise._settlePromiseFromHandler (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/bluebird/js/release/promise.js:517:31)
    at Promise._settlePromise (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/bluebird/js/release/promise.js:574:18)
    at Promise._settlePromise0 (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/bluebird/js/release/promise.js:619:10)
    at Promise._settlePromises (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/bluebird/js/release/promise.js:695:18)
    at _drainQueueStep (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/bluebird/js/release/async.js:138:12)
    at _drainQueue (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/bluebird/js/release/async.js:131:9)
    at Async._drainQueues (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/bluebird/js/release/async.js:147:5)
    at Immediate.Async.drainQueues [as _onImmediate] (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/bluebird/js/release/async.js:17:14)
    at runCallback (timers.js:705:18)
    at tryOnImmediate (timers.js:676:5)
    at processImmediate (timers.js:658:5)
  name: 'SequelizeForeignKeyConstraintError',
  parent:
   { error: insert or update on table "Files" violates foreign key constraint "Files_cnodeUserUUID_fkey"
       at Connection.parseE (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/pg/lib/connection.js:604:11)
       at Connection.parseMessage (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/pg/lib/connection.js:401:19)
       at Socket.<anonymous> (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/pg/lib/connection.js:121:22)
       at Socket.emit (events.js:198:13)
       at addChunk (_stream_readable.js:288:12)
       at readableAddChunk (_stream_readable.js:269:11)
       at Socket.Readable.push (_stream_readable.js:224:10)
       at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)
     name: 'error',
     length: 881,
     severity: 'ERROR',
     code: '23503',
     detail:
      'Key (cnodeUserUUID)=(3bb116a1-529f-407d-bd7e-6b2aa55cd1f5) is not present in table "CNodeUsers".',
     hint: undefined,
     position: undefined,
     internalPosition: undefined,
     internalQuery: undefined,
     where:
      'SQL statement "INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES (\'e1257341-4069-4381-91b1-ba3cd67e90e9\',\'3bb116a1-529f-407d-bd7e-6b2aa55cd1f5\',\'7016c194-4eb2-4c7a-8521-f57e08b62772\',\'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM\',\'3537bba2-dd0e-4426-a7c0-bdd4a3aaddef.mp3\',\'/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM\',\'copy320\',\'2020-03-05 17:35:11.446 +00:00\',\'2020-03-05 17:35:11.446 +00:00\') RETURNING *"\nPL/pgSQL function pg_temp_13.testfunc() line 1 at SQL statement',
     schema: 'public',
     table: 'Files',
     column: undefined,
     dataType: undefined,
     constraint: 'Files_cnodeUserUUID_fkey',
     file: 'ri_triggers.c',
     line: '3266',
     routine: 'ri_ReportViolation',
     sql:
      'CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_4e8662a0689e4dbcb51e41f4207ac4a0$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES (\'e1257341-4069-4381-91b1-ba3cd67e90e9\',\'3bb116a1-529f-407d-bd7e-6b2aa55cd1f5\',\'7016c194-4eb2-4c7a-8521-f57e08b62772\',\'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM\',\'3537bba2-dd0e-4426-a7c0-bdd4a3aaddef.mp3\',\'/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM\',\'copy320\',\'2020-03-05 17:35:11.446 +00:00\',\'2020-03-05 17:35:11.446 +00:00\') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_4e8662a0689e4dbcb51e41f4207ac4a0$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();' },
  original:
   { error: insert or update on table "Files" violates foreign key constraint "Files_cnodeUserUUID_fkey"
       at Connection.parseE (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/pg/lib/connection.js:604:11)
       at Connection.parseMessage (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/pg/lib/connection.js:401:19)
       at Socket.<anonymous> (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/pg/lib/connection.js:121:22)
       at Socket.emit (events.js:198:13)
       at addChunk (_stream_readable.js:288:12)
       at readableAddChunk (_stream_readable.js:269:11)
       at Socket.Readable.push (_stream_readable.js:224:10)
       at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)
     name: 'error',
     length: 881,
     severity: 'ERROR',
     code: '23503',
     detail:
      'Key (cnodeUserUUID)=(3bb116a1-529f-407d-bd7e-6b2aa55cd1f5) is not present in table "CNodeUsers".',
     hint: undefined,
     position: undefined,
     internalPosition: undefined,
     internalQuery: undefined,
     where:
      'SQL statement "INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES (\'e1257341-4069-4381-91b1-ba3cd67e90e9\',\'3bb116a1-529f-407d-bd7e-6b2aa55cd1f5\',\'7016c194-4eb2-4c7a-8521-f57e08b62772\',\'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM\',\'3537bba2-dd0e-4426-a7c0-bdd4a3aaddef.mp3\',\'/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM\',\'copy320\',\'2020-03-05 17:35:11.446 +00:00\',\'2020-03-05 17:35:11.446 +00:00\') RETURNING *"\nPL/pgSQL function pg_temp_13.testfunc() line 1 at SQL statement',
     schema: 'public',
     table: 'Files',
     column: undefined,
     dataType: undefined,
     constraint: 'Files_cnodeUserUUID_fkey',
     file: 'ri_triggers.c',
     line: '3266',
     routine: 'ri_ReportViolation',
     sql:
      'CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_4e8662a0689e4dbcb51e41f4207ac4a0$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES (\'e1257341-4069-4381-91b1-ba3cd67e90e9\',\'3bb116a1-529f-407d-bd7e-6b2aa55cd1f5\',\'7016c194-4eb2-4c7a-8521-f57e08b62772\',\'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM\',\'3537bba2-dd0e-4426-a7c0-bdd4a3aaddef.mp3\',\'/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM\',\'copy320\',\'2020-03-05 17:35:11.446 +00:00\',\'2020-03-05 17:35:11.446 +00:00\') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_4e8662a0689e4dbcb51e41f4207ac4a0$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();' },
  sql:
   'CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_4e8662a0689e4dbcb51e41f4207ac4a0$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES (\'e1257341-4069-4381-91b1-ba3cd67e90e9\',\'3bb116a1-529f-407d-bd7e-6b2aa55cd1f5\',\'7016c194-4eb2-4c7a-8521-f57e08b62772\',\'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM\',\'3537bba2-dd0e-4426-a7c0-bdd4a3aaddef.mp3\',\'/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM\',\'copy320\',\'2020-03-05 17:35:11.446 +00:00\',\'2020-03-05 17:35:11.446 +00:00\') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_4e8662a0689e4dbcb51e41f4207ac4a0$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();',
  fields: null,
  table: 'Files',
  value: undefined,
  index: 'Files_cnodeUserUUID_fkey',
  reltype: undefined }
writing to db3...
Executing (a8667d1c-eea8-46ee-8287-f35427b1c39d): START TRANSACTION;
Executing (a8667d1c-eea8-46ee-8287-f35427b1c39d): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '3bb116a1-529f-407d-bd7e-6b2aa55cd1f5' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = '3537bba2-dd0e-4426-a7c0-bdd4a3aaddef.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '7016c194-4eb2-4c7a-8521-f57e08b62772' LIMIT 1;
Executing (a8667d1c-eea8-46ee-8287-f35427b1c39d): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_349aeafd5f7447698e69037e956e2fe5$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('5f464c45-5bbe-4cd7-b418-49c24d8dff73','3bb116a1-529f-407d-bd7e-6b2aa55cd1f5','7016c194-4eb2-4c7a-8521-f57e08b62772','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','3537bba2-dd0e-4426-a7c0-bdd4a3aaddef.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:35:11.832 +00:00','2020-03-05 17:35:11.832 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_349aeafd5f7447698e69037e956e2fe5$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (a8667d1c-eea8-46ee-8287-f35427b1c39d): COMMIT;
{ fileUUID: '5f464c45-5bbe-4cd7-b418-49c24d8dff73',
  cnodeUserUUID: '3bb116a1-529f-407d-bd7e-6b2aa55cd1f5',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: '3537bba2-dd0e-4426-a7c0-bdd4a3aaddef.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: '7016c194-4eb2-4c7a-8521-f57e08b62772',
  updatedAt: 2020-03-05T17:35:11.832Z,
  createdAt: 2020-03-05T17:35:11.832Z }




PROCESSING ROW #176: sourcefile: d446351e-deb4-4348-ba55-5a8a175c0e55.mp3, cnodeUserUUID: 1350147d-276f-4221-8c54-a597192c1ed9, trackUUID: 556936da-a445-416f-ac13-740175545236, multihash: QmfLCmXdHuQngog1p5osxhuxfU9RvTMQBkcTHFzkuh3SNV, dstPath: /file_storage/QmfLCmXdHuQngog1p5osxhuxfU9RvTMQBkcTHFzkuh3SNV
writing to db1...
Executing (52097ec2-d8e7-4690-ab48-b195220104a9): START TRANSACTION;
Executing (52097ec2-d8e7-4690-ab48-b195220104a9): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '1350147d-276f-4221-8c54-a597192c1ed9' AND "File"."multihash" = 'QmfLCmXdHuQngog1p5osxhuxfU9RvTMQBkcTHFzkuh3SNV' AND "File"."sourceFile" = 'd446351e-deb4-4348-ba55-5a8a175c0e55.mp3' AND "File"."storagePath" = '/file_storage/QmfLCmXdHuQngog1p5osxhuxfU9RvTMQBkcTHFzkuh3SNV' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '556936da-a445-416f-ac13-740175545236' LIMIT 1;
Executing (52097ec2-d8e7-4690-ab48-b195220104a9): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_3e13845b67b64a928e4541599e648165$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('5fe5b58f-146c-4685-9401-e7e5e57379b1','1350147d-276f-4221-8c54-a597192c1ed9','556936da-a445-416f-ac13-740175545236','QmfLCmXdHuQngog1p5osxhuxfU9RvTMQBkcTHFzkuh3SNV','d446351e-deb4-4348-ba55-5a8a175c0e55.mp3','/file_storage/QmfLCmXdHuQngog1p5osxhuxfU9RvTMQBkcTHFzkuh3SNV','copy320','2020-03-05 17:35:12.228 +00:00','2020-03-05 17:35:12.228 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_3e13845b67b64a928e4541599e648165$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (52097ec2-d8e7-4690-ab48-b195220104a9): COMMIT;
{ fileUUID: '5fe5b58f-146c-4685-9401-e7e5e57379b1',
  cnodeUserUUID: '1350147d-276f-4221-8c54-a597192c1ed9',
  multihash: 'QmfLCmXdHuQngog1p5osxhuxfU9RvTMQBkcTHFzkuh3SNV',
  sourceFile: 'd446351e-deb4-4348-ba55-5a8a175c0e55.mp3',
  storagePath:
   '/file_storage/QmfLCmXdHuQngog1p5osxhuxfU9RvTMQBkcTHFzkuh3SNV',
  type: 'copy320',
  trackUUID: '556936da-a445-416f-ac13-740175545236',
  updatedAt: 2020-03-05T17:35:12.228Z,
  createdAt: 2020-03-05T17:35:12.228Z }
writing to db2...
Executing (42cf4aef-9641-4ae3-a3b4-e81dfc55341e): START TRANSACTION;
Executing (42cf4aef-9641-4ae3-a3b4-e81dfc55341e): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '1350147d-276f-4221-8c54-a597192c1ed9' AND "File"."multihash" = 'QmfLCmXdHuQngog1p5osxhuxfU9RvTMQBkcTHFzkuh3SNV' AND "File"."sourceFile" = 'd446351e-deb4-4348-ba55-5a8a175c0e55.mp3' AND "File"."storagePath" = '/file_storage/QmfLCmXdHuQngog1p5osxhuxfU9RvTMQBkcTHFzkuh3SNV' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '556936da-a445-416f-ac13-740175545236' LIMIT 1;
Executing (42cf4aef-9641-4ae3-a3b4-e81dfc55341e): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_f472c2b7652f49a4afc7798e274e6332$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('8f44b759-82a0-43fa-af2e-30e171e2b64d','1350147d-276f-4221-8c54-a597192c1ed9','556936da-a445-416f-ac13-740175545236','QmfLCmXdHuQngog1p5osxhuxfU9RvTMQBkcTHFzkuh3SNV','d446351e-deb4-4348-ba55-5a8a175c0e55.mp3','/file_storage/QmfLCmXdHuQngog1p5osxhuxfU9RvTMQBkcTHFzkuh3SNV','copy320','2020-03-05 17:35:12.617 +00:00','2020-03-05 17:35:12.617 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_f472c2b7652f49a4afc7798e274e6332$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (42cf4aef-9641-4ae3-a3b4-e81dfc55341e): COMMIT;
{ fileUUID: '8f44b759-82a0-43fa-af2e-30e171e2b64d',
  cnodeUserUUID: '1350147d-276f-4221-8c54-a597192c1ed9',
  multihash: 'QmfLCmXdHuQngog1p5osxhuxfU9RvTMQBkcTHFzkuh3SNV',
  sourceFile: 'd446351e-deb4-4348-ba55-5a8a175c0e55.mp3',
  storagePath:
   '/file_storage/QmfLCmXdHuQngog1p5osxhuxfU9RvTMQBkcTHFzkuh3SNV',
  type: 'copy320',
  trackUUID: '556936da-a445-416f-ac13-740175545236',
  updatedAt: 2020-03-05T17:35:12.617Z,
  createdAt: 2020-03-05T17:35:12.617Z }
writing to db3...
Executing (9497bc51-fc13-40d2-8807-e3b1fe076f0e): START TRANSACTION;
Executing (9497bc51-fc13-40d2-8807-e3b1fe076f0e): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '1350147d-276f-4221-8c54-a597192c1ed9' AND "File"."multihash" = 'QmfLCmXdHuQngog1p5osxhuxfU9RvTMQBkcTHFzkuh3SNV' AND "File"."sourceFile" = 'd446351e-deb4-4348-ba55-5a8a175c0e55.mp3' AND "File"."storagePath" = '/file_storage/QmfLCmXdHuQngog1p5osxhuxfU9RvTMQBkcTHFzkuh3SNV' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '556936da-a445-416f-ac13-740175545236' LIMIT 1;
Executing (9497bc51-fc13-40d2-8807-e3b1fe076f0e): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_5692a0dda6a048cb90a6b7c9a80efa37$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('d3d9d799-00d6-4e77-bf9b-1901da0e9cf0','1350147d-276f-4221-8c54-a597192c1ed9','556936da-a445-416f-ac13-740175545236','QmfLCmXdHuQngog1p5osxhuxfU9RvTMQBkcTHFzkuh3SNV','d446351e-deb4-4348-ba55-5a8a175c0e55.mp3','/file_storage/QmfLCmXdHuQngog1p5osxhuxfU9RvTMQBkcTHFzkuh3SNV','copy320','2020-03-05 17:35:13.024 +00:00','2020-03-05 17:35:13.024 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_5692a0dda6a048cb90a6b7c9a80efa37$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (9497bc51-fc13-40d2-8807-e3b1fe076f0e): COMMIT;
{ fileUUID: 'd3d9d799-00d6-4e77-bf9b-1901da0e9cf0',
  cnodeUserUUID: '1350147d-276f-4221-8c54-a597192c1ed9',
  multihash: 'QmfLCmXdHuQngog1p5osxhuxfU9RvTMQBkcTHFzkuh3SNV',
  sourceFile: 'd446351e-deb4-4348-ba55-5a8a175c0e55.mp3',
  storagePath:
   '/file_storage/QmfLCmXdHuQngog1p5osxhuxfU9RvTMQBkcTHFzkuh3SNV',
  type: 'copy320',
  trackUUID: '556936da-a445-416f-ac13-740175545236',
  updatedAt: 2020-03-05T17:35:13.024Z,
  createdAt: 2020-03-05T17:35:13.024Z }




PROCESSING ROW #177: sourcefile: 2fc40fd2-d42c-41a9-a37e-86c4adebe4d6.mp3, cnodeUserUUID: 23c00102-3178-4b9f-96c0-df510c369632, trackUUID: 02b764ba-3cb3-4622-9a26-06fa09c66a3e, multihash: QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM, dstPath: /file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM
writing to db1...
Executing (2b3a039b-2847-466b-9c42-d4e57400cb7c): START TRANSACTION;
Executing (2b3a039b-2847-466b-9c42-d4e57400cb7c): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '23c00102-3178-4b9f-96c0-df510c369632' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = '2fc40fd2-d42c-41a9-a37e-86c4adebe4d6.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '02b764ba-3cb3-4622-9a26-06fa09c66a3e' LIMIT 1;
Executing (2b3a039b-2847-466b-9c42-d4e57400cb7c): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_d693710b71194e36bbac3d972f8b1528$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('3d2472c9-42c6-4aaf-9fa6-b4fc12f44095','23c00102-3178-4b9f-96c0-df510c369632','02b764ba-3cb3-4622-9a26-06fa09c66a3e','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','2fc40fd2-d42c-41a9-a37e-86c4adebe4d6.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:35:13.428 +00:00','2020-03-05 17:35:13.428 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_d693710b71194e36bbac3d972f8b1528$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (2b3a039b-2847-466b-9c42-d4e57400cb7c): COMMIT;
{ fileUUID: '3d2472c9-42c6-4aaf-9fa6-b4fc12f44095',
  cnodeUserUUID: '23c00102-3178-4b9f-96c0-df510c369632',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: '2fc40fd2-d42c-41a9-a37e-86c4adebe4d6.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: '02b764ba-3cb3-4622-9a26-06fa09c66a3e',
  updatedAt: 2020-03-05T17:35:13.428Z,
  createdAt: 2020-03-05T17:35:13.428Z }
writing to db2...
Executing (3627f8cf-97c4-4569-b1d5-8c4c033206a7): START TRANSACTION;
Executing (3627f8cf-97c4-4569-b1d5-8c4c033206a7): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '23c00102-3178-4b9f-96c0-df510c369632' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = '2fc40fd2-d42c-41a9-a37e-86c4adebe4d6.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '02b764ba-3cb3-4622-9a26-06fa09c66a3e' LIMIT 1;
Executing (3627f8cf-97c4-4569-b1d5-8c4c033206a7): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_97cb55e69fb1475db1574902c3c0967d$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('83fd4aad-d908-467a-b7fc-00c588fa48c7','23c00102-3178-4b9f-96c0-df510c369632','02b764ba-3cb3-4622-9a26-06fa09c66a3e','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','2fc40fd2-d42c-41a9-a37e-86c4adebe4d6.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:35:13.848 +00:00','2020-03-05 17:35:13.848 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_97cb55e69fb1475db1574902c3c0967d$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (3627f8cf-97c4-4569-b1d5-8c4c033206a7): COMMIT;
{ fileUUID: '83fd4aad-d908-467a-b7fc-00c588fa48c7',
  cnodeUserUUID: '23c00102-3178-4b9f-96c0-df510c369632',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: '2fc40fd2-d42c-41a9-a37e-86c4adebe4d6.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: '02b764ba-3cb3-4622-9a26-06fa09c66a3e',
  updatedAt: 2020-03-05T17:35:13.848Z,
  createdAt: 2020-03-05T17:35:13.848Z }
writing to db3...
Executing (9415e504-eda1-47b4-b86f-3e5fdc564487): START TRANSACTION;
Executing (9415e504-eda1-47b4-b86f-3e5fdc564487): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '23c00102-3178-4b9f-96c0-df510c369632' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = '2fc40fd2-d42c-41a9-a37e-86c4adebe4d6.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '02b764ba-3cb3-4622-9a26-06fa09c66a3e' LIMIT 1;
Executing (9415e504-eda1-47b4-b86f-3e5fdc564487): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_3bd61f483ec340bcab57a29646db9314$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('966ceecc-1569-4fa7-a6c5-2dcde867e0c2','23c00102-3178-4b9f-96c0-df510c369632','02b764ba-3cb3-4622-9a26-06fa09c66a3e','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','2fc40fd2-d42c-41a9-a37e-86c4adebe4d6.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:35:14.233 +00:00','2020-03-05 17:35:14.233 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_3bd61f483ec340bcab57a29646db9314$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (9415e504-eda1-47b4-b86f-3e5fdc564487): COMMIT;
{ fileUUID: '966ceecc-1569-4fa7-a6c5-2dcde867e0c2',
  cnodeUserUUID: '23c00102-3178-4b9f-96c0-df510c369632',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: '2fc40fd2-d42c-41a9-a37e-86c4adebe4d6.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: '02b764ba-3cb3-4622-9a26-06fa09c66a3e',
  updatedAt: 2020-03-05T17:35:14.233Z,
  createdAt: 2020-03-05T17:35:14.233Z }




PROCESSING ROW #178: sourcefile: 6cc3800b-cb77-4998-a929-d48655d960b4.mp3, cnodeUserUUID: f8833f08-e129-4981-bb56-af0d81a4c509, trackUUID: c1412134-76a4-4949-a514-79c203ca5e8a, multihash: QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM, dstPath: /file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM
writing to db1...
Executing (d76969c9-5cc3-4ed8-8181-5d84bf908a55): START TRANSACTION;
Executing (d76969c9-5cc3-4ed8-8181-5d84bf908a55): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = 'f8833f08-e129-4981-bb56-af0d81a4c509' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = '6cc3800b-cb77-4998-a929-d48655d960b4.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = 'c1412134-76a4-4949-a514-79c203ca5e8a' LIMIT 1;
Executing (d76969c9-5cc3-4ed8-8181-5d84bf908a55): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_f6232efb0102488790d797d4dfec6bb1$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('b9358e5a-1dcb-4547-ad02-febc621ff6f6','f8833f08-e129-4981-bb56-af0d81a4c509','c1412134-76a4-4949-a514-79c203ca5e8a','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','6cc3800b-cb77-4998-a929-d48655d960b4.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:35:14.635 +00:00','2020-03-05 17:35:14.635 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_f6232efb0102488790d797d4dfec6bb1$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (d76969c9-5cc3-4ed8-8181-5d84bf908a55): COMMIT;
{ fileUUID: 'b9358e5a-1dcb-4547-ad02-febc621ff6f6',
  cnodeUserUUID: 'f8833f08-e129-4981-bb56-af0d81a4c509',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: '6cc3800b-cb77-4998-a929-d48655d960b4.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: 'c1412134-76a4-4949-a514-79c203ca5e8a',
  updatedAt: 2020-03-05T17:35:14.635Z,
  createdAt: 2020-03-05T17:35:14.635Z }
writing to db2...
Executing (b6bc1781-1132-40ff-8e27-ac2a92b80fc7): START TRANSACTION;
Executing (b6bc1781-1132-40ff-8e27-ac2a92b80fc7): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = 'f8833f08-e129-4981-bb56-af0d81a4c509' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = '6cc3800b-cb77-4998-a929-d48655d960b4.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = 'c1412134-76a4-4949-a514-79c203ca5e8a' LIMIT 1;
Executing (b6bc1781-1132-40ff-8e27-ac2a92b80fc7): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_910161a262614b9f80c3f0cb5ec9c7d2$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('3948e784-5a54-4867-90ae-f9f94d7b4a20','f8833f08-e129-4981-bb56-af0d81a4c509','c1412134-76a4-4949-a514-79c203ca5e8a','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','6cc3800b-cb77-4998-a929-d48655d960b4.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:35:15.043 +00:00','2020-03-05 17:35:15.043 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_910161a262614b9f80c3f0cb5ec9c7d2$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (b6bc1781-1132-40ff-8e27-ac2a92b80fc7): COMMIT;
{ fileUUID: '3948e784-5a54-4867-90ae-f9f94d7b4a20',
  cnodeUserUUID: 'f8833f08-e129-4981-bb56-af0d81a4c509',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: '6cc3800b-cb77-4998-a929-d48655d960b4.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: 'c1412134-76a4-4949-a514-79c203ca5e8a',
  updatedAt: 2020-03-05T17:35:15.043Z,
  createdAt: 2020-03-05T17:35:15.043Z }
writing to db3...
Executing (7c2933cf-3db8-4bfd-8394-bddbe1874100): START TRANSACTION;
Executing (7c2933cf-3db8-4bfd-8394-bddbe1874100): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = 'f8833f08-e129-4981-bb56-af0d81a4c509' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = '6cc3800b-cb77-4998-a929-d48655d960b4.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = 'c1412134-76a4-4949-a514-79c203ca5e8a' LIMIT 1;
Executing (7c2933cf-3db8-4bfd-8394-bddbe1874100): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_0b81456be00d4a229751dd0c4ca8a980$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('48273636-dca6-4cab-b47c-b814225bd1ae','f8833f08-e129-4981-bb56-af0d81a4c509','c1412134-76a4-4949-a514-79c203ca5e8a','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','6cc3800b-cb77-4998-a929-d48655d960b4.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:35:15.440 +00:00','2020-03-05 17:35:15.440 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_0b81456be00d4a229751dd0c4ca8a980$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (7c2933cf-3db8-4bfd-8394-bddbe1874100): COMMIT;
{ fileUUID: '48273636-dca6-4cab-b47c-b814225bd1ae',
  cnodeUserUUID: 'f8833f08-e129-4981-bb56-af0d81a4c509',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: '6cc3800b-cb77-4998-a929-d48655d960b4.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: 'c1412134-76a4-4949-a514-79c203ca5e8a',
  updatedAt: 2020-03-05T17:35:15.440Z,
  createdAt: 2020-03-05T17:35:15.440Z }




PROCESSING ROW #179: sourcefile: e545304b-4275-4fdb-a356-f80a08cfb9c3.mp3, cnodeUserUUID: 492b976e-c67d-44ee-8213-f9ba4517df0b, trackUUID: 58fa3ad7-d774-473d-b31d-726261d21ac0, multihash: QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM, dstPath: /file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM
writing to db1...
Executing (afcb1dc4-6298-41fb-8fc5-d4d66da1e83e): START TRANSACTION;
Executing (afcb1dc4-6298-41fb-8fc5-d4d66da1e83e): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '492b976e-c67d-44ee-8213-f9ba4517df0b' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = 'e545304b-4275-4fdb-a356-f80a08cfb9c3.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '58fa3ad7-d774-473d-b31d-726261d21ac0' LIMIT 1;
Executing (afcb1dc4-6298-41fb-8fc5-d4d66da1e83e): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_e0f42797ee824aa18c3b6224c2effb16$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('7d7eab29-b3d4-43de-98d7-50f3f9586f69','492b976e-c67d-44ee-8213-f9ba4517df0b','58fa3ad7-d774-473d-b31d-726261d21ac0','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','e545304b-4275-4fdb-a356-f80a08cfb9c3.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:35:15.836 +00:00','2020-03-05 17:35:15.836 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_e0f42797ee824aa18c3b6224c2effb16$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (afcb1dc4-6298-41fb-8fc5-d4d66da1e83e): COMMIT;
{ fileUUID: '7d7eab29-b3d4-43de-98d7-50f3f9586f69',
  cnodeUserUUID: '492b976e-c67d-44ee-8213-f9ba4517df0b',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: 'e545304b-4275-4fdb-a356-f80a08cfb9c3.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: '58fa3ad7-d774-473d-b31d-726261d21ac0',
  updatedAt: 2020-03-05T17:35:15.836Z,
  createdAt: 2020-03-05T17:35:15.836Z }
writing to db2...
Executing (02e5c7d1-a01c-4a9a-b0fa-674f320ee967): START TRANSACTION;
Executing (02e5c7d1-a01c-4a9a-b0fa-674f320ee967): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '492b976e-c67d-44ee-8213-f9ba4517df0b' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = 'e545304b-4275-4fdb-a356-f80a08cfb9c3.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '58fa3ad7-d774-473d-b31d-726261d21ac0' LIMIT 1;
Executing (02e5c7d1-a01c-4a9a-b0fa-674f320ee967): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_2be08754cf28489e82c6161cab5962f9$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('e6a3c9a0-2fbf-4654-ae8d-11d3523e88e5','492b976e-c67d-44ee-8213-f9ba4517df0b','58fa3ad7-d774-473d-b31d-726261d21ac0','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','e545304b-4275-4fdb-a356-f80a08cfb9c3.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:35:16.234 +00:00','2020-03-05 17:35:16.234 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_2be08754cf28489e82c6161cab5962f9$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (02e5c7d1-a01c-4a9a-b0fa-674f320ee967): COMMIT;
{ fileUUID: 'e6a3c9a0-2fbf-4654-ae8d-11d3523e88e5',
  cnodeUserUUID: '492b976e-c67d-44ee-8213-f9ba4517df0b',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: 'e545304b-4275-4fdb-a356-f80a08cfb9c3.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: '58fa3ad7-d774-473d-b31d-726261d21ac0',
  updatedAt: 2020-03-05T17:35:16.234Z,
  createdAt: 2020-03-05T17:35:16.234Z }
writing to db3...
Executing (35aa95a1-824c-4b15-95fd-9ab9b7460ba9): START TRANSACTION;
Executing (35aa95a1-824c-4b15-95fd-9ab9b7460ba9): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '492b976e-c67d-44ee-8213-f9ba4517df0b' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = 'e545304b-4275-4fdb-a356-f80a08cfb9c3.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '58fa3ad7-d774-473d-b31d-726261d21ac0' LIMIT 1;
Executing (35aa95a1-824c-4b15-95fd-9ab9b7460ba9): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_0e387221d5884f4cb8f41eb462dce9a7$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('c02eadae-4f60-4e89-9a1d-4cb90d12885b','492b976e-c67d-44ee-8213-f9ba4517df0b','58fa3ad7-d774-473d-b31d-726261d21ac0','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','e545304b-4275-4fdb-a356-f80a08cfb9c3.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:35:16.619 +00:00','2020-03-05 17:35:16.619 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_0e387221d5884f4cb8f41eb462dce9a7$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (35aa95a1-824c-4b15-95fd-9ab9b7460ba9): COMMIT;
{ fileUUID: 'c02eadae-4f60-4e89-9a1d-4cb90d12885b',
  cnodeUserUUID: '492b976e-c67d-44ee-8213-f9ba4517df0b',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: 'e545304b-4275-4fdb-a356-f80a08cfb9c3.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: '58fa3ad7-d774-473d-b31d-726261d21ac0',
  updatedAt: 2020-03-05T17:35:16.619Z,
  createdAt: 2020-03-05T17:35:16.619Z }




PROCESSING ROW #180: sourcefile: dd8bf07e-8cb7-4690-8422-f365a4d2898e.mp3, cnodeUserUUID: a4027f97-248a-4a97-8f0a-2c893e767ca1, trackUUID: bb6de633-fb27-456a-b446-f9812dee9d0e, multihash: QmQLrYxWsyByEU6EeojyZDDTWWujAnTzQhmGUc4tYqMhBU, dstPath: /file_storage/QmQLrYxWsyByEU6EeojyZDDTWWujAnTzQhmGUc4tYqMhBU
writing to db1...
Executing (f71724b1-4310-47e5-9425-ce29294ff03b): START TRANSACTION;
Executing (f71724b1-4310-47e5-9425-ce29294ff03b): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = 'a4027f97-248a-4a97-8f0a-2c893e767ca1' AND "File"."multihash" = 'QmQLrYxWsyByEU6EeojyZDDTWWujAnTzQhmGUc4tYqMhBU' AND "File"."sourceFile" = 'dd8bf07e-8cb7-4690-8422-f365a4d2898e.mp3' AND "File"."storagePath" = '/file_storage/QmQLrYxWsyByEU6EeojyZDDTWWujAnTzQhmGUc4tYqMhBU' AND "File"."type" = 'copy320' AND "File"."trackUUID" = 'bb6de633-fb27-456a-b446-f9812dee9d0e' LIMIT 1;
Executing (f71724b1-4310-47e5-9425-ce29294ff03b): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_129b69bbf3fc44a087342dd7ed3b3bf2$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('bfc846a9-c601-4f74-b3ab-0b13f8c4fa13','a4027f97-248a-4a97-8f0a-2c893e767ca1','bb6de633-fb27-456a-b446-f9812dee9d0e','QmQLrYxWsyByEU6EeojyZDDTWWujAnTzQhmGUc4tYqMhBU','dd8bf07e-8cb7-4690-8422-f365a4d2898e.mp3','/file_storage/QmQLrYxWsyByEU6EeojyZDDTWWujAnTzQhmGUc4tYqMhBU','copy320','2020-03-05 17:35:17.018 +00:00','2020-03-05 17:35:17.018 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_129b69bbf3fc44a087342dd7ed3b3bf2$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (f71724b1-4310-47e5-9425-ce29294ff03b): COMMIT;
{ fileUUID: 'bfc846a9-c601-4f74-b3ab-0b13f8c4fa13',
  cnodeUserUUID: 'a4027f97-248a-4a97-8f0a-2c893e767ca1',
  multihash: 'QmQLrYxWsyByEU6EeojyZDDTWWujAnTzQhmGUc4tYqMhBU',
  sourceFile: 'dd8bf07e-8cb7-4690-8422-f365a4d2898e.mp3',
  storagePath:
   '/file_storage/QmQLrYxWsyByEU6EeojyZDDTWWujAnTzQhmGUc4tYqMhBU',
  type: 'copy320',
  trackUUID: 'bb6de633-fb27-456a-b446-f9812dee9d0e',
  updatedAt: 2020-03-05T17:35:17.018Z,
  createdAt: 2020-03-05T17:35:17.018Z }
writing to db2...
Executing (ef88e5f0-3592-4687-b193-7ae4e42ff608): START TRANSACTION;
Executing (ef88e5f0-3592-4687-b193-7ae4e42ff608): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = 'a4027f97-248a-4a97-8f0a-2c893e767ca1' AND "File"."multihash" = 'QmQLrYxWsyByEU6EeojyZDDTWWujAnTzQhmGUc4tYqMhBU' AND "File"."sourceFile" = 'dd8bf07e-8cb7-4690-8422-f365a4d2898e.mp3' AND "File"."storagePath" = '/file_storage/QmQLrYxWsyByEU6EeojyZDDTWWujAnTzQhmGUc4tYqMhBU' AND "File"."type" = 'copy320' AND "File"."trackUUID" = 'bb6de633-fb27-456a-b446-f9812dee9d0e' LIMIT 1;
Executing (ef88e5f0-3592-4687-b193-7ae4e42ff608): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_ef81866cf72b456aa539eb7113b8cdf0$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('0ff6b1bc-0833-46f3-88f5-03486681d0c1','a4027f97-248a-4a97-8f0a-2c893e767ca1','bb6de633-fb27-456a-b446-f9812dee9d0e','QmQLrYxWsyByEU6EeojyZDDTWWujAnTzQhmGUc4tYqMhBU','dd8bf07e-8cb7-4690-8422-f365a4d2898e.mp3','/file_storage/QmQLrYxWsyByEU6EeojyZDDTWWujAnTzQhmGUc4tYqMhBU','copy320','2020-03-05 17:35:17.420 +00:00','2020-03-05 17:35:17.420 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_ef81866cf72b456aa539eb7113b8cdf0$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (ef88e5f0-3592-4687-b193-7ae4e42ff608): COMMIT;
{ fileUUID: '0ff6b1bc-0833-46f3-88f5-03486681d0c1',
  cnodeUserUUID: 'a4027f97-248a-4a97-8f0a-2c893e767ca1',
  multihash: 'QmQLrYxWsyByEU6EeojyZDDTWWujAnTzQhmGUc4tYqMhBU',
  sourceFile: 'dd8bf07e-8cb7-4690-8422-f365a4d2898e.mp3',
  storagePath:
   '/file_storage/QmQLrYxWsyByEU6EeojyZDDTWWujAnTzQhmGUc4tYqMhBU',
  type: 'copy320',
  trackUUID: 'bb6de633-fb27-456a-b446-f9812dee9d0e',
  updatedAt: 2020-03-05T17:35:17.420Z,
  createdAt: 2020-03-05T17:35:17.420Z }
writing to db3...
Executing (a0cdf4dd-29d4-4f9f-a06e-abf7b7dedc08): START TRANSACTION;
Executing (a0cdf4dd-29d4-4f9f-a06e-abf7b7dedc08): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = 'a4027f97-248a-4a97-8f0a-2c893e767ca1' AND "File"."multihash" = 'QmQLrYxWsyByEU6EeojyZDDTWWujAnTzQhmGUc4tYqMhBU' AND "File"."sourceFile" = 'dd8bf07e-8cb7-4690-8422-f365a4d2898e.mp3' AND "File"."storagePath" = '/file_storage/QmQLrYxWsyByEU6EeojyZDDTWWujAnTzQhmGUc4tYqMhBU' AND "File"."type" = 'copy320' AND "File"."trackUUID" = 'bb6de633-fb27-456a-b446-f9812dee9d0e' LIMIT 1;
Executing (a0cdf4dd-29d4-4f9f-a06e-abf7b7dedc08): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_f328e4f098b1419f81056db4804c48d7$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('0add2b47-1ef0-4f11-ac36-bf5fa6619a8f','a4027f97-248a-4a97-8f0a-2c893e767ca1','bb6de633-fb27-456a-b446-f9812dee9d0e','QmQLrYxWsyByEU6EeojyZDDTWWujAnTzQhmGUc4tYqMhBU','dd8bf07e-8cb7-4690-8422-f365a4d2898e.mp3','/file_storage/QmQLrYxWsyByEU6EeojyZDDTWWujAnTzQhmGUc4tYqMhBU','copy320','2020-03-05 17:35:17.813 +00:00','2020-03-05 17:35:17.813 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_f328e4f098b1419f81056db4804c48d7$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (a0cdf4dd-29d4-4f9f-a06e-abf7b7dedc08): COMMIT;
{ fileUUID: '0add2b47-1ef0-4f11-ac36-bf5fa6619a8f',
  cnodeUserUUID: 'a4027f97-248a-4a97-8f0a-2c893e767ca1',
  multihash: 'QmQLrYxWsyByEU6EeojyZDDTWWujAnTzQhmGUc4tYqMhBU',
  sourceFile: 'dd8bf07e-8cb7-4690-8422-f365a4d2898e.mp3',
  storagePath:
   '/file_storage/QmQLrYxWsyByEU6EeojyZDDTWWujAnTzQhmGUc4tYqMhBU',
  type: 'copy320',
  trackUUID: 'bb6de633-fb27-456a-b446-f9812dee9d0e',
  updatedAt: 2020-03-05T17:35:17.813Z,
  createdAt: 2020-03-05T17:35:17.813Z }




PROCESSING ROW #181: sourcefile: a39fccca-38c5-4981-95d8-33e313466385.mp3, cnodeUserUUID: cc7f6b5c-b779-48c6-8149-5acbc5b37308, trackUUID: 18cc9449-0f0c-4512-aaeb-3ca976e88bc5, multihash: QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM, dstPath: /file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM
writing to db1...
Executing (bb16673a-369b-48b9-8e36-c5921e46199c): START TRANSACTION;
Executing (bb16673a-369b-48b9-8e36-c5921e46199c): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = 'cc7f6b5c-b779-48c6-8149-5acbc5b37308' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = 'a39fccca-38c5-4981-95d8-33e313466385.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '18cc9449-0f0c-4512-aaeb-3ca976e88bc5' LIMIT 1;
Executing (bb16673a-369b-48b9-8e36-c5921e46199c): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_1defd2029460461bba8ad3522db66b8c$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('6910a5a7-c4f3-4f7c-9917-cfb536d6ce3d','cc7f6b5c-b779-48c6-8149-5acbc5b37308','18cc9449-0f0c-4512-aaeb-3ca976e88bc5','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','a39fccca-38c5-4981-95d8-33e313466385.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:35:18.211 +00:00','2020-03-05 17:35:18.211 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_1defd2029460461bba8ad3522db66b8c$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (bb16673a-369b-48b9-8e36-c5921e46199c): COMMIT;
{ fileUUID: '6910a5a7-c4f3-4f7c-9917-cfb536d6ce3d',
  cnodeUserUUID: 'cc7f6b5c-b779-48c6-8149-5acbc5b37308',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: 'a39fccca-38c5-4981-95d8-33e313466385.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: '18cc9449-0f0c-4512-aaeb-3ca976e88bc5',
  updatedAt: 2020-03-05T17:35:18.211Z,
  createdAt: 2020-03-05T17:35:18.211Z }
writing to db2...
Executing (716c0eba-e1d3-4275-8b8b-3ab7feda97a1): START TRANSACTION;
Executing (716c0eba-e1d3-4275-8b8b-3ab7feda97a1): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = 'cc7f6b5c-b779-48c6-8149-5acbc5b37308' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = 'a39fccca-38c5-4981-95d8-33e313466385.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '18cc9449-0f0c-4512-aaeb-3ca976e88bc5' LIMIT 1;
Executing (716c0eba-e1d3-4275-8b8b-3ab7feda97a1): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_124c654d2036448c8e0865f3f18a8215$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('0cd94987-f036-43c6-9dd6-e312d862dd1e','cc7f6b5c-b779-48c6-8149-5acbc5b37308','18cc9449-0f0c-4512-aaeb-3ca976e88bc5','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','a39fccca-38c5-4981-95d8-33e313466385.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:35:18.610 +00:00','2020-03-05 17:35:18.610 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_124c654d2036448c8e0865f3f18a8215$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (716c0eba-e1d3-4275-8b8b-3ab7feda97a1): COMMIT;
{ SequelizeForeignKeyConstraintError: insert or update on table "Files" violates foreign key constraint "Files_cnodeUserUUID_fkey"
    at Query.formatError (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/sequelize/lib/dialects/postgres/query.js:296:16)
    at query.catch.err (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/sequelize/lib/dialects/postgres/query.js:86:18)
    at tryCatcher (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/bluebird/js/release/util.js:16:23)
    at Promise._settlePromiseFromHandler (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/bluebird/js/release/promise.js:517:31)
    at Promise._settlePromise (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/bluebird/js/release/promise.js:574:18)
    at Promise._settlePromise0 (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/bluebird/js/release/promise.js:619:10)
    at Promise._settlePromises (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/bluebird/js/release/promise.js:695:18)
    at _drainQueueStep (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/bluebird/js/release/async.js:138:12)
    at _drainQueue (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/bluebird/js/release/async.js:131:9)
    at Async._drainQueues (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/bluebird/js/release/async.js:147:5)
    at Immediate.Async.drainQueues [as _onImmediate] (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/bluebird/js/release/async.js:17:14)
    at runCallback (timers.js:705:18)
    at tryOnImmediate (timers.js:676:5)
    at processImmediate (timers.js:658:5)
  name: 'SequelizeForeignKeyConstraintError',
  parent:
   { error: insert or update on table "Files" violates foreign key constraint "Files_cnodeUserUUID_fkey"
       at Connection.parseE (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/pg/lib/connection.js:604:11)
       at Connection.parseMessage (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/pg/lib/connection.js:401:19)
       at Socket.<anonymous> (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/pg/lib/connection.js:121:22)
       at Socket.emit (events.js:198:13)
       at addChunk (_stream_readable.js:288:12)
       at readableAddChunk (_stream_readable.js:269:11)
       at Socket.Readable.push (_stream_readable.js:224:10)
       at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)
     name: 'error',
     length: 881,
     severity: 'ERROR',
     code: '23503',
     detail:
      'Key (cnodeUserUUID)=(cc7f6b5c-b779-48c6-8149-5acbc5b37308) is not present in table "CNodeUsers".',
     hint: undefined,
     position: undefined,
     internalPosition: undefined,
     internalQuery: undefined,
     where:
      'SQL statement "INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES (\'0cd94987-f036-43c6-9dd6-e312d862dd1e\',\'cc7f6b5c-b779-48c6-8149-5acbc5b37308\',\'18cc9449-0f0c-4512-aaeb-3ca976e88bc5\',\'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM\',\'a39fccca-38c5-4981-95d8-33e313466385.mp3\',\'/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM\',\'copy320\',\'2020-03-05 17:35:18.610 +00:00\',\'2020-03-05 17:35:18.610 +00:00\') RETURNING *"\nPL/pgSQL function pg_temp_14.testfunc() line 1 at SQL statement',
     schema: 'public',
     table: 'Files',
     column: undefined,
     dataType: undefined,
     constraint: 'Files_cnodeUserUUID_fkey',
     file: 'ri_triggers.c',
     line: '3266',
     routine: 'ri_ReportViolation',
     sql:
      'CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_124c654d2036448c8e0865f3f18a8215$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES (\'0cd94987-f036-43c6-9dd6-e312d862dd1e\',\'cc7f6b5c-b779-48c6-8149-5acbc5b37308\',\'18cc9449-0f0c-4512-aaeb-3ca976e88bc5\',\'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM\',\'a39fccca-38c5-4981-95d8-33e313466385.mp3\',\'/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM\',\'copy320\',\'2020-03-05 17:35:18.610 +00:00\',\'2020-03-05 17:35:18.610 +00:00\') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_124c654d2036448c8e0865f3f18a8215$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();' },
  original:
   { error: insert or update on table "Files" violates foreign key constraint "Files_cnodeUserUUID_fkey"
       at Connection.parseE (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/pg/lib/connection.js:604:11)
       at Connection.parseMessage (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/pg/lib/connection.js:401:19)
       at Socket.<anonymous> (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/pg/lib/connection.js:121:22)
       at Socket.emit (events.js:198:13)
       at addChunk (_stream_readable.js:288:12)
       at readableAddChunk (_stream_readable.js:269:11)
       at Socket.Readable.push (_stream_readable.js:224:10)
       at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)
     name: 'error',
     length: 881,
     severity: 'ERROR',
     code: '23503',
     detail:
      'Key (cnodeUserUUID)=(cc7f6b5c-b779-48c6-8149-5acbc5b37308) is not present in table "CNodeUsers".',
     hint: undefined,
     position: undefined,
     internalPosition: undefined,
     internalQuery: undefined,
     where:
      'SQL statement "INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES (\'0cd94987-f036-43c6-9dd6-e312d862dd1e\',\'cc7f6b5c-b779-48c6-8149-5acbc5b37308\',\'18cc9449-0f0c-4512-aaeb-3ca976e88bc5\',\'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM\',\'a39fccca-38c5-4981-95d8-33e313466385.mp3\',\'/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM\',\'copy320\',\'2020-03-05 17:35:18.610 +00:00\',\'2020-03-05 17:35:18.610 +00:00\') RETURNING *"\nPL/pgSQL function pg_temp_14.testfunc() line 1 at SQL statement',
     schema: 'public',
     table: 'Files',
     column: undefined,
     dataType: undefined,
     constraint: 'Files_cnodeUserUUID_fkey',
     file: 'ri_triggers.c',
     line: '3266',
     routine: 'ri_ReportViolation',
     sql:
      'CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_124c654d2036448c8e0865f3f18a8215$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES (\'0cd94987-f036-43c6-9dd6-e312d862dd1e\',\'cc7f6b5c-b779-48c6-8149-5acbc5b37308\',\'18cc9449-0f0c-4512-aaeb-3ca976e88bc5\',\'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM\',\'a39fccca-38c5-4981-95d8-33e313466385.mp3\',\'/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM\',\'copy320\',\'2020-03-05 17:35:18.610 +00:00\',\'2020-03-05 17:35:18.610 +00:00\') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_124c654d2036448c8e0865f3f18a8215$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();' },
  sql:
   'CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_124c654d2036448c8e0865f3f18a8215$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES (\'0cd94987-f036-43c6-9dd6-e312d862dd1e\',\'cc7f6b5c-b779-48c6-8149-5acbc5b37308\',\'18cc9449-0f0c-4512-aaeb-3ca976e88bc5\',\'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM\',\'a39fccca-38c5-4981-95d8-33e313466385.mp3\',\'/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM\',\'copy320\',\'2020-03-05 17:35:18.610 +00:00\',\'2020-03-05 17:35:18.610 +00:00\') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_124c654d2036448c8e0865f3f18a8215$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();',
  fields: null,
  table: 'Files',
  value: undefined,
  index: 'Files_cnodeUserUUID_fkey',
  reltype: undefined }
writing to db3...
Executing (2d4b2453-0721-49e4-a182-e2cac4f878ce): START TRANSACTION;
Executing (2d4b2453-0721-49e4-a182-e2cac4f878ce): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = 'cc7f6b5c-b779-48c6-8149-5acbc5b37308' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = 'a39fccca-38c5-4981-95d8-33e313466385.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '18cc9449-0f0c-4512-aaeb-3ca976e88bc5' LIMIT 1;
Executing (2d4b2453-0721-49e4-a182-e2cac4f878ce): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_4cfcf863691e4cda92dff0925b660550$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('9268270a-0107-48bf-aad8-52ddb5bda6d2','cc7f6b5c-b779-48c6-8149-5acbc5b37308','18cc9449-0f0c-4512-aaeb-3ca976e88bc5','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','a39fccca-38c5-4981-95d8-33e313466385.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:35:18.995 +00:00','2020-03-05 17:35:18.995 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_4cfcf863691e4cda92dff0925b660550$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (2d4b2453-0721-49e4-a182-e2cac4f878ce): COMMIT;
{ fileUUID: '9268270a-0107-48bf-aad8-52ddb5bda6d2',
  cnodeUserUUID: 'cc7f6b5c-b779-48c6-8149-5acbc5b37308',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: 'a39fccca-38c5-4981-95d8-33e313466385.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: '18cc9449-0f0c-4512-aaeb-3ca976e88bc5',
  updatedAt: 2020-03-05T17:35:18.995Z,
  createdAt: 2020-03-05T17:35:18.995Z }




PROCESSING ROW #182: sourcefile: 131f626f-6a4b-4455-8d15-9459c2007a20.mp3, cnodeUserUUID: 7406545c-0bd7-47dd-a47d-f447c95532d0, trackUUID: 1c18b710-5204-4256-acab-35c23a5c3f82, multihash: QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM, dstPath: /file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM
writing to db1...
Executing (ab3a7dd0-b406-48fd-a2c8-07a7dbe3c0e3): START TRANSACTION;
Executing (ab3a7dd0-b406-48fd-a2c8-07a7dbe3c0e3): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '7406545c-0bd7-47dd-a47d-f447c95532d0' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = '131f626f-6a4b-4455-8d15-9459c2007a20.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '1c18b710-5204-4256-acab-35c23a5c3f82' LIMIT 1;
Executing (ab3a7dd0-b406-48fd-a2c8-07a7dbe3c0e3): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_1f5b041e5ed04fde80f32688685003f6$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('fd42dc66-1475-4801-956b-dd5dbd59ebc6','7406545c-0bd7-47dd-a47d-f447c95532d0','1c18b710-5204-4256-acab-35c23a5c3f82','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','131f626f-6a4b-4455-8d15-9459c2007a20.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:35:19.398 +00:00','2020-03-05 17:35:19.398 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_1f5b041e5ed04fde80f32688685003f6$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (ab3a7dd0-b406-48fd-a2c8-07a7dbe3c0e3): COMMIT;
{ fileUUID: 'fd42dc66-1475-4801-956b-dd5dbd59ebc6',
  cnodeUserUUID: '7406545c-0bd7-47dd-a47d-f447c95532d0',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: '131f626f-6a4b-4455-8d15-9459c2007a20.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: '1c18b710-5204-4256-acab-35c23a5c3f82',
  updatedAt: 2020-03-05T17:35:19.398Z,
  createdAt: 2020-03-05T17:35:19.398Z }
writing to db2...
Executing (548d8f61-5cfe-4330-a518-f37a9ce11eb4): START TRANSACTION;
Executing (548d8f61-5cfe-4330-a518-f37a9ce11eb4): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '7406545c-0bd7-47dd-a47d-f447c95532d0' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = '131f626f-6a4b-4455-8d15-9459c2007a20.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '1c18b710-5204-4256-acab-35c23a5c3f82' LIMIT 1;
Executing (548d8f61-5cfe-4330-a518-f37a9ce11eb4): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_7693a3404a834a74a3a159ed8372d93a$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('4a3b6995-5346-44fe-9c3d-c9be2cbb695e','7406545c-0bd7-47dd-a47d-f447c95532d0','1c18b710-5204-4256-acab-35c23a5c3f82','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','131f626f-6a4b-4455-8d15-9459c2007a20.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:35:19.787 +00:00','2020-03-05 17:35:19.787 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_7693a3404a834a74a3a159ed8372d93a$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (548d8f61-5cfe-4330-a518-f37a9ce11eb4): COMMIT;
{ fileUUID: '4a3b6995-5346-44fe-9c3d-c9be2cbb695e',
  cnodeUserUUID: '7406545c-0bd7-47dd-a47d-f447c95532d0',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: '131f626f-6a4b-4455-8d15-9459c2007a20.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: '1c18b710-5204-4256-acab-35c23a5c3f82',
  updatedAt: 2020-03-05T17:35:19.787Z,
  createdAt: 2020-03-05T17:35:19.787Z }
writing to db3...
Executing (32f62442-4672-4f10-a560-227b39e4f38d): START TRANSACTION;
Executing (32f62442-4672-4f10-a560-227b39e4f38d): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '7406545c-0bd7-47dd-a47d-f447c95532d0' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = '131f626f-6a4b-4455-8d15-9459c2007a20.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '1c18b710-5204-4256-acab-35c23a5c3f82' LIMIT 1;
Executing (32f62442-4672-4f10-a560-227b39e4f38d): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_3297a6bd51c44d0495bc17e96bdd0aa4$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('09a73d08-cfb1-4fa9-b902-baa50ca6c2a1','7406545c-0bd7-47dd-a47d-f447c95532d0','1c18b710-5204-4256-acab-35c23a5c3f82','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','131f626f-6a4b-4455-8d15-9459c2007a20.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:35:20.209 +00:00','2020-03-05 17:35:20.209 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_3297a6bd51c44d0495bc17e96bdd0aa4$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (32f62442-4672-4f10-a560-227b39e4f38d): COMMIT;
{ fileUUID: '09a73d08-cfb1-4fa9-b902-baa50ca6c2a1',
  cnodeUserUUID: '7406545c-0bd7-47dd-a47d-f447c95532d0',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: '131f626f-6a4b-4455-8d15-9459c2007a20.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: '1c18b710-5204-4256-acab-35c23a5c3f82',
  updatedAt: 2020-03-05T17:35:20.209Z,
  createdAt: 2020-03-05T17:35:20.209Z }




PROCESSING ROW #183: sourcefile: f7d10586-eb0b-4b78-b845-998b84943272.mp3, cnodeUserUUID: edf9bb60-0080-417d-90fb-d6e577bdd840, trackUUID: e0291d87-d6b8-431b-bac8-34573324ab79, multihash: QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM, dstPath: /file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM
writing to db1...
Executing (731e2d57-558f-4c7f-81de-fd2ae75b2747): START TRANSACTION;
Executing (731e2d57-558f-4c7f-81de-fd2ae75b2747): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = 'edf9bb60-0080-417d-90fb-d6e577bdd840' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = 'f7d10586-eb0b-4b78-b845-998b84943272.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = 'e0291d87-d6b8-431b-bac8-34573324ab79' LIMIT 1;
Executing (731e2d57-558f-4c7f-81de-fd2ae75b2747): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_c11cbfa48191467089722ed02e823e27$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('7a872d13-26ef-406e-ad58-667c0ebcf827','edf9bb60-0080-417d-90fb-d6e577bdd840','e0291d87-d6b8-431b-bac8-34573324ab79','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','f7d10586-eb0b-4b78-b845-998b84943272.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:35:20.601 +00:00','2020-03-05 17:35:20.601 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_c11cbfa48191467089722ed02e823e27$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (731e2d57-558f-4c7f-81de-fd2ae75b2747): COMMIT;
{ fileUUID: '7a872d13-26ef-406e-ad58-667c0ebcf827',
  cnodeUserUUID: 'edf9bb60-0080-417d-90fb-d6e577bdd840',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: 'f7d10586-eb0b-4b78-b845-998b84943272.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: 'e0291d87-d6b8-431b-bac8-34573324ab79',
  updatedAt: 2020-03-05T17:35:20.601Z,
  createdAt: 2020-03-05T17:35:20.601Z }
writing to db2...
Executing (e837fb4c-95ea-4741-abc3-ba38771be8a2): START TRANSACTION;
Executing (e837fb4c-95ea-4741-abc3-ba38771be8a2): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = 'edf9bb60-0080-417d-90fb-d6e577bdd840' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = 'f7d10586-eb0b-4b78-b845-998b84943272.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = 'e0291d87-d6b8-431b-bac8-34573324ab79' LIMIT 1;
Executing (e837fb4c-95ea-4741-abc3-ba38771be8a2): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_1276345e3c9d4accbeb53ec46803c247$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('60d3cf04-bf46-481b-b281-22c138e5f31f','edf9bb60-0080-417d-90fb-d6e577bdd840','e0291d87-d6b8-431b-bac8-34573324ab79','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','f7d10586-eb0b-4b78-b845-998b84943272.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:35:21.004 +00:00','2020-03-05 17:35:21.004 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_1276345e3c9d4accbeb53ec46803c247$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (e837fb4c-95ea-4741-abc3-ba38771be8a2): COMMIT;
{ fileUUID: '60d3cf04-bf46-481b-b281-22c138e5f31f',
  cnodeUserUUID: 'edf9bb60-0080-417d-90fb-d6e577bdd840',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: 'f7d10586-eb0b-4b78-b845-998b84943272.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: 'e0291d87-d6b8-431b-bac8-34573324ab79',
  updatedAt: 2020-03-05T17:35:21.004Z,
  createdAt: 2020-03-05T17:35:21.004Z }
writing to db3...
Executing (f64536fc-2bf5-417f-8904-88213f328b60): START TRANSACTION;
Executing (f64536fc-2bf5-417f-8904-88213f328b60): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = 'edf9bb60-0080-417d-90fb-d6e577bdd840' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = 'f7d10586-eb0b-4b78-b845-998b84943272.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = 'e0291d87-d6b8-431b-bac8-34573324ab79' LIMIT 1;
Executing (f64536fc-2bf5-417f-8904-88213f328b60): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_199783d8f7044f74bdee37f281cea50f$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('5754c5e1-fa58-4816-9777-1e3f242e49de','edf9bb60-0080-417d-90fb-d6e577bdd840','e0291d87-d6b8-431b-bac8-34573324ab79','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','f7d10586-eb0b-4b78-b845-998b84943272.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:35:21.392 +00:00','2020-03-05 17:35:21.392 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_199783d8f7044f74bdee37f281cea50f$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (f64536fc-2bf5-417f-8904-88213f328b60): COMMIT;
{ fileUUID: '5754c5e1-fa58-4816-9777-1e3f242e49de',
  cnodeUserUUID: 'edf9bb60-0080-417d-90fb-d6e577bdd840',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: 'f7d10586-eb0b-4b78-b845-998b84943272.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: 'e0291d87-d6b8-431b-bac8-34573324ab79',
  updatedAt: 2020-03-05T17:35:21.392Z,
  createdAt: 2020-03-05T17:35:21.392Z }




PROCESSING ROW #184: sourcefile: 28959d0c-e66f-4ac9-a5f4-baa7ef65520e.mp3, cnodeUserUUID: 8aefd2ee-77ea-4c0c-9ee3-cb64d794e399, trackUUID: 8bbaeffe-8748-45e7-8a81-9641c8bd39bc, multihash: QmcAD35vXY3h9iXGDF2sLTMTZ4QER63yKVoFrJQUpps6bq, dstPath: /file_storage/QmcAD35vXY3h9iXGDF2sLTMTZ4QER63yKVoFrJQUpps6bq
writing to db1...
Executing (16b842f5-2fac-4d74-88a1-e4ad2aa971d2): START TRANSACTION;
Executing (16b842f5-2fac-4d74-88a1-e4ad2aa971d2): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '8aefd2ee-77ea-4c0c-9ee3-cb64d794e399' AND "File"."multihash" = 'QmcAD35vXY3h9iXGDF2sLTMTZ4QER63yKVoFrJQUpps6bq' AND "File"."sourceFile" = '28959d0c-e66f-4ac9-a5f4-baa7ef65520e.mp3' AND "File"."storagePath" = '/file_storage/QmcAD35vXY3h9iXGDF2sLTMTZ4QER63yKVoFrJQUpps6bq' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '8bbaeffe-8748-45e7-8a81-9641c8bd39bc' LIMIT 1;
Executing (16b842f5-2fac-4d74-88a1-e4ad2aa971d2): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_af48c5af38e043e4a3fe91db87d70a79$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('39f4deff-18b5-4d99-b759-25f9f1928a36','8aefd2ee-77ea-4c0c-9ee3-cb64d794e399','8bbaeffe-8748-45e7-8a81-9641c8bd39bc','QmcAD35vXY3h9iXGDF2sLTMTZ4QER63yKVoFrJQUpps6bq','28959d0c-e66f-4ac9-a5f4-baa7ef65520e.mp3','/file_storage/QmcAD35vXY3h9iXGDF2sLTMTZ4QER63yKVoFrJQUpps6bq','copy320','2020-03-05 17:35:21.795 +00:00','2020-03-05 17:35:21.795 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_af48c5af38e043e4a3fe91db87d70a79$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (16b842f5-2fac-4d74-88a1-e4ad2aa971d2): COMMIT;
{ fileUUID: '39f4deff-18b5-4d99-b759-25f9f1928a36',
  cnodeUserUUID: '8aefd2ee-77ea-4c0c-9ee3-cb64d794e399',
  multihash: 'QmcAD35vXY3h9iXGDF2sLTMTZ4QER63yKVoFrJQUpps6bq',
  sourceFile: '28959d0c-e66f-4ac9-a5f4-baa7ef65520e.mp3',
  storagePath:
   '/file_storage/QmcAD35vXY3h9iXGDF2sLTMTZ4QER63yKVoFrJQUpps6bq',
  type: 'copy320',
  trackUUID: '8bbaeffe-8748-45e7-8a81-9641c8bd39bc',
  updatedAt: 2020-03-05T17:35:21.795Z,
  createdAt: 2020-03-05T17:35:21.795Z }
writing to db2...
Executing (ea4cf5b5-4af2-4710-a88d-a3df1604202f): START TRANSACTION;
Executing (ea4cf5b5-4af2-4710-a88d-a3df1604202f): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '8aefd2ee-77ea-4c0c-9ee3-cb64d794e399' AND "File"."multihash" = 'QmcAD35vXY3h9iXGDF2sLTMTZ4QER63yKVoFrJQUpps6bq' AND "File"."sourceFile" = '28959d0c-e66f-4ac9-a5f4-baa7ef65520e.mp3' AND "File"."storagePath" = '/file_storage/QmcAD35vXY3h9iXGDF2sLTMTZ4QER63yKVoFrJQUpps6bq' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '8bbaeffe-8748-45e7-8a81-9641c8bd39bc' LIMIT 1;
Executing (ea4cf5b5-4af2-4710-a88d-a3df1604202f): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_fcfc1c7fc88847bea20fc06d36f04d8b$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('bcce1757-85df-4334-b197-19fa86ddffa5','8aefd2ee-77ea-4c0c-9ee3-cb64d794e399','8bbaeffe-8748-45e7-8a81-9641c8bd39bc','QmcAD35vXY3h9iXGDF2sLTMTZ4QER63yKVoFrJQUpps6bq','28959d0c-e66f-4ac9-a5f4-baa7ef65520e.mp3','/file_storage/QmcAD35vXY3h9iXGDF2sLTMTZ4QER63yKVoFrJQUpps6bq','copy320','2020-03-05 17:35:22.204 +00:00','2020-03-05 17:35:22.204 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_fcfc1c7fc88847bea20fc06d36f04d8b$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (ea4cf5b5-4af2-4710-a88d-a3df1604202f): COMMIT;
{ fileUUID: 'bcce1757-85df-4334-b197-19fa86ddffa5',
  cnodeUserUUID: '8aefd2ee-77ea-4c0c-9ee3-cb64d794e399',
  multihash: 'QmcAD35vXY3h9iXGDF2sLTMTZ4QER63yKVoFrJQUpps6bq',
  sourceFile: '28959d0c-e66f-4ac9-a5f4-baa7ef65520e.mp3',
  storagePath:
   '/file_storage/QmcAD35vXY3h9iXGDF2sLTMTZ4QER63yKVoFrJQUpps6bq',
  type: 'copy320',
  trackUUID: '8bbaeffe-8748-45e7-8a81-9641c8bd39bc',
  updatedAt: 2020-03-05T17:35:22.204Z,
  createdAt: 2020-03-05T17:35:22.204Z }
writing to db3...
Executing (0a4235f3-b2e3-4ac0-ab83-8fb19ebdd940): START TRANSACTION;
Executing (0a4235f3-b2e3-4ac0-ab83-8fb19ebdd940): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '8aefd2ee-77ea-4c0c-9ee3-cb64d794e399' AND "File"."multihash" = 'QmcAD35vXY3h9iXGDF2sLTMTZ4QER63yKVoFrJQUpps6bq' AND "File"."sourceFile" = '28959d0c-e66f-4ac9-a5f4-baa7ef65520e.mp3' AND "File"."storagePath" = '/file_storage/QmcAD35vXY3h9iXGDF2sLTMTZ4QER63yKVoFrJQUpps6bq' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '8bbaeffe-8748-45e7-8a81-9641c8bd39bc' LIMIT 1;
Executing (0a4235f3-b2e3-4ac0-ab83-8fb19ebdd940): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_c1e8aba25b1648209f07ef7b69a69a65$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('f60b1fc4-1c33-4f81-a9f7-cb0bac987e99','8aefd2ee-77ea-4c0c-9ee3-cb64d794e399','8bbaeffe-8748-45e7-8a81-9641c8bd39bc','QmcAD35vXY3h9iXGDF2sLTMTZ4QER63yKVoFrJQUpps6bq','28959d0c-e66f-4ac9-a5f4-baa7ef65520e.mp3','/file_storage/QmcAD35vXY3h9iXGDF2sLTMTZ4QER63yKVoFrJQUpps6bq','copy320','2020-03-05 17:35:22.588 +00:00','2020-03-05 17:35:22.588 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_c1e8aba25b1648209f07ef7b69a69a65$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (0a4235f3-b2e3-4ac0-ab83-8fb19ebdd940): COMMIT;
{ fileUUID: 'f60b1fc4-1c33-4f81-a9f7-cb0bac987e99',
  cnodeUserUUID: '8aefd2ee-77ea-4c0c-9ee3-cb64d794e399',
  multihash: 'QmcAD35vXY3h9iXGDF2sLTMTZ4QER63yKVoFrJQUpps6bq',
  sourceFile: '28959d0c-e66f-4ac9-a5f4-baa7ef65520e.mp3',
  storagePath:
   '/file_storage/QmcAD35vXY3h9iXGDF2sLTMTZ4QER63yKVoFrJQUpps6bq',
  type: 'copy320',
  trackUUID: '8bbaeffe-8748-45e7-8a81-9641c8bd39bc',
  updatedAt: 2020-03-05T17:35:22.588Z,
  createdAt: 2020-03-05T17:35:22.588Z }




PROCESSING ROW #185: sourcefile: aff7e3f4-faf7-4924-ab28-6c24b0b3318d.mp3, cnodeUserUUID: 0072a5a0-75bb-4845-80ac-ed99fcf45a15, trackUUID: e04d606f-1f05-489f-864b-e5be0263ec75, multihash: QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM, dstPath: /file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM
writing to db1...
Executing (4c404fd7-500f-4fad-bab2-4e0ac26046de): START TRANSACTION;
Executing (4c404fd7-500f-4fad-bab2-4e0ac26046de): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '0072a5a0-75bb-4845-80ac-ed99fcf45a15' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = 'aff7e3f4-faf7-4924-ab28-6c24b0b3318d.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = 'e04d606f-1f05-489f-864b-e5be0263ec75' LIMIT 1;
Executing (4c404fd7-500f-4fad-bab2-4e0ac26046de): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_d6acc11a613f4905bb0f6ec5deb29ffa$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('dd970f74-64fd-421e-a286-55487dbfeb7e','0072a5a0-75bb-4845-80ac-ed99fcf45a15','e04d606f-1f05-489f-864b-e5be0263ec75','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','aff7e3f4-faf7-4924-ab28-6c24b0b3318d.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:35:22.987 +00:00','2020-03-05 17:35:22.987 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_d6acc11a613f4905bb0f6ec5deb29ffa$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (4c404fd7-500f-4fad-bab2-4e0ac26046de): COMMIT;
{ fileUUID: 'dd970f74-64fd-421e-a286-55487dbfeb7e',
  cnodeUserUUID: '0072a5a0-75bb-4845-80ac-ed99fcf45a15',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: 'aff7e3f4-faf7-4924-ab28-6c24b0b3318d.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: 'e04d606f-1f05-489f-864b-e5be0263ec75',
  updatedAt: 2020-03-05T17:35:22.987Z,
  createdAt: 2020-03-05T17:35:22.987Z }
writing to db2...
Executing (23c2f921-41f4-4fb0-8c32-5ab7e1b4c401): START TRANSACTION;
Executing (23c2f921-41f4-4fb0-8c32-5ab7e1b4c401): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '0072a5a0-75bb-4845-80ac-ed99fcf45a15' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = 'aff7e3f4-faf7-4924-ab28-6c24b0b3318d.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = 'e04d606f-1f05-489f-864b-e5be0263ec75' LIMIT 1;
Executing (23c2f921-41f4-4fb0-8c32-5ab7e1b4c401): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_8dc134cbb7d54e8da6f43ebd0d335b18$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('fb1b0c48-84cf-48d8-b6f4-a59cf158d8ee','0072a5a0-75bb-4845-80ac-ed99fcf45a15','e04d606f-1f05-489f-864b-e5be0263ec75','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','aff7e3f4-faf7-4924-ab28-6c24b0b3318d.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:35:23.377 +00:00','2020-03-05 17:35:23.377 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_8dc134cbb7d54e8da6f43ebd0d335b18$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (23c2f921-41f4-4fb0-8c32-5ab7e1b4c401): COMMIT;
{ fileUUID: 'fb1b0c48-84cf-48d8-b6f4-a59cf158d8ee',
  cnodeUserUUID: '0072a5a0-75bb-4845-80ac-ed99fcf45a15',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: 'aff7e3f4-faf7-4924-ab28-6c24b0b3318d.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: 'e04d606f-1f05-489f-864b-e5be0263ec75',
  updatedAt: 2020-03-05T17:35:23.377Z,
  createdAt: 2020-03-05T17:35:23.377Z }
writing to db3...
Executing (f599a8d3-b91e-43b0-aacf-bda022e123ee): START TRANSACTION;
Executing (f599a8d3-b91e-43b0-aacf-bda022e123ee): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '0072a5a0-75bb-4845-80ac-ed99fcf45a15' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = 'aff7e3f4-faf7-4924-ab28-6c24b0b3318d.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = 'e04d606f-1f05-489f-864b-e5be0263ec75' LIMIT 1;
Executing (f599a8d3-b91e-43b0-aacf-bda022e123ee): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_c624eb51317044ffa043bf9a29ceb900$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('ecbca23a-1a7d-4dfc-a7cb-4f67eea84d04','0072a5a0-75bb-4845-80ac-ed99fcf45a15','e04d606f-1f05-489f-864b-e5be0263ec75','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','aff7e3f4-faf7-4924-ab28-6c24b0b3318d.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:35:23.777 +00:00','2020-03-05 17:35:23.777 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_c624eb51317044ffa043bf9a29ceb900$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (f599a8d3-b91e-43b0-aacf-bda022e123ee): COMMIT;
{ fileUUID: 'ecbca23a-1a7d-4dfc-a7cb-4f67eea84d04',
  cnodeUserUUID: '0072a5a0-75bb-4845-80ac-ed99fcf45a15',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: 'aff7e3f4-faf7-4924-ab28-6c24b0b3318d.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: 'e04d606f-1f05-489f-864b-e5be0263ec75',
  updatedAt: 2020-03-05T17:35:23.777Z,
  createdAt: 2020-03-05T17:35:23.777Z }




PROCESSING ROW #186: sourcefile: 5a9b1433-b321-4c8e-97cd-d9dd16aec980.mp3, cnodeUserUUID: f5153bb1-b79f-45a1-ae98-f2f2dcca9470, trackUUID: 6a60400e-f87a-45df-8a84-9e2a8904dbb9, multihash: QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM, dstPath: /file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM
writing to db1...
Executing (f6ee180f-0d11-409c-867d-1d2c7e3b3b5b): START TRANSACTION;
Executing (f6ee180f-0d11-409c-867d-1d2c7e3b3b5b): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = 'f5153bb1-b79f-45a1-ae98-f2f2dcca9470' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = '5a9b1433-b321-4c8e-97cd-d9dd16aec980.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '6a60400e-f87a-45df-8a84-9e2a8904dbb9' LIMIT 1;
Executing (f6ee180f-0d11-409c-867d-1d2c7e3b3b5b): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_f83d4511b0124473a3e7acae29e4d054$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('f48a9bf4-5efe-4d1c-a88f-6d5284bea156','f5153bb1-b79f-45a1-ae98-f2f2dcca9470','6a60400e-f87a-45df-8a84-9e2a8904dbb9','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','5a9b1433-b321-4c8e-97cd-d9dd16aec980.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:35:24.160 +00:00','2020-03-05 17:35:24.160 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_f83d4511b0124473a3e7acae29e4d054$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (f6ee180f-0d11-409c-867d-1d2c7e3b3b5b): COMMIT;
{ fileUUID: 'f48a9bf4-5efe-4d1c-a88f-6d5284bea156',
  cnodeUserUUID: 'f5153bb1-b79f-45a1-ae98-f2f2dcca9470',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: '5a9b1433-b321-4c8e-97cd-d9dd16aec980.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: '6a60400e-f87a-45df-8a84-9e2a8904dbb9',
  updatedAt: 2020-03-05T17:35:24.160Z,
  createdAt: 2020-03-05T17:35:24.160Z }
writing to db2...
Executing (f7507d44-1778-4545-92c8-b518576021b8): START TRANSACTION;
Executing (f7507d44-1778-4545-92c8-b518576021b8): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = 'f5153bb1-b79f-45a1-ae98-f2f2dcca9470' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = '5a9b1433-b321-4c8e-97cd-d9dd16aec980.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '6a60400e-f87a-45df-8a84-9e2a8904dbb9' LIMIT 1;
Executing (f7507d44-1778-4545-92c8-b518576021b8): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_7b1ebbcd157b4403a8e9c7fb5cee779d$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('577c3958-f8eb-43f0-bfab-e37cc10e34dc','f5153bb1-b79f-45a1-ae98-f2f2dcca9470','6a60400e-f87a-45df-8a84-9e2a8904dbb9','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','5a9b1433-b321-4c8e-97cd-d9dd16aec980.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:35:24.545 +00:00','2020-03-05 17:35:24.545 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_7b1ebbcd157b4403a8e9c7fb5cee779d$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (f7507d44-1778-4545-92c8-b518576021b8): COMMIT;
{ fileUUID: '577c3958-f8eb-43f0-bfab-e37cc10e34dc',
  cnodeUserUUID: 'f5153bb1-b79f-45a1-ae98-f2f2dcca9470',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: '5a9b1433-b321-4c8e-97cd-d9dd16aec980.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: '6a60400e-f87a-45df-8a84-9e2a8904dbb9',
  updatedAt: 2020-03-05T17:35:24.545Z,
  createdAt: 2020-03-05T17:35:24.545Z }
writing to db3...
Executing (1e7ba70b-1d48-4039-84ef-9313f6506e90): START TRANSACTION;
Executing (1e7ba70b-1d48-4039-84ef-9313f6506e90): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = 'f5153bb1-b79f-45a1-ae98-f2f2dcca9470' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = '5a9b1433-b321-4c8e-97cd-d9dd16aec980.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '6a60400e-f87a-45df-8a84-9e2a8904dbb9' LIMIT 1;
Executing (1e7ba70b-1d48-4039-84ef-9313f6506e90): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_1f19931a167646ef92ceb5dbe08f5bdc$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('0f93f391-18ff-4dd6-98c3-9958c6e8a16a','f5153bb1-b79f-45a1-ae98-f2f2dcca9470','6a60400e-f87a-45df-8a84-9e2a8904dbb9','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','5a9b1433-b321-4c8e-97cd-d9dd16aec980.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:35:24.926 +00:00','2020-03-05 17:35:24.926 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_1f19931a167646ef92ceb5dbe08f5bdc$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (1e7ba70b-1d48-4039-84ef-9313f6506e90): COMMIT;
{ fileUUID: '0f93f391-18ff-4dd6-98c3-9958c6e8a16a',
  cnodeUserUUID: 'f5153bb1-b79f-45a1-ae98-f2f2dcca9470',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: '5a9b1433-b321-4c8e-97cd-d9dd16aec980.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: '6a60400e-f87a-45df-8a84-9e2a8904dbb9',
  updatedAt: 2020-03-05T17:35:24.926Z,
  createdAt: 2020-03-05T17:35:24.926Z }




PROCESSING ROW #187: sourcefile: 50cfb717-2e50-4312-91fe-aa4981a6285f.mp3, cnodeUserUUID: 186706e0-f937-4b88-9141-599dd9c31c3f, trackUUID: 2006c68e-79a9-4b8a-8e1f-26f480ad12dd, multihash: QmcAD35vXY3h9iXGDF2sLTMTZ4QER63yKVoFrJQUpps6bq, dstPath: /file_storage/QmcAD35vXY3h9iXGDF2sLTMTZ4QER63yKVoFrJQUpps6bq
writing to db1...
Executing (ee5de376-2aec-4b37-8b15-56cf3cdeb9bb): START TRANSACTION;
Executing (ee5de376-2aec-4b37-8b15-56cf3cdeb9bb): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '186706e0-f937-4b88-9141-599dd9c31c3f' AND "File"."multihash" = 'QmcAD35vXY3h9iXGDF2sLTMTZ4QER63yKVoFrJQUpps6bq' AND "File"."sourceFile" = '50cfb717-2e50-4312-91fe-aa4981a6285f.mp3' AND "File"."storagePath" = '/file_storage/QmcAD35vXY3h9iXGDF2sLTMTZ4QER63yKVoFrJQUpps6bq' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '2006c68e-79a9-4b8a-8e1f-26f480ad12dd' LIMIT 1;
Executing (ee5de376-2aec-4b37-8b15-56cf3cdeb9bb): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_a6ec8380b7e24adaa07e37244f7c09ec$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('b32ae11d-58fe-47c3-a47b-a1c6c0060f07','186706e0-f937-4b88-9141-599dd9c31c3f','2006c68e-79a9-4b8a-8e1f-26f480ad12dd','QmcAD35vXY3h9iXGDF2sLTMTZ4QER63yKVoFrJQUpps6bq','50cfb717-2e50-4312-91fe-aa4981a6285f.mp3','/file_storage/QmcAD35vXY3h9iXGDF2sLTMTZ4QER63yKVoFrJQUpps6bq','copy320','2020-03-05 17:35:25.314 +00:00','2020-03-05 17:35:25.314 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_a6ec8380b7e24adaa07e37244f7c09ec$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (ee5de376-2aec-4b37-8b15-56cf3cdeb9bb): COMMIT;
{ fileUUID: 'b32ae11d-58fe-47c3-a47b-a1c6c0060f07',
  cnodeUserUUID: '186706e0-f937-4b88-9141-599dd9c31c3f',
  multihash: 'QmcAD35vXY3h9iXGDF2sLTMTZ4QER63yKVoFrJQUpps6bq',
  sourceFile: '50cfb717-2e50-4312-91fe-aa4981a6285f.mp3',
  storagePath:
   '/file_storage/QmcAD35vXY3h9iXGDF2sLTMTZ4QER63yKVoFrJQUpps6bq',
  type: 'copy320',
  trackUUID: '2006c68e-79a9-4b8a-8e1f-26f480ad12dd',
  updatedAt: 2020-03-05T17:35:25.314Z,
  createdAt: 2020-03-05T17:35:25.314Z }
writing to db2...
Executing (ac2da6d9-b33c-44f9-a4f6-94c73bb120f2): START TRANSACTION;
Executing (ac2da6d9-b33c-44f9-a4f6-94c73bb120f2): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '186706e0-f937-4b88-9141-599dd9c31c3f' AND "File"."multihash" = 'QmcAD35vXY3h9iXGDF2sLTMTZ4QER63yKVoFrJQUpps6bq' AND "File"."sourceFile" = '50cfb717-2e50-4312-91fe-aa4981a6285f.mp3' AND "File"."storagePath" = '/file_storage/QmcAD35vXY3h9iXGDF2sLTMTZ4QER63yKVoFrJQUpps6bq' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '2006c68e-79a9-4b8a-8e1f-26f480ad12dd' LIMIT 1;
Executing (ac2da6d9-b33c-44f9-a4f6-94c73bb120f2): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_0e162c0e4c664a78b81266c40fe36ebf$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('4789a9a1-c78e-4a88-9e13-b960d32c51bf','186706e0-f937-4b88-9141-599dd9c31c3f','2006c68e-79a9-4b8a-8e1f-26f480ad12dd','QmcAD35vXY3h9iXGDF2sLTMTZ4QER63yKVoFrJQUpps6bq','50cfb717-2e50-4312-91fe-aa4981a6285f.mp3','/file_storage/QmcAD35vXY3h9iXGDF2sLTMTZ4QER63yKVoFrJQUpps6bq','copy320','2020-03-05 17:35:25.705 +00:00','2020-03-05 17:35:25.705 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_0e162c0e4c664a78b81266c40fe36ebf$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (ac2da6d9-b33c-44f9-a4f6-94c73bb120f2): COMMIT;
{ SequelizeForeignKeyConstraintError: insert or update on table "Files" violates foreign key constraint "Files_trackUUID_fkey"
    at Query.formatError (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/sequelize/lib/dialects/postgres/query.js:296:16)
    at query.catch.err (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/sequelize/lib/dialects/postgres/query.js:86:18)
    at tryCatcher (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/bluebird/js/release/util.js:16:23)
    at Promise._settlePromiseFromHandler (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/bluebird/js/release/promise.js:517:31)
    at Promise._settlePromise (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/bluebird/js/release/promise.js:574:18)
    at Promise._settlePromise0 (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/bluebird/js/release/promise.js:619:10)
    at Promise._settlePromises (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/bluebird/js/release/promise.js:695:18)
    at _drainQueueStep (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/bluebird/js/release/async.js:138:12)
    at _drainQueue (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/bluebird/js/release/async.js:131:9)
    at Async._drainQueues (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/bluebird/js/release/async.js:147:5)
    at Immediate.Async.drainQueues [as _onImmediate] (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/bluebird/js/release/async.js:17:14)
    at runCallback (timers.js:705:18)
    at tryOnImmediate (timers.js:676:5)
    at processImmediate (timers.js:658:5)
  name: 'SequelizeForeignKeyConstraintError',
  parent:
   { error: insert or update on table "Files" violates foreign key constraint "Files_trackUUID_fkey"
       at Connection.parseE (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/pg/lib/connection.js:604:11)
       at Connection.parseMessage (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/pg/lib/connection.js:401:19)
       at Socket.<anonymous> (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/pg/lib/connection.js:121:22)
       at Socket.emit (events.js:198:13)
       at addChunk (_stream_readable.js:288:12)
       at readableAddChunk (_stream_readable.js:269:11)
       at Socket.Readable.push (_stream_readable.js:224:10)
       at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)
     name: 'error',
     length: 865,
     severity: 'ERROR',
     code: '23503',
     detail:
      'Key (trackUUID)=(2006c68e-79a9-4b8a-8e1f-26f480ad12dd) is not present in table "Tracks".',
     hint: undefined,
     position: undefined,
     internalPosition: undefined,
     internalQuery: undefined,
     where:
      'SQL statement "INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES (\'4789a9a1-c78e-4a88-9e13-b960d32c51bf\',\'186706e0-f937-4b88-9141-599dd9c31c3f\',\'2006c68e-79a9-4b8a-8e1f-26f480ad12dd\',\'QmcAD35vXY3h9iXGDF2sLTMTZ4QER63yKVoFrJQUpps6bq\',\'50cfb717-2e50-4312-91fe-aa4981a6285f.mp3\',\'/file_storage/QmcAD35vXY3h9iXGDF2sLTMTZ4QER63yKVoFrJQUpps6bq\',\'copy320\',\'2020-03-05 17:35:25.705 +00:00\',\'2020-03-05 17:35:25.705 +00:00\') RETURNING *"\nPL/pgSQL function pg_temp_12.testfunc() line 1 at SQL statement',
     schema: 'public',
     table: 'Files',
     column: undefined,
     dataType: undefined,
     constraint: 'Files_trackUUID_fkey',
     file: 'ri_triggers.c',
     line: '3266',
     routine: 'ri_ReportViolation',
     sql:
      'CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_0e162c0e4c664a78b81266c40fe36ebf$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES (\'4789a9a1-c78e-4a88-9e13-b960d32c51bf\',\'186706e0-f937-4b88-9141-599dd9c31c3f\',\'2006c68e-79a9-4b8a-8e1f-26f480ad12dd\',\'QmcAD35vXY3h9iXGDF2sLTMTZ4QER63yKVoFrJQUpps6bq\',\'50cfb717-2e50-4312-91fe-aa4981a6285f.mp3\',\'/file_storage/QmcAD35vXY3h9iXGDF2sLTMTZ4QER63yKVoFrJQUpps6bq\',\'copy320\',\'2020-03-05 17:35:25.705 +00:00\',\'2020-03-05 17:35:25.705 +00:00\') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_0e162c0e4c664a78b81266c40fe36ebf$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();' },
  original:
   { error: insert or update on table "Files" violates foreign key constraint "Files_trackUUID_fkey"
       at Connection.parseE (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/pg/lib/connection.js:604:11)
       at Connection.parseMessage (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/pg/lib/connection.js:401:19)
       at Socket.<anonymous> (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/pg/lib/connection.js:121:22)
       at Socket.emit (events.js:198:13)
       at addChunk (_stream_readable.js:288:12)
       at readableAddChunk (_stream_readable.js:269:11)
       at Socket.Readable.push (_stream_readable.js:224:10)
       at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)
     name: 'error',
     length: 865,
     severity: 'ERROR',
     code: '23503',
     detail:
      'Key (trackUUID)=(2006c68e-79a9-4b8a-8e1f-26f480ad12dd) is not present in table "Tracks".',
     hint: undefined,
     position: undefined,
     internalPosition: undefined,
     internalQuery: undefined,
     where:
      'SQL statement "INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES (\'4789a9a1-c78e-4a88-9e13-b960d32c51bf\',\'186706e0-f937-4b88-9141-599dd9c31c3f\',\'2006c68e-79a9-4b8a-8e1f-26f480ad12dd\',\'QmcAD35vXY3h9iXGDF2sLTMTZ4QER63yKVoFrJQUpps6bq\',\'50cfb717-2e50-4312-91fe-aa4981a6285f.mp3\',\'/file_storage/QmcAD35vXY3h9iXGDF2sLTMTZ4QER63yKVoFrJQUpps6bq\',\'copy320\',\'2020-03-05 17:35:25.705 +00:00\',\'2020-03-05 17:35:25.705 +00:00\') RETURNING *"\nPL/pgSQL function pg_temp_12.testfunc() line 1 at SQL statement',
     schema: 'public',
     table: 'Files',
     column: undefined,
     dataType: undefined,
     constraint: 'Files_trackUUID_fkey',
     file: 'ri_triggers.c',
     line: '3266',
     routine: 'ri_ReportViolation',
     sql:
      'CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_0e162c0e4c664a78b81266c40fe36ebf$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES (\'4789a9a1-c78e-4a88-9e13-b960d32c51bf\',\'186706e0-f937-4b88-9141-599dd9c31c3f\',\'2006c68e-79a9-4b8a-8e1f-26f480ad12dd\',\'QmcAD35vXY3h9iXGDF2sLTMTZ4QER63yKVoFrJQUpps6bq\',\'50cfb717-2e50-4312-91fe-aa4981a6285f.mp3\',\'/file_storage/QmcAD35vXY3h9iXGDF2sLTMTZ4QER63yKVoFrJQUpps6bq\',\'copy320\',\'2020-03-05 17:35:25.705 +00:00\',\'2020-03-05 17:35:25.705 +00:00\') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_0e162c0e4c664a78b81266c40fe36ebf$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();' },
  sql:
   'CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_0e162c0e4c664a78b81266c40fe36ebf$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES (\'4789a9a1-c78e-4a88-9e13-b960d32c51bf\',\'186706e0-f937-4b88-9141-599dd9c31c3f\',\'2006c68e-79a9-4b8a-8e1f-26f480ad12dd\',\'QmcAD35vXY3h9iXGDF2sLTMTZ4QER63yKVoFrJQUpps6bq\',\'50cfb717-2e50-4312-91fe-aa4981a6285f.mp3\',\'/file_storage/QmcAD35vXY3h9iXGDF2sLTMTZ4QER63yKVoFrJQUpps6bq\',\'copy320\',\'2020-03-05 17:35:25.705 +00:00\',\'2020-03-05 17:35:25.705 +00:00\') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_0e162c0e4c664a78b81266c40fe36ebf$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();',
  fields: null,
  table: 'Files',
  value: undefined,
  index: 'Files_trackUUID_fkey',
  reltype: undefined }
writing to db3...
Executing (122f044f-a8d4-4477-857d-0c96375e636f): START TRANSACTION;
Executing (122f044f-a8d4-4477-857d-0c96375e636f): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '186706e0-f937-4b88-9141-599dd9c31c3f' AND "File"."multihash" = 'QmcAD35vXY3h9iXGDF2sLTMTZ4QER63yKVoFrJQUpps6bq' AND "File"."sourceFile" = '50cfb717-2e50-4312-91fe-aa4981a6285f.mp3' AND "File"."storagePath" = '/file_storage/QmcAD35vXY3h9iXGDF2sLTMTZ4QER63yKVoFrJQUpps6bq' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '2006c68e-79a9-4b8a-8e1f-26f480ad12dd' LIMIT 1;
Executing (122f044f-a8d4-4477-857d-0c96375e636f): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_e53c4933286b45cda3af2c1fdec32a18$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('eb973308-5b55-484e-98ad-759b3aa5ab6a','186706e0-f937-4b88-9141-599dd9c31c3f','2006c68e-79a9-4b8a-8e1f-26f480ad12dd','QmcAD35vXY3h9iXGDF2sLTMTZ4QER63yKVoFrJQUpps6bq','50cfb717-2e50-4312-91fe-aa4981a6285f.mp3','/file_storage/QmcAD35vXY3h9iXGDF2sLTMTZ4QER63yKVoFrJQUpps6bq','copy320','2020-03-05 17:35:26.092 +00:00','2020-03-05 17:35:26.092 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_e53c4933286b45cda3af2c1fdec32a18$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (122f044f-a8d4-4477-857d-0c96375e636f): COMMIT;
{ fileUUID: 'eb973308-5b55-484e-98ad-759b3aa5ab6a',
  cnodeUserUUID: '186706e0-f937-4b88-9141-599dd9c31c3f',
  multihash: 'QmcAD35vXY3h9iXGDF2sLTMTZ4QER63yKVoFrJQUpps6bq',
  sourceFile: '50cfb717-2e50-4312-91fe-aa4981a6285f.mp3',
  storagePath:
   '/file_storage/QmcAD35vXY3h9iXGDF2sLTMTZ4QER63yKVoFrJQUpps6bq',
  type: 'copy320',
  trackUUID: '2006c68e-79a9-4b8a-8e1f-26f480ad12dd',
  updatedAt: 2020-03-05T17:35:26.092Z,
  createdAt: 2020-03-05T17:35:26.092Z }




PROCESSING ROW #188: sourcefile: 867fb320-677f-4466-988d-dfa098a7972e.mp3, cnodeUserUUID: 3233a1ad-8e3c-4e74-8025-a4b89c780ae5, trackUUID: 419772d1-a6a0-41c4-8d65-c47d2838cb48, multihash: QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM, dstPath: /file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM
writing to db1...
Executing (3f8ddda9-24fc-4a5f-99ca-94d313bbd7c8): START TRANSACTION;
Executing (3f8ddda9-24fc-4a5f-99ca-94d313bbd7c8): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '3233a1ad-8e3c-4e74-8025-a4b89c780ae5' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = '867fb320-677f-4466-988d-dfa098a7972e.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '419772d1-a6a0-41c4-8d65-c47d2838cb48' LIMIT 1;
Executing (3f8ddda9-24fc-4a5f-99ca-94d313bbd7c8): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_f3f0c17a6bfb43488e5d376d56b551b7$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('b643b5f2-af3c-4bd1-b90d-d28d3ed8b2a9','3233a1ad-8e3c-4e74-8025-a4b89c780ae5','419772d1-a6a0-41c4-8d65-c47d2838cb48','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','867fb320-677f-4466-988d-dfa098a7972e.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:35:26.491 +00:00','2020-03-05 17:35:26.491 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_f3f0c17a6bfb43488e5d376d56b551b7$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (3f8ddda9-24fc-4a5f-99ca-94d313bbd7c8): COMMIT;
{ fileUUID: 'b643b5f2-af3c-4bd1-b90d-d28d3ed8b2a9',
  cnodeUserUUID: '3233a1ad-8e3c-4e74-8025-a4b89c780ae5',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: '867fb320-677f-4466-988d-dfa098a7972e.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: '419772d1-a6a0-41c4-8d65-c47d2838cb48',
  updatedAt: 2020-03-05T17:35:26.491Z,
  createdAt: 2020-03-05T17:35:26.491Z }
writing to db2...
Executing (ece29136-65bb-4704-ae67-3344ac8eb453): START TRANSACTION;
Executing (ece29136-65bb-4704-ae67-3344ac8eb453): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '3233a1ad-8e3c-4e74-8025-a4b89c780ae5' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = '867fb320-677f-4466-988d-dfa098a7972e.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '419772d1-a6a0-41c4-8d65-c47d2838cb48' LIMIT 1;
Executing (ece29136-65bb-4704-ae67-3344ac8eb453): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_bb5ce0060e9a44569f176529962c9a6b$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('5777c678-5792-489d-94f8-1e8483bff447','3233a1ad-8e3c-4e74-8025-a4b89c780ae5','419772d1-a6a0-41c4-8d65-c47d2838cb48','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','867fb320-677f-4466-988d-dfa098a7972e.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:35:26.894 +00:00','2020-03-05 17:35:26.894 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_bb5ce0060e9a44569f176529962c9a6b$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (ece29136-65bb-4704-ae67-3344ac8eb453): COMMIT;
{ SequelizeForeignKeyConstraintError: insert or update on table "Files" violates foreign key constraint "Files_cnodeUserUUID_fkey"
    at Query.formatError (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/sequelize/lib/dialects/postgres/query.js:296:16)
    at query.catch.err (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/sequelize/lib/dialects/postgres/query.js:86:18)
    at tryCatcher (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/bluebird/js/release/util.js:16:23)
    at Promise._settlePromiseFromHandler (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/bluebird/js/release/promise.js:517:31)
    at Promise._settlePromise (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/bluebird/js/release/promise.js:574:18)
    at Promise._settlePromise0 (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/bluebird/js/release/promise.js:619:10)
    at Promise._settlePromises (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/bluebird/js/release/promise.js:695:18)
    at _drainQueueStep (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/bluebird/js/release/async.js:138:12)
    at _drainQueue (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/bluebird/js/release/async.js:131:9)
    at Async._drainQueues (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/bluebird/js/release/async.js:147:5)
    at Immediate.Async.drainQueues [as _onImmediate] (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/bluebird/js/release/async.js:17:14)
    at runCallback (timers.js:705:18)
    at tryOnImmediate (timers.js:676:5)
    at processImmediate (timers.js:658:5)
  name: 'SequelizeForeignKeyConstraintError',
  parent:
   { error: insert or update on table "Files" violates foreign key constraint "Files_cnodeUserUUID_fkey"
       at Connection.parseE (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/pg/lib/connection.js:604:11)
       at Connection.parseMessage (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/pg/lib/connection.js:401:19)
       at Socket.<anonymous> (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/pg/lib/connection.js:121:22)
       at Socket.emit (events.js:198:13)
       at addChunk (_stream_readable.js:288:12)
       at readableAddChunk (_stream_readable.js:269:11)
       at Socket.Readable.push (_stream_readable.js:224:10)
       at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)
     name: 'error',
     length: 881,
     severity: 'ERROR',
     code: '23503',
     detail:
      'Key (cnodeUserUUID)=(3233a1ad-8e3c-4e74-8025-a4b89c780ae5) is not present in table "CNodeUsers".',
     hint: undefined,
     position: undefined,
     internalPosition: undefined,
     internalQuery: undefined,
     where:
      'SQL statement "INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES (\'5777c678-5792-489d-94f8-1e8483bff447\',\'3233a1ad-8e3c-4e74-8025-a4b89c780ae5\',\'419772d1-a6a0-41c4-8d65-c47d2838cb48\',\'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM\',\'867fb320-677f-4466-988d-dfa098a7972e.mp3\',\'/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM\',\'copy320\',\'2020-03-05 17:35:26.894 +00:00\',\'2020-03-05 17:35:26.894 +00:00\') RETURNING *"\nPL/pgSQL function pg_temp_10.testfunc() line 1 at SQL statement',
     schema: 'public',
     table: 'Files',
     column: undefined,
     dataType: undefined,
     constraint: 'Files_cnodeUserUUID_fkey',
     file: 'ri_triggers.c',
     line: '3266',
     routine: 'ri_ReportViolation',
     sql:
      'CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_bb5ce0060e9a44569f176529962c9a6b$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES (\'5777c678-5792-489d-94f8-1e8483bff447\',\'3233a1ad-8e3c-4e74-8025-a4b89c780ae5\',\'419772d1-a6a0-41c4-8d65-c47d2838cb48\',\'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM\',\'867fb320-677f-4466-988d-dfa098a7972e.mp3\',\'/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM\',\'copy320\',\'2020-03-05 17:35:26.894 +00:00\',\'2020-03-05 17:35:26.894 +00:00\') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_bb5ce0060e9a44569f176529962c9a6b$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();' },
  original:
   { error: insert or update on table "Files" violates foreign key constraint "Files_cnodeUserUUID_fkey"
       at Connection.parseE (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/pg/lib/connection.js:604:11)
       at Connection.parseMessage (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/pg/lib/connection.js:401:19)
       at Socket.<anonymous> (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/pg/lib/connection.js:121:22)
       at Socket.emit (events.js:198:13)
       at addChunk (_stream_readable.js:288:12)
       at readableAddChunk (_stream_readable.js:269:11)
       at Socket.Readable.push (_stream_readable.js:224:10)
       at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)
     name: 'error',
     length: 881,
     severity: 'ERROR',
     code: '23503',
     detail:
      'Key (cnodeUserUUID)=(3233a1ad-8e3c-4e74-8025-a4b89c780ae5) is not present in table "CNodeUsers".',
     hint: undefined,
     position: undefined,
     internalPosition: undefined,
     internalQuery: undefined,
     where:
      'SQL statement "INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES (\'5777c678-5792-489d-94f8-1e8483bff447\',\'3233a1ad-8e3c-4e74-8025-a4b89c780ae5\',\'419772d1-a6a0-41c4-8d65-c47d2838cb48\',\'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM\',\'867fb320-677f-4466-988d-dfa098a7972e.mp3\',\'/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM\',\'copy320\',\'2020-03-05 17:35:26.894 +00:00\',\'2020-03-05 17:35:26.894 +00:00\') RETURNING *"\nPL/pgSQL function pg_temp_10.testfunc() line 1 at SQL statement',
     schema: 'public',
     table: 'Files',
     column: undefined,
     dataType: undefined,
     constraint: 'Files_cnodeUserUUID_fkey',
     file: 'ri_triggers.c',
     line: '3266',
     routine: 'ri_ReportViolation',
     sql:
      'CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_bb5ce0060e9a44569f176529962c9a6b$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES (\'5777c678-5792-489d-94f8-1e8483bff447\',\'3233a1ad-8e3c-4e74-8025-a4b89c780ae5\',\'419772d1-a6a0-41c4-8d65-c47d2838cb48\',\'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM\',\'867fb320-677f-4466-988d-dfa098a7972e.mp3\',\'/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM\',\'copy320\',\'2020-03-05 17:35:26.894 +00:00\',\'2020-03-05 17:35:26.894 +00:00\') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_bb5ce0060e9a44569f176529962c9a6b$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();' },
  sql:
   'CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_bb5ce0060e9a44569f176529962c9a6b$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES (\'5777c678-5792-489d-94f8-1e8483bff447\',\'3233a1ad-8e3c-4e74-8025-a4b89c780ae5\',\'419772d1-a6a0-41c4-8d65-c47d2838cb48\',\'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM\',\'867fb320-677f-4466-988d-dfa098a7972e.mp3\',\'/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM\',\'copy320\',\'2020-03-05 17:35:26.894 +00:00\',\'2020-03-05 17:35:26.894 +00:00\') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_bb5ce0060e9a44569f176529962c9a6b$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();',
  fields: null,
  table: 'Files',
  value: undefined,
  index: 'Files_cnodeUserUUID_fkey',
  reltype: undefined }
writing to db3...
Executing (03a63f2e-f6d6-41f9-8c6a-5bf003a094b6): START TRANSACTION;
Executing (03a63f2e-f6d6-41f9-8c6a-5bf003a094b6): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '3233a1ad-8e3c-4e74-8025-a4b89c780ae5' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = '867fb320-677f-4466-988d-dfa098a7972e.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '419772d1-a6a0-41c4-8d65-c47d2838cb48' LIMIT 1;
Executing (03a63f2e-f6d6-41f9-8c6a-5bf003a094b6): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_c18b9db529864181b22a9e635a7a40ad$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('81507f1c-08ca-4a64-a6b9-347e97f46576','3233a1ad-8e3c-4e74-8025-a4b89c780ae5','419772d1-a6a0-41c4-8d65-c47d2838cb48','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','867fb320-677f-4466-988d-dfa098a7972e.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:35:27.291 +00:00','2020-03-05 17:35:27.291 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_c18b9db529864181b22a9e635a7a40ad$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (03a63f2e-f6d6-41f9-8c6a-5bf003a094b6): COMMIT;
{ fileUUID: '81507f1c-08ca-4a64-a6b9-347e97f46576',
  cnodeUserUUID: '3233a1ad-8e3c-4e74-8025-a4b89c780ae5',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: '867fb320-677f-4466-988d-dfa098a7972e.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: '419772d1-a6a0-41c4-8d65-c47d2838cb48',
  updatedAt: 2020-03-05T17:35:27.291Z,
  createdAt: 2020-03-05T17:35:27.291Z }




PROCESSING ROW #189: sourcefile: e59895f8-fa51-4d50-9aff-8f9858c3db14.mp3, cnodeUserUUID: 841402bc-44e4-401e-b989-56f2f4618d90, trackUUID: e2eeaf63-61f1-4295-8620-eac7d7056644, multihash: QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM, dstPath: /file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM
writing to db1...
Executing (f6aff3d2-24ab-4da1-ad40-3f9d1ea4c456): START TRANSACTION;
Executing (f6aff3d2-24ab-4da1-ad40-3f9d1ea4c456): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '841402bc-44e4-401e-b989-56f2f4618d90' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = 'e59895f8-fa51-4d50-9aff-8f9858c3db14.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = 'e2eeaf63-61f1-4295-8620-eac7d7056644' LIMIT 1;
Executing (f6aff3d2-24ab-4da1-ad40-3f9d1ea4c456): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_7b3a8236e81b4c75a7fe5e43175d1010$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('2be59a2d-ecf8-4fd4-bac6-6b08bc5352ea','841402bc-44e4-401e-b989-56f2f4618d90','e2eeaf63-61f1-4295-8620-eac7d7056644','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','e59895f8-fa51-4d50-9aff-8f9858c3db14.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:35:27.686 +00:00','2020-03-05 17:35:27.686 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_7b3a8236e81b4c75a7fe5e43175d1010$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (f6aff3d2-24ab-4da1-ad40-3f9d1ea4c456): COMMIT;
{ fileUUID: '2be59a2d-ecf8-4fd4-bac6-6b08bc5352ea',
  cnodeUserUUID: '841402bc-44e4-401e-b989-56f2f4618d90',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: 'e59895f8-fa51-4d50-9aff-8f9858c3db14.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: 'e2eeaf63-61f1-4295-8620-eac7d7056644',
  updatedAt: 2020-03-05T17:35:27.686Z,
  createdAt: 2020-03-05T17:35:27.686Z }
writing to db2...
Executing (168307ac-15c6-4386-82b2-f4f6abe46c47): START TRANSACTION;
Executing (168307ac-15c6-4386-82b2-f4f6abe46c47): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '841402bc-44e4-401e-b989-56f2f4618d90' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = 'e59895f8-fa51-4d50-9aff-8f9858c3db14.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = 'e2eeaf63-61f1-4295-8620-eac7d7056644' LIMIT 1;
Executing (168307ac-15c6-4386-82b2-f4f6abe46c47): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_bea34bf568fc404e84302762f686e401$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('205a659b-ab9e-4272-9a82-4e6ff0dce7fa','841402bc-44e4-401e-b989-56f2f4618d90','e2eeaf63-61f1-4295-8620-eac7d7056644','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','e59895f8-fa51-4d50-9aff-8f9858c3db14.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:35:28.078 +00:00','2020-03-05 17:35:28.078 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_bea34bf568fc404e84302762f686e401$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (168307ac-15c6-4386-82b2-f4f6abe46c47): COMMIT;
{ fileUUID: '205a659b-ab9e-4272-9a82-4e6ff0dce7fa',
  cnodeUserUUID: '841402bc-44e4-401e-b989-56f2f4618d90',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: 'e59895f8-fa51-4d50-9aff-8f9858c3db14.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: 'e2eeaf63-61f1-4295-8620-eac7d7056644',
  updatedAt: 2020-03-05T17:35:28.078Z,
  createdAt: 2020-03-05T17:35:28.078Z }
writing to db3...
Executing (1ec56f55-ab2d-4994-afb7-542c47fc0836): START TRANSACTION;
Executing (1ec56f55-ab2d-4994-afb7-542c47fc0836): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '841402bc-44e4-401e-b989-56f2f4618d90' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = 'e59895f8-fa51-4d50-9aff-8f9858c3db14.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = 'e2eeaf63-61f1-4295-8620-eac7d7056644' LIMIT 1;
Executing (1ec56f55-ab2d-4994-afb7-542c47fc0836): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_74bdbf0b69d34057875d03bb286e3543$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('71321860-1665-497a-8aa1-717a4b1a3e37','841402bc-44e4-401e-b989-56f2f4618d90','e2eeaf63-61f1-4295-8620-eac7d7056644','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','e59895f8-fa51-4d50-9aff-8f9858c3db14.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:35:28.477 +00:00','2020-03-05 17:35:28.477 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_74bdbf0b69d34057875d03bb286e3543$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (1ec56f55-ab2d-4994-afb7-542c47fc0836): COMMIT;
{ fileUUID: '71321860-1665-497a-8aa1-717a4b1a3e37',
  cnodeUserUUID: '841402bc-44e4-401e-b989-56f2f4618d90',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: 'e59895f8-fa51-4d50-9aff-8f9858c3db14.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: 'e2eeaf63-61f1-4295-8620-eac7d7056644',
  updatedAt: 2020-03-05T17:35:28.477Z,
  createdAt: 2020-03-05T17:35:28.477Z }




PROCESSING ROW #190: sourcefile: 58b343ea-7226-4e14-a879-57b913096894.mp3, cnodeUserUUID: 6b790ce2-2f82-47d1-8ec9-dae24be2dcfa, trackUUID: beee3194-be2f-4e66-ac1a-29ec81388115, multihash: QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM, dstPath: /file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM
writing to db1...
Executing (b2151acd-8b57-4219-b3d3-460a2cd4a144): START TRANSACTION;
Executing (b2151acd-8b57-4219-b3d3-460a2cd4a144): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '6b790ce2-2f82-47d1-8ec9-dae24be2dcfa' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = '58b343ea-7226-4e14-a879-57b913096894.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = 'beee3194-be2f-4e66-ac1a-29ec81388115' LIMIT 1;
Executing (b2151acd-8b57-4219-b3d3-460a2cd4a144): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_2f9cbceabfb241ada9e7946303d19441$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('1c532c45-6a88-4508-95eb-d15472881714','6b790ce2-2f82-47d1-8ec9-dae24be2dcfa','beee3194-be2f-4e66-ac1a-29ec81388115','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','58b343ea-7226-4e14-a879-57b913096894.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:35:28.861 +00:00','2020-03-05 17:35:28.861 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_2f9cbceabfb241ada9e7946303d19441$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (b2151acd-8b57-4219-b3d3-460a2cd4a144): COMMIT;
{ fileUUID: '1c532c45-6a88-4508-95eb-d15472881714',
  cnodeUserUUID: '6b790ce2-2f82-47d1-8ec9-dae24be2dcfa',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: '58b343ea-7226-4e14-a879-57b913096894.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: 'beee3194-be2f-4e66-ac1a-29ec81388115',
  updatedAt: 2020-03-05T17:35:28.861Z,
  createdAt: 2020-03-05T17:35:28.861Z }
writing to db2...
Executing (3dd75755-325c-4ec0-9f10-6ca61a8334cb): START TRANSACTION;
Executing (3dd75755-325c-4ec0-9f10-6ca61a8334cb): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '6b790ce2-2f82-47d1-8ec9-dae24be2dcfa' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = '58b343ea-7226-4e14-a879-57b913096894.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = 'beee3194-be2f-4e66-ac1a-29ec81388115' LIMIT 1;
Executing (3dd75755-325c-4ec0-9f10-6ca61a8334cb): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_e13437f4333f45128763a8a7f44156ac$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('00bd4119-eb5c-4996-b27e-8c0314bea1f8','6b790ce2-2f82-47d1-8ec9-dae24be2dcfa','beee3194-be2f-4e66-ac1a-29ec81388115','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','58b343ea-7226-4e14-a879-57b913096894.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:35:29.268 +00:00','2020-03-05 17:35:29.268 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_e13437f4333f45128763a8a7f44156ac$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (3dd75755-325c-4ec0-9f10-6ca61a8334cb): COMMIT;
{ fileUUID: '00bd4119-eb5c-4996-b27e-8c0314bea1f8',
  cnodeUserUUID: '6b790ce2-2f82-47d1-8ec9-dae24be2dcfa',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: '58b343ea-7226-4e14-a879-57b913096894.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: 'beee3194-be2f-4e66-ac1a-29ec81388115',
  updatedAt: 2020-03-05T17:35:29.268Z,
  createdAt: 2020-03-05T17:35:29.268Z }
writing to db3...
Executing (2ff35eb8-09e2-4961-a0d6-bd3bd69578c8): START TRANSACTION;
Executing (2ff35eb8-09e2-4961-a0d6-bd3bd69578c8): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '6b790ce2-2f82-47d1-8ec9-dae24be2dcfa' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = '58b343ea-7226-4e14-a879-57b913096894.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = 'beee3194-be2f-4e66-ac1a-29ec81388115' LIMIT 1;
Executing (2ff35eb8-09e2-4961-a0d6-bd3bd69578c8): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_553623c7591b46158058ba806840d742$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('4027cb3c-74f9-4390-9f7d-4487d1dc3689','6b790ce2-2f82-47d1-8ec9-dae24be2dcfa','beee3194-be2f-4e66-ac1a-29ec81388115','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','58b343ea-7226-4e14-a879-57b913096894.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:35:29.685 +00:00','2020-03-05 17:35:29.685 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_553623c7591b46158058ba806840d742$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (2ff35eb8-09e2-4961-a0d6-bd3bd69578c8): COMMIT;
{ fileUUID: '4027cb3c-74f9-4390-9f7d-4487d1dc3689',
  cnodeUserUUID: '6b790ce2-2f82-47d1-8ec9-dae24be2dcfa',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: '58b343ea-7226-4e14-a879-57b913096894.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: 'beee3194-be2f-4e66-ac1a-29ec81388115',
  updatedAt: 2020-03-05T17:35:29.685Z,
  createdAt: 2020-03-05T17:35:29.685Z }




PROCESSING ROW #191: sourcefile: 72460e80-55a9-42b3-89c2-6e7eb5da57fe.mp3, cnodeUserUUID: 08e42daa-3d69-4c89-b32a-c834f2c5bb32, trackUUID: 0b7ca30a-e409-41a9-a4a4-fb8c70657f5e, multihash: QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM, dstPath: /file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM
writing to db1...
Executing (28c717a8-4a65-41a8-b0e6-66ccb4828fc5): START TRANSACTION;
Executing (28c717a8-4a65-41a8-b0e6-66ccb4828fc5): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '08e42daa-3d69-4c89-b32a-c834f2c5bb32' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = '72460e80-55a9-42b3-89c2-6e7eb5da57fe.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '0b7ca30a-e409-41a9-a4a4-fb8c70657f5e' LIMIT 1;
Executing (28c717a8-4a65-41a8-b0e6-66ccb4828fc5): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_31d2c08ad57f4eb788b5c5249babf989$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('670ca5b5-c39a-420b-a3ee-870e0703cded','08e42daa-3d69-4c89-b32a-c834f2c5bb32','0b7ca30a-e409-41a9-a4a4-fb8c70657f5e','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','72460e80-55a9-42b3-89c2-6e7eb5da57fe.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:35:30.085 +00:00','2020-03-05 17:35:30.085 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_31d2c08ad57f4eb788b5c5249babf989$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (28c717a8-4a65-41a8-b0e6-66ccb4828fc5): COMMIT;
{ fileUUID: '670ca5b5-c39a-420b-a3ee-870e0703cded',
  cnodeUserUUID: '08e42daa-3d69-4c89-b32a-c834f2c5bb32',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: '72460e80-55a9-42b3-89c2-6e7eb5da57fe.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: '0b7ca30a-e409-41a9-a4a4-fb8c70657f5e',
  updatedAt: 2020-03-05T17:35:30.085Z,
  createdAt: 2020-03-05T17:35:30.085Z }
writing to db2...
Executing (bdc55554-1202-43dc-814f-7e4684b3976b): START TRANSACTION;
Executing (bdc55554-1202-43dc-814f-7e4684b3976b): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '08e42daa-3d69-4c89-b32a-c834f2c5bb32' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = '72460e80-55a9-42b3-89c2-6e7eb5da57fe.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '0b7ca30a-e409-41a9-a4a4-fb8c70657f5e' LIMIT 1;
Executing (bdc55554-1202-43dc-814f-7e4684b3976b): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_1e76a63fc0ab4c3aa2493d35d8a21967$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('1ca58336-e02b-4ab7-aeda-4da80f7654fa','08e42daa-3d69-4c89-b32a-c834f2c5bb32','0b7ca30a-e409-41a9-a4a4-fb8c70657f5e','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','72460e80-55a9-42b3-89c2-6e7eb5da57fe.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:35:30.474 +00:00','2020-03-05 17:35:30.474 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_1e76a63fc0ab4c3aa2493d35d8a21967$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (bdc55554-1202-43dc-814f-7e4684b3976b): COMMIT;
{ fileUUID: '1ca58336-e02b-4ab7-aeda-4da80f7654fa',
  cnodeUserUUID: '08e42daa-3d69-4c89-b32a-c834f2c5bb32',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: '72460e80-55a9-42b3-89c2-6e7eb5da57fe.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: '0b7ca30a-e409-41a9-a4a4-fb8c70657f5e',
  updatedAt: 2020-03-05T17:35:30.474Z,
  createdAt: 2020-03-05T17:35:30.474Z }
writing to db3...
Executing (fc54ac04-4fac-4687-8cfa-79d6f0721318): START TRANSACTION;
Executing (fc54ac04-4fac-4687-8cfa-79d6f0721318): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '08e42daa-3d69-4c89-b32a-c834f2c5bb32' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = '72460e80-55a9-42b3-89c2-6e7eb5da57fe.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '0b7ca30a-e409-41a9-a4a4-fb8c70657f5e' LIMIT 1;
Executing (fc54ac04-4fac-4687-8cfa-79d6f0721318): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_65759549b6d64e8cae48a6ab9aa4341c$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('5bf3d161-0a1a-412a-be4d-a7139569d8f1','08e42daa-3d69-4c89-b32a-c834f2c5bb32','0b7ca30a-e409-41a9-a4a4-fb8c70657f5e','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','72460e80-55a9-42b3-89c2-6e7eb5da57fe.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:35:30.852 +00:00','2020-03-05 17:35:30.852 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_65759549b6d64e8cae48a6ab9aa4341c$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (fc54ac04-4fac-4687-8cfa-79d6f0721318): COMMIT;
{ fileUUID: '5bf3d161-0a1a-412a-be4d-a7139569d8f1',
  cnodeUserUUID: '08e42daa-3d69-4c89-b32a-c834f2c5bb32',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: '72460e80-55a9-42b3-89c2-6e7eb5da57fe.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: '0b7ca30a-e409-41a9-a4a4-fb8c70657f5e',
  updatedAt: 2020-03-05T17:35:30.852Z,
  createdAt: 2020-03-05T17:35:30.852Z }




PROCESSING ROW #192: sourcefile: d82cc01b-d393-4ffa-b801-ae1151c8b6e4.mp3, cnodeUserUUID: b49b78b0-9755-41e0-82df-968c27bcf8ca, trackUUID: 83bd2549-0bcd-4c51-8499-d041ac351bf4, multihash: QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM, dstPath: /file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM
writing to db1...
Executing (1251d7a9-ec7c-4ceb-a4c5-7bcc8c0ab509): START TRANSACTION;
Executing (1251d7a9-ec7c-4ceb-a4c5-7bcc8c0ab509): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = 'b49b78b0-9755-41e0-82df-968c27bcf8ca' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = 'd82cc01b-d393-4ffa-b801-ae1151c8b6e4.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '83bd2549-0bcd-4c51-8499-d041ac351bf4' LIMIT 1;
Executing (1251d7a9-ec7c-4ceb-a4c5-7bcc8c0ab509): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_b596ea4f3fcf4f9998dc795cc1d90b34$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('383998d5-7bc9-4f55-8fbf-ace1d275a879','b49b78b0-9755-41e0-82df-968c27bcf8ca','83bd2549-0bcd-4c51-8499-d041ac351bf4','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','d82cc01b-d393-4ffa-b801-ae1151c8b6e4.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:35:31.256 +00:00','2020-03-05 17:35:31.256 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_b596ea4f3fcf4f9998dc795cc1d90b34$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (1251d7a9-ec7c-4ceb-a4c5-7bcc8c0ab509): COMMIT;
{ fileUUID: '383998d5-7bc9-4f55-8fbf-ace1d275a879',
  cnodeUserUUID: 'b49b78b0-9755-41e0-82df-968c27bcf8ca',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: 'd82cc01b-d393-4ffa-b801-ae1151c8b6e4.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: '83bd2549-0bcd-4c51-8499-d041ac351bf4',
  updatedAt: 2020-03-05T17:35:31.256Z,
  createdAt: 2020-03-05T17:35:31.256Z }
writing to db2...
Executing (9cbed6bd-e653-4e8e-89c7-f88cee563b37): START TRANSACTION;
Executing (9cbed6bd-e653-4e8e-89c7-f88cee563b37): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = 'b49b78b0-9755-41e0-82df-968c27bcf8ca' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = 'd82cc01b-d393-4ffa-b801-ae1151c8b6e4.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '83bd2549-0bcd-4c51-8499-d041ac351bf4' LIMIT 1;
Executing (9cbed6bd-e653-4e8e-89c7-f88cee563b37): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_1ad2a6a8771e45d68e2cba78e6234858$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('4b8b1a61-8fee-4833-9c79-573c7c4ec077','b49b78b0-9755-41e0-82df-968c27bcf8ca','83bd2549-0bcd-4c51-8499-d041ac351bf4','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','d82cc01b-d393-4ffa-b801-ae1151c8b6e4.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:35:31.647 +00:00','2020-03-05 17:35:31.647 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_1ad2a6a8771e45d68e2cba78e6234858$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (9cbed6bd-e653-4e8e-89c7-f88cee563b37): COMMIT;
{ fileUUID: '4b8b1a61-8fee-4833-9c79-573c7c4ec077',
  cnodeUserUUID: 'b49b78b0-9755-41e0-82df-968c27bcf8ca',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: 'd82cc01b-d393-4ffa-b801-ae1151c8b6e4.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: '83bd2549-0bcd-4c51-8499-d041ac351bf4',
  updatedAt: 2020-03-05T17:35:31.647Z,
  createdAt: 2020-03-05T17:35:31.647Z }
writing to db3...
Executing (0af43c85-c6ed-424a-9c30-a6df782f10bc): START TRANSACTION;
Executing (0af43c85-c6ed-424a-9c30-a6df782f10bc): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = 'b49b78b0-9755-41e0-82df-968c27bcf8ca' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = 'd82cc01b-d393-4ffa-b801-ae1151c8b6e4.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '83bd2549-0bcd-4c51-8499-d041ac351bf4' LIMIT 1;
Executing (0af43c85-c6ed-424a-9c30-a6df782f10bc): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_1f059faebdb34c79a09f2db97f4d73a7$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('783a76f8-b93b-4551-a469-caa018d571b1','b49b78b0-9755-41e0-82df-968c27bcf8ca','83bd2549-0bcd-4c51-8499-d041ac351bf4','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','d82cc01b-d393-4ffa-b801-ae1151c8b6e4.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:35:32.025 +00:00','2020-03-05 17:35:32.025 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_1f059faebdb34c79a09f2db97f4d73a7$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (0af43c85-c6ed-424a-9c30-a6df782f10bc): COMMIT;
{ fileUUID: '783a76f8-b93b-4551-a469-caa018d571b1',
  cnodeUserUUID: 'b49b78b0-9755-41e0-82df-968c27bcf8ca',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: 'd82cc01b-d393-4ffa-b801-ae1151c8b6e4.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: '83bd2549-0bcd-4c51-8499-d041ac351bf4',
  updatedAt: 2020-03-05T17:35:32.025Z,
  createdAt: 2020-03-05T17:35:32.025Z }




PROCESSING ROW #193: sourcefile: 09fc9d57-e2e0-4ceb-b4be-8f6a95348a9e.mp3, cnodeUserUUID: 4cefba97-54fc-4139-8819-795b47e681e0, trackUUID: 4e8fcc9d-ae17-4bbe-beb6-18bd9c6fd756, multihash: QmNfLauuKYseXQNAZwhSgoXccqS9vtGMjd8rWe8W2ny75t, dstPath: /file_storage/QmNfLauuKYseXQNAZwhSgoXccqS9vtGMjd8rWe8W2ny75t
writing to db1...
Executing (e79d3da3-e08f-4049-9dc8-f4ffa1d6738c): START TRANSACTION;
Executing (e79d3da3-e08f-4049-9dc8-f4ffa1d6738c): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '4cefba97-54fc-4139-8819-795b47e681e0' AND "File"."multihash" = 'QmNfLauuKYseXQNAZwhSgoXccqS9vtGMjd8rWe8W2ny75t' AND "File"."sourceFile" = '09fc9d57-e2e0-4ceb-b4be-8f6a95348a9e.mp3' AND "File"."storagePath" = '/file_storage/QmNfLauuKYseXQNAZwhSgoXccqS9vtGMjd8rWe8W2ny75t' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '4e8fcc9d-ae17-4bbe-beb6-18bd9c6fd756' LIMIT 1;
Executing (e79d3da3-e08f-4049-9dc8-f4ffa1d6738c): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_fbfd755fe3914d87bc06bfd997a12949$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('f989055e-2576-4eb5-8a3b-0bd270bae40e','4cefba97-54fc-4139-8819-795b47e681e0','4e8fcc9d-ae17-4bbe-beb6-18bd9c6fd756','QmNfLauuKYseXQNAZwhSgoXccqS9vtGMjd8rWe8W2ny75t','09fc9d57-e2e0-4ceb-b4be-8f6a95348a9e.mp3','/file_storage/QmNfLauuKYseXQNAZwhSgoXccqS9vtGMjd8rWe8W2ny75t','copy320','2020-03-05 17:35:32.422 +00:00','2020-03-05 17:35:32.422 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_fbfd755fe3914d87bc06bfd997a12949$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (e79d3da3-e08f-4049-9dc8-f4ffa1d6738c): COMMIT;
{ fileUUID: 'f989055e-2576-4eb5-8a3b-0bd270bae40e',
  cnodeUserUUID: '4cefba97-54fc-4139-8819-795b47e681e0',
  multihash: 'QmNfLauuKYseXQNAZwhSgoXccqS9vtGMjd8rWe8W2ny75t',
  sourceFile: '09fc9d57-e2e0-4ceb-b4be-8f6a95348a9e.mp3',
  storagePath:
   '/file_storage/QmNfLauuKYseXQNAZwhSgoXccqS9vtGMjd8rWe8W2ny75t',
  type: 'copy320',
  trackUUID: '4e8fcc9d-ae17-4bbe-beb6-18bd9c6fd756',
  updatedAt: 2020-03-05T17:35:32.422Z,
  createdAt: 2020-03-05T17:35:32.422Z }
writing to db2...
Executing (9ea9abf7-11f0-4678-9495-e9d34eaf2197): START TRANSACTION;
Executing (9ea9abf7-11f0-4678-9495-e9d34eaf2197): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '4cefba97-54fc-4139-8819-795b47e681e0' AND "File"."multihash" = 'QmNfLauuKYseXQNAZwhSgoXccqS9vtGMjd8rWe8W2ny75t' AND "File"."sourceFile" = '09fc9d57-e2e0-4ceb-b4be-8f6a95348a9e.mp3' AND "File"."storagePath" = '/file_storage/QmNfLauuKYseXQNAZwhSgoXccqS9vtGMjd8rWe8W2ny75t' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '4e8fcc9d-ae17-4bbe-beb6-18bd9c6fd756' LIMIT 1;
Executing (9ea9abf7-11f0-4678-9495-e9d34eaf2197): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_a361518ec0ca4684b96989c61328dbb6$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('22ec3ea5-23a4-4e01-8744-490b6c836dda','4cefba97-54fc-4139-8819-795b47e681e0','4e8fcc9d-ae17-4bbe-beb6-18bd9c6fd756','QmNfLauuKYseXQNAZwhSgoXccqS9vtGMjd8rWe8W2ny75t','09fc9d57-e2e0-4ceb-b4be-8f6a95348a9e.mp3','/file_storage/QmNfLauuKYseXQNAZwhSgoXccqS9vtGMjd8rWe8W2ny75t','copy320','2020-03-05 17:35:32.815 +00:00','2020-03-05 17:35:32.815 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_a361518ec0ca4684b96989c61328dbb6$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (9ea9abf7-11f0-4678-9495-e9d34eaf2197): COMMIT;
{ fileUUID: '22ec3ea5-23a4-4e01-8744-490b6c836dda',
  cnodeUserUUID: '4cefba97-54fc-4139-8819-795b47e681e0',
  multihash: 'QmNfLauuKYseXQNAZwhSgoXccqS9vtGMjd8rWe8W2ny75t',
  sourceFile: '09fc9d57-e2e0-4ceb-b4be-8f6a95348a9e.mp3',
  storagePath:
   '/file_storage/QmNfLauuKYseXQNAZwhSgoXccqS9vtGMjd8rWe8W2ny75t',
  type: 'copy320',
  trackUUID: '4e8fcc9d-ae17-4bbe-beb6-18bd9c6fd756',
  updatedAt: 2020-03-05T17:35:32.815Z,
  createdAt: 2020-03-05T17:35:32.815Z }
writing to db3...
Executing (8ba92dcb-0bb9-4a1b-a012-04b80ffe4924): START TRANSACTION;
Executing (8ba92dcb-0bb9-4a1b-a012-04b80ffe4924): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '4cefba97-54fc-4139-8819-795b47e681e0' AND "File"."multihash" = 'QmNfLauuKYseXQNAZwhSgoXccqS9vtGMjd8rWe8W2ny75t' AND "File"."sourceFile" = '09fc9d57-e2e0-4ceb-b4be-8f6a95348a9e.mp3' AND "File"."storagePath" = '/file_storage/QmNfLauuKYseXQNAZwhSgoXccqS9vtGMjd8rWe8W2ny75t' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '4e8fcc9d-ae17-4bbe-beb6-18bd9c6fd756' LIMIT 1;
Executing (8ba92dcb-0bb9-4a1b-a012-04b80ffe4924): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_4dc9f10a85e14e57a936ad99e4b10eba$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('d8c6465c-c537-4b74-b472-f3aaf6af88e5','4cefba97-54fc-4139-8819-795b47e681e0','4e8fcc9d-ae17-4bbe-beb6-18bd9c6fd756','QmNfLauuKYseXQNAZwhSgoXccqS9vtGMjd8rWe8W2ny75t','09fc9d57-e2e0-4ceb-b4be-8f6a95348a9e.mp3','/file_storage/QmNfLauuKYseXQNAZwhSgoXccqS9vtGMjd8rWe8W2ny75t','copy320','2020-03-05 17:35:33.215 +00:00','2020-03-05 17:35:33.215 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_4dc9f10a85e14e57a936ad99e4b10eba$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (8ba92dcb-0bb9-4a1b-a012-04b80ffe4924): COMMIT;
{ fileUUID: 'd8c6465c-c537-4b74-b472-f3aaf6af88e5',
  cnodeUserUUID: '4cefba97-54fc-4139-8819-795b47e681e0',
  multihash: 'QmNfLauuKYseXQNAZwhSgoXccqS9vtGMjd8rWe8W2ny75t',
  sourceFile: '09fc9d57-e2e0-4ceb-b4be-8f6a95348a9e.mp3',
  storagePath:
   '/file_storage/QmNfLauuKYseXQNAZwhSgoXccqS9vtGMjd8rWe8W2ny75t',
  type: 'copy320',
  trackUUID: '4e8fcc9d-ae17-4bbe-beb6-18bd9c6fd756',
  updatedAt: 2020-03-05T17:35:33.215Z,
  createdAt: 2020-03-05T17:35:33.215Z }




PROCESSING ROW #194: sourcefile: c9d48142-6f08-4e0f-8085-3e64d901d12c.mp3, cnodeUserUUID: 388eec1e-4462-469f-9d84-0e3407a06b5a, trackUUID: 773b7c50-d664-4ec4-adb3-8254eee80ea5, multihash: QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM, dstPath: /file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM
writing to db1...
Executing (ae85e7ae-7517-4b78-bbcd-b13dbf40f3cd): START TRANSACTION;
Executing (ae85e7ae-7517-4b78-bbcd-b13dbf40f3cd): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '388eec1e-4462-469f-9d84-0e3407a06b5a' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = 'c9d48142-6f08-4e0f-8085-3e64d901d12c.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '773b7c50-d664-4ec4-adb3-8254eee80ea5' LIMIT 1;
Executing (ae85e7ae-7517-4b78-bbcd-b13dbf40f3cd): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_9037bd5c0f674dd9906cb67259d7ab64$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('a5508216-4b33-49a3-afad-6414ad60d621','388eec1e-4462-469f-9d84-0e3407a06b5a','773b7c50-d664-4ec4-adb3-8254eee80ea5','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','c9d48142-6f08-4e0f-8085-3e64d901d12c.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:35:33.615 +00:00','2020-03-05 17:35:33.615 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_9037bd5c0f674dd9906cb67259d7ab64$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (ae85e7ae-7517-4b78-bbcd-b13dbf40f3cd): COMMIT;
{ fileUUID: 'a5508216-4b33-49a3-afad-6414ad60d621',
  cnodeUserUUID: '388eec1e-4462-469f-9d84-0e3407a06b5a',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: 'c9d48142-6f08-4e0f-8085-3e64d901d12c.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: '773b7c50-d664-4ec4-adb3-8254eee80ea5',
  updatedAt: 2020-03-05T17:35:33.615Z,
  createdAt: 2020-03-05T17:35:33.615Z }
writing to db2...
Executing (5739ed8d-118f-4b47-8808-836c2cf2df4a): START TRANSACTION;
Executing (5739ed8d-118f-4b47-8808-836c2cf2df4a): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '388eec1e-4462-469f-9d84-0e3407a06b5a' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = 'c9d48142-6f08-4e0f-8085-3e64d901d12c.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '773b7c50-d664-4ec4-adb3-8254eee80ea5' LIMIT 1;
Executing (5739ed8d-118f-4b47-8808-836c2cf2df4a): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_f0f62d508cc44aed848e856709c9f37b$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('262b8c0c-7749-4af8-9712-6b3d372b9cbb','388eec1e-4462-469f-9d84-0e3407a06b5a','773b7c50-d664-4ec4-adb3-8254eee80ea5','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','c9d48142-6f08-4e0f-8085-3e64d901d12c.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:35:34.011 +00:00','2020-03-05 17:35:34.011 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_f0f62d508cc44aed848e856709c9f37b$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (5739ed8d-118f-4b47-8808-836c2cf2df4a): COMMIT;
{ fileUUID: '262b8c0c-7749-4af8-9712-6b3d372b9cbb',
  cnodeUserUUID: '388eec1e-4462-469f-9d84-0e3407a06b5a',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: 'c9d48142-6f08-4e0f-8085-3e64d901d12c.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: '773b7c50-d664-4ec4-adb3-8254eee80ea5',
  updatedAt: 2020-03-05T17:35:34.011Z,
  createdAt: 2020-03-05T17:35:34.011Z }
writing to db3...
Executing (e93223d7-72a0-47f3-a25d-9c09958a2b18): START TRANSACTION;
Executing (e93223d7-72a0-47f3-a25d-9c09958a2b18): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '388eec1e-4462-469f-9d84-0e3407a06b5a' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = 'c9d48142-6f08-4e0f-8085-3e64d901d12c.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '773b7c50-d664-4ec4-adb3-8254eee80ea5' LIMIT 1;
Executing (e93223d7-72a0-47f3-a25d-9c09958a2b18): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_46c5a9a0434d4accbb6d096d25229258$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('6a2df558-1be4-413d-8eaf-c90cdbfefce9','388eec1e-4462-469f-9d84-0e3407a06b5a','773b7c50-d664-4ec4-adb3-8254eee80ea5','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','c9d48142-6f08-4e0f-8085-3e64d901d12c.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:35:34.394 +00:00','2020-03-05 17:35:34.394 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_46c5a9a0434d4accbb6d096d25229258$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (e93223d7-72a0-47f3-a25d-9c09958a2b18): COMMIT;
{ fileUUID: '6a2df558-1be4-413d-8eaf-c90cdbfefce9',
  cnodeUserUUID: '388eec1e-4462-469f-9d84-0e3407a06b5a',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: 'c9d48142-6f08-4e0f-8085-3e64d901d12c.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: '773b7c50-d664-4ec4-adb3-8254eee80ea5',
  updatedAt: 2020-03-05T17:35:34.394Z,
  createdAt: 2020-03-05T17:35:34.394Z }




PROCESSING ROW #195: sourcefile: 8cd71331-f128-4cbc-a620-e2d61dc7c157.mp3, cnodeUserUUID: fc7821e8-bac6-4f49-8f1c-5dde28ddcc3a, trackUUID: a67e7651-6a04-4a3d-a34b-4c7954d419ca, multihash: QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM, dstPath: /file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM
writing to db1...
Executing (ae5b5e18-fbc9-412a-9442-fb0da15ab6dc): START TRANSACTION;
Executing (ae5b5e18-fbc9-412a-9442-fb0da15ab6dc): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = 'fc7821e8-bac6-4f49-8f1c-5dde28ddcc3a' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = '8cd71331-f128-4cbc-a620-e2d61dc7c157.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = 'a67e7651-6a04-4a3d-a34b-4c7954d419ca' LIMIT 1;
Executing (ae5b5e18-fbc9-412a-9442-fb0da15ab6dc): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_8005de859d8c460ea00fad4e4e76e442$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('2c3d8137-4627-46f6-a865-322221b610b2','fc7821e8-bac6-4f49-8f1c-5dde28ddcc3a','a67e7651-6a04-4a3d-a34b-4c7954d419ca','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','8cd71331-f128-4cbc-a620-e2d61dc7c157.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:35:34.784 +00:00','2020-03-05 17:35:34.784 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_8005de859d8c460ea00fad4e4e76e442$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (ae5b5e18-fbc9-412a-9442-fb0da15ab6dc): COMMIT;
{ fileUUID: '2c3d8137-4627-46f6-a865-322221b610b2',
  cnodeUserUUID: 'fc7821e8-bac6-4f49-8f1c-5dde28ddcc3a',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: '8cd71331-f128-4cbc-a620-e2d61dc7c157.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: 'a67e7651-6a04-4a3d-a34b-4c7954d419ca',
  updatedAt: 2020-03-05T17:35:34.784Z,
  createdAt: 2020-03-05T17:35:34.784Z }
writing to db2...
Executing (0d08a799-8f27-4798-b424-7f67515b6919): START TRANSACTION;
Executing (0d08a799-8f27-4798-b424-7f67515b6919): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = 'fc7821e8-bac6-4f49-8f1c-5dde28ddcc3a' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = '8cd71331-f128-4cbc-a620-e2d61dc7c157.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = 'a67e7651-6a04-4a3d-a34b-4c7954d419ca' LIMIT 1;
Executing (0d08a799-8f27-4798-b424-7f67515b6919): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_74455845245047869b16762ee286322d$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('05f47352-ffe2-437a-a1e6-a714ab349712','fc7821e8-bac6-4f49-8f1c-5dde28ddcc3a','a67e7651-6a04-4a3d-a34b-4c7954d419ca','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','8cd71331-f128-4cbc-a620-e2d61dc7c157.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:35:35.187 +00:00','2020-03-05 17:35:35.187 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_74455845245047869b16762ee286322d$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (0d08a799-8f27-4798-b424-7f67515b6919): COMMIT;
{ fileUUID: '05f47352-ffe2-437a-a1e6-a714ab349712',
  cnodeUserUUID: 'fc7821e8-bac6-4f49-8f1c-5dde28ddcc3a',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: '8cd71331-f128-4cbc-a620-e2d61dc7c157.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: 'a67e7651-6a04-4a3d-a34b-4c7954d419ca',
  updatedAt: 2020-03-05T17:35:35.187Z,
  createdAt: 2020-03-05T17:35:35.187Z }
writing to db3...
Executing (04007610-913c-4f83-9134-68ca8c781795): START TRANSACTION;
Executing (04007610-913c-4f83-9134-68ca8c781795): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = 'fc7821e8-bac6-4f49-8f1c-5dde28ddcc3a' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = '8cd71331-f128-4cbc-a620-e2d61dc7c157.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = 'a67e7651-6a04-4a3d-a34b-4c7954d419ca' LIMIT 1;
Executing (04007610-913c-4f83-9134-68ca8c781795): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_4bd6c94dc3d24c10848a1a13b91818be$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('70d2b461-523a-4094-bc07-c4d81d2bf741','fc7821e8-bac6-4f49-8f1c-5dde28ddcc3a','a67e7651-6a04-4a3d-a34b-4c7954d419ca','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','8cd71331-f128-4cbc-a620-e2d61dc7c157.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:35:35.591 +00:00','2020-03-05 17:35:35.591 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_4bd6c94dc3d24c10848a1a13b91818be$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (04007610-913c-4f83-9134-68ca8c781795): COMMIT;
{ fileUUID: '70d2b461-523a-4094-bc07-c4d81d2bf741',
  cnodeUserUUID: 'fc7821e8-bac6-4f49-8f1c-5dde28ddcc3a',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: '8cd71331-f128-4cbc-a620-e2d61dc7c157.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: 'a67e7651-6a04-4a3d-a34b-4c7954d419ca',
  updatedAt: 2020-03-05T17:35:35.591Z,
  createdAt: 2020-03-05T17:35:35.591Z }




PROCESSING ROW #196: sourcefile: 5498e297-cc15-4e22-b974-6bb713f79f08.mp3, cnodeUserUUID: f19c0f57-4289-43a8-914a-79be6eb07ffa, trackUUID: 2946d401-7006-4992-ac22-9d43baaa23c3, multihash: QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM, dstPath: /file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM
writing to db1...
Executing (ce373bc3-62a3-4d75-a64f-7f51ca59bff1): START TRANSACTION;
Executing (ce373bc3-62a3-4d75-a64f-7f51ca59bff1): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = 'f19c0f57-4289-43a8-914a-79be6eb07ffa' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = '5498e297-cc15-4e22-b974-6bb713f79f08.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '2946d401-7006-4992-ac22-9d43baaa23c3' LIMIT 1;
Executing (ce373bc3-62a3-4d75-a64f-7f51ca59bff1): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_a353ea7a918445baa6a46e0eda964032$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('fec5022c-a169-4bad-a67c-f863741d130f','f19c0f57-4289-43a8-914a-79be6eb07ffa','2946d401-7006-4992-ac22-9d43baaa23c3','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','5498e297-cc15-4e22-b974-6bb713f79f08.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:35:35.978 +00:00','2020-03-05 17:35:35.978 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_a353ea7a918445baa6a46e0eda964032$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (ce373bc3-62a3-4d75-a64f-7f51ca59bff1): COMMIT;
{ fileUUID: 'fec5022c-a169-4bad-a67c-f863741d130f',
  cnodeUserUUID: 'f19c0f57-4289-43a8-914a-79be6eb07ffa',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: '5498e297-cc15-4e22-b974-6bb713f79f08.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: '2946d401-7006-4992-ac22-9d43baaa23c3',
  updatedAt: 2020-03-05T17:35:35.978Z,
  createdAt: 2020-03-05T17:35:35.978Z }
writing to db2...
Executing (23899227-6931-44ad-83a7-4c61e66179dd): START TRANSACTION;
Executing (23899227-6931-44ad-83a7-4c61e66179dd): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = 'f19c0f57-4289-43a8-914a-79be6eb07ffa' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = '5498e297-cc15-4e22-b974-6bb713f79f08.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '2946d401-7006-4992-ac22-9d43baaa23c3' LIMIT 1;
Executing (23899227-6931-44ad-83a7-4c61e66179dd): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_048cf8760d624259a29fd1f9fb6138f7$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('b4eb1fc4-2522-4f59-81fb-4228001e7d84','f19c0f57-4289-43a8-914a-79be6eb07ffa','2946d401-7006-4992-ac22-9d43baaa23c3','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','5498e297-cc15-4e22-b974-6bb713f79f08.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:35:36.367 +00:00','2020-03-05 17:35:36.367 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_048cf8760d624259a29fd1f9fb6138f7$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (23899227-6931-44ad-83a7-4c61e66179dd): COMMIT;
{ fileUUID: 'b4eb1fc4-2522-4f59-81fb-4228001e7d84',
  cnodeUserUUID: 'f19c0f57-4289-43a8-914a-79be6eb07ffa',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: '5498e297-cc15-4e22-b974-6bb713f79f08.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: '2946d401-7006-4992-ac22-9d43baaa23c3',
  updatedAt: 2020-03-05T17:35:36.367Z,
  createdAt: 2020-03-05T17:35:36.367Z }
writing to db3...
Executing (ac5136a1-b201-4d65-820d-90ccd1f1c8f6): START TRANSACTION;
Executing (ac5136a1-b201-4d65-820d-90ccd1f1c8f6): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = 'f19c0f57-4289-43a8-914a-79be6eb07ffa' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = '5498e297-cc15-4e22-b974-6bb713f79f08.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '2946d401-7006-4992-ac22-9d43baaa23c3' LIMIT 1;
Executing (ac5136a1-b201-4d65-820d-90ccd1f1c8f6): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_5a882577aa624575b22aecb73f687732$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('065342f9-dbdc-4b11-9ece-6c578cdfd30c','f19c0f57-4289-43a8-914a-79be6eb07ffa','2946d401-7006-4992-ac22-9d43baaa23c3','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','5498e297-cc15-4e22-b974-6bb713f79f08.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:35:36.757 +00:00','2020-03-05 17:35:36.757 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_5a882577aa624575b22aecb73f687732$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (ac5136a1-b201-4d65-820d-90ccd1f1c8f6): COMMIT;
{ fileUUID: '065342f9-dbdc-4b11-9ece-6c578cdfd30c',
  cnodeUserUUID: 'f19c0f57-4289-43a8-914a-79be6eb07ffa',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: '5498e297-cc15-4e22-b974-6bb713f79f08.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: '2946d401-7006-4992-ac22-9d43baaa23c3',
  updatedAt: 2020-03-05T17:35:36.757Z,
  createdAt: 2020-03-05T17:35:36.757Z }




PROCESSING ROW #197: sourcefile: 1b13157b-54d2-4444-9b8d-dd914120de1c.mp3, cnodeUserUUID: 1845cf38-557a-4d88-9b24-bd6654b1ea6f, trackUUID: d759dc63-cd0d-49fb-b2d6-5e6f1396487a, multihash: QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM, dstPath: /file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM
writing to db1...
Executing (b0f22468-fa5b-4dce-9485-30a75b66f3aa): START TRANSACTION;
Executing (b0f22468-fa5b-4dce-9485-30a75b66f3aa): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '1845cf38-557a-4d88-9b24-bd6654b1ea6f' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = '1b13157b-54d2-4444-9b8d-dd914120de1c.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = 'd759dc63-cd0d-49fb-b2d6-5e6f1396487a' LIMIT 1;
Executing (b0f22468-fa5b-4dce-9485-30a75b66f3aa): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_cc74d697d4714a45a64547aa46beef05$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('9d81e1fe-959f-4cd4-a9de-fac29ac55a76','1845cf38-557a-4d88-9b24-bd6654b1ea6f','d759dc63-cd0d-49fb-b2d6-5e6f1396487a','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','1b13157b-54d2-4444-9b8d-dd914120de1c.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:35:37.150 +00:00','2020-03-05 17:35:37.150 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_cc74d697d4714a45a64547aa46beef05$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (b0f22468-fa5b-4dce-9485-30a75b66f3aa): COMMIT;
{ fileUUID: '9d81e1fe-959f-4cd4-a9de-fac29ac55a76',
  cnodeUserUUID: '1845cf38-557a-4d88-9b24-bd6654b1ea6f',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: '1b13157b-54d2-4444-9b8d-dd914120de1c.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: 'd759dc63-cd0d-49fb-b2d6-5e6f1396487a',
  updatedAt: 2020-03-05T17:35:37.150Z,
  createdAt: 2020-03-05T17:35:37.150Z }
writing to db2...
Executing (9d223e07-378f-4e26-acd4-bdf1e5f64755): START TRANSACTION;
Executing (9d223e07-378f-4e26-acd4-bdf1e5f64755): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '1845cf38-557a-4d88-9b24-bd6654b1ea6f' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = '1b13157b-54d2-4444-9b8d-dd914120de1c.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = 'd759dc63-cd0d-49fb-b2d6-5e6f1396487a' LIMIT 1;
Executing (9d223e07-378f-4e26-acd4-bdf1e5f64755): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_2b83fe6cac6441f2b0bafaa37a0066b0$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('425e43f4-91b2-42a1-91e9-06af69dbc4d6','1845cf38-557a-4d88-9b24-bd6654b1ea6f','d759dc63-cd0d-49fb-b2d6-5e6f1396487a','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','1b13157b-54d2-4444-9b8d-dd914120de1c.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:35:37.549 +00:00','2020-03-05 17:35:37.549 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_2b83fe6cac6441f2b0bafaa37a0066b0$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (9d223e07-378f-4e26-acd4-bdf1e5f64755): COMMIT;
{ fileUUID: '425e43f4-91b2-42a1-91e9-06af69dbc4d6',
  cnodeUserUUID: '1845cf38-557a-4d88-9b24-bd6654b1ea6f',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: '1b13157b-54d2-4444-9b8d-dd914120de1c.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: 'd759dc63-cd0d-49fb-b2d6-5e6f1396487a',
  updatedAt: 2020-03-05T17:35:37.549Z,
  createdAt: 2020-03-05T17:35:37.549Z }
writing to db3...
Executing (1518f934-6e1d-440e-8a04-f65981393994): START TRANSACTION;
Executing (1518f934-6e1d-440e-8a04-f65981393994): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '1845cf38-557a-4d88-9b24-bd6654b1ea6f' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = '1b13157b-54d2-4444-9b8d-dd914120de1c.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = 'd759dc63-cd0d-49fb-b2d6-5e6f1396487a' LIMIT 1;
Executing (1518f934-6e1d-440e-8a04-f65981393994): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_257b660ddd1043adb86975a763abae65$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('8c8d9316-5480-48bf-a1ce-8e03ff3e7104','1845cf38-557a-4d88-9b24-bd6654b1ea6f','d759dc63-cd0d-49fb-b2d6-5e6f1396487a','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','1b13157b-54d2-4444-9b8d-dd914120de1c.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:35:37.942 +00:00','2020-03-05 17:35:37.942 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_257b660ddd1043adb86975a763abae65$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (1518f934-6e1d-440e-8a04-f65981393994): COMMIT;
{ fileUUID: '8c8d9316-5480-48bf-a1ce-8e03ff3e7104',
  cnodeUserUUID: '1845cf38-557a-4d88-9b24-bd6654b1ea6f',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: '1b13157b-54d2-4444-9b8d-dd914120de1c.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: 'd759dc63-cd0d-49fb-b2d6-5e6f1396487a',
  updatedAt: 2020-03-05T17:35:37.942Z,
  createdAt: 2020-03-05T17:35:37.942Z }




PROCESSING ROW #198: sourcefile: 264b7fe9-7482-4243-8000-c12be44d997b.mp3, cnodeUserUUID: 3e089111-abfe-4ae5-92c8-f4f20085281d, trackUUID: ef9498a6-5458-4f67-b736-bb710b1c07c4, multihash: QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM, dstPath: /file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM
writing to db1...
Executing (2e31f086-988d-4ac8-8585-41678fdf524d): START TRANSACTION;
Executing (2e31f086-988d-4ac8-8585-41678fdf524d): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '3e089111-abfe-4ae5-92c8-f4f20085281d' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = '264b7fe9-7482-4243-8000-c12be44d997b.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = 'ef9498a6-5458-4f67-b736-bb710b1c07c4' LIMIT 1;
Executing (2e31f086-988d-4ac8-8585-41678fdf524d): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_2e5fec93e0ee4933a3a442a774e14a15$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('0a16e0e6-0f82-45a8-b524-863bf8fb3a1f','3e089111-abfe-4ae5-92c8-f4f20085281d','ef9498a6-5458-4f67-b736-bb710b1c07c4','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','264b7fe9-7482-4243-8000-c12be44d997b.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:35:38.351 +00:00','2020-03-05 17:35:38.351 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_2e5fec93e0ee4933a3a442a774e14a15$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (2e31f086-988d-4ac8-8585-41678fdf524d): COMMIT;
{ fileUUID: '0a16e0e6-0f82-45a8-b524-863bf8fb3a1f',
  cnodeUserUUID: '3e089111-abfe-4ae5-92c8-f4f20085281d',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: '264b7fe9-7482-4243-8000-c12be44d997b.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: 'ef9498a6-5458-4f67-b736-bb710b1c07c4',
  updatedAt: 2020-03-05T17:35:38.351Z,
  createdAt: 2020-03-05T17:35:38.351Z }
writing to db2...
Executing (c439249c-64f2-4818-a830-e85e084b94b4): START TRANSACTION;
Executing (c439249c-64f2-4818-a830-e85e084b94b4): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '3e089111-abfe-4ae5-92c8-f4f20085281d' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = '264b7fe9-7482-4243-8000-c12be44d997b.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = 'ef9498a6-5458-4f67-b736-bb710b1c07c4' LIMIT 1;
Executing (c439249c-64f2-4818-a830-e85e084b94b4): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_5b2a99fa3c7d4b369e0cb4935efd1698$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('3509d4c8-a38e-40ff-89d4-3fcefa4e0ef4','3e089111-abfe-4ae5-92c8-f4f20085281d','ef9498a6-5458-4f67-b736-bb710b1c07c4','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','264b7fe9-7482-4243-8000-c12be44d997b.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:35:38.755 +00:00','2020-03-05 17:35:38.755 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_5b2a99fa3c7d4b369e0cb4935efd1698$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (c439249c-64f2-4818-a830-e85e084b94b4): COMMIT;
{ fileUUID: '3509d4c8-a38e-40ff-89d4-3fcefa4e0ef4',
  cnodeUserUUID: '3e089111-abfe-4ae5-92c8-f4f20085281d',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: '264b7fe9-7482-4243-8000-c12be44d997b.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: 'ef9498a6-5458-4f67-b736-bb710b1c07c4',
  updatedAt: 2020-03-05T17:35:38.755Z,
  createdAt: 2020-03-05T17:35:38.755Z }
writing to db3...
Executing (0a8a37a1-11b5-4609-8eb4-54454008d3c4): START TRANSACTION;
Executing (0a8a37a1-11b5-4609-8eb4-54454008d3c4): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '3e089111-abfe-4ae5-92c8-f4f20085281d' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = '264b7fe9-7482-4243-8000-c12be44d997b.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = 'ef9498a6-5458-4f67-b736-bb710b1c07c4' LIMIT 1;
Executing (0a8a37a1-11b5-4609-8eb4-54454008d3c4): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_4f165d030d9540fe9cc05c535c09742b$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('1201276c-7d86-4ae9-b521-3f356db54c86','3e089111-abfe-4ae5-92c8-f4f20085281d','ef9498a6-5458-4f67-b736-bb710b1c07c4','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','264b7fe9-7482-4243-8000-c12be44d997b.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:35:39.157 +00:00','2020-03-05 17:35:39.157 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_4f165d030d9540fe9cc05c535c09742b$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (0a8a37a1-11b5-4609-8eb4-54454008d3c4): COMMIT;
{ fileUUID: '1201276c-7d86-4ae9-b521-3f356db54c86',
  cnodeUserUUID: '3e089111-abfe-4ae5-92c8-f4f20085281d',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: '264b7fe9-7482-4243-8000-c12be44d997b.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: 'ef9498a6-5458-4f67-b736-bb710b1c07c4',
  updatedAt: 2020-03-05T17:35:39.157Z,
  createdAt: 2020-03-05T17:35:39.157Z }




PROCESSING ROW #199: sourcefile: 67d7ee59-61db-4d54-950d-97ccaea5c51c.mp3, cnodeUserUUID: 186706e0-f937-4b88-9141-599dd9c31c3f, trackUUID: 2006c68e-79a9-4b8a-8e1f-26f480ad12dd, multihash: QmcAD35vXY3h9iXGDF2sLTMTZ4QER63yKVoFrJQUpps6bq, dstPath: /file_storage/QmcAD35vXY3h9iXGDF2sLTMTZ4QER63yKVoFrJQUpps6bq
writing to db1...
Executing (e9f2b13a-1596-4f76-82af-5a031acec567): START TRANSACTION;
Executing (e9f2b13a-1596-4f76-82af-5a031acec567): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '186706e0-f937-4b88-9141-599dd9c31c3f' AND "File"."multihash" = 'QmcAD35vXY3h9iXGDF2sLTMTZ4QER63yKVoFrJQUpps6bq' AND "File"."sourceFile" = '67d7ee59-61db-4d54-950d-97ccaea5c51c.mp3' AND "File"."storagePath" = '/file_storage/QmcAD35vXY3h9iXGDF2sLTMTZ4QER63yKVoFrJQUpps6bq' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '2006c68e-79a9-4b8a-8e1f-26f480ad12dd' LIMIT 1;
Executing (e9f2b13a-1596-4f76-82af-5a031acec567): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_7273acb4852747d9b2e97f26c66f3729$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('0cb87609-b4ba-4ce1-afb8-85c2926ca38d','186706e0-f937-4b88-9141-599dd9c31c3f','2006c68e-79a9-4b8a-8e1f-26f480ad12dd','QmcAD35vXY3h9iXGDF2sLTMTZ4QER63yKVoFrJQUpps6bq','67d7ee59-61db-4d54-950d-97ccaea5c51c.mp3','/file_storage/QmcAD35vXY3h9iXGDF2sLTMTZ4QER63yKVoFrJQUpps6bq','copy320','2020-03-05 17:35:39.555 +00:00','2020-03-05 17:35:39.555 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_7273acb4852747d9b2e97f26c66f3729$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (e9f2b13a-1596-4f76-82af-5a031acec567): COMMIT;
{ fileUUID: '0cb87609-b4ba-4ce1-afb8-85c2926ca38d',
  cnodeUserUUID: '186706e0-f937-4b88-9141-599dd9c31c3f',
  multihash: 'QmcAD35vXY3h9iXGDF2sLTMTZ4QER63yKVoFrJQUpps6bq',
  sourceFile: '67d7ee59-61db-4d54-950d-97ccaea5c51c.mp3',
  storagePath:
   '/file_storage/QmcAD35vXY3h9iXGDF2sLTMTZ4QER63yKVoFrJQUpps6bq',
  type: 'copy320',
  trackUUID: '2006c68e-79a9-4b8a-8e1f-26f480ad12dd',
  updatedAt: 2020-03-05T17:35:39.555Z,
  createdAt: 2020-03-05T17:35:39.555Z }
writing to db2...
Executing (43611377-fac0-4c5f-a952-5e6e821cf30f): START TRANSACTION;
Executing (43611377-fac0-4c5f-a952-5e6e821cf30f): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '186706e0-f937-4b88-9141-599dd9c31c3f' AND "File"."multihash" = 'QmcAD35vXY3h9iXGDF2sLTMTZ4QER63yKVoFrJQUpps6bq' AND "File"."sourceFile" = '67d7ee59-61db-4d54-950d-97ccaea5c51c.mp3' AND "File"."storagePath" = '/file_storage/QmcAD35vXY3h9iXGDF2sLTMTZ4QER63yKVoFrJQUpps6bq' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '2006c68e-79a9-4b8a-8e1f-26f480ad12dd' LIMIT 1;
Executing (43611377-fac0-4c5f-a952-5e6e821cf30f): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_7da0136929f1496c8111c6a090ae95b1$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('9e317b0f-ef8b-4cef-bdb4-50d5880e9da1','186706e0-f937-4b88-9141-599dd9c31c3f','2006c68e-79a9-4b8a-8e1f-26f480ad12dd','QmcAD35vXY3h9iXGDF2sLTMTZ4QER63yKVoFrJQUpps6bq','67d7ee59-61db-4d54-950d-97ccaea5c51c.mp3','/file_storage/QmcAD35vXY3h9iXGDF2sLTMTZ4QER63yKVoFrJQUpps6bq','copy320','2020-03-05 17:35:39.945 +00:00','2020-03-05 17:35:39.945 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_7da0136929f1496c8111c6a090ae95b1$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (43611377-fac0-4c5f-a952-5e6e821cf30f): COMMIT;
{ SequelizeForeignKeyConstraintError: insert or update on table "Files" violates foreign key constraint "Files_trackUUID_fkey"
    at Query.formatError (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/sequelize/lib/dialects/postgres/query.js:296:16)
    at query.catch.err (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/sequelize/lib/dialects/postgres/query.js:86:18)
    at tryCatcher (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/bluebird/js/release/util.js:16:23)
    at Promise._settlePromiseFromHandler (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/bluebird/js/release/promise.js:517:31)
    at Promise._settlePromise (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/bluebird/js/release/promise.js:574:18)
    at Promise._settlePromise0 (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/bluebird/js/release/promise.js:619:10)
    at Promise._settlePromises (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/bluebird/js/release/promise.js:695:18)
    at _drainQueueStep (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/bluebird/js/release/async.js:138:12)
    at _drainQueue (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/bluebird/js/release/async.js:131:9)
    at Async._drainQueues (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/bluebird/js/release/async.js:147:5)
    at Immediate.Async.drainQueues [as _onImmediate] (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/bluebird/js/release/async.js:17:14)
    at runCallback (timers.js:705:18)
    at tryOnImmediate (timers.js:676:5)
    at processImmediate (timers.js:658:5)
  name: 'SequelizeForeignKeyConstraintError',
  parent:
   { error: insert or update on table "Files" violates foreign key constraint "Files_trackUUID_fkey"
       at Connection.parseE (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/pg/lib/connection.js:604:11)
       at Connection.parseMessage (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/pg/lib/connection.js:401:19)
       at Socket.<anonymous> (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/pg/lib/connection.js:121:22)
       at Socket.emit (events.js:198:13)
       at addChunk (_stream_readable.js:288:12)
       at readableAddChunk (_stream_readable.js:269:11)
       at Socket.Readable.push (_stream_readable.js:224:10)
       at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)
     name: 'error',
     length: 865,
     severity: 'ERROR',
     code: '23503',
     detail:
      'Key (trackUUID)=(2006c68e-79a9-4b8a-8e1f-26f480ad12dd) is not present in table "Tracks".',
     hint: undefined,
     position: undefined,
     internalPosition: undefined,
     internalQuery: undefined,
     where:
      'SQL statement "INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES (\'9e317b0f-ef8b-4cef-bdb4-50d5880e9da1\',\'186706e0-f937-4b88-9141-599dd9c31c3f\',\'2006c68e-79a9-4b8a-8e1f-26f480ad12dd\',\'QmcAD35vXY3h9iXGDF2sLTMTZ4QER63yKVoFrJQUpps6bq\',\'67d7ee59-61db-4d54-950d-97ccaea5c51c.mp3\',\'/file_storage/QmcAD35vXY3h9iXGDF2sLTMTZ4QER63yKVoFrJQUpps6bq\',\'copy320\',\'2020-03-05 17:35:39.945 +00:00\',\'2020-03-05 17:35:39.945 +00:00\') RETURNING *"\nPL/pgSQL function pg_temp_11.testfunc() line 1 at SQL statement',
     schema: 'public',
     table: 'Files',
     column: undefined,
     dataType: undefined,
     constraint: 'Files_trackUUID_fkey',
     file: 'ri_triggers.c',
     line: '3266',
     routine: 'ri_ReportViolation',
     sql:
      'CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_7da0136929f1496c8111c6a090ae95b1$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES (\'9e317b0f-ef8b-4cef-bdb4-50d5880e9da1\',\'186706e0-f937-4b88-9141-599dd9c31c3f\',\'2006c68e-79a9-4b8a-8e1f-26f480ad12dd\',\'QmcAD35vXY3h9iXGDF2sLTMTZ4QER63yKVoFrJQUpps6bq\',\'67d7ee59-61db-4d54-950d-97ccaea5c51c.mp3\',\'/file_storage/QmcAD35vXY3h9iXGDF2sLTMTZ4QER63yKVoFrJQUpps6bq\',\'copy320\',\'2020-03-05 17:35:39.945 +00:00\',\'2020-03-05 17:35:39.945 +00:00\') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_7da0136929f1496c8111c6a090ae95b1$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();' },
  original:
   { error: insert or update on table "Files" violates foreign key constraint "Files_trackUUID_fkey"
       at Connection.parseE (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/pg/lib/connection.js:604:11)
       at Connection.parseMessage (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/pg/lib/connection.js:401:19)
       at Socket.<anonymous> (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/pg/lib/connection.js:121:22)
       at Socket.emit (events.js:198:13)
       at addChunk (_stream_readable.js:288:12)
       at readableAddChunk (_stream_readable.js:269:11)
       at Socket.Readable.push (_stream_readable.js:224:10)
       at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)
     name: 'error',
     length: 865,
     severity: 'ERROR',
     code: '23503',
     detail:
      'Key (trackUUID)=(2006c68e-79a9-4b8a-8e1f-26f480ad12dd) is not present in table "Tracks".',
     hint: undefined,
     position: undefined,
     internalPosition: undefined,
     internalQuery: undefined,
     where:
      'SQL statement "INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES (\'9e317b0f-ef8b-4cef-bdb4-50d5880e9da1\',\'186706e0-f937-4b88-9141-599dd9c31c3f\',\'2006c68e-79a9-4b8a-8e1f-26f480ad12dd\',\'QmcAD35vXY3h9iXGDF2sLTMTZ4QER63yKVoFrJQUpps6bq\',\'67d7ee59-61db-4d54-950d-97ccaea5c51c.mp3\',\'/file_storage/QmcAD35vXY3h9iXGDF2sLTMTZ4QER63yKVoFrJQUpps6bq\',\'copy320\',\'2020-03-05 17:35:39.945 +00:00\',\'2020-03-05 17:35:39.945 +00:00\') RETURNING *"\nPL/pgSQL function pg_temp_11.testfunc() line 1 at SQL statement',
     schema: 'public',
     table: 'Files',
     column: undefined,
     dataType: undefined,
     constraint: 'Files_trackUUID_fkey',
     file: 'ri_triggers.c',
     line: '3266',
     routine: 'ri_ReportViolation',
     sql:
      'CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_7da0136929f1496c8111c6a090ae95b1$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES (\'9e317b0f-ef8b-4cef-bdb4-50d5880e9da1\',\'186706e0-f937-4b88-9141-599dd9c31c3f\',\'2006c68e-79a9-4b8a-8e1f-26f480ad12dd\',\'QmcAD35vXY3h9iXGDF2sLTMTZ4QER63yKVoFrJQUpps6bq\',\'67d7ee59-61db-4d54-950d-97ccaea5c51c.mp3\',\'/file_storage/QmcAD35vXY3h9iXGDF2sLTMTZ4QER63yKVoFrJQUpps6bq\',\'copy320\',\'2020-03-05 17:35:39.945 +00:00\',\'2020-03-05 17:35:39.945 +00:00\') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_7da0136929f1496c8111c6a090ae95b1$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();' },
  sql:
   'CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_7da0136929f1496c8111c6a090ae95b1$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES (\'9e317b0f-ef8b-4cef-bdb4-50d5880e9da1\',\'186706e0-f937-4b88-9141-599dd9c31c3f\',\'2006c68e-79a9-4b8a-8e1f-26f480ad12dd\',\'QmcAD35vXY3h9iXGDF2sLTMTZ4QER63yKVoFrJQUpps6bq\',\'67d7ee59-61db-4d54-950d-97ccaea5c51c.mp3\',\'/file_storage/QmcAD35vXY3h9iXGDF2sLTMTZ4QER63yKVoFrJQUpps6bq\',\'copy320\',\'2020-03-05 17:35:39.945 +00:00\',\'2020-03-05 17:35:39.945 +00:00\') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_7da0136929f1496c8111c6a090ae95b1$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();',
  fields: null,
  table: 'Files',
  value: undefined,
  index: 'Files_trackUUID_fkey',
  reltype: undefined }
writing to db3...
Executing (dad53eff-eb66-4d1d-8ce1-794a9e33bcee): START TRANSACTION;
Executing (dad53eff-eb66-4d1d-8ce1-794a9e33bcee): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '186706e0-f937-4b88-9141-599dd9c31c3f' AND "File"."multihash" = 'QmcAD35vXY3h9iXGDF2sLTMTZ4QER63yKVoFrJQUpps6bq' AND "File"."sourceFile" = '67d7ee59-61db-4d54-950d-97ccaea5c51c.mp3' AND "File"."storagePath" = '/file_storage/QmcAD35vXY3h9iXGDF2sLTMTZ4QER63yKVoFrJQUpps6bq' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '2006c68e-79a9-4b8a-8e1f-26f480ad12dd' LIMIT 1;
Executing (dad53eff-eb66-4d1d-8ce1-794a9e33bcee): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_0c07e0b12bdd48baab9dbbadb10dd6f9$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('db060c05-af7e-4bd7-983b-645748508b9f','186706e0-f937-4b88-9141-599dd9c31c3f','2006c68e-79a9-4b8a-8e1f-26f480ad12dd','QmcAD35vXY3h9iXGDF2sLTMTZ4QER63yKVoFrJQUpps6bq','67d7ee59-61db-4d54-950d-97ccaea5c51c.mp3','/file_storage/QmcAD35vXY3h9iXGDF2sLTMTZ4QER63yKVoFrJQUpps6bq','copy320','2020-03-05 17:35:40.334 +00:00','2020-03-05 17:35:40.334 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_0c07e0b12bdd48baab9dbbadb10dd6f9$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (dad53eff-eb66-4d1d-8ce1-794a9e33bcee): COMMIT;
{ fileUUID: 'db060c05-af7e-4bd7-983b-645748508b9f',
  cnodeUserUUID: '186706e0-f937-4b88-9141-599dd9c31c3f',
  multihash: 'QmcAD35vXY3h9iXGDF2sLTMTZ4QER63yKVoFrJQUpps6bq',
  sourceFile: '67d7ee59-61db-4d54-950d-97ccaea5c51c.mp3',
  storagePath:
   '/file_storage/QmcAD35vXY3h9iXGDF2sLTMTZ4QER63yKVoFrJQUpps6bq',
  type: 'copy320',
  trackUUID: '2006c68e-79a9-4b8a-8e1f-26f480ad12dd',
  updatedAt: 2020-03-05T17:35:40.334Z,
  createdAt: 2020-03-05T17:35:40.334Z }




PROCESSING ROW #200: sourcefile: 9b079481-ab6f-402c-b4ac-a045352d56ab.mp3, cnodeUserUUID: 449ba088-93dc-432d-8774-bf8e39d638e5, trackUUID: 84b44d49-7d42-46b6-888b-860a05c61f20, multihash: QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM, dstPath: /file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM
writing to db1...
Executing (d7bede57-1b06-448c-bfd5-26b10296c500): START TRANSACTION;
Executing (d7bede57-1b06-448c-bfd5-26b10296c500): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '449ba088-93dc-432d-8774-bf8e39d638e5' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = '9b079481-ab6f-402c-b4ac-a045352d56ab.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '84b44d49-7d42-46b6-888b-860a05c61f20' LIMIT 1;
Executing (d7bede57-1b06-448c-bfd5-26b10296c500): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_5a120887506f4c639c1f99004570593a$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('c954d5ea-2099-4aa0-a67c-a68249ccd9fe','449ba088-93dc-432d-8774-bf8e39d638e5','84b44d49-7d42-46b6-888b-860a05c61f20','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','9b079481-ab6f-402c-b4ac-a045352d56ab.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:35:40.734 +00:00','2020-03-05 17:35:40.734 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_5a120887506f4c639c1f99004570593a$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (d7bede57-1b06-448c-bfd5-26b10296c500): COMMIT;
{ fileUUID: 'c954d5ea-2099-4aa0-a67c-a68249ccd9fe',
  cnodeUserUUID: '449ba088-93dc-432d-8774-bf8e39d638e5',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: '9b079481-ab6f-402c-b4ac-a045352d56ab.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: '84b44d49-7d42-46b6-888b-860a05c61f20',
  updatedAt: 2020-03-05T17:35:40.734Z,
  createdAt: 2020-03-05T17:35:40.734Z }
writing to db2...
Executing (483eb5e6-f2bc-4ff7-920f-cf059781c172): START TRANSACTION;
Executing (483eb5e6-f2bc-4ff7-920f-cf059781c172): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '449ba088-93dc-432d-8774-bf8e39d638e5' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = '9b079481-ab6f-402c-b4ac-a045352d56ab.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '84b44d49-7d42-46b6-888b-860a05c61f20' LIMIT 1;
Executing (483eb5e6-f2bc-4ff7-920f-cf059781c172): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_be2bce4cce744126a6d5a50d421a5623$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('ff8b59a9-109e-48df-8527-7be7c68f162a','449ba088-93dc-432d-8774-bf8e39d638e5','84b44d49-7d42-46b6-888b-860a05c61f20','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','9b079481-ab6f-402c-b4ac-a045352d56ab.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:35:41.144 +00:00','2020-03-05 17:35:41.144 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_be2bce4cce744126a6d5a50d421a5623$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (483eb5e6-f2bc-4ff7-920f-cf059781c172): COMMIT;
{ SequelizeForeignKeyConstraintError: insert or update on table "Files" violates foreign key constraint "Files_cnodeUserUUID_fkey"
    at Query.formatError (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/sequelize/lib/dialects/postgres/query.js:296:16)
    at query.catch.err (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/sequelize/lib/dialects/postgres/query.js:86:18)
    at tryCatcher (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/bluebird/js/release/util.js:16:23)
    at Promise._settlePromiseFromHandler (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/bluebird/js/release/promise.js:517:31)
    at Promise._settlePromise (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/bluebird/js/release/promise.js:574:18)
    at Promise._settlePromise0 (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/bluebird/js/release/promise.js:619:10)
    at Promise._settlePromises (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/bluebird/js/release/promise.js:695:18)
    at _drainQueueStep (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/bluebird/js/release/async.js:138:12)
    at _drainQueue (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/bluebird/js/release/async.js:131:9)
    at Async._drainQueues (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/bluebird/js/release/async.js:147:5)
    at Immediate.Async.drainQueues [as _onImmediate] (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/bluebird/js/release/async.js:17:14)
    at runCallback (timers.js:705:18)
    at tryOnImmediate (timers.js:676:5)
    at processImmediate (timers.js:658:5)
  name: 'SequelizeForeignKeyConstraintError',
  parent:
   { error: insert or update on table "Files" violates foreign key constraint "Files_cnodeUserUUID_fkey"
       at Connection.parseE (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/pg/lib/connection.js:604:11)
       at Connection.parseMessage (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/pg/lib/connection.js:401:19)
       at Socket.<anonymous> (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/pg/lib/connection.js:121:22)
       at Socket.emit (events.js:198:13)
       at addChunk (_stream_readable.js:288:12)
       at readableAddChunk (_stream_readable.js:269:11)
       at Socket.Readable.push (_stream_readable.js:224:10)
       at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)
     name: 'error',
     length: 881,
     severity: 'ERROR',
     code: '23503',
     detail:
      'Key (cnodeUserUUID)=(449ba088-93dc-432d-8774-bf8e39d638e5) is not present in table "CNodeUsers".',
     hint: undefined,
     position: undefined,
     internalPosition: undefined,
     internalQuery: undefined,
     where:
      'SQL statement "INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES (\'ff8b59a9-109e-48df-8527-7be7c68f162a\',\'449ba088-93dc-432d-8774-bf8e39d638e5\',\'84b44d49-7d42-46b6-888b-860a05c61f20\',\'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM\',\'9b079481-ab6f-402c-b4ac-a045352d56ab.mp3\',\'/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM\',\'copy320\',\'2020-03-05 17:35:41.144 +00:00\',\'2020-03-05 17:35:41.144 +00:00\') RETURNING *"\nPL/pgSQL function pg_temp_13.testfunc() line 1 at SQL statement',
     schema: 'public',
     table: 'Files',
     column: undefined,
     dataType: undefined,
     constraint: 'Files_cnodeUserUUID_fkey',
     file: 'ri_triggers.c',
     line: '3266',
     routine: 'ri_ReportViolation',
     sql:
      'CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_be2bce4cce744126a6d5a50d421a5623$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES (\'ff8b59a9-109e-48df-8527-7be7c68f162a\',\'449ba088-93dc-432d-8774-bf8e39d638e5\',\'84b44d49-7d42-46b6-888b-860a05c61f20\',\'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM\',\'9b079481-ab6f-402c-b4ac-a045352d56ab.mp3\',\'/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM\',\'copy320\',\'2020-03-05 17:35:41.144 +00:00\',\'2020-03-05 17:35:41.144 +00:00\') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_be2bce4cce744126a6d5a50d421a5623$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();' },
  original:
   { error: insert or update on table "Files" violates foreign key constraint "Files_cnodeUserUUID_fkey"
       at Connection.parseE (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/pg/lib/connection.js:604:11)
       at Connection.parseMessage (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/pg/lib/connection.js:401:19)
       at Socket.<anonymous> (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/pg/lib/connection.js:121:22)
       at Socket.emit (events.js:198:13)
       at addChunk (_stream_readable.js:288:12)
       at readableAddChunk (_stream_readable.js:269:11)
       at Socket.Readable.push (_stream_readable.js:224:10)
       at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)
     name: 'error',
     length: 881,
     severity: 'ERROR',
     code: '23503',
     detail:
      'Key (cnodeUserUUID)=(449ba088-93dc-432d-8774-bf8e39d638e5) is not present in table "CNodeUsers".',
     hint: undefined,
     position: undefined,
     internalPosition: undefined,
     internalQuery: undefined,
     where:
      'SQL statement "INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES (\'ff8b59a9-109e-48df-8527-7be7c68f162a\',\'449ba088-93dc-432d-8774-bf8e39d638e5\',\'84b44d49-7d42-46b6-888b-860a05c61f20\',\'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM\',\'9b079481-ab6f-402c-b4ac-a045352d56ab.mp3\',\'/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM\',\'copy320\',\'2020-03-05 17:35:41.144 +00:00\',\'2020-03-05 17:35:41.144 +00:00\') RETURNING *"\nPL/pgSQL function pg_temp_13.testfunc() line 1 at SQL statement',
     schema: 'public',
     table: 'Files',
     column: undefined,
     dataType: undefined,
     constraint: 'Files_cnodeUserUUID_fkey',
     file: 'ri_triggers.c',
     line: '3266',
     routine: 'ri_ReportViolation',
     sql:
      'CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_be2bce4cce744126a6d5a50d421a5623$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES (\'ff8b59a9-109e-48df-8527-7be7c68f162a\',\'449ba088-93dc-432d-8774-bf8e39d638e5\',\'84b44d49-7d42-46b6-888b-860a05c61f20\',\'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM\',\'9b079481-ab6f-402c-b4ac-a045352d56ab.mp3\',\'/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM\',\'copy320\',\'2020-03-05 17:35:41.144 +00:00\',\'2020-03-05 17:35:41.144 +00:00\') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_be2bce4cce744126a6d5a50d421a5623$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();' },
  sql:
   'CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_be2bce4cce744126a6d5a50d421a5623$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES (\'ff8b59a9-109e-48df-8527-7be7c68f162a\',\'449ba088-93dc-432d-8774-bf8e39d638e5\',\'84b44d49-7d42-46b6-888b-860a05c61f20\',\'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM\',\'9b079481-ab6f-402c-b4ac-a045352d56ab.mp3\',\'/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM\',\'copy320\',\'2020-03-05 17:35:41.144 +00:00\',\'2020-03-05 17:35:41.144 +00:00\') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_be2bce4cce744126a6d5a50d421a5623$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();',
  fields: null,
  table: 'Files',
  value: undefined,
  index: 'Files_cnodeUserUUID_fkey',
  reltype: undefined }
writing to db3...
Executing (1d59b391-5e28-46ed-bfe1-196b9585265b): START TRANSACTION;
Executing (1d59b391-5e28-46ed-bfe1-196b9585265b): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '449ba088-93dc-432d-8774-bf8e39d638e5' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = '9b079481-ab6f-402c-b4ac-a045352d56ab.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '84b44d49-7d42-46b6-888b-860a05c61f20' LIMIT 1;
Executing (1d59b391-5e28-46ed-bfe1-196b9585265b): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_8c4681ffffc241a1a4b8441efd549e49$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('92147cb9-633b-43b9-b066-344afd6d5945','449ba088-93dc-432d-8774-bf8e39d638e5','84b44d49-7d42-46b6-888b-860a05c61f20','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','9b079481-ab6f-402c-b4ac-a045352d56ab.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:35:41.532 +00:00','2020-03-05 17:35:41.532 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_8c4681ffffc241a1a4b8441efd549e49$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (1d59b391-5e28-46ed-bfe1-196b9585265b): COMMIT;
{ fileUUID: '92147cb9-633b-43b9-b066-344afd6d5945',
  cnodeUserUUID: '449ba088-93dc-432d-8774-bf8e39d638e5',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: '9b079481-ab6f-402c-b4ac-a045352d56ab.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: '84b44d49-7d42-46b6-888b-860a05c61f20',
  updatedAt: 2020-03-05T17:35:41.532Z,
  createdAt: 2020-03-05T17:35:41.532Z }




PROCESSING ROW #201: sourcefile: 358b7cb8-1a30-463d-b48f-6eb9933c65b2.mp3, cnodeUserUUID: 4cefba97-54fc-4139-8819-795b47e681e0, trackUUID: 610f068c-2737-4781-aca4-9cc078bb5b5e, multihash: QmPFctZkpp2RSZHo76u1aR5ZKmUFgLqoiUH5rhGkXTL2ZK, dstPath: /file_storage/QmPFctZkpp2RSZHo76u1aR5ZKmUFgLqoiUH5rhGkXTL2ZK
writing to db1...
Executing (b4a2e7b7-cfec-4034-8514-74b2c98ed3a7): START TRANSACTION;
Executing (b4a2e7b7-cfec-4034-8514-74b2c98ed3a7): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '4cefba97-54fc-4139-8819-795b47e681e0' AND "File"."multihash" = 'QmPFctZkpp2RSZHo76u1aR5ZKmUFgLqoiUH5rhGkXTL2ZK' AND "File"."sourceFile" = '358b7cb8-1a30-463d-b48f-6eb9933c65b2.mp3' AND "File"."storagePath" = '/file_storage/QmPFctZkpp2RSZHo76u1aR5ZKmUFgLqoiUH5rhGkXTL2ZK' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '610f068c-2737-4781-aca4-9cc078bb5b5e' LIMIT 1;
Executing (b4a2e7b7-cfec-4034-8514-74b2c98ed3a7): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_bc7f8aee96fa42f08992b0f63d7550d9$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('3ee1e0d3-2001-40f6-b3cf-b86ccea38d21','4cefba97-54fc-4139-8819-795b47e681e0','610f068c-2737-4781-aca4-9cc078bb5b5e','QmPFctZkpp2RSZHo76u1aR5ZKmUFgLqoiUH5rhGkXTL2ZK','358b7cb8-1a30-463d-b48f-6eb9933c65b2.mp3','/file_storage/QmPFctZkpp2RSZHo76u1aR5ZKmUFgLqoiUH5rhGkXTL2ZK','copy320','2020-03-05 17:35:41.918 +00:00','2020-03-05 17:35:41.918 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_bc7f8aee96fa42f08992b0f63d7550d9$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (b4a2e7b7-cfec-4034-8514-74b2c98ed3a7): COMMIT;
{ fileUUID: '3ee1e0d3-2001-40f6-b3cf-b86ccea38d21',
  cnodeUserUUID: '4cefba97-54fc-4139-8819-795b47e681e0',
  multihash: 'QmPFctZkpp2RSZHo76u1aR5ZKmUFgLqoiUH5rhGkXTL2ZK',
  sourceFile: '358b7cb8-1a30-463d-b48f-6eb9933c65b2.mp3',
  storagePath:
   '/file_storage/QmPFctZkpp2RSZHo76u1aR5ZKmUFgLqoiUH5rhGkXTL2ZK',
  type: 'copy320',
  trackUUID: '610f068c-2737-4781-aca4-9cc078bb5b5e',
  updatedAt: 2020-03-05T17:35:41.918Z,
  createdAt: 2020-03-05T17:35:41.918Z }
writing to db2...
Executing (f29d30d4-23d9-45c8-97dc-4a9197cb14c7): START TRANSACTION;
Executing (f29d30d4-23d9-45c8-97dc-4a9197cb14c7): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '4cefba97-54fc-4139-8819-795b47e681e0' AND "File"."multihash" = 'QmPFctZkpp2RSZHo76u1aR5ZKmUFgLqoiUH5rhGkXTL2ZK' AND "File"."sourceFile" = '358b7cb8-1a30-463d-b48f-6eb9933c65b2.mp3' AND "File"."storagePath" = '/file_storage/QmPFctZkpp2RSZHo76u1aR5ZKmUFgLqoiUH5rhGkXTL2ZK' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '610f068c-2737-4781-aca4-9cc078bb5b5e' LIMIT 1;
Executing (f29d30d4-23d9-45c8-97dc-4a9197cb14c7): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_307f7508046549dcb823f9501ee6c84f$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('fc28f5fe-28a6-464d-81a5-9590645b72c5','4cefba97-54fc-4139-8819-795b47e681e0','610f068c-2737-4781-aca4-9cc078bb5b5e','QmPFctZkpp2RSZHo76u1aR5ZKmUFgLqoiUH5rhGkXTL2ZK','358b7cb8-1a30-463d-b48f-6eb9933c65b2.mp3','/file_storage/QmPFctZkpp2RSZHo76u1aR5ZKmUFgLqoiUH5rhGkXTL2ZK','copy320','2020-03-05 17:35:42.317 +00:00','2020-03-05 17:35:42.317 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_307f7508046549dcb823f9501ee6c84f$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (f29d30d4-23d9-45c8-97dc-4a9197cb14c7): COMMIT;
{ fileUUID: 'fc28f5fe-28a6-464d-81a5-9590645b72c5',
  cnodeUserUUID: '4cefba97-54fc-4139-8819-795b47e681e0',
  multihash: 'QmPFctZkpp2RSZHo76u1aR5ZKmUFgLqoiUH5rhGkXTL2ZK',
  sourceFile: '358b7cb8-1a30-463d-b48f-6eb9933c65b2.mp3',
  storagePath:
   '/file_storage/QmPFctZkpp2RSZHo76u1aR5ZKmUFgLqoiUH5rhGkXTL2ZK',
  type: 'copy320',
  trackUUID: '610f068c-2737-4781-aca4-9cc078bb5b5e',
  updatedAt: 2020-03-05T17:35:42.317Z,
  createdAt: 2020-03-05T17:35:42.317Z }
writing to db3...
Executing (99e35359-4af6-4b1b-96d5-cb7c6cbdeb2d): START TRANSACTION;
Executing (99e35359-4af6-4b1b-96d5-cb7c6cbdeb2d): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '4cefba97-54fc-4139-8819-795b47e681e0' AND "File"."multihash" = 'QmPFctZkpp2RSZHo76u1aR5ZKmUFgLqoiUH5rhGkXTL2ZK' AND "File"."sourceFile" = '358b7cb8-1a30-463d-b48f-6eb9933c65b2.mp3' AND "File"."storagePath" = '/file_storage/QmPFctZkpp2RSZHo76u1aR5ZKmUFgLqoiUH5rhGkXTL2ZK' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '610f068c-2737-4781-aca4-9cc078bb5b5e' LIMIT 1;
Executing (99e35359-4af6-4b1b-96d5-cb7c6cbdeb2d): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_3649d5fbeed54a97b36a30530d671c06$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('64cb8dec-a36a-49e5-ae7a-accfd15130ff','4cefba97-54fc-4139-8819-795b47e681e0','610f068c-2737-4781-aca4-9cc078bb5b5e','QmPFctZkpp2RSZHo76u1aR5ZKmUFgLqoiUH5rhGkXTL2ZK','358b7cb8-1a30-463d-b48f-6eb9933c65b2.mp3','/file_storage/QmPFctZkpp2RSZHo76u1aR5ZKmUFgLqoiUH5rhGkXTL2ZK','copy320','2020-03-05 17:35:42.690 +00:00','2020-03-05 17:35:42.690 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_3649d5fbeed54a97b36a30530d671c06$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (99e35359-4af6-4b1b-96d5-cb7c6cbdeb2d): COMMIT;
{ SequelizeForeignKeyConstraintError: insert or update on table "Files" violates foreign key constraint "Files_trackUUID_fkey"
    at Query.formatError (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/sequelize/lib/dialects/postgres/query.js:296:16)
    at query.catch.err (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/sequelize/lib/dialects/postgres/query.js:86:18)
    at tryCatcher (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/bluebird/js/release/util.js:16:23)
    at Promise._settlePromiseFromHandler (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/bluebird/js/release/promise.js:517:31)
    at Promise._settlePromise (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/bluebird/js/release/promise.js:574:18)
    at Promise._settlePromise0 (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/bluebird/js/release/promise.js:619:10)
    at Promise._settlePromises (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/bluebird/js/release/promise.js:695:18)
    at _drainQueueStep (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/bluebird/js/release/async.js:138:12)
    at _drainQueue (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/bluebird/js/release/async.js:131:9)
    at Async._drainQueues (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/bluebird/js/release/async.js:147:5)
    at Immediate.Async.drainQueues [as _onImmediate] (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/bluebird/js/release/async.js:17:14)
    at runCallback (timers.js:705:18)
    at tryOnImmediate (timers.js:676:5)
    at processImmediate (timers.js:658:5)
  name: 'SequelizeForeignKeyConstraintError',
  parent:
   { error: insert or update on table "Files" violates foreign key constraint "Files_trackUUID_fkey"
       at Connection.parseE (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/pg/lib/connection.js:604:11)
       at Connection.parseMessage (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/pg/lib/connection.js:401:19)
       at Socket.<anonymous> (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/pg/lib/connection.js:121:22)
       at Socket.emit (events.js:198:13)
       at addChunk (_stream_readable.js:288:12)
       at readableAddChunk (_stream_readable.js:269:11)
       at Socket.Readable.push (_stream_readable.js:224:10)
       at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)
     name: 'error',
     length: 865,
     severity: 'ERROR',
     code: '23503',
     detail:
      'Key (trackUUID)=(610f068c-2737-4781-aca4-9cc078bb5b5e) is not present in table "Tracks".',
     hint: undefined,
     position: undefined,
     internalPosition: undefined,
     internalQuery: undefined,
     where:
      'SQL statement "INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES (\'64cb8dec-a36a-49e5-ae7a-accfd15130ff\',\'4cefba97-54fc-4139-8819-795b47e681e0\',\'610f068c-2737-4781-aca4-9cc078bb5b5e\',\'QmPFctZkpp2RSZHo76u1aR5ZKmUFgLqoiUH5rhGkXTL2ZK\',\'358b7cb8-1a30-463d-b48f-6eb9933c65b2.mp3\',\'/file_storage/QmPFctZkpp2RSZHo76u1aR5ZKmUFgLqoiUH5rhGkXTL2ZK\',\'copy320\',\'2020-03-05 17:35:42.690 +00:00\',\'2020-03-05 17:35:42.690 +00:00\') RETURNING *"\nPL/pgSQL function pg_temp_65.testfunc() line 1 at SQL statement',
     schema: 'public',
     table: 'Files',
     column: undefined,
     dataType: undefined,
     constraint: 'Files_trackUUID_fkey',
     file: 'ri_triggers.c',
     line: '2783',
     routine: 'ri_ReportViolation',
     sql:
      'CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_3649d5fbeed54a97b36a30530d671c06$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES (\'64cb8dec-a36a-49e5-ae7a-accfd15130ff\',\'4cefba97-54fc-4139-8819-795b47e681e0\',\'610f068c-2737-4781-aca4-9cc078bb5b5e\',\'QmPFctZkpp2RSZHo76u1aR5ZKmUFgLqoiUH5rhGkXTL2ZK\',\'358b7cb8-1a30-463d-b48f-6eb9933c65b2.mp3\',\'/file_storage/QmPFctZkpp2RSZHo76u1aR5ZKmUFgLqoiUH5rhGkXTL2ZK\',\'copy320\',\'2020-03-05 17:35:42.690 +00:00\',\'2020-03-05 17:35:42.690 +00:00\') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_3649d5fbeed54a97b36a30530d671c06$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();' },
  original:
   { error: insert or update on table "Files" violates foreign key constraint "Files_trackUUID_fkey"
       at Connection.parseE (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/pg/lib/connection.js:604:11)
       at Connection.parseMessage (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/pg/lib/connection.js:401:19)
       at Socket.<anonymous> (/Users/sid/Documents/Audius/code/audius/audius-protocol/creator-node/node_modules/pg/lib/connection.js:121:22)
       at Socket.emit (events.js:198:13)
       at addChunk (_stream_readable.js:288:12)
       at readableAddChunk (_stream_readable.js:269:11)
       at Socket.Readable.push (_stream_readable.js:224:10)
       at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)
     name: 'error',
     length: 865,
     severity: 'ERROR',
     code: '23503',
     detail:
      'Key (trackUUID)=(610f068c-2737-4781-aca4-9cc078bb5b5e) is not present in table "Tracks".',
     hint: undefined,
     position: undefined,
     internalPosition: undefined,
     internalQuery: undefined,
     where:
      'SQL statement "INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES (\'64cb8dec-a36a-49e5-ae7a-accfd15130ff\',\'4cefba97-54fc-4139-8819-795b47e681e0\',\'610f068c-2737-4781-aca4-9cc078bb5b5e\',\'QmPFctZkpp2RSZHo76u1aR5ZKmUFgLqoiUH5rhGkXTL2ZK\',\'358b7cb8-1a30-463d-b48f-6eb9933c65b2.mp3\',\'/file_storage/QmPFctZkpp2RSZHo76u1aR5ZKmUFgLqoiUH5rhGkXTL2ZK\',\'copy320\',\'2020-03-05 17:35:42.690 +00:00\',\'2020-03-05 17:35:42.690 +00:00\') RETURNING *"\nPL/pgSQL function pg_temp_65.testfunc() line 1 at SQL statement',
     schema: 'public',
     table: 'Files',
     column: undefined,
     dataType: undefined,
     constraint: 'Files_trackUUID_fkey',
     file: 'ri_triggers.c',
     line: '2783',
     routine: 'ri_ReportViolation',
     sql:
      'CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_3649d5fbeed54a97b36a30530d671c06$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES (\'64cb8dec-a36a-49e5-ae7a-accfd15130ff\',\'4cefba97-54fc-4139-8819-795b47e681e0\',\'610f068c-2737-4781-aca4-9cc078bb5b5e\',\'QmPFctZkpp2RSZHo76u1aR5ZKmUFgLqoiUH5rhGkXTL2ZK\',\'358b7cb8-1a30-463d-b48f-6eb9933c65b2.mp3\',\'/file_storage/QmPFctZkpp2RSZHo76u1aR5ZKmUFgLqoiUH5rhGkXTL2ZK\',\'copy320\',\'2020-03-05 17:35:42.690 +00:00\',\'2020-03-05 17:35:42.690 +00:00\') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_3649d5fbeed54a97b36a30530d671c06$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();' },
  sql:
   'CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_3649d5fbeed54a97b36a30530d671c06$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES (\'64cb8dec-a36a-49e5-ae7a-accfd15130ff\',\'4cefba97-54fc-4139-8819-795b47e681e0\',\'610f068c-2737-4781-aca4-9cc078bb5b5e\',\'QmPFctZkpp2RSZHo76u1aR5ZKmUFgLqoiUH5rhGkXTL2ZK\',\'358b7cb8-1a30-463d-b48f-6eb9933c65b2.mp3\',\'/file_storage/QmPFctZkpp2RSZHo76u1aR5ZKmUFgLqoiUH5rhGkXTL2ZK\',\'copy320\',\'2020-03-05 17:35:42.690 +00:00\',\'2020-03-05 17:35:42.690 +00:00\') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_3649d5fbeed54a97b36a30530d671c06$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();',
  fields: null,
  table: 'Files',
  value: undefined,
  index: 'Files_trackUUID_fkey',
  reltype: undefined }




PROCESSING ROW #202: sourcefile: 4d026ec3-9aaa-43e4-aa51-59b943c74bc6.mp3, cnodeUserUUID: 07f70e7c-b2ae-4d67-bfb3-6e33620531f3, trackUUID: 59681d17-3b96-4c5f-bd55-c90917984ec1, multihash: QmcqVytwhNSGmK7nd9oSRmNoZJd25cXGW2K3YkSH1UqVn5, dstPath: /file_storage/QmcqVytwhNSGmK7nd9oSRmNoZJd25cXGW2K3YkSH1UqVn5
writing to db1...
Executing (3a3738ef-ba82-4e77-affc-31ff6d87d666): START TRANSACTION;
Executing (3a3738ef-ba82-4e77-affc-31ff6d87d666): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '07f70e7c-b2ae-4d67-bfb3-6e33620531f3' AND "File"."multihash" = 'QmcqVytwhNSGmK7nd9oSRmNoZJd25cXGW2K3YkSH1UqVn5' AND "File"."sourceFile" = '4d026ec3-9aaa-43e4-aa51-59b943c74bc6.mp3' AND "File"."storagePath" = '/file_storage/QmcqVytwhNSGmK7nd9oSRmNoZJd25cXGW2K3YkSH1UqVn5' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '59681d17-3b96-4c5f-bd55-c90917984ec1' LIMIT 1;
Executing (3a3738ef-ba82-4e77-affc-31ff6d87d666): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_69aaed1d6cf84e76b34ccd82da53d7e2$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('0f258991-6be6-4e75-b0cb-cb07b6fef61a','07f70e7c-b2ae-4d67-bfb3-6e33620531f3','59681d17-3b96-4c5f-bd55-c90917984ec1','QmcqVytwhNSGmK7nd9oSRmNoZJd25cXGW2K3YkSH1UqVn5','4d026ec3-9aaa-43e4-aa51-59b943c74bc6.mp3','/file_storage/QmcqVytwhNSGmK7nd9oSRmNoZJd25cXGW2K3YkSH1UqVn5','copy320','2020-03-05 17:35:43.106 +00:00','2020-03-05 17:35:43.106 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_69aaed1d6cf84e76b34ccd82da53d7e2$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (3a3738ef-ba82-4e77-affc-31ff6d87d666): COMMIT;
{ fileUUID: '0f258991-6be6-4e75-b0cb-cb07b6fef61a',
  cnodeUserUUID: '07f70e7c-b2ae-4d67-bfb3-6e33620531f3',
  multihash: 'QmcqVytwhNSGmK7nd9oSRmNoZJd25cXGW2K3YkSH1UqVn5',
  sourceFile: '4d026ec3-9aaa-43e4-aa51-59b943c74bc6.mp3',
  storagePath:
   '/file_storage/QmcqVytwhNSGmK7nd9oSRmNoZJd25cXGW2K3YkSH1UqVn5',
  type: 'copy320',
  trackUUID: '59681d17-3b96-4c5f-bd55-c90917984ec1',
  updatedAt: 2020-03-05T17:35:43.106Z,
  createdAt: 2020-03-05T17:35:43.106Z }
writing to db2...
Executing (b850be36-7008-4f7e-ab39-85ca349e5e08): START TRANSACTION;
Executing (b850be36-7008-4f7e-ab39-85ca349e5e08): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '07f70e7c-b2ae-4d67-bfb3-6e33620531f3' AND "File"."multihash" = 'QmcqVytwhNSGmK7nd9oSRmNoZJd25cXGW2K3YkSH1UqVn5' AND "File"."sourceFile" = '4d026ec3-9aaa-43e4-aa51-59b943c74bc6.mp3' AND "File"."storagePath" = '/file_storage/QmcqVytwhNSGmK7nd9oSRmNoZJd25cXGW2K3YkSH1UqVn5' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '59681d17-3b96-4c5f-bd55-c90917984ec1' LIMIT 1;
Executing (b850be36-7008-4f7e-ab39-85ca349e5e08): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_171714be93dd441699b61e82f016ebf5$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('f5ed1723-48e9-4858-a5f2-3ba2b66c6e44','07f70e7c-b2ae-4d67-bfb3-6e33620531f3','59681d17-3b96-4c5f-bd55-c90917984ec1','QmcqVytwhNSGmK7nd9oSRmNoZJd25cXGW2K3YkSH1UqVn5','4d026ec3-9aaa-43e4-aa51-59b943c74bc6.mp3','/file_storage/QmcqVytwhNSGmK7nd9oSRmNoZJd25cXGW2K3YkSH1UqVn5','copy320','2020-03-05 17:35:43.485 +00:00','2020-03-05 17:35:43.485 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_171714be93dd441699b61e82f016ebf5$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (b850be36-7008-4f7e-ab39-85ca349e5e08): COMMIT;
{ fileUUID: 'f5ed1723-48e9-4858-a5f2-3ba2b66c6e44',
  cnodeUserUUID: '07f70e7c-b2ae-4d67-bfb3-6e33620531f3',
  multihash: 'QmcqVytwhNSGmK7nd9oSRmNoZJd25cXGW2K3YkSH1UqVn5',
  sourceFile: '4d026ec3-9aaa-43e4-aa51-59b943c74bc6.mp3',
  storagePath:
   '/file_storage/QmcqVytwhNSGmK7nd9oSRmNoZJd25cXGW2K3YkSH1UqVn5',
  type: 'copy320',
  trackUUID: '59681d17-3b96-4c5f-bd55-c90917984ec1',
  updatedAt: 2020-03-05T17:35:43.485Z,
  createdAt: 2020-03-05T17:35:43.485Z }
writing to db3...
Executing (9977c0ca-e2d3-4a78-a3b1-215ec3983ac4): START TRANSACTION;
Executing (9977c0ca-e2d3-4a78-a3b1-215ec3983ac4): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '07f70e7c-b2ae-4d67-bfb3-6e33620531f3' AND "File"."multihash" = 'QmcqVytwhNSGmK7nd9oSRmNoZJd25cXGW2K3YkSH1UqVn5' AND "File"."sourceFile" = '4d026ec3-9aaa-43e4-aa51-59b943c74bc6.mp3' AND "File"."storagePath" = '/file_storage/QmcqVytwhNSGmK7nd9oSRmNoZJd25cXGW2K3YkSH1UqVn5' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '59681d17-3b96-4c5f-bd55-c90917984ec1' LIMIT 1;
Executing (9977c0ca-e2d3-4a78-a3b1-215ec3983ac4): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_88cce7d723d34870abbc4082fe344e73$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('06f10ead-93bc-4916-99ef-cb648ed383f3','07f70e7c-b2ae-4d67-bfb3-6e33620531f3','59681d17-3b96-4c5f-bd55-c90917984ec1','QmcqVytwhNSGmK7nd9oSRmNoZJd25cXGW2K3YkSH1UqVn5','4d026ec3-9aaa-43e4-aa51-59b943c74bc6.mp3','/file_storage/QmcqVytwhNSGmK7nd9oSRmNoZJd25cXGW2K3YkSH1UqVn5','copy320','2020-03-05 17:35:43.876 +00:00','2020-03-05 17:35:43.876 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_88cce7d723d34870abbc4082fe344e73$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (9977c0ca-e2d3-4a78-a3b1-215ec3983ac4): COMMIT;
{ fileUUID: '06f10ead-93bc-4916-99ef-cb648ed383f3',
  cnodeUserUUID: '07f70e7c-b2ae-4d67-bfb3-6e33620531f3',
  multihash: 'QmcqVytwhNSGmK7nd9oSRmNoZJd25cXGW2K3YkSH1UqVn5',
  sourceFile: '4d026ec3-9aaa-43e4-aa51-59b943c74bc6.mp3',
  storagePath:
   '/file_storage/QmcqVytwhNSGmK7nd9oSRmNoZJd25cXGW2K3YkSH1UqVn5',
  type: 'copy320',
  trackUUID: '59681d17-3b96-4c5f-bd55-c90917984ec1',
  updatedAt: 2020-03-05T17:35:43.876Z,
  createdAt: 2020-03-05T17:35:43.876Z }




PROCESSING ROW #203: sourcefile: b6ec3b47-aab3-4d34-85a2-f66e3c94cea0.mp3, cnodeUserUUID: af1542a9-d388-4bca-a474-ea04074165c8, trackUUID: 8d66fcc1-1c92-4ff2-a912-74be0b5e40b8, multihash: QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM, dstPath: /file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM
writing to db1...
Executing (2b952ba2-26d6-4b7c-b164-90d0b8e23eec): START TRANSACTION;
Executing (2b952ba2-26d6-4b7c-b164-90d0b8e23eec): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = 'af1542a9-d388-4bca-a474-ea04074165c8' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = 'b6ec3b47-aab3-4d34-85a2-f66e3c94cea0.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '8d66fcc1-1c92-4ff2-a912-74be0b5e40b8' LIMIT 1;
Executing (2b952ba2-26d6-4b7c-b164-90d0b8e23eec): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_63fc67d590964de89fe6cdff8f6a7288$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('e88a1906-0e5f-443b-a48b-2f1cbbddff98','af1542a9-d388-4bca-a474-ea04074165c8','8d66fcc1-1c92-4ff2-a912-74be0b5e40b8','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','b6ec3b47-aab3-4d34-85a2-f66e3c94cea0.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:35:44.302 +00:00','2020-03-05 17:35:44.302 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_63fc67d590964de89fe6cdff8f6a7288$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (2b952ba2-26d6-4b7c-b164-90d0b8e23eec): COMMIT;
{ fileUUID: 'e88a1906-0e5f-443b-a48b-2f1cbbddff98',
  cnodeUserUUID: 'af1542a9-d388-4bca-a474-ea04074165c8',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: 'b6ec3b47-aab3-4d34-85a2-f66e3c94cea0.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: '8d66fcc1-1c92-4ff2-a912-74be0b5e40b8',
  updatedAt: 2020-03-05T17:35:44.302Z,
  createdAt: 2020-03-05T17:35:44.302Z }
writing to db2...
Executing (d605cda2-db5c-4e25-be9d-cde7fe226541): START TRANSACTION;
Executing (d605cda2-db5c-4e25-be9d-cde7fe226541): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = 'af1542a9-d388-4bca-a474-ea04074165c8' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = 'b6ec3b47-aab3-4d34-85a2-f66e3c94cea0.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '8d66fcc1-1c92-4ff2-a912-74be0b5e40b8' LIMIT 1;
Executing (d605cda2-db5c-4e25-be9d-cde7fe226541): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_7ce5c7628611430fa358f927781bb604$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('f7e9ed8b-06d0-43bd-abed-fbdf4ca81c40','af1542a9-d388-4bca-a474-ea04074165c8','8d66fcc1-1c92-4ff2-a912-74be0b5e40b8','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','b6ec3b47-aab3-4d34-85a2-f66e3c94cea0.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:35:44.701 +00:00','2020-03-05 17:35:44.701 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_7ce5c7628611430fa358f927781bb604$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (d605cda2-db5c-4e25-be9d-cde7fe226541): COMMIT;
{ fileUUID: 'f7e9ed8b-06d0-43bd-abed-fbdf4ca81c40',
  cnodeUserUUID: 'af1542a9-d388-4bca-a474-ea04074165c8',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: 'b6ec3b47-aab3-4d34-85a2-f66e3c94cea0.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: '8d66fcc1-1c92-4ff2-a912-74be0b5e40b8',
  updatedAt: 2020-03-05T17:35:44.701Z,
  createdAt: 2020-03-05T17:35:44.701Z }
writing to db3...
Executing (9b094df4-dc66-4975-945b-191eb895ac79): START TRANSACTION;
Executing (9b094df4-dc66-4975-945b-191eb895ac79): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = 'af1542a9-d388-4bca-a474-ea04074165c8' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = 'b6ec3b47-aab3-4d34-85a2-f66e3c94cea0.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '8d66fcc1-1c92-4ff2-a912-74be0b5e40b8' LIMIT 1;
Executing (9b094df4-dc66-4975-945b-191eb895ac79): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_78fed4f9b4df4fff8c074346d42dfb0c$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('7c89198b-9fe2-434f-9742-aa86e3a241ab','af1542a9-d388-4bca-a474-ea04074165c8','8d66fcc1-1c92-4ff2-a912-74be0b5e40b8','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','b6ec3b47-aab3-4d34-85a2-f66e3c94cea0.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:35:45.085 +00:00','2020-03-05 17:35:45.085 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_78fed4f9b4df4fff8c074346d42dfb0c$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (9b094df4-dc66-4975-945b-191eb895ac79): COMMIT;
{ fileUUID: '7c89198b-9fe2-434f-9742-aa86e3a241ab',
  cnodeUserUUID: 'af1542a9-d388-4bca-a474-ea04074165c8',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: 'b6ec3b47-aab3-4d34-85a2-f66e3c94cea0.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: '8d66fcc1-1c92-4ff2-a912-74be0b5e40b8',
  updatedAt: 2020-03-05T17:35:45.085Z,
  createdAt: 2020-03-05T17:35:45.085Z }




PROCESSING ROW #204: sourcefile: bcee6bb9-ecfb-4e5c-9018-be30ab67ad90.mp3, cnodeUserUUID: a4027f97-248a-4a97-8f0a-2c893e767ca1, trackUUID: bb6de633-fb27-456a-b446-f9812dee9d0e, multihash: QmQLrYxWsyByEU6EeojyZDDTWWujAnTzQhmGUc4tYqMhBU, dstPath: /file_storage/QmQLrYxWsyByEU6EeojyZDDTWWujAnTzQhmGUc4tYqMhBU
writing to db1...
Executing (a9d904d4-4248-404d-ab63-0fa44f4435ae): START TRANSACTION;
Executing (a9d904d4-4248-404d-ab63-0fa44f4435ae): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = 'a4027f97-248a-4a97-8f0a-2c893e767ca1' AND "File"."multihash" = 'QmQLrYxWsyByEU6EeojyZDDTWWujAnTzQhmGUc4tYqMhBU' AND "File"."sourceFile" = 'bcee6bb9-ecfb-4e5c-9018-be30ab67ad90.mp3' AND "File"."storagePath" = '/file_storage/QmQLrYxWsyByEU6EeojyZDDTWWujAnTzQhmGUc4tYqMhBU' AND "File"."type" = 'copy320' AND "File"."trackUUID" = 'bb6de633-fb27-456a-b446-f9812dee9d0e' LIMIT 1;
Executing (a9d904d4-4248-404d-ab63-0fa44f4435ae): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_963c4fdf347444f696d5c436a8624f33$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('eaa8c549-8ae1-45d4-b017-69e39cbaee71','a4027f97-248a-4a97-8f0a-2c893e767ca1','bb6de633-fb27-456a-b446-f9812dee9d0e','QmQLrYxWsyByEU6EeojyZDDTWWujAnTzQhmGUc4tYqMhBU','bcee6bb9-ecfb-4e5c-9018-be30ab67ad90.mp3','/file_storage/QmQLrYxWsyByEU6EeojyZDDTWWujAnTzQhmGUc4tYqMhBU','copy320','2020-03-05 17:35:45.475 +00:00','2020-03-05 17:35:45.475 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_963c4fdf347444f696d5c436a8624f33$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (a9d904d4-4248-404d-ab63-0fa44f4435ae): COMMIT;
{ fileUUID: 'eaa8c549-8ae1-45d4-b017-69e39cbaee71',
  cnodeUserUUID: 'a4027f97-248a-4a97-8f0a-2c893e767ca1',
  multihash: 'QmQLrYxWsyByEU6EeojyZDDTWWujAnTzQhmGUc4tYqMhBU',
  sourceFile: 'bcee6bb9-ecfb-4e5c-9018-be30ab67ad90.mp3',
  storagePath:
   '/file_storage/QmQLrYxWsyByEU6EeojyZDDTWWujAnTzQhmGUc4tYqMhBU',
  type: 'copy320',
  trackUUID: 'bb6de633-fb27-456a-b446-f9812dee9d0e',
  updatedAt: 2020-03-05T17:35:45.475Z,
  createdAt: 2020-03-05T17:35:45.475Z }
writing to db2...
Executing (8f11939d-9361-4188-8fa2-ec239ee6f0fc): START TRANSACTION;
Executing (8f11939d-9361-4188-8fa2-ec239ee6f0fc): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = 'a4027f97-248a-4a97-8f0a-2c893e767ca1' AND "File"."multihash" = 'QmQLrYxWsyByEU6EeojyZDDTWWujAnTzQhmGUc4tYqMhBU' AND "File"."sourceFile" = 'bcee6bb9-ecfb-4e5c-9018-be30ab67ad90.mp3' AND "File"."storagePath" = '/file_storage/QmQLrYxWsyByEU6EeojyZDDTWWujAnTzQhmGUc4tYqMhBU' AND "File"."type" = 'copy320' AND "File"."trackUUID" = 'bb6de633-fb27-456a-b446-f9812dee9d0e' LIMIT 1;
Executing (8f11939d-9361-4188-8fa2-ec239ee6f0fc): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_08fb4e9e9e0c4f02be1767a13e64a411$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('5a219354-07d4-4249-9fad-4aa1bf6f86cf','a4027f97-248a-4a97-8f0a-2c893e767ca1','bb6de633-fb27-456a-b446-f9812dee9d0e','QmQLrYxWsyByEU6EeojyZDDTWWujAnTzQhmGUc4tYqMhBU','bcee6bb9-ecfb-4e5c-9018-be30ab67ad90.mp3','/file_storage/QmQLrYxWsyByEU6EeojyZDDTWWujAnTzQhmGUc4tYqMhBU','copy320','2020-03-05 17:35:45.858 +00:00','2020-03-05 17:35:45.858 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_08fb4e9e9e0c4f02be1767a13e64a411$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (8f11939d-9361-4188-8fa2-ec239ee6f0fc): COMMIT;
{ fileUUID: '5a219354-07d4-4249-9fad-4aa1bf6f86cf',
  cnodeUserUUID: 'a4027f97-248a-4a97-8f0a-2c893e767ca1',
  multihash: 'QmQLrYxWsyByEU6EeojyZDDTWWujAnTzQhmGUc4tYqMhBU',
  sourceFile: 'bcee6bb9-ecfb-4e5c-9018-be30ab67ad90.mp3',
  storagePath:
   '/file_storage/QmQLrYxWsyByEU6EeojyZDDTWWujAnTzQhmGUc4tYqMhBU',
  type: 'copy320',
  trackUUID: 'bb6de633-fb27-456a-b446-f9812dee9d0e',
  updatedAt: 2020-03-05T17:35:45.858Z,
  createdAt: 2020-03-05T17:35:45.858Z }
writing to db3...
Executing (01546543-1e24-43dc-a00f-98b3886263e2): START TRANSACTION;
Executing (01546543-1e24-43dc-a00f-98b3886263e2): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = 'a4027f97-248a-4a97-8f0a-2c893e767ca1' AND "File"."multihash" = 'QmQLrYxWsyByEU6EeojyZDDTWWujAnTzQhmGUc4tYqMhBU' AND "File"."sourceFile" = 'bcee6bb9-ecfb-4e5c-9018-be30ab67ad90.mp3' AND "File"."storagePath" = '/file_storage/QmQLrYxWsyByEU6EeojyZDDTWWujAnTzQhmGUc4tYqMhBU' AND "File"."type" = 'copy320' AND "File"."trackUUID" = 'bb6de633-fb27-456a-b446-f9812dee9d0e' LIMIT 1;
Executing (01546543-1e24-43dc-a00f-98b3886263e2): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_01677d18cfcb4767b6da9325d27b8595$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('80c3deb3-853b-47f3-b66b-21aa941c276c','a4027f97-248a-4a97-8f0a-2c893e767ca1','bb6de633-fb27-456a-b446-f9812dee9d0e','QmQLrYxWsyByEU6EeojyZDDTWWujAnTzQhmGUc4tYqMhBU','bcee6bb9-ecfb-4e5c-9018-be30ab67ad90.mp3','/file_storage/QmQLrYxWsyByEU6EeojyZDDTWWujAnTzQhmGUc4tYqMhBU','copy320','2020-03-05 17:35:46.244 +00:00','2020-03-05 17:35:46.244 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_01677d18cfcb4767b6da9325d27b8595$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (01546543-1e24-43dc-a00f-98b3886263e2): COMMIT;
{ fileUUID: '80c3deb3-853b-47f3-b66b-21aa941c276c',
  cnodeUserUUID: 'a4027f97-248a-4a97-8f0a-2c893e767ca1',
  multihash: 'QmQLrYxWsyByEU6EeojyZDDTWWujAnTzQhmGUc4tYqMhBU',
  sourceFile: 'bcee6bb9-ecfb-4e5c-9018-be30ab67ad90.mp3',
  storagePath:
   '/file_storage/QmQLrYxWsyByEU6EeojyZDDTWWujAnTzQhmGUc4tYqMhBU',
  type: 'copy320',
  trackUUID: 'bb6de633-fb27-456a-b446-f9812dee9d0e',
  updatedAt: 2020-03-05T17:35:46.244Z,
  createdAt: 2020-03-05T17:35:46.244Z }




PROCESSING ROW #205: sourcefile: 1b481534-ef18-4943-9de2-b1237ae256a2.mp3, cnodeUserUUID: 6740f09b-feed-4e54-8f55-6a76fbfa26e3, trackUUID: 47dab060-d26d-45f2-bee7-13c125b8f495, multihash: QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM, dstPath: /file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM
writing to db1...
Executing (eed3b61f-04e1-4a42-ac64-0620fb4f5b2e): START TRANSACTION;
Executing (eed3b61f-04e1-4a42-ac64-0620fb4f5b2e): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '6740f09b-feed-4e54-8f55-6a76fbfa26e3' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = '1b481534-ef18-4943-9de2-b1237ae256a2.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '47dab060-d26d-45f2-bee7-13c125b8f495' LIMIT 1;
Executing (eed3b61f-04e1-4a42-ac64-0620fb4f5b2e): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_b06f66fe2acf4986b970095d8cf740d5$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('929c6c4d-8e4c-488b-adc6-d0be6049c534','6740f09b-feed-4e54-8f55-6a76fbfa26e3','47dab060-d26d-45f2-bee7-13c125b8f495','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','1b481534-ef18-4943-9de2-b1237ae256a2.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:35:46.651 +00:00','2020-03-05 17:35:46.651 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_b06f66fe2acf4986b970095d8cf740d5$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (eed3b61f-04e1-4a42-ac64-0620fb4f5b2e): COMMIT;
{ fileUUID: '929c6c4d-8e4c-488b-adc6-d0be6049c534',
  cnodeUserUUID: '6740f09b-feed-4e54-8f55-6a76fbfa26e3',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: '1b481534-ef18-4943-9de2-b1237ae256a2.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: '47dab060-d26d-45f2-bee7-13c125b8f495',
  updatedAt: 2020-03-05T17:35:46.651Z,
  createdAt: 2020-03-05T17:35:46.651Z }
writing to db2...
Executing (dd7eb65b-48e7-467a-932e-043b31a7aca2): START TRANSACTION;
Executing (dd7eb65b-48e7-467a-932e-043b31a7aca2): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '6740f09b-feed-4e54-8f55-6a76fbfa26e3' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = '1b481534-ef18-4943-9de2-b1237ae256a2.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '47dab060-d26d-45f2-bee7-13c125b8f495' LIMIT 1;
Executing (dd7eb65b-48e7-467a-932e-043b31a7aca2): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_df42fb32105149ff89f35838556c3134$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('9ea86057-d8d2-47ae-88f8-3b1b2d09d535','6740f09b-feed-4e54-8f55-6a76fbfa26e3','47dab060-d26d-45f2-bee7-13c125b8f495','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','1b481534-ef18-4943-9de2-b1237ae256a2.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:35:47.077 +00:00','2020-03-05 17:35:47.077 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_df42fb32105149ff89f35838556c3134$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (dd7eb65b-48e7-467a-932e-043b31a7aca2): COMMIT;
{ fileUUID: '9ea86057-d8d2-47ae-88f8-3b1b2d09d535',
  cnodeUserUUID: '6740f09b-feed-4e54-8f55-6a76fbfa26e3',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: '1b481534-ef18-4943-9de2-b1237ae256a2.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: '47dab060-d26d-45f2-bee7-13c125b8f495',
  updatedAt: 2020-03-05T17:35:47.077Z,
  createdAt: 2020-03-05T17:35:47.077Z }
writing to db3...
Executing (22923f57-e57e-4be7-bd31-22655f8e2b6e): START TRANSACTION;
Executing (22923f57-e57e-4be7-bd31-22655f8e2b6e): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '6740f09b-feed-4e54-8f55-6a76fbfa26e3' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = '1b481534-ef18-4943-9de2-b1237ae256a2.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '47dab060-d26d-45f2-bee7-13c125b8f495' LIMIT 1;
Executing (22923f57-e57e-4be7-bd31-22655f8e2b6e): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_bf4e2448f91a4283af42105da2edadab$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('cdaff045-ccac-4951-9d8a-e26c02899b99','6740f09b-feed-4e54-8f55-6a76fbfa26e3','47dab060-d26d-45f2-bee7-13c125b8f495','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','1b481534-ef18-4943-9de2-b1237ae256a2.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:35:47.479 +00:00','2020-03-05 17:35:47.479 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_bf4e2448f91a4283af42105da2edadab$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (22923f57-e57e-4be7-bd31-22655f8e2b6e): COMMIT;
{ fileUUID: 'cdaff045-ccac-4951-9d8a-e26c02899b99',
  cnodeUserUUID: '6740f09b-feed-4e54-8f55-6a76fbfa26e3',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: '1b481534-ef18-4943-9de2-b1237ae256a2.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: '47dab060-d26d-45f2-bee7-13c125b8f495',
  updatedAt: 2020-03-05T17:35:47.479Z,
  createdAt: 2020-03-05T17:35:47.479Z }




PROCESSING ROW #206: sourcefile: 48b3e87d-10a2-4859-abfb-9a0c81c52032.mp3, cnodeUserUUID: a4027f97-248a-4a97-8f0a-2c893e767ca1, trackUUID: bb6de633-fb27-456a-b446-f9812dee9d0e, multihash: QmQLrYxWsyByEU6EeojyZDDTWWujAnTzQhmGUc4tYqMhBU, dstPath: /file_storage/QmQLrYxWsyByEU6EeojyZDDTWWujAnTzQhmGUc4tYqMhBU
writing to db1...
Executing (a20762f6-b3d7-4104-aaa3-cb213271fddb): START TRANSACTION;
Executing (a20762f6-b3d7-4104-aaa3-cb213271fddb): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = 'a4027f97-248a-4a97-8f0a-2c893e767ca1' AND "File"."multihash" = 'QmQLrYxWsyByEU6EeojyZDDTWWujAnTzQhmGUc4tYqMhBU' AND "File"."sourceFile" = '48b3e87d-10a2-4859-abfb-9a0c81c52032.mp3' AND "File"."storagePath" = '/file_storage/QmQLrYxWsyByEU6EeojyZDDTWWujAnTzQhmGUc4tYqMhBU' AND "File"."type" = 'copy320' AND "File"."trackUUID" = 'bb6de633-fb27-456a-b446-f9812dee9d0e' LIMIT 1;
Executing (a20762f6-b3d7-4104-aaa3-cb213271fddb): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_15fe1f20107b45509217666dc10f9b5f$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('3b793c34-c8d3-45d3-8b5d-835c847731e5','a4027f97-248a-4a97-8f0a-2c893e767ca1','bb6de633-fb27-456a-b446-f9812dee9d0e','QmQLrYxWsyByEU6EeojyZDDTWWujAnTzQhmGUc4tYqMhBU','48b3e87d-10a2-4859-abfb-9a0c81c52032.mp3','/file_storage/QmQLrYxWsyByEU6EeojyZDDTWWujAnTzQhmGUc4tYqMhBU','copy320','2020-03-05 17:35:47.901 +00:00','2020-03-05 17:35:47.901 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_15fe1f20107b45509217666dc10f9b5f$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (a20762f6-b3d7-4104-aaa3-cb213271fddb): COMMIT;
{ fileUUID: '3b793c34-c8d3-45d3-8b5d-835c847731e5',
  cnodeUserUUID: 'a4027f97-248a-4a97-8f0a-2c893e767ca1',
  multihash: 'QmQLrYxWsyByEU6EeojyZDDTWWujAnTzQhmGUc4tYqMhBU',
  sourceFile: '48b3e87d-10a2-4859-abfb-9a0c81c52032.mp3',
  storagePath:
   '/file_storage/QmQLrYxWsyByEU6EeojyZDDTWWujAnTzQhmGUc4tYqMhBU',
  type: 'copy320',
  trackUUID: 'bb6de633-fb27-456a-b446-f9812dee9d0e',
  updatedAt: 2020-03-05T17:35:47.901Z,
  createdAt: 2020-03-05T17:35:47.901Z }
writing to db2...
Executing (fe2c51b4-89d1-4b51-9041-f7576a8b418f): START TRANSACTION;
Executing (fe2c51b4-89d1-4b51-9041-f7576a8b418f): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = 'a4027f97-248a-4a97-8f0a-2c893e767ca1' AND "File"."multihash" = 'QmQLrYxWsyByEU6EeojyZDDTWWujAnTzQhmGUc4tYqMhBU' AND "File"."sourceFile" = '48b3e87d-10a2-4859-abfb-9a0c81c52032.mp3' AND "File"."storagePath" = '/file_storage/QmQLrYxWsyByEU6EeojyZDDTWWujAnTzQhmGUc4tYqMhBU' AND "File"."type" = 'copy320' AND "File"."trackUUID" = 'bb6de633-fb27-456a-b446-f9812dee9d0e' LIMIT 1;
Executing (fe2c51b4-89d1-4b51-9041-f7576a8b418f): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_55edc5ecaae94b7eb88485e3bf58eac7$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('de4c2d46-c2c4-4d52-b461-4f0582b45f6e','a4027f97-248a-4a97-8f0a-2c893e767ca1','bb6de633-fb27-456a-b446-f9812dee9d0e','QmQLrYxWsyByEU6EeojyZDDTWWujAnTzQhmGUc4tYqMhBU','48b3e87d-10a2-4859-abfb-9a0c81c52032.mp3','/file_storage/QmQLrYxWsyByEU6EeojyZDDTWWujAnTzQhmGUc4tYqMhBU','copy320','2020-03-05 17:35:48.315 +00:00','2020-03-05 17:35:48.315 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_55edc5ecaae94b7eb88485e3bf58eac7$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (fe2c51b4-89d1-4b51-9041-f7576a8b418f): COMMIT;
{ fileUUID: 'de4c2d46-c2c4-4d52-b461-4f0582b45f6e',
  cnodeUserUUID: 'a4027f97-248a-4a97-8f0a-2c893e767ca1',
  multihash: 'QmQLrYxWsyByEU6EeojyZDDTWWujAnTzQhmGUc4tYqMhBU',
  sourceFile: '48b3e87d-10a2-4859-abfb-9a0c81c52032.mp3',
  storagePath:
   '/file_storage/QmQLrYxWsyByEU6EeojyZDDTWWujAnTzQhmGUc4tYqMhBU',
  type: 'copy320',
  trackUUID: 'bb6de633-fb27-456a-b446-f9812dee9d0e',
  updatedAt: 2020-03-05T17:35:48.315Z,
  createdAt: 2020-03-05T17:35:48.315Z }
writing to db3...
Executing (ba421e15-2730-4408-8e4b-452aa3202cc4): START TRANSACTION;
Executing (ba421e15-2730-4408-8e4b-452aa3202cc4): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = 'a4027f97-248a-4a97-8f0a-2c893e767ca1' AND "File"."multihash" = 'QmQLrYxWsyByEU6EeojyZDDTWWujAnTzQhmGUc4tYqMhBU' AND "File"."sourceFile" = '48b3e87d-10a2-4859-abfb-9a0c81c52032.mp3' AND "File"."storagePath" = '/file_storage/QmQLrYxWsyByEU6EeojyZDDTWWujAnTzQhmGUc4tYqMhBU' AND "File"."type" = 'copy320' AND "File"."trackUUID" = 'bb6de633-fb27-456a-b446-f9812dee9d0e' LIMIT 1;
Executing (ba421e15-2730-4408-8e4b-452aa3202cc4): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_749ae153e1564acba9a4c93567d976cc$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('285d56ab-3eb0-4ddf-9f50-644e01c31688','a4027f97-248a-4a97-8f0a-2c893e767ca1','bb6de633-fb27-456a-b446-f9812dee9d0e','QmQLrYxWsyByEU6EeojyZDDTWWujAnTzQhmGUc4tYqMhBU','48b3e87d-10a2-4859-abfb-9a0c81c52032.mp3','/file_storage/QmQLrYxWsyByEU6EeojyZDDTWWujAnTzQhmGUc4tYqMhBU','copy320','2020-03-05 17:35:48.737 +00:00','2020-03-05 17:35:48.737 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_749ae153e1564acba9a4c93567d976cc$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (ba421e15-2730-4408-8e4b-452aa3202cc4): COMMIT;
{ fileUUID: '285d56ab-3eb0-4ddf-9f50-644e01c31688',
  cnodeUserUUID: 'a4027f97-248a-4a97-8f0a-2c893e767ca1',
  multihash: 'QmQLrYxWsyByEU6EeojyZDDTWWujAnTzQhmGUc4tYqMhBU',
  sourceFile: '48b3e87d-10a2-4859-abfb-9a0c81c52032.mp3',
  storagePath:
   '/file_storage/QmQLrYxWsyByEU6EeojyZDDTWWujAnTzQhmGUc4tYqMhBU',
  type: 'copy320',
  trackUUID: 'bb6de633-fb27-456a-b446-f9812dee9d0e',
  updatedAt: 2020-03-05T17:35:48.737Z,
  createdAt: 2020-03-05T17:35:48.737Z }




PROCESSING ROW #207: sourcefile: dc45bc2d-0d06-4578-94fd-ab847cef1100.mp3, cnodeUserUUID: cdbc2b6e-ac84-4898-9de7-fcabf8f73203, trackUUID: 4bec38a7-0bfe-4d2c-b023-20bdac4e8321, multihash: QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM, dstPath: /file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM
writing to db1...
Executing (76750218-efd1-40c0-97da-dc58194f6e46): START TRANSACTION;
Executing (76750218-efd1-40c0-97da-dc58194f6e46): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = 'cdbc2b6e-ac84-4898-9de7-fcabf8f73203' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = 'dc45bc2d-0d06-4578-94fd-ab847cef1100.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '4bec38a7-0bfe-4d2c-b023-20bdac4e8321' LIMIT 1;
Executing (76750218-efd1-40c0-97da-dc58194f6e46): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_adce871803c741169ea31d2386e2b50b$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('b1f02ffd-812a-496b-882d-cdbadc808af1','cdbc2b6e-ac84-4898-9de7-fcabf8f73203','4bec38a7-0bfe-4d2c-b023-20bdac4e8321','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','dc45bc2d-0d06-4578-94fd-ab847cef1100.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:35:49.147 +00:00','2020-03-05 17:35:49.147 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_adce871803c741169ea31d2386e2b50b$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (76750218-efd1-40c0-97da-dc58194f6e46): COMMIT;
{ fileUUID: 'b1f02ffd-812a-496b-882d-cdbadc808af1',
  cnodeUserUUID: 'cdbc2b6e-ac84-4898-9de7-fcabf8f73203',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: 'dc45bc2d-0d06-4578-94fd-ab847cef1100.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: '4bec38a7-0bfe-4d2c-b023-20bdac4e8321',
  updatedAt: 2020-03-05T17:35:49.147Z,
  createdAt: 2020-03-05T17:35:49.147Z }
writing to db2...
Executing (0a27c999-86c6-4cdc-8f9a-4a0cee14ec77): START TRANSACTION;
Executing (0a27c999-86c6-4cdc-8f9a-4a0cee14ec77): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = 'cdbc2b6e-ac84-4898-9de7-fcabf8f73203' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = 'dc45bc2d-0d06-4578-94fd-ab847cef1100.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '4bec38a7-0bfe-4d2c-b023-20bdac4e8321' LIMIT 1;
Executing (0a27c999-86c6-4cdc-8f9a-4a0cee14ec77): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_e549d8a03d374ffc8fbafa558c4603a2$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('1b94e5c3-f71a-4286-9509-8e6782a66188','cdbc2b6e-ac84-4898-9de7-fcabf8f73203','4bec38a7-0bfe-4d2c-b023-20bdac4e8321','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','dc45bc2d-0d06-4578-94fd-ab847cef1100.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:35:49.578 +00:00','2020-03-05 17:35:49.578 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_e549d8a03d374ffc8fbafa558c4603a2$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (0a27c999-86c6-4cdc-8f9a-4a0cee14ec77): COMMIT;
{ fileUUID: '1b94e5c3-f71a-4286-9509-8e6782a66188',
  cnodeUserUUID: 'cdbc2b6e-ac84-4898-9de7-fcabf8f73203',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: 'dc45bc2d-0d06-4578-94fd-ab847cef1100.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: '4bec38a7-0bfe-4d2c-b023-20bdac4e8321',
  updatedAt: 2020-03-05T17:35:49.578Z,
  createdAt: 2020-03-05T17:35:49.578Z }
writing to db3...
Executing (0fbe6bb7-0dc6-4652-864e-efcf3c41cdd5): START TRANSACTION;
Executing (0fbe6bb7-0dc6-4652-864e-efcf3c41cdd5): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = 'cdbc2b6e-ac84-4898-9de7-fcabf8f73203' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = 'dc45bc2d-0d06-4578-94fd-ab847cef1100.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '4bec38a7-0bfe-4d2c-b023-20bdac4e8321' LIMIT 1;
Executing (0fbe6bb7-0dc6-4652-864e-efcf3c41cdd5): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_8efe10091e0349d2b75d5c015a97e3b5$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('a7f39d5a-9752-4f38-a6fc-d76421be3eca','cdbc2b6e-ac84-4898-9de7-fcabf8f73203','4bec38a7-0bfe-4d2c-b023-20bdac4e8321','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','dc45bc2d-0d06-4578-94fd-ab847cef1100.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:35:49.983 +00:00','2020-03-05 17:35:49.983 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_8efe10091e0349d2b75d5c015a97e3b5$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (0fbe6bb7-0dc6-4652-864e-efcf3c41cdd5): COMMIT;
{ fileUUID: 'a7f39d5a-9752-4f38-a6fc-d76421be3eca',
  cnodeUserUUID: 'cdbc2b6e-ac84-4898-9de7-fcabf8f73203',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: 'dc45bc2d-0d06-4578-94fd-ab847cef1100.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: '4bec38a7-0bfe-4d2c-b023-20bdac4e8321',
  updatedAt: 2020-03-05T17:35:49.983Z,
  createdAt: 2020-03-05T17:35:49.983Z }




PROCESSING ROW #208: sourcefile: e06dd5e1-c8b6-4279-b787-04ed69ce83d9.mp3, cnodeUserUUID: 8aefd2ee-77ea-4c0c-9ee3-cb64d794e399, trackUUID: b919436b-7587-404a-9e7b-41869cf87ed7, multihash: QmPyzFr5osEAZJ7K4W1hYaA86utW6jZfkpvKqmgEGM13Rt, dstPath: /file_storage/QmPyzFr5osEAZJ7K4W1hYaA86utW6jZfkpvKqmgEGM13Rt
writing to db1...
Executing (df8c8470-b3c4-4500-8bd4-a5acb0d65fd4): START TRANSACTION;
Executing (df8c8470-b3c4-4500-8bd4-a5acb0d65fd4): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '8aefd2ee-77ea-4c0c-9ee3-cb64d794e399' AND "File"."multihash" = 'QmPyzFr5osEAZJ7K4W1hYaA86utW6jZfkpvKqmgEGM13Rt' AND "File"."sourceFile" = 'e06dd5e1-c8b6-4279-b787-04ed69ce83d9.mp3' AND "File"."storagePath" = '/file_storage/QmPyzFr5osEAZJ7K4W1hYaA86utW6jZfkpvKqmgEGM13Rt' AND "File"."type" = 'copy320' AND "File"."trackUUID" = 'b919436b-7587-404a-9e7b-41869cf87ed7' LIMIT 1;
Executing (df8c8470-b3c4-4500-8bd4-a5acb0d65fd4): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_8c41a01a41fc466895c37badab75ddb5$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('5ce43b68-94cc-447e-8eae-aa99a757a6bc','8aefd2ee-77ea-4c0c-9ee3-cb64d794e399','b919436b-7587-404a-9e7b-41869cf87ed7','QmPyzFr5osEAZJ7K4W1hYaA86utW6jZfkpvKqmgEGM13Rt','e06dd5e1-c8b6-4279-b787-04ed69ce83d9.mp3','/file_storage/QmPyzFr5osEAZJ7K4W1hYaA86utW6jZfkpvKqmgEGM13Rt','copy320','2020-03-05 17:35:50.391 +00:00','2020-03-05 17:35:50.391 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_8c41a01a41fc466895c37badab75ddb5$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (df8c8470-b3c4-4500-8bd4-a5acb0d65fd4): COMMIT;
{ fileUUID: '5ce43b68-94cc-447e-8eae-aa99a757a6bc',
  cnodeUserUUID: '8aefd2ee-77ea-4c0c-9ee3-cb64d794e399',
  multihash: 'QmPyzFr5osEAZJ7K4W1hYaA86utW6jZfkpvKqmgEGM13Rt',
  sourceFile: 'e06dd5e1-c8b6-4279-b787-04ed69ce83d9.mp3',
  storagePath:
   '/file_storage/QmPyzFr5osEAZJ7K4W1hYaA86utW6jZfkpvKqmgEGM13Rt',
  type: 'copy320',
  trackUUID: 'b919436b-7587-404a-9e7b-41869cf87ed7',
  updatedAt: 2020-03-05T17:35:50.391Z,
  createdAt: 2020-03-05T17:35:50.391Z }
writing to db2...
Executing (8992a94f-ef2f-4fc2-94d8-d0707f37b14e): START TRANSACTION;
Executing (8992a94f-ef2f-4fc2-94d8-d0707f37b14e): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '8aefd2ee-77ea-4c0c-9ee3-cb64d794e399' AND "File"."multihash" = 'QmPyzFr5osEAZJ7K4W1hYaA86utW6jZfkpvKqmgEGM13Rt' AND "File"."sourceFile" = 'e06dd5e1-c8b6-4279-b787-04ed69ce83d9.mp3' AND "File"."storagePath" = '/file_storage/QmPyzFr5osEAZJ7K4W1hYaA86utW6jZfkpvKqmgEGM13Rt' AND "File"."type" = 'copy320' AND "File"."trackUUID" = 'b919436b-7587-404a-9e7b-41869cf87ed7' LIMIT 1;
Executing (8992a94f-ef2f-4fc2-94d8-d0707f37b14e): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_b05c0a63a4de42fc868b17a99f1cdbdf$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('ab8ce901-071e-451d-a050-c5ec2047083d','8aefd2ee-77ea-4c0c-9ee3-cb64d794e399','b919436b-7587-404a-9e7b-41869cf87ed7','QmPyzFr5osEAZJ7K4W1hYaA86utW6jZfkpvKqmgEGM13Rt','e06dd5e1-c8b6-4279-b787-04ed69ce83d9.mp3','/file_storage/QmPyzFr5osEAZJ7K4W1hYaA86utW6jZfkpvKqmgEGM13Rt','copy320','2020-03-05 17:35:50.782 +00:00','2020-03-05 17:35:50.782 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_b05c0a63a4de42fc868b17a99f1cdbdf$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (8992a94f-ef2f-4fc2-94d8-d0707f37b14e): COMMIT;
{ fileUUID: 'ab8ce901-071e-451d-a050-c5ec2047083d',
  cnodeUserUUID: '8aefd2ee-77ea-4c0c-9ee3-cb64d794e399',
  multihash: 'QmPyzFr5osEAZJ7K4W1hYaA86utW6jZfkpvKqmgEGM13Rt',
  sourceFile: 'e06dd5e1-c8b6-4279-b787-04ed69ce83d9.mp3',
  storagePath:
   '/file_storage/QmPyzFr5osEAZJ7K4W1hYaA86utW6jZfkpvKqmgEGM13Rt',
  type: 'copy320',
  trackUUID: 'b919436b-7587-404a-9e7b-41869cf87ed7',
  updatedAt: 2020-03-05T17:35:50.782Z,
  createdAt: 2020-03-05T17:35:50.782Z }
writing to db3...
Executing (c36be77a-0339-4f2e-a183-5b51555e687d): START TRANSACTION;
Executing (c36be77a-0339-4f2e-a183-5b51555e687d): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '8aefd2ee-77ea-4c0c-9ee3-cb64d794e399' AND "File"."multihash" = 'QmPyzFr5osEAZJ7K4W1hYaA86utW6jZfkpvKqmgEGM13Rt' AND "File"."sourceFile" = 'e06dd5e1-c8b6-4279-b787-04ed69ce83d9.mp3' AND "File"."storagePath" = '/file_storage/QmPyzFr5osEAZJ7K4W1hYaA86utW6jZfkpvKqmgEGM13Rt' AND "File"."type" = 'copy320' AND "File"."trackUUID" = 'b919436b-7587-404a-9e7b-41869cf87ed7' LIMIT 1;
Executing (c36be77a-0339-4f2e-a183-5b51555e687d): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_406daa1875d0481ebc36b2a2f50456e0$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('79090bb1-e9a1-4c76-9d73-bf6ec243102c','8aefd2ee-77ea-4c0c-9ee3-cb64d794e399','b919436b-7587-404a-9e7b-41869cf87ed7','QmPyzFr5osEAZJ7K4W1hYaA86utW6jZfkpvKqmgEGM13Rt','e06dd5e1-c8b6-4279-b787-04ed69ce83d9.mp3','/file_storage/QmPyzFr5osEAZJ7K4W1hYaA86utW6jZfkpvKqmgEGM13Rt','copy320','2020-03-05 17:35:51.218 +00:00','2020-03-05 17:35:51.218 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_406daa1875d0481ebc36b2a2f50456e0$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (c36be77a-0339-4f2e-a183-5b51555e687d): COMMIT;
{ fileUUID: '79090bb1-e9a1-4c76-9d73-bf6ec243102c',
  cnodeUserUUID: '8aefd2ee-77ea-4c0c-9ee3-cb64d794e399',
  multihash: 'QmPyzFr5osEAZJ7K4W1hYaA86utW6jZfkpvKqmgEGM13Rt',
  sourceFile: 'e06dd5e1-c8b6-4279-b787-04ed69ce83d9.mp3',
  storagePath:
   '/file_storage/QmPyzFr5osEAZJ7K4W1hYaA86utW6jZfkpvKqmgEGM13Rt',
  type: 'copy320',
  trackUUID: 'b919436b-7587-404a-9e7b-41869cf87ed7',
  updatedAt: 2020-03-05T17:35:51.218Z,
  createdAt: 2020-03-05T17:35:51.218Z }




PROCESSING ROW #209: sourcefile: 80ac39b9-de84-4a6f-b7d3-7efcd13ca8ad.mp3, cnodeUserUUID: 54a7f24c-3067-4ffc-8ec7-118c70ac662c, trackUUID: 9cf1ca03-b723-45f3-9134-1c5139084a71, multihash: QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM, dstPath: /file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM
writing to db1...
Executing (61c04d45-b288-44f9-9599-5605922d0fe5): START TRANSACTION;
Executing (61c04d45-b288-44f9-9599-5605922d0fe5): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '54a7f24c-3067-4ffc-8ec7-118c70ac662c' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = '80ac39b9-de84-4a6f-b7d3-7efcd13ca8ad.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '9cf1ca03-b723-45f3-9134-1c5139084a71' LIMIT 1;
Executing (61c04d45-b288-44f9-9599-5605922d0fe5): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_484b3fb1dc3c4d97a6b067d97d6b054d$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('4bd1e1b5-5307-481e-a8fc-ee1d1549d88f','54a7f24c-3067-4ffc-8ec7-118c70ac662c','9cf1ca03-b723-45f3-9134-1c5139084a71','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','80ac39b9-de84-4a6f-b7d3-7efcd13ca8ad.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:35:51.645 +00:00','2020-03-05 17:35:51.645 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_484b3fb1dc3c4d97a6b067d97d6b054d$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (61c04d45-b288-44f9-9599-5605922d0fe5): COMMIT;
{ fileUUID: '4bd1e1b5-5307-481e-a8fc-ee1d1549d88f',
  cnodeUserUUID: '54a7f24c-3067-4ffc-8ec7-118c70ac662c',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: '80ac39b9-de84-4a6f-b7d3-7efcd13ca8ad.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: '9cf1ca03-b723-45f3-9134-1c5139084a71',
  updatedAt: 2020-03-05T17:35:51.645Z,
  createdAt: 2020-03-05T17:35:51.645Z }
writing to db2...
Executing (b551ef10-52d6-4c72-abf1-49c20ebfdee9): START TRANSACTION;
Executing (b551ef10-52d6-4c72-abf1-49c20ebfdee9): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '54a7f24c-3067-4ffc-8ec7-118c70ac662c' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = '80ac39b9-de84-4a6f-b7d3-7efcd13ca8ad.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '9cf1ca03-b723-45f3-9134-1c5139084a71' LIMIT 1;
Executing (b551ef10-52d6-4c72-abf1-49c20ebfdee9): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_9ec6e6bda5b343fbb54a9774050d06db$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('24249816-882b-4e06-81a9-3fbf01e8239c','54a7f24c-3067-4ffc-8ec7-118c70ac662c','9cf1ca03-b723-45f3-9134-1c5139084a71','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','80ac39b9-de84-4a6f-b7d3-7efcd13ca8ad.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:35:52.049 +00:00','2020-03-05 17:35:52.049 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_9ec6e6bda5b343fbb54a9774050d06db$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (b551ef10-52d6-4c72-abf1-49c20ebfdee9): COMMIT;
{ fileUUID: '24249816-882b-4e06-81a9-3fbf01e8239c',
  cnodeUserUUID: '54a7f24c-3067-4ffc-8ec7-118c70ac662c',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: '80ac39b9-de84-4a6f-b7d3-7efcd13ca8ad.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: '9cf1ca03-b723-45f3-9134-1c5139084a71',
  updatedAt: 2020-03-05T17:35:52.049Z,
  createdAt: 2020-03-05T17:35:52.049Z }
writing to db3...
Executing (e8ab7478-536e-443c-8ea3-31999e67b2b1): START TRANSACTION;
Executing (e8ab7478-536e-443c-8ea3-31999e67b2b1): SELECT "fileUUID", "cnodeUserUUID", "trackUUID", "multihash", "sourceFile", "storagePath", "type", "createdAt", "updatedAt" FROM "Files" AS "File" WHERE "File"."cnodeUserUUID" = '54a7f24c-3067-4ffc-8ec7-118c70ac662c' AND "File"."multihash" = 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."sourceFile" = '80ac39b9-de84-4a6f-b7d3-7efcd13ca8ad.mp3' AND "File"."storagePath" = '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM' AND "File"."type" = 'copy320' AND "File"."trackUUID" = '9cf1ca03-b723-45f3-9134-1c5139084a71' LIMIT 1;
Executing (e8ab7478-536e-443c-8ea3-31999e67b2b1): CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response "Files", OUT sequelize_caught_exception text) RETURNS RECORD AS $func_d29409ef4d07493d838cdf4490982c40$ BEGIN INSERT INTO "Files" ("fileUUID","cnodeUserUUID","trackUUID","multihash","sourceFile","storagePath","type","createdAt","updatedAt") VALUES ('a4061264-1dc8-4d8f-b4c9-9f9b64e81407','54a7f24c-3067-4ffc-8ec7-118c70ac662c','9cf1ca03-b723-45f3-9134-1c5139084a71','QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','80ac39b9-de84-4a6f-b7d3-7efcd13ca8ad.mp3','/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM','copy320','2020-03-05 17:35:52.455 +00:00','2020-03-05 17:35:52.455 +00:00') RETURNING * INTO response; EXCEPTION WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL; END $func_d29409ef4d07493d838cdf4490982c40$ LANGUAGE plpgsql; SELECT (testfunc.response).*, testfunc.sequelize_caught_exception FROM pg_temp.testfunc(); DROP FUNCTION IF EXISTS pg_temp.testfunc();
Executing (e8ab7478-536e-443c-8ea3-31999e67b2b1): COMMIT;
{ fileUUID: 'a4061264-1dc8-4d8f-b4c9-9f9b64e81407',
  cnodeUserUUID: '54a7f24c-3067-4ffc-8ec7-118c70ac662c',
  multihash: 'QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  sourceFile: '80ac39b9-de84-4a6f-b7d3-7efcd13ca8ad.mp3',
  storagePath:
   '/file_storage/QmW9a4PbSKnEboFtVbcNADA3DaPbzgEtsguoPHj63zFGkM',
  type: 'copy320',
  trackUUID: '9cf1ca03-b723-45f3-9134-1c5139084a71',
  updatedAt: 2020-03-05T17:35:52.455Z,
  createdAt: 2020-03-05T17:35:52.455Z }
Exiting...
